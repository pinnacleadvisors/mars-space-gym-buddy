function BO(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Xl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function gG(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var eb={exports:{}},np={},tb={exports:{}},cr={};var Ej;function vG(){if(Ej)return cr;Ej=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function b(ie){return ie===null||typeof ie!="object"?null:(ie=v&&ie[v]||ie["@@iterator"],typeof ie=="function"?ie:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,E={};function C(ie,le,we){this.props=ie,this.context=le,this.refs=E,this.updater=we||S}C.prototype.isReactComponent={},C.prototype.setState=function(ie,le){if(typeof ie!="object"&&typeof ie!="function"&&ie!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ie,le,"setState")},C.prototype.forceUpdate=function(ie){this.updater.enqueueForceUpdate(this,ie,"forceUpdate")};function j(){}j.prototype=C.prototype;function P(ie,le,we){this.props=ie,this.context=le,this.refs=E,this.updater=we||S}var I=P.prototype=new j;I.constructor=P,O(I,C.prototype),I.isPureReactComponent=!0;var F=Array.isArray,R=Object.prototype.hasOwnProperty,M={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function q(ie,le,we){var ke,qe={},je=null,Te=null;if(le!=null)for(ke in le.ref!==void 0&&(Te=le.ref),le.key!==void 0&&(je=""+le.key),le)R.call(le,ke)&&!B.hasOwnProperty(ke)&&(qe[ke]=le[ke]);var De=arguments.length-2;if(De===1)qe.children=we;else if(1<De){for(var Ne=Array(De),Le=0;Le<De;Le++)Ne[Le]=arguments[Le+2];qe.children=Ne}if(ie&&ie.defaultProps)for(ke in De=ie.defaultProps,De)qe[ke]===void 0&&(qe[ke]=De[ke]);return{$$typeof:t,type:ie,key:je,ref:Te,props:qe,_owner:M.current}}function U(ie,le){return{$$typeof:t,type:ie.type,key:le,ref:ie.ref,props:ie.props,_owner:ie._owner}}function z(ie){return typeof ie=="object"&&ie!==null&&ie.$$typeof===t}function G(ie){var le={"=":"=0",":":"=2"};return"$"+ie.replace(/[=:]/g,function(we){return le[we]})}var W=/\/+/g;function H(ie,le){return typeof ie=="object"&&ie!==null&&ie.key!=null?G(""+ie.key):le.toString(36)}function Q(ie,le,we,ke,qe){var je=typeof ie;(je==="undefined"||je==="boolean")&&(ie=null);var Te=!1;if(ie===null)Te=!0;else switch(je){case"string":case"number":Te=!0;break;case"object":switch(ie.$$typeof){case t:case e:Te=!0}}if(Te)return Te=ie,qe=qe(Te),ie=ke===""?"."+H(Te,0):ke,F(qe)?(we="",ie!=null&&(we=ie.replace(W,"$&/")+"/"),Q(qe,le,we,"",function(Le){return Le})):qe!=null&&(z(qe)&&(qe=U(qe,we+(!qe.key||Te&&Te.key===qe.key?"":(""+qe.key).replace(W,"$&/")+"/")+ie)),le.push(qe)),1;if(Te=0,ke=ke===""?".":ke+":",F(ie))for(var De=0;De<ie.length;De++){je=ie[De];var Ne=ke+H(je,De);Te+=Q(je,le,we,Ne,qe)}else if(Ne=b(ie),typeof Ne=="function")for(ie=Ne.call(ie),De=0;!(je=ie.next()).done;)je=je.value,Ne=ke+H(je,De++),Te+=Q(je,le,we,Ne,qe);else if(je==="object")throw le=String(ie),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(ie).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.");return Te}function X(ie,le,we){if(ie==null)return ie;var ke=[],qe=0;return Q(ie,ke,"","",function(je){return le.call(we,je,qe++)}),ke}function se(ie){if(ie._status===-1){var le=ie._result;le=le(),le.then(function(we){(ie._status===0||ie._status===-1)&&(ie._status=1,ie._result=we)},function(we){(ie._status===0||ie._status===-1)&&(ie._status=2,ie._result=we)}),ie._status===-1&&(ie._status=0,ie._result=le)}if(ie._status===1)return ie._result.default;throw ie._result}var ne={current:null},re={transition:null},J={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:re,ReactCurrentOwner:M};function he(){throw Error("act(...) is not supported in production builds of React.")}return cr.Children={map:X,forEach:function(ie,le,we){X(ie,function(){le.apply(this,arguments)},we)},count:function(ie){var le=0;return X(ie,function(){le++}),le},toArray:function(ie){return X(ie,function(le){return le})||[]},only:function(ie){if(!z(ie))throw Error("React.Children.only expected to receive a single React element child.");return ie}},cr.Component=C,cr.Fragment=r,cr.Profiler=i,cr.PureComponent=P,cr.StrictMode=n,cr.Suspense=d,cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,cr.act=he,cr.cloneElement=function(ie,le,we){if(ie==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ie+".");var ke=O({},ie.props),qe=ie.key,je=ie.ref,Te=ie._owner;if(le!=null){if(le.ref!==void 0&&(je=le.ref,Te=M.current),le.key!==void 0&&(qe=""+le.key),ie.type&&ie.type.defaultProps)var De=ie.type.defaultProps;for(Ne in le)R.call(le,Ne)&&!B.hasOwnProperty(Ne)&&(ke[Ne]=le[Ne]===void 0&&De!==void 0?De[Ne]:le[Ne])}var Ne=arguments.length-2;if(Ne===1)ke.children=we;else if(1<Ne){De=Array(Ne);for(var Le=0;Le<Ne;Le++)De[Le]=arguments[Le+2];ke.children=De}return{$$typeof:t,type:ie.type,key:qe,ref:je,props:ke,_owner:Te}},cr.createContext=function(ie){return ie={$$typeof:s,_currentValue:ie,_currentValue2:ie,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ie.Provider={$$typeof:a,_context:ie},ie.Consumer=ie},cr.createElement=q,cr.createFactory=function(ie){var le=q.bind(null,ie);return le.type=ie,le},cr.createRef=function(){return{current:null}},cr.forwardRef=function(ie){return{$$typeof:l,render:ie}},cr.isValidElement=z,cr.lazy=function(ie){return{$$typeof:g,_payload:{_status:-1,_result:ie},_init:se}},cr.memo=function(ie,le){return{$$typeof:h,type:ie,compare:le===void 0?null:le}},cr.startTransition=function(ie){var le=re.transition;re.transition={};try{ie()}finally{re.transition=le}},cr.unstable_act=he,cr.useCallback=function(ie,le){return ne.current.useCallback(ie,le)},cr.useContext=function(ie){return ne.current.useContext(ie)},cr.useDebugValue=function(){},cr.useDeferredValue=function(ie){return ne.current.useDeferredValue(ie)},cr.useEffect=function(ie,le){return ne.current.useEffect(ie,le)},cr.useId=function(){return ne.current.useId()},cr.useImperativeHandle=function(ie,le,we){return ne.current.useImperativeHandle(ie,le,we)},cr.useInsertionEffect=function(ie,le){return ne.current.useInsertionEffect(ie,le)},cr.useLayoutEffect=function(ie,le){return ne.current.useLayoutEffect(ie,le)},cr.useMemo=function(ie,le){return ne.current.useMemo(ie,le)},cr.useReducer=function(ie,le,we){return ne.current.useReducer(ie,le,we)},cr.useRef=function(ie){return ne.current.useRef(ie)},cr.useState=function(ie){return ne.current.useState(ie)},cr.useSyncExternalStore=function(ie,le,we){return ne.current.useSyncExternalStore(ie,le,we)},cr.useTransition=function(){return ne.current.useTransition()},cr.version="18.3.1",cr}var Cj;function c1(){return Cj||(Cj=1,tb.exports=vG()),tb.exports}var Aj;function yG(){if(Aj)return np;Aj=1;var t=c1(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(l,d,h){var g,v={},b=null,S=null;h!==void 0&&(b=""+h),d.key!==void 0&&(b=""+d.key),d.ref!==void 0&&(S=d.ref);for(g in d)n.call(d,g)&&!a.hasOwnProperty(g)&&(v[g]=d[g]);if(l&&l.defaultProps)for(g in d=l.defaultProps,d)v[g]===void 0&&(v[g]=d[g]);return{$$typeof:e,type:l,key:b,ref:S,props:v,_owner:i.current}}return np.Fragment=r,np.jsx=s,np.jsxs=s,np}var Oj;function xG(){return Oj||(Oj=1,eb.exports=yG()),eb.exports}var f=xG(),k0={},rb={exports:{}},la={},nb={exports:{}},ib={};var Tj;function wG(){return Tj||(Tj=1,(function(t){function e(re,J){var he=re.length;re.push(J);e:for(;0<he;){var ie=he-1>>>1,le=re[ie];if(0<i(le,J))re[ie]=J,re[he]=le,he=ie;else break e}}function r(re){return re.length===0?null:re[0]}function n(re){if(re.length===0)return null;var J=re[0],he=re.pop();if(he!==J){re[0]=he;e:for(var ie=0,le=re.length,we=le>>>1;ie<we;){var ke=2*(ie+1)-1,qe=re[ke],je=ke+1,Te=re[je];if(0>i(qe,he))je<le&&0>i(Te,qe)?(re[ie]=Te,re[je]=he,ie=je):(re[ie]=qe,re[ke]=he,ie=ke);else if(je<le&&0>i(Te,he))re[ie]=Te,re[je]=he,ie=je;else break e}}return J}function i(re,J){var he=re.sortIndex-J.sortIndex;return he!==0?he:re.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var d=[],h=[],g=1,v=null,b=3,S=!1,O=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(re){for(var J=r(h);J!==null;){if(J.callback===null)n(h);else if(J.startTime<=re)n(h),J.sortIndex=J.expirationTime,e(d,J);else break;J=r(h)}}function F(re){if(E=!1,I(re),!O)if(r(d)!==null)O=!0,se(R);else{var J=r(h);J!==null&&ne(F,J.startTime-re)}}function R(re,J){O=!1,E&&(E=!1,j(q),q=-1),S=!0;var he=b;try{for(I(J),v=r(d);v!==null&&(!(v.expirationTime>J)||re&&!G());){var ie=v.callback;if(typeof ie=="function"){v.callback=null,b=v.priorityLevel;var le=ie(v.expirationTime<=J);J=t.unstable_now(),typeof le=="function"?v.callback=le:v===r(d)&&n(d),I(J)}else n(d);v=r(d)}if(v!==null)var we=!0;else{var ke=r(h);ke!==null&&ne(F,ke.startTime-J),we=!1}return we}finally{v=null,b=he,S=!1}}var M=!1,B=null,q=-1,U=5,z=-1;function G(){return!(t.unstable_now()-z<U)}function W(){if(B!==null){var re=t.unstable_now();z=re;var J=!0;try{J=B(!0,re)}finally{J?H():(M=!1,B=null)}}else M=!1}var H;if(typeof P=="function")H=function(){P(W)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,X=Q.port2;Q.port1.onmessage=W,H=function(){X.postMessage(null)}}else H=function(){C(W,0)};function se(re){B=re,M||(M=!0,H())}function ne(re,J){q=C(function(){re(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){O||S||(O=!0,se(R))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(re){switch(b){case 1:case 2:case 3:var J=3;break;default:J=b}var he=b;b=J;try{return re()}finally{b=he}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,J){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var he=b;b=re;try{return J()}finally{b=he}},t.unstable_scheduleCallback=function(re,J,he){var ie=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ie+he:ie):he=ie,re){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=he+le,re={id:g++,callback:J,priorityLevel:re,startTime:he,expirationTime:le,sortIndex:-1},he>ie?(re.sortIndex=he,e(h,re),r(d)===null&&re===r(h)&&(E?(j(q),q=-1):E=!0,ne(F,he-ie))):(re.sortIndex=le,e(d,re),O||S||(O=!0,se(R))),re},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(re){var J=b;return function(){var he=b;b=J;try{return re.apply(this,arguments)}finally{b=he}}}})(ib)),ib}var Nj;function bG(){return Nj||(Nj=1,nb.exports=wG()),nb.exports}var kj;function _G(){if(kj)return la;kj=1;var t=c1(),e=bG();function r(c){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+c,_=1;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+c+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(c,m){s(c,m),s(c+"Capture",m)}function s(c,m){for(i[c]=m,c=0;c<m.length;c++)n.add(m[c])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function b(c){return d.call(v,c)?!0:d.call(g,c)?!1:h.test(c)?v[c]=!0:(g[c]=!0,!1)}function S(c,m,_,T){if(_!==null&&_.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return T?!1:_!==null?!_.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function O(c,m,_,T){if(m===null||typeof m>"u"||S(c,m,_,T))return!0;if(T)return!1;if(_!==null)switch(_.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function E(c,m,_,T,L,$,Z){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=T,this.attributeNamespace=L,this.mustUseProperty=_,this.propertyName=c,this.type=m,this.sanitizeURL=$,this.removeEmptyString=Z}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){C[c]=new E(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var m=c[0];C[m]=new E(m,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){C[c]=new E(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){C[c]=new E(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){C[c]=new E(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){C[c]=new E(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){C[c]=new E(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){C[c]=new E(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){C[c]=new E(c,5,!1,c.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function P(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var m=c.replace(j,P);C[m]=new E(m,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var m=c.replace(j,P);C[m]=new E(m,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var m=c.replace(j,P);C[m]=new E(m,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){C[c]=new E(c,1,!1,c.toLowerCase(),null,!1,!1)}),C.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){C[c]=new E(c,1,!1,c.toLowerCase(),null,!0,!0)});function I(c,m,_,T){var L=C.hasOwnProperty(m)?C[m]:null;(L!==null?L.type!==0:T||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(O(m,_,L,T)&&(_=null),T||L===null?b(m)&&(_===null?c.removeAttribute(m):c.setAttribute(m,""+_)):L.mustUseProperty?c[L.propertyName]=_===null?L.type===3?!1:"":_:(m=L.attributeName,T=L.attributeNamespace,_===null?c.removeAttribute(m):(L=L.type,_=L===3||L===4&&_===!0?"":""+_,T?c.setAttributeNS(T,m,_):c.setAttribute(m,_))))}var F=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),M=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),G=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),re=Symbol.iterator;function J(c){return c===null||typeof c!="object"?null:(c=re&&c[re]||c["@@iterator"],typeof c=="function"?c:null)}var he=Object.assign,ie;function le(c){if(ie===void 0)try{throw Error()}catch(_){var m=_.stack.trim().match(/\n( *(at )?)/);ie=m&&m[1]||""}return`
`+ie+c}var we=!1;function ke(c,m){if(!c||we)return"";we=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(Oe){var T=Oe}Reflect.construct(c,[],m)}else{try{m.call()}catch(Oe){T=Oe}c.call(m.prototype)}else{try{throw Error()}catch(Oe){T=Oe}c()}}catch(Oe){if(Oe&&T&&typeof Oe.stack=="string"){for(var L=Oe.stack.split(`
`),$=T.stack.split(`
`),Z=L.length-1,ce=$.length-1;1<=Z&&0<=ce&&L[Z]!==$[ce];)ce--;for(;1<=Z&&0<=ce;Z--,ce--)if(L[Z]!==$[ce]){if(Z!==1||ce!==1)do if(Z--,ce--,0>ce||L[Z]!==$[ce]){var me=`
`+L[Z].replace(" at new "," at ");return c.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",c.displayName)),me}while(1<=Z&&0<=ce);break}}}finally{we=!1,Error.prepareStackTrace=_}return(c=c?c.displayName||c.name:"")?le(c):""}function qe(c){switch(c.tag){case 5:return le(c.type);case 16:return le("Lazy");case 13:return le("Suspense");case 19:return le("SuspenseList");case 0:case 2:case 15:return c=ke(c.type,!1),c;case 11:return c=ke(c.type.render,!1),c;case 1:return c=ke(c.type,!0),c;default:return""}}function je(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case B:return"Fragment";case M:return"Portal";case U:return"Profiler";case q:return"StrictMode";case H:return"Suspense";case Q:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case G:return(c.displayName||"Context")+".Consumer";case z:return(c._context.displayName||"Context")+".Provider";case W:var m=c.render;return c=c.displayName,c||(c=m.displayName||m.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case X:return m=c.displayName||null,m!==null?m:je(c.type)||"Memo";case se:m=c._payload,c=c._init;try{return je(c(m))}catch{}}return null}function Te(c){var m=c.type;switch(c.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=m.render,c=c.displayName||c.name||"",m.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(m);case 8:return m===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function De(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Ne(c){var m=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function Le(c){var m=Ne(c)?"checked":"value",_=Object.getOwnPropertyDescriptor(c.constructor.prototype,m),T=""+c[m];if(!c.hasOwnProperty(m)&&typeof _<"u"&&typeof _.get=="function"&&typeof _.set=="function"){var L=_.get,$=_.set;return Object.defineProperty(c,m,{configurable:!0,get:function(){return L.call(this)},set:function(Z){T=""+Z,$.call(this,Z)}}),Object.defineProperty(c,m,{enumerable:_.enumerable}),{getValue:function(){return T},setValue:function(Z){T=""+Z},stopTracking:function(){c._valueTracker=null,delete c[m]}}}}function ue(c){c._valueTracker||(c._valueTracker=Le(c))}function ve(c){if(!c)return!1;var m=c._valueTracker;if(!m)return!0;var _=m.getValue(),T="";return c&&(T=Ne(c)?c.checked?"true":"false":c.value),c=T,c!==_?(m.setValue(c),!0):!1}function Ue(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function Ie(c,m){var _=m.checked;return he({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:_??c._wrapperState.initialChecked})}function Ge(c,m){var _=m.defaultValue==null?"":m.defaultValue,T=m.checked!=null?m.checked:m.defaultChecked;_=De(m.value!=null?m.value:_),c._wrapperState={initialChecked:T,initialValue:_,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function ct(c,m){m=m.checked,m!=null&&I(c,"checked",m,!1)}function et(c,m){ct(c,m);var _=De(m.value),T=m.type;if(_!=null)T==="number"?(_===0&&c.value===""||c.value!=_)&&(c.value=""+_):c.value!==""+_&&(c.value=""+_);else if(T==="submit"||T==="reset"){c.removeAttribute("value");return}m.hasOwnProperty("value")?at(c,m.type,_):m.hasOwnProperty("defaultValue")&&at(c,m.type,De(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(c.defaultChecked=!!m.defaultChecked)}function ot(c,m,_){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var T=m.type;if(!(T!=="submit"&&T!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+c._wrapperState.initialValue,_||m===c.value||(c.value=m),c.defaultValue=m}_=c.name,_!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,_!==""&&(c.name=_)}function at(c,m,_){(m!=="number"||Ue(c.ownerDocument)!==c)&&(_==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+_&&(c.defaultValue=""+_))}var de=Array.isArray;function fe(c,m,_,T){if(c=c.options,m){m={};for(var L=0;L<_.length;L++)m["$"+_[L]]=!0;for(_=0;_<c.length;_++)L=m.hasOwnProperty("$"+c[_].value),c[_].selected!==L&&(c[_].selected=L),L&&T&&(c[_].defaultSelected=!0)}else{for(_=""+De(_),m=null,L=0;L<c.length;L++){if(c[L].value===_){c[L].selected=!0,T&&(c[L].defaultSelected=!0);return}m!==null||c[L].disabled||(m=c[L])}m!==null&&(m.selected=!0)}}function Ee(c,m){if(m.dangerouslySetInnerHTML!=null)throw Error(r(91));return he({},m,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function Xe(c,m){var _=m.value;if(_==null){if(_=m.children,m=m.defaultValue,_!=null){if(m!=null)throw Error(r(92));if(de(_)){if(1<_.length)throw Error(r(93));_=_[0]}m=_}m==null&&(m=""),_=m}c._wrapperState={initialValue:De(_)}}function Fe(c,m){var _=De(m.value),T=De(m.defaultValue);_!=null&&(_=""+_,_!==c.value&&(c.value=_),m.defaultValue==null&&c.defaultValue!==_&&(c.defaultValue=_)),T!=null&&(c.defaultValue=""+T)}function $e(c){var m=c.textContent;m===c._wrapperState.initialValue&&m!==""&&m!==null&&(c.value=m)}function tt(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function It(c,m){return c==null||c==="http://www.w3.org/1999/xhtml"?tt(m):c==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var Wt,pr=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,_,T,L){MSApp.execUnsafeLocalFunction(function(){return c(m,_,T,L)})}:c})(function(c,m){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=m;else{for(Wt=Wt||document.createElement("div"),Wt.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=Wt.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;m.firstChild;)c.appendChild(m.firstChild)}});function Dn(c,m){if(m){var _=c.firstChild;if(_&&_===c.lastChild&&_.nodeType===3){_.nodeValue=m;return}}c.textContent=m}var yn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ys=["Webkit","ms","Moz","O"];Object.keys(yn).forEach(function(c){Ys.forEach(function(m){m=m+c.charAt(0).toUpperCase()+c.substring(1),yn[m]=yn[c]})});function ar(c,m,_){return m==null||typeof m=="boolean"||m===""?"":_||typeof m!="number"||m===0||yn.hasOwnProperty(c)&&yn[c]?(""+m).trim():m+"px"}function Ke(c,m){c=c.style;for(var _ in m)if(m.hasOwnProperty(_)){var T=_.indexOf("--")===0,L=ar(_,m[_],T);_==="float"&&(_="cssFloat"),T?c.setProperty(_,L):c[_]=L}}var Vr=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jt(c,m){if(m){if(Vr[c]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(r(137,c));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(r(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(r(61))}if(m.style!=null&&typeof m.style!="object")throw Error(r(62))}}function Rr(c,m){if(c.indexOf("-")===-1)return typeof m.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ji=null;function Xs(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Co=null,nr=null,oi=null;function ea(c){if(c=Vh(c)){if(typeof Co!="function")throw Error(r(280));var m=c.stateNode;m&&(m=zg(m),Co(c.stateNode,c.type,m))}}function Oc(c){nr?oi?oi.push(c):oi=[c]:nr=c}function Et(){if(nr){var c=nr,m=oi;if(oi=nr=null,ea(c),m)for(c=0;c<m.length;c++)ea(m[c])}}function vr(c,m){return c(m)}function Ht(){}var Sn=!1;function Hn(c,m,_){if(Sn)return c(m,_);Sn=!0;try{return vr(c,m,_)}finally{Sn=!1,(nr!==null||oi!==null)&&(Ht(),Et())}}function on(c,m){var _=c.stateNode;if(_===null)return null;var T=zg(_);if(T===null)return null;_=T[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(c=c.type,T=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!T;break e;default:c=!1}if(c)return null;if(_&&typeof _!="function")throw Error(r(231,m,typeof _));return _}var va=!1;if(l)try{var ln={};Object.defineProperty(ln,"passive",{get:function(){va=!0}}),window.addEventListener("test",ln,ln),window.removeEventListener("test",ln,ln)}catch{va=!1}function ta(c,m,_,T,L,$,Z,ce,me){var Oe=Array.prototype.slice.call(arguments,3);try{m.apply(_,Oe)}catch(ze){this.onError(ze)}}var Ln=!1,qa=null,vi=!1,lt=null,pl={onError:function(c){Ln=!0,qa=c}};function bh(c,m,_,T,L,$,Z,ce,me){Ln=!1,qa=null,ta.apply(pl,arguments)}function Oi(c,m,_,T,L,$,Z,ce,me){if(bh.apply(this,arguments),Ln){if(Ln){var Oe=qa;Ln=!1,qa=null}else throw Error(r(198));vi||(vi=!0,lt=Oe)}}function ra(c){var m=c,_=c;if(c.alternate)for(;m.return;)m=m.return;else{c=m;do m=c,(m.flags&4098)!==0&&(_=m.return),c=m.return;while(c)}return m.tag===3?_:null}function Tc(c){if(c.tag===13){var m=c.memoizedState;if(m===null&&(c=c.alternate,c!==null&&(m=c.memoizedState)),m!==null)return m.dehydrated}return null}function Nc(c){if(ra(c)!==c)throw Error(r(188))}function za(c){var m=c.alternate;if(!m){if(m=ra(c),m===null)throw Error(r(188));return m!==c?null:c}for(var _=c,T=m;;){var L=_.return;if(L===null)break;var $=L.alternate;if($===null){if(T=L.return,T!==null){_=T;continue}break}if(L.child===$.child){for($=L.child;$;){if($===_)return Nc(L),c;if($===T)return Nc(L),m;$=$.sibling}throw Error(r(188))}if(_.return!==T.return)_=L,T=$;else{for(var Z=!1,ce=L.child;ce;){if(ce===_){Z=!0,_=L,T=$;break}if(ce===T){Z=!0,T=L,_=$;break}ce=ce.sibling}if(!Z){for(ce=$.child;ce;){if(ce===_){Z=!0,_=$,T=L;break}if(ce===T){Z=!0,T=$,_=L;break}ce=ce.sibling}if(!Z)throw Error(r(189))}}if(_.alternate!==T)throw Error(r(190))}if(_.tag!==3)throw Error(r(188));return _.stateNode.current===_?c:m}function Eg(c){return c=za(c),c!==null?Cg(c):null}function Cg(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var m=Cg(c);if(m!==null)return m;c=c.sibling}return null}var ya=e.unstable_scheduleCallback,li=e.unstable_cancelCallback,Yr=e.unstable_shouldYield,Ag=e.unstable_requestPaint,Mr=e.unstable_now,_h=e.unstable_getCurrentPriorityLevel,Be=e.unstable_ImmediatePriority,Og=e.unstable_UserBlockingPriority,zr=e.unstable_NormalPriority,ml=e.unstable_LowPriority,Tg=e.unstable_IdlePriority,yr=null,Zt=null;function dr(c){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(yr,c,void 0,(c.current.flags&128)===128)}catch{}}var Fi=Math.clz32?Math.clz32:Nn,Sh=Math.log,Eh=Math.LN2;function Nn(c){return c>>>=0,c===0?32:31-(Sh(c)/Eh|0)|0}var xa=64,id=4194304;function Hr(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function wa(c,m){var _=c.pendingLanes;if(_===0)return 0;var T=0,L=c.suspendedLanes,$=c.pingedLanes,Z=_&268435455;if(Z!==0){var ce=Z&~L;ce!==0?T=Hr(ce):($&=Z,$!==0&&(T=Hr($)))}else Z=_&~L,Z!==0?T=Hr(Z):$!==0&&(T=Hr($));if(T===0)return 0;if(m!==0&&m!==T&&(m&L)===0&&(L=T&-T,$=m&-m,L>=$||L===16&&($&4194240)!==0))return m;if((T&4)!==0&&(T|=_&16),m=c.entangledLanes,m!==0)for(c=c.entanglements,m&=T;0<m;)_=31-Fi(m),L=1<<_,T|=c[_],m&=~L;return T}function Rx(c,m){switch(c){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gl(c,m){for(var _=c.suspendedLanes,T=c.pingedLanes,L=c.expirationTimes,$=c.pendingLanes;0<$;){var Z=31-Fi($),ce=1<<Z,me=L[Z];me===-1?((ce&_)===0||(ce&T)!==0)&&(L[Z]=Rx(ce,m)):me<=m&&(c.expiredLanes|=ce),$&=~ce}}function Dr(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function Gn(){var c=xa;return xa<<=1,(xa&4194240)===0&&(xa=64),c}function be(c){for(var m=[],_=0;31>_;_++)m.push(c);return m}function ae(c,m,_){c.pendingLanes|=m,m!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,m=31-Fi(m),c[m]=_}function Ct(c,m){var _=c.pendingLanes&~m;c.pendingLanes=m,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=m,c.mutableReadLanes&=m,c.entangledLanes&=m,m=c.entanglements;var T=c.eventTimes;for(c=c.expirationTimes;0<_;){var L=31-Fi(_),$=1<<L;m[L]=0,T[L]=-1,c[L]=-1,_&=~$}}function En(c,m){var _=c.entangledLanes|=m;for(c=c.entanglements;_;){var T=31-Fi(_),L=1<<T;L&m|c[T]&m&&(c[T]|=m),_&=~L}}var Qt=0;function Ng(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var ad,Ti,Tt,Xr,Ch,Ah=!1,vl=[],ba=null,Ha=null,Zs=null,mn=new Map,xs=new Map,yi=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kg(c,m){switch(c){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":mn.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":xs.delete(m.pointerId)}}function $t(c,m,_,T,L,$){return c===null||c.nativeEvent!==$?(c={blockedOn:m,domEventName:_,eventSystemFlags:T,nativeEvent:$,targetContainers:[L]},m!==null&&(m=Vh(m),m!==null&&Ti(m)),c):(c.eventSystemFlags|=T,m=c.targetContainers,L!==null&&m.indexOf(L)===-1&&m.push(L),c)}function Kn(c,m,_,T,L){switch(m){case"focusin":return ba=$t(ba,c,m,_,T,L),!0;case"dragenter":return Ha=$t(Ha,c,m,_,T,L),!0;case"mouseover":return Zs=$t(Zs,c,m,_,T,L),!0;case"pointerover":var $=L.pointerId;return mn.set($,$t(mn.get($)||null,c,m,_,T,L)),!0;case"gotpointercapture":return $=L.pointerId,xs.set($,$t(xs.get($)||null,c,m,_,T,L)),!0}return!1}function Pg(c){var m=Fc(c.target);if(m!==null){var _=ra(m);if(_!==null){if(m=_.tag,m===13){if(m=Tc(_),m!==null){c.blockedOn=m,Ch(c.priority,function(){Tt(_)});return}}else if(m===3&&_.stateNode.current.memoizedState.isDehydrated){c.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}c.blockedOn=null}function yl(c){if(c.blockedOn!==null)return!1;for(var m=c.targetContainers;0<m.length;){var _=sd(c.domEventName,c.eventSystemFlags,m[0],c.nativeEvent);if(_===null){_=c.nativeEvent;var T=new _.constructor(_.type,_);Ji=T,_.target.dispatchEvent(T),Ji=null}else return m=Vh(_),m!==null&&Ti(m),c.blockedOn=_,!1;m.shift()}return!0}function Oh(c,m,_){yl(c)&&_.delete(m)}function Ao(){Ah=!1,ba!==null&&yl(ba)&&(ba=null),Ha!==null&&yl(Ha)&&(Ha=null),Zs!==null&&yl(Zs)&&(Zs=null),mn.forEach(Oh),xs.forEach(Oh)}function kc(c,m){c.blockedOn===m&&(c.blockedOn=null,Ah||(Ah=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ao)))}function ws(c){function m(L){return kc(L,c)}if(0<vl.length){kc(vl[0],c);for(var _=1;_<vl.length;_++){var T=vl[_];T.blockedOn===c&&(T.blockedOn=null)}}for(ba!==null&&kc(ba,c),Ha!==null&&kc(Ha,c),Zs!==null&&kc(Zs,c),mn.forEach(m),xs.forEach(m),_=0;_<yi.length;_++)T=yi[_],T.blockedOn===c&&(T.blockedOn=null);for(;0<yi.length&&(_=yi[0],_.blockedOn===null);)Pg(_),_.blockedOn===null&&yi.shift()}var Ga=F.ReactCurrentBatchConfig,Qs=!0;function jg(c,m,_,T){var L=Qt,$=Ga.transition;Ga.transition=null;try{Qt=1,Oo(c,m,_,T)}finally{Qt=L,Ga.transition=$}}function Pc(c,m,_,T){var L=Qt,$=Ga.transition;Ga.transition=null;try{Qt=4,Oo(c,m,_,T)}finally{Qt=L,Ga.transition=$}}function Oo(c,m,_,T){if(Qs){var L=sd(c,m,_,T);if(L===null)qx(c,m,T,Yn,_),kg(c,T);else if(Kn(L,c,m,_,T))T.stopPropagation();else if(kg(c,T),m&4&&-1<Rt.indexOf(c)){for(;L!==null;){var $=Vh(L);if($!==null&&ad($),$=sd(c,m,_,T),$===null&&qx(c,m,T,Yn,_),$===L)break;L=$}L!==null&&T.stopPropagation()}else qx(c,m,T,null,_)}}var Yn=null;function sd(c,m,_,T){if(Yn=null,c=Xs(T),c=Fc(c),c!==null)if(m=ra(c),m===null)c=null;else if(_=m.tag,_===13){if(c=Tc(m),c!==null)return c;c=null}else if(_===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;c=null}else m!==c&&(c=null);return Yn=c,null}function Th(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_h()){case Be:return 1;case Og:return 4;case zr:case ml:return 16;case Tg:return 536870912;default:return 16}default:return 16}}var bs=null,Nh=null,od=null;function Ig(){if(od)return od;var c,m=Nh,_=m.length,T,L="value"in bs?bs.value:bs.textContent,$=L.length;for(c=0;c<_&&m[c]===L[c];c++);var Z=_-c;for(T=1;T<=Z&&m[_-T]===L[$-T];T++);return od=L.slice(c,1<T?1-T:void 0)}function wr(c){var m=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&m===13&&(c=13)):c=m,c===10&&(c=13),32<=c||c===13?c:0}function jc(){return!0}function Ic(){return!1}function Cn(c){function m(_,T,L,$,Z){this._reactName=_,this._targetInst=L,this.type=T,this.nativeEvent=$,this.target=Z,this.currentTarget=null;for(var ce in c)c.hasOwnProperty(ce)&&(_=c[ce],this[ce]=_?_($):$[ce]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?jc:Ic,this.isPropagationStopped=Ic,this}return he(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=jc)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=jc)},persist:function(){},isPersistent:jc}),m}var xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ae=Cn(xl),qt=he({},xl,{view:0,detail:0}),Xn=Cn(qt),wl,ld,Rc,cd=he({},qt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mc,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Rc&&(Rc&&c.type==="mousemove"?(wl=c.screenX-Rc.screenX,ld=c.screenY-Rc.screenY):ld=wl=0,Rc=c),wl)},movementY:function(c){return"movementY"in c?c.movementY:ld}}),Rg=Cn(cd),kh=he({},cd,{dataTransfer:0}),kn=Cn(kh),Ph=he({},qt,{relatedTarget:0}),Zr=Cn(Ph),ud=he({},xl,{animationName:0,elapsedTime:0,pseudoElement:0}),To=Cn(ud),Fr=he({},xl,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),kt=Cn(Fr),Mx=he({},xl,{data:0}),Wr=Cn(Mx),No={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ka(c){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(c):(c=Dx[c])?!!m[c]:!1}function Mc(){return Ka}var Mg=he({},qt,{key:function(c){if(c.key){var m=No[c.key]||c.key;if(m!=="Unidentified")return m}return c.type==="keypress"?(c=wr(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?bl[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mc,charCode:function(c){return c.type==="keypress"?wr(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?wr(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),jh=Cn(Mg),Dg=he({},cd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ih=Cn(Dg),Lx=he({},qt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mc}),_l=Cn(Lx),Rh=he({},xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bx=Cn(Rh),Dc=he({},cd,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Fx=Cn(Dc),Js=[9,13,27,32],Sl=l&&"CompositionEvent"in window,ci=null;l&&"documentMode"in document&&(ci=document.documentMode);var Lg=l&&"TextEvent"in window&&!ci,_a=l&&(!Sl||ci&&8<ci&&11>=ci),Bg=" ",dd=!1;function Fg(c,m){switch(c){case"keyup":return Js.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mh(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var xi=!1;function $x(c,m){switch(c){case"compositionend":return Mh(m);case"keypress":return m.which!==32?null:(dd=!0,Bg);case"textInput":return c=m.data,c===Bg&&dd?null:c;default:return null}}function Dh(c,m){if(xi)return c==="compositionend"||!Sl&&Fg(c,m)?(c=Ig(),od=Nh=bs=null,xi=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return _a&&m.locale!=="ko"?null:m.data;default:return null}}var Lc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mr(c){var m=c&&c.nodeName&&c.nodeName.toLowerCase();return m==="input"?!!Lc[c.type]:m==="textarea"}function Bc(c,m,_,T){Oc(T),m=Vg(m,"onChange"),0<m.length&&(_=new Ae("onChange","change",null,_,T),c.push({event:_,listeners:m}))}var K=null,o=null;function u(c){$k(c,0)}function p(c){var m=pd(c);if(ve(m))return c}function y(c,m){if(c==="change")return m}var x=!1;if(l){var w;if(l){var A="oninput"in document;if(!A){var k=document.createElement("div");k.setAttribute("oninput","return;"),A=typeof k.oninput=="function"}w=A}else w=!1;x=w&&(!document.documentMode||9<document.documentMode)}function D(){K&&(K.detachEvent("onpropertychange",V),o=K=null)}function V(c){if(c.propertyName==="value"&&p(o)){var m=[];Bc(m,o,c,Xs(c)),Hn(u,m)}}function Y(c,m,_){c==="focusin"?(D(),K=m,o=_,K.attachEvent("onpropertychange",V)):c==="focusout"&&D()}function ee(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return p(o)}function oe(c,m){if(c==="click")return p(m)}function pe(c,m){if(c==="input"||c==="change")return p(m)}function ge(c,m){return c===m&&(c!==0||1/c===1/m)||c!==c&&m!==m}var xe=typeof Object.is=="function"?Object.is:ge;function Ce(c,m){if(xe(c,m))return!0;if(typeof c!="object"||c===null||typeof m!="object"||m===null)return!1;var _=Object.keys(c),T=Object.keys(m);if(_.length!==T.length)return!1;for(T=0;T<_.length;T++){var L=_[T];if(!d.call(m,L)||!xe(c[L],m[L]))return!1}return!0}function Ze(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Qe(c,m){var _=Ze(c);c=0;for(var T;_;){if(_.nodeType===3){if(T=c+_.textContent.length,c<=m&&T>=m)return{node:_,offset:m-c};c=T}e:{for(;_;){if(_.nextSibling){_=_.nextSibling;break e}_=_.parentNode}_=void 0}_=Ze(_)}}function We(c,m){return c&&m?c===m?!0:c&&c.nodeType===3?!1:m&&m.nodeType===3?We(c,m.parentNode):"contains"in c?c.contains(m):c.compareDocumentPosition?!!(c.compareDocumentPosition(m)&16):!1:!1}function sr(){for(var c=window,m=Ue();m instanceof c.HTMLIFrameElement;){try{var _=typeof m.contentWindow.location.href=="string"}catch{_=!1}if(_)c=m.contentWindow;else break;m=Ue(c.document)}return m}function Ut(c){var m=c&&c.nodeName&&c.nodeName.toLowerCase();return m&&(m==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||m==="textarea"||c.contentEditable==="true")}function Ni(c){var m=sr(),_=c.focusedElem,T=c.selectionRange;if(m!==_&&_&&_.ownerDocument&&We(_.ownerDocument.documentElement,_)){if(T!==null&&Ut(_)){if(m=T.start,c=T.end,c===void 0&&(c=m),"selectionStart"in _)_.selectionStart=m,_.selectionEnd=Math.min(c,_.value.length);else if(c=(m=_.ownerDocument||document)&&m.defaultView||window,c.getSelection){c=c.getSelection();var L=_.textContent.length,$=Math.min(T.start,L);T=T.end===void 0?$:Math.min(T.end,L),!c.extend&&$>T&&(L=T,T=$,$=L),L=Qe(_,$);var Z=Qe(_,T);L&&Z&&(c.rangeCount!==1||c.anchorNode!==L.node||c.anchorOffset!==L.offset||c.focusNode!==Z.node||c.focusOffset!==Z.offset)&&(m=m.createRange(),m.setStart(L.node,L.offset),c.removeAllRanges(),$>T?(c.addRange(m),c.extend(Z.node,Z.offset)):(m.setEnd(Z.node,Z.offset),c.addRange(m)))}}for(m=[],c=_;c=c.parentNode;)c.nodeType===1&&m.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<m.length;_++)c=m[_],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var Sa=l&&"documentMode"in document&&11>=document.documentMode,Pn=null,jr=null,xn=null,wi=!1;function ko(c,m,_){var T=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;wi||Pn==null||Pn!==Ue(T)||(T=Pn,"selectionStart"in T&&Ut(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),xn&&Ce(xn,T)||(xn=T,T=Vg(jr,"onSelect"),0<T.length&&(m=new Ae("onSelect","select",null,m,_),c.push({event:m,listeners:T}),m.target=Pn)))}function _s(c,m){var _={};return _[c.toLowerCase()]=m.toLowerCase(),_["Webkit"+c]="webkit"+m,_["Moz"+c]="moz"+m,_}var El={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionend:_s("Transition","TransitionEnd")},Lh={},jk={};l&&(jk=document.createElement("div").style,"AnimationEvent"in window||(delete El.animationend.animation,delete El.animationiteration.animation,delete El.animationstart.animation),"TransitionEvent"in window||delete El.transitionend.transition);function $g(c){if(Lh[c])return Lh[c];if(!El[c])return c;var m=El[c],_;for(_ in m)if(m.hasOwnProperty(_)&&_ in jk)return Lh[c]=m[_];return c}var Ik=$g("animationend"),Rk=$g("animationiteration"),Mk=$g("animationstart"),Dk=$g("transitionend"),Lk=new Map,Bk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cl(c,m){Lk.set(c,m),a(m,[c])}for(var Ux=0;Ux<Bk.length;Ux++){var Vx=Bk[Ux],CH=Vx.toLowerCase(),AH=Vx[0].toUpperCase()+Vx.slice(1);Cl(CH,"on"+AH)}Cl(Ik,"onAnimationEnd"),Cl(Rk,"onAnimationIteration"),Cl(Mk,"onAnimationStart"),Cl("dblclick","onDoubleClick"),Cl("focusin","onFocus"),Cl("focusout","onBlur"),Cl(Dk,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OH=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bh));function Fk(c,m,_){var T=c.type||"unknown-event";c.currentTarget=_,Oi(T,m,void 0,c),c.currentTarget=null}function $k(c,m){m=(m&4)!==0;for(var _=0;_<c.length;_++){var T=c[_],L=T.event;T=T.listeners;e:{var $=void 0;if(m)for(var Z=T.length-1;0<=Z;Z--){var ce=T[Z],me=ce.instance,Oe=ce.currentTarget;if(ce=ce.listener,me!==$&&L.isPropagationStopped())break e;Fk(L,ce,Oe),$=me}else for(Z=0;Z<T.length;Z++){if(ce=T[Z],me=ce.instance,Oe=ce.currentTarget,ce=ce.listener,me!==$&&L.isPropagationStopped())break e;Fk(L,ce,Oe),$=me}}}if(vi)throw c=lt,vi=!1,lt=null,c}function cn(c,m){var _=m[Xx];_===void 0&&(_=m[Xx]=new Set);var T=c+"__bubble";_.has(T)||(Uk(m,c,2,!1),_.add(T))}function Wx(c,m,_){var T=0;m&&(T|=4),Uk(_,c,T,m)}var Ug="_reactListening"+Math.random().toString(36).slice(2);function Fh(c){if(!c[Ug]){c[Ug]=!0,n.forEach(function(_){_!=="selectionchange"&&(OH.has(_)||Wx(_,!1,c),Wx(_,!0,c))});var m=c.nodeType===9?c:c.ownerDocument;m===null||m[Ug]||(m[Ug]=!0,Wx("selectionchange",!1,m))}}function Uk(c,m,_,T){switch(Th(m)){case 1:var L=jg;break;case 4:L=Pc;break;default:L=Oo}_=L.bind(null,m,_,c),L=void 0,!va||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(L=!0),T?L!==void 0?c.addEventListener(m,_,{capture:!0,passive:L}):c.addEventListener(m,_,!0):L!==void 0?c.addEventListener(m,_,{passive:L}):c.addEventListener(m,_,!1)}function qx(c,m,_,T,L){var $=T;if((m&1)===0&&(m&2)===0&&T!==null)e:for(;;){if(T===null)return;var Z=T.tag;if(Z===3||Z===4){var ce=T.stateNode.containerInfo;if(ce===L||ce.nodeType===8&&ce.parentNode===L)break;if(Z===4)for(Z=T.return;Z!==null;){var me=Z.tag;if((me===3||me===4)&&(me=Z.stateNode.containerInfo,me===L||me.nodeType===8&&me.parentNode===L))return;Z=Z.return}for(;ce!==null;){if(Z=Fc(ce),Z===null)return;if(me=Z.tag,me===5||me===6){T=$=Z;continue e}ce=ce.parentNode}}T=T.return}Hn(function(){var Oe=$,ze=Xs(_),Ye=[];e:{var Ve=Lk.get(c);if(Ve!==void 0){var ut=Ae,vt=c;switch(c){case"keypress":if(wr(_)===0)break e;case"keydown":case"keyup":ut=jh;break;case"focusin":vt="focus",ut=Zr;break;case"focusout":vt="blur",ut=Zr;break;case"beforeblur":case"afterblur":ut=Zr;break;case"click":if(_.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ut=Rg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ut=kn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ut=_l;break;case Ik:case Rk:case Mk:ut=To;break;case Dk:ut=Bx;break;case"scroll":ut=Xn;break;case"wheel":ut=Fx;break;case"copy":case"cut":case"paste":ut=kt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ut=Ih}var yt=(m&4)!==0,jn=!yt&&c==="scroll",_e=yt?Ve!==null?Ve+"Capture":null:Ve;yt=[];for(var ye=Oe,Se;ye!==null;){Se=ye;var rt=Se.stateNode;if(Se.tag===5&&rt!==null&&(Se=rt,_e!==null&&(rt=on(ye,_e),rt!=null&&yt.push($h(ye,rt,Se)))),jn)break;ye=ye.return}0<yt.length&&(Ve=new ut(Ve,vt,null,_,ze),Ye.push({event:Ve,listeners:yt}))}}if((m&7)===0){e:{if(Ve=c==="mouseover"||c==="pointerover",ut=c==="mouseout"||c==="pointerout",Ve&&_!==Ji&&(vt=_.relatedTarget||_.fromElement)&&(Fc(vt)||vt[Po]))break e;if((ut||Ve)&&(Ve=ze.window===ze?ze:(Ve=ze.ownerDocument)?Ve.defaultView||Ve.parentWindow:window,ut?(vt=_.relatedTarget||_.toElement,ut=Oe,vt=vt?Fc(vt):null,vt!==null&&(jn=ra(vt),vt!==jn||vt.tag!==5&&vt.tag!==6)&&(vt=null)):(ut=null,vt=Oe),ut!==vt)){if(yt=Rg,rt="onMouseLeave",_e="onMouseEnter",ye="mouse",(c==="pointerout"||c==="pointerover")&&(yt=Ih,rt="onPointerLeave",_e="onPointerEnter",ye="pointer"),jn=ut==null?Ve:pd(ut),Se=vt==null?Ve:pd(vt),Ve=new yt(rt,ye+"leave",ut,_,ze),Ve.target=jn,Ve.relatedTarget=Se,rt=null,Fc(ze)===Oe&&(yt=new yt(_e,ye+"enter",vt,_,ze),yt.target=Se,yt.relatedTarget=jn,rt=yt),jn=rt,ut&&vt)t:{for(yt=ut,_e=vt,ye=0,Se=yt;Se;Se=fd(Se))ye++;for(Se=0,rt=_e;rt;rt=fd(rt))Se++;for(;0<ye-Se;)yt=fd(yt),ye--;for(;0<Se-ye;)_e=fd(_e),Se--;for(;ye--;){if(yt===_e||_e!==null&&yt===_e.alternate)break t;yt=fd(yt),_e=fd(_e)}yt=null}else yt=null;ut!==null&&Vk(Ye,Ve,ut,yt,!1),vt!==null&&jn!==null&&Vk(Ye,jn,vt,yt,!0)}}e:{if(Ve=Oe?pd(Oe):window,ut=Ve.nodeName&&Ve.nodeName.toLowerCase(),ut==="select"||ut==="input"&&Ve.type==="file")var wt=y;else if(mr(Ve))if(x)wt=pe;else{wt=ee;var Pt=Y}else(ut=Ve.nodeName)&&ut.toLowerCase()==="input"&&(Ve.type==="checkbox"||Ve.type==="radio")&&(wt=oe);if(wt&&(wt=wt(c,Oe))){Bc(Ye,wt,_,ze);break e}Pt&&Pt(c,Ve,Oe),c==="focusout"&&(Pt=Ve._wrapperState)&&Pt.controlled&&Ve.type==="number"&&at(Ve,"number",Ve.value)}switch(Pt=Oe?pd(Oe):window,c){case"focusin":(mr(Pt)||Pt.contentEditable==="true")&&(Pn=Pt,jr=Oe,xn=null);break;case"focusout":xn=jr=Pn=null;break;case"mousedown":wi=!0;break;case"contextmenu":case"mouseup":case"dragend":wi=!1,ko(Ye,_,ze);break;case"selectionchange":if(Sa)break;case"keydown":case"keyup":ko(Ye,_,ze)}var jt;if(Sl)e:{switch(c){case"compositionstart":var Ft="onCompositionStart";break e;case"compositionend":Ft="onCompositionEnd";break e;case"compositionupdate":Ft="onCompositionUpdate";break e}Ft=void 0}else xi?Fg(c,_)&&(Ft="onCompositionEnd"):c==="keydown"&&_.keyCode===229&&(Ft="onCompositionStart");Ft&&(_a&&_.locale!=="ko"&&(xi||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&xi&&(jt=Ig()):(bs=ze,Nh="value"in bs?bs.value:bs.textContent,xi=!0)),Pt=Vg(Oe,Ft),0<Pt.length&&(Ft=new Wr(Ft,c,null,_,ze),Ye.push({event:Ft,listeners:Pt}),jt?Ft.data=jt:(jt=Mh(_),jt!==null&&(Ft.data=jt)))),(jt=Lg?$x(c,_):Dh(c,_))&&(Oe=Vg(Oe,"onBeforeInput"),0<Oe.length&&(ze=new Wr("onBeforeInput","beforeinput",null,_,ze),Ye.push({event:ze,listeners:Oe}),ze.data=jt))}$k(Ye,m)})}function $h(c,m,_){return{instance:c,listener:m,currentTarget:_}}function Vg(c,m){for(var _=m+"Capture",T=[];c!==null;){var L=c,$=L.stateNode;L.tag===5&&$!==null&&(L=$,$=on(c,_),$!=null&&T.unshift($h(c,$,L)),$=on(c,m),$!=null&&T.push($h(c,$,L))),c=c.return}return T}function fd(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function Vk(c,m,_,T,L){for(var $=m._reactName,Z=[];_!==null&&_!==T;){var ce=_,me=ce.alternate,Oe=ce.stateNode;if(me!==null&&me===T)break;ce.tag===5&&Oe!==null&&(ce=Oe,L?(me=on(_,$),me!=null&&Z.unshift($h(_,me,ce))):L||(me=on(_,$),me!=null&&Z.push($h(_,me,ce)))),_=_.return}Z.length!==0&&c.push({event:m,listeners:Z})}var TH=/\r\n?/g,NH=/\u0000|\uFFFD/g;function Wk(c){return(typeof c=="string"?c:""+c).replace(TH,`
`).replace(NH,"")}function Wg(c,m,_){if(m=Wk(m),Wk(c)!==m&&_)throw Error(r(425))}function qg(){}var zx=null,Hx=null;function Gx(c,m){return c==="textarea"||c==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var Kx=typeof setTimeout=="function"?setTimeout:void 0,kH=typeof clearTimeout=="function"?clearTimeout:void 0,qk=typeof Promise=="function"?Promise:void 0,PH=typeof queueMicrotask=="function"?queueMicrotask:typeof qk<"u"?function(c){return qk.resolve(null).then(c).catch(jH)}:Kx;function jH(c){setTimeout(function(){throw c})}function Yx(c,m){var _=m,T=0;do{var L=_.nextSibling;if(c.removeChild(_),L&&L.nodeType===8)if(_=L.data,_==="/$"){if(T===0){c.removeChild(L),ws(m);return}T--}else _!=="$"&&_!=="$?"&&_!=="$!"||T++;_=L}while(_);ws(m)}function Al(c){for(;c!=null;c=c.nextSibling){var m=c.nodeType;if(m===1||m===3)break;if(m===8){if(m=c.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return c}function zk(c){c=c.previousSibling;for(var m=0;c;){if(c.nodeType===8){var _=c.data;if(_==="$"||_==="$!"||_==="$?"){if(m===0)return c;m--}else _==="/$"&&m++}c=c.previousSibling}return null}var hd=Math.random().toString(36).slice(2),eo="__reactFiber$"+hd,Uh="__reactProps$"+hd,Po="__reactContainer$"+hd,Xx="__reactEvents$"+hd,IH="__reactListeners$"+hd,RH="__reactHandles$"+hd;function Fc(c){var m=c[eo];if(m)return m;for(var _=c.parentNode;_;){if(m=_[Po]||_[eo]){if(_=m.alternate,m.child!==null||_!==null&&_.child!==null)for(c=zk(c);c!==null;){if(_=c[eo])return _;c=zk(c)}return m}c=_,_=c.parentNode}return null}function Vh(c){return c=c[eo]||c[Po],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function pd(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(r(33))}function zg(c){return c[Uh]||null}var Zx=[],md=-1;function Ol(c){return{current:c}}function un(c){0>md||(c.current=Zx[md],Zx[md]=null,md--)}function Qr(c,m){md++,Zx[md]=c.current,c.current=m}var Tl={},ki=Ol(Tl),na=Ol(!1),$c=Tl;function gd(c,m){var _=c.type.contextTypes;if(!_)return Tl;var T=c.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===m)return T.__reactInternalMemoizedMaskedChildContext;var L={},$;for($ in _)L[$]=m[$];return T&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=m,c.__reactInternalMemoizedMaskedChildContext=L),L}function ia(c){return c=c.childContextTypes,c!=null}function Hg(){un(na),un(ki)}function Hk(c,m,_){if(ki.current!==Tl)throw Error(r(168));Qr(ki,m),Qr(na,_)}function Gk(c,m,_){var T=c.stateNode;if(m=m.childContextTypes,typeof T.getChildContext!="function")return _;T=T.getChildContext();for(var L in T)if(!(L in m))throw Error(r(108,Te(c)||"Unknown",L));return he({},_,T)}function Gg(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Tl,$c=ki.current,Qr(ki,c),Qr(na,na.current),!0}function Kk(c,m,_){var T=c.stateNode;if(!T)throw Error(r(169));_?(c=Gk(c,m,$c),T.__reactInternalMemoizedMergedChildContext=c,un(na),un(ki),Qr(ki,c)):un(na),Qr(na,_)}var jo=null,Kg=!1,Qx=!1;function Yk(c){jo===null?jo=[c]:jo.push(c)}function MH(c){Kg=!0,Yk(c)}function Nl(){if(!Qx&&jo!==null){Qx=!0;var c=0,m=Qt;try{var _=jo;for(Qt=1;c<_.length;c++){var T=_[c];do T=T(!0);while(T!==null)}jo=null,Kg=!1}catch(L){throw jo!==null&&(jo=jo.slice(c+1)),ya(Be,Nl),L}finally{Qt=m,Qx=!1}}return null}var vd=[],yd=0,Yg=null,Xg=0,Ya=[],Xa=0,Uc=null,Io=1,Ro="";function Vc(c,m){vd[yd++]=Xg,vd[yd++]=Yg,Yg=c,Xg=m}function Xk(c,m,_){Ya[Xa++]=Io,Ya[Xa++]=Ro,Ya[Xa++]=Uc,Uc=c;var T=Io;c=Ro;var L=32-Fi(T)-1;T&=~(1<<L),_+=1;var $=32-Fi(m)+L;if(30<$){var Z=L-L%5;$=(T&(1<<Z)-1).toString(32),T>>=Z,L-=Z,Io=1<<32-Fi(m)+L|_<<L|T,Ro=$+c}else Io=1<<$|_<<L|T,Ro=c}function Jx(c){c.return!==null&&(Vc(c,1),Xk(c,1,0))}function ew(c){for(;c===Yg;)Yg=vd[--yd],vd[yd]=null,Xg=vd[--yd],vd[yd]=null;for(;c===Uc;)Uc=Ya[--Xa],Ya[Xa]=null,Ro=Ya[--Xa],Ya[Xa]=null,Io=Ya[--Xa],Ya[Xa]=null}var Ea=null,Ca=null,gn=!1,Ss=null;function Zk(c,m){var _=es(5,null,null,0);_.elementType="DELETED",_.stateNode=m,_.return=c,m=c.deletions,m===null?(c.deletions=[_],c.flags|=16):m.push(_)}function Qk(c,m){switch(c.tag){case 5:var _=c.type;return m=m.nodeType!==1||_.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(c.stateNode=m,Ea=c,Ca=Al(m.firstChild),!0):!1;case 6:return m=c.pendingProps===""||m.nodeType!==3?null:m,m!==null?(c.stateNode=m,Ea=c,Ca=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(_=Uc!==null?{id:Io,overflow:Ro}:null,c.memoizedState={dehydrated:m,treeContext:_,retryLane:1073741824},_=es(18,null,null,0),_.stateNode=m,_.return=c,c.child=_,Ea=c,Ca=null,!0):!1;default:return!1}}function tw(c){return(c.mode&1)!==0&&(c.flags&128)===0}function rw(c){if(gn){var m=Ca;if(m){var _=m;if(!Qk(c,m)){if(tw(c))throw Error(r(418));m=Al(_.nextSibling);var T=Ea;m&&Qk(c,m)?Zk(T,_):(c.flags=c.flags&-4097|2,gn=!1,Ea=c)}}else{if(tw(c))throw Error(r(418));c.flags=c.flags&-4097|2,gn=!1,Ea=c}}}function Jk(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Ea=c}function Zg(c){if(c!==Ea)return!1;if(!gn)return Jk(c),gn=!0,!1;var m;if((m=c.tag!==3)&&!(m=c.tag!==5)&&(m=c.type,m=m!=="head"&&m!=="body"&&!Gx(c.type,c.memoizedProps)),m&&(m=Ca)){if(tw(c))throw eP(),Error(r(418));for(;m;)Zk(c,m),m=Al(m.nextSibling)}if(Jk(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,m=0;c;){if(c.nodeType===8){var _=c.data;if(_==="/$"){if(m===0){Ca=Al(c.nextSibling);break e}m--}else _!=="$"&&_!=="$!"&&_!=="$?"||m++}c=c.nextSibling}Ca=null}}else Ca=Ea?Al(c.stateNode.nextSibling):null;return!0}function eP(){for(var c=Ca;c;)c=Al(c.nextSibling)}function xd(){Ca=Ea=null,gn=!1}function nw(c){Ss===null?Ss=[c]:Ss.push(c)}var DH=F.ReactCurrentBatchConfig;function Wh(c,m,_){if(c=_.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(r(309));var T=_.stateNode}if(!T)throw Error(r(147,c));var L=T,$=""+c;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===$?m.ref:(m=function(Z){var ce=L.refs;Z===null?delete ce[$]:ce[$]=Z},m._stringRef=$,m)}if(typeof c!="string")throw Error(r(284));if(!_._owner)throw Error(r(290,c))}return c}function Qg(c,m){throw c=Object.prototype.toString.call(m),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":c))}function tP(c){var m=c._init;return m(c._payload)}function rP(c){function m(_e,ye){if(c){var Se=_e.deletions;Se===null?(_e.deletions=[ye],_e.flags|=16):Se.push(ye)}}function _(_e,ye){if(!c)return null;for(;ye!==null;)m(_e,ye),ye=ye.sibling;return null}function T(_e,ye){for(_e=new Map;ye!==null;)ye.key!==null?_e.set(ye.key,ye):_e.set(ye.index,ye),ye=ye.sibling;return _e}function L(_e,ye){return _e=Ll(_e,ye),_e.index=0,_e.sibling=null,_e}function $(_e,ye,Se){return _e.index=Se,c?(Se=_e.alternate,Se!==null?(Se=Se.index,Se<ye?(_e.flags|=2,ye):Se):(_e.flags|=2,ye)):(_e.flags|=1048576,ye)}function Z(_e){return c&&_e.alternate===null&&(_e.flags|=2),_e}function ce(_e,ye,Se,rt){return ye===null||ye.tag!==6?(ye=Kw(Se,_e.mode,rt),ye.return=_e,ye):(ye=L(ye,Se),ye.return=_e,ye)}function me(_e,ye,Se,rt){var wt=Se.type;return wt===B?ze(_e,ye,Se.props.children,rt,Se.key):ye!==null&&(ye.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===se&&tP(wt)===ye.type)?(rt=L(ye,Se.props),rt.ref=Wh(_e,ye,Se),rt.return=_e,rt):(rt=_0(Se.type,Se.key,Se.props,null,_e.mode,rt),rt.ref=Wh(_e,ye,Se),rt.return=_e,rt)}function Oe(_e,ye,Se,rt){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Se.containerInfo||ye.stateNode.implementation!==Se.implementation?(ye=Yw(Se,_e.mode,rt),ye.return=_e,ye):(ye=L(ye,Se.children||[]),ye.return=_e,ye)}function ze(_e,ye,Se,rt,wt){return ye===null||ye.tag!==7?(ye=Xc(Se,_e.mode,rt,wt),ye.return=_e,ye):(ye=L(ye,Se),ye.return=_e,ye)}function Ye(_e,ye,Se){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ye=Kw(""+ye,_e.mode,Se),ye.return=_e,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case R:return Se=_0(ye.type,ye.key,ye.props,null,_e.mode,Se),Se.ref=Wh(_e,null,ye),Se.return=_e,Se;case M:return ye=Yw(ye,_e.mode,Se),ye.return=_e,ye;case se:var rt=ye._init;return Ye(_e,rt(ye._payload),Se)}if(de(ye)||J(ye))return ye=Xc(ye,_e.mode,Se,null),ye.return=_e,ye;Qg(_e,ye)}return null}function Ve(_e,ye,Se,rt){var wt=ye!==null?ye.key:null;if(typeof Se=="string"&&Se!==""||typeof Se=="number")return wt!==null?null:ce(_e,ye,""+Se,rt);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case R:return Se.key===wt?me(_e,ye,Se,rt):null;case M:return Se.key===wt?Oe(_e,ye,Se,rt):null;case se:return wt=Se._init,Ve(_e,ye,wt(Se._payload),rt)}if(de(Se)||J(Se))return wt!==null?null:ze(_e,ye,Se,rt,null);Qg(_e,Se)}return null}function ut(_e,ye,Se,rt,wt){if(typeof rt=="string"&&rt!==""||typeof rt=="number")return _e=_e.get(Se)||null,ce(ye,_e,""+rt,wt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case R:return _e=_e.get(rt.key===null?Se:rt.key)||null,me(ye,_e,rt,wt);case M:return _e=_e.get(rt.key===null?Se:rt.key)||null,Oe(ye,_e,rt,wt);case se:var Pt=rt._init;return ut(_e,ye,Se,Pt(rt._payload),wt)}if(de(rt)||J(rt))return _e=_e.get(Se)||null,ze(ye,_e,rt,wt,null);Qg(ye,rt)}return null}function vt(_e,ye,Se,rt){for(var wt=null,Pt=null,jt=ye,Ft=ye=0,fi=null;jt!==null&&Ft<Se.length;Ft++){jt.index>Ft?(fi=jt,jt=null):fi=jt.sibling;var Or=Ve(_e,jt,Se[Ft],rt);if(Or===null){jt===null&&(jt=fi);break}c&&jt&&Or.alternate===null&&m(_e,jt),ye=$(Or,ye,Ft),Pt===null?wt=Or:Pt.sibling=Or,Pt=Or,jt=fi}if(Ft===Se.length)return _(_e,jt),gn&&Vc(_e,Ft),wt;if(jt===null){for(;Ft<Se.length;Ft++)jt=Ye(_e,Se[Ft],rt),jt!==null&&(ye=$(jt,ye,Ft),Pt===null?wt=jt:Pt.sibling=jt,Pt=jt);return gn&&Vc(_e,Ft),wt}for(jt=T(_e,jt);Ft<Se.length;Ft++)fi=ut(jt,_e,Ft,Se[Ft],rt),fi!==null&&(c&&fi.alternate!==null&&jt.delete(fi.key===null?Ft:fi.key),ye=$(fi,ye,Ft),Pt===null?wt=fi:Pt.sibling=fi,Pt=fi);return c&&jt.forEach(function(Bl){return m(_e,Bl)}),gn&&Vc(_e,Ft),wt}function yt(_e,ye,Se,rt){var wt=J(Se);if(typeof wt!="function")throw Error(r(150));if(Se=wt.call(Se),Se==null)throw Error(r(151));for(var Pt=wt=null,jt=ye,Ft=ye=0,fi=null,Or=Se.next();jt!==null&&!Or.done;Ft++,Or=Se.next()){jt.index>Ft?(fi=jt,jt=null):fi=jt.sibling;var Bl=Ve(_e,jt,Or.value,rt);if(Bl===null){jt===null&&(jt=fi);break}c&&jt&&Bl.alternate===null&&m(_e,jt),ye=$(Bl,ye,Ft),Pt===null?wt=Bl:Pt.sibling=Bl,Pt=Bl,jt=fi}if(Or.done)return _(_e,jt),gn&&Vc(_e,Ft),wt;if(jt===null){for(;!Or.done;Ft++,Or=Se.next())Or=Ye(_e,Or.value,rt),Or!==null&&(ye=$(Or,ye,Ft),Pt===null?wt=Or:Pt.sibling=Or,Pt=Or);return gn&&Vc(_e,Ft),wt}for(jt=T(_e,jt);!Or.done;Ft++,Or=Se.next())Or=ut(jt,_e,Ft,Or.value,rt),Or!==null&&(c&&Or.alternate!==null&&jt.delete(Or.key===null?Ft:Or.key),ye=$(Or,ye,Ft),Pt===null?wt=Or:Pt.sibling=Or,Pt=Or);return c&&jt.forEach(function(mG){return m(_e,mG)}),gn&&Vc(_e,Ft),wt}function jn(_e,ye,Se,rt){if(typeof Se=="object"&&Se!==null&&Se.type===B&&Se.key===null&&(Se=Se.props.children),typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case R:e:{for(var wt=Se.key,Pt=ye;Pt!==null;){if(Pt.key===wt){if(wt=Se.type,wt===B){if(Pt.tag===7){_(_e,Pt.sibling),ye=L(Pt,Se.props.children),ye.return=_e,_e=ye;break e}}else if(Pt.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===se&&tP(wt)===Pt.type){_(_e,Pt.sibling),ye=L(Pt,Se.props),ye.ref=Wh(_e,Pt,Se),ye.return=_e,_e=ye;break e}_(_e,Pt);break}else m(_e,Pt);Pt=Pt.sibling}Se.type===B?(ye=Xc(Se.props.children,_e.mode,rt,Se.key),ye.return=_e,_e=ye):(rt=_0(Se.type,Se.key,Se.props,null,_e.mode,rt),rt.ref=Wh(_e,ye,Se),rt.return=_e,_e=rt)}return Z(_e);case M:e:{for(Pt=Se.key;ye!==null;){if(ye.key===Pt)if(ye.tag===4&&ye.stateNode.containerInfo===Se.containerInfo&&ye.stateNode.implementation===Se.implementation){_(_e,ye.sibling),ye=L(ye,Se.children||[]),ye.return=_e,_e=ye;break e}else{_(_e,ye);break}else m(_e,ye);ye=ye.sibling}ye=Yw(Se,_e.mode,rt),ye.return=_e,_e=ye}return Z(_e);case se:return Pt=Se._init,jn(_e,ye,Pt(Se._payload),rt)}if(de(Se))return vt(_e,ye,Se,rt);if(J(Se))return yt(_e,ye,Se,rt);Qg(_e,Se)}return typeof Se=="string"&&Se!==""||typeof Se=="number"?(Se=""+Se,ye!==null&&ye.tag===6?(_(_e,ye.sibling),ye=L(ye,Se),ye.return=_e,_e=ye):(_(_e,ye),ye=Kw(Se,_e.mode,rt),ye.return=_e,_e=ye),Z(_e)):_(_e,ye)}return jn}var wd=rP(!0),nP=rP(!1),Jg=Ol(null),e0=null,bd=null,iw=null;function aw(){iw=bd=e0=null}function sw(c){var m=Jg.current;un(Jg),c._currentValue=m}function ow(c,m,_){for(;c!==null;){var T=c.alternate;if((c.childLanes&m)!==m?(c.childLanes|=m,T!==null&&(T.childLanes|=m)):T!==null&&(T.childLanes&m)!==m&&(T.childLanes|=m),c===_)break;c=c.return}}function _d(c,m){e0=c,iw=bd=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&m)!==0&&(aa=!0),c.firstContext=null)}function Za(c){var m=c._currentValue;if(iw!==c)if(c={context:c,memoizedValue:m,next:null},bd===null){if(e0===null)throw Error(r(308));bd=c,e0.dependencies={lanes:0,firstContext:c}}else bd=bd.next=c;return m}var Wc=null;function lw(c){Wc===null?Wc=[c]:Wc.push(c)}function iP(c,m,_,T){var L=m.interleaved;return L===null?(_.next=_,lw(m)):(_.next=L.next,L.next=_),m.interleaved=_,Mo(c,T)}function Mo(c,m){c.lanes|=m;var _=c.alternate;for(_!==null&&(_.lanes|=m),_=c,c=c.return;c!==null;)c.childLanes|=m,_=c.alternate,_!==null&&(_.childLanes|=m),_=c,c=c.return;return _.tag===3?_.stateNode:null}var kl=!1;function cw(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aP(c,m){c=c.updateQueue,m.updateQueue===c&&(m.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Do(c,m){return{eventTime:c,lane:m,tag:0,payload:null,callback:null,next:null}}function Pl(c,m,_){var T=c.updateQueue;if(T===null)return null;if(T=T.shared,(br&2)!==0){var L=T.pending;return L===null?m.next=m:(m.next=L.next,L.next=m),T.pending=m,Mo(c,_)}return L=T.interleaved,L===null?(m.next=m,lw(T)):(m.next=L.next,L.next=m),T.interleaved=m,Mo(c,_)}function t0(c,m,_){if(m=m.updateQueue,m!==null&&(m=m.shared,(_&4194240)!==0)){var T=m.lanes;T&=c.pendingLanes,_|=T,m.lanes=_,En(c,_)}}function sP(c,m){var _=c.updateQueue,T=c.alternate;if(T!==null&&(T=T.updateQueue,_===T)){var L=null,$=null;if(_=_.firstBaseUpdate,_!==null){do{var Z={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};$===null?L=$=Z:$=$.next=Z,_=_.next}while(_!==null);$===null?L=$=m:$=$.next=m}else L=$=m;_={baseState:T.baseState,firstBaseUpdate:L,lastBaseUpdate:$,shared:T.shared,effects:T.effects},c.updateQueue=_;return}c=_.lastBaseUpdate,c===null?_.firstBaseUpdate=m:c.next=m,_.lastBaseUpdate=m}function r0(c,m,_,T){var L=c.updateQueue;kl=!1;var $=L.firstBaseUpdate,Z=L.lastBaseUpdate,ce=L.shared.pending;if(ce!==null){L.shared.pending=null;var me=ce,Oe=me.next;me.next=null,Z===null?$=Oe:Z.next=Oe,Z=me;var ze=c.alternate;ze!==null&&(ze=ze.updateQueue,ce=ze.lastBaseUpdate,ce!==Z&&(ce===null?ze.firstBaseUpdate=Oe:ce.next=Oe,ze.lastBaseUpdate=me))}if($!==null){var Ye=L.baseState;Z=0,ze=Oe=me=null,ce=$;do{var Ve=ce.lane,ut=ce.eventTime;if((T&Ve)===Ve){ze!==null&&(ze=ze.next={eventTime:ut,lane:0,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null});e:{var vt=c,yt=ce;switch(Ve=m,ut=_,yt.tag){case 1:if(vt=yt.payload,typeof vt=="function"){Ye=vt.call(ut,Ye,Ve);break e}Ye=vt;break e;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=yt.payload,Ve=typeof vt=="function"?vt.call(ut,Ye,Ve):vt,Ve==null)break e;Ye=he({},Ye,Ve);break e;case 2:kl=!0}}ce.callback!==null&&ce.lane!==0&&(c.flags|=64,Ve=L.effects,Ve===null?L.effects=[ce]:Ve.push(ce))}else ut={eventTime:ut,lane:Ve,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},ze===null?(Oe=ze=ut,me=Ye):ze=ze.next=ut,Z|=Ve;if(ce=ce.next,ce===null){if(ce=L.shared.pending,ce===null)break;Ve=ce,ce=Ve.next,Ve.next=null,L.lastBaseUpdate=Ve,L.shared.pending=null}}while(!0);if(ze===null&&(me=Ye),L.baseState=me,L.firstBaseUpdate=Oe,L.lastBaseUpdate=ze,m=L.shared.interleaved,m!==null){L=m;do Z|=L.lane,L=L.next;while(L!==m)}else $===null&&(L.shared.lanes=0);Hc|=Z,c.lanes=Z,c.memoizedState=Ye}}function oP(c,m,_){if(c=m.effects,m.effects=null,c!==null)for(m=0;m<c.length;m++){var T=c[m],L=T.callback;if(L!==null){if(T.callback=null,T=_,typeof L!="function")throw Error(r(191,L));L.call(T)}}}var qh={},to=Ol(qh),zh=Ol(qh),Hh=Ol(qh);function qc(c){if(c===qh)throw Error(r(174));return c}function uw(c,m){switch(Qr(Hh,m),Qr(zh,c),Qr(to,qh),c=m.nodeType,c){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:It(null,"");break;default:c=c===8?m.parentNode:m,m=c.namespaceURI||null,c=c.tagName,m=It(m,c)}un(to),Qr(to,m)}function Sd(){un(to),un(zh),un(Hh)}function lP(c){qc(Hh.current);var m=qc(to.current),_=It(m,c.type);m!==_&&(Qr(zh,c),Qr(to,_))}function dw(c){zh.current===c&&(un(to),un(zh))}var wn=Ol(0);function n0(c){for(var m=c;m!==null;){if(m.tag===13){var _=m.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||_.data==="$?"||_.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===c)break;for(;m.sibling===null;){if(m.return===null||m.return===c)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var fw=[];function hw(){for(var c=0;c<fw.length;c++)fw[c]._workInProgressVersionPrimary=null;fw.length=0}var i0=F.ReactCurrentDispatcher,pw=F.ReactCurrentBatchConfig,zc=0,bn=null,Zn=null,ui=null,a0=!1,Gh=!1,Kh=0,LH=0;function Pi(){throw Error(r(321))}function mw(c,m){if(m===null)return!1;for(var _=0;_<m.length&&_<c.length;_++)if(!xe(c[_],m[_]))return!1;return!0}function gw(c,m,_,T,L,$){if(zc=$,bn=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,i0.current=c===null||c.memoizedState===null?UH:VH,c=_(T,L),Gh){$=0;do{if(Gh=!1,Kh=0,25<=$)throw Error(r(301));$+=1,ui=Zn=null,m.updateQueue=null,i0.current=WH,c=_(T,L)}while(Gh)}if(i0.current=l0,m=Zn!==null&&Zn.next!==null,zc=0,ui=Zn=bn=null,a0=!1,m)throw Error(r(300));return c}function vw(){var c=Kh!==0;return Kh=0,c}function ro(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ui===null?bn.memoizedState=ui=c:ui=ui.next=c,ui}function Qa(){if(Zn===null){var c=bn.alternate;c=c!==null?c.memoizedState:null}else c=Zn.next;var m=ui===null?bn.memoizedState:ui.next;if(m!==null)ui=m,Zn=c;else{if(c===null)throw Error(r(310));Zn=c,c={memoizedState:Zn.memoizedState,baseState:Zn.baseState,baseQueue:Zn.baseQueue,queue:Zn.queue,next:null},ui===null?bn.memoizedState=ui=c:ui=ui.next=c}return ui}function Yh(c,m){return typeof m=="function"?m(c):m}function yw(c){var m=Qa(),_=m.queue;if(_===null)throw Error(r(311));_.lastRenderedReducer=c;var T=Zn,L=T.baseQueue,$=_.pending;if($!==null){if(L!==null){var Z=L.next;L.next=$.next,$.next=Z}T.baseQueue=L=$,_.pending=null}if(L!==null){$=L.next,T=T.baseState;var ce=Z=null,me=null,Oe=$;do{var ze=Oe.lane;if((zc&ze)===ze)me!==null&&(me=me.next={lane:0,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),T=Oe.hasEagerState?Oe.eagerState:c(T,Oe.action);else{var Ye={lane:ze,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null};me===null?(ce=me=Ye,Z=T):me=me.next=Ye,bn.lanes|=ze,Hc|=ze}Oe=Oe.next}while(Oe!==null&&Oe!==$);me===null?Z=T:me.next=ce,xe(T,m.memoizedState)||(aa=!0),m.memoizedState=T,m.baseState=Z,m.baseQueue=me,_.lastRenderedState=T}if(c=_.interleaved,c!==null){L=c;do $=L.lane,bn.lanes|=$,Hc|=$,L=L.next;while(L!==c)}else L===null&&(_.lanes=0);return[m.memoizedState,_.dispatch]}function xw(c){var m=Qa(),_=m.queue;if(_===null)throw Error(r(311));_.lastRenderedReducer=c;var T=_.dispatch,L=_.pending,$=m.memoizedState;if(L!==null){_.pending=null;var Z=L=L.next;do $=c($,Z.action),Z=Z.next;while(Z!==L);xe($,m.memoizedState)||(aa=!0),m.memoizedState=$,m.baseQueue===null&&(m.baseState=$),_.lastRenderedState=$}return[$,T]}function cP(){}function uP(c,m){var _=bn,T=Qa(),L=m(),$=!xe(T.memoizedState,L);if($&&(T.memoizedState=L,aa=!0),T=T.queue,ww(hP.bind(null,_,T,c),[c]),T.getSnapshot!==m||$||ui!==null&&ui.memoizedState.tag&1){if(_.flags|=2048,Xh(9,fP.bind(null,_,T,L,m),void 0,null),di===null)throw Error(r(349));(zc&30)!==0||dP(_,m,L)}return L}function dP(c,m,_){c.flags|=16384,c={getSnapshot:m,value:_},m=bn.updateQueue,m===null?(m={lastEffect:null,stores:null},bn.updateQueue=m,m.stores=[c]):(_=m.stores,_===null?m.stores=[c]:_.push(c))}function fP(c,m,_,T){m.value=_,m.getSnapshot=T,pP(m)&&mP(c)}function hP(c,m,_){return _(function(){pP(m)&&mP(c)})}function pP(c){var m=c.getSnapshot;c=c.value;try{var _=m();return!xe(c,_)}catch{return!0}}function mP(c){var m=Mo(c,1);m!==null&&Os(m,c,1,-1)}function gP(c){var m=ro();return typeof c=="function"&&(c=c()),m.memoizedState=m.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yh,lastRenderedState:c},m.queue=c,c=c.dispatch=$H.bind(null,bn,c),[m.memoizedState,c]}function Xh(c,m,_,T){return c={tag:c,create:m,destroy:_,deps:T,next:null},m=bn.updateQueue,m===null?(m={lastEffect:null,stores:null},bn.updateQueue=m,m.lastEffect=c.next=c):(_=m.lastEffect,_===null?m.lastEffect=c.next=c:(T=_.next,_.next=c,c.next=T,m.lastEffect=c)),c}function vP(){return Qa().memoizedState}function s0(c,m,_,T){var L=ro();bn.flags|=c,L.memoizedState=Xh(1|m,_,void 0,T===void 0?null:T)}function o0(c,m,_,T){var L=Qa();T=T===void 0?null:T;var $=void 0;if(Zn!==null){var Z=Zn.memoizedState;if($=Z.destroy,T!==null&&mw(T,Z.deps)){L.memoizedState=Xh(m,_,$,T);return}}bn.flags|=c,L.memoizedState=Xh(1|m,_,$,T)}function yP(c,m){return s0(8390656,8,c,m)}function ww(c,m){return o0(2048,8,c,m)}function xP(c,m){return o0(4,2,c,m)}function wP(c,m){return o0(4,4,c,m)}function bP(c,m){if(typeof m=="function")return c=c(),m(c),function(){m(null)};if(m!=null)return c=c(),m.current=c,function(){m.current=null}}function _P(c,m,_){return _=_!=null?_.concat([c]):null,o0(4,4,bP.bind(null,m,c),_)}function bw(){}function SP(c,m){var _=Qa();m=m===void 0?null:m;var T=_.memoizedState;return T!==null&&m!==null&&mw(m,T[1])?T[0]:(_.memoizedState=[c,m],c)}function EP(c,m){var _=Qa();m=m===void 0?null:m;var T=_.memoizedState;return T!==null&&m!==null&&mw(m,T[1])?T[0]:(c=c(),_.memoizedState=[c,m],c)}function CP(c,m,_){return(zc&21)===0?(c.baseState&&(c.baseState=!1,aa=!0),c.memoizedState=_):(xe(_,m)||(_=Gn(),bn.lanes|=_,Hc|=_,c.baseState=!0),m)}function BH(c,m){var _=Qt;Qt=_!==0&&4>_?_:4,c(!0);var T=pw.transition;pw.transition={};try{c(!1),m()}finally{Qt=_,pw.transition=T}}function AP(){return Qa().memoizedState}function FH(c,m,_){var T=Ml(c);if(_={lane:T,action:_,hasEagerState:!1,eagerState:null,next:null},OP(c))TP(m,_);else if(_=iP(c,m,_,T),_!==null){var L=Ui();Os(_,c,T,L),NP(_,m,T)}}function $H(c,m,_){var T=Ml(c),L={lane:T,action:_,hasEagerState:!1,eagerState:null,next:null};if(OP(c))TP(m,L);else{var $=c.alternate;if(c.lanes===0&&($===null||$.lanes===0)&&($=m.lastRenderedReducer,$!==null))try{var Z=m.lastRenderedState,ce=$(Z,_);if(L.hasEagerState=!0,L.eagerState=ce,xe(ce,Z)){var me=m.interleaved;me===null?(L.next=L,lw(m)):(L.next=me.next,me.next=L),m.interleaved=L;return}}catch{}finally{}_=iP(c,m,L,T),_!==null&&(L=Ui(),Os(_,c,T,L),NP(_,m,T))}}function OP(c){var m=c.alternate;return c===bn||m!==null&&m===bn}function TP(c,m){Gh=a0=!0;var _=c.pending;_===null?m.next=m:(m.next=_.next,_.next=m),c.pending=m}function NP(c,m,_){if((_&4194240)!==0){var T=m.lanes;T&=c.pendingLanes,_|=T,m.lanes=_,En(c,_)}}var l0={readContext:Za,useCallback:Pi,useContext:Pi,useEffect:Pi,useImperativeHandle:Pi,useInsertionEffect:Pi,useLayoutEffect:Pi,useMemo:Pi,useReducer:Pi,useRef:Pi,useState:Pi,useDebugValue:Pi,useDeferredValue:Pi,useTransition:Pi,useMutableSource:Pi,useSyncExternalStore:Pi,useId:Pi,unstable_isNewReconciler:!1},UH={readContext:Za,useCallback:function(c,m){return ro().memoizedState=[c,m===void 0?null:m],c},useContext:Za,useEffect:yP,useImperativeHandle:function(c,m,_){return _=_!=null?_.concat([c]):null,s0(4194308,4,bP.bind(null,m,c),_)},useLayoutEffect:function(c,m){return s0(4194308,4,c,m)},useInsertionEffect:function(c,m){return s0(4,2,c,m)},useMemo:function(c,m){var _=ro();return m=m===void 0?null:m,c=c(),_.memoizedState=[c,m],c},useReducer:function(c,m,_){var T=ro();return m=_!==void 0?_(m):m,T.memoizedState=T.baseState=m,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:m},T.queue=c,c=c.dispatch=FH.bind(null,bn,c),[T.memoizedState,c]},useRef:function(c){var m=ro();return c={current:c},m.memoizedState=c},useState:gP,useDebugValue:bw,useDeferredValue:function(c){return ro().memoizedState=c},useTransition:function(){var c=gP(!1),m=c[0];return c=BH.bind(null,c[1]),ro().memoizedState=c,[m,c]},useMutableSource:function(){},useSyncExternalStore:function(c,m,_){var T=bn,L=ro();if(gn){if(_===void 0)throw Error(r(407));_=_()}else{if(_=m(),di===null)throw Error(r(349));(zc&30)!==0||dP(T,m,_)}L.memoizedState=_;var $={value:_,getSnapshot:m};return L.queue=$,yP(hP.bind(null,T,$,c),[c]),T.flags|=2048,Xh(9,fP.bind(null,T,$,_,m),void 0,null),_},useId:function(){var c=ro(),m=di.identifierPrefix;if(gn){var _=Ro,T=Io;_=(T&~(1<<32-Fi(T)-1)).toString(32)+_,m=":"+m+"R"+_,_=Kh++,0<_&&(m+="H"+_.toString(32)),m+=":"}else _=LH++,m=":"+m+"r"+_.toString(32)+":";return c.memoizedState=m},unstable_isNewReconciler:!1},VH={readContext:Za,useCallback:SP,useContext:Za,useEffect:ww,useImperativeHandle:_P,useInsertionEffect:xP,useLayoutEffect:wP,useMemo:EP,useReducer:yw,useRef:vP,useState:function(){return yw(Yh)},useDebugValue:bw,useDeferredValue:function(c){var m=Qa();return CP(m,Zn.memoizedState,c)},useTransition:function(){var c=yw(Yh)[0],m=Qa().memoizedState;return[c,m]},useMutableSource:cP,useSyncExternalStore:uP,useId:AP,unstable_isNewReconciler:!1},WH={readContext:Za,useCallback:SP,useContext:Za,useEffect:ww,useImperativeHandle:_P,useInsertionEffect:xP,useLayoutEffect:wP,useMemo:EP,useReducer:xw,useRef:vP,useState:function(){return xw(Yh)},useDebugValue:bw,useDeferredValue:function(c){var m=Qa();return Zn===null?m.memoizedState=c:CP(m,Zn.memoizedState,c)},useTransition:function(){var c=xw(Yh)[0],m=Qa().memoizedState;return[c,m]},useMutableSource:cP,useSyncExternalStore:uP,useId:AP,unstable_isNewReconciler:!1};function Es(c,m){if(c&&c.defaultProps){m=he({},m),c=c.defaultProps;for(var _ in c)m[_]===void 0&&(m[_]=c[_]);return m}return m}function _w(c,m,_,T){m=c.memoizedState,_=_(T,m),_=_==null?m:he({},m,_),c.memoizedState=_,c.lanes===0&&(c.updateQueue.baseState=_)}var c0={isMounted:function(c){return(c=c._reactInternals)?ra(c)===c:!1},enqueueSetState:function(c,m,_){c=c._reactInternals;var T=Ui(),L=Ml(c),$=Do(T,L);$.payload=m,_!=null&&($.callback=_),m=Pl(c,$,L),m!==null&&(Os(m,c,L,T),t0(m,c,L))},enqueueReplaceState:function(c,m,_){c=c._reactInternals;var T=Ui(),L=Ml(c),$=Do(T,L);$.tag=1,$.payload=m,_!=null&&($.callback=_),m=Pl(c,$,L),m!==null&&(Os(m,c,L,T),t0(m,c,L))},enqueueForceUpdate:function(c,m){c=c._reactInternals;var _=Ui(),T=Ml(c),L=Do(_,T);L.tag=2,m!=null&&(L.callback=m),m=Pl(c,L,T),m!==null&&(Os(m,c,T,_),t0(m,c,T))}};function kP(c,m,_,T,L,$,Z){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(T,$,Z):m.prototype&&m.prototype.isPureReactComponent?!Ce(_,T)||!Ce(L,$):!0}function PP(c,m,_){var T=!1,L=Tl,$=m.contextType;return typeof $=="object"&&$!==null?$=Za($):(L=ia(m)?$c:ki.current,T=m.contextTypes,$=(T=T!=null)?gd(c,L):Tl),m=new m(_,$),c.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=c0,c.stateNode=m,m._reactInternals=c,T&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=L,c.__reactInternalMemoizedMaskedChildContext=$),m}function jP(c,m,_,T){c=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(_,T),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(_,T),m.state!==c&&c0.enqueueReplaceState(m,m.state,null)}function Sw(c,m,_,T){var L=c.stateNode;L.props=_,L.state=c.memoizedState,L.refs={},cw(c);var $=m.contextType;typeof $=="object"&&$!==null?L.context=Za($):($=ia(m)?$c:ki.current,L.context=gd(c,$)),L.state=c.memoizedState,$=m.getDerivedStateFromProps,typeof $=="function"&&(_w(c,m,$,_),L.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(m=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),m!==L.state&&c0.enqueueReplaceState(L,L.state,null),r0(c,_,L,T),L.state=c.memoizedState),typeof L.componentDidMount=="function"&&(c.flags|=4194308)}function Ed(c,m){try{var _="",T=m;do _+=qe(T),T=T.return;while(T);var L=_}catch($){L=`
Error generating stack: `+$.message+`
`+$.stack}return{value:c,source:m,stack:L,digest:null}}function Ew(c,m,_){return{value:c,source:null,stack:_??null,digest:m??null}}function Cw(c,m){try{console.error(m.value)}catch(_){setTimeout(function(){throw _})}}var qH=typeof WeakMap=="function"?WeakMap:Map;function IP(c,m,_){_=Do(-1,_),_.tag=3,_.payload={element:null};var T=m.value;return _.callback=function(){g0||(g0=!0,$w=T),Cw(c,m)},_}function RP(c,m,_){_=Do(-1,_),_.tag=3;var T=c.type.getDerivedStateFromError;if(typeof T=="function"){var L=m.value;_.payload=function(){return T(L)},_.callback=function(){Cw(c,m)}}var $=c.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(_.callback=function(){Cw(c,m),typeof T!="function"&&(Il===null?Il=new Set([this]):Il.add(this));var Z=m.stack;this.componentDidCatch(m.value,{componentStack:Z!==null?Z:""})}),_}function MP(c,m,_){var T=c.pingCache;if(T===null){T=c.pingCache=new qH;var L=new Set;T.set(m,L)}else L=T.get(m),L===void 0&&(L=new Set,T.set(m,L));L.has(_)||(L.add(_),c=iG.bind(null,c,m,_),m.then(c,c))}function DP(c){do{var m;if((m=c.tag===13)&&(m=c.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return c;c=c.return}while(c!==null);return null}function LP(c,m,_,T,L){return(c.mode&1)===0?(c===m?c.flags|=65536:(c.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(m=Do(-1,1),m.tag=2,Pl(_,m,1))),_.lanes|=1),c):(c.flags|=65536,c.lanes=L,c)}var zH=F.ReactCurrentOwner,aa=!1;function $i(c,m,_,T){m.child=c===null?nP(m,null,_,T):wd(m,c.child,_,T)}function BP(c,m,_,T,L){_=_.render;var $=m.ref;return _d(m,L),T=gw(c,m,_,T,$,L),_=vw(),c!==null&&!aa?(m.updateQueue=c.updateQueue,m.flags&=-2053,c.lanes&=~L,Lo(c,m,L)):(gn&&_&&Jx(m),m.flags|=1,$i(c,m,T,L),m.child)}function FP(c,m,_,T,L){if(c===null){var $=_.type;return typeof $=="function"&&!Gw($)&&$.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(m.tag=15,m.type=$,$P(c,m,$,T,L)):(c=_0(_.type,null,T,m,m.mode,L),c.ref=m.ref,c.return=m,m.child=c)}if($=c.child,(c.lanes&L)===0){var Z=$.memoizedProps;if(_=_.compare,_=_!==null?_:Ce,_(Z,T)&&c.ref===m.ref)return Lo(c,m,L)}return m.flags|=1,c=Ll($,T),c.ref=m.ref,c.return=m,m.child=c}function $P(c,m,_,T,L){if(c!==null){var $=c.memoizedProps;if(Ce($,T)&&c.ref===m.ref)if(aa=!1,m.pendingProps=T=$,(c.lanes&L)!==0)(c.flags&131072)!==0&&(aa=!0);else return m.lanes=c.lanes,Lo(c,m,L)}return Aw(c,m,_,T,L)}function UP(c,m,_){var T=m.pendingProps,L=T.children,$=c!==null?c.memoizedState:null;if(T.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qr(Ad,Aa),Aa|=_;else{if((_&1073741824)===0)return c=$!==null?$.baseLanes|_:_,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:c,cachePool:null,transitions:null},m.updateQueue=null,Qr(Ad,Aa),Aa|=c,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},T=$!==null?$.baseLanes:_,Qr(Ad,Aa),Aa|=T}else $!==null?(T=$.baseLanes|_,m.memoizedState=null):T=_,Qr(Ad,Aa),Aa|=T;return $i(c,m,L,_),m.child}function VP(c,m){var _=m.ref;(c===null&&_!==null||c!==null&&c.ref!==_)&&(m.flags|=512,m.flags|=2097152)}function Aw(c,m,_,T,L){var $=ia(_)?$c:ki.current;return $=gd(m,$),_d(m,L),_=gw(c,m,_,T,$,L),T=vw(),c!==null&&!aa?(m.updateQueue=c.updateQueue,m.flags&=-2053,c.lanes&=~L,Lo(c,m,L)):(gn&&T&&Jx(m),m.flags|=1,$i(c,m,_,L),m.child)}function WP(c,m,_,T,L){if(ia(_)){var $=!0;Gg(m)}else $=!1;if(_d(m,L),m.stateNode===null)d0(c,m),PP(m,_,T),Sw(m,_,T,L),T=!0;else if(c===null){var Z=m.stateNode,ce=m.memoizedProps;Z.props=ce;var me=Z.context,Oe=_.contextType;typeof Oe=="object"&&Oe!==null?Oe=Za(Oe):(Oe=ia(_)?$c:ki.current,Oe=gd(m,Oe));var ze=_.getDerivedStateFromProps,Ye=typeof ze=="function"||typeof Z.getSnapshotBeforeUpdate=="function";Ye||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(ce!==T||me!==Oe)&&jP(m,Z,T,Oe),kl=!1;var Ve=m.memoizedState;Z.state=Ve,r0(m,T,Z,L),me=m.memoizedState,ce!==T||Ve!==me||na.current||kl?(typeof ze=="function"&&(_w(m,_,ze,T),me=m.memoizedState),(ce=kl||kP(m,_,ce,T,Ve,me,Oe))?(Ye||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount()),typeof Z.componentDidMount=="function"&&(m.flags|=4194308)):(typeof Z.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=T,m.memoizedState=me),Z.props=T,Z.state=me,Z.context=Oe,T=ce):(typeof Z.componentDidMount=="function"&&(m.flags|=4194308),T=!1)}else{Z=m.stateNode,aP(c,m),ce=m.memoizedProps,Oe=m.type===m.elementType?ce:Es(m.type,ce),Z.props=Oe,Ye=m.pendingProps,Ve=Z.context,me=_.contextType,typeof me=="object"&&me!==null?me=Za(me):(me=ia(_)?$c:ki.current,me=gd(m,me));var ut=_.getDerivedStateFromProps;(ze=typeof ut=="function"||typeof Z.getSnapshotBeforeUpdate=="function")||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(ce!==Ye||Ve!==me)&&jP(m,Z,T,me),kl=!1,Ve=m.memoizedState,Z.state=Ve,r0(m,T,Z,L);var vt=m.memoizedState;ce!==Ye||Ve!==vt||na.current||kl?(typeof ut=="function"&&(_w(m,_,ut,T),vt=m.memoizedState),(Oe=kl||kP(m,_,Oe,T,Ve,vt,me)||!1)?(ze||typeof Z.UNSAFE_componentWillUpdate!="function"&&typeof Z.componentWillUpdate!="function"||(typeof Z.componentWillUpdate=="function"&&Z.componentWillUpdate(T,vt,me),typeof Z.UNSAFE_componentWillUpdate=="function"&&Z.UNSAFE_componentWillUpdate(T,vt,me)),typeof Z.componentDidUpdate=="function"&&(m.flags|=4),typeof Z.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof Z.componentDidUpdate!="function"||ce===c.memoizedProps&&Ve===c.memoizedState||(m.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||ce===c.memoizedProps&&Ve===c.memoizedState||(m.flags|=1024),m.memoizedProps=T,m.memoizedState=vt),Z.props=T,Z.state=vt,Z.context=me,T=Oe):(typeof Z.componentDidUpdate!="function"||ce===c.memoizedProps&&Ve===c.memoizedState||(m.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||ce===c.memoizedProps&&Ve===c.memoizedState||(m.flags|=1024),T=!1)}return Ow(c,m,_,T,$,L)}function Ow(c,m,_,T,L,$){VP(c,m);var Z=(m.flags&128)!==0;if(!T&&!Z)return L&&Kk(m,_,!1),Lo(c,m,$);T=m.stateNode,zH.current=m;var ce=Z&&typeof _.getDerivedStateFromError!="function"?null:T.render();return m.flags|=1,c!==null&&Z?(m.child=wd(m,c.child,null,$),m.child=wd(m,null,ce,$)):$i(c,m,ce,$),m.memoizedState=T.state,L&&Kk(m,_,!0),m.child}function qP(c){var m=c.stateNode;m.pendingContext?Hk(c,m.pendingContext,m.pendingContext!==m.context):m.context&&Hk(c,m.context,!1),uw(c,m.containerInfo)}function zP(c,m,_,T,L){return xd(),nw(L),m.flags|=256,$i(c,m,_,T),m.child}var Tw={dehydrated:null,treeContext:null,retryLane:0};function Nw(c){return{baseLanes:c,cachePool:null,transitions:null}}function HP(c,m,_){var T=m.pendingProps,L=wn.current,$=!1,Z=(m.flags&128)!==0,ce;if((ce=Z)||(ce=c!==null&&c.memoizedState===null?!1:(L&2)!==0),ce?($=!0,m.flags&=-129):(c===null||c.memoizedState!==null)&&(L|=1),Qr(wn,L&1),c===null)return rw(m),c=m.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((m.mode&1)===0?m.lanes=1:c.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(Z=T.children,c=T.fallback,$?(T=m.mode,$=m.child,Z={mode:"hidden",children:Z},(T&1)===0&&$!==null?($.childLanes=0,$.pendingProps=Z):$=S0(Z,T,0,null),c=Xc(c,T,_,null),$.return=m,c.return=m,$.sibling=c,m.child=$,m.child.memoizedState=Nw(_),m.memoizedState=Tw,c):kw(m,Z));if(L=c.memoizedState,L!==null&&(ce=L.dehydrated,ce!==null))return HH(c,m,Z,T,ce,L,_);if($){$=T.fallback,Z=m.mode,L=c.child,ce=L.sibling;var me={mode:"hidden",children:T.children};return(Z&1)===0&&m.child!==L?(T=m.child,T.childLanes=0,T.pendingProps=me,m.deletions=null):(T=Ll(L,me),T.subtreeFlags=L.subtreeFlags&14680064),ce!==null?$=Ll(ce,$):($=Xc($,Z,_,null),$.flags|=2),$.return=m,T.return=m,T.sibling=$,m.child=T,T=$,$=m.child,Z=c.child.memoizedState,Z=Z===null?Nw(_):{baseLanes:Z.baseLanes|_,cachePool:null,transitions:Z.transitions},$.memoizedState=Z,$.childLanes=c.childLanes&~_,m.memoizedState=Tw,T}return $=c.child,c=$.sibling,T=Ll($,{mode:"visible",children:T.children}),(m.mode&1)===0&&(T.lanes=_),T.return=m,T.sibling=null,c!==null&&(_=m.deletions,_===null?(m.deletions=[c],m.flags|=16):_.push(c)),m.child=T,m.memoizedState=null,T}function kw(c,m){return m=S0({mode:"visible",children:m},c.mode,0,null),m.return=c,c.child=m}function u0(c,m,_,T){return T!==null&&nw(T),wd(m,c.child,null,_),c=kw(m,m.pendingProps.children),c.flags|=2,m.memoizedState=null,c}function HH(c,m,_,T,L,$,Z){if(_)return m.flags&256?(m.flags&=-257,T=Ew(Error(r(422))),u0(c,m,Z,T)):m.memoizedState!==null?(m.child=c.child,m.flags|=128,null):($=T.fallback,L=m.mode,T=S0({mode:"visible",children:T.children},L,0,null),$=Xc($,L,Z,null),$.flags|=2,T.return=m,$.return=m,T.sibling=$,m.child=T,(m.mode&1)!==0&&wd(m,c.child,null,Z),m.child.memoizedState=Nw(Z),m.memoizedState=Tw,$);if((m.mode&1)===0)return u0(c,m,Z,null);if(L.data==="$!"){if(T=L.nextSibling&&L.nextSibling.dataset,T)var ce=T.dgst;return T=ce,$=Error(r(419)),T=Ew($,T,void 0),u0(c,m,Z,T)}if(ce=(Z&c.childLanes)!==0,aa||ce){if(T=di,T!==null){switch(Z&-Z){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}L=(L&(T.suspendedLanes|Z))!==0?0:L,L!==0&&L!==$.retryLane&&($.retryLane=L,Mo(c,L),Os(T,c,L,-1))}return Hw(),T=Ew(Error(r(421))),u0(c,m,Z,T)}return L.data==="$?"?(m.flags|=128,m.child=c.child,m=aG.bind(null,c),L._reactRetry=m,null):(c=$.treeContext,Ca=Al(L.nextSibling),Ea=m,gn=!0,Ss=null,c!==null&&(Ya[Xa++]=Io,Ya[Xa++]=Ro,Ya[Xa++]=Uc,Io=c.id,Ro=c.overflow,Uc=m),m=kw(m,T.children),m.flags|=4096,m)}function GP(c,m,_){c.lanes|=m;var T=c.alternate;T!==null&&(T.lanes|=m),ow(c.return,m,_)}function Pw(c,m,_,T,L){var $=c.memoizedState;$===null?c.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:T,tail:_,tailMode:L}:($.isBackwards=m,$.rendering=null,$.renderingStartTime=0,$.last=T,$.tail=_,$.tailMode=L)}function KP(c,m,_){var T=m.pendingProps,L=T.revealOrder,$=T.tail;if($i(c,m,T.children,_),T=wn.current,(T&2)!==0)T=T&1|2,m.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=m.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&GP(c,_,m);else if(c.tag===19)GP(c,_,m);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===m)break e;for(;c.sibling===null;){if(c.return===null||c.return===m)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}T&=1}if(Qr(wn,T),(m.mode&1)===0)m.memoizedState=null;else switch(L){case"forwards":for(_=m.child,L=null;_!==null;)c=_.alternate,c!==null&&n0(c)===null&&(L=_),_=_.sibling;_=L,_===null?(L=m.child,m.child=null):(L=_.sibling,_.sibling=null),Pw(m,!1,L,_,$);break;case"backwards":for(_=null,L=m.child,m.child=null;L!==null;){if(c=L.alternate,c!==null&&n0(c)===null){m.child=L;break}c=L.sibling,L.sibling=_,_=L,L=c}Pw(m,!0,_,null,$);break;case"together":Pw(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function d0(c,m){(m.mode&1)===0&&c!==null&&(c.alternate=null,m.alternate=null,m.flags|=2)}function Lo(c,m,_){if(c!==null&&(m.dependencies=c.dependencies),Hc|=m.lanes,(_&m.childLanes)===0)return null;if(c!==null&&m.child!==c.child)throw Error(r(153));if(m.child!==null){for(c=m.child,_=Ll(c,c.pendingProps),m.child=_,_.return=m;c.sibling!==null;)c=c.sibling,_=_.sibling=Ll(c,c.pendingProps),_.return=m;_.sibling=null}return m.child}function GH(c,m,_){switch(m.tag){case 3:qP(m),xd();break;case 5:lP(m);break;case 1:ia(m.type)&&Gg(m);break;case 4:uw(m,m.stateNode.containerInfo);break;case 10:var T=m.type._context,L=m.memoizedProps.value;Qr(Jg,T._currentValue),T._currentValue=L;break;case 13:if(T=m.memoizedState,T!==null)return T.dehydrated!==null?(Qr(wn,wn.current&1),m.flags|=128,null):(_&m.child.childLanes)!==0?HP(c,m,_):(Qr(wn,wn.current&1),c=Lo(c,m,_),c!==null?c.sibling:null);Qr(wn,wn.current&1);break;case 19:if(T=(_&m.childLanes)!==0,(c.flags&128)!==0){if(T)return KP(c,m,_);m.flags|=128}if(L=m.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),Qr(wn,wn.current),T)break;return null;case 22:case 23:return m.lanes=0,UP(c,m,_)}return Lo(c,m,_)}var YP,jw,XP,ZP;YP=function(c,m){for(var _=m.child;_!==null;){if(_.tag===5||_.tag===6)c.appendChild(_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===m)break;for(;_.sibling===null;){if(_.return===null||_.return===m)return;_=_.return}_.sibling.return=_.return,_=_.sibling}},jw=function(){},XP=function(c,m,_,T){var L=c.memoizedProps;if(L!==T){c=m.stateNode,qc(to.current);var $=null;switch(_){case"input":L=Ie(c,L),T=Ie(c,T),$=[];break;case"select":L=he({},L,{value:void 0}),T=he({},T,{value:void 0}),$=[];break;case"textarea":L=Ee(c,L),T=Ee(c,T),$=[];break;default:typeof L.onClick!="function"&&typeof T.onClick=="function"&&(c.onclick=qg)}Jt(_,T);var Z;_=null;for(Oe in L)if(!T.hasOwnProperty(Oe)&&L.hasOwnProperty(Oe)&&L[Oe]!=null)if(Oe==="style"){var ce=L[Oe];for(Z in ce)ce.hasOwnProperty(Z)&&(_||(_={}),_[Z]="")}else Oe!=="dangerouslySetInnerHTML"&&Oe!=="children"&&Oe!=="suppressContentEditableWarning"&&Oe!=="suppressHydrationWarning"&&Oe!=="autoFocus"&&(i.hasOwnProperty(Oe)?$||($=[]):($=$||[]).push(Oe,null));for(Oe in T){var me=T[Oe];if(ce=L?.[Oe],T.hasOwnProperty(Oe)&&me!==ce&&(me!=null||ce!=null))if(Oe==="style")if(ce){for(Z in ce)!ce.hasOwnProperty(Z)||me&&me.hasOwnProperty(Z)||(_||(_={}),_[Z]="");for(Z in me)me.hasOwnProperty(Z)&&ce[Z]!==me[Z]&&(_||(_={}),_[Z]=me[Z])}else _||($||($=[]),$.push(Oe,_)),_=me;else Oe==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,ce=ce?ce.__html:void 0,me!=null&&ce!==me&&($=$||[]).push(Oe,me)):Oe==="children"?typeof me!="string"&&typeof me!="number"||($=$||[]).push(Oe,""+me):Oe!=="suppressContentEditableWarning"&&Oe!=="suppressHydrationWarning"&&(i.hasOwnProperty(Oe)?(me!=null&&Oe==="onScroll"&&cn("scroll",c),$||ce===me||($=[])):($=$||[]).push(Oe,me))}_&&($=$||[]).push("style",_);var Oe=$;(m.updateQueue=Oe)&&(m.flags|=4)}},ZP=function(c,m,_,T){_!==T&&(m.flags|=4)};function Zh(c,m){if(!gn)switch(c.tailMode){case"hidden":m=c.tail;for(var _=null;m!==null;)m.alternate!==null&&(_=m),m=m.sibling;_===null?c.tail=null:_.sibling=null;break;case"collapsed":_=c.tail;for(var T=null;_!==null;)_.alternate!==null&&(T=_),_=_.sibling;T===null?m||c.tail===null?c.tail=null:c.tail.sibling=null:T.sibling=null}}function ji(c){var m=c.alternate!==null&&c.alternate.child===c.child,_=0,T=0;if(m)for(var L=c.child;L!==null;)_|=L.lanes|L.childLanes,T|=L.subtreeFlags&14680064,T|=L.flags&14680064,L.return=c,L=L.sibling;else for(L=c.child;L!==null;)_|=L.lanes|L.childLanes,T|=L.subtreeFlags,T|=L.flags,L.return=c,L=L.sibling;return c.subtreeFlags|=T,c.childLanes=_,m}function KH(c,m,_){var T=m.pendingProps;switch(ew(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ji(m),null;case 1:return ia(m.type)&&Hg(),ji(m),null;case 3:return T=m.stateNode,Sd(),un(na),un(ki),hw(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(c===null||c.child===null)&&(Zg(m)?m.flags|=4:c===null||c.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Ss!==null&&(Ww(Ss),Ss=null))),jw(c,m),ji(m),null;case 5:dw(m);var L=qc(Hh.current);if(_=m.type,c!==null&&m.stateNode!=null)XP(c,m,_,T,L),c.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!T){if(m.stateNode===null)throw Error(r(166));return ji(m),null}if(c=qc(to.current),Zg(m)){T=m.stateNode,_=m.type;var $=m.memoizedProps;switch(T[eo]=m,T[Uh]=$,c=(m.mode&1)!==0,_){case"dialog":cn("cancel",T),cn("close",T);break;case"iframe":case"object":case"embed":cn("load",T);break;case"video":case"audio":for(L=0;L<Bh.length;L++)cn(Bh[L],T);break;case"source":cn("error",T);break;case"img":case"image":case"link":cn("error",T),cn("load",T);break;case"details":cn("toggle",T);break;case"input":Ge(T,$),cn("invalid",T);break;case"select":T._wrapperState={wasMultiple:!!$.multiple},cn("invalid",T);break;case"textarea":Xe(T,$),cn("invalid",T)}Jt(_,$),L=null;for(var Z in $)if($.hasOwnProperty(Z)){var ce=$[Z];Z==="children"?typeof ce=="string"?T.textContent!==ce&&($.suppressHydrationWarning!==!0&&Wg(T.textContent,ce,c),L=["children",ce]):typeof ce=="number"&&T.textContent!==""+ce&&($.suppressHydrationWarning!==!0&&Wg(T.textContent,ce,c),L=["children",""+ce]):i.hasOwnProperty(Z)&&ce!=null&&Z==="onScroll"&&cn("scroll",T)}switch(_){case"input":ue(T),ot(T,$,!0);break;case"textarea":ue(T),$e(T);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(T.onclick=qg)}T=L,m.updateQueue=T,T!==null&&(m.flags|=4)}else{Z=L.nodeType===9?L:L.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=tt(_)),c==="http://www.w3.org/1999/xhtml"?_==="script"?(c=Z.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof T.is=="string"?c=Z.createElement(_,{is:T.is}):(c=Z.createElement(_),_==="select"&&(Z=c,T.multiple?Z.multiple=!0:T.size&&(Z.size=T.size))):c=Z.createElementNS(c,_),c[eo]=m,c[Uh]=T,YP(c,m,!1,!1),m.stateNode=c;e:{switch(Z=Rr(_,T),_){case"dialog":cn("cancel",c),cn("close",c),L=T;break;case"iframe":case"object":case"embed":cn("load",c),L=T;break;case"video":case"audio":for(L=0;L<Bh.length;L++)cn(Bh[L],c);L=T;break;case"source":cn("error",c),L=T;break;case"img":case"image":case"link":cn("error",c),cn("load",c),L=T;break;case"details":cn("toggle",c),L=T;break;case"input":Ge(c,T),L=Ie(c,T),cn("invalid",c);break;case"option":L=T;break;case"select":c._wrapperState={wasMultiple:!!T.multiple},L=he({},T,{value:void 0}),cn("invalid",c);break;case"textarea":Xe(c,T),L=Ee(c,T),cn("invalid",c);break;default:L=T}Jt(_,L),ce=L;for($ in ce)if(ce.hasOwnProperty($)){var me=ce[$];$==="style"?Ke(c,me):$==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,me!=null&&pr(c,me)):$==="children"?typeof me=="string"?(_!=="textarea"||me!=="")&&Dn(c,me):typeof me=="number"&&Dn(c,""+me):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(i.hasOwnProperty($)?me!=null&&$==="onScroll"&&cn("scroll",c):me!=null&&I(c,$,me,Z))}switch(_){case"input":ue(c),ot(c,T,!1);break;case"textarea":ue(c),$e(c);break;case"option":T.value!=null&&c.setAttribute("value",""+De(T.value));break;case"select":c.multiple=!!T.multiple,$=T.value,$!=null?fe(c,!!T.multiple,$,!1):T.defaultValue!=null&&fe(c,!!T.multiple,T.defaultValue,!0);break;default:typeof L.onClick=="function"&&(c.onclick=qg)}switch(_){case"button":case"input":case"select":case"textarea":T=!!T.autoFocus;break e;case"img":T=!0;break e;default:T=!1}}T&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return ji(m),null;case 6:if(c&&m.stateNode!=null)ZP(c,m,c.memoizedProps,T);else{if(typeof T!="string"&&m.stateNode===null)throw Error(r(166));if(_=qc(Hh.current),qc(to.current),Zg(m)){if(T=m.stateNode,_=m.memoizedProps,T[eo]=m,($=T.nodeValue!==_)&&(c=Ea,c!==null))switch(c.tag){case 3:Wg(T.nodeValue,_,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Wg(T.nodeValue,_,(c.mode&1)!==0)}$&&(m.flags|=4)}else T=(_.nodeType===9?_:_.ownerDocument).createTextNode(T),T[eo]=m,m.stateNode=T}return ji(m),null;case 13:if(un(wn),T=m.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(gn&&Ca!==null&&(m.mode&1)!==0&&(m.flags&128)===0)eP(),xd(),m.flags|=98560,$=!1;else if($=Zg(m),T!==null&&T.dehydrated!==null){if(c===null){if(!$)throw Error(r(318));if($=m.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(r(317));$[eo]=m}else xd(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;ji(m),$=!1}else Ss!==null&&(Ww(Ss),Ss=null),$=!0;if(!$)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=_,m):(T=T!==null,T!==(c!==null&&c.memoizedState!==null)&&T&&(m.child.flags|=8192,(m.mode&1)!==0&&(c===null||(wn.current&1)!==0?Qn===0&&(Qn=3):Hw())),m.updateQueue!==null&&(m.flags|=4),ji(m),null);case 4:return Sd(),jw(c,m),c===null&&Fh(m.stateNode.containerInfo),ji(m),null;case 10:return sw(m.type._context),ji(m),null;case 17:return ia(m.type)&&Hg(),ji(m),null;case 19:if(un(wn),$=m.memoizedState,$===null)return ji(m),null;if(T=(m.flags&128)!==0,Z=$.rendering,Z===null)if(T)Zh($,!1);else{if(Qn!==0||c!==null&&(c.flags&128)!==0)for(c=m.child;c!==null;){if(Z=n0(c),Z!==null){for(m.flags|=128,Zh($,!1),T=Z.updateQueue,T!==null&&(m.updateQueue=T,m.flags|=4),m.subtreeFlags=0,T=_,_=m.child;_!==null;)$=_,c=T,$.flags&=14680066,Z=$.alternate,Z===null?($.childLanes=0,$.lanes=c,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=Z.childLanes,$.lanes=Z.lanes,$.child=Z.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=Z.memoizedProps,$.memoizedState=Z.memoizedState,$.updateQueue=Z.updateQueue,$.type=Z.type,c=Z.dependencies,$.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),_=_.sibling;return Qr(wn,wn.current&1|2),m.child}c=c.sibling}$.tail!==null&&Mr()>Od&&(m.flags|=128,T=!0,Zh($,!1),m.lanes=4194304)}else{if(!T)if(c=n0(Z),c!==null){if(m.flags|=128,T=!0,_=c.updateQueue,_!==null&&(m.updateQueue=_,m.flags|=4),Zh($,!0),$.tail===null&&$.tailMode==="hidden"&&!Z.alternate&&!gn)return ji(m),null}else 2*Mr()-$.renderingStartTime>Od&&_!==1073741824&&(m.flags|=128,T=!0,Zh($,!1),m.lanes=4194304);$.isBackwards?(Z.sibling=m.child,m.child=Z):(_=$.last,_!==null?_.sibling=Z:m.child=Z,$.last=Z)}return $.tail!==null?(m=$.tail,$.rendering=m,$.tail=m.sibling,$.renderingStartTime=Mr(),m.sibling=null,_=wn.current,Qr(wn,T?_&1|2:_&1),m):(ji(m),null);case 22:case 23:return zw(),T=m.memoizedState!==null,c!==null&&c.memoizedState!==null!==T&&(m.flags|=8192),T&&(m.mode&1)!==0?(Aa&1073741824)!==0&&(ji(m),m.subtreeFlags&6&&(m.flags|=8192)):ji(m),null;case 24:return null;case 25:return null}throw Error(r(156,m.tag))}function YH(c,m){switch(ew(m),m.tag){case 1:return ia(m.type)&&Hg(),c=m.flags,c&65536?(m.flags=c&-65537|128,m):null;case 3:return Sd(),un(na),un(ki),hw(),c=m.flags,(c&65536)!==0&&(c&128)===0?(m.flags=c&-65537|128,m):null;case 5:return dw(m),null;case 13:if(un(wn),c=m.memoizedState,c!==null&&c.dehydrated!==null){if(m.alternate===null)throw Error(r(340));xd()}return c=m.flags,c&65536?(m.flags=c&-65537|128,m):null;case 19:return un(wn),null;case 4:return Sd(),null;case 10:return sw(m.type._context),null;case 22:case 23:return zw(),null;case 24:return null;default:return null}}var f0=!1,Ii=!1,XH=typeof WeakSet=="function"?WeakSet:Set,ht=null;function Cd(c,m){var _=c.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(T){An(c,m,T)}else _.current=null}function Iw(c,m,_){try{_()}catch(T){An(c,m,T)}}var QP=!1;function ZH(c,m){if(zx=Qs,c=sr(),Ut(c)){if("selectionStart"in c)var _={start:c.selectionStart,end:c.selectionEnd};else e:{_=(_=c.ownerDocument)&&_.defaultView||window;var T=_.getSelection&&_.getSelection();if(T&&T.rangeCount!==0){_=T.anchorNode;var L=T.anchorOffset,$=T.focusNode;T=T.focusOffset;try{_.nodeType,$.nodeType}catch{_=null;break e}var Z=0,ce=-1,me=-1,Oe=0,ze=0,Ye=c,Ve=null;t:for(;;){for(var ut;Ye!==_||L!==0&&Ye.nodeType!==3||(ce=Z+L),Ye!==$||T!==0&&Ye.nodeType!==3||(me=Z+T),Ye.nodeType===3&&(Z+=Ye.nodeValue.length),(ut=Ye.firstChild)!==null;)Ve=Ye,Ye=ut;for(;;){if(Ye===c)break t;if(Ve===_&&++Oe===L&&(ce=Z),Ve===$&&++ze===T&&(me=Z),(ut=Ye.nextSibling)!==null)break;Ye=Ve,Ve=Ye.parentNode}Ye=ut}_=ce===-1||me===-1?null:{start:ce,end:me}}else _=null}_=_||{start:0,end:0}}else _=null;for(Hx={focusedElem:c,selectionRange:_},Qs=!1,ht=m;ht!==null;)if(m=ht,c=m.child,(m.subtreeFlags&1028)!==0&&c!==null)c.return=m,ht=c;else for(;ht!==null;){m=ht;try{var vt=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(vt!==null){var yt=vt.memoizedProps,jn=vt.memoizedState,_e=m.stateNode,ye=_e.getSnapshotBeforeUpdate(m.elementType===m.type?yt:Es(m.type,yt),jn);_e.__reactInternalSnapshotBeforeUpdate=ye}break;case 3:var Se=m.stateNode.containerInfo;Se.nodeType===1?Se.textContent="":Se.nodeType===9&&Se.documentElement&&Se.removeChild(Se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(rt){An(m,m.return,rt)}if(c=m.sibling,c!==null){c.return=m.return,ht=c;break}ht=m.return}return vt=QP,QP=!1,vt}function Qh(c,m,_){var T=m.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var L=T=T.next;do{if((L.tag&c)===c){var $=L.destroy;L.destroy=void 0,$!==void 0&&Iw(m,_,$)}L=L.next}while(L!==T)}}function h0(c,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var _=m=m.next;do{if((_.tag&c)===c){var T=_.create;_.destroy=T()}_=_.next}while(_!==m)}}function Rw(c){var m=c.ref;if(m!==null){var _=c.stateNode;switch(c.tag){case 5:c=_;break;default:c=_}typeof m=="function"?m(c):m.current=c}}function JP(c){var m=c.alternate;m!==null&&(c.alternate=null,JP(m)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(m=c.stateNode,m!==null&&(delete m[eo],delete m[Uh],delete m[Xx],delete m[IH],delete m[RH])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function ej(c){return c.tag===5||c.tag===3||c.tag===4}function tj(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||ej(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Mw(c,m,_){var T=c.tag;if(T===5||T===6)c=c.stateNode,m?_.nodeType===8?_.parentNode.insertBefore(c,m):_.insertBefore(c,m):(_.nodeType===8?(m=_.parentNode,m.insertBefore(c,_)):(m=_,m.appendChild(c)),_=_._reactRootContainer,_!=null||m.onclick!==null||(m.onclick=qg));else if(T!==4&&(c=c.child,c!==null))for(Mw(c,m,_),c=c.sibling;c!==null;)Mw(c,m,_),c=c.sibling}function Dw(c,m,_){var T=c.tag;if(T===5||T===6)c=c.stateNode,m?_.insertBefore(c,m):_.appendChild(c);else if(T!==4&&(c=c.child,c!==null))for(Dw(c,m,_),c=c.sibling;c!==null;)Dw(c,m,_),c=c.sibling}var bi=null,Cs=!1;function jl(c,m,_){for(_=_.child;_!==null;)rj(c,m,_),_=_.sibling}function rj(c,m,_){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(yr,_)}catch{}switch(_.tag){case 5:Ii||Cd(_,m);case 6:var T=bi,L=Cs;bi=null,jl(c,m,_),bi=T,Cs=L,bi!==null&&(Cs?(c=bi,_=_.stateNode,c.nodeType===8?c.parentNode.removeChild(_):c.removeChild(_)):bi.removeChild(_.stateNode));break;case 18:bi!==null&&(Cs?(c=bi,_=_.stateNode,c.nodeType===8?Yx(c.parentNode,_):c.nodeType===1&&Yx(c,_),ws(c)):Yx(bi,_.stateNode));break;case 4:T=bi,L=Cs,bi=_.stateNode.containerInfo,Cs=!0,jl(c,m,_),bi=T,Cs=L;break;case 0:case 11:case 14:case 15:if(!Ii&&(T=_.updateQueue,T!==null&&(T=T.lastEffect,T!==null))){L=T=T.next;do{var $=L,Z=$.destroy;$=$.tag,Z!==void 0&&(($&2)!==0||($&4)!==0)&&Iw(_,m,Z),L=L.next}while(L!==T)}jl(c,m,_);break;case 1:if(!Ii&&(Cd(_,m),T=_.stateNode,typeof T.componentWillUnmount=="function"))try{T.props=_.memoizedProps,T.state=_.memoizedState,T.componentWillUnmount()}catch(ce){An(_,m,ce)}jl(c,m,_);break;case 21:jl(c,m,_);break;case 22:_.mode&1?(Ii=(T=Ii)||_.memoizedState!==null,jl(c,m,_),Ii=T):jl(c,m,_);break;default:jl(c,m,_)}}function nj(c){var m=c.updateQueue;if(m!==null){c.updateQueue=null;var _=c.stateNode;_===null&&(_=c.stateNode=new XH),m.forEach(function(T){var L=sG.bind(null,c,T);_.has(T)||(_.add(T),T.then(L,L))})}}function As(c,m){var _=m.deletions;if(_!==null)for(var T=0;T<_.length;T++){var L=_[T];try{var $=c,Z=m,ce=Z;e:for(;ce!==null;){switch(ce.tag){case 5:bi=ce.stateNode,Cs=!1;break e;case 3:bi=ce.stateNode.containerInfo,Cs=!0;break e;case 4:bi=ce.stateNode.containerInfo,Cs=!0;break e}ce=ce.return}if(bi===null)throw Error(r(160));rj($,Z,L),bi=null,Cs=!1;var me=L.alternate;me!==null&&(me.return=null),L.return=null}catch(Oe){An(L,m,Oe)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)ij(m,c),m=m.sibling}function ij(c,m){var _=c.alternate,T=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(As(m,c),no(c),T&4){try{Qh(3,c,c.return),h0(3,c)}catch(yt){An(c,c.return,yt)}try{Qh(5,c,c.return)}catch(yt){An(c,c.return,yt)}}break;case 1:As(m,c),no(c),T&512&&_!==null&&Cd(_,_.return);break;case 5:if(As(m,c),no(c),T&512&&_!==null&&Cd(_,_.return),c.flags&32){var L=c.stateNode;try{Dn(L,"")}catch(yt){An(c,c.return,yt)}}if(T&4&&(L=c.stateNode,L!=null)){var $=c.memoizedProps,Z=_!==null?_.memoizedProps:$,ce=c.type,me=c.updateQueue;if(c.updateQueue=null,me!==null)try{ce==="input"&&$.type==="radio"&&$.name!=null&&ct(L,$),Rr(ce,Z);var Oe=Rr(ce,$);for(Z=0;Z<me.length;Z+=2){var ze=me[Z],Ye=me[Z+1];ze==="style"?Ke(L,Ye):ze==="dangerouslySetInnerHTML"?pr(L,Ye):ze==="children"?Dn(L,Ye):I(L,ze,Ye,Oe)}switch(ce){case"input":et(L,$);break;case"textarea":Fe(L,$);break;case"select":var Ve=L._wrapperState.wasMultiple;L._wrapperState.wasMultiple=!!$.multiple;var ut=$.value;ut!=null?fe(L,!!$.multiple,ut,!1):Ve!==!!$.multiple&&($.defaultValue!=null?fe(L,!!$.multiple,$.defaultValue,!0):fe(L,!!$.multiple,$.multiple?[]:"",!1))}L[Uh]=$}catch(yt){An(c,c.return,yt)}}break;case 6:if(As(m,c),no(c),T&4){if(c.stateNode===null)throw Error(r(162));L=c.stateNode,$=c.memoizedProps;try{L.nodeValue=$}catch(yt){An(c,c.return,yt)}}break;case 3:if(As(m,c),no(c),T&4&&_!==null&&_.memoizedState.isDehydrated)try{ws(m.containerInfo)}catch(yt){An(c,c.return,yt)}break;case 4:As(m,c),no(c);break;case 13:As(m,c),no(c),L=c.child,L.flags&8192&&($=L.memoizedState!==null,L.stateNode.isHidden=$,!$||L.alternate!==null&&L.alternate.memoizedState!==null||(Fw=Mr())),T&4&&nj(c);break;case 22:if(ze=_!==null&&_.memoizedState!==null,c.mode&1?(Ii=(Oe=Ii)||ze,As(m,c),Ii=Oe):As(m,c),no(c),T&8192){if(Oe=c.memoizedState!==null,(c.stateNode.isHidden=Oe)&&!ze&&(c.mode&1)!==0)for(ht=c,ze=c.child;ze!==null;){for(Ye=ht=ze;ht!==null;){switch(Ve=ht,ut=Ve.child,Ve.tag){case 0:case 11:case 14:case 15:Qh(4,Ve,Ve.return);break;case 1:Cd(Ve,Ve.return);var vt=Ve.stateNode;if(typeof vt.componentWillUnmount=="function"){T=Ve,_=Ve.return;try{m=T,vt.props=m.memoizedProps,vt.state=m.memoizedState,vt.componentWillUnmount()}catch(yt){An(T,_,yt)}}break;case 5:Cd(Ve,Ve.return);break;case 22:if(Ve.memoizedState!==null){oj(Ye);continue}}ut!==null?(ut.return=Ve,ht=ut):oj(Ye)}ze=ze.sibling}e:for(ze=null,Ye=c;;){if(Ye.tag===5){if(ze===null){ze=Ye;try{L=Ye.stateNode,Oe?($=L.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(ce=Ye.stateNode,me=Ye.memoizedProps.style,Z=me!=null&&me.hasOwnProperty("display")?me.display:null,ce.style.display=ar("display",Z))}catch(yt){An(c,c.return,yt)}}}else if(Ye.tag===6){if(ze===null)try{Ye.stateNode.nodeValue=Oe?"":Ye.memoizedProps}catch(yt){An(c,c.return,yt)}}else if((Ye.tag!==22&&Ye.tag!==23||Ye.memoizedState===null||Ye===c)&&Ye.child!==null){Ye.child.return=Ye,Ye=Ye.child;continue}if(Ye===c)break e;for(;Ye.sibling===null;){if(Ye.return===null||Ye.return===c)break e;ze===Ye&&(ze=null),Ye=Ye.return}ze===Ye&&(ze=null),Ye.sibling.return=Ye.return,Ye=Ye.sibling}}break;case 19:As(m,c),no(c),T&4&&nj(c);break;case 21:break;default:As(m,c),no(c)}}function no(c){var m=c.flags;if(m&2){try{e:{for(var _=c.return;_!==null;){if(ej(_)){var T=_;break e}_=_.return}throw Error(r(160))}switch(T.tag){case 5:var L=T.stateNode;T.flags&32&&(Dn(L,""),T.flags&=-33);var $=tj(c);Dw(c,$,L);break;case 3:case 4:var Z=T.stateNode.containerInfo,ce=tj(c);Mw(c,ce,Z);break;default:throw Error(r(161))}}catch(me){An(c,c.return,me)}c.flags&=-3}m&4096&&(c.flags&=-4097)}function QH(c,m,_){ht=c,aj(c)}function aj(c,m,_){for(var T=(c.mode&1)!==0;ht!==null;){var L=ht,$=L.child;if(L.tag===22&&T){var Z=L.memoizedState!==null||f0;if(!Z){var ce=L.alternate,me=ce!==null&&ce.memoizedState!==null||Ii;ce=f0;var Oe=Ii;if(f0=Z,(Ii=me)&&!Oe)for(ht=L;ht!==null;)Z=ht,me=Z.child,Z.tag===22&&Z.memoizedState!==null?lj(L):me!==null?(me.return=Z,ht=me):lj(L);for(;$!==null;)ht=$,aj($),$=$.sibling;ht=L,f0=ce,Ii=Oe}sj(c)}else(L.subtreeFlags&8772)!==0&&$!==null?($.return=L,ht=$):sj(c)}}function sj(c){for(;ht!==null;){var m=ht;if((m.flags&8772)!==0){var _=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:Ii||h0(5,m);break;case 1:var T=m.stateNode;if(m.flags&4&&!Ii)if(_===null)T.componentDidMount();else{var L=m.elementType===m.type?_.memoizedProps:Es(m.type,_.memoizedProps);T.componentDidUpdate(L,_.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var $=m.updateQueue;$!==null&&oP(m,$,T);break;case 3:var Z=m.updateQueue;if(Z!==null){if(_=null,m.child!==null)switch(m.child.tag){case 5:_=m.child.stateNode;break;case 1:_=m.child.stateNode}oP(m,Z,_)}break;case 5:var ce=m.stateNode;if(_===null&&m.flags&4){_=ce;var me=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":me.autoFocus&&_.focus();break;case"img":me.src&&(_.src=me.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var Oe=m.alternate;if(Oe!==null){var ze=Oe.memoizedState;if(ze!==null){var Ye=ze.dehydrated;Ye!==null&&ws(Ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ii||m.flags&512&&Rw(m)}catch(Ve){An(m,m.return,Ve)}}if(m===c){ht=null;break}if(_=m.sibling,_!==null){_.return=m.return,ht=_;break}ht=m.return}}function oj(c){for(;ht!==null;){var m=ht;if(m===c){ht=null;break}var _=m.sibling;if(_!==null){_.return=m.return,ht=_;break}ht=m.return}}function lj(c){for(;ht!==null;){var m=ht;try{switch(m.tag){case 0:case 11:case 15:var _=m.return;try{h0(4,m)}catch(me){An(m,_,me)}break;case 1:var T=m.stateNode;if(typeof T.componentDidMount=="function"){var L=m.return;try{T.componentDidMount()}catch(me){An(m,L,me)}}var $=m.return;try{Rw(m)}catch(me){An(m,$,me)}break;case 5:var Z=m.return;try{Rw(m)}catch(me){An(m,Z,me)}}}catch(me){An(m,m.return,me)}if(m===c){ht=null;break}var ce=m.sibling;if(ce!==null){ce.return=m.return,ht=ce;break}ht=m.return}}var JH=Math.ceil,p0=F.ReactCurrentDispatcher,Lw=F.ReactCurrentOwner,Ja=F.ReactCurrentBatchConfig,br=0,di=null,Bn=null,_i=0,Aa=0,Ad=Ol(0),Qn=0,Jh=null,Hc=0,m0=0,Bw=0,ep=null,sa=null,Fw=0,Od=1/0,Bo=null,g0=!1,$w=null,Il=null,v0=!1,Rl=null,y0=0,tp=0,Uw=null,x0=-1,w0=0;function Ui(){return(br&6)!==0?Mr():x0!==-1?x0:x0=Mr()}function Ml(c){return(c.mode&1)===0?1:(br&2)!==0&&_i!==0?_i&-_i:DH.transition!==null?(w0===0&&(w0=Gn()),w0):(c=Qt,c!==0||(c=window.event,c=c===void 0?16:Th(c.type)),c)}function Os(c,m,_,T){if(50<tp)throw tp=0,Uw=null,Error(r(185));ae(c,_,T),((br&2)===0||c!==di)&&(c===di&&((br&2)===0&&(m0|=_),Qn===4&&Dl(c,_i)),oa(c,T),_===1&&br===0&&(m.mode&1)===0&&(Od=Mr()+500,Kg&&Nl()))}function oa(c,m){var _=c.callbackNode;gl(c,m);var T=wa(c,c===di?_i:0);if(T===0)_!==null&&li(_),c.callbackNode=null,c.callbackPriority=0;else if(m=T&-T,c.callbackPriority!==m){if(_!=null&&li(_),m===1)c.tag===0?MH(uj.bind(null,c)):Yk(uj.bind(null,c)),PH(function(){(br&6)===0&&Nl()}),_=null;else{switch(Ng(T)){case 1:_=Be;break;case 4:_=Og;break;case 16:_=zr;break;case 536870912:_=Tg;break;default:_=zr}_=yj(_,cj.bind(null,c))}c.callbackPriority=m,c.callbackNode=_}}function cj(c,m){if(x0=-1,w0=0,(br&6)!==0)throw Error(r(327));var _=c.callbackNode;if(Td()&&c.callbackNode!==_)return null;var T=wa(c,c===di?_i:0);if(T===0)return null;if((T&30)!==0||(T&c.expiredLanes)!==0||m)m=b0(c,T);else{m=T;var L=br;br|=2;var $=fj();(di!==c||_i!==m)&&(Bo=null,Od=Mr()+500,Kc(c,m));do try{rG();break}catch(ce){dj(c,ce)}while(!0);aw(),p0.current=$,br=L,Bn!==null?m=0:(di=null,_i=0,m=Qn)}if(m!==0){if(m===2&&(L=Dr(c),L!==0&&(T=L,m=Vw(c,L))),m===1)throw _=Jh,Kc(c,0),Dl(c,T),oa(c,Mr()),_;if(m===6)Dl(c,T);else{if(L=c.current.alternate,(T&30)===0&&!eG(L)&&(m=b0(c,T),m===2&&($=Dr(c),$!==0&&(T=$,m=Vw(c,$))),m===1))throw _=Jh,Kc(c,0),Dl(c,T),oa(c,Mr()),_;switch(c.finishedWork=L,c.finishedLanes=T,m){case 0:case 1:throw Error(r(345));case 2:Yc(c,sa,Bo);break;case 3:if(Dl(c,T),(T&130023424)===T&&(m=Fw+500-Mr(),10<m)){if(wa(c,0)!==0)break;if(L=c.suspendedLanes,(L&T)!==T){Ui(),c.pingedLanes|=c.suspendedLanes&L;break}c.timeoutHandle=Kx(Yc.bind(null,c,sa,Bo),m);break}Yc(c,sa,Bo);break;case 4:if(Dl(c,T),(T&4194240)===T)break;for(m=c.eventTimes,L=-1;0<T;){var Z=31-Fi(T);$=1<<Z,Z=m[Z],Z>L&&(L=Z),T&=~$}if(T=L,T=Mr()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*JH(T/1960))-T,10<T){c.timeoutHandle=Kx(Yc.bind(null,c,sa,Bo),T);break}Yc(c,sa,Bo);break;case 5:Yc(c,sa,Bo);break;default:throw Error(r(329))}}}return oa(c,Mr()),c.callbackNode===_?cj.bind(null,c):null}function Vw(c,m){var _=ep;return c.current.memoizedState.isDehydrated&&(Kc(c,m).flags|=256),c=b0(c,m),c!==2&&(m=sa,sa=_,m!==null&&Ww(m)),c}function Ww(c){sa===null?sa=c:sa.push.apply(sa,c)}function eG(c){for(var m=c;;){if(m.flags&16384){var _=m.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var T=0;T<_.length;T++){var L=_[T],$=L.getSnapshot;L=L.value;try{if(!xe($(),L))return!1}catch{return!1}}}if(_=m.child,m.subtreeFlags&16384&&_!==null)_.return=m,m=_;else{if(m===c)break;for(;m.sibling===null;){if(m.return===null||m.return===c)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Dl(c,m){for(m&=~Bw,m&=~m0,c.suspendedLanes|=m,c.pingedLanes&=~m,c=c.expirationTimes;0<m;){var _=31-Fi(m),T=1<<_;c[_]=-1,m&=~T}}function uj(c){if((br&6)!==0)throw Error(r(327));Td();var m=wa(c,0);if((m&1)===0)return oa(c,Mr()),null;var _=b0(c,m);if(c.tag!==0&&_===2){var T=Dr(c);T!==0&&(m=T,_=Vw(c,T))}if(_===1)throw _=Jh,Kc(c,0),Dl(c,m),oa(c,Mr()),_;if(_===6)throw Error(r(345));return c.finishedWork=c.current.alternate,c.finishedLanes=m,Yc(c,sa,Bo),oa(c,Mr()),null}function qw(c,m){var _=br;br|=1;try{return c(m)}finally{br=_,br===0&&(Od=Mr()+500,Kg&&Nl())}}function Gc(c){Rl!==null&&Rl.tag===0&&(br&6)===0&&Td();var m=br;br|=1;var _=Ja.transition,T=Qt;try{if(Ja.transition=null,Qt=1,c)return c()}finally{Qt=T,Ja.transition=_,br=m,(br&6)===0&&Nl()}}function zw(){Aa=Ad.current,un(Ad)}function Kc(c,m){c.finishedWork=null,c.finishedLanes=0;var _=c.timeoutHandle;if(_!==-1&&(c.timeoutHandle=-1,kH(_)),Bn!==null)for(_=Bn.return;_!==null;){var T=_;switch(ew(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&Hg();break;case 3:Sd(),un(na),un(ki),hw();break;case 5:dw(T);break;case 4:Sd();break;case 13:un(wn);break;case 19:un(wn);break;case 10:sw(T.type._context);break;case 22:case 23:zw()}_=_.return}if(di=c,Bn=c=Ll(c.current,null),_i=Aa=m,Qn=0,Jh=null,Bw=m0=Hc=0,sa=ep=null,Wc!==null){for(m=0;m<Wc.length;m++)if(_=Wc[m],T=_.interleaved,T!==null){_.interleaved=null;var L=T.next,$=_.pending;if($!==null){var Z=$.next;$.next=L,T.next=Z}_.pending=T}Wc=null}return c}function dj(c,m){do{var _=Bn;try{if(aw(),i0.current=l0,a0){for(var T=bn.memoizedState;T!==null;){var L=T.queue;L!==null&&(L.pending=null),T=T.next}a0=!1}if(zc=0,ui=Zn=bn=null,Gh=!1,Kh=0,Lw.current=null,_===null||_.return===null){Qn=1,Jh=m,Bn=null;break}e:{var $=c,Z=_.return,ce=_,me=m;if(m=_i,ce.flags|=32768,me!==null&&typeof me=="object"&&typeof me.then=="function"){var Oe=me,ze=ce,Ye=ze.tag;if((ze.mode&1)===0&&(Ye===0||Ye===11||Ye===15)){var Ve=ze.alternate;Ve?(ze.updateQueue=Ve.updateQueue,ze.memoizedState=Ve.memoizedState,ze.lanes=Ve.lanes):(ze.updateQueue=null,ze.memoizedState=null)}var ut=DP(Z);if(ut!==null){ut.flags&=-257,LP(ut,Z,ce,$,m),ut.mode&1&&MP($,Oe,m),m=ut,me=Oe;var vt=m.updateQueue;if(vt===null){var yt=new Set;yt.add(me),m.updateQueue=yt}else vt.add(me);break e}else{if((m&1)===0){MP($,Oe,m),Hw();break e}me=Error(r(426))}}else if(gn&&ce.mode&1){var jn=DP(Z);if(jn!==null){(jn.flags&65536)===0&&(jn.flags|=256),LP(jn,Z,ce,$,m),nw(Ed(me,ce));break e}}$=me=Ed(me,ce),Qn!==4&&(Qn=2),ep===null?ep=[$]:ep.push($),$=Z;do{switch($.tag){case 3:$.flags|=65536,m&=-m,$.lanes|=m;var _e=IP($,me,m);sP($,_e);break e;case 1:ce=me;var ye=$.type,Se=$.stateNode;if(($.flags&128)===0&&(typeof ye.getDerivedStateFromError=="function"||Se!==null&&typeof Se.componentDidCatch=="function"&&(Il===null||!Il.has(Se)))){$.flags|=65536,m&=-m,$.lanes|=m;var rt=RP($,ce,m);sP($,rt);break e}}$=$.return}while($!==null)}pj(_)}catch(wt){m=wt,Bn===_&&_!==null&&(Bn=_=_.return);continue}break}while(!0)}function fj(){var c=p0.current;return p0.current=l0,c===null?l0:c}function Hw(){(Qn===0||Qn===3||Qn===2)&&(Qn=4),di===null||(Hc&268435455)===0&&(m0&268435455)===0||Dl(di,_i)}function b0(c,m){var _=br;br|=2;var T=fj();(di!==c||_i!==m)&&(Bo=null,Kc(c,m));do try{tG();break}catch(L){dj(c,L)}while(!0);if(aw(),br=_,p0.current=T,Bn!==null)throw Error(r(261));return di=null,_i=0,Qn}function tG(){for(;Bn!==null;)hj(Bn)}function rG(){for(;Bn!==null&&!Yr();)hj(Bn)}function hj(c){var m=vj(c.alternate,c,Aa);c.memoizedProps=c.pendingProps,m===null?pj(c):Bn=m,Lw.current=null}function pj(c){var m=c;do{var _=m.alternate;if(c=m.return,(m.flags&32768)===0){if(_=KH(_,m,Aa),_!==null){Bn=_;return}}else{if(_=YH(_,m),_!==null){_.flags&=32767,Bn=_;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Qn=6,Bn=null;return}}if(m=m.sibling,m!==null){Bn=m;return}Bn=m=c}while(m!==null);Qn===0&&(Qn=5)}function Yc(c,m,_){var T=Qt,L=Ja.transition;try{Ja.transition=null,Qt=1,nG(c,m,_,T)}finally{Ja.transition=L,Qt=T}return null}function nG(c,m,_,T){do Td();while(Rl!==null);if((br&6)!==0)throw Error(r(327));_=c.finishedWork;var L=c.finishedLanes;if(_===null)return null;if(c.finishedWork=null,c.finishedLanes=0,_===c.current)throw Error(r(177));c.callbackNode=null,c.callbackPriority=0;var $=_.lanes|_.childLanes;if(Ct(c,$),c===di&&(Bn=di=null,_i=0),(_.subtreeFlags&2064)===0&&(_.flags&2064)===0||v0||(v0=!0,yj(zr,function(){return Td(),null})),$=(_.flags&15990)!==0,(_.subtreeFlags&15990)!==0||$){$=Ja.transition,Ja.transition=null;var Z=Qt;Qt=1;var ce=br;br|=4,Lw.current=null,ZH(c,_),ij(_,c),Ni(Hx),Qs=!!zx,Hx=zx=null,c.current=_,QH(_),Ag(),br=ce,Qt=Z,Ja.transition=$}else c.current=_;if(v0&&(v0=!1,Rl=c,y0=L),$=c.pendingLanes,$===0&&(Il=null),dr(_.stateNode),oa(c,Mr()),m!==null)for(T=c.onRecoverableError,_=0;_<m.length;_++)L=m[_],T(L.value,{componentStack:L.stack,digest:L.digest});if(g0)throw g0=!1,c=$w,$w=null,c;return(y0&1)!==0&&c.tag!==0&&Td(),$=c.pendingLanes,($&1)!==0?c===Uw?tp++:(tp=0,Uw=c):tp=0,Nl(),null}function Td(){if(Rl!==null){var c=Ng(y0),m=Ja.transition,_=Qt;try{if(Ja.transition=null,Qt=16>c?16:c,Rl===null)var T=!1;else{if(c=Rl,Rl=null,y0=0,(br&6)!==0)throw Error(r(331));var L=br;for(br|=4,ht=c.current;ht!==null;){var $=ht,Z=$.child;if((ht.flags&16)!==0){var ce=$.deletions;if(ce!==null){for(var me=0;me<ce.length;me++){var Oe=ce[me];for(ht=Oe;ht!==null;){var ze=ht;switch(ze.tag){case 0:case 11:case 15:Qh(8,ze,$)}var Ye=ze.child;if(Ye!==null)Ye.return=ze,ht=Ye;else for(;ht!==null;){ze=ht;var Ve=ze.sibling,ut=ze.return;if(JP(ze),ze===Oe){ht=null;break}if(Ve!==null){Ve.return=ut,ht=Ve;break}ht=ut}}}var vt=$.alternate;if(vt!==null){var yt=vt.child;if(yt!==null){vt.child=null;do{var jn=yt.sibling;yt.sibling=null,yt=jn}while(yt!==null)}}ht=$}}if(($.subtreeFlags&2064)!==0&&Z!==null)Z.return=$,ht=Z;else e:for(;ht!==null;){if($=ht,($.flags&2048)!==0)switch($.tag){case 0:case 11:case 15:Qh(9,$,$.return)}var _e=$.sibling;if(_e!==null){_e.return=$.return,ht=_e;break e}ht=$.return}}var ye=c.current;for(ht=ye;ht!==null;){Z=ht;var Se=Z.child;if((Z.subtreeFlags&2064)!==0&&Se!==null)Se.return=Z,ht=Se;else e:for(Z=ye;ht!==null;){if(ce=ht,(ce.flags&2048)!==0)try{switch(ce.tag){case 0:case 11:case 15:h0(9,ce)}}catch(wt){An(ce,ce.return,wt)}if(ce===Z){ht=null;break e}var rt=ce.sibling;if(rt!==null){rt.return=ce.return,ht=rt;break e}ht=ce.return}}if(br=L,Nl(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(yr,c)}catch{}T=!0}return T}finally{Qt=_,Ja.transition=m}}return!1}function mj(c,m,_){m=Ed(_,m),m=IP(c,m,1),c=Pl(c,m,1),m=Ui(),c!==null&&(ae(c,1,m),oa(c,m))}function An(c,m,_){if(c.tag===3)mj(c,c,_);else for(;m!==null;){if(m.tag===3){mj(m,c,_);break}else if(m.tag===1){var T=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(Il===null||!Il.has(T))){c=Ed(_,c),c=RP(m,c,1),m=Pl(m,c,1),c=Ui(),m!==null&&(ae(m,1,c),oa(m,c));break}}m=m.return}}function iG(c,m,_){var T=c.pingCache;T!==null&&T.delete(m),m=Ui(),c.pingedLanes|=c.suspendedLanes&_,di===c&&(_i&_)===_&&(Qn===4||Qn===3&&(_i&130023424)===_i&&500>Mr()-Fw?Kc(c,0):Bw|=_),oa(c,m)}function gj(c,m){m===0&&((c.mode&1)===0?m=1:(m=id,id<<=1,(id&130023424)===0&&(id=4194304)));var _=Ui();c=Mo(c,m),c!==null&&(ae(c,m,_),oa(c,_))}function aG(c){var m=c.memoizedState,_=0;m!==null&&(_=m.retryLane),gj(c,_)}function sG(c,m){var _=0;switch(c.tag){case 13:var T=c.stateNode,L=c.memoizedState;L!==null&&(_=L.retryLane);break;case 19:T=c.stateNode;break;default:throw Error(r(314))}T!==null&&T.delete(m),gj(c,_)}var vj;vj=function(c,m,_){if(c!==null)if(c.memoizedProps!==m.pendingProps||na.current)aa=!0;else{if((c.lanes&_)===0&&(m.flags&128)===0)return aa=!1,GH(c,m,_);aa=(c.flags&131072)!==0}else aa=!1,gn&&(m.flags&1048576)!==0&&Xk(m,Xg,m.index);switch(m.lanes=0,m.tag){case 2:var T=m.type;d0(c,m),c=m.pendingProps;var L=gd(m,ki.current);_d(m,_),L=gw(null,m,T,c,L,_);var $=vw();return m.flags|=1,typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,ia(T)?($=!0,Gg(m)):$=!1,m.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,cw(m),L.updater=c0,m.stateNode=L,L._reactInternals=m,Sw(m,T,c,_),m=Ow(null,m,T,!0,$,_)):(m.tag=0,gn&&$&&Jx(m),$i(null,m,L,_),m=m.child),m;case 16:T=m.elementType;e:{switch(d0(c,m),c=m.pendingProps,L=T._init,T=L(T._payload),m.type=T,L=m.tag=lG(T),c=Es(T,c),L){case 0:m=Aw(null,m,T,c,_);break e;case 1:m=WP(null,m,T,c,_);break e;case 11:m=BP(null,m,T,c,_);break e;case 14:m=FP(null,m,T,Es(T.type,c),_);break e}throw Error(r(306,T,""))}return m;case 0:return T=m.type,L=m.pendingProps,L=m.elementType===T?L:Es(T,L),Aw(c,m,T,L,_);case 1:return T=m.type,L=m.pendingProps,L=m.elementType===T?L:Es(T,L),WP(c,m,T,L,_);case 3:e:{if(qP(m),c===null)throw Error(r(387));T=m.pendingProps,$=m.memoizedState,L=$.element,aP(c,m),r0(m,T,null,_);var Z=m.memoizedState;if(T=Z.element,$.isDehydrated)if($={element:T,isDehydrated:!1,cache:Z.cache,pendingSuspenseBoundaries:Z.pendingSuspenseBoundaries,transitions:Z.transitions},m.updateQueue.baseState=$,m.memoizedState=$,m.flags&256){L=Ed(Error(r(423)),m),m=zP(c,m,T,_,L);break e}else if(T!==L){L=Ed(Error(r(424)),m),m=zP(c,m,T,_,L);break e}else for(Ca=Al(m.stateNode.containerInfo.firstChild),Ea=m,gn=!0,Ss=null,_=nP(m,null,T,_),m.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(xd(),T===L){m=Lo(c,m,_);break e}$i(c,m,T,_)}m=m.child}return m;case 5:return lP(m),c===null&&rw(m),T=m.type,L=m.pendingProps,$=c!==null?c.memoizedProps:null,Z=L.children,Gx(T,L)?Z=null:$!==null&&Gx(T,$)&&(m.flags|=32),VP(c,m),$i(c,m,Z,_),m.child;case 6:return c===null&&rw(m),null;case 13:return HP(c,m,_);case 4:return uw(m,m.stateNode.containerInfo),T=m.pendingProps,c===null?m.child=wd(m,null,T,_):$i(c,m,T,_),m.child;case 11:return T=m.type,L=m.pendingProps,L=m.elementType===T?L:Es(T,L),BP(c,m,T,L,_);case 7:return $i(c,m,m.pendingProps,_),m.child;case 8:return $i(c,m,m.pendingProps.children,_),m.child;case 12:return $i(c,m,m.pendingProps.children,_),m.child;case 10:e:{if(T=m.type._context,L=m.pendingProps,$=m.memoizedProps,Z=L.value,Qr(Jg,T._currentValue),T._currentValue=Z,$!==null)if(xe($.value,Z)){if($.children===L.children&&!na.current){m=Lo(c,m,_);break e}}else for($=m.child,$!==null&&($.return=m);$!==null;){var ce=$.dependencies;if(ce!==null){Z=$.child;for(var me=ce.firstContext;me!==null;){if(me.context===T){if($.tag===1){me=Do(-1,_&-_),me.tag=2;var Oe=$.updateQueue;if(Oe!==null){Oe=Oe.shared;var ze=Oe.pending;ze===null?me.next=me:(me.next=ze.next,ze.next=me),Oe.pending=me}}$.lanes|=_,me=$.alternate,me!==null&&(me.lanes|=_),ow($.return,_,m),ce.lanes|=_;break}me=me.next}}else if($.tag===10)Z=$.type===m.type?null:$.child;else if($.tag===18){if(Z=$.return,Z===null)throw Error(r(341));Z.lanes|=_,ce=Z.alternate,ce!==null&&(ce.lanes|=_),ow(Z,_,m),Z=$.sibling}else Z=$.child;if(Z!==null)Z.return=$;else for(Z=$;Z!==null;){if(Z===m){Z=null;break}if($=Z.sibling,$!==null){$.return=Z.return,Z=$;break}Z=Z.return}$=Z}$i(c,m,L.children,_),m=m.child}return m;case 9:return L=m.type,T=m.pendingProps.children,_d(m,_),L=Za(L),T=T(L),m.flags|=1,$i(c,m,T,_),m.child;case 14:return T=m.type,L=Es(T,m.pendingProps),L=Es(T.type,L),FP(c,m,T,L,_);case 15:return $P(c,m,m.type,m.pendingProps,_);case 17:return T=m.type,L=m.pendingProps,L=m.elementType===T?L:Es(T,L),d0(c,m),m.tag=1,ia(T)?(c=!0,Gg(m)):c=!1,_d(m,_),PP(m,T,L),Sw(m,T,L,_),Ow(null,m,T,!0,c,_);case 19:return KP(c,m,_);case 22:return UP(c,m,_)}throw Error(r(156,m.tag))};function yj(c,m){return ya(c,m)}function oG(c,m,_,T){this.tag=c,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function es(c,m,_,T){return new oG(c,m,_,T)}function Gw(c){return c=c.prototype,!(!c||!c.isReactComponent)}function lG(c){if(typeof c=="function")return Gw(c)?1:0;if(c!=null){if(c=c.$$typeof,c===W)return 11;if(c===X)return 14}return 2}function Ll(c,m){var _=c.alternate;return _===null?(_=es(c.tag,m,c.key,c.mode),_.elementType=c.elementType,_.type=c.type,_.stateNode=c.stateNode,_.alternate=c,c.alternate=_):(_.pendingProps=m,_.type=c.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=c.flags&14680064,_.childLanes=c.childLanes,_.lanes=c.lanes,_.child=c.child,_.memoizedProps=c.memoizedProps,_.memoizedState=c.memoizedState,_.updateQueue=c.updateQueue,m=c.dependencies,_.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},_.sibling=c.sibling,_.index=c.index,_.ref=c.ref,_}function _0(c,m,_,T,L,$){var Z=2;if(T=c,typeof c=="function")Gw(c)&&(Z=1);else if(typeof c=="string")Z=5;else e:switch(c){case B:return Xc(_.children,L,$,m);case q:Z=8,L|=8;break;case U:return c=es(12,_,m,L|2),c.elementType=U,c.lanes=$,c;case H:return c=es(13,_,m,L),c.elementType=H,c.lanes=$,c;case Q:return c=es(19,_,m,L),c.elementType=Q,c.lanes=$,c;case ne:return S0(_,L,$,m);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case z:Z=10;break e;case G:Z=9;break e;case W:Z=11;break e;case X:Z=14;break e;case se:Z=16,T=null;break e}throw Error(r(130,c==null?c:typeof c,""))}return m=es(Z,_,m,L),m.elementType=c,m.type=T,m.lanes=$,m}function Xc(c,m,_,T){return c=es(7,c,T,m),c.lanes=_,c}function S0(c,m,_,T){return c=es(22,c,T,m),c.elementType=ne,c.lanes=_,c.stateNode={isHidden:!1},c}function Kw(c,m,_){return c=es(6,c,null,m),c.lanes=_,c}function Yw(c,m,_){return m=es(4,c.children!==null?c.children:[],c.key,m),m.lanes=_,m.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},m}function cG(c,m,_,T,L){this.tag=m,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=be(0),this.expirationTimes=be(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=be(0),this.identifierPrefix=T,this.onRecoverableError=L,this.mutableSourceEagerHydrationData=null}function Xw(c,m,_,T,L,$,Z,ce,me){return c=new cG(c,m,_,ce,me),m===1?(m=1,$===!0&&(m|=8)):m=0,$=es(3,null,null,m),c.current=$,$.stateNode=c,$.memoizedState={element:T,isDehydrated:_,cache:null,transitions:null,pendingSuspenseBoundaries:null},cw($),c}function uG(c,m,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:T==null?null:""+T,children:c,containerInfo:m,implementation:_}}function xj(c){if(!c)return Tl;c=c._reactInternals;e:{if(ra(c)!==c||c.tag!==1)throw Error(r(170));var m=c;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(ia(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(r(171))}if(c.tag===1){var _=c.type;if(ia(_))return Gk(c,_,m)}return m}function wj(c,m,_,T,L,$,Z,ce,me){return c=Xw(_,T,!0,c,L,$,Z,ce,me),c.context=xj(null),_=c.current,T=Ui(),L=Ml(_),$=Do(T,L),$.callback=m??null,Pl(_,$,L),c.current.lanes=L,ae(c,L,T),oa(c,T),c}function E0(c,m,_,T){var L=m.current,$=Ui(),Z=Ml(L);return _=xj(_),m.context===null?m.context=_:m.pendingContext=_,m=Do($,Z),m.payload={element:c},T=T===void 0?null:T,T!==null&&(m.callback=T),c=Pl(L,m,Z),c!==null&&(Os(c,L,Z,$),t0(c,L,Z)),Z}function C0(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function bj(c,m){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var _=c.retryLane;c.retryLane=_!==0&&_<m?_:m}}function Zw(c,m){bj(c,m),(c=c.alternate)&&bj(c,m)}function dG(){return null}var _j=typeof reportError=="function"?reportError:function(c){console.error(c)};function Qw(c){this._internalRoot=c}A0.prototype.render=Qw.prototype.render=function(c){var m=this._internalRoot;if(m===null)throw Error(r(409));E0(c,m,null,null)},A0.prototype.unmount=Qw.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var m=c.containerInfo;Gc(function(){E0(null,c,null,null)}),m[Po]=null}};function A0(c){this._internalRoot=c}A0.prototype.unstable_scheduleHydration=function(c){if(c){var m=Xr();c={blockedOn:null,target:c,priority:m};for(var _=0;_<yi.length&&m!==0&&m<yi[_].priority;_++);yi.splice(_,0,c),_===0&&Pg(c)}};function Jw(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function O0(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function Sj(){}function fG(c,m,_,T,L){if(L){if(typeof T=="function"){var $=T;T=function(){var Oe=C0(Z);$.call(Oe)}}var Z=wj(m,T,c,0,null,!1,!1,"",Sj);return c._reactRootContainer=Z,c[Po]=Z.current,Fh(c.nodeType===8?c.parentNode:c),Gc(),Z}for(;L=c.lastChild;)c.removeChild(L);if(typeof T=="function"){var ce=T;T=function(){var Oe=C0(me);ce.call(Oe)}}var me=Xw(c,0,!1,null,null,!1,!1,"",Sj);return c._reactRootContainer=me,c[Po]=me.current,Fh(c.nodeType===8?c.parentNode:c),Gc(function(){E0(m,me,_,T)}),me}function T0(c,m,_,T,L){var $=_._reactRootContainer;if($){var Z=$;if(typeof L=="function"){var ce=L;L=function(){var me=C0(Z);ce.call(me)}}E0(m,Z,c,L)}else Z=fG(_,m,c,L,T);return C0(Z)}ad=function(c){switch(c.tag){case 3:var m=c.stateNode;if(m.current.memoizedState.isDehydrated){var _=Hr(m.pendingLanes);_!==0&&(En(m,_|1),oa(m,Mr()),(br&6)===0&&(Od=Mr()+500,Nl()))}break;case 13:Gc(function(){var T=Mo(c,1);if(T!==null){var L=Ui();Os(T,c,1,L)}}),Zw(c,1)}},Ti=function(c){if(c.tag===13){var m=Mo(c,134217728);if(m!==null){var _=Ui();Os(m,c,134217728,_)}Zw(c,134217728)}},Tt=function(c){if(c.tag===13){var m=Ml(c),_=Mo(c,m);if(_!==null){var T=Ui();Os(_,c,m,T)}Zw(c,m)}},Xr=function(){return Qt},Ch=function(c,m){var _=Qt;try{return Qt=c,m()}finally{Qt=_}},Co=function(c,m,_){switch(m){case"input":if(et(c,_),m=_.name,_.type==="radio"&&m!=null){for(_=c;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<_.length;m++){var T=_[m];if(T!==c&&T.form===c.form){var L=zg(T);if(!L)throw Error(r(90));ve(T),et(T,L)}}}break;case"textarea":Fe(c,_);break;case"select":m=_.value,m!=null&&fe(c,!!_.multiple,m,!1)}},vr=qw,Ht=Gc;var hG={usingClientEntryPoint:!1,Events:[Vh,pd,zg,Oc,Et,qw]},rp={findFiberByHostInstance:Fc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pG={bundleType:rp.bundleType,version:rp.version,rendererPackageName:rp.rendererPackageName,rendererConfig:rp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=Eg(c),c===null?null:c.stateNode},findFiberByHostInstance:rp.findFiberByHostInstance||dG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var N0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!N0.isDisabled&&N0.supportsFiber)try{yr=N0.inject(pG),Zt=N0}catch{}}return la.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hG,la.createPortal=function(c,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jw(m))throw Error(r(200));return uG(c,m,null,_)},la.createRoot=function(c,m){if(!Jw(c))throw Error(r(299));var _=!1,T="",L=_j;return m!=null&&(m.unstable_strictMode===!0&&(_=!0),m.identifierPrefix!==void 0&&(T=m.identifierPrefix),m.onRecoverableError!==void 0&&(L=m.onRecoverableError)),m=Xw(c,1,!1,null,null,_,!1,T,L),c[Po]=m.current,Fh(c.nodeType===8?c.parentNode:c),new Qw(m)},la.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var m=c._reactInternals;if(m===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=Eg(m),c=c===null?null:c.stateNode,c},la.flushSync=function(c){return Gc(c)},la.hydrate=function(c,m,_){if(!O0(m))throw Error(r(200));return T0(null,c,m,!0,_)},la.hydrateRoot=function(c,m,_){if(!Jw(c))throw Error(r(405));var T=_!=null&&_.hydratedSources||null,L=!1,$="",Z=_j;if(_!=null&&(_.unstable_strictMode===!0&&(L=!0),_.identifierPrefix!==void 0&&($=_.identifierPrefix),_.onRecoverableError!==void 0&&(Z=_.onRecoverableError)),m=wj(m,null,c,1,_??null,L,!1,$,Z),c[Po]=m.current,Fh(c),T)for(c=0;c<T.length;c++)_=T[c],L=_._getVersion,L=L(_._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[_,L]:m.mutableSourceEagerHydrationData.push(_,L);return new A0(m)},la.render=function(c,m,_){if(!O0(m))throw Error(r(200));return T0(null,c,m,!1,_)},la.unmountComponentAtNode=function(c){if(!O0(c))throw Error(r(40));return c._reactRootContainer?(Gc(function(){T0(null,null,c,!1,function(){c._reactRootContainer=null,c[Po]=null})}),!0):!1},la.unstable_batchedUpdates=qw,la.unstable_renderSubtreeIntoContainer=function(c,m,_,T){if(!O0(_))throw Error(r(200));if(c==null||c._reactInternals===void 0)throw Error(r(38));return T0(c,m,_,!1,T)},la.version="18.3.1-next-f1338f8080-20240426",la}var Pj;function ML(){if(Pj)return rb.exports;Pj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rb.exports=_G(),rb.exports}var jj;function SG(){if(jj)return k0;jj=1;var t=ML();return k0.createRoot=t.createRoot,k0.hydrateRoot=t.hydrateRoot,k0}var EG=SG(),N=c1();const te=Cr(N),FO=BO({__proto__:null,default:te},[N]),CG=5,AG=1e3,OG=5e3,TG=3e3,NG=7e3,kG=5e3;let ab=0;function PG(){return ab=(ab+1)%Number.MAX_SAFE_INTEGER,ab.toString()}const sb=new Map,fu=new Map,Ij=t=>{if(sb.has(t))return;const e=setTimeout(()=>{sb.delete(t),tf({type:"REMOVE_TOAST",toastId:t})},AG);sb.set(t,e)},DL=(t,e)=>{fu.has(t)&&clearTimeout(fu.get(t));const r=setTimeout(()=>{fu.delete(t),tf({type:"DISMISS_TOAST",toastId:t})},e);fu.set(t,r)},Nv=t=>{fu.has(t)&&(clearTimeout(fu.get(t)),fu.delete(t))},jG=(t,e)=>{switch(e.type){case"ADD_TOAST":{const r=[e.toast,...t.toasts].slice(0,CG);return e.toast.duration!==void 0&&e.toast.duration>0&&DL(e.toast.id,e.toast.duration),{...t,toasts:r}}case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?(Nv(r),Ij(r)):t.toasts.forEach(n=>{Nv(n.id),Ij(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},pv=[];let mv={toasts:[]};function tf(t){mv=jG(mv,t),pv.forEach(e=>{e(mv)})}const IG=t=>{switch(t){case"success":return TG;case"destructive":return NG;case"info":return kG;default:return OG}};function Au({duration:t,variant:e,...r}){const n=PG(),i=t!==void 0?t:IG(e),a=l=>{Nv(n),tf({type:"UPDATE_TOAST",toast:{...l,id:n}}),l.duration!==void 0&&l.duration>0&&DL(n,l.duration)},s=()=>{Nv(n),tf({type:"DISMISS_TOAST",toastId:n})};return tf({type:"ADD_TOAST",toast:{...r,variant:e,id:n,duration:i,open:!0,onOpenChange:l=>{l||s()}}}),{id:n,dismiss:s,update:a}}function mi(){const[t,e]=N.useState(mv);return N.useEffect(()=>(pv.push(e),()=>{const r=pv.indexOf(e);r>-1&&pv.splice(r,1)}),[]),{...t,toast:Au,dismiss:r=>tf({type:"DISMISS_TOAST",toastId:r})}}var ah=ML();const LL=Cr(ah);function it(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t?.(i),r===!1||!i.defaultPrevented)return e?.(i)}}function Rj(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function u1(...t){return e=>{let r=!1;const n=t.map(i=>{const a=Rj(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():Rj(t[i],null)}}}}function lr(...t){return N.useCallback(u1(...t),t)}function RG(t,e){const r=N.createContext(e),n=a=>{const{children:s,...l}=a,d=N.useMemo(()=>l,Object.values(l));return f.jsx(r.Provider,{value:d,children:s})};n.displayName=t+"Provider";function i(a){const s=N.useContext(r);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function Zi(t,e=[]){let r=[];function n(a,s){const l=N.createContext(s),d=r.length;r=[...r,s];const h=v=>{const{scope:b,children:S,...O}=v,E=b?.[t]?.[d]||l,C=N.useMemo(()=>O,Object.values(O));return f.jsx(E.Provider,{value:C,children:S})};h.displayName=a+"Provider";function g(v,b){const S=b?.[t]?.[d]||l,O=N.useContext(S);if(O)return O;if(s!==void 0)return s;throw new Error(`\`${v}\` must be used within \`${a}\``)}return[h,g]}const i=()=>{const a=r.map(s=>N.createContext(s));return function(l){const d=l?.[t]||a;return N.useMemo(()=>({[`__scope${t}`]:{...l,[t]:d}}),[l,d])}};return i.scopeName=t,[n,MG(i,...e)]}function MG(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((l,{useScope:d,scopeName:h})=>{const v=d(a)[`__scope${h}`];return{...l,...v}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}function cc(t){const e=DG(t),r=N.forwardRef((n,i)=>{const{children:a,...s}=n,l=N.Children.toArray(a),d=l.find(LG);if(d){const h=d.props.children,g=l.map(v=>v===d?N.Children.count(h)>1?N.Children.only(null):N.isValidElement(h)?h.props.children:null:v);return f.jsx(e,{...s,ref:i,children:N.isValidElement(h)?N.cloneElement(h,void 0,g):null})}return f.jsx(e,{...s,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}var Wu=cc("Slot");function DG(t){const e=N.forwardRef((r,n)=>{const{children:i,...a}=r;if(N.isValidElement(i)){const s=FG(i),l=BG(a,i.props);return i.type!==N.Fragment&&(l.ref=n?u1(n,s):s),N.cloneElement(i,l)}return N.Children.count(i)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var BL=Symbol("radix.slottable");function FL(t){const e=({children:r})=>f.jsx(f.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=BL,e}function LG(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===BL}function BG(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const d=a(...l);return i(...l),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function FG(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function d1(t){const e=t+"CollectionProvider",[r,n]=Zi(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),s=E=>{const{scope:C,children:j}=E,P=te.useRef(null),I=te.useRef(new Map).current;return f.jsx(i,{scope:C,itemMap:I,collectionRef:P,children:j})};s.displayName=e;const l=t+"CollectionSlot",d=cc(l),h=te.forwardRef((E,C)=>{const{scope:j,children:P}=E,I=a(l,j),F=lr(C,I.collectionRef);return f.jsx(d,{ref:F,children:P})});h.displayName=l;const g=t+"CollectionItemSlot",v="data-radix-collection-item",b=cc(g),S=te.forwardRef((E,C)=>{const{scope:j,children:P,...I}=E,F=te.useRef(null),R=lr(C,F),M=a(g,j);return te.useEffect(()=>(M.itemMap.set(F,{ref:F,...I}),()=>void M.itemMap.delete(F))),f.jsx(b,{[v]:"",ref:R,children:P})});S.displayName=g;function O(E){const C=a(t+"CollectionConsumer",E);return te.useCallback(()=>{const P=C.collectionRef.current;if(!P)return[];const I=Array.from(P.querySelectorAll(`[${v}]`));return Array.from(C.itemMap.values()).sort((M,B)=>I.indexOf(M.ref.current)-I.indexOf(B.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:s,Slot:h,ItemSlot:S},O,n]}var $G=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ot=$G.reduce((t,e)=>{const r=cc(`Primitive.${e}`),n=N.forwardRef((i,a)=>{const{asChild:s,...l}=i,d=s?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(d,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function $O(t,e){t&&ah.flushSync(()=>t.dispatchEvent(e))}function Xi(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...r)=>e.current?.(...r),[])}function UG(t,e=globalThis?.document){const r=Xi(t);N.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var VG="DismissableLayer",mC="dismissableLayer.update",WG="dismissableLayer.pointerDownOutside",qG="dismissableLayer.focusOutside",Mj,$L=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qu=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:l,...d}=t,h=N.useContext($L),[g,v]=N.useState(null),b=g?.ownerDocument??globalThis?.document,[,S]=N.useState({}),O=lr(e,B=>v(B)),E=Array.from(h.layers),[C]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),j=E.indexOf(C),P=g?E.indexOf(g):-1,I=h.layersWithOutsidePointerEventsDisabled.size>0,F=P>=j,R=HG(B=>{const q=B.target,U=[...h.branches].some(z=>z.contains(q));!F||U||(i?.(B),s?.(B),B.defaultPrevented||l?.())},b),M=GG(B=>{const q=B.target;[...h.branches].some(z=>z.contains(q))||(a?.(B),s?.(B),B.defaultPrevented||l?.())},b);return UG(B=>{P===h.layers.size-1&&(n?.(B),!B.defaultPrevented&&l&&(B.preventDefault(),l()))},b),N.useEffect(()=>{if(g)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Mj=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(g)),h.layers.add(g),Dj(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=Mj)}},[g,b,r,h]),N.useEffect(()=>()=>{g&&(h.layers.delete(g),h.layersWithOutsidePointerEventsDisabled.delete(g),Dj())},[g,h]),N.useEffect(()=>{const B=()=>S({});return document.addEventListener(mC,B),()=>document.removeEventListener(mC,B)},[]),f.jsx(Ot.div,{...d,ref:O,style:{pointerEvents:I?F?"auto":"none":void 0,...t.style},onFocusCapture:it(t.onFocusCapture,M.onFocusCapture),onBlurCapture:it(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:it(t.onPointerDownCapture,R.onPointerDownCapture)})});qu.displayName=VG;var zG="DismissableLayerBranch",UL=N.forwardRef((t,e)=>{const r=N.useContext($L),n=N.useRef(null),i=lr(e,n);return N.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),f.jsx(Ot.div,{...t,ref:i})});UL.displayName=zG;function HG(t,e=globalThis?.document){const r=Xi(t),n=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let d=function(){VL(WG,r,h,{discrete:!0})};const h={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}else e.removeEventListener("click",i.current);n.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function GG(t,e=globalThis?.document){const r=Xi(t),n=N.useRef(!1);return N.useEffect(()=>{const i=a=>{a.target&&!n.current&&VL(qG,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Dj(){const t=new CustomEvent(mC);document.dispatchEvent(t)}function VL(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?$O(i,a):i.dispatchEvent(a)}var KG=qu,YG=UL,zn=globalThis?.document?N.useLayoutEffect:()=>{},XG="Portal",sh=N.forwardRef((t,e)=>{const{container:r,...n}=t,[i,a]=N.useState(!1);zn(()=>a(!0),[]);const s=r||i&&globalThis?.document?.body;return s?LL.createPortal(f.jsx(Ot.div,{...n,ref:e}),s):null});sh.displayName=XG;function ZG(t,e){return N.useReducer((r,n)=>e[r][n]??r,t)}var ma=t=>{const{present:e,children:r}=t,n=QG(e),i=typeof r=="function"?r({present:n.isPresent}):N.Children.only(r),a=lr(n.ref,JG(i));return typeof r=="function"||n.isPresent?N.cloneElement(i,{ref:a}):null};ma.displayName="Presence";function QG(t){const[e,r]=N.useState(),n=N.useRef(null),i=N.useRef(t),a=N.useRef("none"),s=t?"mounted":"unmounted",[l,d]=ZG(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const h=P0(n.current);a.current=l==="mounted"?h:"none"},[l]),zn(()=>{const h=n.current,g=i.current;if(g!==t){const b=a.current,S=P0(h);t?d("MOUNT"):S==="none"||h?.display==="none"?d("UNMOUNT"):d(g&&b!==S?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,d]),zn(()=>{if(e){let h;const g=e.ownerDocument.defaultView??window,v=S=>{const E=P0(n.current).includes(S.animationName);if(S.target===e&&E&&(d("ANIMATION_END"),!i.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",h=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},b=S=>{S.target===e&&(a.current=P0(n.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{g.clearTimeout(h),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:N.useCallback(h=>{n.current=h?getComputedStyle(h):null,r(h)},[])}}function P0(t){return t?.animationName||"none"}function JG(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var eK=FO[" useInsertionEffect ".trim().toString()]||zn;function Vs({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,a,s]=tK({defaultProp:e,onChange:r}),l=t!==void 0,d=l?t:i;{const g=N.useRef(t!==void 0);N.useEffect(()=>{const v=g.current;v!==l&&console.warn(`${n} is changing from ${v?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=l},[l,n])}const h=N.useCallback(g=>{if(l){const v=rK(g)?g(t):g;v!==t&&s.current?.(v)}else a(g)},[l,t,a,s]);return[d,h]}function tK({defaultProp:t,onChange:e}){const[r,n]=N.useState(t),i=N.useRef(r),a=N.useRef(e);return eK(()=>{a.current=e},[e]),N.useEffect(()=>{i.current!==r&&(a.current?.(r),i.current=r)},[r,i]),[r,n,a]}function rK(t){return typeof t=="function"}var WL=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),nK="VisuallyHidden",f1=N.forwardRef((t,e)=>f.jsx(Ot.span,{...t,ref:e,style:{...WL,...t.style}}));f1.displayName=nK;var iK=f1,UO="ToastProvider",[VO,aK,sK]=d1("Toast"),[qL]=Zi("Toast",[sK]),[oK,h1]=qL(UO),zL=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:s}=t,[l,d]=N.useState(null),[h,g]=N.useState(0),v=N.useRef(!1),b=N.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${UO}\`. Expected non-empty \`string\`.`),f.jsx(VO.Provider,{scope:e,children:f.jsx(oK,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:h,viewport:l,onViewportChange:d,onToastAdd:N.useCallback(()=>g(S=>S+1),[]),onToastRemove:N.useCallback(()=>g(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:b,children:s})})};zL.displayName=UO;var HL="ToastViewport",lK=["F8"],gC="toast.viewportPause",vC="toast.viewportResume",GL=N.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=lK,label:i="Notifications ({hotkey})",...a}=t,s=h1(HL,r),l=aK(r),d=N.useRef(null),h=N.useRef(null),g=N.useRef(null),v=N.useRef(null),b=lr(e,v,s.onViewportChange),S=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=s.toastCount>0;N.useEffect(()=>{const C=j=>{n.length!==0&&n.every(I=>j[I]||j.code===I)&&v.current?.focus()};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[n]),N.useEffect(()=>{const C=d.current,j=v.current;if(O&&C&&j){const P=()=>{if(!s.isClosePausedRef.current){const M=new CustomEvent(gC);j.dispatchEvent(M),s.isClosePausedRef.current=!0}},I=()=>{if(s.isClosePausedRef.current){const M=new CustomEvent(vC);j.dispatchEvent(M),s.isClosePausedRef.current=!1}},F=M=>{!C.contains(M.relatedTarget)&&I()},R=()=>{C.contains(document.activeElement)||I()};return C.addEventListener("focusin",P),C.addEventListener("focusout",F),C.addEventListener("pointermove",P),C.addEventListener("pointerleave",R),window.addEventListener("blur",P),window.addEventListener("focus",I),()=>{C.removeEventListener("focusin",P),C.removeEventListener("focusout",F),C.removeEventListener("pointermove",P),C.removeEventListener("pointerleave",R),window.removeEventListener("blur",P),window.removeEventListener("focus",I)}}},[O,s.isClosePausedRef]);const E=N.useCallback(({tabbingDirection:C})=>{const P=l().map(I=>{const F=I.ref.current,R=[F,...bK(F)];return C==="forwards"?R:R.reverse()});return(C==="forwards"?P.reverse():P).flat()},[l]);return N.useEffect(()=>{const C=v.current;if(C){const j=P=>{const I=P.altKey||P.ctrlKey||P.metaKey;if(P.key==="Tab"&&!I){const R=document.activeElement,M=P.shiftKey;if(P.target===C&&M){h.current?.focus();return}const U=E({tabbingDirection:M?"backwards":"forwards"}),z=U.findIndex(G=>G===R);ob(U.slice(z+1))?P.preventDefault():M?h.current?.focus():g.current?.focus()}};return C.addEventListener("keydown",j),()=>C.removeEventListener("keydown",j)}},[l,E]),f.jsxs(YG,{ref:d,role:"region","aria-label":i.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:O?void 0:"none"},children:[O&&f.jsx(yC,{ref:h,onFocusFromOutsideViewport:()=>{const C=E({tabbingDirection:"forwards"});ob(C)}}),f.jsx(VO.Slot,{scope:r,children:f.jsx(Ot.ol,{tabIndex:-1,...a,ref:b})}),O&&f.jsx(yC,{ref:g,onFocusFromOutsideViewport:()=>{const C=E({tabbingDirection:"backwards"});ob(C)}})]})});GL.displayName=HL;var KL="ToastFocusProxy",yC=N.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,a=h1(KL,r);return f.jsx(f1,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{const l=s.relatedTarget;!a.viewport?.contains(l)&&n()}})});yC.displayName=KL;var zm="Toast",cK="toast.swipeStart",uK="toast.swipeMove",dK="toast.swipeCancel",fK="toast.swipeEnd",YL=N.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...s}=t,[l,d]=Vs({prop:n,defaultProp:i??!0,onChange:a,caller:zm});return f.jsx(ma,{present:r||l,children:f.jsx(mK,{open:l,...s,ref:e,onClose:()=>d(!1),onPause:Xi(t.onPause),onResume:Xi(t.onResume),onSwipeStart:it(t.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:it(t.onSwipeMove,h=>{const{x:g,y:v}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:it(t.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:it(t.onSwipeEnd,h=>{const{x:g,y:v}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),d(!1)})})})});YL.displayName=zm;var[hK,pK]=qL(zm,{onClose(){}}),mK=N.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:s,onEscapeKeyDown:l,onPause:d,onResume:h,onSwipeStart:g,onSwipeMove:v,onSwipeCancel:b,onSwipeEnd:S,...O}=t,E=h1(zm,r),[C,j]=N.useState(null),P=lr(e,Q=>j(Q)),I=N.useRef(null),F=N.useRef(null),R=i||E.duration,M=N.useRef(0),B=N.useRef(R),q=N.useRef(0),{onToastAdd:U,onToastRemove:z}=E,G=Xi(()=>{C?.contains(document.activeElement)&&E.viewport?.focus(),s()}),W=N.useCallback(Q=>{!Q||Q===1/0||(window.clearTimeout(q.current),M.current=new Date().getTime(),q.current=window.setTimeout(G,Q))},[G]);N.useEffect(()=>{const Q=E.viewport;if(Q){const X=()=>{W(B.current),h?.()},se=()=>{const ne=new Date().getTime()-M.current;B.current=B.current-ne,window.clearTimeout(q.current),d?.()};return Q.addEventListener(gC,se),Q.addEventListener(vC,X),()=>{Q.removeEventListener(gC,se),Q.removeEventListener(vC,X)}}},[E.viewport,R,d,h,W]),N.useEffect(()=>{a&&!E.isClosePausedRef.current&&W(R)},[a,R,E.isClosePausedRef,W]),N.useEffect(()=>(U(),()=>z()),[U,z]);const H=N.useMemo(()=>C?rB(C):null,[C]);return E.viewport?f.jsxs(f.Fragment,{children:[H&&f.jsx(gK,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),f.jsx(hK,{scope:r,onClose:G,children:ah.createPortal(f.jsx(VO.ItemSlot,{scope:r,children:f.jsx(KG,{asChild:!0,onEscapeKeyDown:it(l,()=>{E.isFocusedToastEscapeKeyDownRef.current||G(),E.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(Ot.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":E.swipeDirection,...O,ref:P,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:it(t.onKeyDown,Q=>{Q.key==="Escape"&&(l?.(Q.nativeEvent),Q.nativeEvent.defaultPrevented||(E.isFocusedToastEscapeKeyDownRef.current=!0,G()))}),onPointerDown:it(t.onPointerDown,Q=>{Q.button===0&&(I.current={x:Q.clientX,y:Q.clientY})}),onPointerMove:it(t.onPointerMove,Q=>{if(!I.current)return;const X=Q.clientX-I.current.x,se=Q.clientY-I.current.y,ne=!!F.current,re=["left","right"].includes(E.swipeDirection),J=["left","up"].includes(E.swipeDirection)?Math.min:Math.max,he=re?J(0,X):0,ie=re?0:J(0,se),le=Q.pointerType==="touch"?10:2,we={x:he,y:ie},ke={originalEvent:Q,delta:we};ne?(F.current=we,j0(uK,v,ke,{discrete:!1})):Lj(we,E.swipeDirection,le)?(F.current=we,j0(cK,g,ke,{discrete:!1}),Q.target.setPointerCapture(Q.pointerId)):(Math.abs(X)>le||Math.abs(se)>le)&&(I.current=null)}),onPointerUp:it(t.onPointerUp,Q=>{const X=F.current,se=Q.target;if(se.hasPointerCapture(Q.pointerId)&&se.releasePointerCapture(Q.pointerId),F.current=null,I.current=null,X){const ne=Q.currentTarget,re={originalEvent:Q,delta:X};Lj(X,E.swipeDirection,E.swipeThreshold)?j0(fK,S,re,{discrete:!0}):j0(dK,b,re,{discrete:!0}),ne.addEventListener("click",J=>J.preventDefault(),{once:!0})}})})})}),E.viewport)})]}):null}),gK=t=>{const{__scopeToast:e,children:r,...n}=t,i=h1(zm,e),[a,s]=N.useState(!1),[l,d]=N.useState(!1);return xK(()=>s(!0)),N.useEffect(()=>{const h=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(h)},[]),l?null:f.jsx(sh,{asChild:!0,children:f.jsx(f1,{...n,children:a&&f.jsxs(f.Fragment,{children:[i.label," ",r]})})})},vK="ToastTitle",XL=N.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return f.jsx(Ot.div,{...n,ref:e})});XL.displayName=vK;var yK="ToastDescription",ZL=N.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return f.jsx(Ot.div,{...n,ref:e})});ZL.displayName=yK;var QL="ToastAction",JL=N.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?f.jsx(tB,{altText:r,asChild:!0,children:f.jsx(WO,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${QL}\`. Expected non-empty \`string\`.`),null)});JL.displayName=QL;var eB="ToastClose",WO=N.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=pK(eB,r);return f.jsx(tB,{asChild:!0,children:f.jsx(Ot.button,{type:"button",...n,ref:e,onClick:it(t.onClick,i.onClose)})})});WO.displayName=eB;var tB=N.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return f.jsx(Ot.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function rB(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),wK(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const s=n.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...rB(n))}}),e}function j0(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?$O(i,a):i.dispatchEvent(a)}var Lj=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),a=n>i;return e==="left"||e==="right"?a&&n>r:!a&&i>r};function xK(t=()=>{}){const e=Xi(t);zn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function wK(t){return t.nodeType===t.ELEMENT_NODE}function bK(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function ob(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var _K=zL,nB=GL,iB=YL,aB=XL,sB=ZL,oB=JL,lB=WO;function cB(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=cB(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function zt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=cB(t))&&(n&&(n+=" "),n+=e);return n}const Bj=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Fj=zt,zu=(t,e)=>r=>{var n;if(e?.variants==null)return Fj(t,r?.class,r?.className);const{variants:i,defaultVariants:a}=e,s=Object.keys(i).map(h=>{const g=r?.[h],v=a?.[h];if(g===null)return null;const b=Bj(g)||Bj(v);return i[h][b]}),l=r&&Object.entries(r).reduce((h,g)=>{let[v,b]=g;return b===void 0||(h[v]=b),h},{}),d=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((h,g)=>{let{class:v,className:b,...S}=g;return Object.entries(S).every(O=>{let[E,C]=O;return Array.isArray(C)?C.includes({...a,...l}[E]):{...a,...l}[E]===C})?[...h,v,b]:h},[]);return Fj(t,s,d,r?.class,r?.className)};const SK=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uB=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();var EK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const CK=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...l},d)=>N.createElement("svg",{ref:d,...EK,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:uB("lucide",i),...l},[...s.map(([h,g])=>N.createElement(h,g)),...Array.isArray(a)?a:[a]]));const St=(t,e)=>{const r=N.forwardRef(({className:n,...i},a)=>N.createElement(CK,{ref:a,iconNode:e,className:uB(`lucide-${SK(t)}`,n),...i}));return r.displayName=`${t}`,r};const $j=St("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const Uj=St("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const AK=St("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const qO=St("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const OK=St("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);const Bi=St("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const Vj=St("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const zO=St("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const HO=St("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const dB=St("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const fB=St("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const GO=St("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const TK=St("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const uc=St("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const ff=St("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const p1=St("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const NK=St("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const kK=St("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);const Ou=St("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const kv=St("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const PK=St("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const jK=St("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);const xC=St("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const rc=St("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);const IK=St("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);const RK=St("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const wC=St("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const MK=St("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);const da=St("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const DK=St("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const hB=St("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);const pB=St("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const bC=St("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const mB=St("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const LK=St("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);const BK=St("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const FK=St("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const Vp=St("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Wp=St("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);const hf=St("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const $K=St("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);const UK=St("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const KO=St("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const VK=St("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const gB=St("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const WK=St("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Hm=St("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);const qK=St("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const YO=St("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const qp=St("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const zK=St("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const HK=St("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const GK=St("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const Wj=St("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);const vB=St("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const KK=St("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);const rf=St("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const ll=St("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const Gm=St("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),XO="-",YK=t=>{const e=ZK(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:s=>{const l=s.split(XO);return l[0]===""&&l.length!==1&&l.shift(),yB(l,e)||XK(s)},getConflictingClassGroupIds:(s,l)=>{const d=r[s]||[];return l&&n[s]?[...d,...n[s]]:d}}},yB=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?yB(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(XO);return e.validators.find(({validator:s})=>s(a))?.classGroupId},qj=/^\[(.+)\]$/,XK=t=>{if(qj.test(t)){const e=qj.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},ZK=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return JK(Object.entries(t.classGroups),r).forEach(([a,s])=>{_C(s,n,a,e)}),n},_C=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:zj(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(QK(i)){_C(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,s])=>{_C(s,zj(e,a),r,n)})})},zj=(t,e)=>{let r=t;return e.split(XO).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},QK=t=>t.isThemeGetter,JK=(t,e)=>e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([s,l])=>[e+s,l])):a);return[r,i]}):t,eY=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,s)=>{r.set(a,s),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let s=r.get(a);if(s!==void 0)return s;if((s=n.get(a))!==void 0)return i(a,s),s},set(a,s){r.has(a)?r.set(a,s):i(a,s)}}},xB="!",tY=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],a=e.length,s=l=>{const d=[];let h=0,g=0,v;for(let C=0;C<l.length;C++){let j=l[C];if(h===0){if(j===i&&(n||l.slice(C,C+a)===e)){d.push(l.slice(g,C)),g=C+a;continue}if(j==="/"){v=C;continue}}j==="["?h++:j==="]"&&h--}const b=d.length===0?l:l.substring(g),S=b.startsWith(xB),O=S?b.substring(1):b,E=v&&v>g?v-g:void 0;return{modifiers:d,hasImportantModifier:S,baseClassName:O,maybePostfixModifierPosition:E}};return r?l=>r({className:l,parseClassName:s}):s},rY=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},nY=t=>({cache:eY(t.cacheSize),parseClassName:tY(t),...YK(t)}),iY=/\s+/,aY=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],s=t.trim().split(iY);let l="";for(let d=s.length-1;d>=0;d-=1){const h=s[d],{modifiers:g,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:S}=r(h);let O=!!S,E=n(O?b.substring(0,S):b);if(!E){if(!O){l=h+(l.length>0?" "+l:l);continue}if(E=n(b),!E){l=h+(l.length>0?" "+l:l);continue}O=!1}const C=rY(g).join(":"),j=v?C+xB:C,P=j+E;if(a.includes(P))continue;a.push(P);const I=i(E,O);for(let F=0;F<I.length;++F){const R=I[F];a.push(j+R)}l=h+(l.length>0?" "+l:l)}return l};function sY(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=wB(e))&&(n&&(n+=" "),n+=r);return n}const wB=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=wB(t[n]))&&(r&&(r+=" "),r+=e);return r};function oY(t,...e){let r,n,i,a=s;function s(d){const h=e.reduce((g,v)=>v(g),t());return r=nY(h),n=r.cache.get,i=r.cache.set,a=l,l(d)}function l(d){const h=n(d);if(h)return h;const g=aY(d,r);return i(d,g),g}return function(){return a(sY.apply(null,arguments))}}const dn=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},bB=/^\[(?:([a-z-]+):)?(.+)\]$/i,lY=/^\d+\/\d+$/,cY=new Set(["px","full","screen"]),uY=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dY=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fY=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,hY=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pY=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fo=t=>nf(t)||cY.has(t)||lY.test(t),Fl=t=>oh(t,"length",_Y),nf=t=>!!t&&!Number.isNaN(Number(t)),lb=t=>oh(t,"number",nf),ip=t=>!!t&&Number.isInteger(Number(t)),mY=t=>t.endsWith("%")&&nf(t.slice(0,-1)),er=t=>bB.test(t),$l=t=>uY.test(t),gY=new Set(["length","size","percentage"]),vY=t=>oh(t,gY,_B),yY=t=>oh(t,"position",_B),xY=new Set(["image","url"]),wY=t=>oh(t,xY,EY),bY=t=>oh(t,"",SY),ap=()=>!0,oh=(t,e,r)=>{const n=bB.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},_Y=t=>dY.test(t)&&!fY.test(t),_B=()=>!1,SY=t=>hY.test(t),EY=t=>pY.test(t),CY=()=>{const t=dn("colors"),e=dn("spacing"),r=dn("blur"),n=dn("brightness"),i=dn("borderColor"),a=dn("borderRadius"),s=dn("borderSpacing"),l=dn("borderWidth"),d=dn("contrast"),h=dn("grayscale"),g=dn("hueRotate"),v=dn("invert"),b=dn("gap"),S=dn("gradientColorStops"),O=dn("gradientColorStopPositions"),E=dn("inset"),C=dn("margin"),j=dn("opacity"),P=dn("padding"),I=dn("saturate"),F=dn("scale"),R=dn("sepia"),M=dn("skew"),B=dn("space"),q=dn("translate"),U=()=>["auto","contain","none"],z=()=>["auto","hidden","clip","visible","scroll"],G=()=>["auto",er,e],W=()=>[er,e],H=()=>["",Fo,Fl],Q=()=>["auto",nf,er],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],se=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",er],he=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[nf,er];return{cacheSize:500,separator:":",theme:{colors:[ap],spacing:[Fo,Fl],blur:["none","",$l,er],brightness:ie(),borderColor:[t],borderRadius:["none","","full",$l,er],borderSpacing:W(),borderWidth:H(),contrast:ie(),grayscale:J(),hueRotate:ie(),invert:J(),gap:W(),gradientColorStops:[t],gradientColorStopPositions:[mY,Fl],inset:G(),margin:G(),opacity:ie(),padding:W(),saturate:ie(),scale:ie(),sepia:J(),skew:ie(),space:W(),translate:W()},classGroups:{aspect:[{aspect:["auto","square","video",er]}],container:["container"],columns:[{columns:[$l]}],"break-after":[{"break-after":he()}],"break-before":[{"break-before":he()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),er]}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ip,er]}],basis:[{basis:G()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",er]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",ip,er]}],"grid-cols":[{"grid-cols":[ap]}],"col-start-end":[{col:["auto",{span:["full",ip,er]},er]}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":[ap]}],"row-start-end":[{row:["auto",{span:[ip,er]},er]}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",er]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",er]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...re()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...re(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...re(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[P]}],px:[{px:[P]}],py:[{py:[P]}],ps:[{ps:[P]}],pe:[{pe:[P]}],pt:[{pt:[P]}],pr:[{pr:[P]}],pb:[{pb:[P]}],pl:[{pl:[P]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",er,e]}],"min-w":[{"min-w":[er,e,"min","max","fit"]}],"max-w":[{"max-w":[er,e,"none","full","min","max","fit","prose",{screen:[$l]},$l]}],h:[{h:[er,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[er,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[er,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[er,e,"auto","min","max","fit"]}],"font-size":[{text:["base",$l,Fl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lb]}],"font-family":[{font:[ap]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",er]}],"line-clamp":[{"line-clamp":["none",nf,lb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Fo,er]}],"list-image":[{"list-image":["none",er]}],"list-style-type":[{list:["none","disc","decimal",er]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Fo,Fl]}],"underline-offset":[{"underline-offset":["auto",Fo,er]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",er]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",er]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),yY]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",vY]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wY]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[O]}],"gradient-via-pos":[{via:[O]}],"gradient-to-pos":[{to:[O]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...se(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:se()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...se()]}],"outline-offset":[{"outline-offset":[Fo,er]}],"outline-w":[{outline:[Fo,Fl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[Fo,Fl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",$l,bY]}],"shadow-color":[{shadow:[ap]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",$l,er]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[v]}],saturate:[{saturate:[I]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",er]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",er]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",er]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[F]}],"scale-x":[{"scale-x":[F]}],"scale-y":[{"scale-y":[F]}],rotate:[{rotate:[ip,er]}],"translate-x":[{"translate-x":[q]}],"translate-y":[{"translate-y":[q]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",er]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",er]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",er]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Fo,Fl,lb]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},AY=oY(CY);function Me(...t){return AY(zt(t))}const OY=_K,SB=N.forwardRef(({className:t,...e},r)=>f.jsx(nB,{ref:r,className:Me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));SB.displayName=nB.displayName;const TY=zu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground",success:"border-success bg-success/10 text-success-foreground",info:"border-primary bg-primary/10 text-primary-foreground"}},defaultVariants:{variant:"default"}}),EB=N.forwardRef(({className:t,variant:e,...r},n)=>f.jsx(iB,{ref:n,className:Me(TY({variant:e}),t),...r}));EB.displayName=iB.displayName;const NY=N.forwardRef(({className:t,...e},r)=>f.jsx(oB,{ref:r,className:Me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));NY.displayName=oB.displayName;const CB=N.forwardRef(({className:t,...e},r)=>f.jsx(lB,{ref:r,className:Me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(Gm,{className:"h-4 w-4"})}));CB.displayName=lB.displayName;const AB=N.forwardRef(({className:t,...e},r)=>f.jsx(aB,{ref:r,className:Me("text-sm font-semibold",t),...e}));AB.displayName=aB.displayName;const OB=N.forwardRef(({className:t,...e},r)=>f.jsx(sB,{ref:r,className:Me("text-sm opacity-90",t),...e}));OB.displayName=sB.displayName;function kY(){const{toasts:t}=mi();return f.jsxs(OY,{children:[t.map(function({id:e,title:r,description:n,action:i,...a}){return f.jsxs(EB,{...a,children:[f.jsxs("div",{className:"grid gap-1",children:[r&&f.jsx(AB,{children:r}),n&&f.jsx(OB,{children:n})]}),i,f.jsx(CB,{})]},e)}),f.jsx(SB,{})]})}var Hj=["light","dark"],PY="(prefers-color-scheme: dark)",jY=N.createContext(void 0),IY={setTheme:t=>{},themes:[]},RY=()=>{var t;return(t=N.useContext(jY))!=null?t:IY};N.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:s,attrs:l,nonce:d})=>{let h=a==="system",g=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(O=>`'${O}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,v=i?Hj.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",b=(O,E=!1,C=!0)=>{let j=s?s[O]:O,P=E?O+"|| ''":`'${j}'`,I="";return i&&C&&!E&&Hj.includes(O)&&(I+=`d.style.colorScheme = '${O}';`),r==="class"?E||j?I+=`c.add(${P})`:I+="null":j&&(I+=`d[s](n,${P})`),I},S=t?`!function(){${g}${b(t)}}()`:n?`!function(){try{${g}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${h})){var t='${PY}',m=window.matchMedia(t);if(m.media!==t||m.matches){${b("dark")}}else{${b("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${b(s?"x[e]":"e",!0)}}${h?"":"else{"+b(a,!1,!1)+"}"}${v}}catch(e){}}()`:`!function(){try{${g}var e=localStorage.getItem('${e}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${b(s?"x[e]":"e",!0)}}else{${b(a,!1,!1)};}${v}}catch(t){}}();`;return N.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:S}})});var MY=t=>{switch(t){case"success":return BY;case"info":return $Y;case"warning":return FY;case"error":return UY;default:return null}},DY=Array(12).fill(0),LY=({visible:t,className:e})=>te.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},te.createElement("div",{className:"sonner-spinner"},DY.map((r,n)=>te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),BY=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),FY=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),$Y=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),UY=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),VY=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),WY=()=>{let[t,e]=te.useState(document.hidden);return te.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},SC=1,qY=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,i=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:SC++,a=this.toasts.find(l=>l.id===i),s=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:r}),{...l,...t,id:i,dismissible:s,title:r}):l):this.addToast({title:r,...n,dismissible:s,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=r!==void 0,a,s=n.then(async d=>{if(a=["resolve",d],te.isValidElement(d))i=!1,this.create({id:r,type:"default",message:d});else if(HY(d)&&!d.ok){i=!1;let h=typeof e.error=="function"?await e.error(`HTTP error! status: ${d.status}`):e.error,g=typeof e.description=="function"?await e.description(`HTTP error! status: ${d.status}`):e.description;this.create({id:r,type:"error",message:h,description:g})}else if(e.success!==void 0){i=!1;let h=typeof e.success=="function"?await e.success(d):e.success,g=typeof e.description=="function"?await e.description(d):e.description;this.create({id:r,type:"success",message:h,description:g})}}).catch(async d=>{if(a=["reject",d],e.error!==void 0){i=!1;let h=typeof e.error=="function"?await e.error(d):e.error,g=typeof e.description=="function"?await e.description(d):e.description;this.create({id:r,type:"error",message:h,description:g})}}).finally(()=>{var d;i&&(this.dismiss(r),r=void 0),(d=e.finally)==null||d.call(e)}),l=()=>new Promise((d,h)=>s.then(()=>a[0]==="reject"?h(a[1]):d(a[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(t,e)=>{let r=e?.id||SC++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ua=new qY,zY=(t,e)=>{let r=e?.id||SC++;return ua.addToast({title:t,...e,id:r}),r},HY=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",GY=zY,KY=()=>ua.toasts,YY=()=>ua.getActiveToasts();Object.assign(GY,{success:ua.success,info:ua.info,warning:ua.warning,error:ua.error,custom:ua.custom,message:ua.message,promise:ua.promise,dismiss:ua.dismiss,loading:ua.loading},{getHistory:KY,getToasts:YY});function XY(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}XY(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function I0(t){return t.label!==void 0}var ZY=3,QY="32px",JY="16px",Gj=4e3,eX=356,tX=14,rX=20,nX=200;function Ts(...t){return t.filter(Boolean).join(" ")}function iX(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var aX=t=>{var e,r,n,i,a,s,l,d,h,g,v;let{invert:b,toast:S,unstyled:O,interacting:E,setHeights:C,visibleToasts:j,heights:P,index:I,toasts:F,expanded:R,removeToast:M,defaultRichColors:B,closeButton:q,style:U,cancelButtonStyle:z,actionButtonStyle:G,className:W="",descriptionClassName:H="",duration:Q,position:X,gap:se,loadingIcon:ne,expandByDefault:re,classNames:J,icons:he,closeButtonAriaLabel:ie="Close toast",pauseWhenPageIsHidden:le}=t,[we,ke]=te.useState(null),[qe,je]=te.useState(null),[Te,De]=te.useState(!1),[Ne,Le]=te.useState(!1),[ue,ve]=te.useState(!1),[Ue,Ie]=te.useState(!1),[Ge,ct]=te.useState(!1),[et,ot]=te.useState(0),[at,de]=te.useState(0),fe=te.useRef(S.duration||Q||Gj),Ee=te.useRef(null),Xe=te.useRef(null),Fe=I===0,$e=I+1<=j,tt=S.type,It=S.dismissible!==!1,Wt=S.className||"",pr=S.descriptionClassName||"",Dn=te.useMemo(()=>P.findIndex(Et=>Et.toastId===S.id)||0,[P,S.id]),yn=te.useMemo(()=>{var Et;return(Et=S.closeButton)!=null?Et:q},[S.closeButton,q]),Ys=te.useMemo(()=>S.duration||Q||Gj,[S.duration,Q]),ar=te.useRef(0),Ke=te.useRef(0),Vr=te.useRef(0),Jt=te.useRef(null),[Rr,Ji]=X.split("-"),Xs=te.useMemo(()=>P.reduce((Et,vr,Ht)=>Ht>=Dn?Et:Et+vr.height,0),[P,Dn]),Co=WY(),nr=S.invert||b,oi=tt==="loading";Ke.current=te.useMemo(()=>Dn*se+Xs,[Dn,Xs]),te.useEffect(()=>{fe.current=Ys},[Ys]),te.useEffect(()=>{De(!0)},[]),te.useEffect(()=>{let Et=Xe.current;if(Et){let vr=Et.getBoundingClientRect().height;return de(vr),C(Ht=>[{toastId:S.id,height:vr,position:S.position},...Ht]),()=>C(Ht=>Ht.filter(Sn=>Sn.toastId!==S.id))}},[C,S.id]),te.useLayoutEffect(()=>{if(!Te)return;let Et=Xe.current,vr=Et.style.height;Et.style.height="auto";let Ht=Et.getBoundingClientRect().height;Et.style.height=vr,de(Ht),C(Sn=>Sn.find(Hn=>Hn.toastId===S.id)?Sn.map(Hn=>Hn.toastId===S.id?{...Hn,height:Ht}:Hn):[{toastId:S.id,height:Ht,position:S.position},...Sn])},[Te,S.title,S.description,C,S.id]);let ea=te.useCallback(()=>{Le(!0),ot(Ke.current),C(Et=>Et.filter(vr=>vr.toastId!==S.id)),setTimeout(()=>{M(S)},nX)},[S,M,C,Ke]);te.useEffect(()=>{if(S.promise&&tt==="loading"||S.duration===1/0||S.type==="loading")return;let Et;return R||E||le&&Co?(()=>{if(Vr.current<ar.current){let vr=new Date().getTime()-ar.current;fe.current=fe.current-vr}Vr.current=new Date().getTime()})():fe.current!==1/0&&(ar.current=new Date().getTime(),Et=setTimeout(()=>{var vr;(vr=S.onAutoClose)==null||vr.call(S,S),ea()},fe.current)),()=>clearTimeout(Et)},[R,E,S,tt,le,Co,ea]),te.useEffect(()=>{S.delete&&ea()},[ea,S.delete]);function Oc(){var Et,vr,Ht;return he!=null&&he.loading?te.createElement("div",{className:Ts(J?.loader,(Et=S?.classNames)==null?void 0:Et.loader,"sonner-loader"),"data-visible":tt==="loading"},he.loading):ne?te.createElement("div",{className:Ts(J?.loader,(vr=S?.classNames)==null?void 0:vr.loader,"sonner-loader"),"data-visible":tt==="loading"},ne):te.createElement(LY,{className:Ts(J?.loader,(Ht=S?.classNames)==null?void 0:Ht.loader),visible:tt==="loading"})}return te.createElement("li",{tabIndex:0,ref:Xe,className:Ts(W,Wt,J?.toast,(e=S?.classNames)==null?void 0:e.toast,J?.default,J?.[tt],(r=S?.classNames)==null?void 0:r[tt]),"data-sonner-toast":"","data-rich-colors":(n=S.richColors)!=null?n:B,"data-styled":!(S.jsx||S.unstyled||O),"data-mounted":Te,"data-promise":!!S.promise,"data-swiped":Ge,"data-removed":Ne,"data-visible":$e,"data-y-position":Rr,"data-x-position":Ji,"data-index":I,"data-front":Fe,"data-swiping":ue,"data-dismissible":It,"data-type":tt,"data-invert":nr,"data-swipe-out":Ue,"data-swipe-direction":qe,"data-expanded":!!(R||re&&Te),style:{"--index":I,"--toasts-before":I,"--z-index":F.length-I,"--offset":`${Ne?et:Ke.current}px`,"--initial-height":re?"auto":`${at}px`,...U,...S.style},onDragEnd:()=>{ve(!1),ke(null),Jt.current=null},onPointerDown:Et=>{oi||!It||(Ee.current=new Date,ot(Ke.current),Et.target.setPointerCapture(Et.pointerId),Et.target.tagName!=="BUTTON"&&(ve(!0),Jt.current={x:Et.clientX,y:Et.clientY}))},onPointerUp:()=>{var Et,vr,Ht,Sn;if(Ue||!It)return;Jt.current=null;let Hn=Number(((Et=Xe.current)==null?void 0:Et.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),on=Number(((vr=Xe.current)==null?void 0:vr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),va=new Date().getTime()-((Ht=Ee.current)==null?void 0:Ht.getTime()),ln=we==="x"?Hn:on,ta=Math.abs(ln)/va;if(Math.abs(ln)>=rX||ta>.11){ot(Ke.current),(Sn=S.onDismiss)==null||Sn.call(S,S),je(we==="x"?Hn>0?"right":"left":on>0?"down":"up"),ea(),Ie(!0),ct(!1);return}ve(!1),ke(null)},onPointerMove:Et=>{var vr,Ht,Sn,Hn;if(!Jt.current||!It||((vr=window.getSelection())==null?void 0:vr.toString().length)>0)return;let on=Et.clientY-Jt.current.y,va=Et.clientX-Jt.current.x,ln=(Ht=t.swipeDirections)!=null?Ht:iX(X);!we&&(Math.abs(va)>1||Math.abs(on)>1)&&ke(Math.abs(va)>Math.abs(on)?"x":"y");let ta={x:0,y:0};we==="y"?(ln.includes("top")||ln.includes("bottom"))&&(ln.includes("top")&&on<0||ln.includes("bottom")&&on>0)&&(ta.y=on):we==="x"&&(ln.includes("left")||ln.includes("right"))&&(ln.includes("left")&&va<0||ln.includes("right")&&va>0)&&(ta.x=va),(Math.abs(ta.x)>0||Math.abs(ta.y)>0)&&ct(!0),(Sn=Xe.current)==null||Sn.style.setProperty("--swipe-amount-x",`${ta.x}px`),(Hn=Xe.current)==null||Hn.style.setProperty("--swipe-amount-y",`${ta.y}px`)}},yn&&!S.jsx?te.createElement("button",{"aria-label":ie,"data-disabled":oi,"data-close-button":!0,onClick:oi||!It?()=>{}:()=>{var Et;ea(),(Et=S.onDismiss)==null||Et.call(S,S)},className:Ts(J?.closeButton,(i=S?.classNames)==null?void 0:i.closeButton)},(a=he?.close)!=null?a:VY):null,S.jsx||N.isValidElement(S.title)?S.jsx?S.jsx:typeof S.title=="function"?S.title():S.title:te.createElement(te.Fragment,null,tt||S.icon||S.promise?te.createElement("div",{"data-icon":"",className:Ts(J?.icon,(s=S?.classNames)==null?void 0:s.icon)},S.promise||S.type==="loading"&&!S.icon?S.icon||Oc():null,S.type!=="loading"?S.icon||he?.[tt]||MY(tt):null):null,te.createElement("div",{"data-content":"",className:Ts(J?.content,(l=S?.classNames)==null?void 0:l.content)},te.createElement("div",{"data-title":"",className:Ts(J?.title,(d=S?.classNames)==null?void 0:d.title)},typeof S.title=="function"?S.title():S.title),S.description?te.createElement("div",{"data-description":"",className:Ts(H,pr,J?.description,(h=S?.classNames)==null?void 0:h.description)},typeof S.description=="function"?S.description():S.description):null),N.isValidElement(S.cancel)?S.cancel:S.cancel&&I0(S.cancel)?te.createElement("button",{"data-button":!0,"data-cancel":!0,style:S.cancelButtonStyle||z,onClick:Et=>{var vr,Ht;I0(S.cancel)&&It&&((Ht=(vr=S.cancel).onClick)==null||Ht.call(vr,Et),ea())},className:Ts(J?.cancelButton,(g=S?.classNames)==null?void 0:g.cancelButton)},S.cancel.label):null,N.isValidElement(S.action)?S.action:S.action&&I0(S.action)?te.createElement("button",{"data-button":!0,"data-action":!0,style:S.actionButtonStyle||G,onClick:Et=>{var vr,Ht;I0(S.action)&&((Ht=(vr=S.action).onClick)==null||Ht.call(vr,Et),!Et.defaultPrevented&&ea())},className:Ts(J?.actionButton,(v=S?.classNames)==null?void 0:v.actionButton)},S.action.label):null))};function Kj(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function sX(t,e){let r={};return[t,e].forEach((n,i)=>{let a=i===1,s=a?"--mobile-offset":"--offset",l=a?JY:QY;function d(h){["top","right","bottom","left"].forEach(g=>{r[`${s}-${g}`]=typeof h=="number"?`${h}px`:h})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(h=>{n[h]===void 0?r[`${s}-${h}`]=l:r[`${s}-${h}`]=typeof n[h]=="number"?`${n[h]}px`:n[h]}):d(l)}),r}var oX=N.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:s,className:l,offset:d,mobileOffset:h,theme:g="light",richColors:v,duration:b,style:S,visibleToasts:O=ZY,toastOptions:E,dir:C=Kj(),gap:j=tX,loadingIcon:P,icons:I,containerAriaLabel:F="Notifications",pauseWhenPageIsHidden:R}=t,[M,B]=te.useState([]),q=te.useMemo(()=>Array.from(new Set([n].concat(M.filter(le=>le.position).map(le=>le.position)))),[M,n]),[U,z]=te.useState([]),[G,W]=te.useState(!1),[H,Q]=te.useState(!1),[X,se]=te.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ne=te.useRef(null),re=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),J=te.useRef(null),he=te.useRef(!1),ie=te.useCallback(le=>{B(we=>{var ke;return(ke=we.find(qe=>qe.id===le.id))!=null&&ke.delete||ua.dismiss(le.id),we.filter(({id:qe})=>qe!==le.id)})},[]);return te.useEffect(()=>ua.subscribe(le=>{if(le.dismiss){B(we=>we.map(ke=>ke.id===le.id?{...ke,delete:!0}:ke));return}setTimeout(()=>{LL.flushSync(()=>{B(we=>{let ke=we.findIndex(qe=>qe.id===le.id);return ke!==-1?[...we.slice(0,ke),{...we[ke],...le},...we.slice(ke+1)]:[le,...we]})})})}),[]),te.useEffect(()=>{if(g!=="system"){se(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?se("dark"):se("light")),typeof window>"u")return;let le=window.matchMedia("(prefers-color-scheme: dark)");try{le.addEventListener("change",({matches:we})=>{se(we?"dark":"light")})}catch{le.addListener(({matches:ke})=>{try{se(ke?"dark":"light")}catch(qe){console.error(qe)}})}},[g]),te.useEffect(()=>{M.length<=1&&W(!1)},[M]),te.useEffect(()=>{let le=we=>{var ke,qe;i.every(je=>we[je]||we.code===je)&&(W(!0),(ke=ne.current)==null||ke.focus()),we.code==="Escape"&&(document.activeElement===ne.current||(qe=ne.current)!=null&&qe.contains(document.activeElement))&&W(!1)};return document.addEventListener("keydown",le),()=>document.removeEventListener("keydown",le)},[i]),te.useEffect(()=>{if(ne.current)return()=>{J.current&&(J.current.focus({preventScroll:!0}),J.current=null,he.current=!1)}},[ne.current]),te.createElement("section",{ref:e,"aria-label":`${F} ${re}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},q.map((le,we)=>{var ke;let[qe,je]=le.split("-");return M.length?te.createElement("ol",{key:le,dir:C==="auto"?Kj():C,tabIndex:-1,ref:ne,className:l,"data-sonner-toaster":!0,"data-theme":X,"data-y-position":qe,"data-lifted":G&&M.length>1&&!a,"data-x-position":je,style:{"--front-toast-height":`${((ke=U[0])==null?void 0:ke.height)||0}px`,"--width":`${eX}px`,"--gap":`${j}px`,...S,...sX(d,h)},onBlur:Te=>{he.current&&!Te.currentTarget.contains(Te.relatedTarget)&&(he.current=!1,J.current&&(J.current.focus({preventScroll:!0}),J.current=null))},onFocus:Te=>{Te.target instanceof HTMLElement&&Te.target.dataset.dismissible==="false"||he.current||(he.current=!0,J.current=Te.relatedTarget)},onMouseEnter:()=>W(!0),onMouseMove:()=>W(!0),onMouseLeave:()=>{H||W(!1)},onDragEnd:()=>W(!1),onPointerDown:Te=>{Te.target instanceof HTMLElement&&Te.target.dataset.dismissible==="false"||Q(!0)},onPointerUp:()=>Q(!1)},M.filter(Te=>!Te.position&&we===0||Te.position===le).map((Te,De)=>{var Ne,Le;return te.createElement(aX,{key:Te.id,icons:I,index:De,toast:Te,defaultRichColors:v,duration:(Ne=E?.duration)!=null?Ne:b,className:E?.className,descriptionClassName:E?.descriptionClassName,invert:r,visibleToasts:O,closeButton:(Le=E?.closeButton)!=null?Le:s,interacting:H,position:le,style:E?.style,unstyled:E?.unstyled,classNames:E?.classNames,cancelButtonStyle:E?.cancelButtonStyle,actionButtonStyle:E?.actionButtonStyle,removeToast:ie,toasts:M.filter(ue=>ue.position==Te.position),heights:U.filter(ue=>ue.position==Te.position),setHeights:z,expandByDefault:a,gap:j,loadingIcon:P,expanded:G,pauseWhenPageIsHidden:R,swipeDirections:t.swipeDirections})})):null}))});const lX=({...t})=>{const{theme:e="system"}=RY();return f.jsx(oX,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var cX=FO[" useId ".trim().toString()]||(()=>{}),uX=0;function ds(t){const[e,r]=N.useState(cX());return zn(()=>{r(n=>n??String(uX++))},[t]),e?`radix-${e}`:""}const dX=["top","right","bottom","left"],dc=Math.min,Ia=Math.max,Pv=Math.round,R0=Math.floor,co=t=>({x:t,y:t}),fX={left:"right",right:"left",bottom:"top",top:"bottom"},hX={start:"end",end:"start"};function EC(t,e,r){return Ia(t,dc(e,r))}function tl(t,e){return typeof t=="function"?t(e):t}function rl(t){return t.split("-")[0]}function lh(t){return t.split("-")[1]}function ZO(t){return t==="x"?"y":"x"}function QO(t){return t==="y"?"height":"width"}const pX=new Set(["top","bottom"]);function ao(t){return pX.has(rl(t))?"y":"x"}function JO(t){return ZO(ao(t))}function mX(t,e,r){r===void 0&&(r=!1);const n=lh(t),i=JO(t),a=QO(i);let s=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=jv(s)),[s,jv(s)]}function gX(t){const e=jv(t);return[CC(t),e,CC(e)]}function CC(t){return t.replace(/start|end/g,e=>hX[e])}const Yj=["left","right"],Xj=["right","left"],vX=["top","bottom"],yX=["bottom","top"];function xX(t,e,r){switch(t){case"top":case"bottom":return r?e?Xj:Yj:e?Yj:Xj;case"left":case"right":return e?vX:yX;default:return[]}}function wX(t,e,r,n){const i=lh(t);let a=xX(rl(t),r==="start",n);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(CC)))),a}function jv(t){return t.replace(/left|right|bottom|top/g,e=>fX[e])}function bX(t){return{top:0,right:0,bottom:0,left:0,...t}}function TB(t){return typeof t!="number"?bX(t):{top:t,right:t,bottom:t,left:t}}function Iv(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function Zj(t,e,r){let{reference:n,floating:i}=t;const a=ao(e),s=JO(e),l=QO(s),d=rl(e),h=a==="y",g=n.x+n.width/2-i.width/2,v=n.y+n.height/2-i.height/2,b=n[l]/2-i[l]/2;let S;switch(d){case"top":S={x:g,y:n.y-i.height};break;case"bottom":S={x:g,y:n.y+n.height};break;case"right":S={x:n.x+n.width,y:v};break;case"left":S={x:n.x-i.width,y:v};break;default:S={x:n.x,y:n.y}}switch(lh(e)){case"start":S[s]-=b*(r&&h?-1:1);break;case"end":S[s]+=b*(r&&h?-1:1);break}return S}const _X=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:s}=r,l=a.filter(Boolean),d=await(s.isRTL==null?void 0:s.isRTL(e));let h=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:g,y:v}=Zj(h,n,d),b=n,S={},O=0;for(let E=0;E<l.length;E++){const{name:C,fn:j}=l[E],{x:P,y:I,data:F,reset:R}=await j({x:g,y:v,initialPlacement:n,placement:b,strategy:i,middlewareData:S,rects:h,platform:s,elements:{reference:t,floating:e}});g=P??g,v=I??v,S={...S,[C]:{...S[C],...F}},R&&O<=50&&(O++,typeof R=="object"&&(R.placement&&(b=R.placement),R.rects&&(h=R.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):R.rects),{x:g,y:v}=Zj(h,b,d)),E=-1)}return{x:g,y:v,placement:b,strategy:i,middlewareData:S}};async function zp(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:s,elements:l,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:b=!1,padding:S=0}=tl(e,t),O=TB(S),C=l[b?v==="floating"?"reference":"floating":v],j=Iv(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(C)))==null||r?C:C.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:h,rootBoundary:g,strategy:d})),P=v==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,I=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),F=await(a.isElement==null?void 0:a.isElement(I))?await(a.getScale==null?void 0:a.getScale(I))||{x:1,y:1}:{x:1,y:1},R=Iv(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:P,offsetParent:I,strategy:d}):P);return{top:(j.top-R.top+O.top)/F.y,bottom:(R.bottom-j.bottom+O.bottom)/F.y,left:(j.left-R.left+O.left)/F.x,right:(R.right-j.right+O.right)/F.x}}const SX=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:s,elements:l,middlewareData:d}=e,{element:h,padding:g=0}=tl(t,e)||{};if(h==null)return{};const v=TB(g),b={x:r,y:n},S=JO(i),O=QO(S),E=await s.getDimensions(h),C=S==="y",j=C?"top":"left",P=C?"bottom":"right",I=C?"clientHeight":"clientWidth",F=a.reference[O]+a.reference[S]-b[S]-a.floating[O],R=b[S]-a.reference[S],M=await(s.getOffsetParent==null?void 0:s.getOffsetParent(h));let B=M?M[I]:0;(!B||!await(s.isElement==null?void 0:s.isElement(M)))&&(B=l.floating[I]||a.floating[O]);const q=F/2-R/2,U=B/2-E[O]/2-1,z=dc(v[j],U),G=dc(v[P],U),W=z,H=B-E[O]-G,Q=B/2-E[O]/2+q,X=EC(W,Q,H),se=!d.arrow&&lh(i)!=null&&Q!==X&&a.reference[O]/2-(Q<W?z:G)-E[O]/2<0,ne=se?Q<W?Q-W:Q-H:0;return{[S]:b[S]+ne,data:{[S]:X,centerOffset:Q-X-ne,...se&&{alignmentOffset:ne}},reset:se}}}),EX=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:s,initialPlacement:l,platform:d,elements:h}=e,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:O="none",flipAlignment:E=!0,...C}=tl(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const j=rl(i),P=ao(l),I=rl(l)===l,F=await(d.isRTL==null?void 0:d.isRTL(h.floating)),R=b||(I||!E?[jv(l)]:gX(l)),M=O!=="none";!b&&M&&R.push(...wX(l,E,O,F));const B=[l,...R],q=await zp(e,C),U=[];let z=((n=a.flip)==null?void 0:n.overflows)||[];if(g&&U.push(q[j]),v){const Q=mX(i,s,F);U.push(q[Q[0]],q[Q[1]])}if(z=[...z,{placement:i,overflows:U}],!U.every(Q=>Q<=0)){var G,W;const Q=(((G=a.flip)==null?void 0:G.index)||0)+1,X=B[Q];if(X&&(!(v==="alignment"?P!==ao(X):!1)||z.every(re=>re.overflows[0]>0&&ao(re.placement)===P)))return{data:{index:Q,overflows:z},reset:{placement:X}};let se=(W=z.filter(ne=>ne.overflows[0]<=0).sort((ne,re)=>ne.overflows[1]-re.overflows[1])[0])==null?void 0:W.placement;if(!se)switch(S){case"bestFit":{var H;const ne=(H=z.filter(re=>{if(M){const J=ao(re.placement);return J===P||J==="y"}return!0}).map(re=>[re.placement,re.overflows.filter(J=>J>0).reduce((J,he)=>J+he,0)]).sort((re,J)=>re[1]-J[1])[0])==null?void 0:H[0];ne&&(se=ne);break}case"initialPlacement":se=l;break}if(i!==se)return{reset:{placement:se}}}return{}}}};function Qj(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Jj(t){return dX.some(e=>t[e]>=0)}const CX=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=tl(t,e);switch(n){case"referenceHidden":{const a=await zp(e,{...i,elementContext:"reference"}),s=Qj(a,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Jj(s)}}}case"escaped":{const a=await zp(e,{...i,altBoundary:!0}),s=Qj(a,r.floating);return{data:{escapedOffsets:s,escaped:Jj(s)}}}default:return{}}}}},NB=new Set(["left","top"]);async function AX(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=rl(r),l=lh(r),d=ao(r)==="y",h=NB.has(s)?-1:1,g=a&&d?-1:1,v=tl(e,t);let{mainAxis:b,crossAxis:S,alignmentAxis:O}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return l&&typeof O=="number"&&(S=l==="end"?O*-1:O),d?{x:S*g,y:b*h}:{x:b*h,y:S*g}}const OX=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:s,middlewareData:l}=e,d=await AX(e,t);return s===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:s}}}}},TX=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:l={fn:C=>{let{x:j,y:P}=C;return{x:j,y:P}}},...d}=tl(t,e),h={x:r,y:n},g=await zp(e,d),v=ao(rl(i)),b=ZO(v);let S=h[b],O=h[v];if(a){const C=b==="y"?"top":"left",j=b==="y"?"bottom":"right",P=S+g[C],I=S-g[j];S=EC(P,S,I)}if(s){const C=v==="y"?"top":"left",j=v==="y"?"bottom":"right",P=O+g[C],I=O-g[j];O=EC(P,O,I)}const E=l.fn({...e,[b]:S,[v]:O});return{...E,data:{x:E.x-r,y:E.y-n,enabled:{[b]:a,[v]:s}}}}}},NX=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:s}=e,{offset:l=0,mainAxis:d=!0,crossAxis:h=!0}=tl(t,e),g={x:r,y:n},v=ao(i),b=ZO(v);let S=g[b],O=g[v];const E=tl(l,e),C=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(d){const I=b==="y"?"height":"width",F=a.reference[b]-a.floating[I]+C.mainAxis,R=a.reference[b]+a.reference[I]-C.mainAxis;S<F?S=F:S>R&&(S=R)}if(h){var j,P;const I=b==="y"?"width":"height",F=NB.has(rl(i)),R=a.reference[v]-a.floating[I]+(F&&((j=s.offset)==null?void 0:j[v])||0)+(F?0:C.crossAxis),M=a.reference[v]+a.reference[I]+(F?0:((P=s.offset)==null?void 0:P[v])||0)-(F?C.crossAxis:0);O<R?O=R:O>M&&(O=M)}return{[b]:S,[v]:O}}}},kX=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:s,elements:l}=e,{apply:d=()=>{},...h}=tl(t,e),g=await zp(e,h),v=rl(i),b=lh(i),S=ao(i)==="y",{width:O,height:E}=a.floating;let C,j;v==="top"||v==="bottom"?(C=v,j=b===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(j=v,C=b==="end"?"top":"bottom");const P=E-g.top-g.bottom,I=O-g.left-g.right,F=dc(E-g[C],P),R=dc(O-g[j],I),M=!e.middlewareData.shift;let B=F,q=R;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(q=I),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(B=P),M&&!b){const z=Ia(g.left,0),G=Ia(g.right,0),W=Ia(g.top,0),H=Ia(g.bottom,0);S?q=O-2*(z!==0||G!==0?z+G:Ia(g.left,g.right)):B=E-2*(W!==0||H!==0?W+H:Ia(g.top,g.bottom))}await d({...e,availableWidth:q,availableHeight:B});const U=await s.getDimensions(l.floating);return O!==U.width||E!==U.height?{reset:{rects:!0}}:{}}}};function m1(){return typeof window<"u"}function ch(t){return kB(t)?(t.nodeName||"").toLowerCase():"#document"}function Fa(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function bo(t){var e;return(e=(kB(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function kB(t){return m1()?t instanceof Node||t instanceof Fa(t).Node:!1}function Ws(t){return m1()?t instanceof Element||t instanceof Fa(t).Element:!1}function yo(t){return m1()?t instanceof HTMLElement||t instanceof Fa(t).HTMLElement:!1}function eI(t){return!m1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Fa(t).ShadowRoot}const PX=new Set(["inline","contents"]);function Km(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=qs(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!PX.has(i)}const jX=new Set(["table","td","th"]);function IX(t){return jX.has(ch(t))}const RX=[":popover-open",":modal"];function g1(t){return RX.some(e=>{try{return t.matches(e)}catch{return!1}})}const MX=["transform","translate","scale","rotate","perspective"],DX=["transform","translate","scale","rotate","perspective","filter"],LX=["paint","layout","strict","content"];function eT(t){const e=tT(),r=Ws(t)?qs(t):t;return MX.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||DX.some(n=>(r.willChange||"").includes(n))||LX.some(n=>(r.contain||"").includes(n))}function BX(t){let e=fc(t);for(;yo(e)&&!pf(e);){if(eT(e))return e;if(g1(e))return null;e=fc(e)}return null}function tT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const FX=new Set(["html","body","#document"]);function pf(t){return FX.has(ch(t))}function qs(t){return Fa(t).getComputedStyle(t)}function v1(t){return Ws(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function fc(t){if(ch(t)==="html")return t;const e=t.assignedSlot||t.parentNode||eI(t)&&t.host||bo(t);return eI(e)?e.host:e}function PB(t){const e=fc(t);return pf(e)?t.ownerDocument?t.ownerDocument.body:t.body:yo(e)&&Km(e)?e:PB(e)}function Hp(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=PB(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),s=Fa(i);if(a){const l=AC(s);return e.concat(s,s.visualViewport||[],Km(i)?i:[],l&&r?Hp(l):[])}return e.concat(i,Hp(i,[],r))}function AC(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function jB(t){const e=qs(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=yo(t),a=i?t.offsetWidth:r,s=i?t.offsetHeight:n,l=Pv(r)!==a||Pv(n)!==s;return l&&(r=a,n=s),{width:r,height:n,$:l}}function rT(t){return Ws(t)?t:t.contextElement}function af(t){const e=rT(t);if(!yo(e))return co(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=jB(e);let s=(a?Pv(r.width):r.width)/n,l=(a?Pv(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const $X=co(0);function IB(t){const e=Fa(t);return!tT()||!e.visualViewport?$X:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function UX(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Fa(t)?!1:e}function Tu(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=rT(t);let s=co(1);e&&(n?Ws(n)&&(s=af(n)):s=af(t));const l=UX(a,r,n)?IB(a):co(0);let d=(i.left+l.x)/s.x,h=(i.top+l.y)/s.y,g=i.width/s.x,v=i.height/s.y;if(a){const b=Fa(a),S=n&&Ws(n)?Fa(n):n;let O=b,E=AC(O);for(;E&&n&&S!==O;){const C=af(E),j=E.getBoundingClientRect(),P=qs(E),I=j.left+(E.clientLeft+parseFloat(P.paddingLeft))*C.x,F=j.top+(E.clientTop+parseFloat(P.paddingTop))*C.y;d*=C.x,h*=C.y,g*=C.x,v*=C.y,d+=I,h+=F,O=Fa(E),E=AC(O)}}return Iv({width:g,height:v,x:d,y:h})}function nT(t,e){const r=v1(t).scrollLeft;return e?e.left+r:Tu(bo(t)).left+r}function RB(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:nT(t,n)),a=n.top+e.scrollTop;return{x:i,y:a}}function VX(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",s=bo(n),l=e?g1(e.floating):!1;if(n===s||l&&a)return r;let d={scrollLeft:0,scrollTop:0},h=co(1);const g=co(0),v=yo(n);if((v||!v&&!a)&&((ch(n)!=="body"||Km(s))&&(d=v1(n)),yo(n))){const S=Tu(n);h=af(n),g.x=S.x+n.clientLeft,g.y=S.y+n.clientTop}const b=s&&!v&&!a?RB(s,d,!0):co(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-d.scrollLeft*h.x+g.x+b.x,y:r.y*h.y-d.scrollTop*h.y+g.y+b.y}}function WX(t){return Array.from(t.getClientRects())}function qX(t){const e=bo(t),r=v1(t),n=t.ownerDocument.body,i=Ia(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=Ia(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+nT(t);const l=-r.scrollTop;return qs(n).direction==="rtl"&&(s+=Ia(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:s,y:l}}function zX(t,e){const r=Fa(t),n=bo(t),i=r.visualViewport;let a=n.clientWidth,s=n.clientHeight,l=0,d=0;if(i){a=i.width,s=i.height;const h=tT();(!h||h&&e==="fixed")&&(l=i.offsetLeft,d=i.offsetTop)}return{width:a,height:s,x:l,y:d}}const HX=new Set(["absolute","fixed"]);function GX(t,e){const r=Tu(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=yo(t)?af(t):co(1),s=t.clientWidth*a.x,l=t.clientHeight*a.y,d=i*a.x,h=n*a.y;return{width:s,height:l,x:d,y:h}}function tI(t,e,r){let n;if(e==="viewport")n=zX(t,r);else if(e==="document")n=qX(bo(t));else if(Ws(e))n=GX(e,r);else{const i=IB(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Iv(n)}function MB(t,e){const r=fc(t);return r===e||!Ws(r)||pf(r)?!1:qs(r).position==="fixed"||MB(r,e)}function KX(t,e){const r=e.get(t);if(r)return r;let n=Hp(t,[],!1).filter(l=>Ws(l)&&ch(l)!=="body"),i=null;const a=qs(t).position==="fixed";let s=a?fc(t):t;for(;Ws(s)&&!pf(s);){const l=qs(s),d=eT(s);!d&&l.position==="fixed"&&(i=null),(a?!d&&!i:!d&&l.position==="static"&&!!i&&HX.has(i.position)||Km(s)&&!d&&MB(t,s))?n=n.filter(g=>g!==s):i=l,s=fc(s)}return e.set(t,n),n}function YX(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const s=[...r==="clippingAncestors"?g1(e)?[]:KX(e,this._c):[].concat(r),n],l=s[0],d=s.reduce((h,g)=>{const v=tI(e,g,i);return h.top=Ia(v.top,h.top),h.right=dc(v.right,h.right),h.bottom=dc(v.bottom,h.bottom),h.left=Ia(v.left,h.left),h},tI(e,l,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function XX(t){const{width:e,height:r}=jB(t);return{width:e,height:r}}function ZX(t,e,r){const n=yo(e),i=bo(e),a=r==="fixed",s=Tu(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const d=co(0);function h(){d.x=nT(i)}if(n||!n&&!a)if((ch(e)!=="body"||Km(i))&&(l=v1(e)),n){const S=Tu(e,!0,a,e);d.x=S.x+e.clientLeft,d.y=S.y+e.clientTop}else i&&h();a&&!n&&i&&h();const g=i&&!n&&!a?RB(i,l):co(0),v=s.left+l.scrollLeft-d.x-g.x,b=s.top+l.scrollTop-d.y-g.y;return{x:v,y:b,width:s.width,height:s.height}}function cb(t){return qs(t).position==="static"}function rI(t,e){if(!yo(t)||qs(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return bo(t)===r&&(r=r.ownerDocument.body),r}function DB(t,e){const r=Fa(t);if(g1(t))return r;if(!yo(t)){let i=fc(t);for(;i&&!pf(i);){if(Ws(i)&&!cb(i))return i;i=fc(i)}return r}let n=rI(t,e);for(;n&&IX(n)&&cb(n);)n=rI(n,e);return n&&pf(n)&&cb(n)&&!eT(n)?r:n||BX(t)||r}const QX=async function(t){const e=this.getOffsetParent||DB,r=this.getDimensions,n=await r(t.floating);return{reference:ZX(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function JX(t){return qs(t).direction==="rtl"}const eZ={convertOffsetParentRelativeRectToViewportRelativeRect:VX,getDocumentElement:bo,getClippingRect:YX,getOffsetParent:DB,getElementRects:QX,getClientRects:WX,getDimensions:XX,getScale:af,isElement:Ws,isRTL:JX};function LB(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function tZ(t,e){let r=null,n;const i=bo(t);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function s(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),a();const h=t.getBoundingClientRect(),{left:g,top:v,width:b,height:S}=h;if(l||e(),!b||!S)return;const O=R0(v),E=R0(i.clientWidth-(g+b)),C=R0(i.clientHeight-(v+S)),j=R0(g),I={rootMargin:-O+"px "+-E+"px "+-C+"px "+-j+"px",threshold:Ia(0,dc(1,d))||1};let F=!0;function R(M){const B=M[0].intersectionRatio;if(B!==d){if(!F)return s();B?s(!1,B):n=setTimeout(()=>{s(!1,1e-7)},1e3)}B===1&&!LB(h,t.getBoundingClientRect())&&s(),F=!1}try{r=new IntersectionObserver(R,{...I,root:i.ownerDocument})}catch{r=new IntersectionObserver(R,I)}r.observe(t)}return s(!0),a}function rZ(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,h=rT(t),g=i||a?[...h?Hp(h):[],...Hp(e)]:[];g.forEach(j=>{i&&j.addEventListener("scroll",r,{passive:!0}),a&&j.addEventListener("resize",r)});const v=h&&l?tZ(h,r):null;let b=-1,S=null;s&&(S=new ResizeObserver(j=>{let[P]=j;P&&P.target===h&&S&&(S.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var I;(I=S)==null||I.observe(e)})),r()}),h&&!d&&S.observe(h),S.observe(e));let O,E=d?Tu(t):null;d&&C();function C(){const j=Tu(t);E&&!LB(E,j)&&r(),E=j,O=requestAnimationFrame(C)}return r(),()=>{var j;g.forEach(P=>{i&&P.removeEventListener("scroll",r),a&&P.removeEventListener("resize",r)}),v?.(),(j=S)==null||j.disconnect(),S=null,d&&cancelAnimationFrame(O)}}const nZ=OX,iZ=TX,aZ=EX,sZ=kX,oZ=CX,nI=SX,lZ=NX,cZ=(t,e,r)=>{const n=new Map,i={platform:eZ,...r},a={...i.platform,_c:n};return _X(t,e,{...i,platform:a})};var uZ=typeof document<"u",dZ=function(){},gv=uZ?N.useLayoutEffect:dZ;function Rv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Rv(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!Rv(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function BB(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function iI(t,e){const r=BB(t);return Math.round(e*r)/r}function ub(t){const e=N.useRef(t);return gv(()=>{e.current=t}),e}function fZ(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:s}={},transform:l=!0,whileElementsMounted:d,open:h}=t,[g,v]=N.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[b,S]=N.useState(n);Rv(b,n)||S(n);const[O,E]=N.useState(null),[C,j]=N.useState(null),P=N.useCallback(re=>{re!==M.current&&(M.current=re,E(re))},[]),I=N.useCallback(re=>{re!==B.current&&(B.current=re,j(re))},[]),F=a||O,R=s||C,M=N.useRef(null),B=N.useRef(null),q=N.useRef(g),U=d!=null,z=ub(d),G=ub(i),W=ub(h),H=N.useCallback(()=>{if(!M.current||!B.current)return;const re={placement:e,strategy:r,middleware:b};G.current&&(re.platform=G.current),cZ(M.current,B.current,re).then(J=>{const he={...J,isPositioned:W.current!==!1};Q.current&&!Rv(q.current,he)&&(q.current=he,ah.flushSync(()=>{v(he)}))})},[b,e,r,G,W]);gv(()=>{h===!1&&q.current.isPositioned&&(q.current.isPositioned=!1,v(re=>({...re,isPositioned:!1})))},[h]);const Q=N.useRef(!1);gv(()=>(Q.current=!0,()=>{Q.current=!1}),[]),gv(()=>{if(F&&(M.current=F),R&&(B.current=R),F&&R){if(z.current)return z.current(F,R,H);H()}},[F,R,H,z,U]);const X=N.useMemo(()=>({reference:M,floating:B,setReference:P,setFloating:I}),[P,I]),se=N.useMemo(()=>({reference:F,floating:R}),[F,R]),ne=N.useMemo(()=>{const re={position:r,left:0,top:0};if(!se.floating)return re;const J=iI(se.floating,g.x),he=iI(se.floating,g.y);return l?{...re,transform:"translate("+J+"px, "+he+"px)",...BB(se.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:J,top:he}},[r,l,se.floating,g.x,g.y]);return N.useMemo(()=>({...g,update:H,refs:X,elements:se,floatingStyles:ne}),[g,H,X,se,ne])}const hZ=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?nI({element:n.current,padding:i}).fn(r):{}:n?nI({element:n,padding:i}).fn(r):{}}}},pZ=(t,e)=>({...nZ(t),options:[t,e]}),mZ=(t,e)=>({...iZ(t),options:[t,e]}),gZ=(t,e)=>({...lZ(t),options:[t,e]}),vZ=(t,e)=>({...aZ(t),options:[t,e]}),yZ=(t,e)=>({...sZ(t),options:[t,e]}),xZ=(t,e)=>({...oZ(t),options:[t,e]}),wZ=(t,e)=>({...hZ(t),options:[t,e]});var bZ="Arrow",FB=N.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return f.jsx(Ot.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});FB.displayName=bZ;var _Z=FB;function iT(t){const[e,r]=N.useState(void 0);return zn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,l;if("borderBoxSize"in a){const d=a.borderBoxSize,h=Array.isArray(d)?d[0]:d;s=h.inlineSize,l=h.blockSize}else s=t.offsetWidth,l=t.offsetHeight;r({width:s,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var aT="Popper",[$B,mc]=Zi(aT),[SZ,UB]=$B(aT),VB=t=>{const{__scopePopper:e,children:r}=t,[n,i]=N.useState(null);return f.jsx(SZ,{scope:e,anchor:n,onAnchorChange:i,children:r})};VB.displayName=aT;var WB="PopperAnchor",qB=N.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=UB(WB,r),s=N.useRef(null),l=lr(e,s);return N.useEffect(()=>{a.onAnchorChange(n?.current||s.current)}),n?null:f.jsx(Ot.div,{...i,ref:l})});qB.displayName=WB;var sT="PopperContent",[EZ,CZ]=$B(sT),zB=N.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:g=0,sticky:v="partial",hideWhenDetached:b=!1,updatePositionStrategy:S="optimized",onPlaced:O,...E}=t,C=UB(sT,r),[j,P]=N.useState(null),I=lr(e,Te=>P(Te)),[F,R]=N.useState(null),M=iT(F),B=M?.width??0,q=M?.height??0,U=n+(a!=="center"?"-"+a:""),z=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},G=Array.isArray(h)?h:[h],W=G.length>0,H={padding:z,boundary:G.filter(OZ),altBoundary:W},{refs:Q,floatingStyles:X,placement:se,isPositioned:ne,middlewareData:re}=fZ({strategy:"fixed",placement:U,whileElementsMounted:(...Te)=>rZ(...Te,{animationFrame:S==="always"}),elements:{reference:C.anchor},middleware:[pZ({mainAxis:i+q,alignmentAxis:s}),d&&mZ({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?gZ():void 0,...H}),d&&vZ({...H}),yZ({...H,apply:({elements:Te,rects:De,availableWidth:Ne,availableHeight:Le})=>{const{width:ue,height:ve}=De.reference,Ue=Te.floating.style;Ue.setProperty("--radix-popper-available-width",`${Ne}px`),Ue.setProperty("--radix-popper-available-height",`${Le}px`),Ue.setProperty("--radix-popper-anchor-width",`${ue}px`),Ue.setProperty("--radix-popper-anchor-height",`${ve}px`)}}),F&&wZ({element:F,padding:l}),TZ({arrowWidth:B,arrowHeight:q}),b&&xZ({strategy:"referenceHidden",...H})]}),[J,he]=KB(se),ie=Xi(O);zn(()=>{ne&&ie?.()},[ne,ie]);const le=re.arrow?.x,we=re.arrow?.y,ke=re.arrow?.centerOffset!==0,[qe,je]=N.useState();return zn(()=>{j&&je(window.getComputedStyle(j).zIndex)},[j]),f.jsx("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:ne?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:qe,"--radix-popper-transform-origin":[re.transformOrigin?.x,re.transformOrigin?.y].join(" "),...re.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(EZ,{scope:r,placedSide:J,onArrowChange:R,arrowX:le,arrowY:we,shouldHideArrow:ke,children:f.jsx(Ot.div,{"data-side":J,"data-align":he,...E,ref:I,style:{...E.style,animation:ne?void 0:"none"}})})})});zB.displayName=sT;var HB="PopperArrow",AZ={top:"bottom",right:"left",bottom:"top",left:"right"},GB=N.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=CZ(HB,n),s=AZ[a.placedSide];return f.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:f.jsx(_Z,{...i,ref:r,style:{...i.style,display:"block"}})})});GB.displayName=HB;function OZ(t){return t!==null}var TZ=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:i}=e,s=i.arrow?.centerOffset!==0,l=s?0:t.arrowWidth,d=s?0:t.arrowHeight,[h,g]=KB(r),v={start:"0%",center:"50%",end:"100%"}[g],b=(i.arrow?.x??0)+l/2,S=(i.arrow?.y??0)+d/2;let O="",E="";return h==="bottom"?(O=s?v:`${b}px`,E=`${-d}px`):h==="top"?(O=s?v:`${b}px`,E=`${n.floating.height+d}px`):h==="right"?(O=`${-d}px`,E=s?v:`${S}px`):h==="left"&&(O=`${n.floating.width+d}px`,E=s?v:`${S}px`),{data:{x:O,y:E}}}});function KB(t){const[e,r="center"]=t.split("-");return[e,r]}var y1=VB,Ym=qB,x1=zB,w1=GB,[b1]=Zi("Tooltip",[mc]),_1=mc(),YB="TooltipProvider",NZ=700,OC="tooltip.open",[kZ,oT]=b1(YB),XB=t=>{const{__scopeTooltip:e,delayDuration:r=NZ,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=t,s=N.useRef(!0),l=N.useRef(!1),d=N.useRef(0);return N.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),f.jsx(kZ,{scope:e,isOpenDelayedRef:s,delayDuration:r,onOpen:N.useCallback(()=>{window.clearTimeout(d.current),s.current=!1},[]),onClose:N.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>s.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:N.useCallback(h=>{l.current=h},[]),disableHoverableContent:i,children:a})};XB.displayName=YB;var Gp="Tooltip",[PZ,S1]=b1(Gp),ZB=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:i,onOpenChange:a,disableHoverableContent:s,delayDuration:l}=t,d=oT(Gp,t.__scopeTooltip),h=_1(e),[g,v]=N.useState(null),b=ds(),S=N.useRef(0),O=s??d.disableHoverableContent,E=l??d.delayDuration,C=N.useRef(!1),[j,P]=Vs({prop:n,defaultProp:i??!1,onChange:B=>{B?(d.onOpen(),document.dispatchEvent(new CustomEvent(OC))):d.onClose(),a?.(B)},caller:Gp}),I=N.useMemo(()=>j?C.current?"delayed-open":"instant-open":"closed",[j]),F=N.useCallback(()=>{window.clearTimeout(S.current),S.current=0,C.current=!1,P(!0)},[P]),R=N.useCallback(()=>{window.clearTimeout(S.current),S.current=0,P(!1)},[P]),M=N.useCallback(()=>{window.clearTimeout(S.current),S.current=window.setTimeout(()=>{C.current=!0,P(!0),S.current=0},E)},[E,P]);return N.useEffect(()=>()=>{S.current&&(window.clearTimeout(S.current),S.current=0)},[]),f.jsx(y1,{...h,children:f.jsx(PZ,{scope:e,contentId:b,open:j,stateAttribute:I,trigger:g,onTriggerChange:v,onTriggerEnter:N.useCallback(()=>{d.isOpenDelayedRef.current?M():F()},[d.isOpenDelayedRef,M,F]),onTriggerLeave:N.useCallback(()=>{O?R():(window.clearTimeout(S.current),S.current=0)},[R,O]),onOpen:F,onClose:R,disableHoverableContent:O,children:r})})};ZB.displayName=Gp;var TC="TooltipTrigger",QB=N.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=S1(TC,r),a=oT(TC,r),s=_1(r),l=N.useRef(null),d=lr(e,l,i.onTriggerChange),h=N.useRef(!1),g=N.useRef(!1),v=N.useCallback(()=>h.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),f.jsx(Ym,{asChild:!0,...s,children:f.jsx(Ot.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:d,onPointerMove:it(t.onPointerMove,b=>{b.pointerType!=="touch"&&!g.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),g.current=!0)}),onPointerLeave:it(t.onPointerLeave,()=>{i.onTriggerLeave(),g.current=!1}),onPointerDown:it(t.onPointerDown,()=>{i.open&&i.onClose(),h.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:it(t.onFocus,()=>{h.current||i.onOpen()}),onBlur:it(t.onBlur,i.onClose),onClick:it(t.onClick,i.onClose)})})});QB.displayName=TC;var jZ="TooltipPortal",[wOe,IZ]=b1(jZ,{forceMount:void 0}),mf="TooltipContent",JB=N.forwardRef((t,e)=>{const r=IZ(mf,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=t,s=S1(mf,t.__scopeTooltip);return f.jsx(ma,{present:n||s.open,children:s.disableHoverableContent?f.jsx(e7,{side:i,...a,ref:e}):f.jsx(RZ,{side:i,...a,ref:e})})}),RZ=N.forwardRef((t,e)=>{const r=S1(mf,t.__scopeTooltip),n=oT(mf,t.__scopeTooltip),i=N.useRef(null),a=lr(e,i),[s,l]=N.useState(null),{trigger:d,onClose:h}=r,g=i.current,{onPointerInTransitChange:v}=n,b=N.useCallback(()=>{l(null),v(!1)},[v]),S=N.useCallback((O,E)=>{const C=O.currentTarget,j={x:O.clientX,y:O.clientY},P=FZ(j,C.getBoundingClientRect()),I=$Z(j,P),F=UZ(E.getBoundingClientRect()),R=WZ([...I,...F]);l(R),v(!0)},[v]);return N.useEffect(()=>()=>b(),[b]),N.useEffect(()=>{if(d&&g){const O=C=>S(C,g),E=C=>S(C,d);return d.addEventListener("pointerleave",O),g.addEventListener("pointerleave",E),()=>{d.removeEventListener("pointerleave",O),g.removeEventListener("pointerleave",E)}}},[d,g,S,b]),N.useEffect(()=>{if(s){const O=E=>{const C=E.target,j={x:E.clientX,y:E.clientY},P=d?.contains(C)||g?.contains(C),I=!VZ(j,s);P?b():I&&(b(),h())};return document.addEventListener("pointermove",O),()=>document.removeEventListener("pointermove",O)}},[d,g,s,h,b]),f.jsx(e7,{...t,ref:a})}),[MZ,DZ]=b1(Gp,{isInside:!1}),LZ=FL("TooltipContent"),e7=N.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...l}=t,d=S1(mf,r),h=_1(r),{onClose:g}=d;return N.useEffect(()=>(document.addEventListener(OC,g),()=>document.removeEventListener(OC,g)),[g]),N.useEffect(()=>{if(d.trigger){const v=b=>{b.target?.contains(d.trigger)&&g()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[d.trigger,g]),f.jsx(qu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:v=>v.preventDefault(),onDismiss:g,children:f.jsxs(x1,{"data-state":d.stateAttribute,...h,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(LZ,{children:n}),f.jsx(MZ,{scope:r,isInside:!0,children:f.jsx(iK,{id:d.contentId,role:"tooltip",children:i||n})})]})})});JB.displayName=mf;var t7="TooltipArrow",BZ=N.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=_1(r);return DZ(t7,r).isInside?null:f.jsx(w1,{...i,...n,ref:e})});BZ.displayName=t7;function FZ(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function $Z(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function UZ(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function VZ(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const l=e[a],d=e[s],h=l.x,g=l.y,v=d.x,b=d.y;g>n!=b>n&&r<(v-h)*(n-g)/(b-g)+h&&(i=!i)}return i}function WZ(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),qZ(e)}function qZ(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const a=e[e.length-1],s=e[e.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const a=r[r.length-1],s=r[r.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var zZ=XB,HZ=ZB,GZ=QB,r7=JB;const n7=zZ,KZ=HZ,YZ=GZ,i7=N.forwardRef(({className:t,sideOffset:e=4,...r},n)=>f.jsx(r7,{ref:n,sideOffset:e,className:Me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));i7.displayName=r7.displayName;var E1=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},C1=typeof window>"u"||"Deno"in globalThis;function Is(){}function XZ(t,e){return typeof t=="function"?t(e):t}function ZZ(t){return typeof t=="number"&&t>=0&&t!==1/0}function QZ(t,e){return Math.max(t+(e||0)-Date.now(),0)}function NC(t,e){return typeof t=="function"?t(e):t}function JZ(t,e){return typeof t=="function"?t(e):t}function aI(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:s,stale:l}=t;if(s){if(n){if(e.queryHash!==lT(s,e.options))return!1}else if(!Yp(e.queryKey,s))return!1}if(r!=="all"){const d=e.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||a&&!a(e))}function sI(t,e){const{exact:r,status:n,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(Kp(e.options.mutationKey)!==Kp(a))return!1}else if(!Yp(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function lT(t,e){return(e?.queryKeyHashFn||Kp)(t)}function Kp(t){return JSON.stringify(t,(e,r)=>kC(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Yp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Yp(t[r],e[r])):!1}function a7(t,e){if(t===e)return t;const r=oI(t)&&oI(e);if(r||kC(t)&&kC(e)){const n=r?t:Object.keys(t),i=n.length,a=r?e:Object.keys(e),s=a.length,l=r?[]:{},d=new Set(n);let h=0;for(let g=0;g<s;g++){const v=r?g:a[g];(!r&&d.has(v)||r)&&t[v]===void 0&&e[v]===void 0?(l[v]=void 0,h++):(l[v]=a7(t[v],e[v]),l[v]===t[v]&&t[v]!==void 0&&h++)}return i===s&&h===i?t:l}return e}function oI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function kC(t){if(!lI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!lI(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function lI(t){return Object.prototype.toString.call(t)==="[object Object]"}function eQ(t){return new Promise(e=>{setTimeout(e,t)})}function tQ(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?a7(t,e):e}function rQ(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function nQ(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var cT=Symbol();function s7(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===cT?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var iQ=class extends E1{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!C1&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},o7=new iQ,aQ=class extends E1{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!C1&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},Mv=new aQ;function sQ(){let t,e;const r=new Promise((i,a)=>{t=i,e=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function oQ(t){return Math.min(1e3*2**t,3e4)}function l7(t){return(t??"online")==="online"?Mv.isOnline():!0}var c7=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function db(t){return t instanceof c7}function u7(t){let e=!1,r=0,n=!1,i;const a=sQ(),s=E=>{n||(b(new c7(E)),t.abort?.())},l=()=>{e=!0},d=()=>{e=!1},h=()=>o7.isFocused()&&(t.networkMode==="always"||Mv.isOnline())&&t.canRun(),g=()=>l7(t.networkMode)&&t.canRun(),v=E=>{n||(n=!0,t.onSuccess?.(E),i?.(),a.resolve(E))},b=E=>{n||(n=!0,t.onError?.(E),i?.(),a.reject(E))},S=()=>new Promise(E=>{i=C=>{(n||h())&&E(C)},t.onPause?.()}).then(()=>{i=void 0,n||t.onContinue?.()}),O=()=>{if(n)return;let E;const C=r===0?t.initialPromise:void 0;try{E=C??t.fn()}catch(j){E=Promise.reject(j)}Promise.resolve(E).then(v).catch(j=>{if(n)return;const P=t.retry??(C1?0:3),I=t.retryDelay??oQ,F=typeof I=="function"?I(r,j):I,R=P===!0||typeof P=="number"&&r<P||typeof P=="function"&&P(r,j);if(e||!R){b(j);return}r++,t.onFail?.(r,j),eQ(F).then(()=>h()?void 0:S()).then(()=>{e?b(j):O()})})};return{promise:a,cancel:s,continue:()=>(i?.(),a),cancelRetry:l,continueRetry:d,canStart:g,start:()=>(g()?O():S().then(O),a)}}var lQ=t=>setTimeout(t,0);function cQ(){let t=[],e=0,r=l=>{l()},n=l=>{l()},i=lQ;const a=l=>{e?t.push(l):i(()=>{r(l)})},s=()=>{const l=t;t=[],l.length&&i(()=>{n(()=>{l.forEach(d=>{r(d)})})})};return{batch:l=>{let d;e++;try{d=l()}finally{e--,e||s()}return d},batchCalls:l=>(...d)=>{a(()=>{l(...d)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var Wi=cQ(),d7=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ZZ(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(C1?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},uQ=class extends d7{#e;#t;#r;#i;#n;#s;#o;constructor(t){super(),this.#o=!1,this.#s=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#r=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=fQ(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){this.options={...this.#s,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const r=tQ(this.state.data,t,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#a({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(Is).catch(Is):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>JZ(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>NC(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!QZ(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,n=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},i=()=>{const d=s7(this.options,e),g=(()=>{const v={client:this.#i,queryKey:this.queryKey,meta:this.meta};return n(v),v})();return this.#o=!1,this.options.persister?this.options.persister(d,g,this):d(g)},s=(()=>{const d={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return n(d),d})();this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#a({type:"fetch",meta:s.fetchOptions?.meta});const l=d=>{db(d)&&d.silent||this.#a({type:"error",error:d}),db(d)||(this.#r.config.onError?.(d,this),this.#r.config.onSettled?.(this.state.data,d,this)),this.scheduleGc()};return this.#n=u7({initialPromise:e?.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{if(d===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(h){l(h);return}this.#r.config.onSuccess?.(d,this),this.#r.config.onSettled?.(d,this.state.error,this),this.scheduleGc()},onError:l,onFail:(d,h)=>{this.#a({type:"failed",failureCount:d,error:h})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#n.start()}#a(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...dQ(r.data,this.options),fetchMeta:t.meta??null};case"success":return this.#t=void 0,{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return db(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),Wi.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function dQ(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:l7(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function fQ(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var hQ=class extends E1{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){const n=e.queryKey,i=e.queryHash??lT(n,e);let a=this.get(i);return a||(a=new uQ({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(a)),a}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Wi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>aI(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>aI(t,r)):e}notify(t){Wi.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Wi.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Wi.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},pQ=class extends d7{#e;#t;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||mQ(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#i({type:"continue"})};this.#r=u7({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(i,a)=>{this.#i({type:"failed",failureCount:i,error:a})},onPause:()=>{this.#i({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)e();else{this.#i({type:"pending",variables:t,isPaused:n}),await this.#t.config.onMutate?.(t,this);const a=await this.options.onMutate?.(t);a!==this.state.context&&this.#i({type:"pending",context:a,variables:t,isPaused:n})}const i=await this.#r.start();return await this.#t.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#t.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#i({type:"success",data:i}),i}catch(i){try{throw await this.#t.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#t.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#i({type:"error",error:i})}}finally{this.#t.runNext(this)}}#i(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Wi.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function mQ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gQ=class extends E1{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(t,e,r){const n=new pQ({mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#e.add(t);const e=M0(t);if(typeof e=="string"){const r=this.#t.get(e);r?r.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=M0(t);if(typeof e=="string"){const r=this.#t.get(e);if(r)if(r.length>1){const n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=M0(t);if(typeof e=="string"){const n=this.#t.get(e)?.find(i=>i.state.status==="pending");return!n||n===t}else return!0}runNext(t){const e=M0(t);return typeof e=="string"?this.#t.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Wi.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(r=>sI(e,r))}findAll(t={}){return this.getAll().filter(e=>sI(t,e))}notify(t){Wi.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Wi.batch(()=>Promise.all(t.map(e=>e.continue().catch(Is))))}};function M0(t){return t.options.scope?.id}function cI(t){return{onFetch:(e,r)=>{const n=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],s=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},d=0;const h=async()=>{let g=!1;const v=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},b=s7(e.options,e.fetchOptions),S=async(O,E,C)=>{if(g)return Promise.reject();if(E==null&&O.pages.length)return Promise.resolve(O);const P=(()=>{const M={client:e.client,queryKey:e.queryKey,pageParam:E,direction:C?"backward":"forward",meta:e.options.meta};return v(M),M})(),I=await b(P),{maxPages:F}=e.options,R=C?nQ:rQ;return{pages:R(O.pages,I,F),pageParams:R(O.pageParams,E,F)}};if(i&&a.length){const O=i==="backward",E=O?vQ:uI,C={pages:a,pageParams:s},j=E(n,C);l=await S(C,j,O)}else{const O=t??a.length;do{const E=d===0?s[0]??n.initialPageParam:uI(n,l);if(d>0&&E==null)break;l=await S(l,E),d++}while(d<O)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=h}}}function uI(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function vQ(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var yQ=class{#e;#t;#r;#i;#n;#s;#o;#a;constructor(t={}){this.#e=t.queryCache||new hQ,this.#t=t.mutationCache||new gQ,this.#r=t.defaultOptions||{},this.#i=new Map,this.#n=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=o7.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Mv.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#e.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(NC(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(n.queryHash)?.state.data,s=XZ(e,a);if(s!==void 0)return this.#e.build(this,n).setData(s,{...r,manual:!0})}setQueriesData(t,e,r){return Wi.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Wi.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#e;return Wi.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Wi.batch(()=>this.#e.findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Is).catch(Is)}invalidateQueries(t,e={}){return Wi.batch(()=>(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Wi.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Is)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Is)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(NC(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Is).catch(Is)}fetchInfiniteQuery(t){return t.behavior=cI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Is).catch(Is)}ensureInfiniteQueryData(t){return t.behavior=cI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Mv.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#i.set(Kp(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],r={};return e.forEach(n=>{Yp(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#n.set(Kp(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(n=>{Yp(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=lT(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===cT&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},xQ=N.createContext(void 0),wQ=({client:t,children:e})=>(N.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(xQ.Provider,{value:t,children:e}));function Xp(){return Xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xp.apply(this,arguments)}var Zl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zl||(Zl={}));const dI="popstate";function bQ(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:s,hash:l}=n.location;return PC("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:h7(i)}return SQ(e,r,null,t)}function Wn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function f7(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _Q(){return Math.random().toString(36).substr(2,8)}function fI(t,e){return{usr:t.state,key:t.key,idx:e}}function PC(t,e,r,n){return r===void 0&&(r=null),Xp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?uh(e):e,{state:r,key:e&&e.key||n||_Q()})}function h7(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function uh(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function SQ(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,l=Zl.Pop,d=null,h=g();h==null&&(h=0,s.replaceState(Xp({},s.state,{idx:h}),""));function g(){return(s.state||{idx:null}).idx}function v(){l=Zl.Pop;let C=g(),j=C==null?null:C-h;h=C,d&&d({action:l,location:E.location,delta:j})}function b(C,j){l=Zl.Push;let P=PC(E.location,C,j);h=g()+1;let I=fI(P,h),F=E.createHref(P);try{s.pushState(I,"",F)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(F)}a&&d&&d({action:l,location:E.location,delta:1})}function S(C,j){l=Zl.Replace;let P=PC(E.location,C,j);h=g();let I=fI(P,h),F=E.createHref(P);s.replaceState(I,"",F),a&&d&&d({action:l,location:E.location,delta:0})}function O(C){let j=i.location.origin!=="null"?i.location.origin:i.location.href,P=typeof C=="string"?C:h7(C);return P=P.replace(/ $/,"%20"),Wn(j,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,j)}let E={get action(){return l},get location(){return t(i,s)},listen(C){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(dI,v),d=C,()=>{i.removeEventListener(dI,v),d=null}},createHref(C){return e(i,C)},createURL:O,encodeLocation(C){let j=O(C);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:b,replace:S,go(C){return s.go(C)}};return E}var hI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(hI||(hI={}));function EQ(t,e,r){return r===void 0&&(r="/"),CQ(t,e,r)}function CQ(t,e,r,n){let i=typeof e=="string"?uh(e):e,a=g7(i.pathname||"/",r);if(a==null)return null;let s=p7(t);AQ(s);let l=null;for(let d=0;l==null&&d<s.length;++d){let h=BQ(a);l=MQ(s[d],h)}return l}function p7(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,l)=>{let d={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};d.relativePath.startsWith("/")&&(Wn(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let h=bu([n,d.relativePath]),g=r.concat(d);a.children&&a.children.length>0&&(Wn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),p7(a.children,e,g,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:IQ(h,a.index),routesMeta:g})};return t.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,s);else for(let d of m7(a.path))i(a,s,d)}),e}function m7(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=m7(n.join("/")),l=[];return l.push(...s.map(d=>d===""?a:[a,d].join("/"))),i&&l.push(...s),l.map(d=>t.startsWith("/")&&d===""?"/":d)}function AQ(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:RQ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const OQ=/^:[\w-]+$/,TQ=3,NQ=2,kQ=1,PQ=10,jQ=-2,pI=t=>t==="*";function IQ(t,e){let r=t.split("/"),n=r.length;return r.some(pI)&&(n+=jQ),e&&(n+=NQ),r.filter(i=>!pI(i)).reduce((i,a)=>i+(OQ.test(a)?TQ:a===""?kQ:PQ),n)}function RQ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function MQ(t,e,r){let{routesMeta:n}=t,i={},a="/",s=[];for(let l=0;l<n.length;++l){let d=n[l],h=l===n.length-1,g=a==="/"?e:e.slice(a.length)||"/",v=DQ({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},g),b=d.route;if(!v)return null;Object.assign(i,v.params),s.push({params:i,pathname:bu([a,v.pathname]),pathnameBase:VQ(bu([a,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(a=bu([a,v.pathnameBase]))}return s}function DQ(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=LQ(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((h,g,v)=>{let{paramName:b,isOptional:S}=g;if(b==="*"){let E=l[v]||"";s=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const O=l[v];return S&&!O?h[b]=void 0:h[b]=(O||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:s,pattern:t}}function LQ(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),f7(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,d)=>(n.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function BQ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return f7(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function g7(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function FQ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?uh(t):t;return{pathname:r?r.startsWith("/")?r:$Q(r,e):e,search:WQ(n),hash:qQ(i)}}function $Q(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function fb(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function UQ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function v7(t,e){let r=UQ(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function y7(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=uh(t):(i=Xp({},t),Wn(!i.pathname||!i.pathname.includes("?"),fb("?","pathname","search",i)),Wn(!i.pathname||!i.pathname.includes("#"),fb("#","pathname","hash",i)),Wn(!i.search||!i.search.includes("#"),fb("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=r;else{let v=e.length-1;if(!n&&s.startsWith("..")){let b=s.split("/");for(;b[0]==="..";)b.shift(),v-=1;i.pathname=b.join("/")}l=v>=0?e[v]:"/"}let d=FQ(i,l),h=s&&s!=="/"&&s.endsWith("/"),g=(a||s===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||g)&&(d.pathname+="/"),d}const bu=t=>t.join("/").replace(/\/\/+/g,"/"),VQ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WQ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qQ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function zQ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const x7=["post","put","patch","delete"];new Set(x7);const HQ=["get",...x7];new Set(HQ);function Zp(){return Zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zp.apply(this,arguments)}const uT=N.createContext(null),GQ=N.createContext(null),Xm=N.createContext(null),A1=N.createContext(null),Hu=N.createContext({outlet:null,matches:[],isDataRoute:!1}),w7=N.createContext(null);function Zm(){return N.useContext(A1)!=null}function _o(){return Zm()||Wn(!1),N.useContext(A1).location}function b7(t){N.useContext(Xm).static||N.useLayoutEffect(t)}function Ai(){let{isDataRoute:t}=N.useContext(Hu);return t?sJ():KQ()}function KQ(){Zm()||Wn(!1);let t=N.useContext(uT),{basename:e,future:r,navigator:n}=N.useContext(Xm),{matches:i}=N.useContext(Hu),{pathname:a}=_o(),s=JSON.stringify(v7(i,r.v7_relativeSplatPath)),l=N.useRef(!1);return b7(()=>{l.current=!0}),N.useCallback(function(h,g){if(g===void 0&&(g={}),!l.current)return;if(typeof h=="number"){n.go(h);return}let v=y7(h,JSON.parse(s),a,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:bu([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,s,a,t])}function YQ(t,e){return XQ(t,e)}function XQ(t,e,r,n){Zm()||Wn(!1);let{navigator:i}=N.useContext(Xm),{matches:a}=N.useContext(Hu),s=a[a.length-1],l=s?s.params:{};s&&s.pathname;let d=s?s.pathnameBase:"/";s&&s.route;let h=_o(),g;if(e){var v;let C=typeof e=="string"?uh(e):e;d==="/"||(v=C.pathname)!=null&&v.startsWith(d)||Wn(!1),g=C}else g=h;let b=g.pathname||"/",S=b;if(d!=="/"){let C=d.replace(/^\//,"").split("/");S="/"+b.replace(/^\//,"").split("/").slice(C.length).join("/")}let O=EQ(t,{pathname:S}),E=tJ(O&&O.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:bu([d,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:bu([d,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),a,r,n);return e&&E?N.createElement(A1.Provider,{value:{location:Zp({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Zl.Pop}},E):E}function ZQ(){let t=aJ(),e=zQ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),r?N.createElement("pre",{style:i},r):null,null)}const QQ=N.createElement(ZQ,null);class JQ extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?N.createElement(Hu.Provider,{value:this.props.routeContext},N.createElement(w7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function eJ(t){let{routeContext:e,match:r,children:n}=t,i=N.useContext(uT);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(Hu.Provider,{value:e},n)}function tJ(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,l=(i=r)==null?void 0:i.errors;if(l!=null){let g=s.findIndex(v=>v.route.id&&l?.[v.route.id]!==void 0);g>=0||Wn(!1),s=s.slice(0,Math.min(s.length,g+1))}let d=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let g=0;g<s.length;g++){let v=s[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=g),v.route.id){let{loaderData:b,errors:S}=r,O=v.route.loader&&b[v.route.id]===void 0&&(!S||S[v.route.id]===void 0);if(v.route.lazy||O){d=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((g,v,b)=>{let S,O=!1,E=null,C=null;r&&(S=l&&v.route.id?l[v.route.id]:void 0,E=v.route.errorElement||QQ,d&&(h<0&&b===0?(oJ("route-fallback"),O=!0,C=null):h===b&&(O=!0,C=v.route.hydrateFallbackElement||null)));let j=e.concat(s.slice(0,b+1)),P=()=>{let I;return S?I=E:O?I=C:v.route.Component?I=N.createElement(v.route.Component,null):v.route.element?I=v.route.element:I=g,N.createElement(eJ,{match:v,routeContext:{outlet:g,matches:j,isDataRoute:r!=null},children:I})};return r&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?N.createElement(JQ,{location:r.location,revalidation:r.revalidation,component:E,error:S,children:P(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):P()},null)}var _7=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(_7||{}),S7=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(S7||{});function rJ(t){let e=N.useContext(uT);return e||Wn(!1),e}function nJ(t){let e=N.useContext(GQ);return e||Wn(!1),e}function iJ(t){let e=N.useContext(Hu);return e||Wn(!1),e}function E7(t){let e=iJ(),r=e.matches[e.matches.length-1];return r.route.id||Wn(!1),r.route.id}function aJ(){var t;let e=N.useContext(w7),r=nJ(),n=E7();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function sJ(){let{router:t}=rJ(_7.UseNavigateStable),e=E7(S7.UseNavigateStable),r=N.useRef(!1);return b7(()=>{r.current=!0}),N.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Zp({fromRouteId:e},a)))},[t,e])}const mI={};function oJ(t,e,r){mI[t]||(mI[t]=!0)}function lJ(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function cJ(t){let{to:e,replace:r,state:n,relative:i}=t;Zm()||Wn(!1);let{future:a,static:s}=N.useContext(Xm),{matches:l}=N.useContext(Hu),{pathname:d}=_o(),h=Ai(),g=y7(e,v7(l,a.v7_relativeSplatPath),d,i==="path"),v=JSON.stringify(g);return N.useEffect(()=>h(JSON.parse(v),{replace:r,state:n,relative:i}),[h,v,i,r,n]),null}function ei(t){Wn(!1)}function uJ(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Zl.Pop,navigator:a,static:s=!1,future:l}=t;Zm()&&Wn(!1);let d=e.replace(/^\/*/,"/"),h=N.useMemo(()=>({basename:d,navigator:a,static:s,future:Zp({v7_relativeSplatPath:!1},l)}),[d,l,a,s]);typeof n=="string"&&(n=uh(n));let{pathname:g="/",search:v="",hash:b="",state:S=null,key:O="default"}=n,E=N.useMemo(()=>{let C=g7(g,d);return C==null?null:{location:{pathname:C,search:v,hash:b,state:S,key:O},navigationType:i}},[d,g,v,b,S,O,i]);return E==null?null:N.createElement(Xm.Provider,{value:h},N.createElement(A1.Provider,{children:r,value:E}))}function dJ(t){let{children:e,location:r}=t;return YQ(jC(e),r)}new Promise(()=>{});function jC(t,e){e===void 0&&(e=[]);let r=[];return N.Children.forEach(t,(n,i)=>{if(!N.isValidElement(n))return;let a=[...e,i];if(n.type===N.Fragment){r.push.apply(r,jC(n.props.children,a));return}n.type!==ei&&Wn(!1),!n.props.index||!n.props.children||Wn(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=jC(n.props.children,a)),r.push(s)}),r}const fJ="6";try{window.__reactRouterVersion=fJ}catch{}const hJ="startTransition",gI=FO[hJ];function pJ(t){let{basename:e,children:r,future:n,window:i}=t,a=N.useRef();a.current==null&&(a.current=bQ({window:i,v5Compat:!0}));let s=a.current,[l,d]=N.useState({action:s.action,location:s.location}),{v7_startTransition:h}=n||{},g=N.useCallback(v=>{h&&gI?gI(()=>d(v)):d(v)},[d,h]);return N.useLayoutEffect(()=>s.listen(g),[s,g]),N.useEffect(()=>lJ(n),[n]),N.createElement(uJ,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:s,future:n})}var vI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(vI||(vI={}));var yI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(yI||(yI={}));const Qp=zu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-lg hover:shadow-xl transition-all",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border-2 border-primary text-primary bg-transparent hover:bg-primary hover:text-primary-foreground transition-all",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-primary text-primary-foreground hover:bg-primary-glow shadow-[0_0_30px_rgba(255,68,68,0.4)] hover:shadow-[0_0_50px_rgba(255,68,68,0.6)] transition-all text-base font-semibold",cosmic:"bg-gradient-to-r from-primary to-mars-orange text-primary-foreground hover:opacity-90 shadow-lg hover:shadow-xl transition-all"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),He=N.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},a)=>{const s=n?Wu:"button";return f.jsx(s,{className:Me(Qp({variant:e,size:r,className:t})),ref:a,...i})});He.displayName="Button";var hb={exports:{}},pb={};var xI;function mJ(){if(xI)return pb;xI=1;var t=c1();function e(v,b){return v===b&&(v!==0||1/v===1/b)||v!==v&&b!==b}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function l(v,b){var S=b(),O=n({inst:{value:S,getSnapshot:b}}),E=O[0].inst,C=O[1];return a(function(){E.value=S,E.getSnapshot=b,d(E)&&C({inst:E})},[v,S,b]),i(function(){return d(E)&&C({inst:E}),v(function(){d(E)&&C({inst:E})})},[v]),s(S),S}function d(v){var b=v.getSnapshot;v=v.value;try{var S=b();return!r(v,S)}catch{return!0}}function h(v,b){return b()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:l;return pb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,pb}var wI;function gJ(){return wI||(wI=1,hb.exports=mJ()),hb.exports}var vJ=gJ();function yJ(){return vJ.useSyncExternalStore(xJ,()=>!0,()=>!1)}function xJ(){return()=>{}}var dT="Avatar",[wJ]=Zi(dT),[bJ,C7]=wJ(dT),A7=N.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,a]=N.useState("idle");return f.jsx(bJ,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:f.jsx(Ot.span,{...n,ref:e})})});A7.displayName=dT;var O7="AvatarImage",T7=N.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...a}=t,s=C7(O7,r),l=_J(n,a),d=Xi(h=>{i(h),s.onImageLoadingStatusChange(h)});return zn(()=>{l!=="idle"&&d(l)},[l,d]),l==="loaded"?f.jsx(Ot.img,{...a,ref:e,src:n}):null});T7.displayName=O7;var N7="AvatarFallback",k7=N.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,a=C7(N7,r),[s,l]=N.useState(n===void 0);return N.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(d)}},[n]),s&&a.imageLoadingStatus!=="loaded"?f.jsx(Ot.span,{...i,ref:e}):null});k7.displayName=N7;function bI(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function _J(t,{referrerPolicy:e,crossOrigin:r}){const n=yJ(),i=N.useRef(null),a=n?(i.current||(i.current=new window.Image),i.current):null,[s,l]=N.useState(()=>bI(a,t));return zn(()=>{l(bI(a,t))},[a,t]),zn(()=>{const d=v=>()=>{l(v)};if(!a)return;const h=d("loaded"),g=d("error");return a.addEventListener("load",h),a.addEventListener("error",g),e&&(a.referrerPolicy=e),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",h),a.removeEventListener("error",g)}},[a,r,e]),s}var P7=A7,j7=T7,I7=k7;const fT=N.forwardRef(({className:t,...e},r)=>f.jsx(P7,{ref:r,className:Me("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));fT.displayName=P7.displayName;const hT=N.forwardRef(({className:t,...e},r)=>f.jsx(j7,{ref:r,className:Me("aspect-square h-full w-full",t),...e}));hT.displayName=j7.displayName;const pT=N.forwardRef(({className:t,...e},r)=>f.jsx(I7,{ref:r,className:Me("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));pT.displayName=I7.displayName;var SJ=N.createContext(void 0);function O1(t){const e=N.useContext(SJ);return t||e||"ltr"}var mb=0;function T1(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??_I()),document.body.insertAdjacentElement("beforeend",t[1]??_I()),mb++,()=>{mb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),mb--}},[])}function _I(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var gb="focusScope.autoFocusOnMount",vb="focusScope.autoFocusOnUnmount",SI={bubbles:!1,cancelable:!0},EJ="FocusScope",Qm=N.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=t,[l,d]=N.useState(null),h=Xi(i),g=Xi(a),v=N.useRef(null),b=lr(e,E=>d(E)),S=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(n){let E=function(I){if(S.paused||!l)return;const F=I.target;l.contains(F)?v.current=F:ql(v.current,{select:!0})},C=function(I){if(S.paused||!l)return;const F=I.relatedTarget;F!==null&&(l.contains(F)||ql(v.current,{select:!0}))},j=function(I){if(document.activeElement===document.body)for(const R of I)R.removedNodes.length>0&&ql(l)};document.addEventListener("focusin",E),document.addEventListener("focusout",C);const P=new MutationObserver(j);return l&&P.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",C),P.disconnect()}}},[n,l,S.paused]),N.useEffect(()=>{if(l){CI.add(S);const E=document.activeElement;if(!l.contains(E)){const j=new CustomEvent(gb,SI);l.addEventListener(gb,h),l.dispatchEvent(j),j.defaultPrevented||(CJ(kJ(R7(l)),{select:!0}),document.activeElement===E&&ql(l))}return()=>{l.removeEventListener(gb,h),setTimeout(()=>{const j=new CustomEvent(vb,SI);l.addEventListener(vb,g),l.dispatchEvent(j),j.defaultPrevented||ql(E??document.body,{select:!0}),l.removeEventListener(vb,g),CI.remove(S)},0)}}},[l,h,g,S]);const O=N.useCallback(E=>{if(!r&&!n||S.paused)return;const C=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,j=document.activeElement;if(C&&j){const P=E.currentTarget,[I,F]=AJ(P);I&&F?!E.shiftKey&&j===F?(E.preventDefault(),r&&ql(I,{select:!0})):E.shiftKey&&j===I&&(E.preventDefault(),r&&ql(F,{select:!0})):j===P&&E.preventDefault()}},[r,n,S.paused]);return f.jsx(Ot.div,{tabIndex:-1,...s,ref:b,onKeyDown:O})});Qm.displayName=EJ;function CJ(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(ql(n,{select:e}),document.activeElement!==r)return}function AJ(t){const e=R7(t),r=EI(e,t),n=EI(e.reverse(),t);return[r,n]}function R7(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function EI(t,e){for(const r of t)if(!OJ(r,{upTo:e}))return r}function OJ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function TJ(t){return t instanceof HTMLInputElement&&"select"in t}function ql(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&TJ(t)&&e&&t.select()}}var CI=NJ();function NJ(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=AI(t,e),t.unshift(e)},remove(e){t=AI(t,e),t[0]?.resume()}}}function AI(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function kJ(t){return t.filter(e=>e.tagName!=="A")}var yb="rovingFocusGroup.onEntryFocus",PJ={bubbles:!1,cancelable:!0},Jm="RovingFocusGroup",[IC,M7,jJ]=d1(Jm),[IJ,N1]=Zi(Jm,[jJ]),[RJ,MJ]=IJ(Jm),D7=N.forwardRef((t,e)=>f.jsx(IC.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(IC.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(DJ,{...t,ref:e})})}));D7.displayName=Jm;var DJ=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:g=!1,...v}=t,b=N.useRef(null),S=lr(e,b),O=O1(a),[E,C]=Vs({prop:s,defaultProp:l??null,onChange:d,caller:Jm}),[j,P]=N.useState(!1),I=Xi(h),F=M7(r),R=N.useRef(!1),[M,B]=N.useState(0);return N.useEffect(()=>{const q=b.current;if(q)return q.addEventListener(yb,I),()=>q.removeEventListener(yb,I)},[I]),f.jsx(RJ,{scope:r,orientation:n,dir:O,loop:i,currentTabStopId:E,onItemFocus:N.useCallback(q=>C(q),[C]),onItemShiftTab:N.useCallback(()=>P(!0),[]),onFocusableItemAdd:N.useCallback(()=>B(q=>q+1),[]),onFocusableItemRemove:N.useCallback(()=>B(q=>q-1),[]),children:f.jsx(Ot.div,{tabIndex:j||M===0?-1:0,"data-orientation":n,...v,ref:S,style:{outline:"none",...t.style},onMouseDown:it(t.onMouseDown,()=>{R.current=!0}),onFocus:it(t.onFocus,q=>{const U=!R.current;if(q.target===q.currentTarget&&U&&!j){const z=new CustomEvent(yb,PJ);if(q.currentTarget.dispatchEvent(z),!z.defaultPrevented){const G=F().filter(se=>se.focusable),W=G.find(se=>se.active),H=G.find(se=>se.id===E),X=[W,H,...G].filter(Boolean).map(se=>se.ref.current);F7(X,g)}}R.current=!1}),onBlur:it(t.onBlur,()=>P(!1))})})}),L7="RovingFocusGroupItem",B7=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:s,...l}=t,d=ds(),h=a||d,g=MJ(L7,r),v=g.currentTabStopId===h,b=M7(r),{onFocusableItemAdd:S,onFocusableItemRemove:O,currentTabStopId:E}=g;return N.useEffect(()=>{if(n)return S(),()=>O()},[n,S,O]),f.jsx(IC.ItemSlot,{scope:r,id:h,focusable:n,active:i,children:f.jsx(Ot.span,{tabIndex:v?0:-1,"data-orientation":g.orientation,...l,ref:e,onMouseDown:it(t.onMouseDown,C=>{n?g.onItemFocus(h):C.preventDefault()}),onFocus:it(t.onFocus,()=>g.onItemFocus(h)),onKeyDown:it(t.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){g.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const j=FJ(C,g.orientation,g.dir);if(j!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let I=b().filter(F=>F.focusable).map(F=>F.ref.current);if(j==="last")I.reverse();else if(j==="prev"||j==="next"){j==="prev"&&I.reverse();const F=I.indexOf(C.currentTarget);I=g.loop?$J(I,F+1):I.slice(F+1)}setTimeout(()=>F7(I))}}),children:typeof s=="function"?s({isCurrentTabStop:v,hasTabStop:E!=null}):s})})});B7.displayName=L7;var LJ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function BJ(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function FJ(t,e,r){const n=BJ(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return LJ[n]}function F7(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function $J(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var $7=D7,U7=B7,UJ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Nd=new WeakMap,D0=new WeakMap,L0={},xb=0,V7=function(t){return t&&(t.host||V7(t.parentNode))},VJ=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=V7(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},WJ=function(t,e,r,n){var i=VJ(e,Array.isArray(t)?t:[t]);L0[r]||(L0[r]=new WeakMap);var a=L0[r],s=[],l=new Set,d=new Set(i),h=function(v){!v||l.has(v)||(l.add(v),h(v.parentNode))};i.forEach(h);var g=function(v){!v||d.has(v)||Array.prototype.forEach.call(v.children,function(b){if(l.has(b))g(b);else try{var S=b.getAttribute(n),O=S!==null&&S!=="false",E=(Nd.get(b)||0)+1,C=(a.get(b)||0)+1;Nd.set(b,E),a.set(b,C),s.push(b),E===1&&O&&D0.set(b,!0),C===1&&b.setAttribute(r,"true"),O||b.setAttribute(n,"true")}catch(j){console.error("aria-hidden: cannot operate on ",b,j)}})};return g(e),l.clear(),xb++,function(){s.forEach(function(v){var b=Nd.get(v)-1,S=a.get(v)-1;Nd.set(v,b),a.set(v,S),b||(D0.has(v)||v.removeAttribute(n),D0.delete(v)),S||v.removeAttribute(r)}),xb--,xb||(Nd=new WeakMap,Nd=new WeakMap,D0=new WeakMap,L0={})}},k1=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=UJ(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),WJ(n,i,r,"aria-hidden")):function(){return null}},RC=function(t,e){return RC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},RC(t,e)};function W7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");RC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ss=function(){return ss=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ss.apply(this,arguments)};function gc(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function q7(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(s=t[l])&&(a=(i<3?s(a):i>3?s(e,r,a):s(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function z7(t,e){return function(r,n){e(r,n,t)}}function H7(t,e,r,n,i,a){function s(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var l=n.kind,d=l==="getter"?"get":l==="setter"?"set":"value",h=!e&&t?n.static?t:t.prototype:null,g=e||(h?Object.getOwnPropertyDescriptor(h,n.name):{}),v,b=!1,S=r.length-1;S>=0;S--){var O={};for(var E in n)O[E]=E==="access"?{}:n[E];for(var E in n.access)O.access[E]=n.access[E];O.addInitializer=function(j){if(b)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(j||null))};var C=(0,r[S])(l==="accessor"?{get:g.get,set:g.set}:g[d],O);if(l==="accessor"){if(C===void 0)continue;if(C===null||typeof C!="object")throw new TypeError("Object expected");(v=s(C.get))&&(g.get=v),(v=s(C.set))&&(g.set=v),(v=s(C.init))&&i.unshift(v)}else(v=s(C))&&(l==="field"?i.unshift(v):g[d]=v)}h&&Object.defineProperty(h,n.name,g),b=!0}function G7(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function K7(t){return typeof t=="symbol"?t:"".concat(t)}function Y7(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function X7(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function _t(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(g){try{h(n.next(g))}catch(v){s(v)}}function d(g){try{h(n.throw(g))}catch(v){s(v)}}function h(g){g.done?a(g.value):i(g.value).then(l,d)}h((n=n.apply(t,e||[])).next())})}function Z7(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=l(0),s.throw=l(1),s.return=l(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(h){return function(g){return d([h,g])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(g){h=[6,g],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var P1=Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]});function Q7(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&P1(e,t,r)}function Dv(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mT(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a}function J7(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(mT(arguments[e]));return t}function e9(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],s=0,l=a.length;s<l;s++,i++)n[i]=a[s];return n}function gT(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function gf(t){return this instanceof gf?(this.v=t,this):new gf(t)}function t9(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(S){return function(O){return Promise.resolve(O).then(S,v)}}function l(S,O){n[S]&&(i[S]=function(E){return new Promise(function(C,j){a.push([S,E,C,j])>1||d(S,E)})},O&&(i[S]=O(i[S])))}function d(S,O){try{h(n[S](O))}catch(E){b(a[0][3],E)}}function h(S){S.value instanceof gf?Promise.resolve(S.value.v).then(g,v):b(a[0][2],S)}function g(S){d("next",S)}function v(S){d("throw",S)}function b(S,O){S(O),a.shift(),a.length&&d(a[0][0],a[0][1])}}function r9(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,a){e[i]=t[i]?function(s){return(r=!r)?{value:gf(t[i](s)),done:!1}:a?a(s):s}:a}}function n9(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Dv=="function"?Dv(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(s){return new Promise(function(l,d){s=t[a](s),i(l,d,s.done,s.value)})}}function i(a,s,l,d){Promise.resolve(d).then(function(h){a({value:h,done:l})},s)}}function i9(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var qJ=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},MC=function(t){return MC=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},MC(t)};function a9(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=MC(t),n=0;n<r.length;n++)r[n]!=="default"&&P1(e,t,r[n]);return qJ(e,t),e}function s9(t){return t&&t.__esModule?t:{default:t}}function o9(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function l9(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function c9(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function u9(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var zJ=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function d9(t){function e(a){t.error=t.hasError?new zJ(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(s){return e(s),i()})}else n|=1}catch(s){e(s)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function f9(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,s){return n?e?".jsx":".js":i&&(!a||!s)?r:i+a+"."+s.toLowerCase()+"js"}):t}const HJ={__extends:W7,__assign:ss,__rest:gc,__decorate:q7,__param:z7,__esDecorate:H7,__runInitializers:G7,__propKey:K7,__setFunctionName:Y7,__metadata:X7,__awaiter:_t,__generator:Z7,__createBinding:P1,__exportStar:Q7,__values:Dv,__read:mT,__spread:J7,__spreadArrays:e9,__spreadArray:gT,__await:gf,__asyncGenerator:t9,__asyncDelegator:r9,__asyncValues:n9,__makeTemplateObject:i9,__importStar:a9,__importDefault:s9,__classPrivateFieldGet:o9,__classPrivateFieldSet:l9,__classPrivateFieldIn:c9,__addDisposableResource:u9,__disposeResources:d9,__rewriteRelativeImportExtension:f9},GJ=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:u9,get __assign(){return ss},__asyncDelegator:r9,__asyncGenerator:t9,__asyncValues:n9,__await:gf,__awaiter:_t,__classPrivateFieldGet:o9,__classPrivateFieldIn:c9,__classPrivateFieldSet:l9,__createBinding:P1,__decorate:q7,__disposeResources:d9,__esDecorate:H7,__exportStar:Q7,__extends:W7,__generator:Z7,__importDefault:s9,__importStar:a9,__makeTemplateObject:i9,__metadata:X7,__param:z7,__propKey:K7,__read:mT,__rest:gc,__rewriteRelativeImportExtension:f9,__runInitializers:G7,__setFunctionName:Y7,__spread:J7,__spreadArray:gT,__spreadArrays:e9,__values:Dv,default:HJ},Symbol.toStringTag,{value:"Module"}));var vv="right-scroll-bar-position",yv="width-before-scroll-bar",KJ="with-scroll-bars-hidden",YJ="--removed-body-scroll-bar-size";function wb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function XJ(t,e){var r=N.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var ZJ=typeof window<"u"?N.useLayoutEffect:N.useEffect,OI=new WeakMap;function QJ(t,e){var r=XJ(null,function(n){return t.forEach(function(i){return wb(i,n)})});return ZJ(function(){var n=OI.get(r);if(n){var i=new Set(n),a=new Set(t),s=r.current;i.forEach(function(l){a.has(l)||wb(l,null)}),a.forEach(function(l){i.has(l)||wb(l,s)})}OI.set(r,t)},[t]),r}function JJ(t){return t}function eee(t,e){e===void 0&&(e=JJ);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var s=e(a,n);return r.push(s),function(){r=r.filter(function(l){return l!==s})}},assignSyncMedium:function(a){for(n=!0;r.length;){var s=r;r=[],s.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var s=[];if(r.length){var l=r;r=[],l.forEach(a),s=r}var d=function(){var g=s;s=[],g.forEach(a)},h=function(){return Promise.resolve().then(d)};h(),r={push:function(g){s.push(g),h()},filter:function(g){return s=s.filter(g),r}}}};return i}function tee(t){t===void 0&&(t={});var e=eee(null);return e.options=ss({async:!0,ssr:!1},t),e}var h9=function(t){var e=t.sideCar,r=gc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return N.createElement(n,ss({},r))};h9.isSideCarExport=!0;function ree(t,e){return t.useMedium(e),h9}var p9=tee(),bb=function(){},j1=N.forwardRef(function(t,e){var r=N.useRef(null),n=N.useState({onScrollCapture:bb,onWheelCapture:bb,onTouchMoveCapture:bb}),i=n[0],a=n[1],s=t.forwardProps,l=t.children,d=t.className,h=t.removeScrollBar,g=t.enabled,v=t.shards,b=t.sideCar,S=t.noRelative,O=t.noIsolation,E=t.inert,C=t.allowPinchZoom,j=t.as,P=j===void 0?"div":j,I=t.gapMode,F=gc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=b,M=QJ([r,e]),B=ss(ss({},F),i);return N.createElement(N.Fragment,null,g&&N.createElement(R,{sideCar:p9,removeScrollBar:h,shards:v,noRelative:S,noIsolation:O,inert:E,setCallbacks:a,allowPinchZoom:!!C,lockRef:r,gapMode:I}),s?N.cloneElement(N.Children.only(l),ss(ss({},B),{ref:M})):N.createElement(P,ss({},B,{className:d,ref:M}),l))});j1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};j1.classNames={fullWidth:yv,zeroRight:vv};var nee=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function iee(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=nee();return e&&t.setAttribute("nonce",e),t}function aee(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function see(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var oee=function(){var t=0,e=null;return{add:function(r){t==0&&(e=iee())&&(aee(e,r),see(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},lee=function(){var t=oee();return function(e,r){N.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},m9=function(){var t=lee(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},cee={left:0,top:0,right:0,gap:0},_b=function(t){return parseInt(t||"",10)||0},uee=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[_b(r),_b(n),_b(i)]},dee=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return cee;var e=uee(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},fee=m9(),sf="data-scroll-locked",hee=function(t,e,r,n){var i=t.left,a=t.top,s=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(KJ,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(sf,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vv,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(yv,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(vv," .").concat(vv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(yv," .").concat(yv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(sf,`] {
    `).concat(YJ,": ").concat(l,`px;
  }
`)},TI=function(){var t=parseInt(document.body.getAttribute(sf)||"0",10);return isFinite(t)?t:0},pee=function(){N.useEffect(function(){return document.body.setAttribute(sf,(TI()+1).toString()),function(){var t=TI()-1;t<=0?document.body.removeAttribute(sf):document.body.setAttribute(sf,t.toString())}},[])},mee=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;pee();var a=N.useMemo(function(){return dee(i)},[i]);return N.createElement(fee,{styles:hee(a,!e,i,r?"":"!important")})},DC=!1;if(typeof window<"u")try{var B0=Object.defineProperty({},"passive",{get:function(){return DC=!0,!0}});window.addEventListener("test",B0,B0),window.removeEventListener("test",B0,B0)}catch{DC=!1}var kd=DC?{passive:!1}:!1,gee=function(t){return t.tagName==="TEXTAREA"},g9=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!gee(t)&&r[e]==="visible")},vee=function(t){return g9(t,"overflowY")},yee=function(t){return g9(t,"overflowX")},NI=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=v9(t,n);if(i){var a=y9(t,n),s=a[1],l=a[2];if(s>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},xee=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},wee=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},v9=function(t,e){return t==="v"?vee(e):yee(e)},y9=function(t,e){return t==="v"?xee(e):wee(e)},bee=function(t,e){return t==="h"&&e==="rtl"?-1:1},_ee=function(t,e,r,n,i){var a=bee(t,window.getComputedStyle(e).direction),s=a*n,l=r.target,d=e.contains(l),h=!1,g=s>0,v=0,b=0;do{if(!l)break;var S=y9(t,l),O=S[0],E=S[1],C=S[2],j=E-C-a*O;(O||j)&&v9(t,l)&&(v+=j,b+=O);var P=l.parentNode;l=P&&P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?P.host:P}while(!d&&l!==document.body||d&&(e.contains(l)||e===l));return(g&&Math.abs(v)<1||!g&&Math.abs(b)<1)&&(h=!0),h},F0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},kI=function(t){return[t.deltaX,t.deltaY]},PI=function(t){return t&&"current"in t?t.current:t},See=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Eee=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Cee=0,Pd=[];function Aee(t){var e=N.useRef([]),r=N.useRef([0,0]),n=N.useRef(),i=N.useState(Cee++)[0],a=N.useState(m9)[0],s=N.useRef(t);N.useEffect(function(){s.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var E=gT([t.lockRef.current],(t.shards||[]).map(PI),!0).filter(Boolean);return E.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),E.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=N.useCallback(function(E,C){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!s.current.allowPinchZoom;var j=F0(E),P=r.current,I="deltaX"in E?E.deltaX:P[0]-j[0],F="deltaY"in E?E.deltaY:P[1]-j[1],R,M=E.target,B=Math.abs(I)>Math.abs(F)?"h":"v";if("touches"in E&&B==="h"&&M.type==="range")return!1;var q=NI(B,M);if(!q)return!0;if(q?R=B:(R=B==="v"?"h":"v",q=NI(B,M)),!q)return!1;if(!n.current&&"changedTouches"in E&&(I||F)&&(n.current=R),!R)return!0;var U=n.current||R;return _ee(U,C,E,U==="h"?I:F)},[]),d=N.useCallback(function(E){var C=E;if(!(!Pd.length||Pd[Pd.length-1]!==a)){var j="deltaY"in C?kI(C):F0(C),P=e.current.filter(function(R){return R.name===C.type&&(R.target===C.target||C.target===R.shadowParent)&&See(R.delta,j)})[0];if(P&&P.should){C.cancelable&&C.preventDefault();return}if(!P){var I=(s.current.shards||[]).map(PI).filter(Boolean).filter(function(R){return R.contains(C.target)}),F=I.length>0?l(C,I[0]):!s.current.noIsolation;F&&C.cancelable&&C.preventDefault()}}},[]),h=N.useCallback(function(E,C,j,P){var I={name:E,delta:C,target:j,should:P,shadowParent:Oee(j)};e.current.push(I),setTimeout(function(){e.current=e.current.filter(function(F){return F!==I})},1)},[]),g=N.useCallback(function(E){r.current=F0(E),n.current=void 0},[]),v=N.useCallback(function(E){h(E.type,kI(E),E.target,l(E,t.lockRef.current))},[]),b=N.useCallback(function(E){h(E.type,F0(E),E.target,l(E,t.lockRef.current))},[]);N.useEffect(function(){return Pd.push(a),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:b}),document.addEventListener("wheel",d,kd),document.addEventListener("touchmove",d,kd),document.addEventListener("touchstart",g,kd),function(){Pd=Pd.filter(function(E){return E!==a}),document.removeEventListener("wheel",d,kd),document.removeEventListener("touchmove",d,kd),document.removeEventListener("touchstart",g,kd)}},[]);var S=t.removeScrollBar,O=t.inert;return N.createElement(N.Fragment,null,O?N.createElement(a,{styles:Eee(i)}):null,S?N.createElement(mee,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Oee(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Tee=ree(p9,Aee);var eg=N.forwardRef(function(t,e){return N.createElement(j1,ss({},t,{ref:e,sideCar:Tee}))});eg.classNames=j1.classNames;var LC=["Enter"," "],Nee=["ArrowDown","PageUp","Home"],x9=["ArrowUp","PageDown","End"],kee=[...Nee,...x9],Pee={ltr:[...LC,"ArrowRight"],rtl:[...LC,"ArrowLeft"]},jee={ltr:["ArrowLeft"],rtl:["ArrowRight"]},tg="Menu",[Jp,Iee,Ree]=d1(tg),[Gu,w9]=Zi(tg,[Ree,mc,N1]),I1=mc(),b9=N1(),[Mee,Ku]=Gu(tg),[Dee,rg]=Gu(tg),_9=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:a,modal:s=!0}=t,l=I1(e),[d,h]=N.useState(null),g=N.useRef(!1),v=Xi(a),b=O1(i);return N.useEffect(()=>{const S=()=>{g.current=!0,document.addEventListener("pointerdown",O,{capture:!0,once:!0}),document.addEventListener("pointermove",O,{capture:!0,once:!0})},O=()=>g.current=!1;return document.addEventListener("keydown",S,{capture:!0}),()=>{document.removeEventListener("keydown",S,{capture:!0}),document.removeEventListener("pointerdown",O,{capture:!0}),document.removeEventListener("pointermove",O,{capture:!0})}},[]),f.jsx(y1,{...l,children:f.jsx(Mee,{scope:e,open:r,onOpenChange:v,content:d,onContentChange:h,children:f.jsx(Dee,{scope:e,onClose:N.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:g,dir:b,modal:s,children:n})})})};_9.displayName=tg;var Lee="MenuAnchor",vT=N.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=I1(r);return f.jsx(Ym,{...i,...n,ref:e})});vT.displayName=Lee;var yT="MenuPortal",[Bee,S9]=Gu(yT,{forceMount:void 0}),E9=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,a=Ku(yT,e);return f.jsx(Bee,{scope:e,forceMount:r,children:f.jsx(ma,{present:r||a.open,children:f.jsx(sh,{asChild:!0,container:i,children:n})})})};E9.displayName=yT;var fs="MenuContent",[Fee,xT]=Gu(fs),C9=N.forwardRef((t,e)=>{const r=S9(fs,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=Ku(fs,t.__scopeMenu),s=rg(fs,t.__scopeMenu);return f.jsx(Jp.Provider,{scope:t.__scopeMenu,children:f.jsx(ma,{present:n||a.open,children:f.jsx(Jp.Slot,{scope:t.__scopeMenu,children:s.modal?f.jsx($ee,{...i,ref:e}):f.jsx(Uee,{...i,ref:e})})})})}),$ee=N.forwardRef((t,e)=>{const r=Ku(fs,t.__scopeMenu),n=N.useRef(null),i=lr(e,n);return N.useEffect(()=>{const a=n.current;if(a)return k1(a)},[]),f.jsx(wT,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:it(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Uee=N.forwardRef((t,e)=>{const r=Ku(fs,t.__scopeMenu);return f.jsx(wT,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Vee=cc("MenuContent.ScrollLock"),wT=N.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:b,onDismiss:S,disableOutsideScroll:O,...E}=t,C=Ku(fs,r),j=rg(fs,r),P=I1(r),I=b9(r),F=Iee(r),[R,M]=N.useState(null),B=N.useRef(null),q=lr(e,B,C.onContentChange),U=N.useRef(0),z=N.useRef(""),G=N.useRef(0),W=N.useRef(null),H=N.useRef("right"),Q=N.useRef(0),X=O?eg:N.Fragment,se=O?{as:Vee,allowPinchZoom:!0}:void 0,ne=J=>{const he=z.current+J,ie=F().filter(Te=>!Te.disabled),le=document.activeElement,we=ie.find(Te=>Te.ref.current===le)?.textValue,ke=ie.map(Te=>Te.textValue),qe=ete(ke,he,we),je=ie.find(Te=>Te.textValue===qe)?.ref.current;(function Te(De){z.current=De,window.clearTimeout(U.current),De!==""&&(U.current=window.setTimeout(()=>Te(""),1e3))})(he),je&&setTimeout(()=>je.focus())};N.useEffect(()=>()=>window.clearTimeout(U.current),[]),T1();const re=N.useCallback(J=>H.current===W.current?.side&&rte(J,W.current?.area),[]);return f.jsx(Fee,{scope:r,searchRef:z,onItemEnter:N.useCallback(J=>{re(J)&&J.preventDefault()},[re]),onItemLeave:N.useCallback(J=>{re(J)||(B.current?.focus(),M(null))},[re]),onTriggerLeave:N.useCallback(J=>{re(J)&&J.preventDefault()},[re]),pointerGraceTimerRef:G,onPointerGraceIntentChange:N.useCallback(J=>{W.current=J},[]),children:f.jsx(X,{...se,children:f.jsx(Qm,{asChild:!0,trapped:i,onMountAutoFocus:it(a,J=>{J.preventDefault(),B.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:f.jsx(qu,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:h,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:b,onDismiss:S,children:f.jsx($7,{asChild:!0,...I,dir:j.dir,orientation:"vertical",loop:n,currentTabStopId:R,onCurrentTabStopIdChange:M,onEntryFocus:it(d,J=>{j.isUsingKeyboardRef.current||J.preventDefault()}),preventScrollOnEntryFocus:!0,children:f.jsx(x1,{role:"menu","aria-orientation":"vertical","data-state":U9(C.open),"data-radix-menu-content":"",dir:j.dir,...P,...E,ref:q,style:{outline:"none",...E.style},onKeyDown:it(E.onKeyDown,J=>{const ie=J.target.closest("[data-radix-menu-content]")===J.currentTarget,le=J.ctrlKey||J.altKey||J.metaKey,we=J.key.length===1;ie&&(J.key==="Tab"&&J.preventDefault(),!le&&we&&ne(J.key));const ke=B.current;if(J.target!==ke||!kee.includes(J.key))return;J.preventDefault();const je=F().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);x9.includes(J.key)&&je.reverse(),Qee(je)}),onBlur:it(t.onBlur,J=>{J.currentTarget.contains(J.target)||(window.clearTimeout(U.current),z.current="")}),onPointerMove:it(t.onPointerMove,em(J=>{const he=J.target,ie=Q.current!==J.clientX;if(J.currentTarget.contains(he)&&ie){const le=J.clientX>Q.current?"right":"left";H.current=le,Q.current=J.clientX}}))})})})})})})});C9.displayName=fs;var Wee="MenuGroup",bT=N.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return f.jsx(Ot.div,{role:"group",...n,ref:e})});bT.displayName=Wee;var qee="MenuLabel",A9=N.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return f.jsx(Ot.div,{...n,ref:e})});A9.displayName=qee;var Lv="MenuItem",jI="menu.itemSelect",R1=N.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,a=N.useRef(null),s=rg(Lv,t.__scopeMenu),l=xT(Lv,t.__scopeMenu),d=lr(e,a),h=N.useRef(!1),g=()=>{const v=a.current;if(!r&&v){const b=new CustomEvent(jI,{bubbles:!0,cancelable:!0});v.addEventListener(jI,S=>n?.(S),{once:!0}),$O(v,b),b.defaultPrevented?h.current=!1:s.onClose()}};return f.jsx(O9,{...i,ref:d,disabled:r,onClick:it(t.onClick,g),onPointerDown:v=>{t.onPointerDown?.(v),h.current=!0},onPointerUp:it(t.onPointerUp,v=>{h.current||v.currentTarget?.click()}),onKeyDown:it(t.onKeyDown,v=>{const b=l.searchRef.current!=="";r||b&&v.key===" "||LC.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});R1.displayName=Lv;var O9=N.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=t,s=xT(Lv,r),l=b9(r),d=N.useRef(null),h=lr(e,d),[g,v]=N.useState(!1),[b,S]=N.useState("");return N.useEffect(()=>{const O=d.current;O&&S((O.textContent??"").trim())},[a.children]),f.jsx(Jp.ItemSlot,{scope:r,disabled:n,textValue:i??b,children:f.jsx(U7,{asChild:!0,...l,focusable:!n,children:f.jsx(Ot.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:h,onPointerMove:it(t.onPointerMove,em(O=>{n?s.onItemLeave(O):(s.onItemEnter(O),O.defaultPrevented||O.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:it(t.onPointerLeave,em(O=>s.onItemLeave(O))),onFocus:it(t.onFocus,()=>v(!0)),onBlur:it(t.onBlur,()=>v(!1))})})})}),zee="MenuCheckboxItem",T9=N.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return f.jsx(I9,{scope:t.__scopeMenu,checked:r,children:f.jsx(R1,{role:"menuitemcheckbox","aria-checked":Bv(r)?"mixed":r,...i,ref:e,"data-state":ST(r),onSelect:it(i.onSelect,()=>n?.(Bv(r)?!0:!r),{checkForDefaultPrevented:!1})})})});T9.displayName=zee;var N9="MenuRadioGroup",[Hee,Gee]=Gu(N9,{value:void 0,onValueChange:()=>{}}),k9=N.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,a=Xi(n);return f.jsx(Hee,{scope:t.__scopeMenu,value:r,onValueChange:a,children:f.jsx(bT,{...i,ref:e})})});k9.displayName=N9;var P9="MenuRadioItem",j9=N.forwardRef((t,e)=>{const{value:r,...n}=t,i=Gee(P9,t.__scopeMenu),a=r===i.value;return f.jsx(I9,{scope:t.__scopeMenu,checked:a,children:f.jsx(R1,{role:"menuitemradio","aria-checked":a,...n,ref:e,"data-state":ST(a),onSelect:it(n.onSelect,()=>i.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});j9.displayName=P9;var _T="MenuItemIndicator",[I9,Kee]=Gu(_T,{checked:!1}),R9=N.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,a=Kee(_T,r);return f.jsx(ma,{present:n||Bv(a.checked)||a.checked===!0,children:f.jsx(Ot.span,{...i,ref:e,"data-state":ST(a.checked)})})});R9.displayName=_T;var Yee="MenuSeparator",M9=N.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return f.jsx(Ot.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});M9.displayName=Yee;var Xee="MenuArrow",D9=N.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=I1(r);return f.jsx(w1,{...i,...n,ref:e})});D9.displayName=Xee;var Zee="MenuSub",[bOe,L9]=Gu(Zee),Sp="MenuSubTrigger",B9=N.forwardRef((t,e)=>{const r=Ku(Sp,t.__scopeMenu),n=rg(Sp,t.__scopeMenu),i=L9(Sp,t.__scopeMenu),a=xT(Sp,t.__scopeMenu),s=N.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=a,h={__scopeMenu:t.__scopeMenu},g=N.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return N.useEffect(()=>g,[g]),N.useEffect(()=>{const v=l.current;return()=>{window.clearTimeout(v),d(null)}},[l,d]),f.jsx(vT,{asChild:!0,...h,children:f.jsx(O9,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":U9(r.open),...t,ref:u1(e,i.onTriggerChange),onClick:v=>{t.onClick?.(v),!(t.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:it(t.onPointerMove,em(v=>{a.onItemEnter(v),!v.defaultPrevented&&!t.disabled&&!r.open&&!s.current&&(a.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{r.onOpenChange(!0),g()},100))})),onPointerLeave:it(t.onPointerLeave,em(v=>{g();const b=r.content?.getBoundingClientRect();if(b){const S=r.content?.dataset.side,O=S==="right",E=O?-5:5,C=b[O?"left":"right"],j=b[O?"right":"left"];a.onPointerGraceIntentChange({area:[{x:v.clientX+E,y:v.clientY},{x:C,y:b.top},{x:j,y:b.top},{x:j,y:b.bottom},{x:C,y:b.bottom}],side:S}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(v),v.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:it(t.onKeyDown,v=>{const b=a.searchRef.current!=="";t.disabled||b&&v.key===" "||Pee[n.dir].includes(v.key)&&(r.onOpenChange(!0),r.content?.focus(),v.preventDefault())})})})});B9.displayName=Sp;var F9="MenuSubContent",$9=N.forwardRef((t,e)=>{const r=S9(fs,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=Ku(fs,t.__scopeMenu),s=rg(fs,t.__scopeMenu),l=L9(F9,t.__scopeMenu),d=N.useRef(null),h=lr(e,d);return f.jsx(Jp.Provider,{scope:t.__scopeMenu,children:f.jsx(ma,{present:n||a.open,children:f.jsx(Jp.Slot,{scope:t.__scopeMenu,children:f.jsx(wT,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:h,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{s.isUsingKeyboardRef.current&&d.current?.focus(),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:it(t.onFocusOutside,g=>{g.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:it(t.onEscapeKeyDown,g=>{s.onClose(),g.preventDefault()}),onKeyDown:it(t.onKeyDown,g=>{const v=g.currentTarget.contains(g.target),b=jee[s.dir].includes(g.key);v&&b&&(a.onOpenChange(!1),l.trigger?.focus(),g.preventDefault())})})})})})});$9.displayName=F9;function U9(t){return t?"open":"closed"}function Bv(t){return t==="indeterminate"}function ST(t){return Bv(t)?"indeterminate":t?"checked":"unchecked"}function Qee(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function Jee(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function ete(t,e,r){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let s=Jee(t,Math.max(a,0));i.length===1&&(s=s.filter(h=>h!==r));const d=s.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return d!==r?d:void 0}function tte(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const l=e[a],d=e[s],h=l.x,g=l.y,v=d.x,b=d.y;g>n!=b>n&&r<(v-h)*(n-g)/(b-g)+h&&(i=!i)}return i}function rte(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return tte(r,e)}function em(t){return e=>e.pointerType==="mouse"?t(e):void 0}var nte=_9,ite=vT,ate=E9,ste=C9,ote=bT,lte=A9,cte=R1,ute=T9,dte=k9,fte=j9,hte=R9,pte=M9,mte=D9,gte=B9,vte=$9,M1="DropdownMenu",[yte]=Zi(M1,[w9]),Qi=w9(),[xte,V9]=yte(M1),W9=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:s,modal:l=!0}=t,d=Qi(e),h=N.useRef(null),[g,v]=Vs({prop:i,defaultProp:a??!1,onChange:s,caller:M1});return f.jsx(xte,{scope:e,triggerId:ds(),triggerRef:h,contentId:ds(),open:g,onOpenChange:v,onOpenToggle:N.useCallback(()=>v(b=>!b),[v]),modal:l,children:f.jsx(nte,{...d,open:g,onOpenChange:v,dir:n,modal:l,children:r})})};W9.displayName=M1;var q9="DropdownMenuTrigger",z9=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,a=V9(q9,r),s=Qi(r);return f.jsx(ite,{asChild:!0,...s,children:f.jsx(Ot.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:u1(e,a.triggerRef),onPointerDown:it(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:it(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});z9.displayName=q9;var wte="DropdownMenuPortal",H9=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Qi(e);return f.jsx(ate,{...n,...r})};H9.displayName=wte;var G9="DropdownMenuContent",K9=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=V9(G9,r),a=Qi(r),s=N.useRef(!1);return f.jsx(ste,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:e,onCloseAutoFocus:it(t.onCloseAutoFocus,l=>{s.current||i.triggerRef.current?.focus(),s.current=!1,l.preventDefault()}),onInteractOutside:it(t.onInteractOutside,l=>{const d=l.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,g=d.button===2||h;(!i.modal||g)&&(s.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});K9.displayName=G9;var bte="DropdownMenuGroup",_te=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Qi(r);return f.jsx(ote,{...i,...n,ref:e})});_te.displayName=bte;var Ste="DropdownMenuLabel",Y9=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Qi(r);return f.jsx(lte,{...i,...n,ref:e})});Y9.displayName=Ste;var Ete="DropdownMenuItem",X9=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Qi(r);return f.jsx(cte,{...i,...n,ref:e})});X9.displayName=Ete;var Cte="DropdownMenuCheckboxItem",Z9=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Qi(r);return f.jsx(ute,{...i,...n,ref:e})});Z9.displayName=Cte;var Ate="DropdownMenuRadioGroup",Ote=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Qi(r);return f.jsx(dte,{...i,...n,ref:e})});Ote.displayName=Ate;var Tte="DropdownMenuRadioItem",Q9=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Qi(r);return f.jsx(fte,{...i,...n,ref:e})});Q9.displayName=Tte;var Nte="DropdownMenuItemIndicator",J9=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Qi(r);return f.jsx(hte,{...i,...n,ref:e})});J9.displayName=Nte;var kte="DropdownMenuSeparator",eF=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Qi(r);return f.jsx(pte,{...i,...n,ref:e})});eF.displayName=kte;var Pte="DropdownMenuArrow",jte=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Qi(r);return f.jsx(mte,{...i,...n,ref:e})});jte.displayName=Pte;var Ite="DropdownMenuSubTrigger",tF=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Qi(r);return f.jsx(gte,{...i,...n,ref:e})});tF.displayName=Ite;var Rte="DropdownMenuSubContent",rF=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Qi(r);return f.jsx(vte,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rF.displayName=Rte;var Mte=W9,Dte=z9,Lte=H9,nF=K9,iF=Y9,aF=X9,sF=Z9,oF=Q9,lF=J9,cF=eF,uF=tF,dF=rF;const fF=Mte,hF=Dte,Bte=N.forwardRef(({className:t,inset:e,children:r,...n},i)=>f.jsxs(uF,{ref:i,className:Me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...n,children:[r,f.jsx(GO,{className:"ml-auto h-4 w-4"})]}));Bte.displayName=uF.displayName;const Fte=N.forwardRef(({className:t,...e},r)=>f.jsx(dF,{ref:r,className:Me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Fte.displayName=dF.displayName;const ET=N.forwardRef(({className:t,sideOffset:e=4,...r},n)=>f.jsx(Lte,{children:f.jsx(nF,{ref:n,sideOffset:e,className:Me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));ET.displayName=nF.displayName;const Ql=N.forwardRef(({className:t,inset:e,...r},n)=>f.jsx(aF,{ref:n,className:Me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...r}));Ql.displayName=aF.displayName;const $te=N.forwardRef(({className:t,children:e,checked:r,...n},i)=>f.jsxs(sF,{ref:i,className:Me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:r,...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(lF,{children:f.jsx(HO,{className:"h-4 w-4"})})}),e]}));$te.displayName=sF.displayName;const Ute=N.forwardRef(({className:t,children:e,...r},n)=>f.jsxs(oF,{ref:n,className:Me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(lF,{children:f.jsx(NK,{className:"h-2 w-2 fill-current"})})}),e]}));Ute.displayName=oF.displayName;const CT=N.forwardRef(({className:t,inset:e,...r},n)=>f.jsx(iF,{ref:n,className:Me("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));CT.displayName=iF.displayName;const Fv=N.forwardRef(({className:t,...e},r)=>f.jsx(cF,{ref:r,className:Me("-mx-1 my-1 h-px bg-muted",t),...e}));Fv.displayName=cF.displayName;function Vte(){const t=Ai();return f.jsx("header",{className:"sticky top-0 z-40 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:f.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("h1",{className:"text-xl font-bold text-primary",children:"marsspace"})}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs(He,{onClick:()=>t("/classes"),className:"gap-2",variant:"default",children:[f.jsx(Bi,{className:"h-4 w-4"}),"Book Class"]}),f.jsxs(fF,{children:[f.jsx(hF,{asChild:!0,children:f.jsx(He,{variant:"ghost",size:"icon",className:"rounded-full",children:f.jsxs(fT,{className:"h-9 w-9",children:[f.jsx(hT,{src:"",alt:"User"}),f.jsx(pT,{className:"bg-primary text-primary-foreground",children:f.jsx(rf,{className:"h-5 w-5"})})]})})}),f.jsxs(ET,{align:"end",className:"w-56",children:[f.jsx(CT,{children:"My Account"}),f.jsx(Fv,{}),f.jsxs(Ql,{onClick:()=>t("/dashboard"),children:[f.jsx(rf,{className:"mr-2 h-4 w-4"}),"Profile"]}),f.jsxs(Ql,{onClick:()=>t("/dashboard"),children:[f.jsx(VK,{className:"mr-2 h-4 w-4"}),"Settings"]}),f.jsx(Fv,{}),f.jsxs(Ql,{onClick:()=>t("/login"),children:[f.jsx(pB,{className:"mr-2 h-4 w-4"}),"Log out"]})]})]})]})]})})}const Wte=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class AT extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class qte extends AT{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class II extends AT{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class RI extends AT{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var BC;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(BC||(BC={}));class zte{constructor(e,{headers:r={},customFetch:n,region:i=BC.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=Wte(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return _t(this,arguments,void 0,function*(r,n={}){var i;let a,s;try{const{headers:l,method:d,body:h,signal:g,timeout:v}=n;let b={},{region:S}=n;S||(S=this.region);const O=new URL(`${this.url}/${r}`);S&&S!=="any"&&(b["x-region"]=S,O.searchParams.set("forceFunctionRegion",S));let E;h&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",E=h):typeof h=="string"?(b["Content-Type"]="text/plain",E=h):typeof FormData<"u"&&h instanceof FormData?E=h:(b["Content-Type"]="application/json",E=JSON.stringify(h)):E=h;let C=g;v&&(s=new AbortController,a=setTimeout(()=>s.abort(),v),g?(C=s.signal,g.addEventListener("abort",()=>s.abort())):C=s.signal);const j=yield this.fetch(O.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),l),body:E,signal:C}).catch(R=>{throw new qte(R)}),P=j.headers.get("x-relay-error");if(P&&P==="true")throw new II(j);if(!j.ok)throw new RI(j);let I=((i=j.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),F;return I==="application/json"?F=yield j.json():I==="application/octet-stream"||I==="application/pdf"?F=yield j.blob():I==="text/event-stream"?F=j:I==="multipart/form-data"?F=yield j.formData():F=yield j.text(),{data:F,error:null,response:j}}catch(l){return{data:null,error:l,response:l instanceof RI||l instanceof II?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var Ri={};const dh=gG(GJ);var $0={},U0={},V0={},W0={},q0={},z0={},MI;function pF(){if(MI)return z0;MI=1,Object.defineProperty(z0,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return z0.default=t,z0}var DI;function mF(){if(DI)return q0;DI=1,Object.defineProperty(q0,"__esModule",{value:!0});const e=dh.__importDefault(pF());class r{constructor(i){var a,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let l=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,g,v,b;let S=null,O=null,E=null,C=d.status,j=d.statusText;if(d.ok){if(this.method!=="HEAD"){const R=await d.text();R===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?O=R:O=JSON.parse(R))}const I=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),F=(v=d.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");I&&F&&F.length>1&&(E=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(O)&&(O.length>1?(S={code:"PGRST116",details:`Results contain ${O.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},O=null,E=null,C=406,j="Not Acceptable"):O.length===1?O=O[0]:O=null)}else{const I=await d.text();try{S=JSON.parse(I),Array.isArray(S)&&d.status===404&&(O=[],S=null,C=200,j="OK")}catch{d.status===404&&I===""?(C=204,j="No Content"):S={message:I}}if(S&&this.isMaybeSingle&&(!((b=S?.details)===null||b===void 0)&&b.includes("0 rows"))&&(S=null,C=200,j="OK"),S&&this.shouldThrowOnError)throw new e.default(S)}return{error:S,data:O,count:E,status:C,statusText:j}});return this.shouldThrowOnError||(l=l.catch(d=>{var h,g,v;return{error:{message:`${(h=d?.name)!==null&&h!==void 0?h:"FetchError"}: ${d?.message}`,details:`${(g=d?.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(v=d?.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,a)}returns(){return this}overrideTypes(){return this}}return q0.default=r,q0}var LI;function gF(){if(LI)return W0;LI=1,Object.defineProperty(W0,"__esModule",{value:!0});const e=dh.__importDefault(mF());class r extends e.default{select(i){let a=!1;const s=(i??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:s,foreignTable:l,referencedTable:d=l}={}){const h=d?`${d}.order`:"order",g=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${g?`${g},`:""}${i}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:s=a}={}){const l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,a,{foreignTable:s,referencedTable:l=s}={}){const d=typeof l>"u"?"offset":`${l}.offset`,h=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(h,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:s=!1,buffers:l=!1,wal:d=!1,format:h="text"}={}){var g;const v=[i?"analyze":null,a?"verbose":null,s?"settings":null,l?"buffers":null,d?"wal":null].filter(Boolean).join("|"),b=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${b}"; options=${v};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return W0.default=r,W0}var BI;function OT(){if(BI)return V0;BI=1,Object.defineProperty(V0,"__esModule",{value:!0});const e=dh.__importDefault(gF()),r=new RegExp("[,()]");class n extends e.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}in(a,s){const l=Array.from(new Set(s)).map(d=>typeof d=="string"&&r.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:l,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const g=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${h}fts${g}.${s}`),this}match(a){return Object.entries(a).forEach(([s,l])=>{this.url.searchParams.append(s,`eq.${l}`)}),this}not(a,s,l){return this.url.searchParams.append(a,`not.${s}.${l}`),this}or(a,{foreignTable:s,referencedTable:l=s}={}){const d=l?`${l}.or`:"or";return this.url.searchParams.append(d,`(${a})`),this}filter(a,s,l){return this.url.searchParams.append(a,`${s}.${l}`),this}}return V0.default=n,V0}var FI;function vF(){if(FI)return U0;FI=1,Object.defineProperty(U0,"__esModule",{value:!0});const e=dh.__importDefault(OT());class r{constructor(i,{headers:a={},schema:s,fetch:l}){this.url=i,this.headers=new Headers(a),this.schema=s,this.fetch=l}select(i,a){const{head:s=!1,count:l}=a??{},d=s?"HEAD":"GET";let h=!1;const g=(i??"*").split("").map(v=>/\s/.test(v)&&!h?"":(v==='"'&&(h=!h),v)).join("");return this.url.searchParams.set("select",g),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:s=!0}={}){var l;const d="POST";if(a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(h.length>0){const g=[...new Set(h)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:s=!1,count:l,defaultToNull:d=!0}={}){var h;const g="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const v=i.reduce((b,S)=>b.concat(Object.keys(S)),[]);if(v.length>0){const b=[...new Set(v)].map(S=>`"${S}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:a}={}){var s;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var a;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return U0.default=r,U0}var $I;function Hte(){if($I)return $0;$I=1,Object.defineProperty($0,"__esModule",{value:!0});const t=dh,e=t.__importDefault(vF()),r=t.__importDefault(OT());class n{constructor(a,{headers:s={},schema:l,fetch:d}={}){this.url=a,this.headers=new Headers(s),this.schemaName=l,this.fetch=d}from(a){const s=new URL(`${this.url}/${a}`);return new e.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,s={},{head:l=!1,get:d=!1,count:h}={}){var g;let v;const b=new URL(`${this.url}/rpc/${a}`);let S;l||d?(v=l?"HEAD":"GET",Object.entries(s).filter(([E,C])=>C!==void 0).map(([E,C])=>[E,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([E,C])=>{b.searchParams.append(E,C)})):(v="POST",S=s);const O=new Headers(this.headers);return h&&O.set("Prefer",`count=${h}`),new r.default({method:v,url:b,headers:O,schema:this.schemaName,body:S,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return $0.default=n,$0}var UI;function Gte(){if(UI)return Ri;UI=1,Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.PostgrestError=Ri.PostgrestBuilder=Ri.PostgrestTransformBuilder=Ri.PostgrestFilterBuilder=Ri.PostgrestQueryBuilder=Ri.PostgrestClient=void 0;const t=dh,e=t.__importDefault(Hte());Ri.PostgrestClient=e.default;const r=t.__importDefault(vF());Ri.PostgrestQueryBuilder=r.default;const n=t.__importDefault(OT());Ri.PostgrestFilterBuilder=n.default;const i=t.__importDefault(gF());Ri.PostgrestTransformBuilder=i.default;const a=t.__importDefault(mF());Ri.PostgrestBuilder=a.default;const s=t.__importDefault(pF());return Ri.PostgrestError=s.default,Ri.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:s.default},Ri}var yF=Gte();const xF=Cr(yF),Kte=BO({__proto__:null,default:xF},[yF]),{PostgrestClient:Yte,PostgrestQueryBuilder:_Oe,PostgrestFilterBuilder:SOe,PostgrestTransformBuilder:EOe,PostgrestBuilder:COe,PostgrestError:AOe}=xF||Kte;class Xte{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Zte="2.81.1",Qte=`realtime-js/${Zte}`,wF="1.0.0",Jte="2.0.0",VI=wF,FC=1e4,ere=1e3,tre=100;var lu;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(lu||(lu={}));var ri;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ri||(ri={}));var is;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(is||(is={}));var $C;(function(t){t.websocket="websocket"})($C||($C={}));var cu;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(cu||(cu={}));class rre{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,r){if(this._isArrayBuffer(e.payload))return r(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodePush(e){const{join_ref:r,ref:n,event:i,topic:a,payload:s}=e,l=this.META_LENGTH+r.length+n.length+a.length+i.length,d=new ArrayBuffer(this.HEADER_LENGTH+l);let h=new DataView(d),g=0;h.setUint8(g++,this.KINDS.push),h.setUint8(g++,r.length),h.setUint8(g++,n.length),h.setUint8(g++,a.length),h.setUint8(g++,i.length),Array.from(r,b=>h.setUint8(g++,b.charCodeAt(0))),Array.from(n,b=>h.setUint8(g++,b.charCodeAt(0))),Array.from(a,b=>h.setUint8(g++,b.charCodeAt(0))),Array.from(i,b=>h.setUint8(g++,b.charCodeAt(0)));var v=new Uint8Array(d.byteLength+s.byteLength);return v.set(new Uint8Array(d),0),v.set(new Uint8Array(s),d.byteLength),v.buffer}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const{join_ref:i,ref:a,topic:s}=e,l=e.payload.event,d=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),h=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+s.length+l.length,g=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(g),b=0;v.setUint8(b++,this.KINDS.userBroadcastPush),v.setUint8(b++,i.length),v.setUint8(b++,a.length),v.setUint8(b++,s.length),v.setUint8(b++,l.length),v.setUint8(b++,this.BINARY_ENCODING),Array.from(i,O=>v.setUint8(b++,O.charCodeAt(0))),Array.from(a,O=>v.setUint8(b++,O.charCodeAt(0))),Array.from(s,O=>v.setUint8(b++,O.charCodeAt(0))),Array.from(l,O=>v.setUint8(b++,O.charCodeAt(0)));var S=new Uint8Array(g.byteLength+d.byteLength);return S.set(new Uint8Array(g),0),S.set(new Uint8Array(d),g.byteLength),S.buffer}_encodeJsonUserBroadcastPush(e){var r,n;const{join_ref:i,ref:a,topic:s}=e,l=e.payload.event,d=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},g=new TextEncoder().encode(JSON.stringify(d)).buffer,v=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+s.length+l.length,b=new ArrayBuffer(this.HEADER_LENGTH+v);let S=new DataView(b),O=0;S.setUint8(O++,this.KINDS.userBroadcastPush),S.setUint8(O++,i.length),S.setUint8(O++,a.length),S.setUint8(O++,s.length),S.setUint8(O++,l.length),S.setUint8(O++,this.JSON_ENCODING),Array.from(i,C=>S.setUint8(O++,C.charCodeAt(0))),Array.from(a,C=>S.setUint8(O++,C.charCodeAt(0))),Array.from(s,C=>S.setUint8(O++,C.charCodeAt(0))),Array.from(l,C=>S.setUint8(O++,C.charCodeAt(0)));var E=new Uint8Array(b.byteLength+g.byteLength);return E.set(new Uint8Array(b),0),E.set(new Uint8Array(g),b.byteLength),E.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,a,s,l,d]=n;return r({join_ref:i,ref:a,topic:s,event:l,payload:d})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(e,r,i);case this.KINDS.reply:return this._decodeReply(e,r,i);case this.KINDS.broadcast:return this._decodeBroadcast(e,r,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodePush(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3);let l=this.HEADER_LENGTH+this.META_LENGTH-1;const d=n.decode(e.slice(l,l+i));l=l+i;const h=n.decode(e.slice(l,l+a));l=l+a;const g=n.decode(e.slice(l,l+s));l=l+s;const v=JSON.parse(n.decode(e.slice(l,e.byteLength)));return{join_ref:d,ref:null,topic:h,event:g,payload:v}}_decodeReply(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),l=r.getUint8(4);let d=this.HEADER_LENGTH+this.META_LENGTH;const h=n.decode(e.slice(d,d+i));d=d+i;const g=n.decode(e.slice(d,d+a));d=d+a;const v=n.decode(e.slice(d,d+s));d=d+s;const b=n.decode(e.slice(d,d+l));d=d+l;const S=JSON.parse(n.decode(e.slice(d,e.byteLength))),O={status:b,response:S};return{join_ref:h,ref:g,topic:v,event:is.reply,payload:O}}_decodeBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const l=n.decode(e.slice(s,s+i));s=s+i;const d=n.decode(e.slice(s,s+a));s=s+a;const h=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{join_ref:null,ref:null,topic:l,event:d,payload:h}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),l=r.getUint8(4);let d=this.HEADER_LENGTH+4;const h=n.decode(e.slice(d,d+i));d=d+i;const g=n.decode(e.slice(d,d+a));d=d+a;const v=n.decode(e.slice(d,d+s));d=d+s;const b=e.slice(d,e.byteLength),S=l===this.JSON_ENCODING?JSON.parse(n.decode(b)):b,O={type:this.BROADCAST,event:g,payload:S};return s>0&&(O.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST,payload:O}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class bF{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Jr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Jr||(Jr={}));const WI=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((a,s)=>(a[s]=nre(s,t,e,i),a),{}):{}},nre=(t,e,r,n)=>{const i=e.find(l=>l.name===t),a=i?.type,s=r[t];return a&&!n.includes(a)?_F(a,s):UC(s)},_F=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return ore(e,r)}switch(t){case Jr.bool:return ire(e);case Jr.float4:case Jr.float8:case Jr.int2:case Jr.int4:case Jr.int8:case Jr.numeric:case Jr.oid:return are(e);case Jr.json:case Jr.jsonb:return sre(e);case Jr.timestamp:return lre(e);case Jr.abstime:case Jr.date:case Jr.daterange:case Jr.int4range:case Jr.int8range:case Jr.money:case Jr.reltime:case Jr.text:case Jr.time:case Jr.timestamptz:case Jr.timetz:case Jr.tsrange:case Jr.tstzrange:return UC(e);default:return UC(e)}},UC=t=>t,ire=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},are=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},sre=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ore=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const s=t.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(l=>_F(e,l))}return t},lre=t=>typeof t=="string"?t.replace(" ","T"):t,SF=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Sb{constructor(e,r,n={},i=FC){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var qI;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(qI||(qI={}));class Pp{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pp.syncState(this.state,i,a,s),this.pendingDiffs.forEach(d=>{this.state=Pp.syncDiff(this.state,d,a,s)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Pp.syncDiff(this.state,i,a,s),l())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),s=this.transformState(r),l={},d={};return this.map(a,(h,g)=>{s[h]||(d[h]=g)}),this.map(s,(h,g)=>{const v=a[h];if(v){const b=g.map(C=>C.presence_ref),S=v.map(C=>C.presence_ref),O=g.filter(C=>S.indexOf(C.presence_ref)<0),E=v.filter(C=>b.indexOf(C.presence_ref)<0);O.length>0&&(l[h]=O),E.length>0&&(d[h]=E)}else l[h]=g}),this.syncDiff(a,{joins:l,leaves:d},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,d)=>{var h;const g=(h=e[l])!==null&&h!==void 0?h:[];if(e[l]=this.cloneDeep(d),g.length>0){const v=e[l].map(S=>S.presence_ref),b=g.filter(S=>v.indexOf(S.presence_ref)<0);e[l].unshift(...b)}n(l,g,d)}),this.map(s,(l,d)=>{let h=e[l];if(!h)return;const g=d.map(v=>v.presence_ref);h=h.filter(v=>g.indexOf(v.presence_ref)<0),e[l]=h,i(l,h,d),h.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zI;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(zI||(zI={}));var jp;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(jp||(jp={}));var qo;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(qo||(qo={}));class TT{constructor(e,r={config:{}},n){var i,a;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ri.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Sb(this,is.join,this.params,this.timeout),this.rejoinTimer=new bF(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ri.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ri.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ri.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ri.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ri.errored,this.rejoinTimer.scheduleTimeout())}),this._on(is.reply,{},(s,l)=>{this._trigger(this._replyEventName(l),s)}),this.presence=new Pp(this),this.broadcastEndpointURL=SF(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ri.closed){const{config:{broadcast:s,presence:l,private:d}}=this.params,h=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(S=>S.filter))!==null&&i!==void 0?i:[],g=!!this.bindings[jp.PRESENCE]&&this.bindings[jp.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,v={},b={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:g}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(S=>e?.(qo.CHANNEL_ERROR,S)),this._onClose(()=>e?.(qo.CLOSED)),this.updateJoinPayload(Object.assign({config:b},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:S})=>{var O;if(this.socket.setAuth(),S===void 0){e?.(qo.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,C=(O=E?.length)!==null&&O!==void 0?O:0,j=[];for(let P=0;P<C;P++){const I=E[P],{filter:{event:F,schema:R,table:M,filter:B}}=I,q=S&&S[P];if(q&&q.event===F&&q.schema===R&&q.table===M&&q.filter===B)j.push(Object.assign(Object.assign({},I),{id:q.id}));else{this.unsubscribe(),this.state=ri.errored,e?.(qo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,e&&e(qo.SUBSCRIBED);return}}).receive("error",S=>{this.state=ri.errored,e?.(qo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e?.(qo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===ri.joined&&e===jp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let d=l.statusText;try{const h=await l.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,l,d;const h=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),h.receive("ok",()=>a("ok")),h.receive("error",()=>a("error")),h.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ri.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(is.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Sb(this,is.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ri.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Sb(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>tre){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const s=e.toLocaleLowerCase(),{close:l,error:d,leave:h,join:g}=is;if(n&&[l,d,h,g].indexOf(s)>=0&&n!==this._joinRef())return;let b=this._onMessage(s,r,n);if(r&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(S=>{var O,E,C;return((O=S.filter)===null||O===void 0?void 0:O.event)==="*"||((C=(E=S.filter)===null||E===void 0?void 0:E.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===s}).map(S=>S.callback(b,n)):(a=this.bindings[s])===null||a===void 0||a.filter(S=>{var O,E,C,j,P,I;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in S){const F=S.id,R=(O=S.filter)===null||O===void 0?void 0:O.event;return F&&((E=r.ids)===null||E===void 0?void 0:E.includes(F))&&(R==="*"||R?.toLocaleLowerCase()===((C=r.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const F=(P=(j=S?.filter)===null||j===void 0?void 0:j.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return F==="*"||F===((I=r?.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===s}).map(S=>{if(typeof b=="object"&&"ids"in b){const O=b.data,{schema:E,table:C,commit_timestamp:j,type:P,errors:I}=O;b=Object.assign(Object.assign({},{schema:E,table:C,commit_timestamp:j,eventType:P,new:{},old:{},errors:I}),this._getPayloadRecords(O))}S.callback(b,n)})}_isClosed(){return this.state===ri.closed}_isJoined(){return this.state===ri.joined}_isJoining(){return this.state===ri.joining}_isLeaving(){return this.state===ri.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&TT.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(is.close,{},e)}_onError(e){this._on(is.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ri.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=WI(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=WI(e.columns,e.old_record)),r}}const Eb=()=>{},H0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},cre=[1e3,2e3,5e3,1e4],ure=1e4,dre=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fre{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=FC,this.transport=null,this.heartbeatIntervalMs=H0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Eb,this.ref=0,this.reconnectTimer=null,this.vsn=VI,this.logger=Eb,this.conn=null,this.sendBuffer=[],this.serializer=new rre,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${$C.websocket}`,this.httpEndpoint=SF(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Xte.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case lu.connecting:return cu.Connecting;case lu.open:return cu.Open;case lu.closing:return cu.Closing;default:return cu.Closed}}isConnected(){return this.connectionState()===cu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new TT(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,s=()=>{this.encode(e,l=>{var d;(d=this.conn)===null||d===void 0||d.send(l)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(ere,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},H0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:s}=r,l=s?`(${s})`:"",d=a.status||"";this.log("receive",`${d} ${n} ${i} ${l}`.trim(),a),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===lu.open||this.conn.readyState===lu.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(is.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([dre],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:Qte};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(is.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new bF(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},H0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,s,l,d,h,g,v,b,S;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:FC,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:H0.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=e?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=e?.heartbeatCallback)!==null&&l!==void 0?l:Eb,this.vsn=(d=e?.vsn)!==null&&d!==void 0?d:VI,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(O=>cre[O-1]||ure),this.vsn){case wF:this.encode=(g=e?.encode)!==null&&g!==void 0?g:((O,E)=>E(JSON.stringify(O))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:((O,E)=>E(JSON.parse(O)));break;case Jte:this.encode=(b=e?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(S=e?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class NT extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function _n(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class hre extends NT{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class VC extends NT{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const kT=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),pre=()=>Response,WC=t=>{if(Array.isArray(t))return t.map(r=>WC(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=WC(n)}),e},mre=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Cb=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},gre=(t,e,r)=>_t(void 0,void 0,void 0,function*(){const n=yield pre();t instanceof n&&!r?.noResolveJson?t.json().then(i=>{const a=t.status||500,s=i?.statusCode||a+"";e(new hre(Cb(i),a,s))}).catch(i=>{e(new VC(Cb(i),i))}):e(new VC(Cb(t),t))}),vre=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!n?i:(mre(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function ng(t,e,r,n,i,a){return _t(this,void 0,void 0,function*(){return new Promise((s,l)=>{t(r,vre(e,n,i,a)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>s(d)).catch(d=>gre(d,l,n))})})}function tm(t,e,r,n){return _t(this,void 0,void 0,function*(){return ng(t,"GET",e,r,n)})}function Rs(t,e,r,n,i){return _t(this,void 0,void 0,function*(){return ng(t,"POST",e,n,i,r)})}function qC(t,e,r,n,i){return _t(this,void 0,void 0,function*(){return ng(t,"PUT",e,n,i,r)})}function yre(t,e,r,n){return _t(this,void 0,void 0,function*(){return ng(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function PT(t,e,r,n,i){return _t(this,void 0,void 0,function*(){return ng(t,"DELETE",e,n,i,r)})}class xre{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return _t(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(_n(e))return{data:null,error:e};throw e}})}}var EF;class wre{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[EF]="BlobDownloadBuilder",this.promise=null}asStream(){return new xre(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return _t(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(_n(e))return{data:null,error:e};throw e}})}}EF=Symbol.toStringTag;const bre={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},HI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _re{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=kT(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return _t(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},HI),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const d=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),d&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(d))):(a=n,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,d&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),i?.headers&&(l=Object.assign(Object.assign({},l),i.headers));const h=this._removeEmptyFolders(r),g=this._getFinalPath(h),v=yield(e=="PUT"?qC:Rs)(this.fetch,`${this.url}/object/${g}`,a,Object.assign({headers:l},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:h,id:v.Id,fullPath:v.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_n(a))return{data:null,error:a};throw a}})}upload(e,r,n){return _t(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return _t(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${s}`);l.searchParams.set("token",r);try{let d;const h=Object.assign({upsert:HI.upsert},i),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",h.cacheControl)):(d=n,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType);const v=yield qC(this.fetch,l.toString(),d,{headers:g});return{data:{path:a,fullPath:v.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(_n(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,r){return _t(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const a=yield Rs(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),l=s.searchParams.get("token");if(!l)throw new NT("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}update(e,r,n){return _t(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return _t(this,void 0,void 0,function*(){try{return{data:yield Rs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_n(i))return{data:null,error:i};throw i}})}copy(e,r,n){return _t(this,void 0,void 0,function*(){try{return{data:{path:(yield Rs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_n(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return _t(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Rs(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_n(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return _t(this,void 0,void 0,function*(){try{const i=yield Rs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_n(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(r?.transform||{}),s=a?`?${a}`:"",l=this._getFinalPath(e),d=()=>tm(this.fetch,`${this.url}/${i}/${l}${s}`,{headers:this.headers,noResolveJson:!0});return new wre(d,this.shouldThrowOnError)}info(e){return _t(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield tm(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:WC(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}exists(e){return _t(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield yre(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n)&&n instanceof VC){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r?.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const l=typeof r?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(r?.transform||{});d!==""&&i.push(d);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${h}`)}}}remove(e){return _t(this,void 0,void 0,function*(){try{return{data:yield PT(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}})}list(e,r,n){return _t(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},bre),r),{prefix:e||""});return{data:yield Rs(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_n(i))return{data:null,error:i};throw i}})}listV2(e,r){return _t(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Rs(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const CF="2.81.1",AF={"X-Client-Info":`storage-js/${CF}`};class Sre{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},AF),r),this.fetch=kT(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return _t(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield tm(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}})}getBucket(e){return _t(this,void 0,void 0,function*(){try{return{data:yield tm(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}})}createBucket(e){return _t(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Rs(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_n(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return _t(this,void 0,void 0,function*(){try{return{data:yield qC(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}emptyBucket(e){return _t(this,void 0,void 0,function*(){try{return{data:yield Rs(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}})}deleteBucket(e){return _t(this,void 0,void 0,function*(){try{return{data:yield PT(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Ere{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},AF),r),this.fetch=kT(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return _t(this,void 0,void 0,function*(){try{return{data:yield Rs(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}})}listBuckets(e){return _t(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield tm(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}})}deleteBucket(e){return _t(this,void 0,void 0,function*(){try{return{data:yield PT(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}})}}const jT={"X-Client-Info":`storage-js/${CF}`,"Content-Type":"application/json"};class OF extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ma(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Ab extends OF{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Cre extends OF{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var GI;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(GI||(GI={}));const IT=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Are=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},KI=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ore=(t,e,r)=>_t(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const i=t.status||500,a=t;if(typeof a.json=="function")a.json().then(s=>{const l=s?.statusCode||s?.code||i+"";e(new Ab(KI(s),i,l))}).catch(()=>{const s=i+"",l=a.statusText||`HTTP ${i} error`;e(new Ab(l,i,s))});else{const s=i+"",l=a.statusText||`HTTP ${i} error`;e(new Ab(l,i,s))}}else e(new Cre(KI(t),t))}),Tre=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return n?(Are(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function Nre(t,e,r,n,i,a){return _t(this,void 0,void 0,function*(){return new Promise((s,l)=>{t(r,Tre(e,n,i,a)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;const h=d.headers.get("content-type");return!h||!h.includes("application/json")?{}:d.json()}).then(d=>s(d)).catch(d=>Ore(d,l,n))})})}function Da(t,e,r,n,i){return _t(this,void 0,void 0,function*(){return Nre(t,"POST",e,n,i,r)})}class kre{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jT),r),this.fetch=IT(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return _t(this,void 0,void 0,function*(){try{return{data:(yield Da(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ma(r))return{data:null,error:r};throw r}})}getIndex(e,r){return _t(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ma(n))return{data:null,error:n};throw n}})}listIndexes(e){return _t(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ma(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return _t(this,void 0,void 0,function*(){try{return{data:(yield Da(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ma(n))return{data:null,error:n};throw n}})}}class Pre{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jT),r),this.fetch=IT(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return _t(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Da(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ma(r))return{data:null,error:r};throw r}})}getVectors(e){return _t(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ma(r))return{data:null,error:r};throw r}})}listVectors(e){return _t(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Da(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ma(r))return{data:null,error:r};throw r}})}queryVectors(e){return _t(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ma(r))return{data:null,error:r};throw r}})}deleteVectors(e){return _t(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Da(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ma(r))return{data:null,error:r};throw r}})}}class jre{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jT),r),this.fetch=IT(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return _t(this,void 0,void 0,function*(){try{return{data:(yield Da(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ma(r))return{data:null,error:r};throw r}})}getBucket(e){return _t(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ma(r))return{data:null,error:r};throw r}})}listBuckets(){return _t(this,arguments,void 0,function*(e={}){try{return{data:yield Da(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ma(r))return{data:null,error:r};throw r}})}deleteBucket(e){return _t(this,void 0,void 0,function*(){try{return{data:(yield Da(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ma(r))return{data:null,error:r};throw r}})}}class Ire extends jre{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Rre(this.url,this.headers,e,this.fetch)}}class Rre extends kre{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return _t(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return _t(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return _t(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return _t(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Mre(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Mre extends Pre{constructor(e,r,n,i,a){super(e,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return _t(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return _t(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return _t(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return _t(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return _t(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Dre extends Sre{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new _re(this.url,this.headers,e,this.fetch)}get vectors(){return new Ire(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ere(this.url+"/iceberg",this.headers,this.fetch)}}const Lre="2.81.1";let Ep="";typeof Deno<"u"?Ep="deno":typeof document<"u"?Ep="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ep="react-native":Ep="node";const Bre={"X-Client-Info":`supabase-js-${Ep}/${Lre}`},Fre={headers:Bre},$re={schema:"public"},Ure={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Vre={},Wre=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),qre=()=>Headers,zre=(t,e,r)=>{const n=Wre(r),i=qre();return async(a,s)=>{var l;const d=(l=await e())!==null&&l!==void 0?l:t;let h=new i(s?.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),n(a,Object.assign(Object.assign({},s),{headers:h}))}};function Hre(t){return t.endsWith("/")?t:t+"/"}function Gre(t,e){var r,n;const{db:i,auth:a,realtime:s,global:l}=t,{db:d,auth:h,realtime:g,global:v}=e,b={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},h),a),realtime:Object.assign(Object.assign({},g),s),storage:{},global:Object.assign(Object.assign(Object.assign({},v),l),{headers:Object.assign(Object.assign({},(r=v?.headers)!==null&&r!==void 0?r:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?b.accessToken=t.accessToken:delete b.accessToken,b}function Kre(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Hre(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const TF="2.81.1",Hd=30*1e3,zC=3,Ob=zC*Hd,Yre="http://localhost:9999",Xre="supabase.auth.token",Zre={"X-Client-Info":`gotrue-js/${TF}`},HC="X-Supabase-Api-Version",NF={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Qre=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Jre=600*1e3;class rm extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Nt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ene extends rm{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function tne(t){return Nt(t)&&t.name==="AuthApiError"}class uu extends rm{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class vc extends rm{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class ks extends vc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function rne(t){return Nt(t)&&t.name==="AuthSessionMissingError"}class jd extends vc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class G0 extends vc{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class K0 extends vc{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nne(t){return Nt(t)&&t.name==="AuthImplicitGrantRedirectError"}class YI extends vc{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class GC extends vc{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Tb(t){return Nt(t)&&t.name==="AuthRetryableFetchError"}class XI extends vc{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class KC extends vc{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const $v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ZI=` 	
\r=`.split(""),ine=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ZI.length;e+=1)t[ZI[e].charCodeAt(0)]=-2;for(let e=0;e<$v.length;e+=1)t[$v[e].charCodeAt(0)]=e;return t})();function QI(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r($v[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r($v[n]),e.queuedBits-=6}}function kF(t,e,r){const n=ine[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function JI(t){const e=[],r=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{one(s,n,r)};for(let s=0;s<t.length;s+=1)kF(t.charCodeAt(s),i,a);return e.join("")}function ane(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function sne(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}ane(n,e)}}function one(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function of(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)kF(t.charCodeAt(i),r,n);return new Uint8Array(e)}function lne(t){const e=[];return sne(t,r=>e.push(r)),new Uint8Array(e)}function hu(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>QI(i,r,n)),QI(null,r,n),e.join("")}function cne(t){return Math.round(Date.now()/1e3)+t}function une(){return Symbol("auth-callback")}const Si=()=>typeof window<"u"&&typeof document<"u",Zc={tested:!1,writable:!1},PF=()=>{if(!Si())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zc.tested)return Zc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Zc.tested=!0,Zc.writable=!0}catch{Zc.tested=!0,Zc.writable=!1}return Zc.writable};function dne(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const jF=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),fne=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Gd=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Qc=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ul=async(t,e)=>{await t.removeItem(e)};class D1{constructor(){this.promise=new D1.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}D1.promiseConstructor=Promise;function Nb(t){const e=t.split(".");if(e.length!==3)throw new KC("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Qre.test(e[n]))throw new KC("JWT not in base64url format");return{header:JSON.parse(JI(e[0])),payload:JSON.parse(JI(e[1])),signature:of(e[2]),raw:{header:e[0],payload:e[1]}}}async function hne(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function pne(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){n(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function mne(t){return("0"+t.toString(16)).substr(-2)}function gne(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,mne).join("")}async function vne(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function yne(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await vne(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Id(t,e,r=!1){const n=gne();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Gd(t,`${e}-code-verifier`,i);const a=await yne(n);return[a,n===a?"plain":"s256"]}const xne=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wne(t){const e=t.headers.get(HC);if(!e||!e.match(xne))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function bne(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function _ne(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Sne=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rd(t){if(!Sne.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function kb(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ene(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function e3(t){return JSON.parse(JSON.stringify(t))}const ru=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Cne=[502,503,504];async function t3(t){var e;if(!fne(t))throw new GC(ru(t),0);if(Cne.includes(t.status))throw new GC(ru(t),t.status);let r;try{r=await t.json()}catch(a){throw new uu(ru(a),a)}let n;const i=wne(t);if(i&&i.getTime()>=NF["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new XI(ru(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new ks}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new XI(ru(r),t.status,r.weak_password.reasons);throw new ene(ru(r),t.status||500,n)}const Ane=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Lt(t,e,r,n){var i;const a=Object.assign({},n?.headers);a[HC]||(a[HC]=NF["2024-01-01"].name),n?.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(s.redirect_to=n.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",d=await One(t,e,r+l,{headers:a,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function One(t,e,r,n,i,a){const s=Ane(e,n,i,a);let l;try{l=await t(r,Object.assign({},s))}catch(d){throw console.error(d),new GC(ru(d),0)}if(l.ok||await t3(l),n?.noResolveJson)return l;try{return await l.json()}catch(d){await t3(d)}}function Ps(t){var e;let r=null;kne(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=cne(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function r3(t){const e=Ps(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Kl(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Tne(t){return{data:t,error:null}}function Nne(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,s=gc(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},d=Object.assign({},s);return{data:{properties:l,user:d},error:null}}function n3(t){return t}function kne(t){return t.access_token&&t.refresh_token&&t.expires_in}const Pb=["global","local","others"];class Pne{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=jF(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Pb[0]){if(Pb.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pb.join(", ")}`);try{return await Lt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Nt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Lt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Kl})}catch(n){if(Nt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=gc(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Lt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Nne,redirectTo:r?.redirectTo})}catch(r){if(Nt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Lt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Kl})}catch(r){if(Nt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,s,l,d;try{const h={nextPage:null,lastPage:0,total:0},g=await Lt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:n3});if(g.error)throw g.error;const v=await g.json(),b=(s=g.headers.get("x-total-count"))!==null&&s!==void 0?s:0,S=(d=(l=g.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&d!==void 0?d:[];return S.length>0&&(S.forEach(O=>{const E=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(O.split(";")[1].split("=")[1]);h[`${C}Page`]=E}),h.total=parseInt(b)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(Nt(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){Rd(e);try{return await Lt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Kl})}catch(r){if(Nt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Rd(e);try{return await Lt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Kl})}catch(n){if(Nt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Rd(e);try{return await Lt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Kl})}catch(n){if(Nt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Rd(e.userId);try{const{data:r,error:n}=await Lt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Nt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Rd(e.userId),Rd(e.id);try{return{data:await Lt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Nt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,a,s,l,d;try{const h={nextPage:null,lastPage:0,total:0},g=await Lt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:n3});if(g.error)throw g.error;const v=await g.json(),b=(s=g.headers.get("x-total-count"))!==null&&s!==void 0?s:0,S=(d=(l=g.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&d!==void 0?d:[];return S.length>0&&(S.forEach(O=>{const E=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(O.split(";")[1].split("=")[1]);h[`${C}Page`]=E}),h.total=parseInt(b)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(Nt(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await Lt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Nt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Lt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Nt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Lt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Nt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Lt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Nt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Lt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Nt(r))return{data:null,error:r};throw r}}}function i3(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Md={debug:!!(globalThis&&PF()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class IF extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class jne extends IF{}async function Ine(t,e,r){Md.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Md.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Md.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Md.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Md.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new jne(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Md.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Rne(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function RF(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Mne(t){return parseInt(t,16)}function Dne(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Lne(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:l,requestId:d,resources:h,scheme:g,uri:v,version:b}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const S=RF(t.address),O=g?`${g}://${n}`:n,E=t.statement?`${t.statement}
`:"",C=`${O} wants you to sign in with your Ethereum account:
${S}

${E}`;let j=`URI: ${v}
Version: ${b}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(j+=`
Expiration Time: ${i.toISOString()}`),l&&(j+=`
Not Before: ${l.toISOString()}`),d&&(j+=`
Request ID: ${d}`),h){let P=`
Resources:`;for(const I of h){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);P+=`
- ${I}`}j+=P}return`${C}
${j}`}class Un extends Error{constructor({message:e,code:r,cause:n,name:i}){var a;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Uv extends Un{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Bne({error:t,options:e}){var r,n,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Un({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Un({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Un({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Un({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Un({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Un({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Un({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Un({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(MF(s)){if(a.rp.id!==s)return new Un({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Un({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Un({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Un({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Un({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Fne({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Un({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Un({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(MF(n)){if(r.rpId!==n)return new Un({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Un({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Un({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Un({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class $ne{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Une=new $ne;function Vne(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=gc(t,["challenge","user","excludeCredentials"]),a=of(e).buffer,s=Object.assign(Object.assign({},r),{id:of(r.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:s});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const h=n[d];l.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:of(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function Wne(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=gc(t,["challenge","allowCredentials"]),i=of(e).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const l=r[s];a.allowCredentials[s]=Object.assign(Object.assign({},l),{id:of(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function qne(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:hu(new Uint8Array(t.response.attestationObject)),clientDataJSON:hu(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function zne(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:hu(new Uint8Array(i.authenticatorData)),clientDataJSON:hu(new Uint8Array(i.clientDataJSON)),signature:hu(new Uint8Array(i.signature)),userHandle:i.userHandle?hu(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function MF(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function a3(){var t,e;return!!(Si()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Hne(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Uv("Browser returned unexpected credential type",e)}:{data:null,error:new Uv("Empty credential response",e)}}catch(e){return{data:null,error:Bne({error:e,options:t})}}}async function Gne(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Uv("Browser returned unexpected credential type",e)}:{data:null,error:new Uv("Empty credential response",e)}}catch(e){return{data:null,error:Fne({error:e,options:t})}}}const Kne={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Yne={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Vv(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))n[a]=s;else if(r(s))n[a]=s;else if(e(s)){const l=n[a];e(l)?n[a]=Vv(l,s):n[a]=Vv(s)}else n[a]=s}return n}function Xne(t,e){return Vv(Kne,t,e||{})}function Zne(t,e){return Vv(Yne,t,e||{})}class Qne{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},a){try{const{data:s,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!s)return{data:null,error:l};const d=i??Une.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:h}=s.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(s.webauthn.type){case"create":{const h=Xne(s.webauthn.credential_options.publicKey,a?.create),{data:g,error:v}=await Hne({publicKey:h,signal:d});return g?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}case"request":{const h=Zne(s.webauthn.credential_options.publicKey,a?.request),{data:g,error:v}=await Gne(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:h,signal:d}));return g?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}}}catch(s){return Nt(s)?{data:null,error:s}:{data:null,error:new uu("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new rm("rpId is required for WebAuthn authentication")};try{if(!a3())return{data:null,error:new uu("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!s)return{data:null,error:l};const{webauthn:d}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(s){return Nt(s)?{data:null,error:s}:{data:null,error:new uu("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new rm("rpId is required for WebAuthn registration")};try{if(!a3())return{data:null,error:new uu("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(g=>{var v;return(v=g.data)===null||v===void 0?void 0:v.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:l};const{data:d,error:h}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return d?this._verify({factorId:s.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(s){return Nt(s)?{data:null,error:s}:{data:null,error:new uu("Unexpected error in register",s)}}}}Rne();const Jne={url:Yre,storageKey:Xre,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Zre,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function s3(t,e,r){return await r()}const Dd={};class nm{get jwks(){var e,r;return(r=(e=Dd[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Dd[this.storageKey]=Object.assign(Object.assign({},Dd[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Dd[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Dd[this.storageKey]=Object.assign(Object.assign({},Dd[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},Jne),e);if(this.storageKey=a.storageKey,this.instanceID=(r=nm.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,nm.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Si()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Pne({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=jF(a.fetch),this.lock=a.lock||s3,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:Si()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=Ine:this.lock=s3,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Qne(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:PF()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=i3(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=i3(this.memoryStorage)),Si()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${TF}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Si()&&(r=dne(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Si()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),nne(a)){const d=(e=a.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Nt(r)?this._returnResult({error:r}):this._returnResult({error:new uu("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await Lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ps}),{data:s,error:l}=a;if(l||!s)return this._returnResult({data:{user:null,session:null},error:l});const d=s.session,h=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(a){if(Nt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:g,password:v,options:b}=e;let S=null,O=null;this.flowType==="pkce"&&([S,O]=await Id(this.storage,this.storageKey)),a=await Lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:g,password:v,data:(r=b?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:S,code_challenge_method:O},xform:Ps})}else if("phone"in e){const{phone:g,password:v,options:b}=e;a=await Lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(n=b?.data)!==null&&n!==void 0?n:{},channel:(i=b?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Ps})}else throw new G0("You must provide either an email or phone number and a password");const{data:s,error:l}=a;if(l||!s)return this._returnResult({data:{user:null,session:null},error:l});const d=s.session,h=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(a){if(Nt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:s,options:l}=e;r=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:r3})}else if("phone"in e){const{phone:a,password:s,options:l}=e;r=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:r3})}else throw new G0("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new jd;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Nt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,a,s,l,d,h,g,v,b;let S,O;if("message"in e)S=e.message,O=e.signature;else{const{chain:E,wallet:C,statement:j,options:P}=e;let I;if(Si())if(typeof C=="object")I=C;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")I=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=C}const F=new URL((r=P?.url)!==null&&r!==void 0?r:window.location.href),R=await I.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=RF(R[0]);let B=(n=P?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!B){const U=await I.request({method:"eth_chainId"});B=Mne(U)}const q={domain:F.host,address:M,statement:j,uri:F.href,version:"1",chainId:B,nonce:(i=P?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=P?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(l=P?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(d=P?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=P?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(g=P?.signInWithEthereum)===null||g===void 0?void 0:g.resources};S=Lne(q),O=await I.request({method:"personal_sign",params:[Dne(S),M]})}try{const{data:E,error:C}=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:O},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Ps});if(C)throw C;if(!E||!E.session||!E.user){const j=new jd;return this._returnResult({data:{user:null,session:null},error:j})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:C})}catch(E){if(Nt(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var r,n,i,a,s,l,d,h,g,v,b,S;let O,E;if("message"in e)O=e.message,E=e.signature;else{const{chain:C,wallet:j,statement:P,options:I}=e;let F;if(Si())if(typeof j=="object")F=j;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))F=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=j}const R=new URL((r=I?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in F&&F.signIn){const M=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I?.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),P?{statement:P}:null));let B;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")B=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)B=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)O=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),E=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${R.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(i=(n=I?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=I?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((s=I?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((l=I?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((d=I?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((h=I?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((v=(g=I?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...I.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const M=await F.signMessage(new TextEncoder().encode(O),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=M}}try{const{data:C,error:j}=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:hu(E)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Ps});if(j)throw j;if(!C||!C.session||!C.user){const P=new jd;return this._returnResult({data:{user:null,session:null},error:P})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:j})}catch(C){if(Nt(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(e){const r=await Qc(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ps});if(await Ul(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const l=new jd;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(Nt(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=e,l=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ps}),{data:d,error:h}=l;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d||!d.session||!d.user){const g=new jd;return this._returnResult({data:{user:null,session:null},error:g})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:h})}catch(r){if(Nt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,a,s;try{if("email"in e){const{email:l,options:d}=e;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await Id(this.storage,this.storageKey));const{error:v}=await Lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:h,code_challenge_method:g},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:l,options:d}=e,{data:h,error:g}=await Lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=d?.data)!==null&&i!==void 0?i:{},create_user:(a=d?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(s=d?.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:g})}throw new G0("You must provide either an email or phone number.")}catch(l){if(Nt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:l}=await Lt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ps});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const d=s.session,h=s.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(i){if(Nt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,a,s;try{let l=null,d=null;this.flowType==="pkce"&&([l,d]=await Id(this.storage,this.storageKey));const h=await Lt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:d}),headers:this.headers,xform:Tne});return!((a=h.data)===null||a===void 0)&&a.url&&Si()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(l){if(Nt(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new ks;const{error:i}=await Lt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Nt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:s}=await Lt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:s,error:l}=await Lt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s?.message_id},error:l})}throw new G0("You must provide either an email or phone number and a type")}catch(r){if(Nt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Qc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ob:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const s=await Qc(this.userStorage,this.storageKey+"-user");s?.user?e.user=s.user:e.user=kb()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};e.user=Ene(e.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Kl}):await this._useSession(async r=>{var n,i,a;const{data:s,error:l}=r;if(l)throw l;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ks}:await Lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Kl})})}catch(r){if(Nt(r))return rne(r)&&(await this._removeSession(),await Ul(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new ks;const s=i.session;let l=null,d=null;this.flowType==="pkce"&&e.email!=null&&([l,d]=await Id(this.storage,this.storageKey));const{data:h,error:g}=await Lt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:d}),jwt:s.access_token,xform:Kl});if(g)throw g;return s.user=h.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(Nt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ks;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=Nb(e.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{data:l,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:d}=await this._getUser(e.access_token);if(d)throw d;a={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(Nt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:l}=r;if(l)throw l;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new ks;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Nt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Si())throw new K0("No browser detected.");if(e.error||e.error_description||e.error_code)throw new K0(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new YI("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new K0("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new YI("No code detected.");const{data:P,error:I}=await this._exchangeCodeForSession(e.code);if(I)throw I;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:l,expires_at:d,token_type:h}=e;if(!a||!l||!s||!h)throw new K0("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(l);let b=g+v;d&&(b=parseInt(d));const S=b-g;S*1e3<=Hd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${v}s`);const O=b-v;g-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,b,g):g-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,b,g);const{data:E,error:C}=await this._getUser(a);if(C)throw C;const j={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:v,expires_at:b,refresh_token:s,token_type:h,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:e.type},error:null})}catch(n){if(Nt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Qc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:l}=await this.admin.signOut(s,e);if(l&&!(tne(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await Ul(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=une(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Id(this.storage,this.storageKey,!0));try{return await Lt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Nt(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Nt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,l,d,h,g;const{data:v,error:b}=a;if(b)throw b;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Lt(this.fetch,"GET",S,{headers:this.headers,jwt:(g=(h=v.session)===null||h===void 0?void 0:h.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return Si()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(Nt(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:s,provider:l,token:d,access_token:h,nonce:g}=e,v=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:d,access_token:h,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Ps}),{data:b,error:S}=v;return S?this._returnResult({data:{user:null,session:null},error:S}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new jd}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:S}))}catch(i){if(Nt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await Lt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Nt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await pne(async i=>(i>0&&await hne(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Lt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ps})),(i,a)=>{const s=200*Math.pow(2,i);return a&&Tb(a)&&Date.now()+s-n<Hd})}catch(n){if(this._debug(r,"error",n),Nt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Si()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Qc(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Qc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Gd(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s?.user)!==null&&e!==void 0?e:kb()}else if(i&&!i.user&&!i.user){const s=await Qc(this.storage,this.storageKey+"-user");s&&s?.user?(i.user=s.user,await Ul(this.storage,this.storageKey+"-user"),await Gd(this.storage,this.storageKey,i)):i.user=kb()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ob;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Ob}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Tb(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(i.access_token);!l&&s?.user?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new ks;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new D1;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new ks;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),Nt(a)){const s={data:null,error:a};return Tb(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(d){a.push(d)}});if(await Promise.all(s),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Gd(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=e3(i);await Gd(this.storage,this.storageKey,a)}else{const i=e3(r);await Gd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ul(this.storage,this.storageKey),await Ul(this.storage,this.storageKey+"-code-verifier"),await Ul(this.storage,this.storageKey+"-user"),this.userStorage&&await Ul(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Si()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Hd);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Hd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Hd}ms, refresh threshold is ${zC} ticks`),i<=zC&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof IF)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Si()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await Id(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(l.toString())}if(n?.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await Lt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Nt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:h}=await Lt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&d.type==="totp"&&(!((i=d?.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(Nt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?qne(e.webauthn.credential_response):zne(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:d}=await Lt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:d}))})}catch(r){if(Nt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=await Lt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:l}=s;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Vne(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Wne(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Nt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Nb(n.access_token);let s=null;a.aal&&(s=a.aal);let l=s;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const h=a.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Lt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ks})})}catch(r){if(Nt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ks});const s=await Lt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&Si()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(n){if(Nt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ks});const s=await Lt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&Si()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(n){if(Nt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+Jre>i)return n;const{data:a,error:s}=await Lt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:S,error:O}=await this.getSession();if(O||!S.session)return this._returnResult({data:null,error:O});n=S.session.access_token}const{header:i,payload:a,signature:s,raw:{header:l,payload:d}}=Nb(n);r?.allowExpired||bne(a.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!h){const{error:S}=await this.getUser(n);if(S)throw S;return{data:{claims:a,header:i,signature:s},error:null}}const g=_ne(i.alg),v=await crypto.subtle.importKey("jwk",h,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,s,lne(`${l}.${d}`)))throw new KC("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(Nt(n))return this._returnResult({data:null,error:n});throw n}}}nm.nextInstanceID={};const eie=nm;class tie extends eie{constructor(e){super(e)}}class rie{constructor(e,r,n){var i,a,s;this.supabaseUrl=e,this.supabaseKey=r;const l=Kre(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const d=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:$re,realtime:Vre,auth:Object.assign(Object.assign({},Ure),{storageKey:d}),global:Fre},g=Gre(n??{},h);this.storageKey=(i=g.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=g.global.headers)!==null&&a!==void 0?a:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=g.auth)!==null&&s!==void 0?s:{},this.headers,g.global.fetch),this.fetch=zre(r,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new Yte(new URL("rest/v1",l).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new Dre(this.storageUrl.href,this.headers,this.fetch,n?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new zte(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:s,flowType:l,lock:d,debug:h,throwOnError:g},v,b){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tie({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),v),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:l,lock:d,debug:h,throwOnError:g,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new fre(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const nie=(t,e,r)=>new rie(t,e,r);function iie(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}iie()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const aie="https://yggvabrltcxvkiyjixdv.supabase.co",sie="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlnZ3ZhYnJsdGN4dmtpeWppeGR2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMwMTI5MzcsImV4cCI6MjA3ODU4ODkzN30.fU1VYjYGRxDwADO6RoYvb1CxIfJUnkEL386aEAPgRqQ",Pe=nie(aie,sie,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});function oie(){const t=Ai(),e=_o(),[r,n]=N.useState(!1);N.useEffect(()=>{(async()=>{try{const{data:{user:h}}=await Pe.auth.getUser();if(!h)return;const{data:g,error:v}=await Pe.from("user_roles").select("role").eq("user_id",h.id).single();if(v){console.error("Error fetching user role:",v);return}n(g?.role==="admin")}catch(h){console.error("Role check failed:",h)}})()},[]);const i=[{icon:wC,label:"Home",path:"/dashboard"},{icon:Bi,label:"Classes",path:"/classes"},{icon:qO,label:"Bookings",path:"/bookings"},{icon:kv,label:"Membership",path:"/managememberships"}],a=[{icon:gB,label:"Admin",path:"/admin"},{icon:ll,label:"Users",path:"/admin/users"},{icon:zO,label:"Analytics",path:"/admin/analytics"},{icon:kK,label:"Classes",path:"/admin/manageclasses"}],l=e.pathname.startsWith("/admin")&&r?a:i;return f.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 border-t bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 md:hidden",children:f.jsx("div",{className:"grid h-16 grid-cols-4",children:l.map(d=>{const h=e.pathname===d.path||d.path!=="/dashboard"&&e.pathname.startsWith(d.path),g=d.icon;return f.jsxs("button",{onClick:()=>t(d.path),className:Me("flex flex-col items-center justify-center gap-1 transition-colors px-1 min-w-0",h?"text-primary":"text-muted-foreground hover:text-foreground"),children:[f.jsx(g,{className:"h-5 w-5 shrink-0"}),f.jsx("span",{className:"text-[10px] font-medium text-center truncate w-full",children:d.label})]},d.path)})})})}const jb=768;function lie(){const[t,e]=N.useState(void 0);return N.useEffect(()=>{const r=window.matchMedia(`(max-width: ${jb-1}px)`),n=()=>{e(window.innerWidth<jb)};return r.addEventListener("change",n),e(window.innerWidth<jb),()=>r.removeEventListener("change",n)},[]),!!t}const rr=N.forwardRef(({className:t,type:e,...r},n)=>{const i=r["data-error"]==="true"||r["aria-invalid"]===!0;return f.jsx("input",{type:e,className:Me("flex h-10 w-full rounded-md border bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm transition-colors",i?"border-destructive focus-visible:ring-destructive":"border-input focus-visible:ring-ring",t),ref:n,...r})});rr.displayName="Input";var cie="Separator",o3="horizontal",uie=["horizontal","vertical"],DF=N.forwardRef((t,e)=>{const{decorative:r,orientation:n=o3,...i}=t,a=die(n)?n:o3,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return f.jsx(Ot.div,{"data-orientation":a,...l,...i,ref:e})});DF.displayName=cie;function die(t){return uie.includes(t)}var LF=DF;const L1=N.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>f.jsx(LF,{ref:i,decorative:r,orientation:e,className:Me("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));L1.displayName=LF.displayName;var B1="Dialog",[BF,FF]=Zi(B1),[fie,Gs]=BF(B1),$F=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:s=!0}=t,l=N.useRef(null),d=N.useRef(null),[h,g]=Vs({prop:n,defaultProp:i??!1,onChange:a,caller:B1});return f.jsx(fie,{scope:e,triggerRef:l,contentRef:d,contentId:ds(),titleId:ds(),descriptionId:ds(),open:h,onOpenChange:g,onOpenToggle:N.useCallback(()=>g(v=>!v),[g]),modal:s,children:r})};$F.displayName=B1;var UF="DialogTrigger",VF=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Gs(UF,r),a=lr(e,i.triggerRef);return f.jsx(Ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":DT(i.open),...n,ref:a,onClick:it(t.onClick,i.onOpenToggle)})});VF.displayName=UF;var RT="DialogPortal",[hie,WF]=BF(RT,{forceMount:void 0}),qF=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=Gs(RT,e);return f.jsx(hie,{scope:e,forceMount:r,children:N.Children.map(n,s=>f.jsx(ma,{present:r||a.open,children:f.jsx(sh,{asChild:!0,container:i,children:s})}))})};qF.displayName=RT;var Wv="DialogOverlay",zF=N.forwardRef((t,e)=>{const r=WF(Wv,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Gs(Wv,t.__scopeDialog);return a.modal?f.jsx(ma,{present:n||a.open,children:f.jsx(mie,{...i,ref:e})}):null});zF.displayName=Wv;var pie=cc("DialogOverlay.RemoveScroll"),mie=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Gs(Wv,r);return f.jsx(eg,{as:pie,allowPinchZoom:!0,shards:[i.contentRef],children:f.jsx(Ot.div,{"data-state":DT(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Nu="DialogContent",HF=N.forwardRef((t,e)=>{const r=WF(Nu,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Gs(Nu,t.__scopeDialog);return f.jsx(ma,{present:n||a.open,children:a.modal?f.jsx(gie,{...i,ref:e}):f.jsx(vie,{...i,ref:e})})});HF.displayName=Nu;var gie=N.forwardRef((t,e)=>{const r=Gs(Nu,t.__scopeDialog),n=N.useRef(null),i=lr(e,r.contentRef,n);return N.useEffect(()=>{const a=n.current;if(a)return k1(a)},[]),f.jsx(GF,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:it(t.onCloseAutoFocus,a=>{a.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:it(t.onPointerDownOutside,a=>{const s=a.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0;(s.button===2||l)&&a.preventDefault()}),onFocusOutside:it(t.onFocusOutside,a=>a.preventDefault())})}),vie=N.forwardRef((t,e)=>{const r=Gs(Nu,t.__scopeDialog),n=N.useRef(!1),i=N.useRef(!1);return f.jsx(GF,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||r.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;r.triggerRef.current?.contains(s)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),GF=N.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=t,l=Gs(Nu,r),d=N.useRef(null),h=lr(e,d);return T1(),f.jsxs(f.Fragment,{children:[f.jsx(Qm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:f.jsx(qu,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":DT(l.open),...s,ref:h,onDismiss:()=>l.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(xie,{titleId:l.titleId}),f.jsx(bie,{contentRef:d,descriptionId:l.descriptionId})]})]})}),MT="DialogTitle",KF=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Gs(MT,r);return f.jsx(Ot.h2,{id:i.titleId,...n,ref:e})});KF.displayName=MT;var YF="DialogDescription",XF=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Gs(YF,r);return f.jsx(Ot.p,{id:i.descriptionId,...n,ref:e})});XF.displayName=YF;var ZF="DialogClose",QF=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Gs(ZF,r);return f.jsx(Ot.button,{type:"button",...n,ref:e,onClick:it(t.onClick,()=>i.onOpenChange(!1))})});QF.displayName=ZF;function DT(t){return t?"open":"closed"}var JF="DialogTitleWarning",[yie,e$]=RG(JF,{contentName:Nu,titleName:MT,docsSlug:"dialog"}),xie=({titleId:t})=>{const e=e$(JF),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return N.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},wie="DialogDescriptionWarning",bie=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${e$(wie).contentName}}.`;return N.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},LT=$F,t$=VF,BT=qF,ig=zF,ag=HF,sg=KF,og=XF,F1=QF;const _ie=LT,Sie=BT,r$=N.forwardRef(({className:t,...e},r)=>f.jsx(ig,{className:Me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));r$.displayName=ig.displayName;const Eie=zu("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),n$=N.forwardRef(({side:t="right",className:e,children:r,...n},i)=>f.jsxs(Sie,{children:[f.jsx(r$,{}),f.jsxs(ag,{ref:i,className:Me(Eie({side:t}),e),...n,children:[r,f.jsxs(F1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[f.jsx(Gm,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));n$.displayName=ag.displayName;const Cie=N.forwardRef(({className:t,...e},r)=>f.jsx(sg,{ref:r,className:Me("text-lg font-semibold text-foreground",t),...e}));Cie.displayName=sg.displayName;const Aie=N.forwardRef(({className:t,...e},r)=>f.jsx(og,{ref:r,className:Me("text-sm text-muted-foreground",t),...e}));Aie.displayName=og.displayName;function as({className:t,...e}){return f.jsx("div",{className:Me("animate-pulse rounded-md bg-muted",t),...e})}const Oie="sidebar:state",Tie=3600*24*7,Nie="16rem",kie="18rem",Pie="3rem",jie="b",i$=N.createContext(null);function lg(){const t=N.useContext(i$);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const a$=N.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:r,className:n,style:i,children:a,...s},l)=>{const d=lie(),[h,g]=N.useState(!1),[v,b]=N.useState(t),S=e??v,O=N.useCallback(P=>{const I=typeof P=="function"?P(S):P;r?r(I):b(I),document.cookie=`${Oie}=${I}; path=/; max-age=${Tie}`},[r,S]),E=N.useCallback(()=>d?g(P=>!P):O(P=>!P),[d,O,g]);N.useEffect(()=>{const P=I=>{I.key===jie&&(I.metaKey||I.ctrlKey)&&(I.preventDefault(),E())};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[E]);const C=S?"expanded":"collapsed",j=N.useMemo(()=>({state:C,open:S,setOpen:O,isMobile:d,openMobile:h,setOpenMobile:g,toggleSidebar:E}),[C,S,O,d,h,g,E]);return f.jsx(i$.Provider,{value:j,children:f.jsx(n7,{delayDuration:0,children:f.jsx("div",{style:{"--sidebar-width":Nie,"--sidebar-width-icon":Pie,...i},className:Me("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:l,...s,children:a})})})});a$.displayName="SidebarProvider";const s$=N.forwardRef(({side:t="left",variant:e="sidebar",collapsible:r="offcanvas",className:n,children:i,...a},s)=>{const{isMobile:l,state:d,openMobile:h,setOpenMobile:g}=lg();return r==="none"?f.jsx("div",{className:Me("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:s,...a,children:i}):l?f.jsx(_ie,{open:h,onOpenChange:g,...a,children:f.jsx(n$,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":kie},side:t,children:f.jsx("div",{className:"flex h-full w-full flex-col",children:i})})}):f.jsxs("div",{ref:s,className:"group peer hidden text-sidebar-foreground md:block","data-state":d,"data-collapsible":d==="collapsed"?r:"","data-variant":e,"data-side":t,children:[f.jsx("div",{className:Me("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),f.jsx("div",{className:Me("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...a,children:f.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});s$.displayName="Sidebar";const Iie=N.forwardRef(({className:t,onClick:e,...r},n)=>{const{toggleSidebar:i}=lg();return f.jsxs(He,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Me("h-7 w-7",t),onClick:a=>{e?.(a),i()},...r,children:[f.jsx(LK,{}),f.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Iie.displayName="SidebarTrigger";const Rie=N.forwardRef(({className:t,...e},r)=>{const{toggleSidebar:n}=lg();return f.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:Me("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});Rie.displayName="SidebarRail";const Mie=N.forwardRef(({className:t,...e},r)=>f.jsx("main",{ref:r,className:Me("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));Mie.displayName="SidebarInset";const Die=N.forwardRef(({className:t,...e},r)=>f.jsx(rr,{ref:r,"data-sidebar":"input",className:Me("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...e}));Die.displayName="SidebarInput";const Lie=N.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,"data-sidebar":"header",className:Me("flex flex-col gap-2 p-2",t),...e}));Lie.displayName="SidebarHeader";const Bie=N.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,"data-sidebar":"footer",className:Me("flex flex-col gap-2 p-2",t),...e}));Bie.displayName="SidebarFooter";const Fie=N.forwardRef(({className:t,...e},r)=>f.jsx(L1,{ref:r,"data-sidebar":"separator",className:Me("mx-2 w-auto bg-sidebar-border",t),...e}));Fie.displayName="SidebarSeparator";const o$=N.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,"data-sidebar":"content",className:Me("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e}));o$.displayName="SidebarContent";const xv=N.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,"data-sidebar":"group",className:Me("relative flex w-full min-w-0 flex-col p-2",t),...e}));xv.displayName="SidebarGroup";const wv=N.forwardRef(({className:t,asChild:e=!1,...r},n)=>{const i=e?Wu:"div";return f.jsx(i,{ref:n,"data-sidebar":"group-label",className:Me("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...r})});wv.displayName="SidebarGroupLabel";const $ie=N.forwardRef(({className:t,asChild:e=!1,...r},n)=>{const i=e?Wu:"button";return f.jsx(i,{ref:n,"data-sidebar":"group-action",className:Me("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...r})});$ie.displayName="SidebarGroupAction";const bv=N.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,"data-sidebar":"group-content",className:Me("w-full text-sm",t),...e}));bv.displayName="SidebarGroupContent";const _v=N.forwardRef(({className:t,...e},r)=>f.jsx("ul",{ref:r,"data-sidebar":"menu",className:Me("flex w-full min-w-0 flex-col gap-1",t),...e}));_v.displayName="SidebarMenu";const Sv=N.forwardRef(({className:t,...e},r)=>f.jsx("li",{ref:r,"data-sidebar":"menu-item",className:Me("group/menu-item relative",t),...e}));Sv.displayName="SidebarMenuItem";const Uie=zu("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Ev=N.forwardRef(({asChild:t=!1,isActive:e=!1,variant:r="default",size:n="default",tooltip:i,className:a,...s},l)=>{const d=t?Wu:"button",{isMobile:h,state:g}=lg(),v=f.jsx(d,{ref:l,"data-sidebar":"menu-button","data-size":n,"data-active":e,className:Me(Uie({variant:r,size:n}),a),...s});return i?(typeof i=="string"&&(i={children:i}),f.jsxs(KZ,{children:[f.jsx(YZ,{asChild:!0,children:v}),f.jsx(i7,{side:"right",align:"center",hidden:g!=="collapsed"||h,...i})]})):v});Ev.displayName="SidebarMenuButton";const Vie=N.forwardRef(({className:t,asChild:e=!1,showOnHover:r=!1,...n},i)=>{const a=e?Wu:"button";return f.jsx(a,{ref:i,"data-sidebar":"menu-action",className:Me("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...n})});Vie.displayName="SidebarMenuAction";const Wie=N.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:Me("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...e}));Wie.displayName="SidebarMenuBadge";const qie=N.forwardRef(({className:t,showIcon:e=!1,...r},n)=>{const i=N.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return f.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:Me("flex h-8 items-center gap-2 rounded-md px-2",t),...r,children:[e&&f.jsx(as,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),f.jsx(as,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});qie.displayName="SidebarMenuSkeleton";const zie=N.forwardRef(({className:t,...e},r)=>f.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:Me("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));zie.displayName="SidebarMenuSub";const Hie=N.forwardRef(({...t},e)=>f.jsx("li",{ref:e,...t}));Hie.displayName="SidebarMenuSubItem";const Gie=N.forwardRef(({asChild:t=!1,size:e="md",isActive:r,className:n,...i},a)=>{const s=t?Wu:"a";return f.jsx(s,{ref:a,"data-sidebar":"menu-sub-button","data-size":e,"data-active":r,className:Me("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...i})});Gie.displayName="SidebarMenuSubButton";const Kie=[{icon:Wp,label:"Entry/Exit",path:"/qr/entry-exit"}];function Yie(){const t=_o(),e=Ai(),{open:r,toggleSidebar:n}=lg(),[i,a]=N.useState(!1);N.useEffect(()=>{(async()=>{try{const{data:{user:g}}=await Pe.auth.getUser();if(!g)return;const{data:v,error:b}=await Pe.from("user_roles").select("role").eq("user_id",g.id).single();if(b){console.error("Error fetching user role:",b);return}a(v?.role==="admin")}catch(g){console.error("Role check failed:",g)}})()},[]);const s=h=>t.pathname===h,l=[{icon:Bi,label:"Classes",path:"/classes"},{icon:qO,label:"Bookings",path:"/bookings"},{icon:kv,label:"Membership",path:"/managememberships"},{icon:wC,label:"Dashboard",path:"/dashboard"},{icon:Wj,label:"Profile",path:"/profile"}],d=[{icon:wC,label:"Admin Dashboard",path:"/admin"},{icon:ll,label:"Users",path:"/admin/users"},{icon:zO,label:"Analytics",path:"/admin/analytics"},{icon:rc,label:"Manage Classes",path:"/admin/manageclasses"},{icon:kv,label:"Memberships",path:"/admin/memberships"},{icon:Wj,label:"User Memberships",path:"/admin/usermemberships"}];return f.jsx(s$,{collapsible:"icon",className:"border-r",children:f.jsxs(o$,{children:[f.jsxs("div",{className:"flex items-center justify-between p-4",children:[r&&f.jsx("h2",{className:"text-lg font-bold text-primary animate-fade-in",children:"marsspace"}),f.jsx(He,{variant:"ghost",size:"icon",onClick:n,className:"ml-auto",children:r?f.jsx(fB,{className:"h-4 w-4"}):f.jsx(GO,{className:"h-4 w-4"})})]}),f.jsxs(xv,{children:[f.jsx(wv,{children:"Main Menu"}),f.jsx(bv,{children:f.jsx(_v,{children:l.map(h=>{const g=h.icon,v=s(h.path);return f.jsx(Sv,{children:f.jsxs(Ev,{onClick:()=>e(h.path),className:Me("transition-colors",v&&"bg-primary/10 text-primary font-medium"),tooltip:h.label,children:[f.jsx(g,{className:"h-4 w-4"}),f.jsx("span",{children:h.label})]})},h.path)})})})]}),i&&f.jsxs(xv,{children:[f.jsx(wv,{children:"Admin"}),f.jsx(bv,{children:f.jsx(_v,{children:d.map(h=>{const g=h.icon,v=s(h.path);return f.jsx(Sv,{children:f.jsxs(Ev,{onClick:()=>e(h.path),className:Me("transition-colors",v&&"bg-primary/10 text-primary font-medium"),tooltip:h.label,children:[f.jsx(g,{className:"h-4 w-4"}),f.jsx("span",{children:h.label})]})},h.path)})})})]}),f.jsxs(xv,{children:[f.jsx(wv,{children:"Quick Actions"}),f.jsx(bv,{children:f.jsx(_v,{children:Kie.map(h=>{const g=h.icon,v=s(h.path);return f.jsx(Sv,{children:f.jsxs(Ev,{onClick:()=>e(h.path),className:Me("transition-colors",v&&"bg-primary/10 text-primary font-medium"),tooltip:h.label,children:[f.jsx(g,{className:"h-4 w-4"}),f.jsx("span",{children:h.label})]})},h.path)})})})]})]})})}const Y0={CRITICAL:5,WARNING:15},Xie=()=>{const{toast:t}=mi(),e=N.useRef(new Set),r=N.useRef(null),n=N.useCallback(async()=>{try{const{data:{session:g}}=await Pe.auth.getSession();return g?.expires_at?g.expires_at*1e3:null}catch(g){return console.error("Error getting session expiration:",g),null}},[]),i=N.useCallback(async()=>{const g=await n();if(!g)return null;const v=Date.now();return Math.floor((g-v)/(1e3*60))},[n]),a=N.useCallback(async()=>{const g=await i();return g===null?!0:g<=0},[i]),s=N.useCallback(async()=>{try{const{data:{session:g},error:v}=await Pe.auth.refreshSession();return v?(console.error("Error refreshing session:",v),!1):g?(e.current.clear(),!0):!1}catch(g){return console.error("Error refreshing session:",g),!1}},[]),l=N.useCallback((g,v)=>{const b=v?Y0.CRITICAL:Y0.WARNING;e.current.has(b)||(e.current.add(b),t({variant:v?"destructive":"default",title:v?"Session Expiring Soon":"Session Timeout Warning",description:v?`Your session will expire in ${g} minutes. Please save your work.`:`Your session will expire in ${g} minutes.`,duration:v?1e4:5e3}))},[t]),d=N.useCallback(async()=>{try{e.current.clear(),t({variant:"destructive",title:"Session Expired",description:"Your session has expired. Please log in again.",duration:5e3}),await Pe.auth.signOut(),setTimeout(()=>{window.location.href="/login"},2e3)}catch(g){console.error("Error handling expired session:",g)}},[t]),h=N.useCallback(async()=>{try{const{data:{session:g}}=await Pe.auth.getSession();if(!g){e.current.clear();return}const v=await i();if(v===null)return;if(v<=0){await d();return}v<=Y0.CRITICAL?l(v,!0):v<=Y0.WARNING&&l(v,!1)}catch(g){console.error("Error monitoring session:",g)}},[i,d,l]);return N.useEffect(()=>{h(),r.current=setInterval(()=>{h()},6e4);const{data:{subscription:g}}=Pe.auth.onAuthStateChange(v=>{(v==="SIGNED_IN"||v==="TOKEN_REFRESHED"||v==="SIGNED_OUT")&&e.current.clear()});return()=>{r.current&&clearInterval(r.current),g.unsubscribe()}},[h]),{refreshSession:s,isSessionExpired:a,getMinutesUntilExpiration:i}},Zie=()=>{const t=_o(),[e,r]=N.useState(!1);return N.useEffect(()=>{r(!0);const n=setTimeout(()=>{r(!1)},300);return()=>clearTimeout(n)},[t.pathname]),e},Qie=()=>Zie()?f.jsx("div",{className:"fixed top-0 left-0 right-0 z-50",children:f.jsx("div",{className:"h-1 bg-primary/20",children:f.jsx("div",{className:"h-full bg-primary animate-pulse",style:{width:"100%"}})})}):null,l$=()=>typeof window<"u"&&window.location.hostname==="pinnacleadvisors.github.io"?"/mars-space-gym-buddy":"",vf=t=>{if(typeof window>"u")return t;const e=l$(),r=t.startsWith("/")?t:`/${t}`;return`${window.location.origin}${e}${r}`},Yu=()=>{const[t,e]=N.useState(null),[r,n]=N.useState(!0),i=N.useCallback(async g=>{if(!g)return null;try{const{data:v,error:b}=await Pe.from("profiles").select("*").eq("id",g.id).single();b&&b.code!=="PGRST116"&&console.error("Error fetching profile:",b);const{data:S,error:O}=await Pe.from("user_roles").select("role").eq("user_id",g.id).limit(1);O&&console.error("Error fetching roles:",O);const E=S&&S.length>0?S[0].role:"member",{data:C,error:j}=await Pe.from("user_memberships").select("status, start_date, end_date").eq("user_id",g.id).eq("status","active").eq("payment_status","paid").gt("end_date",new Date().toISOString()).order("created_at",{ascending:!1}).limit(1).maybeSingle();return j&&console.error("Error fetching membership:",j),{id:g.id,email:g.email||"",full_name:v?.full_name||g.user_metadata?.full_name||"",phone:v?.phone||void 0,role:E,membership_status:C?"active":"inactive",membership_start_date:C?.start_date||void 0,membership_end_date:C?.end_date||void 0,created_at:v?.created_at||g.created_at||new Date().toISOString(),updated_at:v?.updated_at||new Date().toISOString(),email_verified:g.email_confirmed_at!==null&&g.email_confirmed_at!==void 0}}catch(v){return console.error("Error in fetchUserData:",v),null}},[]);return N.useEffect(()=>{let g=!0;(async()=>{try{const{data:{session:S},error:O}=await Pe.auth.getSession();if(O){console.error("Error getting session:",O),g&&(e(null),n(!1));return}if(S){const E=Date.now()/1e3;if(S.expires_at&&S.expires_at<E){console.log("Session expired, attempting refresh...");const{data:{session:C},error:j}=await Pe.auth.refreshSession();if(j||!C){console.error("Error refreshing expired session:",j),g&&(e(null),n(!1));return}if(C.user&&g){const P=await i(C.user);e(P)}}else if(S.user&&g){const C=await i(S.user);e(C)}}else g&&e(null)}catch(S){console.error("Error initializing auth:",S),g&&e(null)}finally{g&&n(!1)}})();const{data:{subscription:b}}=Pe.auth.onAuthStateChange(async(S,O)=>{if(g){if(S==="SIGNED_OUT"||!O?.user){e(null),n(!1);return}if(S==="SIGNED_IN"||S==="TOKEN_REFRESHED"||S==="USER_UPDATED"){n(!0);try{const E=await i(O.user);e(E)}catch(E){console.error("Error updating user data:",E),e(null)}finally{n(!1)}}}});return()=>{g=!1,b.unsubscribe()}},[i]),{user:t,loading:r,login:async(g,v)=>{try{n(!0);const{data:b,error:S}=await Pe.auth.signInWithPassword({email:g,password:v});if(S)throw S;if(b.user){const O=await i(b.user);e(O)}return{error:null}}catch(b){return console.error("Login error:",b),{error:b}}finally{n(!1)}},logout:async()=>{try{n(!0);const{error:g}=await Pe.auth.signOut();if(g)throw g;return e(null),{error:null}}catch(g){return console.error("Logout error:",g),{error:g}}finally{n(!1)}},register:async(g,v,b)=>{try{n(!0);const{data:S,error:O}=await Pe.auth.signUp({email:g,password:v,options:{data:{full_name:b},emailRedirectTo:vf("/dashboard")}});if(O)throw O;return{data:S,error:null}}catch(S){return console.error("Registration error:",S),{data:null,error:S}}finally{n(!1)}},getUser:async()=>{try{const{data:{user:g},error:v}=await Pe.auth.getUser();if(v||!g)return e(null),null;const b=await i(g);return e(b),b}catch(g){return console.error("Error getting user:",g),e(null),null}},refreshSession:async()=>{try{n(!0);const{data:{session:g},error:v}=await Pe.auth.refreshSession();if(v)return console.error("Error refreshing session:",v),(v.message?.includes("expired")||v.message?.includes("invalid"))&&e(null),{success:!1,error:v};if(g?.user){const b=await i(g.user);return e(b),{success:!0}}return{success:!1,error:new Error("No session after refresh")}}catch(g){return console.error("Error refreshing session:",g),e(null),{success:!1,error:g}}finally{n(!1)}}}},Jie=["/","/login","/register","/forgot-password","/reset-password"];function eae({children:t}){const e=_o(),{user:r}=Yu(),n=Jie.includes(e.pathname),i=!n&&r;return Xie(),n?f.jsx(f.Fragment,{children:t}):f.jsxs(a$,{children:[i&&f.jsx(Qie,{}),f.jsxs("div",{className:"relative flex min-h-screen w-full",children:[i&&f.jsx("div",{className:"hidden md:block",children:f.jsx(Yie,{})}),f.jsxs("div",{className:"flex flex-1 flex-col",children:[i&&f.jsx(Vte,{}),f.jsx("main",{className:i?"flex-1 pb-20 md:pb-4":"flex-1",children:t}),i&&f.jsx(oie,{})]})]})]})}const mt=N.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:Me("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));mt.displayName="Card";const ir=N.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:Me("flex flex-col space-y-1.5 p-6",t),...e}));ir.displayName="CardHeader";const or=N.forwardRef(({className:t,...e},r)=>f.jsx("h3",{ref:r,className:Me("text-2xl font-semibold leading-none tracking-tight",t),...e}));or.displayName="CardTitle";const kr=N.forwardRef(({className:t,...e},r)=>f.jsx("p",{ref:r,className:Me("text-sm text-muted-foreground",t),...e}));kr.displayName="CardDescription";const gt=N.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:Me("p-6 pt-0",t),...e}));gt.displayName="CardContent";const tae=N.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:Me("flex items-center p-6 pt-0",t),...e}));tae.displayName="CardFooter";const rae=()=>{const{user:t}=Yu(),{toast:e}=mi(),r=Ai(),[n,i]=N.useState(!1),a=async()=>{if(t?.email){i(!0);try{const{error:s}=await Pe.auth.resend({type:"signup",email:t.email,options:{emailRedirectTo:vf("/dashboard")}});if(s)throw s;e({title:"Verification email sent",description:"Please check your email for the verification link."})}catch(s){e({variant:"destructive",title:"Failed to send verification email",description:s.message})}finally{i(!1)}}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:f.jsxs(mt,{className:"w-full max-w-md shadow-lg",children:[f.jsxs(ir,{className:"space-y-1 text-center",children:[f.jsx("div",{className:"flex justify-center mb-4",children:f.jsx("div",{className:"p-3 bg-gradient-accent rounded-full",children:f.jsx(bC,{className:"w-8 h-8 text-accent-foreground"})})}),f.jsx(or,{className:"text-2xl font-bold",children:"Email Verification Required"}),f.jsx(kr,{children:"Please verify your email address to continue"})]}),f.jsxs(gt,{className:"space-y-4",children:[f.jsxs("div",{className:"text-center space-y-2",children:[f.jsx("p",{className:"text-sm text-muted-foreground",children:"We've sent a verification email to:"}),f.jsx("p",{className:"font-medium",children:t?.email}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Click the link in the email to verify your account."})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(He,{onClick:a,disabled:n,className:"w-full",children:n?f.jsxs(f.Fragment,{children:[f.jsx(da,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):f.jsxs(f.Fragment,{children:[f.jsx(bC,{className:"mr-2 h-4 w-4"}),"Resend Verification Email"]})}),f.jsx(He,{variant:"outline",onClick:async()=>{await Pe.auth.signOut(),r("/login")},className:"w-full",children:"Sign Out"})]})]})]})})},Ld=({children:t,requireEmailVerification:e=!0})=>{const{user:r,loading:n}=Yu(),i=_o();return n?f.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:f.jsxs("div",{className:"flex flex-col items-center gap-4",children:[f.jsx(da,{className:"w-8 h-8 animate-spin text-primary"}),f.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):r?e&&!r.email_verified?f.jsx(rae,{}):f.jsx(f.Fragment,{children:t}):f.jsx(cJ,{to:"/login",state:{from:i},replace:!0})},c$=()=>{const[t,e]=N.useState(null),[r,n]=N.useState(!0),[i,a]=N.useState(null),s=Ai();N.useEffect(()=>{l();const{data:{subscription:h}}=Pe.auth.onAuthStateChange((g,v)=>{v?.user?(a(v.user),l()):(a(null),e(!1),n(!1))});return()=>h.unsubscribe()},[]);const l=async()=>{try{const{data:{session:h}}=await Pe.auth.getSession();if(!h?.user){e(!1),a(null),n(!1);return}a(h.user);const{data:g,error:v}=await Pe.rpc("has_role",{_user_id:h.user.id,_role:"admin"});v?(console.error("Error checking admin status:",v),e(!1)):e(g===!0)}catch(h){console.error("Error in checkAdminStatus:",h),e(!1)}finally{n(!1)}};return{isAdmin:t,isLoading:r,user:i,logout:async()=>{await Pe.auth.signOut(),a(null),e(!1),s("/")}}};var nae="Label",u$=N.forwardRef((t,e)=>f.jsx(Ot.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));u$.displayName=nae;var d$=u$;const iae=zu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),pn=N.forwardRef(({className:t,...e},r)=>f.jsx(d$,{ref:r,className:Me(iae(),t),...e}));pn.displayName=d$.displayName;const aae=()=>{const[t,e]=N.useState(""),[r,n]=N.useState(""),[i,a]=N.useState(!1),{toast:s}=mi(),l=Ai(),d=async h=>{h.preventDefault(),a(!0);try{const{data:g,error:v}=await Pe.auth.signInWithPassword({email:t,password:r});if(v)throw v;if(g.user){const{data:b,error:S}=await Pe.rpc("has_role",{_user_id:g.user.id,_role:"admin"});if(S)throw S;b?s({title:"Welcome back!",description:"Logged in successfully as admin."}):(await Pe.auth.signOut(),s({variant:"destructive",title:"Access Denied",description:"You don't have admin privileges."}))}}catch(g){s({variant:"destructive",title:"Login Failed",description:g.message||"Invalid credentials"})}finally{a(!1)}};return f.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-6",children:f.jsxs(mt,{className:"w-full max-w-md",children:[f.jsxs(ir,{className:"space-y-1 text-center",children:[f.jsx("div",{className:"flex justify-center mb-4",children:f.jsx("div",{className:"rounded-full bg-primary/10 p-3",children:f.jsx(DK,{className:"w-6 h-6 text-primary"})})}),f.jsx(or,{className:"text-2xl font-bold",children:"Admin Access"}),f.jsx(kr,{children:"Enter your credentials to access the admin dashboard"})]}),f.jsx(gt,{children:f.jsxs("form",{onSubmit:d,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(pn,{htmlFor:"email",children:"Email"}),f.jsx(rr,{id:"email",type:"email",placeholder:"admin@example.com",value:t,onChange:h=>e(h.target.value),required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(pn,{htmlFor:"password",children:"Password"}),f.jsx(rr,{id:"password",type:"password",value:r,onChange:h=>n(h.target.value),required:!0})]}),f.jsx(He,{type:"submit",className:"w-full",disabled:i,children:i?"Logging in...":"Login as Admin"}),f.jsx(He,{type:"button",variant:"ghost",className:"w-full",onClick:()=>l("/"),children:"Back to Home"})]})})]})})},Bd=({children:t})=>{const{isAdmin:e,isLoading:r}=c$();return _o(),r?f.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:f.jsxs("div",{className:"flex flex-col items-center gap-4",children:[f.jsx(da,{className:"w-8 h-8 animate-spin text-primary"}),f.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):e?f.jsx(f.Fragment,{children:t}):f.jsx(aae,{})},sae=(t,e)=>{const r=t instanceof Error?t:new Error(String(t)),n={message:r.message,stack:r.stack,name:r.name,timestamp:new Date().toISOString(),url:window.location.href,userAgent:navigator.userAgent,context:e||{}};try{const i=JSON.parse(localStorage.getItem("error_logs")||"[]");i.push(n);const a=i.slice(-10);localStorage.setItem("error_logs",JSON.stringify(a))}catch(i){console.warn("Failed to store error log:",i)}};class oae extends N.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,r){sae(e,{errorInfo:r,componentStack:r.componentStack,errorBoundary:!0}),this.props.onError&&this.props.onError(e,r),this.setState({error:e,errorInfo:r})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};handleReload=()=>{window.location.reload()};handleGoHome=()=>{window.location.href="/"};render(){return this.state.hasError?this.props.fallback?this.props.fallback:f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:f.jsxs(mt,{className:"w-full max-w-md shadow-lg",children:[f.jsxs(ir,{className:"space-y-1 text-center",children:[f.jsx("div",{className:"flex justify-center mb-4",children:f.jsx("div",{className:"p-3 bg-destructive/10 rounded-full",children:f.jsx(zK,{className:"w-8 h-8 text-destructive"})})}),f.jsx(or,{className:"text-2xl font-bold",children:"Something went wrong"}),f.jsx(kr,{children:"We're sorry, but something unexpected happened."})]}),f.jsxs(gt,{className:"space-y-4",children:[!1,f.jsxs("div",{className:"space-y-2",children:[f.jsxs(He,{onClick:this.handleReset,className:"w-full",variant:"default",children:[f.jsx(hf,{className:"mr-2 h-4 w-4"}),"Try Again"]}),f.jsxs(He,{onClick:this.handleReload,className:"w-full",variant:"outline",children:[f.jsx(hf,{className:"mr-2 h-4 w-4"}),"Reload Page"]}),f.jsxs(He,{onClick:this.handleGoHome,className:"w-full",variant:"ghost",children:[f.jsx(RK,{className:"mr-2 h-4 w-4"}),"Go to Home"]})]})]})]})}):this.props.children}}const lae=()=>{const t=Ai();return f.jsxs("div",{className:"relative min-h-screen overflow-hidden",children:[f.jsx("div",{className:"fixed inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:'url("/mars-space-gym-buddy/hero-background.jpg")'}}),f.jsx("div",{className:"fixed inset-0 bg-black/40"}),f.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col items-center justify-between px-6 py-12 md:py-16",children:[f.jsx("div",{className:"flex-shrink-0 mt-8 md:mt-12",children:f.jsx("img",{src:"/mars-space-gym-buddy/earth-space-logo-9.webp",alt:"Earth Space",className:"h-16 md:h-20 lg:h-24 w-auto mx-auto"})}),f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center max-w-3xl mx-auto space-y-8 md:space-y-12",children:[f.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-serif font-bold text-white leading-tight tracking-tight",children:"Welcome to Earth Space"}),f.jsx("p",{className:"text-lg md:text-xl lg:text-2xl text-white/95 font-sans leading-relaxed max-w-2xl px-4",children:"Discover a premium fitness experience with our comprehensive class timetable, seamless class booking system, and intuitive membership management. Your wellness journey starts here."})]}),f.jsxs("div",{className:"flex-shrink-0 w-full max-w-md mx-auto space-x-4 mb-8 md:mb-12 px-4",children:[f.jsx(He,{onClick:()=>t("/login"),className:"flex-1 h-12 md:h-14 rounded-full bg-white text-black font-semibold text-base md:text-lg hover:bg-white/90 transition-all shadow-lg hover:shadow-xl",children:"LOG IN"}),f.jsx(He,{onClick:()=>t("/register"),variant:"outline",className:"flex-1 h-12 md:h-14 rounded-full border-2 border-white text-white font-semibold text-base md:text-lg hover:bg-white/10 transition-all backdrop-blur-sm",children:"JOIN EARTH SPACE"})]})]})]})},os=t=>Au(typeof t=="string"?{variant:"success",title:"Success",description:t}:{variant:"success",title:t.title||"Success",description:t.description,duration:t.duration,action:t.action}),Yt=t=>Au(typeof t=="string"?{variant:"destructive",title:"Error",description:t}:{variant:"destructive",title:t.title||"Error",description:t.description,duration:t.duration,action:t.action}),cae=t=>Au(typeof t=="string"?{variant:"info",title:"Info",description:t}:{variant:"info",title:t.title||"Info",description:t.description,duration:t.duration,action:t.action}),Ba={bookingCreated:t=>({variant:"success",title:"Booking Confirmed!",description:`You've successfully booked ${t}.`}),bookingCancelled:()=>({variant:"success",title:"Booking Cancelled",description:"Your booking has been cancelled successfully."}),loginSuccess:()=>({variant:"success",title:"Welcome back!",description:"You have successfully logged in."}),registrationSuccess:()=>({variant:"success",title:"Account Created",description:"Your account has been created successfully."}),passwordReset:()=>({variant:"success",title:"Password Updated!",description:"Your password has been successfully reset."}),profileUpdated:()=>({variant:"success",title:"Profile Updated",description:"Your profile has been updated successfully."}),bookingFailed:t=>({variant:"destructive",title:"Booking Failed",description:t||"Failed to book class. Please try again."}),cancellationFailed:t=>({variant:"destructive",title:"Cancellation Failed",description:t||"Failed to cancel booking. Please try again."}),loginFailed:t=>({variant:"destructive",title:"Login Failed",description:t||"Invalid email or password. Please try again."}),networkError:()=>({variant:"destructive",title:"Network Error",description:"Please check your internet connection and try again."}),sessionExpired:()=>({variant:"destructive",title:"Session Expired",description:"Your session has expired. Please log in again."}),emailVerificationRequired:()=>({variant:"info",title:"Email Verification Required",description:"Please verify your email address to access all features."}),accountLocked:t=>({variant:"destructive",title:"Account Locked",description:`Too many failed login attempts. Please try again in ${t}.`}),classFull:()=>({variant:"destructive",title:"Class Full",description:"This class is fully booked. Please try another session."}),alreadyBooked:()=>({variant:"default",title:"Already Booked",description:"You already have a booking for this class."})};var cg=t=>t.type==="checkbox",pu=t=>t instanceof Date,Vi=t=>t==null;const f$=t=>typeof t=="object";var Mn=t=>!Vi(t)&&!Array.isArray(t)&&f$(t)&&!pu(t),h$=t=>Mn(t)&&t.target?cg(t.target)?t.target.checked:t.target.value:t,uae=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,p$=(t,e)=>t.has(uae(e)),dae=t=>{const e=t.constructor&&t.constructor.prototype;return Mn(e)&&e.hasOwnProperty("isPrototypeOf")},FT=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ni(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(FT&&(t instanceof Blob||n))&&(r||Mn(t)))if(e=r?[]:{},!r&&!dae(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=ni(t[i]));else return t;return e}var $1=t=>/^\w*$/.test(t),In=t=>t===void 0,$T=t=>Array.isArray(t)?t.filter(Boolean):[],UT=t=>$T(t.replace(/["|']|\]/g,"").split(/\.|\[/)),st=(t,e,r)=>{if(!e||!Mn(t))return r;const n=($1(e)?[e]:UT(e)).reduce((i,a)=>Vi(i)?i:i[a],t);return In(n)||n===t?In(t[e])?r:t[e]:n},Pa=t=>typeof t=="boolean",$r=(t,e,r)=>{let n=-1;const i=$1(e)?[e]:UT(e),a=i.length,s=a-1;for(;++n<a;){const l=i[n];let d=r;if(n!==s){const h=t[l];d=Mn(h)||Array.isArray(h)?h:isNaN(+i[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=d,t=t[l]}};const qv={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ls={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},$o={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},VT=te.createContext(null);VT.displayName="HookFormContext";const U1=()=>te.useContext(VT),fae=t=>{const{children:e,...r}=t;return te.createElement(VT.Provider,{value:r},e)};var m$=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const s=a;return e._proxyFormState[s]!==Ls.all&&(e._proxyFormState[s]=!n||Ls.all),r&&(r[s]=!0),t[s]}});return i};const WT=typeof window<"u"?te.useLayoutEffect:te.useEffect;function hae(t){const e=U1(),{control:r=e.control,disabled:n,name:i,exact:a}=t||{},[s,l]=te.useState(r._formState),d=te.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return WT(()=>r._subscribe({name:i,formState:d.current,exact:a,callback:h=>{!n&&l({...r._formState,...h})}}),[i,n,a]),te.useEffect(()=>{d.current.isValid&&r._setValid(!0)},[r]),te.useMemo(()=>m$(s,r,d.current,!1),[s,r])}var so=t=>typeof t=="string",g$=(t,e,r,n,i)=>so(t)?(n&&e.watch.add(t),st(r,t,i)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),st(r,a))):(n&&(e.watchAll=!0),r),YC=t=>Vi(t)||!f$(t);function Ho(t,e,r=new WeakSet){if(YC(t)||YC(e))return t===e;if(pu(t)&&pu(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const a of n){const s=t[a];if(!i.includes(a))return!1;if(a!=="ref"){const l=e[a];if(pu(s)&&pu(l)||Mn(s)&&Mn(l)||Array.isArray(s)&&Array.isArray(l)?!Ho(s,l,r):s!==l)return!1}}return!0}function pae(t){const e=U1(),{control:r=e.control,name:n,defaultValue:i,disabled:a,exact:s,compute:l}=t||{},d=te.useRef(i),h=te.useRef(l),g=te.useRef(void 0);h.current=l;const v=te.useMemo(()=>r._getWatch(n,d.current),[r,n]),[b,S]=te.useState(h.current?h.current(v):v);return WT(()=>r._subscribe({name:n,formState:{values:!0},exact:s,callback:O=>{if(!a){const E=g$(n,r._names,O.values||r._formValues,!1,d.current);if(h.current){const C=h.current(E);Ho(C,g.current)||(S(C),g.current=C)}else S(E)}}}),[r,a,n,s]),te.useEffect(()=>r._removeUnmounted()),b}function mae(t){const e=U1(),{name:r,disabled:n,control:i=e.control,shouldUnregister:a,defaultValue:s}=t,l=p$(i._names.array,r),d=te.useMemo(()=>st(i._formValues,r,st(i._defaultValues,r,s)),[i,r,s]),h=pae({control:i,name:r,defaultValue:d,exact:!0}),g=hae({control:i,name:r,exact:!0}),v=te.useRef(t),b=te.useRef(i.register(r,{...t.rules,value:h,...Pa(t.disabled)?{disabled:t.disabled}:{}}));v.current=t;const S=te.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!st(g.errors,r)},isDirty:{enumerable:!0,get:()=>!!st(g.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!st(g.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!st(g.validatingFields,r)},error:{enumerable:!0,get:()=>st(g.errors,r)}}),[g,r]),O=te.useCallback(P=>b.current.onChange({target:{value:h$(P),name:r},type:qv.CHANGE}),[r]),E=te.useCallback(()=>b.current.onBlur({target:{value:st(i._formValues,r),name:r},type:qv.BLUR}),[r,i._formValues]),C=te.useCallback(P=>{const I=st(i._fields,r);I&&P&&(I._f.ref={focus:()=>P.focus&&P.focus(),select:()=>P.select&&P.select(),setCustomValidity:F=>P.setCustomValidity(F),reportValidity:()=>P.reportValidity()})},[i._fields,r]),j=te.useMemo(()=>({name:r,value:h,...Pa(n)||g.disabled?{disabled:g.disabled||n}:{},onChange:O,onBlur:E,ref:C}),[r,n,g.disabled,O,E,C,h]);return te.useEffect(()=>{const P=i._options.shouldUnregister||a;i.register(r,{...v.current.rules,...Pa(v.current.disabled)?{disabled:v.current.disabled}:{}});const I=(F,R)=>{const M=st(i._fields,F);M&&M._f&&(M._f.mount=R)};if(I(r,!0),P){const F=ni(st(i._options.defaultValues,r));$r(i._defaultValues,r,F),In(st(i._formValues,r))&&$r(i._formValues,r,F)}return!l&&i.register(r),()=>{(l?P&&!i._state.action:P)?i.unregister(r):I(r,!1)}},[r,i,l,a]),te.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),te.useMemo(()=>({field:j,formState:g,fieldState:S}),[j,g,S])}const gae=t=>t.render(mae(t));var v$=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},Ip=t=>Array.isArray(t)?t:[t],l3=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},ca=t=>Mn(t)&&!Object.keys(t).length,qT=t=>t.type==="file",Bs=t=>typeof t=="function",zv=t=>{if(!FT)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},y$=t=>t.type==="select-multiple",zT=t=>t.type==="radio",vae=t=>zT(t)||cg(t),Ib=t=>zv(t)&&t.isConnected;function yae(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=In(t)?n++:t[e[n++]];return t}function xae(t){for(const e in t)if(t.hasOwnProperty(e)&&!In(t[e]))return!1;return!0}function Fn(t,e){const r=Array.isArray(e)?e:$1(e)?[e]:UT(e),n=r.length===1?t:yae(t,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(Mn(n)&&ca(n)||Array.isArray(n)&&xae(n))&&Fn(t,r.slice(0,-1)),t}var x$=t=>{for(const e in t)if(Bs(t[e]))return!0;return!1};function Hv(t,e={}){const r=Array.isArray(t);if(Mn(t)||r)for(const n in t)Array.isArray(t[n])||Mn(t[n])&&!x$(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Hv(t[n],e[n])):Vi(t[n])||(e[n]=!0);return e}function w$(t,e,r){const n=Array.isArray(t);if(Mn(t)||n)for(const i in t)Array.isArray(t[i])||Mn(t[i])&&!x$(t[i])?In(e)||YC(r[i])?r[i]=Array.isArray(t[i])?Hv(t[i],[]):{...Hv(t[i])}:w$(t[i],Vi(e)?{}:e[i],r[i]):r[i]=!Ho(t[i],e[i]);return r}var sp=(t,e)=>w$(t,e,Hv(e));const c3={value:!1,isValid:!1},u3={value:!0,isValid:!0};var b$=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!In(t[0].attributes.value)?In(t[0].value)||t[0].value===""?u3:{value:t[0].value,isValid:!0}:u3:c3}return c3},_$=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>In(t)?t:e?t===""?NaN:t&&+t:r&&so(t)?new Date(t):n?n(t):t;const d3={isValid:!1,value:null};var S$=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,d3):d3;function f3(t){const e=t.ref;return qT(e)?e.files:zT(e)?S$(t.refs).value:y$(e)?[...e.selectedOptions].map(({value:r})=>r):cg(e)?b$(t.refs).value:_$(In(e.value)?t.ref.value:e.value,t)}var wae=(t,e,r,n)=>{const i={};for(const a of t){const s=st(e,a);s&&$r(i,a,s._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Gv=t=>t instanceof RegExp,op=t=>In(t)?t:Gv(t)?t.source:Mn(t)?Gv(t.value)?t.value.source:t.value:t,h3=t=>({isOnSubmit:!t||t===Ls.onSubmit,isOnBlur:t===Ls.onBlur,isOnChange:t===Ls.onChange,isOnAll:t===Ls.all,isOnTouch:t===Ls.onTouched});const p3="AsyncFunction";var bae=t=>!!t&&!!t.validate&&!!(Bs(t.validate)&&t.validate.constructor.name===p3||Mn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===p3)),_ae=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),m3=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Rp=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const a=st(t,i);if(a){const{_f:s,...l}=a;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],i)&&!n)return!0;if(s.ref&&e(s.ref,s.name)&&!n)return!0;if(Rp(l,e))break}else if(Mn(l)&&Rp(l,e))break}}};function g3(t,e,r){const n=st(t,r);if(n||$1(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),s=st(e,a),l=st(t,a);if(s&&!Array.isArray(s)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};i.pop()}return{name:r}}var Sae=(t,e,r,n)=>{r(t);const{name:i,...a}=t;return ca(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(s=>e[s]===(!n||Ls.all))},Eae=(t,e,r)=>!t||!e||t===e||Ip(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),Cae=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,Aae=(t,e)=>!$T(st(t,e)).length&&Fn(t,e),Oae=(t,e,r)=>{const n=Ip(st(t,r));return $r(n,"root",e[r]),$r(t,r,n),t},Cv=t=>so(t);function v3(t,e,r="validate"){if(Cv(t)||Array.isArray(t)&&t.every(Cv)||Pa(t)&&!t)return{type:r,message:Cv(t)?t:"",ref:e}}var Fd=t=>Mn(t)&&!Gv(t)?t:{value:t,message:""},y3=async(t,e,r,n,i,a)=>{const{ref:s,refs:l,required:d,maxLength:h,minLength:g,min:v,max:b,pattern:S,validate:O,name:E,valueAsNumber:C,mount:j}=t._f,P=st(r,E);if(!j||e.has(E))return{};const I=l?l[0]:s,F=W=>{i&&I.reportValidity&&(I.setCustomValidity(Pa(W)?"":W||""),I.reportValidity())},R={},M=zT(s),B=cg(s),q=M||B,U=(C||qT(s))&&In(s.value)&&In(P)||zv(s)&&s.value===""||P===""||Array.isArray(P)&&!P.length,z=v$.bind(null,E,n,R),G=(W,H,Q,X=$o.maxLength,se=$o.minLength)=>{const ne=W?H:Q;R[E]={type:W?X:se,message:ne,ref:s,...z(W?X:se,ne)}};if(a?!Array.isArray(P)||!P.length:d&&(!q&&(U||Vi(P))||Pa(P)&&!P||B&&!b$(l).isValid||M&&!S$(l).isValid)){const{value:W,message:H}=Cv(d)?{value:!!d,message:d}:Fd(d);if(W&&(R[E]={type:$o.required,message:H,ref:I,...z($o.required,H)},!n))return F(H),R}if(!U&&(!Vi(v)||!Vi(b))){let W,H;const Q=Fd(b),X=Fd(v);if(!Vi(P)&&!isNaN(P)){const se=s.valueAsNumber||P&&+P;Vi(Q.value)||(W=se>Q.value),Vi(X.value)||(H=se<X.value)}else{const se=s.valueAsDate||new Date(P),ne=he=>new Date(new Date().toDateString()+" "+he),re=s.type=="time",J=s.type=="week";so(Q.value)&&P&&(W=re?ne(P)>ne(Q.value):J?P>Q.value:se>new Date(Q.value)),so(X.value)&&P&&(H=re?ne(P)<ne(X.value):J?P<X.value:se<new Date(X.value))}if((W||H)&&(G(!!W,Q.message,X.message,$o.max,$o.min),!n))return F(R[E].message),R}if((h||g)&&!U&&(so(P)||a&&Array.isArray(P))){const W=Fd(h),H=Fd(g),Q=!Vi(W.value)&&P.length>+W.value,X=!Vi(H.value)&&P.length<+H.value;if((Q||X)&&(G(Q,W.message,H.message),!n))return F(R[E].message),R}if(S&&!U&&so(P)){const{value:W,message:H}=Fd(S);if(Gv(W)&&!P.match(W)&&(R[E]={type:$o.pattern,message:H,ref:s,...z($o.pattern,H)},!n))return F(H),R}if(O){if(Bs(O)){const W=await O(P,r),H=v3(W,I);if(H&&(R[E]={...H,...z($o.validate,H.message)},!n))return F(H.message),R}else if(Mn(O)){let W={};for(const H in O){if(!ca(W)&&!n)break;const Q=v3(await O[H](P,r),I,H);Q&&(W={...Q,...z(H,Q.message)},F(Q.message),n&&(R[E]=W))}if(!ca(W)&&(R[E]={ref:I,...W},!n))return R}}return F(!0),R};const Tae={mode:Ls.onSubmit,reValidateMode:Ls.onChange,shouldFocusError:!0};function Nae(t={}){let e={...Tae,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Bs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Mn(e.defaultValues)||Mn(e.values)?ni(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:ni(i),s={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,h=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let v={...g};const b={array:l3(),state:l3()},S=e.criteriaMode===Ls.all,O=de=>fe=>{clearTimeout(h),h=setTimeout(de,fe)},E=async de=>{if(!e.disabled&&(g.isValid||v.isValid||de)){const fe=e.resolver?ca((await B()).errors):await U(n,!0);fe!==r.isValid&&b.state.next({isValid:fe})}},C=(de,fe)=>{!e.disabled&&(g.isValidating||g.validatingFields||v.isValidating||v.validatingFields)&&((de||Array.from(l.mount)).forEach(Ee=>{Ee&&(fe?$r(r.validatingFields,Ee,fe):Fn(r.validatingFields,Ee))}),b.state.next({validatingFields:r.validatingFields,isValidating:!ca(r.validatingFields)}))},j=(de,fe=[],Ee,Xe,Fe=!0,$e=!0)=>{if(Xe&&Ee&&!e.disabled){if(s.action=!0,$e&&Array.isArray(st(n,de))){const tt=Ee(st(n,de),Xe.argA,Xe.argB);Fe&&$r(n,de,tt)}if($e&&Array.isArray(st(r.errors,de))){const tt=Ee(st(r.errors,de),Xe.argA,Xe.argB);Fe&&$r(r.errors,de,tt),Aae(r.errors,de)}if((g.touchedFields||v.touchedFields)&&$e&&Array.isArray(st(r.touchedFields,de))){const tt=Ee(st(r.touchedFields,de),Xe.argA,Xe.argB);Fe&&$r(r.touchedFields,de,tt)}(g.dirtyFields||v.dirtyFields)&&(r.dirtyFields=sp(i,a)),b.state.next({name:de,isDirty:G(de,fe),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else $r(a,de,fe)},P=(de,fe)=>{$r(r.errors,de,fe),b.state.next({errors:r.errors})},I=de=>{r.errors=de,b.state.next({errors:r.errors,isValid:!1})},F=(de,fe,Ee,Xe)=>{const Fe=st(n,de);if(Fe){const $e=st(a,de,In(Ee)?st(i,de):Ee);In($e)||Xe&&Xe.defaultChecked||fe?$r(a,de,fe?$e:f3(Fe._f)):Q(de,$e),s.mount&&E()}},R=(de,fe,Ee,Xe,Fe)=>{let $e=!1,tt=!1;const It={name:de};if(!e.disabled){if(!Ee||Xe){(g.isDirty||v.isDirty)&&(tt=r.isDirty,r.isDirty=It.isDirty=G(),$e=tt!==It.isDirty);const Wt=Ho(st(i,de),fe);tt=!!st(r.dirtyFields,de),Wt?Fn(r.dirtyFields,de):$r(r.dirtyFields,de,!0),It.dirtyFields=r.dirtyFields,$e=$e||(g.dirtyFields||v.dirtyFields)&&tt!==!Wt}if(Ee){const Wt=st(r.touchedFields,de);Wt||($r(r.touchedFields,de,Ee),It.touchedFields=r.touchedFields,$e=$e||(g.touchedFields||v.touchedFields)&&Wt!==Ee)}$e&&Fe&&b.state.next(It)}return $e?It:{}},M=(de,fe,Ee,Xe)=>{const Fe=st(r.errors,de),$e=(g.isValid||v.isValid)&&Pa(fe)&&r.isValid!==fe;if(e.delayError&&Ee?(d=O(()=>P(de,Ee)),d(e.delayError)):(clearTimeout(h),d=null,Ee?$r(r.errors,de,Ee):Fn(r.errors,de)),(Ee?!Ho(Fe,Ee):Fe)||!ca(Xe)||$e){const tt={...Xe,...$e&&Pa(fe)?{isValid:fe}:{},errors:r.errors,name:de};r={...r,...tt},b.state.next(tt)}},B=async de=>{C(de,!0);const fe=await e.resolver(a,e.context,wae(de||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return C(de),fe},q=async de=>{const{errors:fe}=await B(de);if(de)for(const Ee of de){const Xe=st(fe,Ee);Xe?$r(r.errors,Ee,Xe):Fn(r.errors,Ee)}else r.errors=fe;return fe},U=async(de,fe,Ee={valid:!0})=>{for(const Xe in de){const Fe=de[Xe];if(Fe){const{_f:$e,...tt}=Fe;if($e){const It=l.array.has($e.name),Wt=Fe._f&&bae(Fe._f);Wt&&g.validatingFields&&C([Xe],!0);const pr=await y3(Fe,l.disabled,a,S,e.shouldUseNativeValidation&&!fe,It);if(Wt&&g.validatingFields&&C([Xe]),pr[$e.name]&&(Ee.valid=!1,fe))break;!fe&&(st(pr,$e.name)?It?Oae(r.errors,pr,$e.name):$r(r.errors,$e.name,pr[$e.name]):Fn(r.errors,$e.name))}!ca(tt)&&await U(tt,fe,Ee)}}return Ee.valid},z=()=>{for(const de of l.unMount){const fe=st(n,de);fe&&(fe._f.refs?fe._f.refs.every(Ee=>!Ib(Ee)):!Ib(fe._f.ref))&&Te(de)}l.unMount=new Set},G=(de,fe)=>!e.disabled&&(de&&fe&&$r(a,de,fe),!Ho(he(),i)),W=(de,fe,Ee)=>g$(de,l,{...s.mount?a:In(fe)?i:so(de)?{[de]:fe}:fe},Ee,fe),H=de=>$T(st(s.mount?a:i,de,e.shouldUnregister?st(i,de,[]):[])),Q=(de,fe,Ee={})=>{const Xe=st(n,de);let Fe=fe;if(Xe){const $e=Xe._f;$e&&(!$e.disabled&&$r(a,de,_$(fe,$e)),Fe=zv($e.ref)&&Vi(fe)?"":fe,y$($e.ref)?[...$e.ref.options].forEach(tt=>tt.selected=Fe.includes(tt.value)):$e.refs?cg($e.ref)?$e.refs.forEach(tt=>{(!tt.defaultChecked||!tt.disabled)&&(Array.isArray(Fe)?tt.checked=!!Fe.find(It=>It===tt.value):tt.checked=Fe===tt.value||!!Fe)}):$e.refs.forEach(tt=>tt.checked=tt.value===Fe):qT($e.ref)?$e.ref.value="":($e.ref.value=Fe,$e.ref.type||b.state.next({name:de,values:ni(a)})))}(Ee.shouldDirty||Ee.shouldTouch)&&R(de,Fe,Ee.shouldTouch,Ee.shouldDirty,!0),Ee.shouldValidate&&J(de)},X=(de,fe,Ee)=>{for(const Xe in fe){if(!fe.hasOwnProperty(Xe))return;const Fe=fe[Xe],$e=de+"."+Xe,tt=st(n,$e);(l.array.has(de)||Mn(Fe)||tt&&!tt._f)&&!pu(Fe)?X($e,Fe,Ee):Q($e,Fe,Ee)}},se=(de,fe,Ee={})=>{const Xe=st(n,de),Fe=l.array.has(de),$e=ni(fe);$r(a,de,$e),Fe?(b.array.next({name:de,values:ni(a)}),(g.isDirty||g.dirtyFields||v.isDirty||v.dirtyFields)&&Ee.shouldDirty&&b.state.next({name:de,dirtyFields:sp(i,a),isDirty:G(de,$e)})):Xe&&!Xe._f&&!Vi($e)?X(de,$e,Ee):Q(de,$e,Ee),m3(de,l)&&b.state.next({...r,name:de}),b.state.next({name:s.mount?de:void 0,values:ni(a)})},ne=async de=>{s.mount=!0;const fe=de.target;let Ee=fe.name,Xe=!0;const Fe=st(n,Ee),$e=Wt=>{Xe=Number.isNaN(Wt)||pu(Wt)&&isNaN(Wt.getTime())||Ho(Wt,st(a,Ee,Wt))},tt=h3(e.mode),It=h3(e.reValidateMode);if(Fe){let Wt,pr;const Dn=fe.type?f3(Fe._f):h$(de),yn=de.type===qv.BLUR||de.type===qv.FOCUS_OUT,Ys=!_ae(Fe._f)&&!e.resolver&&!st(r.errors,Ee)&&!Fe._f.deps||Cae(yn,st(r.touchedFields,Ee),r.isSubmitted,It,tt),ar=m3(Ee,l,yn);$r(a,Ee,Dn),yn?(Fe._f.onBlur&&Fe._f.onBlur(de),d&&d(0)):Fe._f.onChange&&Fe._f.onChange(de);const Ke=R(Ee,Dn,yn),Vr=!ca(Ke)||ar;if(!yn&&b.state.next({name:Ee,type:de.type,values:ni(a)}),Ys)return(g.isValid||v.isValid)&&(e.mode==="onBlur"?yn&&E():yn||E()),Vr&&b.state.next({name:Ee,...ar?{}:Ke});if(!yn&&ar&&b.state.next({...r}),e.resolver){const{errors:Jt}=await B([Ee]);if($e(Dn),Xe){const Rr=g3(r.errors,n,Ee),Ji=g3(Jt,n,Rr.name||Ee);Wt=Ji.error,Ee=Ji.name,pr=ca(Jt)}}else C([Ee],!0),Wt=(await y3(Fe,l.disabled,a,S,e.shouldUseNativeValidation))[Ee],C([Ee]),$e(Dn),Xe&&(Wt?pr=!1:(g.isValid||v.isValid)&&(pr=await U(n,!0)));Xe&&(Fe._f.deps&&J(Fe._f.deps),M(Ee,pr,Wt,Ke))}},re=(de,fe)=>{if(st(r.errors,fe)&&de.focus)return de.focus(),1},J=async(de,fe={})=>{let Ee,Xe;const Fe=Ip(de);if(e.resolver){const $e=await q(In(de)?de:Fe);Ee=ca($e),Xe=de?!Fe.some(tt=>st($e,tt)):Ee}else de?(Xe=(await Promise.all(Fe.map(async $e=>{const tt=st(n,$e);return await U(tt&&tt._f?{[$e]:tt}:tt)}))).every(Boolean),!(!Xe&&!r.isValid)&&E()):Xe=Ee=await U(n);return b.state.next({...!so(de)||(g.isValid||v.isValid)&&Ee!==r.isValid?{}:{name:de},...e.resolver||!de?{isValid:Ee}:{},errors:r.errors}),fe.shouldFocus&&!Xe&&Rp(n,re,de?Fe:l.mount),Xe},he=de=>{const fe={...s.mount?a:i};return In(de)?fe:so(de)?st(fe,de):de.map(Ee=>st(fe,Ee))},ie=(de,fe)=>({invalid:!!st((fe||r).errors,de),isDirty:!!st((fe||r).dirtyFields,de),error:st((fe||r).errors,de),isValidating:!!st(r.validatingFields,de),isTouched:!!st((fe||r).touchedFields,de)}),le=de=>{de&&Ip(de).forEach(fe=>Fn(r.errors,fe)),b.state.next({errors:de?r.errors:{}})},we=(de,fe,Ee)=>{const Xe=(st(n,de,{_f:{}})._f||{}).ref,Fe=st(r.errors,de)||{},{ref:$e,message:tt,type:It,...Wt}=Fe;$r(r.errors,de,{...Wt,...fe,ref:Xe}),b.state.next({name:de,errors:r.errors,isValid:!1}),Ee&&Ee.shouldFocus&&Xe&&Xe.focus&&Xe.focus()},ke=(de,fe)=>Bs(de)?b.state.subscribe({next:Ee=>"values"in Ee&&de(W(void 0,fe),Ee)}):W(de,fe,!0),qe=de=>b.state.subscribe({next:fe=>{Eae(de.name,fe.name,de.exact)&&Sae(fe,de.formState||g,et,de.reRenderRoot)&&de.callback({values:{...a},...r,...fe,defaultValues:i})}}).unsubscribe,je=de=>(s.mount=!0,v={...v,...de.formState},qe({...de,formState:v})),Te=(de,fe={})=>{for(const Ee of de?Ip(de):l.mount)l.mount.delete(Ee),l.array.delete(Ee),fe.keepValue||(Fn(n,Ee),Fn(a,Ee)),!fe.keepError&&Fn(r.errors,Ee),!fe.keepDirty&&Fn(r.dirtyFields,Ee),!fe.keepTouched&&Fn(r.touchedFields,Ee),!fe.keepIsValidating&&Fn(r.validatingFields,Ee),!e.shouldUnregister&&!fe.keepDefaultValue&&Fn(i,Ee);b.state.next({values:ni(a)}),b.state.next({...r,...fe.keepDirty?{isDirty:G()}:{}}),!fe.keepIsValid&&E()},De=({disabled:de,name:fe})=>{(Pa(de)&&s.mount||de||l.disabled.has(fe))&&(de?l.disabled.add(fe):l.disabled.delete(fe))},Ne=(de,fe={})=>{let Ee=st(n,de);const Xe=Pa(fe.disabled)||Pa(e.disabled);return $r(n,de,{...Ee||{},_f:{...Ee&&Ee._f?Ee._f:{ref:{name:de}},name:de,mount:!0,...fe}}),l.mount.add(de),Ee?De({disabled:Pa(fe.disabled)?fe.disabled:e.disabled,name:de}):F(de,!0,fe.value),{...Xe?{disabled:fe.disabled||e.disabled}:{},...e.progressive?{required:!!fe.required,min:op(fe.min),max:op(fe.max),minLength:op(fe.minLength),maxLength:op(fe.maxLength),pattern:op(fe.pattern)}:{},name:de,onChange:ne,onBlur:ne,ref:Fe=>{if(Fe){Ne(de,fe),Ee=st(n,de);const $e=In(Fe.value)&&Fe.querySelectorAll&&Fe.querySelectorAll("input,select,textarea")[0]||Fe,tt=vae($e),It=Ee._f.refs||[];if(tt?It.find(Wt=>Wt===$e):$e===Ee._f.ref)return;$r(n,de,{_f:{...Ee._f,...tt?{refs:[...It.filter(Ib),$e,...Array.isArray(st(i,de))?[{}]:[]],ref:{type:$e.type,name:de}}:{ref:$e}}}),F(de,!1,void 0,$e)}else Ee=st(n,de,{}),Ee._f&&(Ee._f.mount=!1),(e.shouldUnregister||fe.shouldUnregister)&&!(p$(l.array,de)&&s.action)&&l.unMount.add(de)}}},Le=()=>e.shouldFocusError&&Rp(n,re,l.mount),ue=de=>{Pa(de)&&(b.state.next({disabled:de}),Rp(n,(fe,Ee)=>{const Xe=st(n,Ee);Xe&&(fe.disabled=Xe._f.disabled||de,Array.isArray(Xe._f.refs)&&Xe._f.refs.forEach(Fe=>{Fe.disabled=Xe._f.disabled||de}))},0,!1))},ve=(de,fe)=>async Ee=>{let Xe;Ee&&(Ee.preventDefault&&Ee.preventDefault(),Ee.persist&&Ee.persist());let Fe=ni(a);if(b.state.next({isSubmitting:!0}),e.resolver){const{errors:$e,values:tt}=await B();r.errors=$e,Fe=ni(tt)}else await U(n);if(l.disabled.size)for(const $e of l.disabled)Fn(Fe,$e);if(Fn(r.errors,"root"),ca(r.errors)){b.state.next({errors:{}});try{await de(Fe,Ee)}catch($e){Xe=$e}}else fe&&await fe({...r.errors},Ee),Le(),setTimeout(Le);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ca(r.errors)&&!Xe,submitCount:r.submitCount+1,errors:r.errors}),Xe)throw Xe},Ue=(de,fe={})=>{st(n,de)&&(In(fe.defaultValue)?se(de,ni(st(i,de))):(se(de,fe.defaultValue),$r(i,de,ni(fe.defaultValue))),fe.keepTouched||Fn(r.touchedFields,de),fe.keepDirty||(Fn(r.dirtyFields,de),r.isDirty=fe.defaultValue?G(de,ni(st(i,de))):G()),fe.keepError||(Fn(r.errors,de),g.isValid&&E()),b.state.next({...r}))},Ie=(de,fe={})=>{const Ee=de?ni(de):i,Xe=ni(Ee),Fe=ca(de),$e=Fe?i:Xe;if(fe.keepDefaultValues||(i=Ee),!fe.keepValues){if(fe.keepDirtyValues){const tt=new Set([...l.mount,...Object.keys(sp(i,a))]);for(const It of Array.from(tt))st(r.dirtyFields,It)?$r($e,It,st(a,It)):se(It,st($e,It))}else{if(FT&&In(de))for(const tt of l.mount){const It=st(n,tt);if(It&&It._f){const Wt=Array.isArray(It._f.refs)?It._f.refs[0]:It._f.ref;if(zv(Wt)){const pr=Wt.closest("form");if(pr){pr.reset();break}}}}if(fe.keepFieldsRef)for(const tt of l.mount)se(tt,st($e,tt));else n={}}a=e.shouldUnregister?fe.keepDefaultValues?ni(i):{}:ni($e),b.array.next({values:{...$e}}),b.state.next({values:{...$e}})}l={mount:fe.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!g.isValid||!!fe.keepIsValid||!!fe.keepDirtyValues,s.watch=!!e.shouldUnregister,b.state.next({submitCount:fe.keepSubmitCount?r.submitCount:0,isDirty:Fe?!1:fe.keepDirty?r.isDirty:!!(fe.keepDefaultValues&&!Ho(de,i)),isSubmitted:fe.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Fe?{}:fe.keepDirtyValues?fe.keepDefaultValues&&a?sp(i,a):r.dirtyFields:fe.keepDefaultValues&&de?sp(i,de):fe.keepDirty?r.dirtyFields:{},touchedFields:fe.keepTouched?r.touchedFields:{},errors:fe.keepErrors?r.errors:{},isSubmitSuccessful:fe.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ge=(de,fe)=>Ie(Bs(de)?de(a):de,fe),ct=(de,fe={})=>{const Ee=st(n,de),Xe=Ee&&Ee._f;if(Xe){const Fe=Xe.refs?Xe.refs[0]:Xe.ref;Fe.focus&&(Fe.focus(),fe.shouldSelect&&Bs(Fe.select)&&Fe.select())}},et=de=>{r={...r,...de}},at={control:{register:Ne,unregister:Te,getFieldState:ie,handleSubmit:ve,setError:we,_subscribe:qe,_runSchema:B,_focusError:Le,_getWatch:W,_getDirty:G,_setValid:E,_setFieldArray:j,_setDisabledField:De,_setErrors:I,_getFieldArray:H,_reset:Ie,_resetDefaultValues:()=>Bs(e.defaultValues)&&e.defaultValues().then(de=>{Ge(de,e.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:z,_disableForm:ue,_subjects:b,_proxyFormState:g,get _fields(){return n},get _formValues(){return a},get _state(){return s},set _state(de){s=de},get _defaultValues(){return i},get _names(){return l},set _names(de){l=de},get _formState(){return r},get _options(){return e},set _options(de){e={...e,...de}}},subscribe:je,trigger:J,register:Ne,handleSubmit:ve,watch:ke,setValue:se,getValues:he,reset:Ge,resetField:Ue,clearErrors:le,unregister:Te,setError:we,setFocus:ct,getFieldState:ie};return{...at,formControl:at}}function yf(t={}){const e=te.useRef(void 0),r=te.useRef(void 0),[n,i]=te.useState({isDirty:!1,isValidating:!1,isLoading:Bs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Bs(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Bs(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:s,...l}=Nae(t);e.current={...l,formState:n}}const a=e.current.control;return a._options=t,WT(()=>{const s=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),a._formState.isReady=!0,s},[a]),te.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),te.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),te.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),te.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),te.useEffect(()=>{if(a._proxyFormState.isDirty){const s=a._getDirty();s!==n.isDirty&&a._subjects.state.next({isDirty:s})}},[a,n.isDirty]),te.useEffect(()=>{t.values&&!Ho(t.values,r.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=t.values,i(s=>({...s}))):a._resetDefaultValues()},[a,t.values]),te.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=m$(n,a),e.current}const x3=(t,e,r)=>{if(t&&"reportValidity"in t){const n=st(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},E$=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?x3(n.ref,r,t):n.refs&&n.refs.forEach(i=>x3(i,r,t))}},kae=(t,e)=>{e.shouldUseNativeValidation&&E$(t,e);const r={};for(const n in t){const i=st(e.fields,n),a=Object.assign(t[n]||{},{ref:i&&i.ref});if(Pae(e.names||Object.keys(t),n)){const s=Object.assign({},st(r,n));$r(s,"root",a),$r(r,n,s)}else $r(r,n,a)}return r},Pae=(t,e)=>t.some(r=>r.startsWith(e+"."));var jae=function(t,e){for(var r={};t.length;){var n=t[0],i=n.code,a=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[s]={message:l.message,type:l.code}}else r[s]={message:a,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(g){return g.errors.forEach(function(v){return t.push(v)})}),e){var d=r[s].types,h=d&&d[n.code];r[s]=v$(s,e,r,i,h?[].concat(h,n.message):n.message)}t.shift()}return r},xf=function(t,e,r){return r===void 0&&(r={}),function(n,i,a){try{return Promise.resolve((function(s,l){try{var d=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(h){return a.shouldUseNativeValidation&&E$({},a),{errors:{},values:r.raw?n:h}})}catch(h){return l(h)}return d&&d.then?d.then(void 0,l):d})(0,function(s){if((function(l){return Array.isArray(l?.errors)})(s))return{values:{},errors:kae(jae(s.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw s}))}catch(s){return Promise.reject(s)}}},Nr;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),s={};for(const l of a)s[l]=i[l];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},t.find=(i,a)=>{for(const s of i)if(a(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Nr||(Nr={}));var w3;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(w3||(w3={}));const xt=Nr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Hl=t=>{switch(typeof t){case"undefined":return xt.undefined;case"string":return xt.string;case"number":return Number.isNaN(t)?xt.nan:xt.number;case"boolean":return xt.boolean;case"function":return xt.function;case"bigint":return xt.bigint;case"symbol":return xt.symbol;case"object":return Array.isArray(t)?xt.array:t===null?xt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?xt.promise:typeof Map<"u"&&t instanceof Map?xt.map:typeof Set<"u"&&t instanceof Set?xt.set:typeof Date<"u"&&t instanceof Date?xt.date:xt.object;default:return xt.unknown}},nt=Nr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class nl extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let l=n,d=0;for(;d<s.path.length;){const h=s.path[d];d===s.path.length-1?(l[h]=l[h]||{_errors:[]},l[h]._errors.push(r(s))):l[h]=l[h]||{_errors:[]},l=l[h],d++}}};return i(this),n}static assert(e){if(!(e instanceof nl))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Nr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];r[a]=r[a]||[],r[a].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}nl.create=t=>new nl(t);const XC=(t,e)=>{let r;switch(t.code){case nt.invalid_type:t.received===xt.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case nt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Nr.jsonStringifyReplacer)}`;break;case nt.unrecognized_keys:r=`Unrecognized key(s) in object: ${Nr.joinValues(t.keys,", ")}`;break;case nt.invalid_union:r="Invalid input";break;case nt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Nr.joinValues(t.options)}`;break;case nt.invalid_enum_value:r=`Invalid enum value. Expected ${Nr.joinValues(t.options)}, received '${t.received}'`;break;case nt.invalid_arguments:r="Invalid function arguments";break;case nt.invalid_return_type:r="Invalid function return type";break;case nt.invalid_date:r="Invalid date";break;case nt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Nr.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case nt.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case nt.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case nt.custom:r="Invalid input";break;case nt.invalid_intersection_types:r="Intersection results could not be merged";break;case nt.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case nt.not_finite:r="Number must be finite";break;default:r=e.defaultError,Nr.assertNever(t)}return{message:r}};let Iae=XC;function Rae(){return Iae}const Mae=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const d=n.filter(h=>!!h).slice().reverse();for(const h of d)l=h(s,{data:e,defaultError:l}).message;return{...i,path:a,message:l}};function dt(t,e){const r=Rae(),n=Mae({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===XC?void 0:XC].filter(i=>!!i)});t.common.issues.push(n)}class Va{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return Gt;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const a=await i.key,s=await i.value;n.push({key:a,value:s})}return Va.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return Gt;a.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:e.value,value:n}}}const Gt=Object.freeze({status:"aborted"}),Cp=t=>({status:"dirty",value:t}),vs=t=>({status:"valid",value:t}),b3=t=>t.status==="aborted",_3=t=>t.status==="dirty",wf=t=>t.status==="valid",Kv=t=>typeof Promise<"u"&&t instanceof Promise;var bt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(bt||(bt={}));class hc{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const S3=(t,e)=>{if(wf(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new nl(t.common.issues);return this._error=r,this._error}}};function ur(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,l)=>{const{message:d}=t;return s.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:d??n??l.defaultError}:s.code!=="invalid_type"?{message:l.defaultError}:{message:d??r??l.defaultError}},description:i}}class Ar{get description(){return this._def.description}_getType(e){return Hl(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Hl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Va,ctx:{common:e.parent.common,data:e.data,parsedType:Hl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Kv(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Hl(e)},i=this._parseSync({data:e,path:n.path,parent:n});return S3(n,i)}"~validate"(e){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Hl(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:r});return wf(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(n=>wf(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Hl(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(Kv(i)?i:Promise.resolve(i));return S3(n,a)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const s=e(i),l=()=>a.addIssue({code:nt.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(d=>d?!0:(l(),!1)):s?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Sf({schema:this,typeName:Kt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return nc.create(this,this._def)}nullable(){return Ef.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return uo.create(this)}promise(){return Zv.create(this,this._def)}or(e){return Yv.create([this,e],this._def)}and(e){return Xv.create(this,e,this._def)}transform(e){return new Sf({...ur(this._def),schema:this,typeName:Kt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new eA({...ur(this._def),innerType:this,defaultValue:r,typeName:Kt.ZodDefault})}brand(){return new ise({typeName:Kt.ZodBranded,type:this,...ur(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new tA({...ur(this._def),innerType:this,catchValue:r,typeName:Kt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return HT.create(this,e)}readonly(){return rA.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Dae=/^c[^\s-]{8,}$/i,Lae=/^[0-9a-z]+$/,Bae=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Fae=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,$ae=/^[a-z0-9_-]{21}$/i,Uae=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Vae=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Wae=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,qae="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Rb;const zae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Hae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Gae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Kae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Yae=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Xae=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,C$="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Zae=new RegExp(`^${C$}$`);function A$(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function Qae(t){return new RegExp(`^${A$(t)}$`)}function Jae(t){let e=`${C$}T${A$(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function ese(t,e){return!!((e==="v4"||!e)&&zae.test(t)||(e==="v6"||!e)&&Gae.test(t))}function tse(t,e){if(!Uae.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function rse(t,e){return!!((e==="v4"||!e)&&Hae.test(t)||(e==="v6"||!e)&&Kae.test(t))}class Jl extends Ar{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==xt.string){const a=this._getOrReturnCtx(e);return dt(a,{code:nt.invalid_type,expected:xt.string,received:a.parsedType}),Gt}const n=new Va;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),dt(i,{code:nt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),dt(i,{code:nt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const s=e.data.length>a.value,l=e.data.length<a.value;(s||l)&&(i=this._getOrReturnCtx(e,i),s?dt(i,{code:nt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&dt(i,{code:nt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")Wae.test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"email",code:nt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Rb||(Rb=new RegExp(qae,"u")),Rb.test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"emoji",code:nt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")Fae.test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"uuid",code:nt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")$ae.test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"nanoid",code:nt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")Dae.test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"cuid",code:nt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")Lae.test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"cuid2",code:nt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")Bae.test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"ulid",code:nt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),dt(i,{validation:"url",code:nt.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"regex",code:nt.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),dt(i,{code:nt.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),dt(i,{code:nt.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),dt(i,{code:nt.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?Jae(a).test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{code:nt.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?Zae.test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{code:nt.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?Qae(a).test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{code:nt.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?Vae.test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"duration",code:nt.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?ese(e.data,a.version)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"ip",code:nt.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?tse(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"jwt",code:nt.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?rse(e.data,a.version)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"cidr",code:nt.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?Yae.test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"base64",code:nt.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?Xae.test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"base64url",code:nt.invalid_string,message:a.message}),n.dirty()):Nr.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:nt.invalid_string,...bt.errToObj(n)})}_addCheck(e){return new Jl({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...bt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...bt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...bt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...bt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...bt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...bt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...bt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...bt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...bt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...bt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...bt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...bt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...bt.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...bt.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...bt.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...bt.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...bt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...bt.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...bt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...bt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...bt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...bt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...bt.errToObj(r)})}nonempty(e){return this.min(1,bt.errToObj(e))}trim(){return new Jl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Jl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Jl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Jl.create=t=>new Jl({checks:[],typeName:Kt.ZodString,coerce:t?.coerce??!1,...ur(t)});function nse(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(t.toFixed(i).replace(".","")),s=Number.parseInt(e.toFixed(i).replace(".",""));return a%s/10**i}class bf extends Ar{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==xt.number){const a=this._getOrReturnCtx(e);return dt(a,{code:nt.invalid_type,expected:xt.number,received:a.parsedType}),Gt}let n;const i=new Va;for(const a of this._def.checks)a.kind==="int"?Nr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),dt(n,{code:nt.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),dt(n,{code:nt.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),dt(n,{code:nt.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?nse(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),dt(n,{code:nt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),dt(n,{code:nt.not_finite,message:a.message}),i.dirty()):Nr.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,bt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,bt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,bt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,bt.toString(r))}setLimit(e,r,n,i){return new bf({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:bt.toString(i)}]})}_addCheck(e){return new bf({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:bt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:bt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:bt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:bt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:bt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:bt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:bt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:bt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:bt.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Nr.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}bf.create=t=>new bf({checks:[],typeName:Kt.ZodNumber,coerce:t?.coerce||!1,...ur(t)});class im extends Ar{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==xt.bigint)return this._getInvalidInput(e);let n;const i=new Va;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),dt(n,{code:nt.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),dt(n,{code:nt.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),dt(n,{code:nt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Nr.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return dt(r,{code:nt.invalid_type,expected:xt.bigint,received:r.parsedType}),Gt}gte(e,r){return this.setLimit("min",e,!0,bt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,bt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,bt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,bt.toString(r))}setLimit(e,r,n,i){return new im({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:bt.toString(i)}]})}_addCheck(e){return new im({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:bt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:bt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:bt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:bt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:bt.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}im.create=t=>new im({checks:[],typeName:Kt.ZodBigInt,coerce:t?.coerce??!1,...ur(t)});class ZC extends Ar{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==xt.boolean){const n=this._getOrReturnCtx(e);return dt(n,{code:nt.invalid_type,expected:xt.boolean,received:n.parsedType}),Gt}return vs(e.data)}}ZC.create=t=>new ZC({typeName:Kt.ZodBoolean,coerce:t?.coerce||!1,...ur(t)});class am extends Ar{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==xt.date){const a=this._getOrReturnCtx(e);return dt(a,{code:nt.invalid_type,expected:xt.date,received:a.parsedType}),Gt}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return dt(a,{code:nt.invalid_date}),Gt}const n=new Va;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),dt(i,{code:nt.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),dt(i,{code:nt.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):Nr.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new am({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:bt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:bt.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}am.create=t=>new am({checks:[],coerce:t?.coerce||!1,typeName:Kt.ZodDate,...ur(t)});class E3 extends Ar{_parse(e){if(this._getType(e)!==xt.symbol){const n=this._getOrReturnCtx(e);return dt(n,{code:nt.invalid_type,expected:xt.symbol,received:n.parsedType}),Gt}return vs(e.data)}}E3.create=t=>new E3({typeName:Kt.ZodSymbol,...ur(t)});class C3 extends Ar{_parse(e){if(this._getType(e)!==xt.undefined){const n=this._getOrReturnCtx(e);return dt(n,{code:nt.invalid_type,expected:xt.undefined,received:n.parsedType}),Gt}return vs(e.data)}}C3.create=t=>new C3({typeName:Kt.ZodUndefined,...ur(t)});class A3 extends Ar{_parse(e){if(this._getType(e)!==xt.null){const n=this._getOrReturnCtx(e);return dt(n,{code:nt.invalid_type,expected:xt.null,received:n.parsedType}),Gt}return vs(e.data)}}A3.create=t=>new A3({typeName:Kt.ZodNull,...ur(t)});class O3 extends Ar{constructor(){super(...arguments),this._any=!0}_parse(e){return vs(e.data)}}O3.create=t=>new O3({typeName:Kt.ZodAny,...ur(t)});class T3 extends Ar{constructor(){super(...arguments),this._unknown=!0}_parse(e){return vs(e.data)}}T3.create=t=>new T3({typeName:Kt.ZodUnknown,...ur(t)});class pc extends Ar{_parse(e){const r=this._getOrReturnCtx(e);return dt(r,{code:nt.invalid_type,expected:xt.never,received:r.parsedType}),Gt}}pc.create=t=>new pc({typeName:Kt.ZodNever,...ur(t)});class N3 extends Ar{_parse(e){if(this._getType(e)!==xt.undefined){const n=this._getOrReturnCtx(e);return dt(n,{code:nt.invalid_type,expected:xt.void,received:n.parsedType}),Gt}return vs(e.data)}}N3.create=t=>new N3({typeName:Kt.ZodVoid,...ur(t)});class uo extends Ar{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==xt.array)return dt(r,{code:nt.invalid_type,expected:xt.array,received:r.parsedType}),Gt;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(s||l)&&(dt(r,{code:s?nt.too_big:nt.too_small,minimum:l?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(dt(r,{code:nt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(dt(r,{code:nt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,l)=>i.type._parseAsync(new hc(r,s,r.path,l)))).then(s=>Va.mergeArray(n,s));const a=[...r.data].map((s,l)=>i.type._parseSync(new hc(r,s,r.path,l)));return Va.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new uo({...this._def,minLength:{value:e,message:bt.toString(r)}})}max(e,r){return new uo({...this._def,maxLength:{value:e,message:bt.toString(r)}})}length(e,r){return new uo({...this._def,exactLength:{value:e,message:bt.toString(r)}})}nonempty(e){return this.min(1,e)}}uo.create=(t,e)=>new uo({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Kt.ZodArray,...ur(e)});function Kd(t){if(t instanceof Vn){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=nc.create(Kd(n))}return new Vn({...t._def,shape:()=>e})}else return t instanceof uo?new uo({...t._def,type:Kd(t.element)}):t instanceof nc?nc.create(Kd(t.unwrap())):t instanceof Ef?Ef.create(Kd(t.unwrap())):t instanceof ku?ku.create(t.items.map(e=>Kd(e))):t}class Vn extends Ar{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Nr.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==xt.object){const h=this._getOrReturnCtx(e);return dt(h,{code:nt.invalid_type,expected:xt.object,received:h.parsedType}),Gt}const{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),l=[];if(!(this._def.catchall instanceof pc&&this._def.unknownKeys==="strip"))for(const h in i.data)s.includes(h)||l.push(h);const d=[];for(const h of s){const g=a[h],v=i.data[h];d.push({key:{status:"valid",value:h},value:g._parse(new hc(i,v,i.path,h)),alwaysSet:h in i.data})}if(this._def.catchall instanceof pc){const h=this._def.unknownKeys;if(h==="passthrough")for(const g of l)d.push({key:{status:"valid",value:g},value:{status:"valid",value:i.data[g]}});else if(h==="strict")l.length>0&&(dt(i,{code:nt.unrecognized_keys,keys:l}),n.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const g of l){const v=i.data[g];d.push({key:{status:"valid",value:g},value:h._parse(new hc(i,v,i.path,g)),alwaysSet:g in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const h=[];for(const g of d){const v=await g.key,b=await g.value;h.push({key:v,value:b,alwaysSet:g.alwaysSet})}return h}).then(h=>Va.mergeObjectSync(n,h)):Va.mergeObjectSync(n,d)}get shape(){return this._def.shape()}strict(e){return bt.errToObj,new Vn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{const i=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:bt.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Vn({...this._def,unknownKeys:"strip"})}passthrough(){return new Vn({...this._def,unknownKeys:"passthrough"})}extend(e){return new Vn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Vn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Kt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Vn({...this._def,catchall:e})}pick(e){const r={};for(const n of Nr.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Vn({...this._def,shape:()=>r})}omit(e){const r={};for(const n of Nr.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Vn({...this._def,shape:()=>r})}deepPartial(){return Kd(this)}partial(e){const r={};for(const n of Nr.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new Vn({...this._def,shape:()=>r})}required(e){const r={};for(const n of Nr.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof nc;)a=a._def.innerType;r[n]=a}return new Vn({...this._def,shape:()=>r})}keyof(){return O$(Nr.objectKeys(this.shape))}}Vn.create=(t,e)=>new Vn({shape:()=>t,unknownKeys:"strip",catchall:pc.create(),typeName:Kt.ZodObject,...ur(e)});Vn.strictCreate=(t,e)=>new Vn({shape:()=>t,unknownKeys:"strict",catchall:pc.create(),typeName:Kt.ZodObject,...ur(e)});Vn.lazycreate=(t,e)=>new Vn({shape:t,unknownKeys:"strip",catchall:pc.create(),typeName:Kt.ZodObject,...ur(e)});class Yv extends Ar{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const s=a.map(l=>new nl(l.ctx.common.issues));return dt(r,{code:nt.invalid_union,unionErrors:s}),Gt}if(r.common.async)return Promise.all(n.map(async a=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const d of n){const h={...r,common:{...r.common,issues:[]},parent:null},g=d._parseSync({data:r.data,path:r.path,parent:h});if(g.status==="valid")return g;g.status==="dirty"&&!a&&(a={result:g,ctx:h}),h.common.issues.length&&s.push(h.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=s.map(d=>new nl(d));return dt(r,{code:nt.invalid_union,unionErrors:l}),Gt}}get options(){return this._def.options}}Yv.create=(t,e)=>new Yv({options:t,typeName:Kt.ZodUnion,...ur(e)});function QC(t,e){const r=Hl(t),n=Hl(e);if(t===e)return{valid:!0,data:t};if(r===xt.object&&n===xt.object){const i=Nr.objectKeys(e),a=Nr.objectKeys(t).filter(l=>i.indexOf(l)!==-1),s={...t,...e};for(const l of a){const d=QC(t[l],e[l]);if(!d.valid)return{valid:!1};s[l]=d.data}return{valid:!0,data:s}}else if(r===xt.array&&n===xt.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const s=t[a],l=e[a],d=QC(s,l);if(!d.valid)return{valid:!1};i.push(d.data)}return{valid:!0,data:i}}else return r===xt.date&&n===xt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Xv extends Ar{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(a,s)=>{if(b3(a)||b3(s))return Gt;const l=QC(a.value,s.value);return l.valid?((_3(a)||_3(s))&&r.dirty(),{status:r.value,value:l.data}):(dt(n,{code:nt.invalid_intersection_types}),Gt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Xv.create=(t,e,r)=>new Xv({left:t,right:e,typeName:Kt.ZodIntersection,...ur(r)});class ku extends Ar{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==xt.array)return dt(n,{code:nt.invalid_type,expected:xt.array,received:n.parsedType}),Gt;if(n.data.length<this._def.items.length)return dt(n,{code:nt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Gt;!this._def.rest&&n.data.length>this._def.items.length&&(dt(n,{code:nt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((s,l)=>{const d=this._def.items[l]||this._def.rest;return d?d._parse(new hc(n,s,n.path,l)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>Va.mergeArray(r,s)):Va.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new ku({...this._def,rest:e})}}ku.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ku({items:t,typeName:Kt.ZodTuple,rest:null,...ur(e)})};class k3 extends Ar{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==xt.map)return dt(n,{code:nt.invalid_type,expected:xt.map,received:n.parsedType}),Gt;const i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([l,d],h)=>({key:i._parse(new hc(n,l,n.path,[h,"key"])),value:a._parse(new hc(n,d,n.path,[h,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const d of s){const h=await d.key,g=await d.value;if(h.status==="aborted"||g.status==="aborted")return Gt;(h.status==="dirty"||g.status==="dirty")&&r.dirty(),l.set(h.value,g.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const d of s){const h=d.key,g=d.value;if(h.status==="aborted"||g.status==="aborted")return Gt;(h.status==="dirty"||g.status==="dirty")&&r.dirty(),l.set(h.value,g.value)}return{status:r.value,value:l}}}}k3.create=(t,e,r)=>new k3({valueType:e,keyType:t,typeName:Kt.ZodMap,...ur(r)});class sm extends Ar{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==xt.set)return dt(n,{code:nt.invalid_type,expected:xt.set,received:n.parsedType}),Gt;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(dt(n,{code:nt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(dt(n,{code:nt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function s(d){const h=new Set;for(const g of d){if(g.status==="aborted")return Gt;g.status==="dirty"&&r.dirty(),h.add(g.value)}return{status:r.value,value:h}}const l=[...n.data.values()].map((d,h)=>a._parse(new hc(n,d,n.path,h)));return n.common.async?Promise.all(l).then(d=>s(d)):s(l)}min(e,r){return new sm({...this._def,minSize:{value:e,message:bt.toString(r)}})}max(e,r){return new sm({...this._def,maxSize:{value:e,message:bt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}sm.create=(t,e)=>new sm({valueType:t,minSize:null,maxSize:null,typeName:Kt.ZodSet,...ur(e)});class P3 extends Ar{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}P3.create=(t,e)=>new P3({getter:t,typeName:Kt.ZodLazy,...ur(e)});class JC extends Ar{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return dt(r,{received:r.data,code:nt.invalid_literal,expected:this._def.value}),Gt}return{status:"valid",value:e.data}}get value(){return this._def.value}}JC.create=(t,e)=>new JC({value:t,typeName:Kt.ZodLiteral,...ur(e)});function O$(t,e){return new _f({values:t,typeName:Kt.ZodEnum,...ur(e)})}class _f extends Ar{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return dt(r,{expected:Nr.joinValues(n),received:r.parsedType,code:nt.invalid_type}),Gt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return dt(r,{received:r.data,code:nt.invalid_enum_value,options:n}),Gt}return vs(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return _f.create(e,{...this._def,...r})}exclude(e,r=this._def){return _f.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}_f.create=O$;class j3 extends Ar{_parse(e){const r=Nr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==xt.string&&n.parsedType!==xt.number){const i=Nr.objectValues(r);return dt(n,{expected:Nr.joinValues(i),received:n.parsedType,code:nt.invalid_type}),Gt}if(this._cache||(this._cache=new Set(Nr.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Nr.objectValues(r);return dt(n,{received:n.data,code:nt.invalid_enum_value,options:i}),Gt}return vs(e.data)}get enum(){return this._def.values}}j3.create=(t,e)=>new j3({values:t,typeName:Kt.ZodNativeEnum,...ur(e)});class Zv extends Ar{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==xt.promise&&r.common.async===!1)return dt(r,{code:nt.invalid_type,expected:xt.promise,received:r.parsedType}),Gt;const n=r.parsedType===xt.promise?r.data:Promise.resolve(r.data);return vs(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Zv.create=(t,e)=>new Zv({type:t,typeName:Kt.ZodPromise,...ur(e)});class Sf extends Ar{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Kt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:s=>{dt(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(n.data,a);if(n.common.async)return Promise.resolve(s).then(async l=>{if(r.value==="aborted")return Gt;const d=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return d.status==="aborted"?Gt:d.status==="dirty"||r.value==="dirty"?Cp(d.value):d});{if(r.value==="aborted")return Gt;const l=this._def.schema._parseSync({data:s,path:n.path,parent:n});return l.status==="aborted"?Gt:l.status==="dirty"||r.value==="dirty"?Cp(l.value):l}}if(i.type==="refinement"){const s=l=>{const d=i.refinement(l,a);if(n.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Gt:(l.status==="dirty"&&r.dirty(),s(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Gt:(l.status==="dirty"&&r.dirty(),s(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!wf(s))return Gt;const l=i.transform(s.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>wf(s)?Promise.resolve(i.transform(s.value,a)).then(l=>({status:r.value,value:l})):Gt);Nr.assertNever(i)}}Sf.create=(t,e,r)=>new Sf({schema:t,typeName:Kt.ZodEffects,effect:e,...ur(r)});Sf.createWithPreprocess=(t,e,r)=>new Sf({schema:e,effect:{type:"preprocess",transform:t},typeName:Kt.ZodEffects,...ur(r)});class nc extends Ar{_parse(e){return this._getType(e)===xt.undefined?vs(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}nc.create=(t,e)=>new nc({innerType:t,typeName:Kt.ZodOptional,...ur(e)});class Ef extends Ar{_parse(e){return this._getType(e)===xt.null?vs(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ef.create=(t,e)=>new Ef({innerType:t,typeName:Kt.ZodNullable,...ur(e)});class eA extends Ar{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===xt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}eA.create=(t,e)=>new eA({innerType:t,typeName:Kt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ur(e)});class tA extends Ar{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Kv(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new nl(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new nl(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}tA.create=(t,e)=>new tA({innerType:t,typeName:Kt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ur(e)});class I3 extends Ar{_parse(e){if(this._getType(e)!==xt.nan){const n=this._getOrReturnCtx(e);return dt(n,{code:nt.invalid_type,expected:xt.nan,received:n.parsedType}),Gt}return{status:"valid",value:e.data}}}I3.create=t=>new I3({typeName:Kt.ZodNaN,...ur(t)});class ise extends Ar{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class HT extends Ar{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Gt:a.status==="dirty"?(r.dirty(),Cp(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Gt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new HT({in:e,out:r,typeName:Kt.ZodPipeline})}}class rA extends Ar{_parse(e){const r=this._def.innerType._parse(e),n=i=>(wf(i)&&(i.value=Object.freeze(i.value)),i);return Kv(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}rA.create=(t,e)=>new rA({innerType:t,typeName:Kt.ZodReadonly,...ur(e)});var Kt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Kt||(Kt={}));const nn=Jl.create,Qv=bf.create,T$=ZC.create,ase=am.create;pc.create;uo.create;const yc=Vn.create;Yv.create;Xv.create;ku.create;const nu=JC.create,sse=_f.create;Zv.create;nc.create;Ef.create;const GT=nn().min(1,"Email is required").email("Please enter a valid email address").max(255,"Email must be less than 255 characters").toLowerCase().trim(),N$=nn().min(8,"Password must be at least 8 characters long").max(128,"Password must be less than 128 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter, one lowercase letter, and one number"),ose=nn().min(1,"Full name is required").max(100,"Full name must be less than 100 characters").regex(/^[a-zA-Z\s'-]+$/,"Full name can only contain letters, spaces, hyphens, and apostrophes").trim(),lse=yc({fullName:ose,email:GT,password:N$,confirmPassword:nn().min(1,"Please confirm your password")}).refine(t=>t.password===t.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}),cse=yc({email:GT,password:nn().min(1,"Password is required")});yc({email:GT});yc({password:N$,confirmPassword:nn().min(1,"Please confirm your password")}).refine(t=>t.password===t.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});nn().length(6,"OTP must be exactly 6 digits").regex(/^\d+$/,"OTP must contain only numbers");const Cf=fae,k$=N.createContext({}),Tr=({...t})=>f.jsx(k$.Provider,{value:{name:t.name},children:f.jsx(gae,{...t})}),V1=()=>{const t=N.useContext(k$),e=N.useContext(P$),{getFieldState:r,formState:n}=U1(),i=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},P$=N.createContext({}),_r=N.forwardRef(({className:t,...e},r)=>{const n=N.useId();return f.jsx(P$.Provider,{value:{id:n},children:f.jsx("div",{ref:r,className:Me("space-y-2",t),...e})})});_r.displayName="FormItem";const Sr=N.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:i}=V1();return f.jsx(pn,{ref:r,className:Me(n&&"text-destructive",t),htmlFor:i,...e})});Sr.displayName="FormLabel";const Er=N.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:a}=V1();return f.jsx(Wu,{ref:e,id:n,"aria-describedby":r?`${i} ${a}`:`${i}`,"aria-invalid":!!r,"data-error":r?"true":void 0,...t})});Er.displayName="FormControl";const _u=N.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=V1();return f.jsx("p",{ref:r,id:n,className:Me("text-sm text-muted-foreground",t),...e})});_u.displayName="FormDescription";const Ir=N.forwardRef(({className:t,children:e,...r},n)=>{const{error:i,formMessageId:a}=V1(),s=i?String(i?.message):e;return s?f.jsx("p",{ref:n,id:a,className:Me("text-sm font-medium text-destructive",t),...r,children:s}):null});Ir.displayName="FormMessage";function iu(t){if(typeof t!="string")return"";let e=t.replace(/\0/g,"");return e=e.replace(/[\x00-\x08\x0B-\x0C\x0E-\x1F\x7F]/g,""),e=e.trim(),e}function nA(t){if(typeof t!="string")return"";let e=t.trim().toLowerCase();return e=e.replace(/[^\w@.-]/g,""),e}const Jv=5,use=900*1e3,dse=900*1e3,fse="login_attempts_";function KT(t){return`${fse}${t.toLowerCase()}`}function YT(t){try{const e=KT(t),r=localStorage.getItem(e);if(!r)return null;const n=JSON.parse(r);return n.lockedUntil&&Date.now()>n.lockedUntil||Date.now()-n.lastAttempt>dse?(iA(t),null):n}catch(e){return console.error("Error reading lockout entry:",e),null}}function hse(t){const e=YT(t)||{attempts:0,lockedUntil:null,lastAttempt:0};e.attempts+=1,e.lastAttempt=Date.now(),e.attempts>=Jv&&(e.lockedUntil=Date.now()+use);try{const r=KT(t);localStorage.setItem(r,JSON.stringify(e))}catch(r){console.error("Error saving lockout entry:",r)}return{isLocked:e.lockedUntil!==null&&Date.now()<e.lockedUntil,remainingAttempts:Math.max(0,Jv-e.attempts),lockedUntil:e.lockedUntil}}function iA(t){try{const e=KT(t);localStorage.removeItem(e)}catch(e){console.error("Error clearing lockout:",e)}}function R3(t){const e=YT(t);if(!e||!e.lockedUntil)return{isLocked:!1,lockedUntil:null,remainingTime:null};const r=Date.now(),n=r<e.lockedUntil,i=n?e.lockedUntil-r:null;return{isLocked:n,lockedUntil:e.lockedUntil,remainingTime:i}}function M3(t){const e=YT(t);return e?e.lockedUntil&&Date.now()<e.lockedUntil?0:Math.max(0,Jv-e.attempts):Jv}function Mb(t){const e=Math.floor(t/6e4),r=Math.floor(t%6e4/1e3);return e>0?`${e} minute${e!==1?"s":""} and ${r} second${r!==1?"s":""}`:`${r} second${r!==1?"s":""}`}const pse=zu("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Af=N.forwardRef(({className:t,variant:e,...r},n)=>f.jsx("div",{ref:n,role:"alert",className:Me(pse({variant:e}),t),...r}));Af.displayName="Alert";const mse=N.forwardRef(({className:t,...e},r)=>f.jsx("h5",{ref:r,className:Me("mb-1 font-medium leading-none tracking-tight",t),...e}));mse.displayName="AlertTitle";const Of=N.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:Me("text-sm [&_p]:leading-relaxed",t),...e}));Of.displayName="AlertDescription";const gse=()=>{const t=Ai(),{toast:e}=mi(),[r,n]=N.useState(!1),[i,a]=N.useState(null),[s,l]=N.useState(null),d=yf({resolver:xf(cse),mode:"onBlur",defaultValues:{email:"",password:""}}),h=d.watch("email");N.useEffect(()=>{if(h){const b=nA(h),S=R3(b),O=M3(b);a(S),l(O)}else a(null),l(null)},[h]);const g=async b=>{n(!0);try{const S=nA(b.email),O=R3(S);if(O.isLocked&&O.remainingTime){const j=Mb(O.remainingTime);e({variant:"destructive",title:"Account Locked",description:`Too many failed login attempts. Please try again in ${j}.`}),a(O),n(!1);return}const{error:E}=await Pe.auth.signInWithPassword({email:S,password:b.password});if(E){const j=hse(S),P=M3(S);if(l(P),a({isLocked:j.isLocked,lockedUntil:j.lockedUntil,remainingTime:j.lockedUntil?j.lockedUntil-Date.now():null}),j.isLocked&&j.lockedUntil){const I=Mb(j.lockedUntil-Date.now());throw e(Ba.accountLocked(I)),E}throw P>0?e({variant:"destructive",title:"Login failed",description:`${E.message}. ${P} attempt${P!==1?"s":""} remaining before account lockout.`}):e({variant:"destructive",title:"Login failed",description:E.message}),E}iA(S),a(null),l(null);const{data:{user:C}}=await Pe.auth.getUser();C&&!C.email_confirmed_at&&e(Ba.emailVerificationRequired()),e(Ba.loginSuccess()),t("/dashboard")}catch{}finally{n(!1)}},v=async b=>{const{error:S}=await Pe.auth.signInWithOAuth({provider:b,options:{redirectTo:vf("/dashboard")}});S&&e({variant:"destructive",title:"Authentication Error",description:S.message})};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:f.jsxs(mt,{className:"w-full max-w-md shadow-lg",children:[f.jsxs(ir,{className:"space-y-1 text-center",children:[f.jsx("div",{className:"flex justify-center mb-4",children:f.jsx("div",{className:"p-3 bg-gradient-secondary rounded-full",children:f.jsx(rc,{className:"w-8 h-8 text-secondary-foreground"})})}),f.jsx(or,{className:"text-2xl font-bold",children:"Welcome Back"}),f.jsx(kr,{children:"Sign in to access your gym account"})]}),f.jsxs(gt,{children:[i?.isLocked&&i.remainingTime&&f.jsxs(Af,{variant:"destructive",className:"mb-4",children:[f.jsx(uc,{className:"h-4 w-4"}),f.jsxs(Of,{children:["Account locked due to too many failed login attempts. Please try again in ",Mb(i.remainingTime),"."]})]}),s!==null&&s>0&&s<5&&!i?.isLocked&&f.jsxs(Af,{className:"mb-4",children:[f.jsx(uc,{className:"h-4 w-4"}),f.jsxs(Of,{children:[s," attempt",s!==1?"s":""," remaining before account lockout."]})]}),f.jsx(Cf,{...d,children:f.jsxs("form",{onSubmit:d.handleSubmit(g),className:"space-y-4",children:[f.jsx(Tr,{control:d.control,name:"email",render:({field:b,fieldState:S})=>f.jsxs(_r,{children:[f.jsx(Sr,{children:"Email"}),f.jsx(Er,{children:f.jsx(rr,{type:"email",placeholder:"your@email.com",disabled:r,...b})}),f.jsx(Ir,{})]})}),f.jsx(Tr,{control:d.control,name:"password",render:({field:b,fieldState:S})=>f.jsxs(_r,{children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(Sr,{children:"Password"}),f.jsx("button",{type:"button",onClick:()=>t("/forgot-password"),className:"text-xs text-secondary hover:underline",children:"Forgot password?"})]}),f.jsx(Er,{children:f.jsx(rr,{type:"password",placeholder:"",disabled:r,...b})}),f.jsx(Ir,{})]})}),f.jsx(He,{type:"submit",className:"w-full bg-secondary hover:bg-secondary/90",disabled:r||(i?.isLocked??!1)||Object.keys(d.formState.errors).length>0,children:r?"Signing in...":i?.isLocked?"Account Locked":"Sign In"})]})}),f.jsxs("div",{className:"relative my-6",children:[f.jsx(L1,{}),f.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-card px-2 text-xs text-muted-foreground",children:"or continue with"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs(He,{type:"button",variant:"outline",className:"w-full",onClick:()=>v("google"),children:[f.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[f.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),f.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),f.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),f.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]}),f.jsxs(He,{type:"button",variant:"outline",className:"w-full",onClick:()=>v("apple"),children:[f.jsx("svg",{className:"mr-2 h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"})}),"Sign in with Apple"]})]}),f.jsxs("div",{className:"mt-6 text-center text-sm",children:[f.jsx("span",{className:"text-muted-foreground",children:"Don't have an account? "}),f.jsx("button",{onClick:()=>t("/register"),className:"text-secondary hover:underline font-medium",children:"Sign up"})]})]})]})})};var vse=Object.defineProperty,yse=Object.defineProperties,xse=Object.getOwnPropertyDescriptors,ey=Object.getOwnPropertySymbols,j$=Object.prototype.hasOwnProperty,I$=Object.prototype.propertyIsEnumerable,D3=(t,e,r)=>e in t?vse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,wse=(t,e)=>{for(var r in e||(e={}))j$.call(e,r)&&D3(t,r,e[r]);if(ey)for(var r of ey(e))I$.call(e,r)&&D3(t,r,e[r]);return t},bse=(t,e)=>yse(t,xse(e)),_se=(t,e)=>{var r={};for(var n in t)j$.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&ey)for(var n of ey(t))e.indexOf(n)<0&&I$.call(t,n)&&(r[n]=t[n]);return r};function Sse(t){let e=setTimeout(t,0),r=setTimeout(t,10),n=setTimeout(t,50);return[e,r,n]}function Ese(t){let e=N.useRef();return N.useEffect(()=>{e.current=t}),e.current}var Cse=18,R$=40,Ase=`${R$}px`,Ose=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function Tse({containerRef:t,inputRef:e,pushPasswordManagerStrategy:r,isFocused:n}){let[i,a]=N.useState(!1),[s,l]=N.useState(!1),[d,h]=N.useState(!1),g=N.useMemo(()=>r==="none"?!1:(r==="increase-width"||r==="experimental-no-flickering")&&i&&s,[i,s,r]),v=N.useCallback(()=>{let b=t.current,S=e.current;if(!b||!S||d||r==="none")return;let O=b,E=O.getBoundingClientRect().left+O.offsetWidth,C=O.getBoundingClientRect().top+O.offsetHeight/2,j=E-Cse,P=C;document.querySelectorAll(Ose).length===0&&document.elementFromPoint(j,P)===b||(a(!0),h(!0))},[t,e,d,r]);return N.useEffect(()=>{let b=t.current;if(!b||r==="none")return;function S(){let E=window.innerWidth-b.getBoundingClientRect().right;l(E>=R$)}S();let O=setInterval(S,1e3);return()=>{clearInterval(O)}},[t,r]),N.useEffect(()=>{let b=n||document.activeElement===e.current;if(r==="none"||!b)return;let S=setTimeout(v,0),O=setTimeout(v,2e3),E=setTimeout(v,5e3),C=setTimeout(()=>{h(!0)},6e3);return()=>{clearTimeout(S),clearTimeout(O),clearTimeout(E),clearTimeout(C)}},[e,n,r,v]),{hasPWMBadge:i,willPushPWMBadge:g,PWM_BADGE_SPACE_WIDTH:Ase}}var M$=N.createContext({}),D$=N.forwardRef((t,e)=>{var r=t,{value:n,onChange:i,maxLength:a,textAlign:s="left",pattern:l,placeholder:d,inputMode:h="numeric",onComplete:g,pushPasswordManagerStrategy:v="increase-width",pasteTransformer:b,containerClassName:S,noScriptCSSFallback:O=Nse,render:E,children:C}=r,j=_se(r,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),P,I,F,R,M;let[B,q]=N.useState(typeof j.defaultValue=="string"?j.defaultValue:""),U=n??B,z=Ese(U),G=N.useCallback(Ie=>{i?.(Ie),q(Ie)},[i]),W=N.useMemo(()=>l?typeof l=="string"?new RegExp(l):l:null,[l]),H=N.useRef(null),Q=N.useRef(null),X=N.useRef({value:U,onChange:G,isIOS:typeof window<"u"&&((I=(P=window?.CSS)==null?void 0:P.supports)==null?void 0:I.call(P,"-webkit-touch-callout","none"))}),se=N.useRef({prev:[(F=H.current)==null?void 0:F.selectionStart,(R=H.current)==null?void 0:R.selectionEnd,(M=H.current)==null?void 0:M.selectionDirection]});N.useImperativeHandle(e,()=>H.current,[]),N.useEffect(()=>{let Ie=H.current,Ge=Q.current;if(!Ie||!Ge)return;X.current.value!==Ie.value&&X.current.onChange(Ie.value),se.current.prev=[Ie.selectionStart,Ie.selectionEnd,Ie.selectionDirection];function ct(){if(document.activeElement!==Ie){le(null),ke(null);return}let at=Ie.selectionStart,de=Ie.selectionEnd,fe=Ie.selectionDirection,Ee=Ie.maxLength,Xe=Ie.value,Fe=se.current.prev,$e=-1,tt=-1,It;if(Xe.length!==0&&at!==null&&de!==null){let yn=at===de,Ys=at===Xe.length&&Xe.length<Ee;if(yn&&!Ys){let ar=at;if(ar===0)$e=0,tt=1,It="forward";else if(ar===Ee)$e=ar-1,tt=ar,It="backward";else if(Ee>1&&Xe.length>1){let Ke=0;if(Fe[0]!==null&&Fe[1]!==null){It=ar<Fe[1]?"backward":"forward";let Vr=Fe[0]===Fe[1]&&Fe[0]<Ee;It==="backward"&&!Vr&&(Ke=-1)}$e=Ke+ar,tt=Ke+ar+1}}$e!==-1&&tt!==-1&&$e!==tt&&H.current.setSelectionRange($e,tt,It)}let Wt=$e!==-1?$e:at,pr=tt!==-1?tt:de,Dn=It??fe;le(Wt),ke(pr),se.current.prev=[Wt,pr,Dn]}if(document.addEventListener("selectionchange",ct,{capture:!0}),ct(),document.activeElement===Ie&&he(!0),!document.getElementById("input-otp-style")){let at=document.createElement("style");if(at.id="input-otp-style",document.head.appendChild(at),at.sheet){let de="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";lp(at.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),lp(at.sheet,`[data-input-otp]:autofill { ${de} }`),lp(at.sheet,`[data-input-otp]:-webkit-autofill { ${de} }`),lp(at.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),lp(at.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let et=()=>{Ge&&Ge.style.setProperty("--root-height",`${Ie.clientHeight}px`)};et();let ot=new ResizeObserver(et);return ot.observe(Ie),()=>{document.removeEventListener("selectionchange",ct,{capture:!0}),ot.disconnect()}},[]);let[ne,re]=N.useState(!1),[J,he]=N.useState(!1),[ie,le]=N.useState(null),[we,ke]=N.useState(null);N.useEffect(()=>{Sse(()=>{var Ie,Ge,ct,et;(Ie=H.current)==null||Ie.dispatchEvent(new Event("input"));let ot=(Ge=H.current)==null?void 0:Ge.selectionStart,at=(ct=H.current)==null?void 0:ct.selectionEnd,de=(et=H.current)==null?void 0:et.selectionDirection;ot!==null&&at!==null&&(le(ot),ke(at),se.current.prev=[ot,at,de])})},[U,J]),N.useEffect(()=>{z!==void 0&&U!==z&&z.length<a&&U.length===a&&g?.(U)},[a,g,z,U]);let qe=Tse({containerRef:Q,inputRef:H,pushPasswordManagerStrategy:v,isFocused:J}),je=N.useCallback(Ie=>{let Ge=Ie.currentTarget.value.slice(0,a);if(Ge.length>0&&W&&!W.test(Ge)){Ie.preventDefault();return}typeof z=="string"&&Ge.length<z.length&&document.dispatchEvent(new Event("selectionchange")),G(Ge)},[a,G,z,W]),Te=N.useCallback(()=>{var Ie;if(H.current){let Ge=Math.min(H.current.value.length,a-1),ct=H.current.value.length;(Ie=H.current)==null||Ie.setSelectionRange(Ge,ct),le(Ge),ke(ct)}he(!0)},[a]),De=N.useCallback(Ie=>{var Ge,ct;let et=H.current;if(!b&&(!X.current.isIOS||!Ie.clipboardData||!et))return;let ot=Ie.clipboardData.getData("text/plain"),at=b?b(ot):ot;Ie.preventDefault();let de=(Ge=H.current)==null?void 0:Ge.selectionStart,fe=(ct=H.current)==null?void 0:ct.selectionEnd,Ee=(de!==fe?U.slice(0,de)+at+U.slice(fe):U.slice(0,de)+at+U.slice(de)).slice(0,a);if(Ee.length>0&&W&&!W.test(Ee))return;et.value=Ee,G(Ee);let Xe=Math.min(Ee.length,a-1),Fe=Ee.length;et.setSelectionRange(Xe,Fe),le(Xe),ke(Fe)},[a,G,W,U]),Ne=N.useMemo(()=>({position:"relative",cursor:j.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[j.disabled]),Le=N.useMemo(()=>({position:"absolute",inset:0,width:qe.willPushPWMBadge?`calc(100% + ${qe.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:qe.willPushPWMBadge?`inset(0 ${qe.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:s,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[qe.PWM_BADGE_SPACE_WIDTH,qe.willPushPWMBadge,s]),ue=N.useMemo(()=>N.createElement("input",bse(wse({autoComplete:j.autoComplete||"one-time-code"},j),{"data-input-otp":!0,"data-input-otp-placeholder-shown":U.length===0||void 0,"data-input-otp-mss":ie,"data-input-otp-mse":we,inputMode:h,pattern:W?.source,"aria-placeholder":d,style:Le,maxLength:a,value:U,ref:H,onPaste:Ie=>{var Ge;De(Ie),(Ge=j.onPaste)==null||Ge.call(j,Ie)},onChange:je,onMouseOver:Ie=>{var Ge;re(!0),(Ge=j.onMouseOver)==null||Ge.call(j,Ie)},onMouseLeave:Ie=>{var Ge;re(!1),(Ge=j.onMouseLeave)==null||Ge.call(j,Ie)},onFocus:Ie=>{var Ge;Te(),(Ge=j.onFocus)==null||Ge.call(j,Ie)},onBlur:Ie=>{var Ge;he(!1),(Ge=j.onBlur)==null||Ge.call(j,Ie)}})),[je,Te,De,h,Le,a,we,ie,j,W?.source,U]),ve=N.useMemo(()=>({slots:Array.from({length:a}).map((Ie,Ge)=>{var ct;let et=J&&ie!==null&&we!==null&&(ie===we&&Ge===ie||Ge>=ie&&Ge<we),ot=U[Ge]!==void 0?U[Ge]:null,at=U[0]!==void 0?null:(ct=d?.[Ge])!=null?ct:null;return{char:ot,placeholderChar:at,isActive:et,hasFakeCaret:et&&ot===null}}),isFocused:J,isHovering:!j.disabled&&ne}),[J,ne,a,we,ie,j.disabled,U]),Ue=N.useMemo(()=>E?E(ve):N.createElement(M$.Provider,{value:ve},C),[C,ve,E]);return N.createElement(N.Fragment,null,O!==null&&N.createElement("noscript",null,N.createElement("style",null,O)),N.createElement("div",{ref:Q,"data-input-otp-container":!0,style:Ne,className:S},Ue,N.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},ue)))});D$.displayName="Input";function lp(t,e){try{t.insertRule(e)}catch{console.error("input-otp could not insert CSS rule:",e)}}var Nse=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const XT=N.forwardRef(({className:t,containerClassName:e,...r},n)=>f.jsx(D$,{ref:n,containerClassName:Me("flex items-center gap-2 has-[:disabled]:opacity-50",e),className:Me("disabled:cursor-not-allowed",t),...r}));XT.displayName="InputOTP";const ZT=N.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:Me("flex items-center",t),...e}));ZT.displayName="InputOTPGroup";const Ra=N.forwardRef(({index:t,className:e,...r},n)=>{const i=N.useContext(M$),{char:a,hasFakeCaret:s,isActive:l}=i.slots[t];return f.jsxs("div",{ref:n,className:Me("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",l&&"z-10 ring-2 ring-ring ring-offset-background",e),...r,children:[a,s&&f.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:f.jsx("div",{className:"animate-caret-blink h-4 w-px bg-foreground duration-1000"})})]})});Ra.displayName="InputOTPSlot";const kse=N.forwardRef(({...t},e)=>f.jsx("div",{ref:e,role:"separator",...t,children:f.jsx(jK,{})}));kse.displayName="InputOTPSeparator";const Pse=()=>{const t=Ai(),{toast:e}=mi(),[r,n]=N.useState(!1),[i,a]=N.useState(!1),[s,l]=N.useState(""),d=yf({resolver:xf(lse),mode:"onBlur",defaultValues:{fullName:"",email:"",password:"",confirmPassword:""}}),h=async b=>{n(!0);try{const S=nA(b.email),O=iu(b.fullName),{error:E}=await Pe.auth.signUp({email:S,password:b.password,options:{data:{full_name:O},emailRedirectTo:vf("/dashboard")}});if(E)throw E;l(S),a(!0),cae({title:"Verification code sent",description:"Please check your email for the verification code."})}catch(S){Yt({title:"Registration failed",description:S.message})}finally{n(!1)}},g=async b=>{if(b.length===6){n(!0);try{const{error:S}=await Pe.auth.verifyOtp({email:s,token:b,type:"signup"});if(S)throw S;e(Ba.registrationSuccess()),t("/dashboard")}catch(S){Yt({title:"Verification failed",description:S.message})}finally{n(!1)}}},v=async b=>{const{error:S}=await Pe.auth.signInWithOAuth({provider:b,options:{redirectTo:vf("/dashboard")}});S&&Yt({title:"Authentication Error",description:S.message})};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:f.jsxs(mt,{className:"w-full max-w-md shadow-lg",children:[f.jsxs(ir,{className:"space-y-1 text-center",children:[f.jsx("div",{className:"flex justify-center mb-4",children:f.jsx("div",{className:"p-3 bg-gradient-accent rounded-full",children:f.jsx(rc,{className:"w-8 h-8 text-accent-foreground"})})}),f.jsx(or,{className:"text-2xl font-bold",children:"Create Account"}),f.jsx(kr,{children:"Join our fitness community today"})]}),f.jsxs(gt,{children:[i?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"text-center space-y-2",children:[f.jsx("h3",{className:"font-semibold",children:"Verify Your Email"}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:["Enter the 6-digit code sent to ",s]})]}),f.jsx("div",{className:"flex justify-center",children:f.jsx(XT,{maxLength:6,onChange:g,disabled:r,children:f.jsxs(ZT,{children:[f.jsx(Ra,{index:0}),f.jsx(Ra,{index:1}),f.jsx(Ra,{index:2}),f.jsx(Ra,{index:3}),f.jsx(Ra,{index:4}),f.jsx(Ra,{index:5})]})})}),f.jsx(He,{variant:"ghost",className:"w-full",onClick:()=>a(!1),disabled:r,children:"Back to registration"})]}):f.jsx(Cf,{...d,children:f.jsxs("form",{onSubmit:d.handleSubmit(h),className:"space-y-4",children:[f.jsx(Tr,{control:d.control,name:"fullName",render:({field:b})=>f.jsxs(_r,{children:[f.jsx(Sr,{children:"Full Name"}),f.jsx(Er,{children:f.jsx(rr,{placeholder:"John Doe",disabled:r,...b})}),f.jsx(Ir,{})]})}),f.jsx(Tr,{control:d.control,name:"email",render:({field:b})=>f.jsxs(_r,{children:[f.jsx(Sr,{children:"Email"}),f.jsx(Er,{children:f.jsx(rr,{type:"email",placeholder:"your@email.com",disabled:r,...b})}),f.jsx(Ir,{})]})}),f.jsx(Tr,{control:d.control,name:"password",render:({field:b})=>f.jsxs(_r,{children:[f.jsx(Sr,{children:"Password"}),f.jsx(Er,{children:f.jsx(rr,{type:"password",placeholder:"",disabled:r,...b})}),f.jsx(_u,{className:"text-xs",children:"Must be at least 8 characters with uppercase, lowercase, and a number"}),f.jsx(Ir,{})]})}),f.jsx(Tr,{control:d.control,name:"confirmPassword",render:({field:b})=>f.jsxs(_r,{children:[f.jsx(Sr,{children:"Confirm Password"}),f.jsx(Er,{children:f.jsx(rr,{type:"password",placeholder:"",disabled:r,...b})}),f.jsx(Ir,{})]})}),f.jsx(He,{type:"submit",className:"w-full bg-accent hover:bg-accent/90",disabled:r||Object.keys(d.formState.errors).length>0,children:r?"Creating Account...":"Create Account"})]})}),f.jsxs("div",{className:"relative my-6",children:[f.jsx(L1,{}),f.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-card px-2 text-xs text-muted-foreground",children:"or continue with"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs(He,{type:"button",variant:"outline",className:"w-full",onClick:()=>v("google"),children:[f.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[f.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),f.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),f.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),f.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign up with Google"]}),f.jsxs(He,{type:"button",variant:"outline",className:"w-full",onClick:()=>v("apple"),children:[f.jsx("svg",{className:"mr-2 h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"})}),"Sign up with Apple"]})]}),f.jsxs("div",{className:"mt-6 text-center text-sm",children:[f.jsx("span",{className:"text-muted-foreground",children:"Already have an account? "}),f.jsx("button",{onClick:()=>t("/login"),className:"text-secondary hover:underline font-medium",children:"Sign in"})]})]})]})})},jse=()=>{const t=Ai(),{toast:e}=mi(),[r,n]=N.useState(!1),[i,a]=N.useState(""),[s,l]=N.useState(!1),d=async h=>{h.preventDefault(),n(!0);try{const{error:g}=await Pe.auth.resetPasswordForEmail(i,{redirectTo:vf("/reset-password")});if(g)throw g;l(!0),e({title:"Reset code sent",description:"Check your email for the password reset code."})}catch(g){e({variant:"destructive",title:"Failed to send reset code",description:g.message})}finally{n(!1)}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:f.jsxs(mt,{className:"w-full max-w-md shadow-lg",children:[f.jsxs(ir,{className:"space-y-1 text-center",children:[f.jsx("div",{className:"flex justify-center mb-4",children:f.jsx("div",{className:"p-3 bg-gradient-secondary rounded-full",children:f.jsx(rc,{className:"w-8 h-8 text-secondary-foreground"})})}),f.jsx(or,{className:"text-2xl font-bold",children:"Reset Password"}),f.jsx(kr,{children:s?"Check your email for the reset code":"Enter your email to receive a reset code"})]}),f.jsx(gt,{children:s?f.jsxs("div",{className:"space-y-4 text-center",children:[f.jsxs("p",{className:"text-sm text-muted-foreground",children:["A password reset code has been sent to ",f.jsx("strong",{children:i})]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Click the link in the email or enter the code on the reset password page."}),f.jsx(He,{onClick:()=>t("/reset-password"),className:"w-full bg-secondary hover:bg-secondary/90",children:"Go to Reset Password"}),f.jsxs(He,{variant:"ghost",className:"w-full",onClick:()=>t("/login"),children:[f.jsx(Uj,{className:"w-4 h-4 mr-2"}),"Back to Login"]})]}):f.jsxs("form",{onSubmit:d,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(pn,{htmlFor:"email",children:"Email"}),f.jsx(rr,{id:"email",type:"email",placeholder:"your@email.com",value:i,onChange:h=>a(h.target.value),required:!0,disabled:r})]}),f.jsx(He,{type:"submit",className:"w-full bg-secondary hover:bg-secondary/90",disabled:r,children:r?"Sending...":"Send Reset Code"}),f.jsxs(He,{type:"button",variant:"ghost",className:"w-full",onClick:()=>t("/login"),children:[f.jsx(Uj,{className:"w-4 h-4 mr-2"}),"Back to Login"]})]})})]})})},Ise=()=>{const t=Ai(),{toast:e}=mi(),[r,n]=N.useState(!1),[i,a]=N.useState(""),[s,l]=N.useState(""),[d,h]=N.useState(""),[g,v]=N.useState(""),[b,S]=N.useState(!1);N.useEffect(()=>{(async()=>{const{data:{session:C}}=await Pe.auth.getSession();C&&S(!0)})()},[]);const O=async E=>{if(E.preventDefault(),d!==g){Yt({title:"Passwords don't match",description:"Please make sure both passwords are the same."});return}n(!0);try{if(b){const{error:C}=await Pe.auth.updateUser({password:d});if(C)throw C}else{if(i.length!==6)throw new Error("Please enter a valid 6-digit code");const{error:C}=await Pe.auth.verifyOtp({email:s,token:i,type:"recovery"});if(C)throw C;const{error:j}=await Pe.auth.updateUser({password:d});if(j)throw j}e(Ba.passwordReset()),t("/login")}catch(C){Yt({title:"Password reset failed",description:C.message})}finally{n(!1)}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:f.jsxs(mt,{className:"w-full max-w-md shadow-lg",children:[f.jsxs(ir,{className:"space-y-1 text-center",children:[f.jsx("div",{className:"flex justify-center mb-4",children:f.jsx("div",{className:"p-3 bg-gradient-secondary rounded-full",children:f.jsx(rc,{className:"w-8 h-8 text-secondary-foreground"})})}),f.jsx(or,{className:"text-2xl font-bold",children:"Set New Password"}),f.jsx(kr,{children:b?"Enter your new password below":"Enter the code from your email and your new password"})]}),f.jsx(gt,{children:f.jsxs("form",{onSubmit:O,className:"space-y-4",children:[!b&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(pn,{htmlFor:"email",children:"Email"}),f.jsx(rr,{id:"email",type:"email",placeholder:"your@email.com",value:s,onChange:E=>l(E.target.value),required:!0,disabled:r})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(pn,{className:"text-center block",children:"Verification Code"}),f.jsx("div",{className:"flex justify-center",children:f.jsx(XT,{maxLength:6,value:i,onChange:a,disabled:r,children:f.jsxs(ZT,{children:[f.jsx(Ra,{index:0}),f.jsx(Ra,{index:1}),f.jsx(Ra,{index:2}),f.jsx(Ra,{index:3}),f.jsx(Ra,{index:4}),f.jsx(Ra,{index:5})]})})})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(pn,{htmlFor:"newPassword",children:"New Password"}),f.jsx(rr,{id:"newPassword",type:"password",placeholder:"",value:d,onChange:E=>h(E.target.value),required:!0,disabled:r,minLength:6})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(pn,{htmlFor:"confirmPassword",children:"Confirm New Password"}),f.jsx(rr,{id:"confirmPassword",type:"password",placeholder:"",value:g,onChange:E=>v(E.target.value),required:!0,disabled:r,minLength:6})]}),f.jsx(He,{type:"submit",className:"w-full bg-secondary hover:bg-secondary/90",disabled:r,children:r?"Resetting...":"Reset Password"}),f.jsx(He,{type:"button",variant:"ghost",className:"w-full",onClick:()=>t("/login"),disabled:r,children:"Back to Login"})]})})]})})};var $d={},Db,L3;function Rse(){return L3||(L3=1,Db=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Db}var Lb={},Vl={},B3;function Xu(){if(B3)return Vl;B3=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Vl.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},Vl.getSymbolTotalCodewords=function(n){return e[n]},Vl.getBCHDigit=function(r){let n=0;for(;r!==0;)n++,r>>>=1;return n},Vl.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');t=n},Vl.isKanjiModeEnabled=function(){return typeof t<"u"},Vl.toSJIS=function(n){return t(n)},Vl}var Bb={},F3;function QT(){return F3||(F3=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}}})(Bb)),Bb}var Fb,$3;function Mse(){if($3)return Fb;$3=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const r=Math.floor(e/8);return(this.buffer[r]>>>7-e%8&1)===1},put:function(e,r){for(let n=0;n<r;n++)this.putBit((e>>>r-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),e&&(this.buffer[r]|=128>>>this.length%8),this.length++}},Fb=t,Fb}var $b,U3;function Dse(){if(U3)return $b;U3=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,r,n,i){const a=e*this.size+r;this.data[a]=n,i&&(this.reservedBit[a]=!0)},t.prototype.get=function(e,r){return this.data[e*this.size+r]},t.prototype.xor=function(e,r,n){this.data[e*this.size+r]^=n},t.prototype.isReserved=function(e,r){return this.reservedBit[e*this.size+r]},$b=t,$b}var Ub={},V3;function Lse(){return V3||(V3=1,(function(t){const e=Xu().getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,a=e(n),s=a===145?26:Math.ceil((a-13)/(2*i-2))*2,l=[a-7];for(let d=1;d<i-1;d++)l[d]=l[d-1]-s;return l.push(6),l.reverse()},t.getPositions=function(n){const i=[],a=t.getRowColCoords(n),s=a.length;for(let l=0;l<s;l++)for(let d=0;d<s;d++)l===0&&d===0||l===0&&d===s-1||l===s-1&&d===0||i.push([a[l],a[d]]);return i}})(Ub)),Ub}var Vb={},W3;function Bse(){if(W3)return Vb;W3=1;const t=Xu().getSymbolSize,e=7;return Vb.getPositions=function(n){const i=t(n);return[[0,0],[i-e,0],[0,i-e]]},Vb}var Wb={},q3;function Fse(){return q3||(q3=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const a=i.size;let s=0,l=0,d=0,h=null,g=null;for(let v=0;v<a;v++){l=d=0,h=g=null;for(let b=0;b<a;b++){let S=i.get(v,b);S===h?l++:(l>=5&&(s+=e.N1+(l-5)),h=S,l=1),S=i.get(b,v),S===g?d++:(d>=5&&(s+=e.N1+(d-5)),g=S,d=1)}l>=5&&(s+=e.N1+(l-5)),d>=5&&(s+=e.N1+(d-5))}return s},t.getPenaltyN2=function(i){const a=i.size;let s=0;for(let l=0;l<a-1;l++)for(let d=0;d<a-1;d++){const h=i.get(l,d)+i.get(l,d+1)+i.get(l+1,d)+i.get(l+1,d+1);(h===4||h===0)&&s++}return s*e.N2},t.getPenaltyN3=function(i){const a=i.size;let s=0,l=0,d=0;for(let h=0;h<a;h++){l=d=0;for(let g=0;g<a;g++)l=l<<1&2047|i.get(h,g),g>=10&&(l===1488||l===93)&&s++,d=d<<1&2047|i.get(g,h),g>=10&&(d===1488||d===93)&&s++}return s*e.N3},t.getPenaltyN4=function(i){let a=0;const s=i.data.length;for(let d=0;d<s;d++)a+=i.data[d];return Math.abs(Math.ceil(a*100/s/5)-10)*e.N4};function r(n,i,a){switch(n){case t.Patterns.PATTERN000:return(i+a)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return a%3===0;case t.Patterns.PATTERN011:return(i+a)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case t.Patterns.PATTERN101:return i*a%2+i*a%3===0;case t.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case t.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(i,a){const s=a.size;for(let l=0;l<s;l++)for(let d=0;d<s;d++)a.isReserved(d,l)||a.xor(d,l,r(i,d,l))},t.getBestMask=function(i,a){const s=Object.keys(t.Patterns).length;let l=0,d=1/0;for(let h=0;h<s;h++){a(h),t.applyMask(h,i);const g=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(h,i),g<d&&(d=g,l=h)}return l}})(Wb)),Wb}var X0={},z3;function L$(){if(z3)return X0;z3=1;const t=QT(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],r=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return X0.getBlocksCount=function(i,a){switch(a){case t.L:return e[(i-1)*4+0];case t.M:return e[(i-1)*4+1];case t.Q:return e[(i-1)*4+2];case t.H:return e[(i-1)*4+3];default:return}},X0.getTotalCodewordsCount=function(i,a){switch(a){case t.L:return r[(i-1)*4+0];case t.M:return r[(i-1)*4+1];case t.Q:return r[(i-1)*4+2];case t.H:return r[(i-1)*4+3];default:return}},X0}var qb={},cp={},H3;function $se(){if(H3)return cp;H3=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let n=1;for(let i=0;i<255;i++)t[i]=n,e[n]=i,n<<=1,n&256&&(n^=285);for(let i=255;i<512;i++)t[i]=t[i-255]})(),cp.log=function(n){if(n<1)throw new Error("log("+n+")");return e[n]},cp.exp=function(n){return t[n]},cp.mul=function(n,i){return n===0||i===0?0:t[e[n]+e[i]]},cp}var G3;function Use(){return G3||(G3=1,(function(t){const e=$se();t.mul=function(n,i){const a=new Uint8Array(n.length+i.length-1);for(let s=0;s<n.length;s++)for(let l=0;l<i.length;l++)a[s+l]^=e.mul(n[s],i[l]);return a},t.mod=function(n,i){let a=new Uint8Array(n);for(;a.length-i.length>=0;){const s=a[0];for(let d=0;d<i.length;d++)a[d]^=e.mul(i[d],s);let l=0;for(;l<a.length&&a[l]===0;)l++;a=a.slice(l)}return a},t.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let a=0;a<n;a++)i=t.mul(i,new Uint8Array([1,e.exp(a)]));return i}})(qb)),qb}var zb,K3;function Vse(){if(K3)return zb;K3=1;const t=Use();function e(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(n){this.degree=n,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(n.length+this.degree);i.set(n);const a=t.mod(i,this.genPoly),s=this.degree-a.length;if(s>0){const l=new Uint8Array(this.degree);return l.set(a,s),l}return a},zb=e,zb}var Hb={},Gb={},Kb={},Y3;function B$(){return Y3||(Y3=1,Kb.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),Kb}var io={},X3;function F$(){if(X3)return io;X3=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+`)(?:.|[\r
]))+`;io.KANJI=new RegExp(r,"g"),io.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),io.BYTE=new RegExp(n,"g"),io.NUMERIC=new RegExp(t,"g"),io.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+r+"$"),a=new RegExp("^"+t+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return io.testKanji=function(d){return i.test(d)},io.testNumeric=function(d){return a.test(d)},io.testAlphanumeric=function(d){return s.test(d)},io}var Z3;function Zu(){return Z3||(Z3=1,(function(t){const e=B$(),r=F$();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(a,s){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!e.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?a.ccBits[0]:s<27?a.ccBits[1]:a.ccBits[2]},t.getBestModeForData=function(a){return r.testNumeric(a)?t.NUMERIC:r.testAlphanumeric(a)?t.ALPHANUMERIC:r.testKanji(a)?t.KANJI:t.BYTE},t.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},t.isValid=function(a){return a&&a.bit&&a.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(a,s){if(t.isValid(a))return a;try{return n(a)}catch{return s}}})(Gb)),Gb}var Q3;function Wse(){return Q3||(Q3=1,(function(t){const e=Xu(),r=L$(),n=QT(),i=Zu(),a=B$(),s=7973,l=e.getBCHDigit(s);function d(b,S,O){for(let E=1;E<=40;E++)if(S<=t.getCapacity(E,O,b))return E}function h(b,S){return i.getCharCountIndicator(b,S)+4}function g(b,S){let O=0;return b.forEach(function(E){const C=h(E.mode,S);O+=C+E.getBitsLength()}),O}function v(b,S){for(let O=1;O<=40;O++)if(g(b,O)<=t.getCapacity(O,S,i.MIXED))return O}t.from=function(S,O){return a.isValid(S)?parseInt(S,10):O},t.getCapacity=function(S,O,E){if(!a.isValid(S))throw new Error("Invalid QR Code version");typeof E>"u"&&(E=i.BYTE);const C=e.getSymbolTotalCodewords(S),j=r.getTotalCodewordsCount(S,O),P=(C-j)*8;if(E===i.MIXED)return P;const I=P-h(E,S);switch(E){case i.NUMERIC:return Math.floor(I/10*3);case i.ALPHANUMERIC:return Math.floor(I/11*2);case i.KANJI:return Math.floor(I/13);case i.BYTE:default:return Math.floor(I/8)}},t.getBestVersionForData=function(S,O){let E;const C=n.from(O,n.M);if(Array.isArray(S)){if(S.length>1)return v(S,C);if(S.length===0)return 1;E=S[0]}else E=S;return d(E.mode,E.getLength(),C)},t.getEncodedBits=function(S){if(!a.isValid(S)||S<7)throw new Error("Invalid QR Code version");let O=S<<12;for(;e.getBCHDigit(O)-l>=0;)O^=s<<e.getBCHDigit(O)-l;return S<<12|O}})(Hb)),Hb}var Yb={},J3;function qse(){if(J3)return Yb;J3=1;const t=Xu(),e=1335,r=21522,n=t.getBCHDigit(e);return Yb.getEncodedBits=function(a,s){const l=a.bit<<3|s;let d=l<<10;for(;t.getBCHDigit(d)-n>=0;)d^=e<<t.getBCHDigit(d)-n;return(l<<10|d)^r},Yb}var Xb={},Zb,eR;function zse(){if(eR)return Zb;eR=1;const t=Zu();function e(r){this.mode=t.NUMERIC,this.data=r.toString()}return e.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){let i,a,s;for(i=0;i+3<=this.data.length;i+=3)a=this.data.substr(i,3),s=parseInt(a,10),n.put(s,10);const l=this.data.length-i;l>0&&(a=this.data.substr(i),s=parseInt(a,10),n.put(s,l*3+1))},Zb=e,Zb}var Qb,tR;function Hse(){if(tR)return Qb;tR=1;const t=Zu(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(n){this.mode=t.ALPHANUMERIC,this.data=n}return r.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(i){let a;for(a=0;a+2<=this.data.length;a+=2){let s=e.indexOf(this.data[a])*45;s+=e.indexOf(this.data[a+1]),i.put(s,11)}this.data.length%2&&i.put(e.indexOf(this.data[a]),6)},Qb=r,Qb}var Jb,rR;function Gse(){if(rR)return Jb;rR=1;const t=Zu();function e(r){this.mode=t.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}return e.getBitsLength=function(n){return n*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){for(let n=0,i=this.data.length;n<i;n++)r.put(this.data[n],8)},Jb=e,Jb}var e_,nR;function Kse(){if(nR)return e_;nR=1;const t=Zu(),e=Xu();function r(n){this.mode=t.KANJI,this.data=n}return r.getBitsLength=function(i){return i*13},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(n){let i;for(i=0;i<this.data.length;i++){let a=e.toSJIS(this.data[i]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);a=(a>>>8&255)*192+(a&255),n.put(a,13)}},e_=r,e_}var t_={exports:{}},iR;function Yse(){return iR||(iR=1,(function(t){var e={single_source_shortest_paths:function(r,n,i){var a={},s={};s[n]=0;var l=e.PriorityQueue.make();l.push(n,0);for(var d,h,g,v,b,S,O,E,C;!l.empty();){d=l.pop(),h=d.value,v=d.cost,b=r[h]||{};for(g in b)b.hasOwnProperty(g)&&(S=b[g],O=v+S,E=s[g],C=typeof s[g]>"u",(C||E>O)&&(s[g]=O,l.push(g,O),a[g]=h))}if(typeof i<"u"&&typeof s[i]>"u"){var j=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(j)}return a},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],a=n;a;)i.push(a),r[a],a=r[a];return i.reverse(),i},find_path:function(r,n,i){var a=e.single_source_shortest_paths(r,n,i);return e.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,i={},a;r=r||{};for(a in n)n.hasOwnProperty(a)&&(i[a]=n[a]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(t_)),t_.exports}var aR;function Xse(){return aR||(aR=1,(function(t){const e=Zu(),r=zse(),n=Hse(),i=Gse(),a=Kse(),s=F$(),l=Xu(),d=Yse();function h(j){return unescape(encodeURIComponent(j)).length}function g(j,P,I){const F=[];let R;for(;(R=j.exec(I))!==null;)F.push({data:R[0],index:R.index,mode:P,length:R[0].length});return F}function v(j){const P=g(s.NUMERIC,e.NUMERIC,j),I=g(s.ALPHANUMERIC,e.ALPHANUMERIC,j);let F,R;return l.isKanjiModeEnabled()?(F=g(s.BYTE,e.BYTE,j),R=g(s.KANJI,e.KANJI,j)):(F=g(s.BYTE_KANJI,e.BYTE,j),R=[]),P.concat(I,F,R).sort(function(B,q){return B.index-q.index}).map(function(B){return{data:B.data,mode:B.mode,length:B.length}})}function b(j,P){switch(P){case e.NUMERIC:return r.getBitsLength(j);case e.ALPHANUMERIC:return n.getBitsLength(j);case e.KANJI:return a.getBitsLength(j);case e.BYTE:return i.getBitsLength(j)}}function S(j){return j.reduce(function(P,I){const F=P.length-1>=0?P[P.length-1]:null;return F&&F.mode===I.mode?(P[P.length-1].data+=I.data,P):(P.push(I),P)},[])}function O(j){const P=[];for(let I=0;I<j.length;I++){const F=j[I];switch(F.mode){case e.NUMERIC:P.push([F,{data:F.data,mode:e.ALPHANUMERIC,length:F.length},{data:F.data,mode:e.BYTE,length:F.length}]);break;case e.ALPHANUMERIC:P.push([F,{data:F.data,mode:e.BYTE,length:F.length}]);break;case e.KANJI:P.push([F,{data:F.data,mode:e.BYTE,length:h(F.data)}]);break;case e.BYTE:P.push([{data:F.data,mode:e.BYTE,length:h(F.data)}])}}return P}function E(j,P){const I={},F={start:{}};let R=["start"];for(let M=0;M<j.length;M++){const B=j[M],q=[];for(let U=0;U<B.length;U++){const z=B[U],G=""+M+U;q.push(G),I[G]={node:z,lastCount:0},F[G]={};for(let W=0;W<R.length;W++){const H=R[W];I[H]&&I[H].node.mode===z.mode?(F[H][G]=b(I[H].lastCount+z.length,z.mode)-b(I[H].lastCount,z.mode),I[H].lastCount+=z.length):(I[H]&&(I[H].lastCount=z.length),F[H][G]=b(z.length,z.mode)+4+e.getCharCountIndicator(z.mode,P))}}R=q}for(let M=0;M<R.length;M++)F[R[M]].end=0;return{map:F,table:I}}function C(j,P){let I;const F=e.getBestModeForData(j);if(I=e.from(P,F),I!==e.BYTE&&I.bit<F.bit)throw new Error('"'+j+'" cannot be encoded with mode '+e.toString(I)+`.
 Suggested mode is: `+e.toString(F));switch(I===e.KANJI&&!l.isKanjiModeEnabled()&&(I=e.BYTE),I){case e.NUMERIC:return new r(j);case e.ALPHANUMERIC:return new n(j);case e.KANJI:return new a(j);case e.BYTE:return new i(j)}}t.fromArray=function(P){return P.reduce(function(I,F){return typeof F=="string"?I.push(C(F,null)):F.data&&I.push(C(F.data,F.mode)),I},[])},t.fromString=function(P,I){const F=v(P,l.isKanjiModeEnabled()),R=O(F),M=E(R,I),B=d.find_path(M.map,"start","end"),q=[];for(let U=1;U<B.length-1;U++)q.push(M.table[B[U]].node);return t.fromArray(S(q))},t.rawSplit=function(P){return t.fromArray(v(P,l.isKanjiModeEnabled()))}})(Xb)),Xb}var sR;function Zse(){if(sR)return Lb;sR=1;const t=Xu(),e=QT(),r=Mse(),n=Dse(),i=Lse(),a=Bse(),s=Fse(),l=L$(),d=Vse(),h=Wse(),g=qse(),v=Zu(),b=Xse();function S(M,B){const q=M.size,U=a.getPositions(B);for(let z=0;z<U.length;z++){const G=U[z][0],W=U[z][1];for(let H=-1;H<=7;H++)if(!(G+H<=-1||q<=G+H))for(let Q=-1;Q<=7;Q++)W+Q<=-1||q<=W+Q||(H>=0&&H<=6&&(Q===0||Q===6)||Q>=0&&Q<=6&&(H===0||H===6)||H>=2&&H<=4&&Q>=2&&Q<=4?M.set(G+H,W+Q,!0,!0):M.set(G+H,W+Q,!1,!0))}}function O(M){const B=M.size;for(let q=8;q<B-8;q++){const U=q%2===0;M.set(q,6,U,!0),M.set(6,q,U,!0)}}function E(M,B){const q=i.getPositions(B);for(let U=0;U<q.length;U++){const z=q[U][0],G=q[U][1];for(let W=-2;W<=2;W++)for(let H=-2;H<=2;H++)W===-2||W===2||H===-2||H===2||W===0&&H===0?M.set(z+W,G+H,!0,!0):M.set(z+W,G+H,!1,!0)}}function C(M,B){const q=M.size,U=h.getEncodedBits(B);let z,G,W;for(let H=0;H<18;H++)z=Math.floor(H/3),G=H%3+q-8-3,W=(U>>H&1)===1,M.set(z,G,W,!0),M.set(G,z,W,!0)}function j(M,B,q){const U=M.size,z=g.getEncodedBits(B,q);let G,W;for(G=0;G<15;G++)W=(z>>G&1)===1,G<6?M.set(G,8,W,!0):G<8?M.set(G+1,8,W,!0):M.set(U-15+G,8,W,!0),G<8?M.set(8,U-G-1,W,!0):G<9?M.set(8,15-G-1+1,W,!0):M.set(8,15-G-1,W,!0);M.set(U-8,8,1,!0)}function P(M,B){const q=M.size;let U=-1,z=q-1,G=7,W=0;for(let H=q-1;H>0;H-=2)for(H===6&&H--;;){for(let Q=0;Q<2;Q++)if(!M.isReserved(z,H-Q)){let X=!1;W<B.length&&(X=(B[W]>>>G&1)===1),M.set(z,H-Q,X),G--,G===-1&&(W++,G=7)}if(z+=U,z<0||q<=z){z-=U,U=-U;break}}}function I(M,B,q){const U=new r;q.forEach(function(Q){U.put(Q.mode.bit,4),U.put(Q.getLength(),v.getCharCountIndicator(Q.mode,M)),Q.write(U)});const z=t.getSymbolTotalCodewords(M),G=l.getTotalCodewordsCount(M,B),W=(z-G)*8;for(U.getLengthInBits()+4<=W&&U.put(0,4);U.getLengthInBits()%8!==0;)U.putBit(0);const H=(W-U.getLengthInBits())/8;for(let Q=0;Q<H;Q++)U.put(Q%2?17:236,8);return F(U,M,B)}function F(M,B,q){const U=t.getSymbolTotalCodewords(B),z=l.getTotalCodewordsCount(B,q),G=U-z,W=l.getBlocksCount(B,q),H=U%W,Q=W-H,X=Math.floor(U/W),se=Math.floor(G/W),ne=se+1,re=X-se,J=new d(re);let he=0;const ie=new Array(W),le=new Array(W);let we=0;const ke=new Uint8Array(M.buffer);for(let Ne=0;Ne<W;Ne++){const Le=Ne<Q?se:ne;ie[Ne]=ke.slice(he,he+Le),le[Ne]=J.encode(ie[Ne]),he+=Le,we=Math.max(we,Le)}const qe=new Uint8Array(U);let je=0,Te,De;for(Te=0;Te<we;Te++)for(De=0;De<W;De++)Te<ie[De].length&&(qe[je++]=ie[De][Te]);for(Te=0;Te<re;Te++)for(De=0;De<W;De++)qe[je++]=le[De][Te];return qe}function R(M,B,q,U){let z;if(Array.isArray(M))z=b.fromArray(M);else if(typeof M=="string"){let X=B;if(!X){const se=b.rawSplit(M);X=h.getBestVersionForData(se,q)}z=b.fromString(M,X||40)}else throw new Error("Invalid data");const G=h.getBestVersionForData(z,q);if(!G)throw new Error("The amount of data is too big to be stored in a QR Code");if(!B)B=G;else if(B<G)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+G+`.
`);const W=I(B,q,z),H=t.getSymbolSize(B),Q=new n(H);return S(Q,B),O(Q),E(Q,B),j(Q,q,0),B>=7&&C(Q,B),P(Q,W),isNaN(U)&&(U=s.getBestMask(Q,j.bind(null,Q,q))),s.applyMask(U,Q),j(Q,q,U),{modules:Q,version:B,errorCorrectionLevel:q,maskPattern:U,segments:z}}return Lb.create=function(B,q){if(typeof B>"u"||B==="")throw new Error("No input text");let U=e.M,z,G;return typeof q<"u"&&(U=e.from(q.errorCorrectionLevel,e.M),z=h.from(q.version),G=s.from(q.maskPattern),q.toSJISFunc&&t.setToSJISFunction(q.toSJISFunc)),R(B,z,U,G)},Lb}var r_={},n_={},oR;function $$(){return oR||(oR=1,(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(a){return[a,a]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,a=n.width&&n.width>=21?n.width:void 0,s=n.scale||4;return{width:a,scale:a?4:s,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){const a=t.getScale(n,i);return Math.floor((n+i.margin*2)*a)},t.qrToImageData=function(n,i,a){const s=i.modules.size,l=i.modules.data,d=t.getScale(s,a),h=Math.floor((s+a.margin*2)*d),g=a.margin*d,v=[a.color.light,a.color.dark];for(let b=0;b<h;b++)for(let S=0;S<h;S++){let O=(b*h+S)*4,E=a.color.light;if(b>=g&&S>=g&&b<h-g&&S<h-g){const C=Math.floor((b-g)/d),j=Math.floor((S-g)/d);E=v[l[C*s+j]?1:0]}n[O++]=E.r,n[O++]=E.g,n[O++]=E.b,n[O]=E.a}}})(n_)),n_}var lR;function Qse(){return lR||(lR=1,(function(t){const e=$$();function r(i,a,s){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=s,a.width=s,a.style.height=s+"px",a.style.width=s+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(a,s,l){let d=l,h=s;typeof d>"u"&&(!s||!s.getContext)&&(d=s,s=void 0),s||(h=n()),d=e.getOptions(d);const g=e.getImageWidth(a.modules.size,d),v=h.getContext("2d"),b=v.createImageData(g,g);return e.qrToImageData(b.data,a,d),r(v,h,g),v.putImageData(b,0,0),h},t.renderToDataURL=function(a,s,l){let d=l;typeof d>"u"&&(!s||!s.getContext)&&(d=s,s=void 0),d||(d={});const h=t.render(a,s,d),g=d.type||"image/png",v=d.rendererOpts||{};return h.toDataURL(g,v.quality)}})(r_)),r_}var i_={},cR;function Jse(){if(cR)return i_;cR=1;const t=$$();function e(i,a){const s=i.a/255,l=a+'="'+i.hex+'"';return s<1?l+" "+a+'-opacity="'+s.toFixed(2).slice(1)+'"':l}function r(i,a,s){let l=i+a;return typeof s<"u"&&(l+=" "+s),l}function n(i,a,s){let l="",d=0,h=!1,g=0;for(let v=0;v<i.length;v++){const b=Math.floor(v%a),S=Math.floor(v/a);!b&&!h&&(h=!0),i[v]?(g++,v>0&&b>0&&i[v-1]||(l+=h?r("M",b+s,.5+S+s):r("m",d,0),d=0,h=!1),b+1<a&&i[v+1]||(l+=r("h",g),g=0)):d++}return l}return i_.render=function(a,s,l){const d=t.getOptions(s),h=a.modules.size,g=a.modules.data,v=h+d.margin*2,b=d.color.light.a?"<path "+e(d.color.light,"fill")+' d="M0 0h'+v+"v"+v+'H0z"/>':"",S="<path "+e(d.color.dark,"stroke")+' d="'+n(g,h,d.margin)+'"/>',O='viewBox="0 0 '+v+" "+v+'"',C='<svg xmlns="http://www.w3.org/2000/svg" '+(d.width?'width="'+d.width+'" height="'+d.width+'" ':"")+O+' shape-rendering="crispEdges">'+b+S+`</svg>
`;return typeof l=="function"&&l(null,C),C},i_}var uR;function eoe(){if(uR)return $d;uR=1;const t=Rse(),e=Zse(),r=Qse(),n=Jse();function i(a,s,l,d,h){const g=[].slice.call(arguments,1),v=g.length,b=typeof g[v-1]=="function";if(!b&&!t())throw new Error("Callback required as last argument");if(b){if(v<2)throw new Error("Too few arguments provided");v===2?(h=l,l=s,s=d=void 0):v===3&&(s.getContext&&typeof h>"u"?(h=d,d=void 0):(h=d,d=l,l=s,s=void 0))}else{if(v<1)throw new Error("Too few arguments provided");return v===1?(l=s,s=d=void 0):v===2&&!s.getContext&&(d=l,l=s,s=void 0),new Promise(function(S,O){try{const E=e.create(l,d);S(a(E,s,d))}catch(E){O(E)}})}try{const S=e.create(l,d);h(null,a(S,s,d))}catch(S){h(S)}}return $d.create=e.create,$d.toCanvas=i.bind(null,r.render),$d.toDataURL=i.bind(null,r.renderToDataURL),$d.toString=i.bind(null,function(a,s,l){return n.render(a,l)}),$d}var toe=eoe();const roe=Cr(toe),noe=(t,e,r)=>({userId:t,timestamp:Date.now(),action:e,sessionId:r}),ioe=t=>JSON.stringify(t),dR=t=>{try{const e=JSON.parse(t);return e.userId&&e.timestamp&&e.action?e:null}catch{return null}},aoe=async(t,e)=>{const r=typeof t=="string"?t:ioe(t),n={width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"},...e};try{return await roe.toDataURL(r,n)}catch(i){throw console.error("Error generating QR code:",i),new Error("Failed to generate QR code")}},aA=(t,e=300*1e3)=>Date.now()-t.timestamp<e,U$=({userId:t,action:e="entry",sessionId:r,title:n,description:i,size:a=300,className:s,showDownload:l=!0,showRefresh:d=!0,onRefresh:h})=>{const[g,v]=N.useState(null),[b,S]=N.useState(!0),[O,E]=N.useState(null),C=async()=>{try{S(!0),E(null);const I=noe(t,e,r),F=await aoe(I,{width:a,margin:2});v(F)}catch(I){E(I.message||"Failed to generate QR code"),console.error("QR code generation error:",I)}finally{S(!1)}};N.useEffect(()=>{C()},[t,e,r,a]);const j=()=>{if(!g)return;const I=document.createElement("a");I.href=g,I.download=`qr-code-${e}-${Date.now()}.png`,document.body.appendChild(I),I.click(),document.body.removeChild(I)},P=()=>{C(),h?.()};return f.jsxs(mt,{className:Me("w-full",s),children:[n&&f.jsxs(ir,{children:[f.jsx(or,{children:n}),i&&f.jsx(kr,{children:i})]}),f.jsx(gt,{className:"space-y-4",children:f.jsx("div",{className:"flex flex-col items-center justify-center space-y-4",children:b?f.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",style:{width:a,height:a},children:[f.jsx(da,{className:"w-8 h-8 animate-spin text-muted-foreground"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Generating QR code..."})]}):O?f.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2 p-8",style:{width:a,height:a},children:[f.jsx("p",{className:"text-sm text-destructive",children:O}),d&&f.jsxs(He,{variant:"outline",size:"sm",onClick:P,children:[f.jsx(hf,{className:"w-4 h-4 mr-2"}),"Retry"]})]}):g?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md",children:f.jsx("img",{src:g,alt:`QR Code for ${e}`,className:"w-full h-auto",style:{maxWidth:a,maxHeight:a}})}),f.jsxs("div",{className:"flex gap-2",children:[l&&f.jsxs(He,{variant:"outline",size:"sm",onClick:j,children:[f.jsx(xC,{className:"w-4 h-4 mr-2"}),"Download"]}),d&&f.jsxs(He,{variant:"outline",size:"sm",onClick:P,children:[f.jsx(hf,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}):null})})]})};function hr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Wa(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Ci(t,e){const r=hr(t);return isNaN(e)?Wa(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function ms(t,e){const r=hr(t);if(isNaN(e))return Wa(t,NaN);if(!e)return r;const n=r.getDate(),i=Wa(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const a=i.getDate();return n>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const JT=6048e5,soe=864e5,eN=6e4,tN=36e5;let ooe={};function ug(){return ooe}function xo(t,e){const r=ug(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=hr(t),a=i.getDay(),s=(a<n?7:0)+a-n;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Pu(t){return xo(t,{weekStartsOn:1})}function V$(t){const e=hr(t),r=e.getFullYear(),n=Wa(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Pu(n),a=Wa(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const s=Pu(a);return e.getTime()>=i.getTime()?r+1:e.getTime()>=s.getTime()?r:r-1}function ju(t){const e=hr(t);return e.setHours(0,0,0,0),e}function ty(t){const e=hr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function $s(t,e){const r=ju(t),n=ju(e),i=+r-ty(r),a=+n-ty(n);return Math.round((i-a)/soe)}function loe(t){const e=V$(t),r=Wa(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Pu(r)}function ry(t,e){const r=e*7;return Ci(t,r)}function coe(t,e){return ms(t,e*12)}function uoe(t){let e;return t.forEach(function(r){const n=hr(r);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function doe(t){let e;return t.forEach(r=>{const n=hr(r);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function Li(t,e){const r=ju(t),n=ju(e);return+r==+n}function rN(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function foe(t){if(!rN(t)&&typeof t!="number")return!1;const e=hr(t);return!isNaN(Number(e))}function om(t,e){const r=hr(t),n=hr(e),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function hoe(t,e,r){const n=xo(t,r),i=xo(e,r),a=+n-ty(n),s=+i-ty(i);return Math.round((a-s)/JT)}function poe(t,e){const r=hr(t),n=hr(e),i=fR(r,n),a=Math.abs($s(r,n));r.setDate(r.getDate()-i*a);const s=+(fR(r,n)===-i),l=i*(a-s);return l===0?0:l}function fR(t,e){const r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function W$(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function q$(t,e){return+hr(t)-+hr(e)}function moe(t,e,r){const n=q$(t,e)/tN;return W$(r?.roundingMethod)(n)}function goe(t,e,r){const n=q$(t,e)/eN;return W$(r?.roundingMethod)(n)}function nN(t){const e=hr(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Yi(t){const e=hr(t);return e.setDate(1),e.setHours(0,0,0,0),e}function z$(t){const e=hr(t),r=Wa(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function iN(t,e){const r=ug(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=hr(t),a=i.getDay(),s=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function H$(t){return iN(t,{weekStartsOn:1})}const voe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},yoe=(t,e,r)=>{let n;const i=voe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function a_(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const xoe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},woe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},boe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_oe={date:a_({formats:xoe,defaultWidth:"full"}),time:a_({formats:woe,defaultWidth:"full"}),dateTime:a_({formats:boe,defaultWidth:"full"})},Soe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Eoe=(t,e,r,n)=>Soe[t];function up(t){return(e,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,l=r?.width?String(r.width):s;i=t.formattingValues[l]||t.formattingValues[s]}else{const s=t.defaultWidth,l=r?.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const Coe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Aoe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ooe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Toe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Noe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},koe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Poe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},joe={ordinalNumber:Poe,era:up({values:Coe,defaultWidth:"wide"}),quarter:up({values:Aoe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:up({values:Ooe,defaultWidth:"wide"}),day:up({values:Toe,defaultWidth:"wide"}),dayPeriod:up({values:Noe,defaultWidth:"wide",formattingValues:koe,defaultFormattingWidth:"wide"})};function dp(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(l)?Roe(l,v=>v.test(s)):Ioe(l,v=>v.test(s));let h;h=t.valueCallback?t.valueCallback(d):d,h=r.valueCallback?r.valueCallback(h):h;const g=e.slice(s.length);return{value:h,rest:g}}}function Ioe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Roe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Moe(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=r.valueCallback?r.valueCallback(s):s;const l=e.slice(i.length);return{value:s,rest:l}}}const Doe=/^(\d+)(th|st|nd|rd)?/i,Loe=/\d+/i,Boe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Foe={any:[/^b/i,/^(a|c)/i]},$oe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Uoe={any:[/1/i,/2/i,/3/i,/4/i]},Voe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Woe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qoe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zoe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Hoe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Goe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Koe={ordinalNumber:Moe({matchPattern:Doe,parsePattern:Loe,valueCallback:t=>parseInt(t,10)}),era:dp({matchPatterns:Boe,defaultMatchWidth:"wide",parsePatterns:Foe,defaultParseWidth:"any"}),quarter:dp({matchPatterns:$oe,defaultMatchWidth:"wide",parsePatterns:Uoe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:dp({matchPatterns:Voe,defaultMatchWidth:"wide",parsePatterns:Woe,defaultParseWidth:"any"}),day:dp({matchPatterns:qoe,defaultMatchWidth:"wide",parsePatterns:zoe,defaultParseWidth:"any"}),dayPeriod:dp({matchPatterns:Hoe,defaultMatchWidth:"any",parsePatterns:Goe,defaultParseWidth:"any"})},G$={code:"en-US",formatDistance:yoe,formatLong:_oe,formatRelative:Eoe,localize:joe,match:Koe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Yoe(t){const e=hr(t);return $s(e,z$(e))+1}function K$(t){const e=hr(t),r=+Pu(e)-+loe(e);return Math.round(r/JT)+1}function Y$(t,e){const r=hr(t),n=r.getFullYear(),i=ug(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,s=Wa(t,0);s.setFullYear(n+1,0,a),s.setHours(0,0,0,0);const l=xo(s,e),d=Wa(t,0);d.setFullYear(n,0,a),d.setHours(0,0,0,0);const h=xo(d,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=h.getTime()?n:n-1}function Xoe(t,e){const r=ug(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=Y$(t,e),a=Wa(t,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),xo(a,e)}function X$(t,e){const r=hr(t),n=+xo(r,e)-+Xoe(r,e);return Math.round(n/JT)+1}function Ur(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Wl={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Ur(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Ur(r+1,2)},d(t,e){return Ur(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Ur(t.getHours()%12||12,e.length)},H(t,e){return Ur(t.getHours(),e.length)},m(t,e){return Ur(t.getMinutes(),e.length)},s(t,e){return Ur(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Ur(i,e.length)}},Ud={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hR={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Wl.y(t,e)},Y:function(t,e,r,n){const i=Y$(t,n),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return Ur(s,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):Ur(a,e.length)},R:function(t,e){const r=V$(t);return Ur(r,e.length)},u:function(t,e){const r=t.getFullYear();return Ur(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Ur(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Ur(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Wl.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Ur(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=X$(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):Ur(i,e.length)},I:function(t,e,r){const n=K$(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Ur(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Wl.d(t,e)},D:function(t,e,r){const n=Yoe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ur(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Ur(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Ur(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Ur(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=Ud.noon:n===0?i=Ud.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=Ud.evening:n>=12?i=Ud.afternoon:n>=4?i=Ud.morning:i=Ud.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Wl.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Wl.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ur(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ur(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Wl.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Wl.s(t,e)},S:function(t,e){return Wl.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return mR(n);case"XXXX":case"XX":return au(n);case"XXXXX":case"XXX":default:return au(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return mR(n);case"xxxx":case"xx":return au(n);case"xxxxx":case"xxx":default:return au(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+pR(n,":");case"OOOO":default:return"GMT"+au(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+pR(n,":");case"zzzz":default:return"GMT"+au(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Ur(n,e.length)},T:function(t,e,r){const n=t.getTime();return Ur(n,e.length)}};function pR(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+e+Ur(a,2)}function mR(t,e){return t%60===0?(t>0?"-":"+")+Ur(Math.abs(t)/60,2):au(t,e)}function au(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Ur(Math.trunc(n/60),2),a=Ur(n%60,2);return r+i+e+a}const gR=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Z$=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Zoe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return gR(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",gR(n,e)).replace("{{time}}",Z$(i,e))},Qoe={p:Z$,P:Zoe},Joe=/^D+$/,ele=/^Y+$/,tle=["D","DD","YY","YYYY"];function rle(t){return Joe.test(t)}function nle(t){return ele.test(t)}function ile(t,e,r){const n=ale(t,e,r);if(console.warn(n),tle.includes(t))throw new RangeError(n)}function ale(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const sle=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ole=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lle=/^'([^]*?)'?$/,cle=/''/g,ule=/[a-zA-Z]/;function Xt(t,e,r){const n=ug(),i=r?.locale??n.locale??G$,a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=hr(t);if(!foe(l))throw new RangeError("Invalid time value");let d=e.match(ole).map(g=>{const v=g[0];if(v==="p"||v==="P"){const b=Qoe[v];return b(g,i.formatLong)}return g}).join("").match(sle).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const v=g[0];if(v==="'")return{isToken:!1,value:dle(g)};if(hR[v])return{isToken:!0,value:g};if(v.match(ule))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(d=i.localize.preprocessor(l,d));const h={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return d.map(g=>{if(!g.isToken)return g.value;const v=g.value;(!r?.useAdditionalWeekYearTokens&&nle(v)||!r?.useAdditionalDayOfYearTokens&&rle(v))&&ile(v,e,String(t));const b=hR[v[0]];return b(l,v,i.localize,h)}).join("")}function dle(t){const e=t.match(lle);return e?e[1].replace(cle,"'"):t}function fle(t){const e=hr(t),r=e.getFullYear(),n=e.getMonth(),i=Wa(t,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function hle(t){return Math.trunc(+hr(t)/1e3)}function ple(t){const e=hr(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function mle(t,e){return hoe(ple(t),Yi(t),e)+1}function lm(t,e){const r=hr(t),n=hr(e);return r.getTime()>n.getTime()}function aN(t,e){const r=hr(t),n=hr(e);return+r<+n}function sN(t,e){const r=hr(t),n=hr(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function gle(t,e){const r=hr(t),n=hr(e);return r.getFullYear()===n.getFullYear()}function mu(t,e){return Ci(t,-e)}function en(t,e){const n=wle(t);let i;if(n.date){const d=ble(n.date,2);i=_le(d.restDateString,d.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const a=i.getTime();let s=0,l;if(n.time&&(s=Sle(n.time),isNaN(s)))return new Date(NaN);if(n.timezone){if(l=Ele(n.timezone),isNaN(l))return new Date(NaN)}else{const d=new Date(a+s),h=new Date(0);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return new Date(a+s+l)}const Z0={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},vle=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,yle=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,xle=/^([+-])(\d{2})(?::?(\d{2}))?$/;function wle(t){const e={},r=t.split(Z0.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],Z0.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Z0.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const i=Z0.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function ble(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:t.slice((n[1]||n[2]).length)}}function _le(t,e){if(e===null)return new Date(NaN);const r=t.match(vle);if(!r)return new Date(NaN);const n=!!r[4],i=fp(r[1]),a=fp(r[2])-1,s=fp(r[3]),l=fp(r[4]),d=fp(r[5])-1;if(n)return Nle(e,l,d)?Cle(e,l,d):new Date(NaN);{const h=new Date(0);return!Ole(e,a,s)||!Tle(e,i)?new Date(NaN):(h.setUTCFullYear(e,a,Math.max(i,s)),h)}}function fp(t){return t?parseInt(t):1}function Sle(t){const e=t.match(yle);if(!e)return NaN;const r=s_(e[1]),n=s_(e[2]),i=s_(e[3]);return kle(r,n,i)?r*tN+n*eN+i*1e3:NaN}function s_(t){return t&&parseFloat(t.replace(",","."))||0}function Ele(t){if(t==="Z")return 0;const e=t.match(xle);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Ple(n,i)?r*(n*tN+i*eN):NaN}function Cle(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const i=n.getUTCDay()||7,a=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const Ale=[31,null,31,30,31,30,31,31,30,31,30,31];function Q$(t){return t%400===0||t%4===0&&t%100!==0}function Ole(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(Ale[e]||(Q$(t)?29:28))}function Tle(t,e){return e>=1&&e<=(Q$(t)?366:365)}function Nle(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function kle(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function Ple(t,e){return e>=0&&e<=59}function o_(t,e){const r=hr(t),n=r.getFullYear(),i=r.getDate(),a=Wa(t,0);a.setFullYear(n,e,15),a.setHours(0,0,0,0);const s=fle(a);return r.setMonth(e,Math.min(i,s)),r}function vR(t,e){const r=hr(t);return isNaN(+r)?Wa(t,NaN):(r.setFullYear(e),r)}function yR(){return ju(Date.now())}const jle=zu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Gr({className:t,variant:e,...r}){return f.jsx("div",{className:Me(jle({variant:e}),t),...r})}const Iu=({size:t="md",className:e,text:r})=>{const n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return f.jsxs("div",{className:Me("flex flex-col items-center justify-center gap-2",e),children:[f.jsx(da,{className:Me("animate-spin text-primary",n[t])}),r&&f.jsx("p",{className:"text-sm text-muted-foreground",children:r})]})},Ile=()=>{const[t,e]=N.useState([]),[r,n]=N.useState([]),[i,a]=N.useState(null),[s,l]=N.useState(!0),[d,h]=N.useState(!1),{toast:g}=mi(),{user:v}=Yu(),b=Ai(),S=async()=>{try{l(!0);const{data:{user:z},error:G}=await Pe.auth.getUser();if(G)throw G;if(!z)throw new Error("User not found. Please log in again.");const{data:W,error:H}=await Pe.from("check_ins").select("*").eq("user_id",z.id).order("check_in_time",{ascending:!1}).limit(20);if(H)throw H;n(W||[]);const Q=W?.find(J=>!J.check_out_time);h(!!Q);const{data:X,error:se}=await Pe.from("class_bookings").select("*, class_sessions(id, name, instructor, start_time, end_time, capacity)").eq("user_id",z.id).order("created_at",{ascending:!1});if(se)throw se;e(X||[]);const{data:ne,error:re}=await Pe.from("user_memberships").select("*, memberships(name, price)").eq("user_id",z.id).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(re)throw re;a(ne||null)}catch(z){console.error("Dashboard load error:",z),g({variant:"destructive",title:"Error loading dashboard",description:z.message})}finally{l(!1)}};N.useEffect(()=>{S()},[]);const O=new Date,E=new Date(O.getFullYear(),O.getMonth(),1),C=new Date(O.getFullYear(),O.getMonth()+1,0,23,59,59),j=r.filter(z=>new Date(z.check_in_time)>=E&&new Date(z.check_in_time)<=C).length,P=t.filter(z=>z.status==="attended"&&z.class_sessions&&new Date(z.class_sessions.start_time)>=E&&new Date(z.class_sessions.start_time)<=C).length,I=r.length,F=t.filter(z=>z.status==="booked").length,R=t.filter(z=>z.status==="attended").length,M=t.filter(z=>z.class_sessions&&new Date(z.class_sessions.start_time)>O&&z.status==="booked").sort((z,G)=>new Date(z.class_sessions?.start_time||0).getTime()-new Date(G.class_sessions?.start_time||0).getTime()).slice(0,3),B=[...r.slice(0,5).map(z=>({type:"check-in",id:z.id,time:z.check_in_time,title:`Checked in at ${z.location||"Main Gym"}`,description:Xt(new Date(z.check_in_time),"MMM d, yyyy 'at' h:mm a"),completed:!!z.check_out_time})),...t.filter(z=>z.status==="attended"&&z.class_sessions).slice(0,5).map(z=>({type:"class",id:z.id,time:z.class_sessions.start_time,title:`Attended ${z.class_sessions.name}`,description:Xt(new Date(z.class_sessions.start_time),"MMM d, yyyy 'at' h:mm a"),completed:!0}))].sort((z,G)=>new Date(G.time).getTime()-new Date(z.time).getTime()).slice(0,5),q=i?i.status==="active"&&i.payment_status==="paid"&&new Date(i.end_date)>O?"active":i.status==="expired"||new Date(i.end_date)<O?"expired":"inactive":"none",U=i&&q==="active"?Math.ceil((new Date(i.end_date).getTime()-O.getTime())/(1e3*60*60*24)):0;return s?f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx(Iu,{size:"lg",text:"Loading dashboard..."})}):f.jsx("div",{className:"min-h-screen bg-background p-6",children:f.jsxs("div",{className:"container mx-auto max-w-7xl",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Member Dashboard"}),f.jsx(He,{onClick:()=>S(),variant:"outline",size:"sm",children:"Refresh"})]}),f.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-8",children:[f.jsxs(He,{onClick:()=>b("/qr/entry-exit"),className:"h-auto p-4 flex flex-col items-center justify-center gap-2 bg-secondary hover:bg-secondary/90",children:[f.jsx(Wp,{className:"w-6 h-6"}),f.jsx("span",{className:"font-medium",children:"Check In/Out"}),d&&f.jsx(Gr,{variant:"destructive",className:"text-xs",children:"Active Check-In"})]}),f.jsxs(He,{onClick:()=>b("/classes"),className:"h-auto p-4 flex flex-col items-center justify-center gap-2 bg-accent hover:bg-accent/90",children:[f.jsx(Bi,{className:"w-6 h-6"}),f.jsx("span",{className:"font-medium",children:"Book a Class"})]}),f.jsxs(He,{onClick:()=>b("/bookings"),className:"h-auto p-4 flex flex-col items-center justify-center gap-2 bg-primary hover:bg-primary/90 text-primary-foreground",children:[f.jsx(rc,{className:"w-6 h-6"}),f.jsx("span",{className:"font-medium",children:"My Bookings"}),F>0&&f.jsxs(Gr,{variant:"secondary",className:"text-xs",children:[F," active"]})]})]}),f.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[f.jsx(l_,{title:"Visits This Month",value:String(j),icon:f.jsx(qp,{className:"w-5 h-5 text-success"}),trend:`${I} total visits`}),f.jsx(l_,{title:"Classes This Month",value:String(P),icon:f.jsx(rc,{className:"w-5 h-5 text-accent"}),trend:`${R} total attended`}),f.jsx(l_,{title:"Active Bookings",value:String(F),icon:f.jsx(Bi,{className:"w-5 h-5 text-secondary"}),trend:`${M.length} upcoming`}),f.jsx(Rle,{status:q,membership:i,daysRemaining:U})]}),i&&f.jsxs(mt,{className:"mb-8",children:[f.jsx(ir,{children:f.jsxs(or,{className:"flex items-center gap-2",children:[f.jsx(ll,{className:"w-5 h-5"}),"Membership Status"]})}),f.jsx(gt,{children:f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"font-medium",children:i.memberships?.name||"Membership"}),f.jsx(Gr,{variant:q==="active"?"default":q==="expired"?"destructive":"secondary",children:q==="active"?f.jsxs(f.Fragment,{children:[f.jsx(ff,{className:"w-3 h-3 mr-1"})," Active"]}):q==="expired"?f.jsxs(f.Fragment,{children:[f.jsx(p1,{className:"w-3 h-3 mr-1"})," Expired"]}):f.jsxs(f.Fragment,{children:[f.jsx(uc,{className:"w-3 h-3 mr-1"})," Inactive"]})})]}),q==="active"&&f.jsxs("p",{className:"text-sm text-muted-foreground",children:["Expires on ",Xt(new Date(i.end_date),"MMM d, yyyy")," (",U," days remaining)"]}),q==="expired"&&f.jsxs("p",{className:"text-sm text-muted-foreground",children:["Expired on ",Xt(new Date(i.end_date),"MMM d, yyyy")]})]}),q!=="active"&&f.jsx(He,{onClick:()=>b("/managememberships"),variant:"outline",children:"Renew Membership"})]})})]}),M.length>0&&f.jsxs(mt,{className:"mb-8",children:[f.jsxs(ir,{children:[f.jsxs(or,{className:"flex items-center gap-2",children:[f.jsx(Ou,{className:"w-5 h-5"}),"Upcoming Classes"]}),f.jsx(kr,{children:"Your next scheduled classes"})]}),f.jsx(gt,{children:f.jsx("div",{className:"space-y-3",children:M.map(z=>{const G=new Date(z.class_sessions?.start_time||""),W=moe(G,O),H=goe(G,O),Q=W<24,X=X(G),se=se(G);return f.jsx("div",{className:`p-4 rounded-lg border ${Q?"bg-accent/10 border-accent":"bg-muted/30"}`,children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("h3",{className:"font-medium",children:z.class_sessions?.name}),Q&&f.jsx(Gr,{variant:X?"destructive":"default",className:"text-xs",children:X?"Today":se?"This Week":"Soon"})]}),f.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[z.class_sessions?.instructor&&`with ${z.class_sessions.instructor}  `,Xt(G,"MMM d, yyyy 'at' h:mm a")]}),Q&&f.jsx("p",{className:"text-xs text-muted-foreground",children:W>0?`${W} hour${W>1?"s":""} until class`:`${H} minute${H>1?"s":""} until class`})]}),f.jsxs(He,{variant:"ghost",size:"sm",onClick:()=>b("/bookings"),children:["View ",f.jsx(AK,{className:"w-4 h-4 ml-1"})]})]})},z.id)})})})]}),v&&f.jsxs(mt,{className:"mb-8",children:[f.jsxs(ir,{children:[f.jsxs(or,{className:"flex items-center gap-2",children:[f.jsx(Wp,{className:"w-5 h-5"}),"Your Check-In QR Code"]}),f.jsx(kr,{children:"Show this QR code at the gym entrance for quick check-in"})]}),f.jsx(gt,{children:f.jsx(U$,{userId:v.id,action:d?"exit":"entry",size:200,className:"max-w-sm mx-auto",showDownload:!0,showRefresh:!0})})]}),f.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[f.jsxs(mt,{children:[f.jsxs(ir,{children:[f.jsx(or,{children:"Recent Activity"}),f.jsx(kr,{children:"Your recent check-ins and class attendance"})]}),f.jsx(gt,{children:B.length>0?f.jsx("ul",{className:"space-y-3",children:B.map(z=>f.jsxs("li",{className:"p-3 rounded-lg bg-muted/30 flex items-start gap-3",children:[f.jsx("div",{className:`p-2 rounded-full ${z.completed?"bg-success/20":"bg-primary/20"}`,children:z.type==="check-in"?f.jsx(hB,{className:`w-4 h-4 ${z.completed?"text-success":"text-primary"}`}):f.jsx(rc,{className:`w-4 h-4 ${z.completed?"text-success":"text-primary"}`})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"font-medium text-sm",children:z.title}),f.jsx("p",{className:"text-xs text-muted-foreground",children:z.description})]}),z.completed&&f.jsx(ff,{className:"w-4 h-4 text-success flex-shrink-0"})]},`${z.type}-${z.id}`))}):f.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No recent activity"})})]}),f.jsxs(mt,{children:[f.jsxs(ir,{children:[f.jsx(or,{children:"Class Schedule"}),f.jsx(kr,{children:"Manage your class bookings"})]}),f.jsx(gt,{children:M.length>0?f.jsxs("div",{className:"space-y-3",children:[M.map(z=>f.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-sm",children:z.class_sessions?.name}),f.jsx("p",{className:"text-xs text-muted-foreground",children:Xt(new Date(z.class_sessions?.start_time||""),"MMM d, h:mm a")})]}),f.jsx(Gr,{variant:"outline",className:"text-xs",children:"Booked"})]},z.id)),f.jsx(He,{variant:"outline",className:"w-full mt-4",onClick:()=>b("/bookings"),children:"View All Bookings"})]}):f.jsxs("div",{className:"text-center py-8",children:[f.jsx("p",{className:"text-muted-foreground mb-4",children:"No upcoming classes"}),f.jsx(He,{onClick:()=>b("/classes"),variant:"outline",children:"Browse Classes"})]})})]})]})]})})},l_=({title:t,value:e,icon:r,trend:n})=>f.jsx(mt,{children:f.jsxs(gt,{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:t}),r]}),f.jsx("div",{className:"text-2xl font-bold mb-1",children:e}),f.jsx("p",{className:"text-xs text-muted-foreground",children:n})]})}),Rle=({status:t,membership:e,daysRemaining:r})=>{const i=(()=>{switch(t){case"active":return{value:"Active",icon:f.jsx(ff,{className:"w-5 h-5 text-success"}),trend:`${r} days remaining`};case"expired":return{value:"Expired",icon:f.jsx(p1,{className:"w-5 h-5 text-destructive"}),trend:"Renew required"};default:return{value:"None",icon:f.jsx(uc,{className:"w-5 h-5 text-muted-foreground"}),trend:"No membership"}}})();return f.jsx(mt,{children:f.jsxs(gt,{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Membership"}),i.icon]}),f.jsx("div",{className:"text-2xl font-bold mb-1",children:i.value}),f.jsx("p",{className:"text-xs text-muted-foreground",children:i.trend})]})})};function xR(t,[e,r]){return Math.min(r,Math.max(e,t))}function oN(t){const e=N.useRef({value:t,previous:t});return N.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Mle=[" ","Enter","ArrowUp","ArrowDown"],Dle=[" ","Enter"],Ru="Select",[W1,q1,Lle]=d1(Ru),[fh]=Zi(Ru,[Lle,mc]),z1=mc(),[Ble,xc]=fh(Ru),[Fle,$le]=fh(Ru),J$=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:s,defaultValue:l,onValueChange:d,dir:h,name:g,autoComplete:v,disabled:b,required:S,form:O}=t,E=z1(e),[C,j]=N.useState(null),[P,I]=N.useState(null),[F,R]=N.useState(!1),M=O1(h),[B,q]=Vs({prop:n,defaultProp:i??!1,onChange:a,caller:Ru}),[U,z]=Vs({prop:s,defaultProp:l,onChange:d,caller:Ru}),G=N.useRef(null),W=C?O||!!C.closest("form"):!0,[H,Q]=N.useState(new Set),X=Array.from(H).map(se=>se.props.value).join(";");return f.jsx(y1,{...E,children:f.jsxs(Ble,{required:S,scope:e,trigger:C,onTriggerChange:j,valueNode:P,onValueNodeChange:I,valueNodeHasChildren:F,onValueNodeHasChildrenChange:R,contentId:ds(),value:U,onValueChange:z,open:B,onOpenChange:q,dir:M,triggerPointerDownPosRef:G,disabled:b,children:[f.jsx(W1.Provider,{scope:e,children:f.jsx(Fle,{scope:t.__scopeSelect,onNativeOptionAdd:N.useCallback(se=>{Q(ne=>new Set(ne).add(se))},[]),onNativeOptionRemove:N.useCallback(se=>{Q(ne=>{const re=new Set(ne);return re.delete(se),re})},[]),children:r})}),W?f.jsxs(SU,{"aria-hidden":!0,required:S,tabIndex:-1,name:g,autoComplete:v,value:U,onChange:se=>z(se.target.value),disabled:b,form:O,children:[U===void 0?f.jsx("option",{value:""}):null,Array.from(H)]},X):null]})})};J$.displayName=Ru;var eU="SelectTrigger",tU=N.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=z1(r),s=xc(eU,r),l=s.disabled||n,d=lr(e,s.onTriggerChange),h=q1(r),g=N.useRef("touch"),[v,b,S]=CU(E=>{const C=h().filter(I=>!I.disabled),j=C.find(I=>I.value===s.value),P=AU(C,E,j);P!==void 0&&s.onValueChange(P.value)}),O=E=>{l||(s.onOpenChange(!0),S()),E&&(s.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return f.jsx(Ym,{asChild:!0,...a,children:f.jsx(Ot.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":EU(s.value)?"":void 0,...i,ref:d,onClick:it(i.onClick,E=>{E.currentTarget.focus(),g.current!=="mouse"&&O(E)}),onPointerDown:it(i.onPointerDown,E=>{g.current=E.pointerType;const C=E.target;C.hasPointerCapture(E.pointerId)&&C.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(O(E),E.preventDefault())}),onKeyDown:it(i.onKeyDown,E=>{const C=v.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&b(E.key),!(C&&E.key===" ")&&Mle.includes(E.key)&&(O(),E.preventDefault())})})})});tU.displayName=eU;var rU="SelectValue",nU=N.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:s="",...l}=t,d=xc(rU,r),{onValueNodeHasChildrenChange:h}=d,g=a!==void 0,v=lr(e,d.onValueNodeChange);return zn(()=>{h(g)},[h,g]),f.jsx(Ot.span,{...l,ref:v,style:{pointerEvents:"none"},children:EU(d.value)?f.jsx(f.Fragment,{children:s}):a})});nU.displayName=rU;var Ule="SelectIcon",iU=N.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return f.jsx(Ot.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});iU.displayName=Ule;var Vle="SelectPortal",aU=t=>f.jsx(sh,{asChild:!0,...t});aU.displayName=Vle;var Mu="SelectContent",sU=N.forwardRef((t,e)=>{const r=xc(Mu,t.__scopeSelect),[n,i]=N.useState();if(zn(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?ah.createPortal(f.jsx(oU,{scope:t.__scopeSelect,children:f.jsx(W1.Slot,{scope:t.__scopeSelect,children:f.jsx("div",{children:t.children})})}),a):null}return f.jsx(lU,{...t,ref:e})});sU.displayName=Mu;var js=10,[oU,wc]=fh(Mu),Wle="SelectContentImpl",qle=cc("SelectContent.RemoveScroll"),lU=N.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:l,sideOffset:d,align:h,alignOffset:g,arrowPadding:v,collisionBoundary:b,collisionPadding:S,sticky:O,hideWhenDetached:E,avoidCollisions:C,...j}=t,P=xc(Mu,r),[I,F]=N.useState(null),[R,M]=N.useState(null),B=lr(e,Te=>F(Te)),[q,U]=N.useState(null),[z,G]=N.useState(null),W=q1(r),[H,Q]=N.useState(!1),X=N.useRef(!1);N.useEffect(()=>{if(I)return k1(I)},[I]),T1();const se=N.useCallback(Te=>{const[De,...Ne]=W().map(ve=>ve.ref.current),[Le]=Ne.slice(-1),ue=document.activeElement;for(const ve of Te)if(ve===ue||(ve?.scrollIntoView({block:"nearest"}),ve===De&&R&&(R.scrollTop=0),ve===Le&&R&&(R.scrollTop=R.scrollHeight),ve?.focus(),document.activeElement!==ue))return},[W,R]),ne=N.useCallback(()=>se([q,I]),[se,q,I]);N.useEffect(()=>{H&&ne()},[H,ne]);const{onOpenChange:re,triggerPointerDownPosRef:J}=P;N.useEffect(()=>{if(I){let Te={x:0,y:0};const De=Le=>{Te={x:Math.abs(Math.round(Le.pageX)-(J.current?.x??0)),y:Math.abs(Math.round(Le.pageY)-(J.current?.y??0))}},Ne=Le=>{Te.x<=10&&Te.y<=10?Le.preventDefault():I.contains(Le.target)||re(!1),document.removeEventListener("pointermove",De),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",De),document.addEventListener("pointerup",Ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",De),document.removeEventListener("pointerup",Ne,{capture:!0})}}},[I,re,J]),N.useEffect(()=>{const Te=()=>re(!1);return window.addEventListener("blur",Te),window.addEventListener("resize",Te),()=>{window.removeEventListener("blur",Te),window.removeEventListener("resize",Te)}},[re]);const[he,ie]=CU(Te=>{const De=W().filter(ue=>!ue.disabled),Ne=De.find(ue=>ue.ref.current===document.activeElement),Le=AU(De,Te,Ne);Le&&setTimeout(()=>Le.ref.current.focus())}),le=N.useCallback((Te,De,Ne)=>{const Le=!X.current&&!Ne;(P.value!==void 0&&P.value===De||Le)&&(U(Te),Le&&(X.current=!0))},[P.value]),we=N.useCallback(()=>I?.focus(),[I]),ke=N.useCallback((Te,De,Ne)=>{const Le=!X.current&&!Ne;(P.value!==void 0&&P.value===De||Le)&&G(Te)},[P.value]),qe=n==="popper"?sA:cU,je=qe===sA?{side:l,sideOffset:d,align:h,alignOffset:g,arrowPadding:v,collisionBoundary:b,collisionPadding:S,sticky:O,hideWhenDetached:E,avoidCollisions:C}:{};return f.jsx(oU,{scope:r,content:I,viewport:R,onViewportChange:M,itemRefCallback:le,selectedItem:q,onItemLeave:we,itemTextRefCallback:ke,focusSelectedItem:ne,selectedItemText:z,position:n,isPositioned:H,searchRef:he,children:f.jsx(eg,{as:qle,allowPinchZoom:!0,children:f.jsx(Qm,{asChild:!0,trapped:P.open,onMountAutoFocus:Te=>{Te.preventDefault()},onUnmountAutoFocus:it(i,Te=>{P.trigger?.focus({preventScroll:!0}),Te.preventDefault()}),children:f.jsx(qu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:Te=>Te.preventDefault(),onDismiss:()=>P.onOpenChange(!1),children:f.jsx(qe,{role:"listbox",id:P.contentId,"data-state":P.open?"open":"closed",dir:P.dir,onContextMenu:Te=>Te.preventDefault(),...j,...je,onPlaced:()=>Q(!0),ref:B,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:it(j.onKeyDown,Te=>{const De=Te.ctrlKey||Te.altKey||Te.metaKey;if(Te.key==="Tab"&&Te.preventDefault(),!De&&Te.key.length===1&&ie(Te.key),["ArrowUp","ArrowDown","Home","End"].includes(Te.key)){let Le=W().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(Te.key)&&(Le=Le.slice().reverse()),["ArrowUp","ArrowDown"].includes(Te.key)){const ue=Te.target,ve=Le.indexOf(ue);Le=Le.slice(ve+1)}setTimeout(()=>se(Le)),Te.preventDefault()}})})})})})})});lU.displayName=Wle;var zle="SelectItemAlignedPosition",cU=N.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=xc(Mu,r),s=wc(Mu,r),[l,d]=N.useState(null),[h,g]=N.useState(null),v=lr(e,B=>g(B)),b=q1(r),S=N.useRef(!1),O=N.useRef(!0),{viewport:E,selectedItem:C,selectedItemText:j,focusSelectedItem:P}=s,I=N.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&h&&E&&C&&j){const B=a.trigger.getBoundingClientRect(),q=h.getBoundingClientRect(),U=a.valueNode.getBoundingClientRect(),z=j.getBoundingClientRect();if(a.dir!=="rtl"){const ue=z.left-q.left,ve=U.left-ue,Ue=B.left-ve,Ie=B.width+Ue,Ge=Math.max(Ie,q.width),ct=window.innerWidth-js,et=xR(ve,[js,Math.max(js,ct-Ge)]);l.style.minWidth=Ie+"px",l.style.left=et+"px"}else{const ue=q.right-z.right,ve=window.innerWidth-U.right-ue,Ue=window.innerWidth-B.right-ve,Ie=B.width+Ue,Ge=Math.max(Ie,q.width),ct=window.innerWidth-js,et=xR(ve,[js,Math.max(js,ct-Ge)]);l.style.minWidth=Ie+"px",l.style.right=et+"px"}const G=b(),W=window.innerHeight-js*2,H=E.scrollHeight,Q=window.getComputedStyle(h),X=parseInt(Q.borderTopWidth,10),se=parseInt(Q.paddingTop,10),ne=parseInt(Q.borderBottomWidth,10),re=parseInt(Q.paddingBottom,10),J=X+se+H+re+ne,he=Math.min(C.offsetHeight*5,J),ie=window.getComputedStyle(E),le=parseInt(ie.paddingTop,10),we=parseInt(ie.paddingBottom,10),ke=B.top+B.height/2-js,qe=W-ke,je=C.offsetHeight/2,Te=C.offsetTop+je,De=X+se+Te,Ne=J-De;if(De<=ke){const ue=G.length>0&&C===G[G.length-1].ref.current;l.style.bottom="0px";const ve=h.clientHeight-E.offsetTop-E.offsetHeight,Ue=Math.max(qe,je+(ue?we:0)+ve+ne),Ie=De+Ue;l.style.height=Ie+"px"}else{const ue=G.length>0&&C===G[0].ref.current;l.style.top="0px";const Ue=Math.max(ke,X+E.offsetTop+(ue?le:0)+je)+Ne;l.style.height=Ue+"px",E.scrollTop=De-ke+E.offsetTop}l.style.margin=`${js}px 0`,l.style.minHeight=he+"px",l.style.maxHeight=W+"px",n?.(),requestAnimationFrame(()=>S.current=!0)}},[b,a.trigger,a.valueNode,l,h,E,C,j,a.dir,n]);zn(()=>I(),[I]);const[F,R]=N.useState();zn(()=>{h&&R(window.getComputedStyle(h).zIndex)},[h]);const M=N.useCallback(B=>{B&&O.current===!0&&(I(),P?.(),O.current=!1)},[I,P]);return f.jsx(Gle,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:S,onScrollButtonChange:M,children:f.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:F},children:f.jsx(Ot.div,{...i,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});cU.displayName=zle;var Hle="SelectPopperPosition",sA=N.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=js,...a}=t,s=z1(r);return f.jsx(x1,{...s,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});sA.displayName=Hle;var[Gle,lN]=fh(Mu,{}),oA="SelectViewport",uU=N.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=wc(oA,r),s=lN(oA,r),l=lr(e,a.onViewportChange),d=N.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),f.jsx(W1.Slot,{scope:r,children:f.jsx(Ot.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:it(i.onScroll,h=>{const g=h.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:b}=s;if(b?.current&&v){const S=Math.abs(d.current-g.scrollTop);if(S>0){const O=window.innerHeight-js*2,E=parseFloat(v.style.minHeight),C=parseFloat(v.style.height),j=Math.max(E,C);if(j<O){const P=j+S,I=Math.min(O,P),F=P-I;v.style.height=I+"px",v.style.bottom==="0px"&&(g.scrollTop=F>0?F:0,v.style.justifyContent="flex-end")}}}d.current=g.scrollTop})})})]})});uU.displayName=oA;var dU="SelectGroup",[Kle,Yle]=fh(dU),Xle=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=ds();return f.jsx(Kle,{scope:r,id:i,children:f.jsx(Ot.div,{role:"group","aria-labelledby":i,...n,ref:e})})});Xle.displayName=dU;var fU="SelectLabel",hU=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Yle(fU,r);return f.jsx(Ot.div,{id:i.id,...n,ref:e})});hU.displayName=fU;var ny="SelectItem",[Zle,pU]=fh(ny),mU=N.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...s}=t,l=xc(ny,r),d=wc(ny,r),h=l.value===n,[g,v]=N.useState(a??""),[b,S]=N.useState(!1),O=lr(e,P=>d.itemRefCallback?.(P,n,i)),E=ds(),C=N.useRef("touch"),j=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(Zle,{scope:r,value:n,disabled:i,textId:E,isSelected:h,onItemTextChange:N.useCallback(P=>{v(I=>I||(P?.textContent??"").trim())},[]),children:f.jsx(W1.ItemSlot,{scope:r,value:n,disabled:i,textValue:g,children:f.jsx(Ot.div,{role:"option","aria-labelledby":E,"data-highlighted":b?"":void 0,"aria-selected":h&&b,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:O,onFocus:it(s.onFocus,()=>S(!0)),onBlur:it(s.onBlur,()=>S(!1)),onClick:it(s.onClick,()=>{C.current!=="mouse"&&j()}),onPointerUp:it(s.onPointerUp,()=>{C.current==="mouse"&&j()}),onPointerDown:it(s.onPointerDown,P=>{C.current=P.pointerType}),onPointerMove:it(s.onPointerMove,P=>{C.current=P.pointerType,i?d.onItemLeave?.():C.current==="mouse"&&P.currentTarget.focus({preventScroll:!0})}),onPointerLeave:it(s.onPointerLeave,P=>{P.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:it(s.onKeyDown,P=>{d.searchRef?.current!==""&&P.key===" "||(Dle.includes(P.key)&&j(),P.key===" "&&P.preventDefault())})})})})});mU.displayName=ny;var Ap="SelectItemText",gU=N.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,s=xc(Ap,r),l=wc(Ap,r),d=pU(Ap,r),h=$le(Ap,r),[g,v]=N.useState(null),b=lr(e,j=>v(j),d.onItemTextChange,j=>l.itemTextRefCallback?.(j,d.value,d.disabled)),S=g?.textContent,O=N.useMemo(()=>f.jsx("option",{value:d.value,disabled:d.disabled,children:S},d.value),[d.disabled,d.value,S]),{onNativeOptionAdd:E,onNativeOptionRemove:C}=h;return zn(()=>(E(O),()=>C(O)),[E,C,O]),f.jsxs(f.Fragment,{children:[f.jsx(Ot.span,{id:d.textId,...a,ref:b}),d.isSelected&&s.valueNode&&!s.valueNodeHasChildren?ah.createPortal(a.children,s.valueNode):null]})});gU.displayName=Ap;var vU="SelectItemIndicator",yU=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return pU(vU,r).isSelected?f.jsx(Ot.span,{"aria-hidden":!0,...n,ref:e}):null});yU.displayName=vU;var lA="SelectScrollUpButton",xU=N.forwardRef((t,e)=>{const r=wc(lA,t.__scopeSelect),n=lN(lA,t.__scopeSelect),[i,a]=N.useState(!1),s=lr(e,n.onScrollButtonChange);return zn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const h=d.scrollTop>0;a(h)};const d=r.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?f.jsx(bU,{...t,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=r;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});xU.displayName=lA;var cA="SelectScrollDownButton",wU=N.forwardRef((t,e)=>{const r=wc(cA,t.__scopeSelect),n=lN(cA,t.__scopeSelect),[i,a]=N.useState(!1),s=lr(e,n.onScrollButtonChange);return zn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const h=d.scrollHeight-d.clientHeight,g=Math.ceil(d.scrollTop)<h;a(g)};const d=r.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?f.jsx(bU,{...t,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=r;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});wU.displayName=cA;var bU=N.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=wc("SelectScrollButton",r),s=N.useRef(null),l=q1(r),d=N.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return N.useEffect(()=>()=>d(),[d]),zn(()=>{l().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),f.jsx(Ot.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:it(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:it(i.onPointerMove,()=>{a.onItemLeave?.(),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:it(i.onPointerLeave,()=>{d()})})}),Qle="SelectSeparator",_U=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return f.jsx(Ot.div,{"aria-hidden":!0,...n,ref:e})});_U.displayName=Qle;var uA="SelectArrow",Jle=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=z1(r),a=xc(uA,r),s=wc(uA,r);return a.open&&s.position==="popper"?f.jsx(w1,{...i,...n,ref:e}):null});Jle.displayName=uA;var ece="SelectBubbleInput",SU=N.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=N.useRef(null),a=lr(n,i),s=oN(e);return N.useEffect(()=>{const l=i.current;if(!l)return;const d=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(d,"value").set;if(s!==e&&g){const v=new Event("change",{bubbles:!0});g.call(l,e),l.dispatchEvent(v)}},[s,e]),f.jsx(Ot.select,{...r,style:{...WL,...r.style},ref:a,defaultValue:e})});SU.displayName=ece;function EU(t){return t===""||t===void 0}function CU(t){const e=Xi(t),r=N.useRef(""),n=N.useRef(0),i=N.useCallback(s=>{const l=r.current+s;e(l),(function d(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(l)},[e]),a=N.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function AU(t,e,r){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let s=tce(t,Math.max(a,0));i.length===1&&(s=s.filter(h=>h!==r));const d=s.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==r?d:void 0}function tce(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var rce=J$,OU=tU,nce=nU,ice=iU,ace=aU,TU=sU,sce=uU,NU=hU,kU=mU,oce=gU,lce=yU,PU=xU,jU=wU,IU=_U;const fa=rce,ha=nce,qi=N.forwardRef(({className:t,children:e,...r},n)=>f.jsxs(OU,{ref:n,className:Me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,f.jsx(ice,{asChild:!0,children:f.jsx(dB,{className:"h-4 w-4 opacity-50"})})]}));qi.displayName=OU.displayName;const RU=N.forwardRef(({className:t,...e},r)=>f.jsx(PU,{ref:r,className:Me("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(TK,{className:"h-4 w-4"})}));RU.displayName=PU.displayName;const MU=N.forwardRef(({className:t,...e},r)=>f.jsx(jU,{ref:r,className:Me("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(dB,{className:"h-4 w-4"})}));MU.displayName=jU.displayName;const zi=N.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>f.jsx(ace,{children:f.jsxs(TU,{ref:i,className:Me("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[f.jsx(RU,{}),f.jsx(sce,{className:Me("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),f.jsx(MU,{})]})}));zi.displayName=TU.displayName;const cce=N.forwardRef(({className:t,...e},r)=>f.jsx(NU,{ref:r,className:Me("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));cce.displayName=NU.displayName;const tr=N.forwardRef(({className:t,children:e,...r},n)=>f.jsxs(kU,{ref:n,className:Me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(lce,{children:f.jsx(HO,{className:"h-4 w-4"})})}),f.jsx(oce,{children:e})]}));tr.displayName=kU.displayName;const uce=N.forwardRef(({className:t,...e},r)=>f.jsx(IU,{ref:r,className:Me("-mx-1 my-1 h-px bg-muted",t),...e}));uce.displayName=IU.displayName;const Xo=LT,DU=t$,dce=BT,LU=N.forwardRef(({className:t,...e},r)=>f.jsx(ig,{ref:r,className:Me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));LU.displayName=ig.displayName;const fo=N.forwardRef(({className:t,children:e,...r},n)=>f.jsxs(dce,{children:[f.jsx(LU,{}),f.jsxs(ag,{ref:n,className:Me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,f.jsxs(F1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[f.jsx(Gm,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));fo.displayName=ag.displayName;const ho=({className:t,...e})=>f.jsx("div",{className:Me("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ho.displayName="DialogHeader";const ic=({className:t,...e})=>f.jsx("div",{className:Me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});ic.displayName="DialogFooter";const po=N.forwardRef(({className:t,...e},r)=>f.jsx(sg,{ref:r,className:Me("text-lg font-semibold leading-none tracking-tight",t),...e}));po.displayName=sg.displayName;const Zo=N.forwardRef(({className:t,...e},r)=>f.jsx(og,{ref:r,className:Me("text-sm text-muted-foreground",t),...e}));Zo.displayName=og.displayName;const BU=t=>{const{user:e}=Yu(),[r,n]=N.useState([]),[i,a]=N.useState(!0),[s,l]=N.useState(null),d=N.useCallback(async E=>{try{a(!0),l(null);const C=E||e?.id;if(!C){n([]),a(!1);return}const{data:j,error:P}=await Pe.from("class_bookings").select("*, class_sessions(id, name, instructor, start_time, end_time, capacity)").eq("user_id",C).order("created_at",{ascending:!1});if(P)throw P;n(j||[])}catch(C){console.error("Error fetching bookings:",C),l(C.message||"Failed to fetch bookings"),n([])}finally{a(!1)}},[e?.id]);N.useEffect(()=>{const E=e?.id;if(!E){a(!1);return}d(E);const C=Pe.channel("bookings-changes").on("postgres_changes",{event:"*",schema:"public",table:"class_bookings",filter:`user_id=eq.${E}`},j=>{console.log("Booking change detected:",j),d(E)}).subscribe();return()=>{Pe.removeChannel(C)}},[t,e?.id,d]);const h=N.useCallback(async()=>{if(!e?.id)return!1;try{const{data:E,error:C}=await Pe.rpc("has_valid_membership",{_user_id:e.id});return C?(console.error("Error checking membership:",C),!1):E===!0}catch(E){return console.error("Error checking membership:",E),!1}},[e?.id]),g=N.useCallback(async E=>{try{const{count:C,error:j}=await Pe.from("class_bookings").select("*",{count:"exact",head:!0}).eq("class_id",E).eq("status","booked");return j?(console.error("Error getting booking count:",j),0):C||0}catch(C){return console.error("Error getting booking count:",C),0}},[]),v=N.useCallback(async E=>{if(!e?.id)return!1;try{const{data:C,error:j}=await Pe.from("class_bookings").select("id").eq("user_id",e.id).eq("class_id",E).in("status",["booked","confirmed"]).limit(1).maybeSingle();return j&&j.code!=="PGRST116"?(console.error("Error checking existing booking:",j),!1):C!==null}catch(C){return console.error("Error checking existing booking:",C),!1}},[e?.id]),b=N.useCallback(async E=>{if(!e?.id)return{success:!1,error:"User not authenticated"};try{if(!await h())return{success:!1,error:"You need an active membership to book classes"};if(await v(E))return{success:!1,error:"You already have a booking for this class"};const{data:P,error:I}=await Pe.from("class_sessions").select("capacity, start_time").eq("id",E).single();if(I||!P)return{success:!1,error:"Class session not found"};if(P.start_time&&new Date(P.start_time)<new Date)return{success:!1,error:"Cannot book a class that has already started"};if(P.capacity&&await g(E)>=P.capacity)return{success:!1,error:"This class is fully booked"};const{data:F,error:R}=await Pe.from("class_bookings").insert({user_id:e.id,class_id:E,status:"booked"}).select("*, class_sessions(id, name, instructor, start_time, end_time, capacity)").single();if(R)throw R;return n(M=>[F,...M]),{success:!0}}catch(C){return console.error("Error creating booking:",C),{success:!1,error:C.message||"Failed to create booking"}}},[e?.id,h,v,g]),S=N.useCallback(async E=>{if(!e?.id)return{success:!1,error:"User not authenticated"};try{const{data:C,error:j}=await Pe.from("class_bookings").select("*, class_sessions(start_time)").eq("id",E).eq("user_id",e.id).single();if(j||!C)return{success:!1,error:"Booking not found"};if(C.status==="cancelled")return{success:!1,error:"Booking is already cancelled"};if(C.class_sessions?.start_time){const I=new Date(C.class_sessions.start_time),F=new Date,R=(I.getTime()-F.getTime())/(1e3*60*60);if(R<24&&R>0)return{success:!1,error:"Cannot cancel booking within 24 hours of class start time"};if(R<=0)return{success:!1,error:"Cannot cancel a class that has already started"}}const{error:P}=await Pe.from("class_bookings").update({status:"cancelled"}).eq("id",E).eq("user_id",e.id);if(P)throw P;return n(I=>I.map(F=>F.id===E?{...F,status:"cancelled"}:F)),{success:!0}}catch(C){return console.error("Error cancelling booking:",C),{success:!1,error:C.message||"Failed to cancel booking"}}},[e?.id]),O=N.useCallback(async()=>{await d(e?.id)},[t,e?.id,d]);return{bookings:r,loading:i,error:s,createBooking:b,cancelBooking:S,refreshBookings:O}},fce=()=>f.jsxs(mt,{children:[f.jsxs(ir,{children:[f.jsx(as,{className:"h-6 w-3/4"}),f.jsx(as,{className:"h-4 w-1/2 mt-2"})]}),f.jsxs(gt,{className:"space-y-3",children:[f.jsx(as,{className:"h-4 w-full"}),f.jsx(as,{className:"h-4 w-5/6"}),f.jsxs("div",{className:"flex gap-2 mt-4",children:[f.jsx(as,{className:"h-9 w-24"}),f.jsx(as,{className:"h-9 w-24"})]})]})]}),hce=({count:t=6})=>f.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:t}).map((e,r)=>f.jsx(fce,{},r))}),pce=()=>{const[t,e]=N.useState([]),[r,n]=N.useState(!0),[i,a]=N.useState(""),[s,l]=N.useState("all"),[d,h]=N.useState("all"),[g,v]=N.useState("upcoming"),[b,S]=N.useState(null),[O,E]=N.useState(!1),[C,j]=N.useState(!1),{toast:P}=mi(),{bookings:I,createBooking:F,refreshBookings:R}=BU();N.useEffect(()=>{M()},[]);const M=async()=>{try{n(!0);const W=new Date().toISOString(),{data:H,error:Q}=await Pe.from("class_sessions").select("*").gte("start_time",W).order("start_time",{ascending:!0});if(Q)throw Q;e(H||[])}catch(W){Yt({title:"Error",description:W.message||"Failed to fetch classes"})}finally{n(!1)}},B=N.useMemo(()=>Array.from(new Set(t.map(H=>H.instructor).filter(Boolean))).sort(),[t]),q=N.useMemo(()=>t.map(W=>{const H=I.filter(J=>J.class_id===W.id&&(J.status==="booked"||J.status==="confirmed")),Q=H.length,X=W.capacity||0,se=Math.max(0,X-Q),ne=H.length>0,re=aN(en(W.start_time),new Date);return{...W,bookedCount:Q,availableSpots:se,isBooked:ne,isPast:re}}),[t,I]),U=N.useMemo(()=>{let W=q;if(i){const H=i.toLowerCase();W=W.filter(Q=>Q.name.toLowerCase().includes(H)||Q.instructor?.toLowerCase().includes(H))}if(d!=="all"&&(W=W.filter(H=>H.instructor===d)),g==="today"){const H=yR();W=W.filter(Q=>{const X=en(Q.start_time);return X>=H&&X<new Date(H.getTime()+1440*60*1e3)})}else if(g==="this-week"){const H=yR(),Q=new Date(H.getTime()+10080*60*1e3);W=W.filter(X=>{const se=en(X.start_time);return se>=H&&se<Q})}else g==="my-bookings"&&(W=W.filter(H=>H.isBooked));return W},[q,i,d,g]),z=W=>{if(W.isBooked){P(Ba.alreadyBooked());return}if(W.availableSpots===0){P(Ba.classFull());return}if(W.isPast){Yt({title:"Cannot Book",description:"This class has already started."});return}S(W),E(!0)},G=async()=>{if(b){j(!0);try{const W=await F(b.id);W.success?(P(Ba.bookingCreated(b.name)),E(!1),S(null),await R()):P(Ba.bookingFailed(W.error))}catch(W){P({variant:"destructive",title:"Error",description:W.message||"An error occurred while booking."})}finally{j(!1)}}};return r?f.jsx("div",{className:"min-h-screen bg-background p-6",children:f.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[f.jsx(as,{className:"h-10 w-64"}),f.jsxs("div",{className:"flex gap-4 mb-4",children:[f.jsx(as,{className:"h-10 w-32"}),f.jsx(as,{className:"h-10 w-32"}),f.jsx(as,{className:"h-10 w-40"})]}),f.jsx(hce,{count:6})]})}):f.jsx("div",{className:"min-h-screen bg-background p-6",children:f.jsxs("div",{className:"container mx-auto max-w-7xl",children:[f.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Available Classes"}),f.jsx(mt,{className:"mb-6",children:f.jsx(gt,{className:"p-4",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx(KO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),f.jsx(rr,{placeholder:"Search classes...",value:i,onChange:W=>a(W.target.value),className:"pl-10"})]}),f.jsxs(fa,{value:d,onValueChange:h,children:[f.jsx(qi,{children:f.jsx(ha,{placeholder:"All Instructors"})}),f.jsxs(zi,{children:[f.jsx(tr,{value:"all",children:"All Instructors"}),B.map(W=>f.jsx(tr,{value:W,children:W},W))]})]}),f.jsxs(fa,{value:g,onValueChange:v,children:[f.jsx(qi,{children:f.jsx(ha,{placeholder:"Filter by date"})}),f.jsxs(zi,{children:[f.jsx(tr,{value:"upcoming",children:"All Upcoming"}),f.jsx(tr,{value:"today",children:"Today"}),f.jsx(tr,{value:"this-week",children:"This Week"}),f.jsx(tr,{value:"my-bookings",children:"My Bookings"})]})]}),(i||d!=="all"||g!=="upcoming")&&f.jsx(He,{variant:"outline",onClick:()=>{a(""),h("all"),v("upcoming")},children:"Clear Filters"})]})})}),f.jsxs("div",{className:"mb-4 text-sm text-muted-foreground",children:["Showing ",U.length," of ",t.length," classes"]}),U.length===0?f.jsx(mt,{children:f.jsx(gt,{className:"p-12 text-center",children:f.jsx("p",{className:"text-muted-foreground",children:i||d!=="all"||g!=="upcoming"?"No classes match your filters. Try adjusting your search.":"No classes available at the moment. Check back soon!"})})}):f.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:U.map(W=>f.jsx(mce,{session:W,onBookClick:z},W.id))}),f.jsx(Xo,{open:O,onOpenChange:E,children:f.jsxs(fo,{children:[f.jsxs(ho,{children:[f.jsx(po,{children:"Confirm Booking"}),f.jsx(Zo,{children:"Are you sure you want to book this class?"})]}),b&&f.jsxs("div",{className:"space-y-2 py-4",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-sm font-medium",children:"Class:"}),f.jsx("span",{className:"text-sm",children:b.name})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-sm font-medium",children:"Instructor:"}),f.jsx("span",{className:"text-sm",children:b.instructor||"TBA"})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-sm font-medium",children:"Date & Time:"}),f.jsx("span",{className:"text-sm",children:Xt(en(b.start_time),"MMM d, yyyy 'at' h:mm a")})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-sm font-medium",children:"Duration:"}),f.jsxs("span",{className:"text-sm",children:[Math.round((en(b.end_time).getTime()-en(b.start_time).getTime())/6e4)," ","minutes"]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-sm font-medium",children:"Available Spots:"}),f.jsxs("span",{className:"text-sm",children:[b.availableSpots," of ",b.capacity||0]})]})]}),f.jsxs(ic,{children:[f.jsx(He,{variant:"outline",onClick:()=>{E(!1),S(null)},disabled:C,children:"Cancel"}),f.jsx(He,{onClick:G,disabled:C,children:C?f.jsxs(f.Fragment,{children:[f.jsx(da,{className:"w-4 h-4 mr-2 animate-spin"}),"Booking..."]}):"Confirm Booking"})]})]})})]})})},mce=({session:t,onBookClick:e})=>{const r=en(t.start_time),n=en(t.end_time),i=Math.round((n.getTime()-r.getTime())/6e4),a=t.availableSpots===0,s=t.availableSpots>0&&t.availableSpots<=3;return f.jsxs(mt,{className:"hover:shadow-lg transition-shadow overflow-hidden flex flex-col",children:[f.jsxs(ir,{children:[f.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a&&f.jsx(Gr,{variant:"destructive",children:"Full"}),s&&!a&&f.jsx(Gr,{variant:"secondary",children:"Few Spots Left"}),t.isBooked&&f.jsx(Gr,{variant:"default",children:"Booked"})]}),f.jsx(or,{children:t.name}),f.jsx(kr,{children:t.instructor?`with ${t.instructor}`:"Instructor TBA"})]}),f.jsxs(gt,{className:"space-y-4 flex-1 flex flex-col",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[f.jsx(Bi,{className:"w-4 h-4"}),f.jsx("span",{children:Xt(r,"MMM d, yyyy 'at' h:mm a")})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[f.jsx(Ou,{className:"w-4 h-4"}),f.jsxs("span",{children:[i," minutes"]})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[f.jsx(ll,{className:"w-4 h-4"}),f.jsxs("span",{children:[t.availableSpots," of ",t.capacity||0," spots available"]})]}),f.jsx(He,{className:"w-full mt-auto",onClick:()=>e(t),disabled:t.isBooked||a||t.isPast,variant:t.isBooked?"secondary":"default",children:t.isBooked?"Already Booked":a?"Fully Booked":t.isPast?"Past Class":"Book Class"})]})]})};var H1="Tabs",[gce]=Zi(H1,[N1]),FU=N1(),[vce,cN]=gce(H1),$U=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:s="horizontal",dir:l,activationMode:d="automatic",...h}=t,g=O1(l),[v,b]=Vs({prop:n,onChange:i,defaultProp:a??"",caller:H1});return f.jsx(vce,{scope:r,baseId:ds(),value:v,onValueChange:b,orientation:s,dir:g,activationMode:d,children:f.jsx(Ot.div,{dir:g,"data-orientation":s,...h,ref:e})})});$U.displayName=H1;var UU="TabsList",VU=N.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,a=cN(UU,r),s=FU(r);return f.jsx($7,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:n,children:f.jsx(Ot.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});VU.displayName=UU;var WU="TabsTrigger",qU=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=t,s=cN(WU,r),l=FU(r),d=GU(s.baseId,n),h=KU(s.baseId,n),g=n===s.value;return f.jsx(U7,{asChild:!0,...l,focusable:!i,active:g,children:f.jsx(Ot.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":h,"data-state":g?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...a,ref:e,onMouseDown:it(t.onMouseDown,v=>{!i&&v.button===0&&v.ctrlKey===!1?s.onValueChange(n):v.preventDefault()}),onKeyDown:it(t.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&s.onValueChange(n)}),onFocus:it(t.onFocus,()=>{const v=s.activationMode!=="manual";!g&&!i&&v&&s.onValueChange(n)})})})});qU.displayName=WU;var zU="TabsContent",HU=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...s}=t,l=cN(zU,r),d=GU(l.baseId,n),h=KU(l.baseId,n),g=n===l.value,v=N.useRef(g);return N.useEffect(()=>{const b=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(b)},[]),f.jsx(ma,{present:i||g,children:({present:b})=>f.jsx(Ot.div,{"data-state":g?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!b,id:h,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:v.current?"0s":void 0},children:b&&a})})});HU.displayName=zU;function GU(t,e){return`${t}-trigger-${e}`}function KU(t,e){return`${t}-content-${e}`}var yce=$U,YU=VU,XU=qU,ZU=HU;const G1=yce,dg=N.forwardRef(({className:t,...e},r)=>f.jsx(YU,{ref:r,className:Me("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));dg.displayName=YU.displayName;const hs=N.forwardRef(({className:t,...e},r)=>f.jsx(XU,{ref:r,className:Me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));hs.displayName=XU.displayName;const ps=N.forwardRef(({className:t,...e},r)=>f.jsx(ZU,{ref:r,className:Me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ps.displayName=ZU.displayName;var QU="AlertDialog",[xce]=Zi(QU,[FF]),cl=FF(),JU=t=>{const{__scopeAlertDialog:e,...r}=t,n=cl(e);return f.jsx(LT,{...n,...r,modal:!0})};JU.displayName=QU;var wce="AlertDialogTrigger",bce=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=cl(r);return f.jsx(t$,{...i,...n,ref:e})});bce.displayName=wce;var _ce="AlertDialogPortal",eV=t=>{const{__scopeAlertDialog:e,...r}=t,n=cl(e);return f.jsx(BT,{...n,...r})};eV.displayName=_ce;var Sce="AlertDialogOverlay",tV=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=cl(r);return f.jsx(ig,{...i,...n,ref:e})});tV.displayName=Sce;var lf="AlertDialogContent",[Ece,Cce]=xce(lf),Ace=FL("AlertDialogContent"),rV=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,a=cl(r),s=N.useRef(null),l=lr(e,s),d=N.useRef(null);return f.jsx(yie,{contentName:lf,titleName:nV,docsSlug:"alert-dialog",children:f.jsx(Ece,{scope:r,cancelRef:d,children:f.jsxs(ag,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:it(i.onOpenAutoFocus,h=>{h.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[f.jsx(Ace,{children:n}),f.jsx(Tce,{contentRef:s})]})})})});rV.displayName=lf;var nV="AlertDialogTitle",iV=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=cl(r);return f.jsx(sg,{...i,...n,ref:e})});iV.displayName=nV;var aV="AlertDialogDescription",sV=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=cl(r);return f.jsx(og,{...i,...n,ref:e})});sV.displayName=aV;var Oce="AlertDialogAction",oV=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=cl(r);return f.jsx(F1,{...i,...n,ref:e})});oV.displayName=Oce;var lV="AlertDialogCancel",cV=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=Cce(lV,r),a=cl(r),s=lr(e,i);return f.jsx(F1,{...a,...n,ref:s})});cV.displayName=lV;var Tce=({contentRef:t})=>{const e=`\`${lf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${lf}\` by passing a \`${aV}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${lf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return N.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Nce=JU,kce=eV,uV=tV,dV=rV,fV=oV,hV=cV,pV=iV,mV=sV;const gV=Nce,Pce=kce,vV=N.forwardRef(({className:t,...e},r)=>f.jsx(uV,{className:Me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));vV.displayName=uV.displayName;const uN=N.forwardRef(({className:t,...e},r)=>f.jsxs(Pce,{children:[f.jsx(vV,{}),f.jsx(dV,{ref:r,className:Me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));uN.displayName=dV.displayName;const dN=({className:t,...e})=>f.jsx("div",{className:Me("flex flex-col space-y-2 text-center sm:text-left",t),...e});dN.displayName="AlertDialogHeader";const fN=({className:t,...e})=>f.jsx("div",{className:Me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});fN.displayName="AlertDialogFooter";const hN=N.forwardRef(({className:t,...e},r)=>f.jsx(pV,{ref:r,className:Me("text-lg font-semibold",t),...e}));hN.displayName=pV.displayName;const pN=N.forwardRef(({className:t,...e},r)=>f.jsx(mV,{ref:r,className:Me("text-sm text-muted-foreground",t),...e}));pN.displayName=mV.displayName;const mN=N.forwardRef(({className:t,...e},r)=>f.jsx(fV,{ref:r,className:Me(Qp(),t),...e}));mN.displayName=fV.displayName;const gN=N.forwardRef(({className:t,...e},r)=>f.jsx(hV,{ref:r,className:Me(Qp({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));gN.displayName=hV.displayName;var Bt=function(){return Bt=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Bt.apply(this,arguments)};function jce(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function yV(t,e,r){for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function fg(t){return t.mode==="multiple"}function hg(t){return t.mode==="range"}function K1(t){return t.mode==="single"}var Ice={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Rce(t,e){return Xt(t,"LLLL y",e)}function Mce(t,e){return Xt(t,"d",e)}function Dce(t,e){return Xt(t,"LLLL",e)}function Lce(t){return"".concat(t)}function Bce(t,e){return Xt(t,"cccccc",e)}function Fce(t,e){return Xt(t,"yyyy",e)}var $ce=Object.freeze({__proto__:null,formatCaption:Rce,formatDay:Mce,formatMonthCaption:Dce,formatWeekNumber:Lce,formatWeekdayName:Bce,formatYearCaption:Fce}),Uce=function(t,e,r){return Xt(t,"do MMMM (EEEE)",r)},Vce=function(){return"Month: "},Wce=function(){return"Go to next month"},qce=function(){return"Go to previous month"},zce=function(t,e){return Xt(t,"cccc",e)},Hce=function(t){return"Week n. ".concat(t)},Gce=function(){return"Year: "},Kce=Object.freeze({__proto__:null,labelDay:Uce,labelMonthDropdown:Vce,labelNext:Wce,labelPrevious:qce,labelWeekNumber:Hce,labelWeekday:zce,labelYearDropdown:Gce});function Yce(){var t="buttons",e=Ice,r=G$,n={},i={},a=1,s={},l=new Date;return{captionLayout:t,classNames:e,formatters:$ce,labels:Kce,locale:r,modifiersClassNames:n,modifiers:i,numberOfMonths:a,styles:s,today:l,mode:"default"}}function Xce(t){var e=t.fromYear,r=t.toYear,n=t.fromMonth,i=t.toMonth,a=t.fromDate,s=t.toDate;return n?a=Yi(n):e&&(a=new Date(e,0,1)),i?s=nN(i):r&&(s=new Date(r,11,31)),{fromDate:a?ju(a):void 0,toDate:s?ju(s):void 0}}var xV=N.createContext(void 0);function Zce(t){var e,r=t.initialProps,n=Yce(),i=Xce(r),a=i.fromDate,s=i.toDate,l=(e=r.captionLayout)!==null&&e!==void 0?e:n.captionLayout;l!=="buttons"&&(!a||!s)&&(l="buttons");var d;(K1(r)||fg(r)||hg(r))&&(d=r.onSelect);var h=Bt(Bt(Bt({},n),r),{captionLayout:l,classNames:Bt(Bt({},n.classNames),r.classNames),components:Bt({},r.components),formatters:Bt(Bt({},n.formatters),r.formatters),fromDate:a,labels:Bt(Bt({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Bt(Bt({},n.modifiers),r.modifiers),modifiersClassNames:Bt(Bt({},n.modifiersClassNames),r.modifiersClassNames),onSelect:d,styles:Bt(Bt({},n.styles),r.styles),toDate:s});return f.jsx(xV.Provider,{value:h,children:t.children})}function sn(){var t=N.useContext(xV);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function wV(t){var e=sn(),r=e.locale,n=e.classNames,i=e.styles,a=e.formatters.formatCaption;return f.jsx("div",{className:n.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:a(t.displayMonth,{locale:r})})}function Qce(t){return f.jsx("svg",Bt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:f.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function bV(t){var e,r,n=t.onChange,i=t.value,a=t.children,s=t.caption,l=t.className,d=t.style,h=sn(),g=(r=(e=h.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:Qce;return f.jsxs("div",{className:l,style:d,children:[f.jsx("span",{className:h.classNames.vhidden,children:t["aria-label"]}),f.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:h.classNames.dropdown,style:h.styles.dropdown,value:i,onChange:n,children:a}),f.jsxs("div",{className:h.classNames.caption_label,style:h.styles.caption_label,"aria-hidden":"true",children:[s,f.jsx(g,{className:h.classNames.dropdown_icon,style:h.styles.dropdown_icon})]})]})}function Jce(t){var e,r=sn(),n=r.fromDate,i=r.toDate,a=r.styles,s=r.locale,l=r.formatters.formatMonthCaption,d=r.classNames,h=r.components,g=r.labels.labelMonthDropdown;if(!n)return f.jsx(f.Fragment,{});if(!i)return f.jsx(f.Fragment,{});var v=[];if(gle(n,i))for(var b=Yi(n),S=n.getMonth();S<=i.getMonth();S++)v.push(o_(b,S));else for(var b=Yi(new Date),S=0;S<=11;S++)v.push(o_(b,S));var O=function(C){var j=Number(C.target.value),P=o_(Yi(t.displayMonth),j);t.onChange(P)},E=(e=h?.Dropdown)!==null&&e!==void 0?e:bV;return f.jsx(E,{name:"months","aria-label":g(),className:d.dropdown_month,style:a.dropdown_month,onChange:O,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:s}),children:v.map(function(C){return f.jsx("option",{value:C.getMonth(),children:l(C,{locale:s})},C.getMonth())})})}function eue(t){var e,r=t.displayMonth,n=sn(),i=n.fromDate,a=n.toDate,s=n.locale,l=n.styles,d=n.classNames,h=n.components,g=n.formatters.formatYearCaption,v=n.labels.labelYearDropdown,b=[];if(!i)return f.jsx(f.Fragment,{});if(!a)return f.jsx(f.Fragment,{});for(var S=i.getFullYear(),O=a.getFullYear(),E=S;E<=O;E++)b.push(vR(z$(new Date),E));var C=function(P){var I=vR(Yi(r),Number(P.target.value));t.onChange(I)},j=(e=h?.Dropdown)!==null&&e!==void 0?e:bV;return f.jsx(j,{name:"years","aria-label":v(),className:d.dropdown_year,style:l.dropdown_year,onChange:C,value:r.getFullYear(),caption:g(r,{locale:s}),children:b.map(function(P){return f.jsx("option",{value:P.getFullYear(),children:g(P,{locale:s})},P.getFullYear())})})}function tue(t,e){var r=N.useState(t),n=r[0],i=r[1],a=e===void 0?n:e;return[a,i]}function rue(t){var e=t.month,r=t.defaultMonth,n=t.today,i=e||r||n||new Date,a=t.toDate,s=t.fromDate,l=t.numberOfMonths,d=l===void 0?1:l;if(a&&om(a,i)<0){var h=-1*(d-1);i=ms(a,h)}return s&&om(i,s)<0&&(i=s),Yi(i)}function nue(){var t=sn(),e=rue(t),r=tue(e,t.month),n=r[0],i=r[1],a=function(s){var l;if(!t.disableNavigation){var d=Yi(s);i(d),(l=t.onMonthChange)===null||l===void 0||l.call(t,d)}};return[n,a]}function iue(t,e){for(var r=e.reverseMonths,n=e.numberOfMonths,i=Yi(t),a=Yi(ms(i,n)),s=om(a,i),l=[],d=0;d<s;d++){var h=ms(i,d);l.push(h)}return r&&(l=l.reverse()),l}function aue(t,e){if(!e.disableNavigation){var r=e.toDate,n=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,s=n?a:1,l=Yi(t);if(!r)return ms(l,s);var d=om(r,t);if(!(d<a))return ms(l,s)}}function sue(t,e){if(!e.disableNavigation){var r=e.fromDate,n=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,s=n?a:1,l=Yi(t);if(!r)return ms(l,-s);var d=om(l,r);if(!(d<=0))return ms(l,-s)}}var _V=N.createContext(void 0);function oue(t){var e=sn(),r=nue(),n=r[0],i=r[1],a=iue(n,e),s=aue(n,e),l=sue(n,e),d=function(v){return a.some(function(b){return sN(v,b)})},h=function(v,b){d(v)||(b&&aN(v,b)?i(ms(v,1+e.numberOfMonths*-1)):i(v))},g={currentMonth:n,displayMonths:a,goToMonth:i,goToDate:h,previousMonth:l,nextMonth:s,isDateDisplayed:d};return f.jsx(_V.Provider,{value:g,children:t.children})}function pg(){var t=N.useContext(_V);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function wR(t){var e,r=sn(),n=r.classNames,i=r.styles,a=r.components,s=pg().goToMonth,l=function(g){s(ms(g,t.displayIndex?-t.displayIndex:0))},d=(e=a?.CaptionLabel)!==null&&e!==void 0?e:wV,h=f.jsx(d,{id:t.id,displayMonth:t.displayMonth});return f.jsxs("div",{className:n.caption_dropdowns,style:i.caption_dropdowns,children:[f.jsx("div",{className:n.vhidden,children:h}),f.jsx(Jce,{onChange:l,displayMonth:t.displayMonth}),f.jsx(eue,{onChange:l,displayMonth:t.displayMonth})]})}function lue(t){return f.jsx("svg",Bt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:f.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function cue(t){return f.jsx("svg",Bt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:f.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var iy=N.forwardRef(function(t,e){var r=sn(),n=r.classNames,i=r.styles,a=[n.button_reset,n.button];t.className&&a.push(t.className);var s=a.join(" "),l=Bt(Bt({},i.button_reset),i.button);return t.style&&Object.assign(l,t.style),f.jsx("button",Bt({},t,{ref:e,type:"button",className:s,style:l}))});function uue(t){var e,r,n=sn(),i=n.dir,a=n.locale,s=n.classNames,l=n.styles,d=n.labels,h=d.labelPrevious,g=d.labelNext,v=n.components;if(!t.nextMonth&&!t.previousMonth)return f.jsx(f.Fragment,{});var b=h(t.previousMonth,{locale:a}),S=[s.nav_button,s.nav_button_previous].join(" "),O=g(t.nextMonth,{locale:a}),E=[s.nav_button,s.nav_button_next].join(" "),C=(e=v?.IconRight)!==null&&e!==void 0?e:cue,j=(r=v?.IconLeft)!==null&&r!==void 0?r:lue;return f.jsxs("div",{className:s.nav,style:l.nav,children:[!t.hidePrevious&&f.jsx(iy,{name:"previous-month","aria-label":b,className:S,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?f.jsx(C,{className:s.nav_icon,style:l.nav_icon}):f.jsx(j,{className:s.nav_icon,style:l.nav_icon})}),!t.hideNext&&f.jsx(iy,{name:"next-month","aria-label":O,className:E,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?f.jsx(j,{className:s.nav_icon,style:l.nav_icon}):f.jsx(C,{className:s.nav_icon,style:l.nav_icon})})]})}function bR(t){var e=sn().numberOfMonths,r=pg(),n=r.previousMonth,i=r.nextMonth,a=r.goToMonth,s=r.displayMonths,l=s.findIndex(function(O){return sN(t.displayMonth,O)}),d=l===0,h=l===s.length-1,g=e>1&&(d||!h),v=e>1&&(h||!d),b=function(){n&&a(n)},S=function(){i&&a(i)};return f.jsx(uue,{displayMonth:t.displayMonth,hideNext:g,hidePrevious:v,nextMonth:i,previousMonth:n,onPreviousClick:b,onNextClick:S})}function due(t){var e,r=sn(),n=r.classNames,i=r.disableNavigation,a=r.styles,s=r.captionLayout,l=r.components,d=(e=l?.CaptionLabel)!==null&&e!==void 0?e:wV,h;return i?h=f.jsx(d,{id:t.id,displayMonth:t.displayMonth}):s==="dropdown"?h=f.jsx(wR,{displayMonth:t.displayMonth,id:t.id}):s==="dropdown-buttons"?h=f.jsxs(f.Fragment,{children:[f.jsx(wR,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),f.jsx(bR,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):h=f.jsxs(f.Fragment,{children:[f.jsx(d,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),f.jsx(bR,{displayMonth:t.displayMonth,id:t.id})]}),f.jsx("div",{className:n.caption,style:a.caption,children:h})}function fue(t){var e=sn(),r=e.footer,n=e.styles,i=e.classNames.tfoot;return r?f.jsx("tfoot",{className:i,style:n.tfoot,children:f.jsx("tr",{children:f.jsx("td",{colSpan:8,children:r})})}):f.jsx(f.Fragment,{})}function hue(t,e,r){for(var n=r?Pu(new Date):xo(new Date,{locale:t,weekStartsOn:e}),i=[],a=0;a<7;a++){var s=Ci(n,a);i.push(s)}return i}function pue(){var t=sn(),e=t.classNames,r=t.styles,n=t.showWeekNumber,i=t.locale,a=t.weekStartsOn,s=t.ISOWeek,l=t.formatters.formatWeekdayName,d=t.labels.labelWeekday,h=hue(i,a,s);return f.jsxs("tr",{style:r.head_row,className:e.head_row,children:[n&&f.jsx("td",{style:r.head_cell,className:e.head_cell}),h.map(function(g,v){return f.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":d(g,{locale:i}),children:l(g,{locale:i})},v)})]})}function mue(){var t,e=sn(),r=e.classNames,n=e.styles,i=e.components,a=(t=i?.HeadRow)!==null&&t!==void 0?t:pue;return f.jsx("thead",{style:n.head,className:r.head,children:f.jsx(a,{})})}function gue(t){var e=sn(),r=e.locale,n=e.formatters.formatDay;return f.jsx(f.Fragment,{children:n(t.date,{locale:r})})}var vN=N.createContext(void 0);function vue(t){if(!fg(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return f.jsx(vN.Provider,{value:e,children:t.children})}return f.jsx(yue,{initialProps:t.initialProps,children:t.children})}function yue(t){var e=t.initialProps,r=t.children,n=e.selected,i=e.min,a=e.max,s=function(h,g,v){var b,S;(b=e.onDayClick)===null||b===void 0||b.call(e,h,g,v);var O=!!(g.selected&&i&&n?.length===i);if(!O){var E=!!(!g.selected&&a&&n?.length===a);if(!E){var C=n?yV([],n):[];if(g.selected){var j=C.findIndex(function(P){return Li(h,P)});C.splice(j,1)}else C.push(h);(S=e.onSelect)===null||S===void 0||S.call(e,C,h,g,v)}}},l={disabled:[]};n&&l.disabled.push(function(h){var g=a&&n.length>a-1,v=n.some(function(b){return Li(b,h)});return!!(g&&!v)});var d={selected:n,onDayClick:s,modifiers:l};return f.jsx(vN.Provider,{value:d,children:r})}function yN(){var t=N.useContext(vN);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function xue(t,e){var r=e||{},n=r.from,i=r.to;return n&&i?Li(i,t)&&Li(n,t)?void 0:Li(i,t)?{from:i,to:void 0}:Li(n,t)?void 0:lm(n,t)?{from:t,to:i}:{from:n,to:t}:i?lm(t,i)?{from:i,to:t}:{from:t,to:i}:n?aN(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var xN=N.createContext(void 0);function wue(t){if(!hg(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return f.jsx(xN.Provider,{value:e,children:t.children})}return f.jsx(bue,{initialProps:t.initialProps,children:t.children})}function bue(t){var e=t.initialProps,r=t.children,n=e.selected,i=n||{},a=i.from,s=i.to,l=e.min,d=e.max,h=function(S,O,E){var C,j;(C=e.onDayClick)===null||C===void 0||C.call(e,S,O,E);var P=xue(S,n);(j=e.onSelect)===null||j===void 0||j.call(e,P,S,O,E)},g={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(g.range_start=[a],s?(g.range_end=[s],Li(a,s)||(g.range_middle=[{after:a,before:s}])):g.range_end=[a]):s&&(g.range_start=[s],g.range_end=[s]),l&&(a&&!s&&g.disabled.push({after:mu(a,l-1),before:Ci(a,l-1)}),a&&s&&g.disabled.push({after:a,before:Ci(a,l-1)}),!a&&s&&g.disabled.push({after:mu(s,l-1),before:Ci(s,l-1)})),d){if(a&&!s&&(g.disabled.push({before:Ci(a,-d+1)}),g.disabled.push({after:Ci(a,d-1)})),a&&s){var v=$s(s,a)+1,b=d-v;g.disabled.push({before:mu(a,b)}),g.disabled.push({after:Ci(s,b)})}!a&&s&&(g.disabled.push({before:Ci(s,-d+1)}),g.disabled.push({after:Ci(s,d-1)}))}return f.jsx(xN.Provider,{value:{selected:n,onDayClick:h,modifiers:g},children:r})}function wN(){var t=N.useContext(xN);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Av(t){return Array.isArray(t)?yV([],t):t!==void 0?[t]:[]}function _ue(t){var e={};return Object.entries(t).forEach(function(r){var n=r[0],i=r[1];e[n]=Av(i)}),e}var zs;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(zs||(zs={}));var Sue=zs.Selected,Uo=zs.Disabled,Eue=zs.Hidden,Cue=zs.Today,c_=zs.RangeEnd,u_=zs.RangeMiddle,d_=zs.RangeStart,Aue=zs.Outside;function Oue(t,e,r){var n,i=(n={},n[Sue]=Av(t.selected),n[Uo]=Av(t.disabled),n[Eue]=Av(t.hidden),n[Cue]=[t.today],n[c_]=[],n[u_]=[],n[d_]=[],n[Aue]=[],n);return t.fromDate&&i[Uo].push({before:t.fromDate}),t.toDate&&i[Uo].push({after:t.toDate}),fg(t)?i[Uo]=i[Uo].concat(e.modifiers[Uo]):hg(t)&&(i[Uo]=i[Uo].concat(r.modifiers[Uo]),i[d_]=r.modifiers[d_],i[u_]=r.modifiers[u_],i[c_]=r.modifiers[c_]),i}var SV=N.createContext(void 0);function Tue(t){var e=sn(),r=yN(),n=wN(),i=Oue(e,r,n),a=_ue(e.modifiers),s=Bt(Bt({},i),a);return f.jsx(SV.Provider,{value:s,children:t.children})}function EV(){var t=N.useContext(SV);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function Nue(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function kue(t){return!!(t&&typeof t=="object"&&"from"in t)}function Pue(t){return!!(t&&typeof t=="object"&&"after"in t)}function jue(t){return!!(t&&typeof t=="object"&&"before"in t)}function Iue(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Rue(t,e){var r,n=e.from,i=e.to;if(n&&i){var a=$s(i,n)<0;a&&(r=[i,n],n=r[0],i=r[1]);var s=$s(t,n)>=0&&$s(i,t)>=0;return s}return i?Li(i,t):n?Li(n,t):!1}function Mue(t){return rN(t)}function Due(t){return Array.isArray(t)&&t.every(rN)}function Lue(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if(Mue(r))return Li(t,r);if(Due(r))return r.includes(t);if(kue(r))return Rue(t,r);if(Iue(r))return r.dayOfWeek.includes(t.getDay());if(Nue(r)){var n=$s(r.before,t),i=$s(r.after,t),a=n>0,s=i<0,l=lm(r.before,r.after);return l?s&&a:a||s}return Pue(r)?$s(t,r.after)>0:jue(r)?$s(r.before,t)>0:typeof r=="function"?r(t):!1})}function bN(t,e,r){var n=Object.keys(e).reduce(function(a,s){var l=e[s];return Lue(t,l)&&a.push(s),a},[]),i={};return n.forEach(function(a){return i[a]=!0}),r&&!sN(t,r)&&(i.outside=!0),i}function Bue(t,e){for(var r=Yi(t[0]),n=nN(t[t.length-1]),i,a,s=r;s<=n;){var l=bN(s,e),d=!l.disabled&&!l.hidden;if(!d){s=Ci(s,1);continue}if(l.selected)return s;l.today&&!a&&(a=s),i||(i=s),s=Ci(s,1)}return a||i}var Fue=365;function CV(t,e){var r=e.moveBy,n=e.direction,i=e.context,a=e.modifiers,s=e.retry,l=s===void 0?{count:0,lastFocused:t}:s,d=i.weekStartsOn,h=i.fromDate,g=i.toDate,v=i.locale,b={day:Ci,week:ry,month:ms,year:coe,startOfWeek:function(C){return i.ISOWeek?Pu(C):xo(C,{locale:v,weekStartsOn:d})},endOfWeek:function(C){return i.ISOWeek?H$(C):iN(C,{locale:v,weekStartsOn:d})}},S=b[r](t,n==="after"?1:-1);n==="before"&&h?S=uoe([h,S]):n==="after"&&g&&(S=doe([g,S]));var O=!0;if(a){var E=bN(S,a);O=!E.disabled&&!E.hidden}return O?S:l.count>Fue?l.lastFocused:CV(S,{moveBy:r,direction:n,context:i,modifiers:a,retry:Bt(Bt({},l),{count:l.count+1})})}var AV=N.createContext(void 0);function $ue(t){var e=pg(),r=EV(),n=N.useState(),i=n[0],a=n[1],s=N.useState(),l=s[0],d=s[1],h=Bue(e.displayMonths,r),g=i??(l&&e.isDateDisplayed(l))?l:h,v=function(){d(i),a(void 0)},b=function(C){a(C)},S=sn(),O=function(C,j){if(i){var P=CV(i,{moveBy:C,direction:j,context:S,modifiers:r});Li(i,P)||(e.goToDate(P,i),b(P))}},E={focusedDay:i,focusTarget:g,blur:v,focus:b,focusDayAfter:function(){return O("day","after")},focusDayBefore:function(){return O("day","before")},focusWeekAfter:function(){return O("week","after")},focusWeekBefore:function(){return O("week","before")},focusMonthBefore:function(){return O("month","before")},focusMonthAfter:function(){return O("month","after")},focusYearBefore:function(){return O("year","before")},focusYearAfter:function(){return O("year","after")},focusStartOfWeek:function(){return O("startOfWeek","before")},focusEndOfWeek:function(){return O("endOfWeek","after")}};return f.jsx(AV.Provider,{value:E,children:t.children})}function _N(){var t=N.useContext(AV);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function Uue(t,e){var r=EV(),n=bN(t,r,e);return n}var SN=N.createContext(void 0);function Vue(t){if(!K1(t.initialProps)){var e={selected:void 0};return f.jsx(SN.Provider,{value:e,children:t.children})}return f.jsx(Wue,{initialProps:t.initialProps,children:t.children})}function Wue(t){var e=t.initialProps,r=t.children,n=function(a,s,l){var d,h,g;if((d=e.onDayClick)===null||d===void 0||d.call(e,a,s,l),s.selected&&!e.required){(h=e.onSelect)===null||h===void 0||h.call(e,void 0,a,s,l);return}(g=e.onSelect)===null||g===void 0||g.call(e,a,a,s,l)},i={selected:e.selected,onDayClick:n};return f.jsx(SN.Provider,{value:i,children:r})}function OV(){var t=N.useContext(SN);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function que(t,e){var r=sn(),n=OV(),i=yN(),a=wN(),s=_N(),l=s.focusDayAfter,d=s.focusDayBefore,h=s.focusWeekAfter,g=s.focusWeekBefore,v=s.blur,b=s.focus,S=s.focusMonthBefore,O=s.focusMonthAfter,E=s.focusYearBefore,C=s.focusYearAfter,j=s.focusStartOfWeek,P=s.focusEndOfWeek,I=function(ne){var re,J,he,ie;K1(r)?(re=n.onDayClick)===null||re===void 0||re.call(n,t,e,ne):fg(r)?(J=i.onDayClick)===null||J===void 0||J.call(i,t,e,ne):hg(r)?(he=a.onDayClick)===null||he===void 0||he.call(a,t,e,ne):(ie=r.onDayClick)===null||ie===void 0||ie.call(r,t,e,ne)},F=function(ne){var re;b(t),(re=r.onDayFocus)===null||re===void 0||re.call(r,t,e,ne)},R=function(ne){var re;v(),(re=r.onDayBlur)===null||re===void 0||re.call(r,t,e,ne)},M=function(ne){var re;(re=r.onDayMouseEnter)===null||re===void 0||re.call(r,t,e,ne)},B=function(ne){var re;(re=r.onDayMouseLeave)===null||re===void 0||re.call(r,t,e,ne)},q=function(ne){var re;(re=r.onDayPointerEnter)===null||re===void 0||re.call(r,t,e,ne)},U=function(ne){var re;(re=r.onDayPointerLeave)===null||re===void 0||re.call(r,t,e,ne)},z=function(ne){var re;(re=r.onDayTouchCancel)===null||re===void 0||re.call(r,t,e,ne)},G=function(ne){var re;(re=r.onDayTouchEnd)===null||re===void 0||re.call(r,t,e,ne)},W=function(ne){var re;(re=r.onDayTouchMove)===null||re===void 0||re.call(r,t,e,ne)},H=function(ne){var re;(re=r.onDayTouchStart)===null||re===void 0||re.call(r,t,e,ne)},Q=function(ne){var re;(re=r.onDayKeyUp)===null||re===void 0||re.call(r,t,e,ne)},X=function(ne){var re;switch(ne.key){case"ArrowLeft":ne.preventDefault(),ne.stopPropagation(),r.dir==="rtl"?l():d();break;case"ArrowRight":ne.preventDefault(),ne.stopPropagation(),r.dir==="rtl"?d():l();break;case"ArrowDown":ne.preventDefault(),ne.stopPropagation(),h();break;case"ArrowUp":ne.preventDefault(),ne.stopPropagation(),g();break;case"PageUp":ne.preventDefault(),ne.stopPropagation(),ne.shiftKey?E():S();break;case"PageDown":ne.preventDefault(),ne.stopPropagation(),ne.shiftKey?C():O();break;case"Home":ne.preventDefault(),ne.stopPropagation(),j();break;case"End":ne.preventDefault(),ne.stopPropagation(),P();break}(re=r.onDayKeyDown)===null||re===void 0||re.call(r,t,e,ne)},se={onClick:I,onFocus:F,onBlur:R,onKeyDown:X,onKeyUp:Q,onMouseEnter:M,onMouseLeave:B,onPointerEnter:q,onPointerLeave:U,onTouchCancel:z,onTouchEnd:G,onTouchMove:W,onTouchStart:H};return se}function zue(){var t=sn(),e=OV(),r=yN(),n=wN(),i=K1(t)?e.selected:fg(t)?r.selected:hg(t)?n.selected:void 0;return i}function Hue(t){return Object.values(zs).includes(t)}function Gue(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(n){var i=t.modifiersClassNames[n];if(i)r.push(i);else if(Hue(n)){var a=t.classNames["day_".concat(n)];a&&r.push(a)}}),r}function Kue(t,e){var r=Bt({},t.styles.day);return Object.keys(e).forEach(function(n){var i;r=Bt(Bt({},r),(i=t.modifiersStyles)===null||i===void 0?void 0:i[n])}),r}function Yue(t,e,r){var n,i,a,s=sn(),l=_N(),d=Uue(t,e),h=que(t,d),g=zue(),v=!!(s.onDayClick||s.mode!=="default");N.useEffect(function(){var M;d.outside||l.focusedDay&&v&&Li(l.focusedDay,t)&&((M=r.current)===null||M===void 0||M.focus())},[l.focusedDay,t,r,v,d.outside]);var b=Gue(s,d).join(" "),S=Kue(s,d),O=!!(d.outside&&!s.showOutsideDays||d.hidden),E=(a=(i=s.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:gue,C=f.jsx(E,{date:t,displayMonth:e,activeModifiers:d}),j={style:S,className:b,children:C,role:"gridcell"},P=l.focusTarget&&Li(l.focusTarget,t)&&!d.outside,I=l.focusedDay&&Li(l.focusedDay,t),F=Bt(Bt(Bt({},j),(n={disabled:d.disabled,role:"gridcell"},n["aria-selected"]=d.selected,n.tabIndex=I||P?0:-1,n)),h),R={isButton:v,isHidden:O,activeModifiers:d,selectedDays:g,buttonProps:F,divProps:j};return R}function Xue(t){var e=N.useRef(null),r=Yue(t.date,t.displayMonth,e);return r.isHidden?f.jsx("div",{role:"gridcell"}):r.isButton?f.jsx(iy,Bt({name:"day",ref:e},r.buttonProps)):f.jsx("div",Bt({},r.divProps))}function Zue(t){var e=t.number,r=t.dates,n=sn(),i=n.onWeekNumberClick,a=n.styles,s=n.classNames,l=n.locale,d=n.labels.labelWeekNumber,h=n.formatters.formatWeekNumber,g=h(Number(e),{locale:l});if(!i)return f.jsx("span",{className:s.weeknumber,style:a.weeknumber,children:g});var v=d(Number(e),{locale:l}),b=function(S){i(e,r,S)};return f.jsx(iy,{name:"week-number","aria-label":v,className:s.weeknumber,style:a.weeknumber,onClick:b,children:g})}function Que(t){var e,r,n=sn(),i=n.styles,a=n.classNames,s=n.showWeekNumber,l=n.components,d=(e=l?.Day)!==null&&e!==void 0?e:Xue,h=(r=l?.WeekNumber)!==null&&r!==void 0?r:Zue,g;return s&&(g=f.jsx("td",{className:a.cell,style:i.cell,children:f.jsx(h,{number:t.weekNumber,dates:t.dates})})),f.jsxs("tr",{className:a.row,style:i.row,children:[g,t.dates.map(function(v){return f.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:f.jsx(d,{displayMonth:t.displayMonth,date:v})},hle(v))})]})}function _R(t,e,r){for(var n=r?.ISOWeek?H$(e):iN(e,r),i=r?.ISOWeek?Pu(t):xo(t,r),a=$s(n,i),s=[],l=0;l<=a;l++)s.push(Ci(i,l));var d=s.reduce(function(h,g){var v=r?.ISOWeek?K$(g):X$(g,r),b=h.find(function(S){return S.weekNumber===v});return b?(b.dates.push(g),h):(h.push({weekNumber:v,dates:[g]}),h)},[]);return d}function Jue(t,e){var r=_R(Yi(t),nN(t),e);if(e?.useFixedWeeks){var n=mle(t,e);if(n<6){var i=r[r.length-1],a=i.dates[i.dates.length-1],s=ry(a,6-n),l=_R(ry(a,1),s,e);r.push.apply(r,l)}}return r}function ede(t){var e,r,n,i=sn(),a=i.locale,s=i.classNames,l=i.styles,d=i.hideHead,h=i.fixedWeeks,g=i.components,v=i.weekStartsOn,b=i.firstWeekContainsDate,S=i.ISOWeek,O=Jue(t.displayMonth,{useFixedWeeks:!!h,ISOWeek:S,locale:a,weekStartsOn:v,firstWeekContainsDate:b}),E=(e=g?.Head)!==null&&e!==void 0?e:mue,C=(r=g?.Row)!==null&&r!==void 0?r:Que,j=(n=g?.Footer)!==null&&n!==void 0?n:fue;return f.jsxs("table",{id:t.id,className:s.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!d&&f.jsx(E,{}),f.jsx("tbody",{className:s.tbody,style:l.tbody,children:O.map(function(P){return f.jsx(C,{displayMonth:t.displayMonth,dates:P.dates,weekNumber:P.weekNumber},P.weekNumber)})}),f.jsx(j,{displayMonth:t.displayMonth})]})}function tde(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var rde=tde()?N.useLayoutEffect:N.useEffect,f_=!1,nde=0;function SR(){return"react-day-picker-".concat(++nde)}function ide(t){var e,r=t??(f_?SR():null),n=N.useState(r),i=n[0],a=n[1];return rde(function(){i===null&&a(SR())},[]),N.useEffect(function(){f_===!1&&(f_=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function ade(t){var e,r,n=sn(),i=n.dir,a=n.classNames,s=n.styles,l=n.components,d=pg().displayMonths,h=ide(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),g=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,v=[a.month],b=s.month,S=t.displayIndex===0,O=t.displayIndex===d.length-1,E=!S&&!O;i==="rtl"&&(e=[S,O],O=e[0],S=e[1]),S&&(v.push(a.caption_start),b=Bt(Bt({},b),s.caption_start)),O&&(v.push(a.caption_end),b=Bt(Bt({},b),s.caption_end)),E&&(v.push(a.caption_between),b=Bt(Bt({},b),s.caption_between));var C=(r=l?.Caption)!==null&&r!==void 0?r:due;return f.jsxs("div",{className:v.join(" "),style:b,children:[f.jsx(C,{id:h,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),f.jsx(ede,{id:g,"aria-labelledby":h,displayMonth:t.displayMonth})]},t.displayIndex)}function sde(t){var e=sn(),r=e.classNames,n=e.styles;return f.jsx("div",{className:r.months,style:n.months,children:t.children})}function ode(t){var e,r,n=t.initialProps,i=sn(),a=_N(),s=pg(),l=N.useState(!1),d=l[0],h=l[1];N.useEffect(function(){i.initialFocus&&a.focusTarget&&(d||(a.focus(a.focusTarget),h(!0)))},[i.initialFocus,d,a.focus,a.focusTarget,a]);var g=[i.classNames.root,i.className];i.numberOfMonths>1&&g.push(i.classNames.multiple_months),i.showWeekNumber&&g.push(i.classNames.with_weeknumber);var v=Bt(Bt({},i.styles.root),i.style),b=Object.keys(n).filter(function(O){return O.startsWith("data-")}).reduce(function(O,E){var C;return Bt(Bt({},O),(C={},C[E]=n[E],C))},{}),S=(r=(e=n.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:sde;return f.jsx("div",Bt({className:g.join(" "),style:v,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},b,{children:f.jsx(S,{children:s.displayMonths.map(function(O,E){return f.jsx(ade,{displayIndex:E,displayMonth:O},E)})})}))}function lde(t){var e=t.children,r=jce(t,["children"]);return f.jsx(Zce,{initialProps:r,children:f.jsx(oue,{children:f.jsx(Vue,{initialProps:r,children:f.jsx(vue,{initialProps:r,children:f.jsx(wue,{initialProps:r,children:f.jsx(Tue,{children:f.jsx($ue,{children:e})})})})})})})}function cde(t){return f.jsx(lde,Bt({},t,{children:f.jsx(ode,{initialProps:t})}))}function cm({className:t,classNames:e,showOutsideDays:r=!0,...n}){return f.jsx(cde,{showOutsideDays:r,className:Me("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Me(Qp({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Me(Qp({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...i})=>f.jsx(fB,{className:"h-4 w-4"}),IconRight:({...i})=>f.jsx(GO,{className:"h-4 w-4"})},...n})}cm.displayName="Calendar";const ude=()=>{const[t,e]=N.useState("list"),[r,n]=N.useState(null),[i,a]=N.useState(!1),[s,l]=N.useState(!1),[d,h]=N.useState(!1),[g,v]=N.useState(void 0),{toast:b}=mi(),{bookings:S,loading:O,cancelBooking:E,refreshBookings:C}=BU(),{upcomingBookings:j,pastBookings:P}=N.useMemo(()=>{const U=new Date,z=[],G=[];return S.forEach(W=>{if(W.class_sessions?.start_time){const H=en(W.class_sessions.start_time);lm(H,U)||Li(H,U)?z.push(W):G.push(W)}else G.push(W)}),z.sort((W,H)=>{const Q=W.class_sessions?.start_time?en(W.class_sessions.start_time).getTime():0,X=H.class_sessions?.start_time?en(H.class_sessions.start_time).getTime():0;return Q-X}),G.sort((W,H)=>{const Q=W.class_sessions?.start_time?en(W.class_sessions.start_time).getTime():0;return(H.class_sessions?.start_time?en(H.class_sessions.start_time).getTime():0)-Q}),{upcomingBookings:z,pastBookings:G}},[S]),I=N.useMemo(()=>g?S.filter(U=>{if(!U.class_sessions?.start_time)return!1;const z=en(U.class_sessions.start_time);return Li(z,g)}):S,[S,g]);N.useMemo(()=>{const U=new Set;return S.forEach(z=>{if(z.class_sessions?.start_time){const G=en(z.class_sessions.start_time);U.add(Xt(G,"yyyy-MM-dd"))}}),Array.from(U).map(z=>en(z))},[S]);const F=U=>{n(U),a(!0)},R=U=>{n(U),l(!0)},M=async()=>{if(r){h(!0);try{const U=await E(r.id);U.success?(b(Ba.bookingCancelled()),l(!1),n(null),await C()):b(Ba.cancellationFailed(U.error))}catch(U){Yt({title:"Error",description:U.message||"An error occurred while cancelling the booking."})}finally{h(!1)}}},B=U=>{switch(U.toLowerCase()){case"booked":case"confirmed":return f.jsx(Gr,{variant:"default",children:"Booked"});case"cancelled":return f.jsx(Gr,{variant:"secondary",children:"Cancelled"});case"attended":return f.jsx(Gr,{variant:"outline",children:"Attended"});case"no_show":return f.jsx(Gr,{variant:"destructive",children:"No Show"});default:return f.jsx(Gr,{variant:"secondary",children:U})}},q=U=>{if(U.status==="cancelled"||!U.class_sessions?.start_time)return!1;const z=en(U.class_sessions.start_time),G=new Date;return(z.getTime()-G.getTime())/(1e3*60*60)>=24&&lm(z,G)};return O?f.jsx("div",{className:"min-h-screen bg-background p-6",children:f.jsxs("div",{className:"container mx-auto max-w-7xl",children:[f.jsx(Skeleton,{className:"h-10 w-48 mb-8"}),f.jsxs("div",{className:"flex gap-4 mb-6",children:[f.jsx(Skeleton,{className:"h-10 w-32"}),f.jsx(Skeleton,{className:"h-10 w-32"})]}),f.jsx(BookingCardSkeletons,{count:4})]})}):f.jsx("div",{className:"min-h-screen bg-background p-6",children:f.jsxs("div",{className:"container mx-auto max-w-7xl",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"My Bookings"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs(He,{variant:t==="list"?"default":"outline",size:"sm",onClick:()=>e("list"),children:[f.jsx(MK,{className:"w-4 h-4 mr-2"}),"List"]}),f.jsxs(He,{variant:t==="calendar"?"default":"outline",size:"sm",onClick:()=>e("calendar"),children:[f.jsx(OK,{className:"w-4 h-4 mr-2"}),"Calendar"]})]})]}),t==="list"?f.jsxs(G1,{defaultValue:"upcoming",className:"w-full",children:[f.jsxs(dg,{children:[f.jsxs(hs,{value:"upcoming",children:["Upcoming (",j.length,")"]}),f.jsxs(hs,{value:"past",children:["Past (",P.length,")"]})]}),f.jsx(ps,{value:"upcoming",className:"mt-6",children:j.length===0?f.jsx(mt,{children:f.jsx(gt,{className:"p-12 text-center",children:f.jsx("p",{className:"text-muted-foreground",children:"You don't have any upcoming bookings. Book a class to get started!"})})}):f.jsx("div",{className:"space-y-4",children:j.map(U=>f.jsx(h_,{booking:U,onViewDetails:F,onCancel:R,getStatusBadge:B,canCancel:q},U.id))})}),f.jsx(ps,{value:"past",className:"mt-6",children:P.length===0?f.jsx(mt,{children:f.jsx(gt,{className:"p-12 text-center",children:f.jsx("p",{className:"text-muted-foreground",children:"No past bookings."})})}):f.jsx("div",{className:"space-y-4",children:P.map(U=>f.jsx(h_,{booking:U,onViewDetails:F,onCancel:R,getStatusBadge:B,canCancel:q},U.id))})})]}):f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsxs(mt,{children:[f.jsxs(ir,{children:[f.jsx(or,{children:"Calendar"}),f.jsx(kr,{children:"Select a date to view bookings"})]}),f.jsx(gt,{children:f.jsx(cm,{mode:"single",selected:g,onSelect:v,className:"rounded-md border"})})]}),f.jsxs(mt,{children:[f.jsx(ir,{children:f.jsx(or,{children:g?`Bookings on ${Xt(g,"MMMM d, yyyy")}`:"Select a date"})}),f.jsx(gt,{children:g?I.length===0?f.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No bookings on this date"}):f.jsx("div",{className:"space-y-4",children:I.map(U=>f.jsx(h_,{booking:U,onViewDetails:F,onCancel:R,getStatusBadge:B,canCancel:q},U.id))}):f.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Click on a date in the calendar to view bookings"})})]})]}),f.jsx(Xo,{open:i,onOpenChange:a,children:f.jsxs(fo,{className:"max-w-2xl",children:[f.jsxs(ho,{children:[f.jsx(po,{children:"Booking Details"}),f.jsx(Zo,{children:"View full details of your booking"})]}),r&&r.class_sessions&&f.jsx("div",{className:"space-y-4 py-4",children:f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Class Name"}),f.jsx("p",{className:"text-base",children:r.class_sessions.name})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),f.jsx("div",{children:B(r.status)})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Instructor"}),f.jsx("p",{className:"text-base",children:r.class_sessions.instructor||"TBA"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Capacity"}),f.jsxs("p",{className:"text-base",children:[r.class_sessions.capacity||"N/A"," participants"]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Start Time"}),f.jsx("p",{className:"text-base",children:Xt(en(r.class_sessions.start_time),"MMM d, yyyy 'at' h:mm a")})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"End Time"}),f.jsx("p",{className:"text-base",children:Xt(en(r.class_sessions.end_time),"MMM d, yyyy 'at' h:mm a")})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Duration"}),f.jsxs("p",{className:"text-base",children:[Math.round((en(r.class_sessions.end_time).getTime()-en(r.class_sessions.start_time).getTime())/6e4)," ","minutes"]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Booked On"}),f.jsx("p",{className:"text-base",children:Xt(en(r.created_at),"MMM d, yyyy 'at' h:mm a")})]})]})})]})}),f.jsx(gV,{open:s,onOpenChange:l,children:f.jsxs(uN,{children:[f.jsxs(dN,{children:[f.jsx(hN,{children:"Cancel Booking"}),f.jsxs(pN,{children:["Are you sure you want to cancel this booking? This action cannot be undone.",r?.class_sessions?.start_time&&f.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-md",children:[f.jsx("p",{className:"font-medium mb-2",children:r.class_sessions.name}),f.jsx("p",{className:"text-sm",children:Xt(en(r.class_sessions.start_time),"MMM d, yyyy 'at' h:mm a")})]})]})]}),f.jsxs(fN,{children:[f.jsx(gN,{disabled:d,children:"Keep Booking"}),f.jsx(mN,{onClick:M,disabled:d,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:d?f.jsxs(f.Fragment,{children:[f.jsx(da,{className:"w-4 h-4 mr-2 animate-spin"}),"Cancelling..."]}):"Cancel Booking"})]})]})})]})})},h_=({booking:t,onViewDetails:e,onCancel:r,getStatusBadge:n,canCancel:i})=>{if(!t.class_sessions)return null;const a=en(t.class_sessions.start_time),s=en(t.class_sessions.end_time),l=Math.round((s.getTime()-a.getTime())/6e4);return f.jsxs(mt,{className:"hover:shadow-md transition-shadow",children:[f.jsx(ir,{children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx(or,{className:"mb-1",children:t.class_sessions.name}),f.jsxs(kr,{children:["with ",t.class_sessions.instructor||"TBA"]})]}),n(t.status)]})}),f.jsxs(gt,{children:[f.jsxs("div",{className:"space-y-3 mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[f.jsx(Bi,{className:"w-4 h-4 text-muted-foreground"}),f.jsx("span",{children:Xt(a,"MMM d, yyyy")})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[f.jsx(Ou,{className:"w-4 h-4 text-muted-foreground"}),f.jsxs("span",{children:[Xt(a,"h:mm a")," - ",Xt(s,"h:mm a")," (",l," min)"]})]}),t.class_sessions.capacity&&f.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[f.jsx(ll,{className:"w-4 h-4 text-muted-foreground"}),f.jsxs("span",{children:["Capacity: ",t.class_sessions.capacity]})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(He,{variant:"outline",onClick:()=>e(t),className:"flex-1",children:"View Details"}),i(t)&&f.jsx(He,{variant:"outline",onClick:()=>r(t),className:"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:"Cancel"})]})]})]})};var ft;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ft||(ft={}));var ER=new Map([[ft.QR_CODE,"QR_CODE"],[ft.AZTEC,"AZTEC"],[ft.CODABAR,"CODABAR"],[ft.CODE_39,"CODE_39"],[ft.CODE_93,"CODE_93"],[ft.CODE_128,"CODE_128"],[ft.DATA_MATRIX,"DATA_MATRIX"],[ft.MAXICODE,"MAXICODE"],[ft.ITF,"ITF"],[ft.EAN_13,"EAN_13"],[ft.EAN_8,"EAN_8"],[ft.PDF_417,"PDF_417"],[ft.RSS_14,"RSS_14"],[ft.RSS_EXPANDED,"RSS_EXPANDED"],[ft.UPC_A,"UPC_A"],[ft.UPC_E,"UPC_E"],[ft.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),CR;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(CR||(CR={}));function dde(t){return Object.values(ft).includes(t)}var ay;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(ay||(ay={}));var fde=(function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[ay.SCAN_TYPE_CAMERA,ay.SCAN_TYPE_FILE],t})(),TV=(function(){function t(e,r){this.format=e,this.formatName=r}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!ER.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,ER.get(e))},t})(),AR=(function(){function t(){}return t.createFromText=function(e){var r={text:e};return{decodedText:e,result:r}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t})(),dA;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(dA||(dA={}));var hde=(function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:dA.UNKWOWN_ERROR}},t})(),pde=(function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,r){(this.verbose||r===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t})();function Wo(t){return typeof t>"u"||t===null}var Yd=(function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t})(),NV=(function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,r){if(typeof e!="object"){var n=typeof e;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),s=Object.keys(e),l=0,d=s;l<d.length;l++){var h=d[l];if(a.has(h))return r.logError("".concat(h," is not supported videoConstaints."),!0),!1}return!0},t})(),Op={exports:{}},mde=Op.exports,OR;function gde(){return OR||(OR=1,(function(t,e){(function(r,n){n(e)})(mde,(function(r){function n(K){return K==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,o){K.__proto__=o}||function(K,o){for(var u in o)o.hasOwnProperty(u)&&(K[u]=o[u])};function a(K,o){i(K,o);function u(){this.constructor=K}K.prototype=o===null?Object.create(o):(u.prototype=o.prototype,new u)}function s(K,o){var u=Object.setPrototypeOf;u?u(K,o):K.__proto__=o}function l(K,o){o===void 0&&(o=K.constructor);var u=Error.captureStackTrace;u&&u(K,o)}var d=(function(K){a(o,K);function o(u){var p=this.constructor,y=K.call(this,u)||this;return Object.defineProperty(y,"name",{value:p.name,enumerable:!1}),s(y,p.prototype),l(y),y}return o})(Error);class h extends d{constructor(o=void 0){super(o),this.message=o}getKind(){return this.constructor.kind}}h.kind="Exception";class g extends h{}g.kind="ArgumentException";class v extends h{}v.kind="IllegalArgumentException";class b{constructor(o){if(this.binarizer=o,o===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,u){return this.binarizer.getBlackRow(o,u)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,u,p,y){const x=this.binarizer.getLuminanceSource().crop(o,u,p,y);return new b(this.binarizer.createBinarizer(x))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new b(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new b(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class S extends h{static getChecksumInstance(){return new S}}S.kind="ChecksumException";class O{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class E{static arraycopy(o,u,p,y,x){for(;x--;)p[y++]=o[u++]}static currentTimeMillis(){return Date.now()}}class C extends h{}C.kind="IndexOutOfBoundsException";class j extends C{constructor(o=void 0,u=void 0){super(u),this.index=o,this.message=u}}j.kind="ArrayIndexOutOfBoundsException";class P{static fill(o,u){for(let p=0,y=o.length;p<y;p++)o[p]=u}static fillWithin(o,u,p,y){P.rangeCheck(o.length,u,p);for(let x=u;x<p;x++)o[x]=y}static rangeCheck(o,u,p){if(u>p)throw new v("fromIndex("+u+") > toIndex("+p+")");if(u<0)throw new j(u);if(p>o)throw new j(p)}static asList(...o){return o}static create(o,u,p){return Array.from({length:o}).map(x=>Array.from({length:u}).fill(p))}static createInt32Array(o,u,p){return Array.from({length:o}).map(x=>Int32Array.from({length:u}).fill(p))}static equals(o,u){if(!o||!u||!o.length||!u.length||o.length!==u.length)return!1;for(let p=0,y=o.length;p<y;p++)if(o[p]!==u[p])return!1;return!0}static hashCode(o){if(o===null)return 0;let u=1;for(const p of o)u=31*u+p;return u}static fillUint8Array(o,u){for(let p=0;p!==o.length;p++)o[p]=u}static copyOf(o,u){return o.slice(0,u)}static copyOfUint8Array(o,u){if(o.length<=u){const p=new Uint8Array(u);return p.set(o),p}return o.slice(0,u)}static copyOfRange(o,u,p){const y=p-u,x=new Int32Array(y);return E.arraycopy(o,u,x,0,y),x}static binarySearch(o,u,p){p===void 0&&(p=P.numberComparator);let y=0,x=o.length-1;for(;y<=x;){const w=x+y>>1,A=p(u,o[w]);if(A>0)y=w+1;else if(A<0)x=w-1;else return w}return-y-1}static numberComparator(o,u){return o-u}}class I{static numberOfTrailingZeros(o){let u;if(o===0)return 32;let p=31;return u=o<<16,u!==0&&(p-=16,o=u),u=o<<8,u!==0&&(p-=8,o=u),u=o<<4,u!==0&&(p-=4,o=u),u=o<<2,u!==0&&(p-=2,o=u),p-(o<<1>>>31)}static numberOfLeadingZeros(o){if(o===0)return 32;let u=1;return o>>>16||(u+=16,o<<=16),o>>>24||(u+=8,o<<=8),o>>>28||(u+=4,o<<=4),o>>>30||(u+=2,o<<=2),u-=o>>>31,u}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),o=o+(o>>>4)&252645135,o=o+(o>>>8),o=o+(o>>>16),o&63}static truncDivision(o,u){return Math.trunc(o/u)}static parseInt(o,u=void 0){return parseInt(o,u)}}I.MIN_VALUE_32_BITS=-2147483648,I.MAX_VALUE=Number.MAX_SAFE_INTEGER;class F{constructor(o,u){o===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,u==null?this.bits=F.makeArray(o):this.bits=u)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>this.bits.length*32){const u=F.makeArray(o);E.arraycopy(this.bits,0,u,0,this.bits.length),this.bits=u}}get(o){return(this.bits[Math.floor(o/32)]&1<<(o&31))!==0}set(o){this.bits[Math.floor(o/32)]|=1<<(o&31)}flip(o){this.bits[Math.floor(o/32)]^=1<<(o&31)}getNextSet(o){const u=this.size;if(o>=u)return u;const p=this.bits;let y=Math.floor(o/32),x=p[y];x&=~((1<<(o&31))-1);const w=p.length;for(;x===0;){if(++y===w)return u;x=p[y]}const A=y*32+I.numberOfTrailingZeros(x);return A>u?u:A}getNextUnset(o){const u=this.size;if(o>=u)return u;const p=this.bits;let y=Math.floor(o/32),x=~p[y];x&=~((1<<(o&31))-1);const w=p.length;for(;x===0;){if(++y===w)return u;x=~p[y]}const A=y*32+I.numberOfTrailingZeros(x);return A>u?u:A}setBulk(o,u){this.bits[Math.floor(o/32)]=u}setRange(o,u){if(u<o||o<0||u>this.size)throw new v;if(u===o)return;u--;const p=Math.floor(o/32),y=Math.floor(u/32),x=this.bits;for(let w=p;w<=y;w++){const A=w>p?0:o&31,D=(2<<(w<y?31:u&31))-(1<<A);x[w]|=D}}clear(){const o=this.bits.length,u=this.bits;for(let p=0;p<o;p++)u[p]=0}isRange(o,u,p){if(u<o||o<0||u>this.size)throw new v;if(u===o)return!0;u--;const y=Math.floor(o/32),x=Math.floor(u/32),w=this.bits;for(let A=y;A<=x;A++){const k=A>y?0:o&31,V=(2<<(A<x?31:u&31))-(1<<k)&4294967295;if((w[A]&V)!==(p?V:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(o,u){if(u<0||u>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+u);for(let p=u;p>0;p--)this.appendBit((o>>p-1&1)===1)}appendBitArray(o){const u=o.size;this.ensureCapacity(this.size+u);for(let p=0;p<u;p++)this.appendBit(o.get(p))}xor(o){if(this.size!==o.size)throw new v("Sizes don't match");const u=this.bits;for(let p=0,y=u.length;p<y;p++)u[p]^=o.bits[p]}toBytes(o,u,p,y){for(let x=0;x<y;x++){let w=0;for(let A=0;A<8;A++)this.get(o)&&(w|=1<<7-A),o++;u[p+x]=w}}getBitArray(){return this.bits}reverse(){const o=new Int32Array(this.bits.length),u=Math.floor((this.size-1)/32),p=u+1,y=this.bits;for(let x=0;x<p;x++){let w=y[x];w=w>>1&1431655765|(w&1431655765)<<1,w=w>>2&858993459|(w&858993459)<<2,w=w>>4&252645135|(w&252645135)<<4,w=w>>8&16711935|(w&16711935)<<8,w=w>>16&65535|(w&65535)<<16,o[u-x]=w}if(this.size!==p*32){const x=p*32-this.size;let w=o[0]>>>x;for(let A=1;A<p;A++){const k=o[A];w|=k<<32-x,o[A-1]=w,w=k>>>x}o[p-1]=w}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){if(!(o instanceof F))return!1;const u=o;return this.size===u.size&&P.equals(this.bits,u.bits)}hashCode(){return 31*this.size+P.hashCode(this.bits)}toString(){let o="";for(let u=0,p=this.size;u<p;u++)(u&7)===0&&(o+=" "),o+=this.get(u)?"X":".";return o}clone(){return new F(this.size,this.bits.slice())}}var R;(function(K){K[K.OTHER=0]="OTHER",K[K.PURE_BARCODE=1]="PURE_BARCODE",K[K.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",K[K.TRY_HARDER=3]="TRY_HARDER",K[K.CHARACTER_SET=4]="CHARACTER_SET",K[K.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",K[K.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",K[K.ASSUME_GS1=7]="ASSUME_GS1",K[K.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",K[K.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",K[K.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(R||(R={}));var M=R;class B extends h{static getFormatInstance(){return new B}}B.kind="FormatException";var q;(function(K){K[K.Cp437=0]="Cp437",K[K.ISO8859_1=1]="ISO8859_1",K[K.ISO8859_2=2]="ISO8859_2",K[K.ISO8859_3=3]="ISO8859_3",K[K.ISO8859_4=4]="ISO8859_4",K[K.ISO8859_5=5]="ISO8859_5",K[K.ISO8859_6=6]="ISO8859_6",K[K.ISO8859_7=7]="ISO8859_7",K[K.ISO8859_8=8]="ISO8859_8",K[K.ISO8859_9=9]="ISO8859_9",K[K.ISO8859_10=10]="ISO8859_10",K[K.ISO8859_11=11]="ISO8859_11",K[K.ISO8859_13=12]="ISO8859_13",K[K.ISO8859_14=13]="ISO8859_14",K[K.ISO8859_15=14]="ISO8859_15",K[K.ISO8859_16=15]="ISO8859_16",K[K.SJIS=16]="SJIS",K[K.Cp1250=17]="Cp1250",K[K.Cp1251=18]="Cp1251",K[K.Cp1252=19]="Cp1252",K[K.Cp1256=20]="Cp1256",K[K.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",K[K.UTF8=22]="UTF8",K[K.ASCII=23]="ASCII",K[K.Big5=24]="Big5",K[K.GB18030=25]="GB18030",K[K.EUC_KR=26]="EUC_KR"})(q||(q={}));class U{constructor(o,u,p,...y){this.valueIdentifier=o,this.name=p,typeof u=="number"?this.values=Int32Array.from([u]):this.values=u,this.otherEncodingNames=y,U.VALUE_IDENTIFIER_TO_ECI.set(o,this),U.NAME_TO_ECI.set(p,this);const x=this.values;for(let w=0,A=x.length;w!==A;w++){const k=x[w];U.VALUES_TO_ECI.set(k,this)}for(const w of y)U.NAME_TO_ECI.set(w,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new B("incorect value");const u=U.VALUES_TO_ECI.get(o);if(u===void 0)throw new B("incorect value");return u}static getCharacterSetECIByName(o){const u=U.NAME_TO_ECI.get(o);if(u===void 0)throw new B("incorect value");return u}equals(o){if(!(o instanceof U))return!1;const u=o;return this.getName()===u.getName()}}U.VALUE_IDENTIFIER_TO_ECI=new Map,U.VALUES_TO_ECI=new Map,U.NAME_TO_ECI=new Map,U.Cp437=new U(q.Cp437,Int32Array.from([0,2]),"Cp437"),U.ISO8859_1=new U(q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),U.ISO8859_2=new U(q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),U.ISO8859_3=new U(q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),U.ISO8859_4=new U(q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),U.ISO8859_5=new U(q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),U.ISO8859_6=new U(q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),U.ISO8859_7=new U(q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),U.ISO8859_8=new U(q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),U.ISO8859_9=new U(q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),U.ISO8859_10=new U(q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),U.ISO8859_11=new U(q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),U.ISO8859_13=new U(q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),U.ISO8859_14=new U(q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),U.ISO8859_15=new U(q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),U.ISO8859_16=new U(q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),U.SJIS=new U(q.SJIS,20,"SJIS","Shift_JIS"),U.Cp1250=new U(q.Cp1250,21,"Cp1250","windows-1250"),U.Cp1251=new U(q.Cp1251,22,"Cp1251","windows-1251"),U.Cp1252=new U(q.Cp1252,23,"Cp1252","windows-1252"),U.Cp1256=new U(q.Cp1256,24,"Cp1256","windows-1256"),U.UnicodeBigUnmarked=new U(q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),U.UTF8=new U(q.UTF8,26,"UTF8","UTF-8"),U.ASCII=new U(q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),U.Big5=new U(q.Big5,28,"Big5"),U.GB18030=new U(q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),U.EUC_KR=new U(q.EUC_KR,30,"EUC_KR","EUC-KR");class z extends h{}z.kind="UnsupportedOperationException";class G{static decode(o,u){const p=this.encodingName(u);return this.customDecoder?this.customDecoder(o,p):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(p)?this.decodeFallback(o,p):new TextDecoder(p).decode(o)}static shouldDecodeOnFallback(o){return!G.isBrowser()&&o==="ISO-8859-1"}static encode(o,u){const p=this.encodingName(u);return this.customEncoder?this.customEncoder(o,p):typeof TextEncoder>"u"?this.encodeFallback(o):new TextEncoder().encode(o)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(o){return typeof o=="string"?o:o.getName()}static encodingCharacterSet(o){return o instanceof U?o:U.getCharacterSetECIByName(o)}static decodeFallback(o,u){const p=this.encodingCharacterSet(u);if(G.isDecodeFallbackSupported(p)){let y="";for(let x=0,w=o.length;x<w;x++){let A=o[x].toString(16);A.length<2&&(A="0"+A),y+="%"+A}return decodeURIComponent(y)}if(p.equals(U.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new z(`Encoding ${this.encodingName(u)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(U.UTF8)||o.equals(U.ISO8859_1)||o.equals(U.ASCII)}static encodeFallback(o){const p=btoa(unescape(encodeURIComponent(o))).split(""),y=[];for(let x=0;x<p.length;x++)y.push(p[x].charCodeAt(0));return new Uint8Array(y)}}class W{static castAsNonUtf8Char(o,u=null){const p=u?u.getName():this.ISO88591;return G.decode(new Uint8Array([o]),p)}static guessEncoding(o,u){if(u!=null&&u.get(M.CHARACTER_SET)!==void 0)return u.get(M.CHARACTER_SET).toString();const p=o.length;let y=!0,x=!0,w=!0,A=0,k=0,D=0,V=0,Y=0,ee=0,oe=0,pe=0,ge=0,xe=0,Ce=0;const Ze=o.length>3&&o[0]===239&&o[1]===187&&o[2]===191;for(let Qe=0;Qe<p&&(y||x||w);Qe++){const We=o[Qe]&255;w&&(A>0?(We&128)===0?w=!1:A--:(We&128)!==0&&((We&64)===0?w=!1:(A++,(We&32)===0?k++:(A++,(We&16)===0?D++:(A++,(We&8)===0?V++:w=!1))))),y&&(We>127&&We<160?y=!1:We>159&&(We<192||We===215||We===247)&&Ce++),x&&(Y>0?We<64||We===127||We>252?x=!1:Y--:We===128||We===160||We>239?x=!1:We>160&&We<224?(ee++,pe=0,oe++,oe>ge&&(ge=oe)):We>127?(Y++,oe=0,pe++,pe>xe&&(xe=pe)):(oe=0,pe=0))}return w&&A>0&&(w=!1),x&&Y>0&&(x=!1),w&&(Ze||k+D+V>0)?W.UTF8:x&&(W.ASSUME_SHIFT_JIS||ge>=3||xe>=3)?W.SHIFT_JIS:y&&x?ge===2&&ee===2||Ce*10>=p?W.SHIFT_JIS:W.ISO88591:y?W.ISO88591:x?W.SHIFT_JIS:w?W.UTF8:W.PLATFORM_DEFAULT_ENCODING}static format(o,...u){let p=-1;function y(w,A,k,D,V,Y){if(w==="%%")return"%";if(u[++p]===void 0)return;w=D?parseInt(D.substr(1)):void 0;let ee=V?parseInt(V.substr(1)):void 0,oe;switch(Y){case"s":oe=u[p];break;case"c":oe=u[p][0];break;case"f":oe=parseFloat(u[p]).toFixed(w);break;case"p":oe=parseFloat(u[p]).toPrecision(w);break;case"e":oe=parseFloat(u[p]).toExponential(w);break;case"x":oe=parseInt(u[p]).toString(ee||16);break;case"d":oe=parseFloat(parseInt(u[p],ee||10).toPrecision(w)).toFixed(0);break}oe=typeof oe=="object"?JSON.stringify(oe):(+oe).toString(ee);let pe=parseInt(k),ge=k&&k[0]+""=="0"?"0":" ";for(;oe.length<pe;)oe=A!==void 0?oe+ge:ge+oe;return oe}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(x,y)}static getBytes(o,u){return G.encode(o,u)}static getCharCode(o,u=0){return o.charCodeAt(u)}static getCharAt(o){return String.fromCharCode(o)}}W.SHIFT_JIS=U.SJIS.getName(),W.GB2312="GB2312",W.ISO88591=U.ISO8859_1.getName(),W.EUC_JP="EUC_JP",W.UTF8=U.UTF8.getName(),W.PLATFORM_DEFAULT_ENCODING=W.UTF8,W.ASSUME_SHIFT_JIS=!1;class H{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return typeof o=="string"?this.value+=o.toString():this.encoding?this.value+=W.castAsNonUtf8Char(o,this.encoding):this.value+=String.fromCharCode(o),this}appendChars(o,u,p){for(let y=u;u<u+p;y++)this.append(o[y]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,u){this.value=this.value.substr(0,o)+u+this.value.substr(o+1)}substring(o,u){return this.value.substring(o,u)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,u){this.value=this.value.substr(0,o)+u+this.value.substr(o+u.length)}}class Q{constructor(o,u,p,y){if(this.width=o,this.height=u,this.rowSize=p,this.bits=y,u==null&&(u=o),this.height=u,o<1||u<1)throw new v("Both dimensions must be greater than 0");p==null&&(p=Math.floor((o+31)/32)),this.rowSize=p,y==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){const u=o.length,p=o[0].length,y=new Q(p,u);for(let x=0;x<u;x++){const w=o[x];for(let A=0;A<p;A++)w[A]&&y.set(A,x)}return y}static parseFromString(o,u,p){if(o===null)throw new v("stringRepresentation cannot be null");const y=new Array(o.length);let x=0,w=0,A=-1,k=0,D=0;for(;D<o.length;)if(o.charAt(D)===`
`||o.charAt(D)==="\r"){if(x>w){if(A===-1)A=x-w;else if(x-w!==A)throw new v("row lengths do not match");w=x,k++}D++}else if(o.substring(D,D+u.length)===u)D+=u.length,y[x]=!0,x++;else if(o.substring(D,D+p.length)===p)D+=p.length,y[x]=!1,x++;else throw new v("illegal character encountered: "+o.substring(D));if(x>w){if(A===-1)A=x-w;else if(x-w!==A)throw new v("row lengths do not match");k++}const V=new Q(A,k);for(let Y=0;Y<x;Y++)y[Y]&&V.set(Math.floor(Y%A),Math.floor(Y/A));return V}get(o,u){const p=u*this.rowSize+Math.floor(o/32);return(this.bits[p]>>>(o&31)&1)!==0}set(o,u){const p=u*this.rowSize+Math.floor(o/32);this.bits[p]|=1<<(o&31)&4294967295}unset(o,u){const p=u*this.rowSize+Math.floor(o/32);this.bits[p]&=~(1<<(o&31)&4294967295)}flip(o,u){const p=u*this.rowSize+Math.floor(o/32);this.bits[p]^=1<<(o&31)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new v("input matrix dimensions do not match");const u=new F(Math.floor(this.width/32)+1),p=this.rowSize,y=this.bits;for(let x=0,w=this.height;x<w;x++){const A=x*p,k=o.getRow(x,u).getBitArray();for(let D=0;D<p;D++)y[A+D]^=k[D]}}clear(){const o=this.bits,u=o.length;for(let p=0;p<u;p++)o[p]=0}setRegion(o,u,p,y){if(u<0||o<0)throw new v("Left and top must be nonnegative");if(y<1||p<1)throw new v("Height and width must be at least 1");const x=o+p,w=u+y;if(w>this.height||x>this.width)throw new v("The region must fit inside the matrix");const A=this.rowSize,k=this.bits;for(let D=u;D<w;D++){const V=D*A;for(let Y=o;Y<x;Y++)k[V+Math.floor(Y/32)]|=1<<(Y&31)&4294967295}}getRow(o,u){u==null||u.getSize()<this.width?u=new F(this.width):u.clear();const p=this.rowSize,y=this.bits,x=o*p;for(let w=0;w<p;w++)u.setBulk(w*32,y[x+w]);return u}setRow(o,u){E.arraycopy(u.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){const o=this.getWidth(),u=this.getHeight();let p=new F(o),y=new F(o);for(let x=0,w=Math.floor((u+1)/2);x<w;x++)p=this.getRow(x,p),y=this.getRow(u-1-x,y),p.reverse(),y.reverse(),this.setRow(x,y),this.setRow(u-1-x,p)}getEnclosingRectangle(){const o=this.width,u=this.height,p=this.rowSize,y=this.bits;let x=o,w=u,A=-1,k=-1;for(let D=0;D<u;D++)for(let V=0;V<p;V++){const Y=y[D*p+V];if(Y!==0){if(D<w&&(w=D),D>k&&(k=D),V*32<x){let ee=0;for(;(Y<<31-ee&4294967295)===0;)ee++;V*32+ee<x&&(x=V*32+ee)}if(V*32+31>A){let ee=31;for(;!(Y>>>ee);)ee--;V*32+ee>A&&(A=V*32+ee)}}}return A<x||k<w?null:Int32Array.from([x,w,A-x+1,k-w+1])}getTopLeftOnBit(){const o=this.rowSize,u=this.bits;let p=0;for(;p<u.length&&u[p]===0;)p++;if(p===u.length)return null;const y=p/o;let x=p%o*32;const w=u[p];let A=0;for(;(w<<31-A&4294967295)===0;)A++;return x+=A,Int32Array.from([x,y])}getBottomRightOnBit(){const o=this.rowSize,u=this.bits;let p=u.length-1;for(;p>=0&&u[p]===0;)p--;if(p<0)return null;const y=Math.floor(p/o);let x=Math.floor(p%o)*32;const w=u[p];let A=31;for(;!(w>>>A);)A--;return x+=A,Int32Array.from([x,y])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){if(!(o instanceof Q))return!1;const u=o;return this.width===u.width&&this.height===u.height&&this.rowSize===u.rowSize&&P.equals(this.bits,u.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+P.hashCode(this.bits),o}toString(o="X ",u="  ",p=`
`){return this.buildToString(o,u,p)}buildToString(o,u,p){let y=new H;for(let x=0,w=this.height;x<w;x++){for(let A=0,k=this.width;A<k;A++)y.append(this.get(A,x)?o:u);y.append(p)}return y.toString()}clone(){return new Q(this.width,this.height,this.rowSize,this.bits.slice())}}class X extends h{static getNotFoundInstance(){return new X}}X.kind="NotFoundException";class se extends O{constructor(o){super(o),this.luminances=se.EMPTY,this.buckets=new Int32Array(se.LUMINANCE_BUCKETS)}getBlackRow(o,u){const p=this.getLuminanceSource(),y=p.getWidth();u==null||u.getSize()<y?u=new F(y):u.clear(),this.initArrays(y);const x=p.getRow(o,this.luminances),w=this.buckets;for(let k=0;k<y;k++)w[(x[k]&255)>>se.LUMINANCE_SHIFT]++;const A=se.estimateBlackPoint(w);if(y<3)for(let k=0;k<y;k++)(x[k]&255)<A&&u.set(k);else{let k=x[0]&255,D=x[1]&255;for(let V=1;V<y-1;V++){const Y=x[V+1]&255;(D*4-k-Y)/2<A&&u.set(V),k=D,D=Y}}return u}getBlackMatrix(){const o=this.getLuminanceSource(),u=o.getWidth(),p=o.getHeight(),y=new Q(u,p);this.initArrays(u);const x=this.buckets;for(let k=1;k<5;k++){const D=Math.floor(p*k/5),V=o.getRow(D,this.luminances),Y=Math.floor(u*4/5);for(let ee=Math.floor(u/5);ee<Y;ee++){const oe=V[ee]&255;x[oe>>se.LUMINANCE_SHIFT]++}}const w=se.estimateBlackPoint(x),A=o.getMatrix();for(let k=0;k<p;k++){const D=k*u;for(let V=0;V<u;V++)(A[D+V]&255)<w&&y.set(V,k)}return y}createBinarizer(o){return new se(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));const u=this.buckets;for(let p=0;p<se.LUMINANCE_BUCKETS;p++)u[p]=0}static estimateBlackPoint(o){const u=o.length;let p=0,y=0,x=0;for(let V=0;V<u;V++)o[V]>x&&(y=V,x=o[V]),o[V]>p&&(p=o[V]);let w=0,A=0;for(let V=0;V<u;V++){const Y=V-y,ee=o[V]*Y*Y;ee>A&&(w=V,A=ee)}if(y>w){const V=y;y=w,w=V}if(w-y<=u/16)throw new X;let k=w-1,D=-1;for(let V=w-1;V>y;V--){const Y=V-y,ee=Y*Y*(w-V)*(p-o[V]);ee>D&&(k=V,D=ee)}return k<<se.LUMINANCE_SHIFT}}se.LUMINANCE_BITS=5,se.LUMINANCE_SHIFT=8-se.LUMINANCE_BITS,se.LUMINANCE_BUCKETS=1<<se.LUMINANCE_BITS,se.EMPTY=Uint8ClampedArray.from([0]);class ne extends se{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const o=this.getLuminanceSource(),u=o.getWidth(),p=o.getHeight();if(u>=ne.MINIMUM_DIMENSION&&p>=ne.MINIMUM_DIMENSION){const y=o.getMatrix();let x=u>>ne.BLOCK_SIZE_POWER;(u&ne.BLOCK_SIZE_MASK)!==0&&x++;let w=p>>ne.BLOCK_SIZE_POWER;(p&ne.BLOCK_SIZE_MASK)!==0&&w++;const A=ne.calculateBlackPoints(y,x,w,u,p),k=new Q(u,p);ne.calculateThresholdForBlock(y,x,w,u,p,A,k),this.matrix=k}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new ne(o)}static calculateThresholdForBlock(o,u,p,y,x,w,A){const k=x-ne.BLOCK_SIZE,D=y-ne.BLOCK_SIZE;for(let V=0;V<p;V++){let Y=V<<ne.BLOCK_SIZE_POWER;Y>k&&(Y=k);const ee=ne.cap(V,2,p-3);for(let oe=0;oe<u;oe++){let pe=oe<<ne.BLOCK_SIZE_POWER;pe>D&&(pe=D);const ge=ne.cap(oe,2,u-3);let xe=0;for(let Ze=-2;Ze<=2;Ze++){const Qe=w[ee+Ze];xe+=Qe[ge-2]+Qe[ge-1]+Qe[ge]+Qe[ge+1]+Qe[ge+2]}const Ce=xe/25;ne.thresholdBlock(o,pe,Y,Ce,y,A)}}}static cap(o,u,p){return o<u?u:o>p?p:o}static thresholdBlock(o,u,p,y,x,w){for(let A=0,k=p*x+u;A<ne.BLOCK_SIZE;A++,k+=x)for(let D=0;D<ne.BLOCK_SIZE;D++)(o[k+D]&255)<=y&&w.set(u+D,p+A)}static calculateBlackPoints(o,u,p,y,x){const w=x-ne.BLOCK_SIZE,A=y-ne.BLOCK_SIZE,k=new Array(p);for(let D=0;D<p;D++){k[D]=new Int32Array(u);let V=D<<ne.BLOCK_SIZE_POWER;V>w&&(V=w);for(let Y=0;Y<u;Y++){let ee=Y<<ne.BLOCK_SIZE_POWER;ee>A&&(ee=A);let oe=0,pe=255,ge=0;for(let Ce=0,Ze=V*y+ee;Ce<ne.BLOCK_SIZE;Ce++,Ze+=y){for(let Qe=0;Qe<ne.BLOCK_SIZE;Qe++){const We=o[Ze+Qe]&255;oe+=We,We<pe&&(pe=We),We>ge&&(ge=We)}if(ge-pe>ne.MIN_DYNAMIC_RANGE)for(Ce++,Ze+=y;Ce<ne.BLOCK_SIZE;Ce++,Ze+=y)for(let Qe=0;Qe<ne.BLOCK_SIZE;Qe++)oe+=o[Ze+Qe]&255}let xe=oe>>ne.BLOCK_SIZE_POWER*2;if(ge-pe<=ne.MIN_DYNAMIC_RANGE&&(xe=pe/2,D>0&&Y>0)){const Ce=(k[D-1][Y]+2*k[D][Y-1]+k[D-1][Y-1])/4;pe<Ce&&(xe=Ce)}k[D][Y]=xe}}return k}}ne.BLOCK_SIZE_POWER=3,ne.BLOCK_SIZE=1<<ne.BLOCK_SIZE_POWER,ne.BLOCK_SIZE_MASK=ne.BLOCK_SIZE-1,ne.MINIMUM_DIMENSION=ne.BLOCK_SIZE*5,ne.MIN_DYNAMIC_RANGE=24;class re{constructor(o,u){this.width=o,this.height=u}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,u,p,y){throw new z("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new z("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new z("This luminance source does not support rotation by 45 degrees.")}toString(){const o=new Uint8ClampedArray(this.width);let u=new H;for(let p=0;p<this.height;p++){const y=this.getRow(p,o);for(let x=0;x<this.width;x++){const w=y[x]&255;let A;w<64?A="#":w<128?A="+":w<192?A=".":A=" ",u.append(A)}u.append(`
`)}return u.toString()}}class J extends re{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,u){const p=this.delegate.getRow(o,u),y=this.getWidth();for(let x=0;x<y;x++)p[x]=255-(p[x]&255);return p}getMatrix(){const o=this.delegate.getMatrix(),u=this.getWidth()*this.getHeight(),p=new Uint8ClampedArray(u);for(let y=0;y<u;y++)p[y]=255-(o[y]&255);return p}isCropSupported(){return this.delegate.isCropSupported()}crop(o,u,p,y){return new J(this.delegate.crop(o,u,p,y))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new J(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new J(this.delegate.rotateCounterClockwise45())}}class he extends re{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=he.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){const u=o.getContext("2d").getImageData(0,0,o.width,o.height);return he.toGrayscaleBuffer(u.data,o.width,o.height)}static toGrayscaleBuffer(o,u,p){const y=new Uint8ClampedArray(u*p);for(let x=0,w=0,A=o.length;x<A;x+=4,w++){let k;if(o[x+3]===0)k=255;else{const V=o[x],Y=o[x+1],ee=o[x+2];k=306*V+601*Y+117*ee+512>>10}y[w]=k}return y}getRow(o,u){if(o<0||o>=this.getHeight())throw new v("Requested row is outside the image: "+o);const p=this.getWidth(),y=o*p;return u===null?u=this.buffer.slice(y,y+p):(u.length<p&&(u=new Uint8ClampedArray(p)),u.set(this.buffer.slice(y,y+p))),u}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,u,p,y){return super.crop(o,u,p,y),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){const u=this.getTempCanvasElement(),p=u.getContext("2d"),y=o*he.DEGREE_TO_RADIANS,x=this.canvas.width,w=this.canvas.height,A=Math.ceil(Math.abs(Math.cos(y))*x+Math.abs(Math.sin(y))*w),k=Math.ceil(Math.abs(Math.sin(y))*x+Math.abs(Math.cos(y))*w);return u.width=A,u.height=k,p.translate(A/2,k/2),p.rotate(y),p.drawImage(this.canvas,x/-2,w/-2),this.buffer=he.makeBufferFromCanvasImageData(u),this}invert(){return new J(this)}}he.DEGREE_TO_RADIANS=Math.PI/180;class ie{constructor(o,u,p){this.deviceId=o,this.label=u,this.kind="videoinput",this.groupId=p||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var le=(globalThis||Xl||self||window||void 0)&&(globalThis||Xl||self||window||void 0).__awaiter||function(K,o,u,p){function y(x){return x instanceof u?x:new u(function(w){w(x)})}return new(u||(u=Promise))(function(x,w){function A(V){try{D(p.next(V))}catch(Y){w(Y)}}function k(V){try{D(p.throw(V))}catch(Y){w(Y)}}function D(V){V.done?x(V.value):y(V.value).then(A,k)}D((p=p.apply(K,o||[])).next())})};class we{constructor(o,u=500,p){this.reader=o,this.timeBetweenScansMillis=u,this._hints=p,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return le(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const o=yield navigator.mediaDevices.enumerateDevices(),u=[];for(const p of o){const y=p.kind==="video"?"videoinput":p.kind;if(y!=="videoinput")continue;const x=p.deviceId||p.id,w=p.label||`Video device ${u.length+1}`,A=p.groupId,k={deviceId:x,label:w,kind:y,groupId:A};u.push(k)}return u})}getVideoInputDevices(){return le(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(u=>new ie(u.deviceId,u.label))})}findDeviceById(o){return le(this,void 0,void 0,function*(){const u=yield this.listVideoInputDevices();return u?u.find(p=>p.deviceId===o):null})}decodeFromInputVideoDevice(o,u){return le(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,u)})}decodeOnceFromVideoDevice(o,u){return le(this,void 0,void 0,function*(){this.reset();let p;o?p={deviceId:{exact:o}}:p={facingMode:"environment"};const y={video:p};return yield this.decodeOnceFromConstraints(y,u)})}decodeOnceFromConstraints(o,u){return le(this,void 0,void 0,function*(){const p=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(p,u)})}decodeOnceFromStream(o,u){return le(this,void 0,void 0,function*(){this.reset();const p=yield this.attachStreamToVideo(o,u);return yield this.decodeOnce(p)})}decodeFromInputVideoDeviceContinuously(o,u,p){return le(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,u,p)})}decodeFromVideoDevice(o,u,p){return le(this,void 0,void 0,function*(){let y;o?y={deviceId:{exact:o}}:y={facingMode:"environment"};const x={video:y};return yield this.decodeFromConstraints(x,u,p)})}decodeFromConstraints(o,u,p){return le(this,void 0,void 0,function*(){const y=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(y,u,p)})}decodeFromStream(o,u,p){return le(this,void 0,void 0,function*(){this.reset();const y=yield this.attachStreamToVideo(o,u);return yield this.decodeContinuously(y,p)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,u){return le(this,void 0,void 0,function*(){const p=this.prepareVideoElement(u);return this.addVideoSource(p,o),this.videoElement=p,this.stream=o,yield this.playVideoOnLoadAsync(p),p})}playVideoOnLoadAsync(o){return new Promise((u,p)=>this.playVideoOnLoad(o,()=>u()))}playVideoOnLoad(o,u){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",u),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return le(this,void 0,void 0,function*(){if(this.isVideoPlaying(o)){console.warn("Trying to play video that is already playing.");return}try{yield o.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(o,u){const p=document.getElementById(o);if(!p)throw new g(`element with id '${o}' not found`);if(p.nodeName.toLowerCase()!==u.toLowerCase())throw new g(`element with id '${o}' must be an ${u} element`);return p}decodeFromImage(o,u){if(!o&&!u)throw new g("either imageElement with a src set or an url must be provided");return u&&!o?this.decodeFromImageUrl(u):this.decodeFromImageElement(o)}decodeFromVideo(o,u){if(!o&&!u)throw new g("Either an element with a src set or an URL must be provided");return u&&!o?this.decodeFromVideoUrl(u):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,u,p){if(o===void 0&&u===void 0)throw new g("Either an element with a src set or an URL must be provided");return u&&!o?this.decodeFromVideoUrlContinuously(u,p):this.decodeFromVideoElementContinuously(o,p)}decodeFromImageElement(o){if(!o)throw new g("An image element must be provided.");this.reset();const u=this.prepareImageElement(o);this.imageElement=u;let p;return this.isImageLoaded(u)?p=this.decodeOnce(u,!1,!0):p=this._decodeOnLoadImage(u),p}decodeFromVideoElement(o){const u=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(u)}decodeFromVideoElementContinuously(o,u){const p=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(p,u)}_decodeFromVideoElementSetup(o){if(!o)throw new g("A video element must be provided.");this.reset();const u=this.prepareVideoElement(o);return this.videoElement=u,u}decodeFromImageUrl(o){if(!o)throw new g("An URL must be provided.");this.reset();const u=this.prepareImageElement();this.imageElement=u;const p=this._decodeOnLoadImage(u);return u.src=o,p}decodeFromVideoUrl(o){if(!o)throw new g("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),p=this.decodeFromVideoElement(u);return u.src=o,p}decodeFromVideoUrlContinuously(o,u){if(!o)throw new g("An URL must be provided.");this.reset();const p=this.prepareVideoElement(),y=this.decodeFromVideoElementContinuously(p,u);return p.src=o,y}_decodeOnLoadImage(o){return new Promise((u,p)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(u,p),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return le(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,u){return le(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,u)})}isImageLoaded(o){return!(!o.complete||o.naturalWidth===0)}prepareImageElement(o){let u;return typeof o>"u"&&(u=document.createElement("img"),u.width=200,u.height=200),typeof o=="string"&&(u=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(u=o),u}prepareVideoElement(o){let u;return!o&&typeof document<"u"&&(u=document.createElement("video"),u.width=200,u.height=200),typeof o=="string"&&(u=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(u=o),u.setAttribute("autoplay","true"),u.setAttribute("muted","true"),u.setAttribute("playsinline","true"),u}decodeOnce(o,u=!0,p=!0){this._stopAsyncDecode=!1;const y=(x,w)=>{if(this._stopAsyncDecode){w(new X("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const A=this.decode(o);x(A)}catch(A){const k=u&&A instanceof X,V=(A instanceof S||A instanceof B)&&p;if(k||V)return setTimeout(y,this._timeBetweenDecodingAttempts,x,w);w(A)}};return new Promise((x,w)=>y(x,w))}decodeContinuously(o,u){this._stopContinuousDecode=!1;const p=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const y=this.decode(o);u(y,null),setTimeout(p,this.timeBetweenScansMillis)}catch(y){u(null,y);const x=y instanceof S||y instanceof B,w=y instanceof X;(x||w)&&setTimeout(p,this._timeBetweenDecodingAttempts)}};p()}decode(o){const u=this.createBinaryBitmap(o);return this.decodeBitmap(u)}_isHTMLVideoElement(o){return o.videoWidth!==0}drawFrameOnCanvas(o,u,p){u||(u={sx:0,sy:0,sWidth:o.videoWidth,sHeight:o.videoHeight,dx:0,dy:0,dWidth:o.videoWidth,dHeight:o.videoHeight}),p||(p=this.captureCanvasContext),p.drawImage(o,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}drawImageOnCanvas(o,u,p=this.captureCanvasContext){u||(u={sx:0,sy:0,sWidth:o.naturalWidth,sHeight:o.naturalHeight,dx:0,dy:0,dWidth:o.naturalWidth,dHeight:o.naturalHeight}),p||(p=this.captureCanvasContext),p.drawImage(o,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}createBinaryBitmap(o){this.getCaptureCanvasContext(o),this._isHTMLVideoElement(o)?this.drawFrameOnCanvas(o):this.drawImageOnCanvas(o);const u=this.getCaptureCanvas(o),p=new he(u),y=new ne(p);return new b(y)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){const p=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=p}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){const u=this.createCaptureCanvas(o);this.captureCanvas=u}return this.captureCanvas}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const u=document.createElement("canvas");let p,y;return typeof o<"u"&&(o instanceof HTMLVideoElement?(p=o.videoWidth,y=o.videoHeight):o instanceof HTMLImageElement&&(p=o.naturalWidth||o.width,y=o.naturalHeight||o.height)),u.style.width=p+"px",u.style.height=y+"px",u.width=p,u.height=y,u}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,u){try{o.srcObject=u}catch{o.src=URL.createObjectURL(u)}}cleanVideoSource(o){try{o.srcObject=null}catch{o.src=""}this.videoElement.removeAttribute("src")}}class ke{constructor(o,u,p=u==null?0:8*u.length,y,x,w=E.currentTimeMillis()){this.text=o,this.rawBytes=u,this.numBits=p,this.resultPoints=y,this.format=x,this.timestamp=w,this.text=o,this.rawBytes=u,p==null?this.numBits=u==null?0:8*u.length:this.numBits=p,this.resultPoints=y,this.format=x,this.resultMetadata=null,w==null?this.timestamp=E.currentTimeMillis():this.timestamp=w}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,u){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(o,u)}putAllMetadata(o){o!==null&&(this.resultMetadata===null?this.resultMetadata=o:this.resultMetadata=new Map(o))}addResultPoints(o){const u=this.resultPoints;if(u===null)this.resultPoints=o;else if(o!==null&&o.length>0){const p=new Array(u.length+o.length);E.arraycopy(u,0,p,0,u.length),E.arraycopy(o,0,p,u.length,o.length),this.resultPoints=p}}getTimestamp(){return this.timestamp}toString(){return this.text}}var qe;(function(K){K[K.AZTEC=0]="AZTEC",K[K.CODABAR=1]="CODABAR",K[K.CODE_39=2]="CODE_39",K[K.CODE_93=3]="CODE_93",K[K.CODE_128=4]="CODE_128",K[K.DATA_MATRIX=5]="DATA_MATRIX",K[K.EAN_8=6]="EAN_8",K[K.EAN_13=7]="EAN_13",K[K.ITF=8]="ITF",K[K.MAXICODE=9]="MAXICODE",K[K.PDF_417=10]="PDF_417",K[K.QR_CODE=11]="QR_CODE",K[K.RSS_14=12]="RSS_14",K[K.RSS_EXPANDED=13]="RSS_EXPANDED",K[K.UPC_A=14]="UPC_A",K[K.UPC_E=15]="UPC_E",K[K.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(qe||(qe={}));var je=qe,Te;(function(K){K[K.OTHER=0]="OTHER",K[K.ORIENTATION=1]="ORIENTATION",K[K.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",K[K.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",K[K.ISSUE_NUMBER=4]="ISSUE_NUMBER",K[K.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",K[K.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",K[K.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",K[K.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",K[K.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",K[K.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Te||(Te={}));var De=Te;class Ne{constructor(o,u,p,y,x=-1,w=-1){this.rawBytes=o,this.text=u,this.byteSegments=p,this.ecLevel=y,this.structuredAppendSequenceNumber=x,this.structuredAppendParity=w,this.numBits=o==null?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Le{exp(o){return this.expTable[o]}log(o){if(o===0)throw new v;return this.logTable[o]}static addOrSubtract(o,u){return o^u}}class ue{constructor(o,u){if(u.length===0)throw new v;this.field=o;const p=u.length;if(p>1&&u[0]===0){let y=1;for(;y<p&&u[y]===0;)y++;y===p?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(p-y),E.arraycopy(u,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);const u=this.coefficients;let p;if(o===1){p=0;for(let w=0,A=u.length;w!==A;w++){const k=u[w];p=Le.addOrSubtract(p,k)}return p}p=u[0];const y=u.length,x=this.field;for(let w=1;w<y;w++)p=Le.addOrSubtract(x.multiply(o,p),u[w]);return p}addOrSubtract(o){if(!this.field.equals(o.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let u=this.coefficients,p=o.coefficients;if(u.length>p.length){const w=u;u=p,p=w}let y=new Int32Array(p.length);const x=p.length-u.length;E.arraycopy(p,0,y,0,x);for(let w=x;w<p.length;w++)y[w]=Le.addOrSubtract(u[w-x],p[w]);return new ue(this.field,y)}multiply(o){if(!this.field.equals(o.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();const u=this.coefficients,p=u.length,y=o.coefficients,x=y.length,w=new Int32Array(p+x-1),A=this.field;for(let k=0;k<p;k++){const D=u[k];for(let V=0;V<x;V++)w[k+V]=Le.addOrSubtract(w[k+V],A.multiply(D,y[V]))}return new ue(A,w)}multiplyScalar(o){if(o===0)return this.field.getZero();if(o===1)return this;const u=this.coefficients.length,p=this.field,y=new Int32Array(u),x=this.coefficients;for(let w=0;w<u;w++)y[w]=p.multiply(x[w],o);return new ue(p,y)}multiplyByMonomial(o,u){if(o<0)throw new v;if(u===0)return this.field.getZero();const p=this.coefficients,y=p.length,x=new Int32Array(y+o),w=this.field;for(let A=0;A<y;A++)x[A]=w.multiply(p[A],u);return new ue(w,x)}divide(o){if(!this.field.equals(o.field))throw new v("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new v("Divide by 0");const u=this.field;let p=u.getZero(),y=this;const x=o.getCoefficient(o.getDegree()),w=u.inverse(x);for(;y.getDegree()>=o.getDegree()&&!y.isZero();){const A=y.getDegree()-o.getDegree(),k=u.multiply(y.getCoefficient(y.getDegree()),w),D=o.multiplyByMonomial(A,k),V=u.buildMonomial(A,k);p=p.addOrSubtract(V),y=y.addOrSubtract(D)}return[p,y]}toString(){let o="";for(let u=this.getDegree();u>=0;u--){let p=this.getCoefficient(u);if(p!==0){if(p<0?(o+=" - ",p=-p):o.length>0&&(o+=" + "),u===0||p!==1){const y=this.field.log(p);y===0?o+="1":y===1?o+="a":(o+="a^",o+=y)}u!==0&&(u===1?o+="x":(o+="x^",o+=u))}}return o}}class ve extends h{}ve.kind="ArithmeticException";class Ue extends Le{constructor(o,u,p){super(),this.primitive=o,this.size=u,this.generatorBase=p;const y=new Int32Array(u);let x=1;for(let A=0;A<u;A++)y[A]=x,x*=2,x>=u&&(x^=o,x&=u-1);this.expTable=y;const w=new Int32Array(u);for(let A=0;A<u-1;A++)w[y[A]]=A;this.logTable=w,this.zero=new ue(this,Int32Array.from([0])),this.one=new ue(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,u){if(o<0)throw new v;if(u===0)return this.zero;const p=new Int32Array(o+1);return p[0]=u,new ue(this,p)}inverse(o){if(o===0)throw new ve;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,u){return o===0||u===0?0:this.expTable[(this.logTable[o]+this.logTable[u])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+I.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}Ue.AZTEC_DATA_12=new Ue(4201,4096,1),Ue.AZTEC_DATA_10=new Ue(1033,1024,1),Ue.AZTEC_DATA_6=new Ue(67,64,1),Ue.AZTEC_PARAM=new Ue(19,16,1),Ue.QR_CODE_FIELD_256=new Ue(285,256,0),Ue.DATA_MATRIX_FIELD_256=new Ue(301,256,1),Ue.AZTEC_DATA_8=Ue.DATA_MATRIX_FIELD_256,Ue.MAXICODE_FIELD_64=Ue.AZTEC_DATA_6;class Ie extends h{}Ie.kind="ReedSolomonException";class Ge extends h{}Ge.kind="IllegalStateException";class ct{constructor(o){this.field=o}decode(o,u){const p=this.field,y=new ue(p,o),x=new Int32Array(u);let w=!0;for(let oe=0;oe<u;oe++){const pe=y.evaluateAt(p.exp(oe+p.getGeneratorBase()));x[x.length-1-oe]=pe,pe!==0&&(w=!1)}if(w)return;const A=new ue(p,x),k=this.runEuclideanAlgorithm(p.buildMonomial(u,1),A,u),D=k[0],V=k[1],Y=this.findErrorLocations(D),ee=this.findErrorMagnitudes(V,Y);for(let oe=0;oe<Y.length;oe++){const pe=o.length-1-p.log(Y[oe]);if(pe<0)throw new Ie("Bad error location");o[pe]=Ue.addOrSubtract(o[pe],ee[oe])}}runEuclideanAlgorithm(o,u,p){if(o.getDegree()<u.getDegree()){const oe=o;o=u,u=oe}const y=this.field;let x=o,w=u,A=y.getZero(),k=y.getOne();for(;w.getDegree()>=(p/2|0);){let oe=x,pe=A;if(x=w,A=k,x.isZero())throw new Ie("r_{i-1} was zero");w=oe;let ge=y.getZero();const xe=x.getCoefficient(x.getDegree()),Ce=y.inverse(xe);for(;w.getDegree()>=x.getDegree()&&!w.isZero();){const Ze=w.getDegree()-x.getDegree(),Qe=y.multiply(w.getCoefficient(w.getDegree()),Ce);ge=ge.addOrSubtract(y.buildMonomial(Ze,Qe)),w=w.addOrSubtract(x.multiplyByMonomial(Ze,Qe))}if(k=ge.multiply(A).addOrSubtract(pe),w.getDegree()>=x.getDegree())throw new Ge("Division algorithm failed to reduce polynomial?")}const D=k.getCoefficient(0);if(D===0)throw new Ie("sigmaTilde(0) was zero");const V=y.inverse(D),Y=k.multiplyScalar(V),ee=w.multiplyScalar(V);return[Y,ee]}findErrorLocations(o){const u=o.getDegree();if(u===1)return Int32Array.from([o.getCoefficient(1)]);const p=new Int32Array(u);let y=0;const x=this.field;for(let w=1;w<x.getSize()&&y<u;w++)o.evaluateAt(w)===0&&(p[y]=x.inverse(w),y++);if(y!==u)throw new Ie("Error locator degree does not match number of roots");return p}findErrorMagnitudes(o,u){const p=u.length,y=new Int32Array(p),x=this.field;for(let w=0;w<p;w++){const A=x.inverse(u[w]);let k=1;for(let D=0;D<p;D++)if(w!==D){const V=x.multiply(u[D],A),Y=(V&1)===0?V|1:V&-2;k=x.multiply(k,Y)}y[w]=x.multiply(o.evaluateAt(A),x.inverse(k)),x.getGeneratorBase()!==0&&(y[w]=x.multiply(y[w],A))}return y}}var et;(function(K){K[K.UPPER=0]="UPPER",K[K.LOWER=1]="LOWER",K[K.MIXED=2]="MIXED",K[K.DIGIT=3]="DIGIT",K[K.PUNCT=4]="PUNCT",K[K.BINARY=5]="BINARY"})(et||(et={}));class ot{decode(o){this.ddata=o;let u=o.getBits(),p=this.extractBits(u),y=this.correctBits(p),x=ot.convertBoolArrayToByteArray(y),w=ot.getEncodedData(y),A=new Ne(x,w,null,null);return A.setNumBits(y.length),A}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let u=o.length,p=et.UPPER,y=et.UPPER,x="",w=0;for(;w<u;)if(y===et.BINARY){if(u-w<5)break;let A=ot.readCode(o,w,5);if(w+=5,A===0){if(u-w<11)break;A=ot.readCode(o,w,11)+31,w+=11}for(let k=0;k<A;k++){if(u-w<8){w=u;break}const D=ot.readCode(o,w,8);x+=W.castAsNonUtf8Char(D),w+=8}y=p}else{let A=y===et.DIGIT?4:5;if(u-w<A)break;let k=ot.readCode(o,w,A);w+=A;let D=ot.getCharacter(y,k);D.startsWith("CTRL_")?(p=y,y=ot.getTable(D.charAt(5)),D.charAt(6)==="L"&&(p=y)):(x+=D,y=p)}return x}static getTable(o){switch(o){case"L":return et.LOWER;case"P":return et.PUNCT;case"M":return et.MIXED;case"D":return et.DIGIT;case"B":return et.BINARY;case"U":default:return et.UPPER}}static getCharacter(o,u){switch(o){case et.UPPER:return ot.UPPER_TABLE[u];case et.LOWER:return ot.LOWER_TABLE[u];case et.MIXED:return ot.MIXED_TABLE[u];case et.PUNCT:return ot.PUNCT_TABLE[u];case et.DIGIT:return ot.DIGIT_TABLE[u];default:throw new Ge("Bad table")}}correctBits(o){let u,p;this.ddata.getNbLayers()<=2?(p=6,u=Ue.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(p=8,u=Ue.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(p=10,u=Ue.AZTEC_DATA_10):(p=12,u=Ue.AZTEC_DATA_12);let y=this.ddata.getNbDatablocks(),x=o.length/p;if(x<y)throw new B;let w=o.length%p,A=new Int32Array(x);for(let ee=0;ee<x;ee++,w+=p)A[ee]=ot.readCode(o,w,p);try{new ct(u).decode(A,x-y)}catch(ee){throw new B(ee)}let k=(1<<p)-1,D=0;for(let ee=0;ee<y;ee++){let oe=A[ee];if(oe===0||oe===k)throw new B;(oe===1||oe===k-1)&&D++}let V=new Array(y*p-D),Y=0;for(let ee=0;ee<y;ee++){let oe=A[ee];if(oe===1||oe===k-1)V.fill(oe>1,Y,Y+p-1),Y+=p-1;else for(let pe=p-1;pe>=0;--pe)V[Y++]=(oe&1<<pe)!==0}return V}extractBits(o){let u=this.ddata.isCompact(),p=this.ddata.getNbLayers(),y=(u?11:14)+p*4,x=new Int32Array(y),w=new Array(this.totalBitsInLayer(p,u));if(u)for(let A=0;A<x.length;A++)x[A]=A;else{let A=y+1+2*I.truncDivision(I.truncDivision(y,2)-1,15),k=y/2,D=I.truncDivision(A,2);for(let V=0;V<k;V++){let Y=V+I.truncDivision(V,15);x[k-V-1]=D-Y-1,x[k+V]=D+Y+1}}for(let A=0,k=0;A<p;A++){let D=(p-A)*4+(u?9:12),V=A*2,Y=y-1-V;for(let ee=0;ee<D;ee++){let oe=ee*2;for(let pe=0;pe<2;pe++)w[k+oe+pe]=o.get(x[V+pe],x[V+ee]),w[k+2*D+oe+pe]=o.get(x[V+ee],x[Y-pe]),w[k+4*D+oe+pe]=o.get(x[Y-pe],x[Y-ee]),w[k+6*D+oe+pe]=o.get(x[Y-ee],x[V+pe])}k+=D*8}return w}static readCode(o,u,p){let y=0;for(let x=u;x<u+p;x++)y<<=1,o[x]&&(y|=1);return y}static readByte(o,u){let p=o.length-u;return p>=8?ot.readCode(o,u,8):ot.readCode(o,u,p)<<8-p}static convertBoolArrayToByteArray(o){let u=new Uint8Array((o.length+7)/8);for(let p=0;p<u.length;p++)u[p]=ot.readByte(o,8*p);return u}totalBitsInLayer(o,u){return((u?88:112)+16*o)*o}}ot.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ot.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ot.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ot.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ot.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class at{constructor(){}static round(o){return o===NaN?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,u,p,y){const x=o-p,w=u-y;return Math.sqrt(x*x+w*w)}static sum(o){let u=0;for(let p=0,y=o.length;p!==y;p++){const x=o[p];u+=x}return u}}class de{static floatToIntBits(o){return o}}de.MAX_VALUE=Number.MAX_SAFE_INTEGER;class fe{constructor(o,u){this.x=o,this.y=u}getX(){return this.x}getY(){return this.y}equals(o){if(o instanceof fe){const u=o;return this.x===u.x&&this.y===u.y}return!1}hashCode(){return 31*de.floatToIntBits(this.x)+de.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){const u=this.distance(o[0],o[1]),p=this.distance(o[1],o[2]),y=this.distance(o[0],o[2]);let x,w,A;if(p>=u&&p>=y?(w=o[0],x=o[1],A=o[2]):y>=p&&y>=u?(w=o[1],x=o[0],A=o[2]):(w=o[2],x=o[0],A=o[1]),this.crossProductZ(x,w,A)<0){const k=x;x=A,A=k}o[0]=x,o[1]=w,o[2]=A}static distance(o,u){return at.distance(o.x,o.y,u.x,u.y)}static crossProductZ(o,u,p){const y=u.x,x=u.y;return(p.x-y)*(o.y-x)-(p.y-x)*(o.x-y)}}class Ee{constructor(o,u){this.bits=o,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class Xe extends Ee{constructor(o,u,p,y,x){super(o,u),this.compact=p,this.nbDatablocks=y,this.nbLayers=x}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Fe{constructor(o,u,p,y){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),u==null&&(u=Fe.INIT_SIZE),p==null&&(p=o.getWidth()/2|0),y==null&&(y=o.getHeight()/2|0);const x=u/2|0;if(this.leftInit=p-x,this.rightInit=p+x,this.upInit=y-x,this.downInit=y+x,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new X}detect(){let o=this.leftInit,u=this.rightInit,p=this.upInit,y=this.downInit,x=!1,w=!0,A=!1,k=!1,D=!1,V=!1,Y=!1;const ee=this.width,oe=this.height;for(;w;){w=!1;let pe=!0;for(;(pe||!k)&&u<ee;)pe=this.containsBlackPoint(p,y,u,!1),pe?(u++,w=!0,k=!0):k||u++;if(u>=ee){x=!0;break}let ge=!0;for(;(ge||!D)&&y<oe;)ge=this.containsBlackPoint(o,u,y,!0),ge?(y++,w=!0,D=!0):D||y++;if(y>=oe){x=!0;break}let xe=!0;for(;(xe||!V)&&o>=0;)xe=this.containsBlackPoint(p,y,o,!1),xe?(o--,w=!0,V=!0):V||o--;if(o<0){x=!0;break}let Ce=!0;for(;(Ce||!Y)&&p>=0;)Ce=this.containsBlackPoint(o,u,p,!0),Ce?(p--,w=!0,Y=!0):Y||p--;if(p<0){x=!0;break}w&&(A=!0)}if(!x&&A){const pe=u-o;let ge=null;for(let Qe=1;ge===null&&Qe<pe;Qe++)ge=this.getBlackPointOnSegment(o,y-Qe,o+Qe,y);if(ge==null)throw new X;let xe=null;for(let Qe=1;xe===null&&Qe<pe;Qe++)xe=this.getBlackPointOnSegment(o,p+Qe,o+Qe,p);if(xe==null)throw new X;let Ce=null;for(let Qe=1;Ce===null&&Qe<pe;Qe++)Ce=this.getBlackPointOnSegment(u,p+Qe,u-Qe,p);if(Ce==null)throw new X;let Ze=null;for(let Qe=1;Ze===null&&Qe<pe;Qe++)Ze=this.getBlackPointOnSegment(u,y-Qe,u-Qe,y);if(Ze==null)throw new X;return this.centerEdges(Ze,ge,Ce,xe)}else throw new X}getBlackPointOnSegment(o,u,p,y){const x=at.round(at.distance(o,u,p,y)),w=(p-o)/x,A=(y-u)/x,k=this.image;for(let D=0;D<x;D++){const V=at.round(o+D*w),Y=at.round(u+D*A);if(k.get(V,Y))return new fe(V,Y)}return null}centerEdges(o,u,p,y){const x=o.getX(),w=o.getY(),A=u.getX(),k=u.getY(),D=p.getX(),V=p.getY(),Y=y.getX(),ee=y.getY(),oe=Fe.CORR;return x<this.width/2?[new fe(Y-oe,ee+oe),new fe(A+oe,k+oe),new fe(D-oe,V-oe),new fe(x+oe,w-oe)]:[new fe(Y+oe,ee+oe),new fe(A+oe,k-oe),new fe(D-oe,V+oe),new fe(x-oe,w-oe)]}containsBlackPoint(o,u,p,y){const x=this.image;if(y){for(let w=o;w<=u;w++)if(x.get(w,p))return!0}else for(let w=o;w<=u;w++)if(x.get(p,w))return!0;return!1}}Fe.INIT_SIZE=10,Fe.CORR=1;class $e{static checkAndNudgePoints(o,u){const p=o.getWidth(),y=o.getHeight();let x=!0;for(let w=0;w<u.length&&x;w+=2){const A=Math.floor(u[w]),k=Math.floor(u[w+1]);if(A<-1||A>p||k<-1||k>y)throw new X;x=!1,A===-1?(u[w]=0,x=!0):A===p&&(u[w]=p-1,x=!0),k===-1?(u[w+1]=0,x=!0):k===y&&(u[w+1]=y-1,x=!0)}x=!0;for(let w=u.length-2;w>=0&&x;w-=2){const A=Math.floor(u[w]),k=Math.floor(u[w+1]);if(A<-1||A>p||k<-1||k>y)throw new X;x=!1,A===-1?(u[w]=0,x=!0):A===p&&(u[w]=p-1,x=!0),k===-1?(u[w+1]=0,x=!0):k===y&&(u[w+1]=y-1,x=!0)}}}class tt{constructor(o,u,p,y,x,w,A,k,D){this.a11=o,this.a21=u,this.a31=p,this.a12=y,this.a22=x,this.a32=w,this.a13=A,this.a23=k,this.a33=D}static quadrilateralToQuadrilateral(o,u,p,y,x,w,A,k,D,V,Y,ee,oe,pe,ge,xe){const Ce=tt.quadrilateralToSquare(o,u,p,y,x,w,A,k);return tt.squareToQuadrilateral(D,V,Y,ee,oe,pe,ge,xe).times(Ce)}transformPoints(o){const u=o.length,p=this.a11,y=this.a12,x=this.a13,w=this.a21,A=this.a22,k=this.a23,D=this.a31,V=this.a32,Y=this.a33;for(let ee=0;ee<u;ee+=2){const oe=o[ee],pe=o[ee+1],ge=x*oe+k*pe+Y;o[ee]=(p*oe+w*pe+D)/ge,o[ee+1]=(y*oe+A*pe+V)/ge}}transformPointsWithValues(o,u){const p=this.a11,y=this.a12,x=this.a13,w=this.a21,A=this.a22,k=this.a23,D=this.a31,V=this.a32,Y=this.a33,ee=o.length;for(let oe=0;oe<ee;oe++){const pe=o[oe],ge=u[oe],xe=x*pe+k*ge+Y;o[oe]=(p*pe+w*ge+D)/xe,u[oe]=(y*pe+A*ge+V)/xe}}static squareToQuadrilateral(o,u,p,y,x,w,A,k){const D=o-p+x-A,V=u-y+w-k;if(D===0&&V===0)return new tt(p-o,x-p,o,y-u,w-y,u,0,0,1);{const Y=p-x,ee=A-x,oe=y-w,pe=k-w,ge=Y*pe-ee*oe,xe=(D*pe-ee*V)/ge,Ce=(Y*V-D*oe)/ge;return new tt(p-o+xe*p,A-o+Ce*A,o,y-u+xe*y,k-u+Ce*k,u,xe,Ce,1)}}static quadrilateralToSquare(o,u,p,y,x,w,A,k){return tt.squareToQuadrilateral(o,u,p,y,x,w,A,k).buildAdjoint()}buildAdjoint(){return new tt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new tt(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class It extends $e{sampleGrid(o,u,p,y,x,w,A,k,D,V,Y,ee,oe,pe,ge,xe,Ce,Ze,Qe){const We=tt.quadrilateralToQuadrilateral(y,x,w,A,k,D,V,Y,ee,oe,pe,ge,xe,Ce,Ze,Qe);return this.sampleGridWithTransform(o,u,p,We)}sampleGridWithTransform(o,u,p,y){if(u<=0||p<=0)throw new X;const x=new Q(u,p),w=new Float32Array(2*u);for(let A=0;A<p;A++){const k=w.length,D=A+.5;for(let V=0;V<k;V+=2)w[V]=V/2+.5,w[V+1]=D;y.transformPoints(w),$e.checkAndNudgePoints(o,w);try{for(let V=0;V<k;V+=2)o.get(Math.floor(w[V]),Math.floor(w[V+1]))&&x.set(V/2,A)}catch{throw new X}}return x}}class Wt{static setGridSampler(o){Wt.gridSampler=o}static getInstance(){return Wt.gridSampler}}Wt.gridSampler=new It;class pr{constructor(o,u){this.x=o,this.y=u}toResultPoint(){return new fe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Dn{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let u=this.getMatrixCenter(),p=this.getBullsEyeCorners(u);if(o){let w=p[0];p[0]=p[2],p[2]=w}this.extractParameters(p);let y=this.sampleGrid(this.image,p[this.shift%4],p[(this.shift+1)%4],p[(this.shift+2)%4],p[(this.shift+3)%4]),x=this.getMatrixCornerPoints(p);return new Xe(y,x,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!this.isValidPoint(o[0])||!this.isValidPoint(o[1])||!this.isValidPoint(o[2])||!this.isValidPoint(o[3]))throw new X;let u=2*this.nbCenterLayers,p=new Int32Array([this.sampleLine(o[0],o[1],u),this.sampleLine(o[1],o[2],u),this.sampleLine(o[2],o[3],u),this.sampleLine(o[3],o[0],u)]);this.shift=this.getRotation(p,u);let y=0;for(let w=0;w<4;w++){let A=p[(this.shift+w)%4];this.compact?(y<<=7,y+=A>>1&127):(y<<=10,y+=(A>>2&992)+(A>>1&31))}let x=this.getCorrectedParameterData(y,this.compact);this.compact?(this.nbLayers=(x>>6)+1,this.nbDataBlocks=(x&63)+1):(this.nbLayers=(x>>11)+1,this.nbDataBlocks=(x&2047)+1)}getRotation(o,u){let p=0;o.forEach((y,x,w)=>{let A=(y>>u-2<<1)+(y&1);p=(p<<3)+A}),p=((p&1)<<11)+(p>>1);for(let y=0;y<4;y++)if(I.bitCount(p^this.EXPECTED_CORNER_BITS[y])<=2)return y;throw new X}getCorrectedParameterData(o,u){let p,y;u?(p=7,y=2):(p=10,y=4);let x=p-y,w=new Int32Array(p);for(let k=p-1;k>=0;--k)w[k]=o&15,o>>=4;try{new ct(Ue.AZTEC_PARAM).decode(w,x)}catch{throw new X}let A=0;for(let k=0;k<y;k++)A=(A<<4)+w[k];return A}getBullsEyeCorners(o){let u=o,p=o,y=o,x=o,w=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let Y=this.getFirstDifferent(u,w,1,-1),ee=this.getFirstDifferent(p,w,1,1),oe=this.getFirstDifferent(y,w,-1,1),pe=this.getFirstDifferent(x,w,-1,-1);if(this.nbCenterLayers>2){let ge=this.distancePoint(pe,Y)*this.nbCenterLayers/(this.distancePoint(x,u)*(this.nbCenterLayers+2));if(ge<.75||ge>1.25||!this.isWhiteOrBlackRectangle(Y,ee,oe,pe))break}u=Y,p=ee,y=oe,x=pe,w=!w}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new X;this.compact=this.nbCenterLayers===5;let A=new fe(u.getX()+.5,u.getY()-.5),k=new fe(p.getX()+.5,p.getY()+.5),D=new fe(y.getX()-.5,y.getY()+.5),V=new fe(x.getX()-.5,x.getY()-.5);return this.expandSquare([A,k,D,V],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,u,p,y;try{let A=new Fe(this.image).detect();o=A[0],u=A[1],p=A[2],y=A[3]}catch{let k=this.image.getWidth()/2,D=this.image.getHeight()/2;o=this.getFirstDifferent(new pr(k+7,D-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new pr(k+7,D+7),!1,1,1).toResultPoint(),p=this.getFirstDifferent(new pr(k-7,D+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new pr(k-7,D-7),!1,-1,-1).toResultPoint()}let x=at.round((o.getX()+y.getX()+u.getX()+p.getX())/4),w=at.round((o.getY()+y.getY()+u.getY()+p.getY())/4);try{let A=new Fe(this.image,15,x,w).detect();o=A[0],u=A[1],p=A[2],y=A[3]}catch{o=this.getFirstDifferent(new pr(x+7,w-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new pr(x+7,w+7),!1,1,1).toResultPoint(),p=this.getFirstDifferent(new pr(x-7,w+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new pr(x-7,w-7),!1,-1,-1).toResultPoint()}return x=at.round((o.getX()+y.getX()+u.getX()+p.getX())/4),w=at.round((o.getY()+y.getY()+u.getY()+p.getY())/4),new pr(x,w)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,u,p,y,x){let w=Wt.getInstance(),A=this.getDimension(),k=A/2-this.nbCenterLayers,D=A/2+this.nbCenterLayers;return w.sampleGrid(o,A,A,k,k,D,k,D,D,k,D,u.getX(),u.getY(),p.getX(),p.getY(),y.getX(),y.getY(),x.getX(),x.getY())}sampleLine(o,u,p){let y=0,x=this.distanceResultPoint(o,u),w=x/p,A=o.getX(),k=o.getY(),D=w*(u.getX()-o.getX())/x,V=w*(u.getY()-o.getY())/x;for(let Y=0;Y<p;Y++)this.image.get(at.round(A+Y*D),at.round(k+Y*V))&&(y|=1<<p-Y-1);return y}isWhiteOrBlackRectangle(o,u,p,y){let x=3;o=new pr(o.getX()-x,o.getY()+x),u=new pr(u.getX()-x,u.getY()-x),p=new pr(p.getX()+x,p.getY()-x),y=new pr(y.getX()+x,y.getY()+x);let w=this.getColor(y,o);if(w===0)return!1;let A=this.getColor(o,u);return A!==w||(A=this.getColor(u,p),A!==w)?!1:(A=this.getColor(p,y),A===w)}getColor(o,u){let p=this.distancePoint(o,u),y=(u.getX()-o.getX())/p,x=(u.getY()-o.getY())/p,w=0,A=o.getX(),k=o.getY(),D=this.image.get(o.getX(),o.getY()),V=Math.ceil(p);for(let ee=0;ee<V;ee++)A+=y,k+=x,this.image.get(at.round(A),at.round(k))!==D&&w++;let Y=w/p;return Y>.1&&Y<.9?0:Y<=.1===D?1:-1}getFirstDifferent(o,u,p,y){let x=o.getX()+p,w=o.getY()+y;for(;this.isValid(x,w)&&this.image.get(x,w)===u;)x+=p,w+=y;for(x-=p,w-=y;this.isValid(x,w)&&this.image.get(x,w)===u;)x+=p;for(x-=p;this.isValid(x,w)&&this.image.get(x,w)===u;)w+=y;return w-=y,new pr(x,w)}expandSquare(o,u,p){let y=p/(2*u),x=o[0].getX()-o[2].getX(),w=o[0].getY()-o[2].getY(),A=(o[0].getX()+o[2].getX())/2,k=(o[0].getY()+o[2].getY())/2,D=new fe(A+y*x,k+y*w),V=new fe(A-y*x,k-y*w);x=o[1].getX()-o[3].getX(),w=o[1].getY()-o[3].getY(),A=(o[1].getX()+o[3].getX())/2,k=(o[1].getY()+o[3].getY())/2;let Y=new fe(A+y*x,k+y*w),ee=new fe(A-y*x,k-y*w);return[D,Y,V,ee]}isValid(o,u){return o>=0&&o<this.image.getWidth()&&u>0&&u<this.image.getHeight()}isValidPoint(o){let u=at.round(o.getX()),p=at.round(o.getY());return this.isValid(u,p)}distancePoint(o,u){return at.distance(o.getX(),o.getY(),u.getX(),u.getY())}distanceResultPoint(o,u){return at.distance(o.getX(),o.getY(),u.getX(),u.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(I.truncDivision(this.nbLayers-4,8)+1)+15}}class yn{decode(o,u=null){let p=null,y=new Dn(o.getBlackMatrix()),x=null,w=null;try{let V=y.detectMirror(!1);x=V.getPoints(),this.reportFoundResultPoints(u,x),w=new ot().decode(V)}catch(V){p=V}if(w==null)try{let V=y.detectMirror(!0);x=V.getPoints(),this.reportFoundResultPoints(u,x),w=new ot().decode(V)}catch(V){throw p??V}let A=new ke(w.getText(),w.getRawBytes(),w.getNumBits(),x,je.AZTEC,E.currentTimeMillis()),k=w.getByteSegments();k!=null&&A.putMetadata(De.BYTE_SEGMENTS,k);let D=w.getECLevel();return D!=null&&A.putMetadata(De.ERROR_CORRECTION_LEVEL,D),A}reportFoundResultPoints(o,u){if(o!=null){let p=o.get(M.NEED_RESULT_POINT_CALLBACK);p!=null&&u.forEach((y,x,w)=>{p.foundPossibleResultPoint(y)})}}reset(){}}class Ys extends we{constructor(o=500){super(new yn,o)}}class ar{decode(o,u){try{return this.doDecode(o,u)}catch{if(u&&u.get(M.TRY_HARDER)===!0&&o.isRotateSupported()){const x=o.rotateCounterClockwise(),w=this.doDecode(x,u),A=w.getResultMetadata();let k=270;A!==null&&A.get(De.ORIENTATION)===!0&&(k=k+A.get(De.ORIENTATION)%360),w.putMetadata(De.ORIENTATION,k);const D=w.getResultPoints();if(D!==null){const V=x.getHeight();for(let Y=0;Y<D.length;Y++)D[Y]=new fe(V-D[Y].getY()-1,D[Y].getX())}return w}else throw new X}}reset(){}doDecode(o,u){const p=o.getWidth(),y=o.getHeight();let x=new F(p);const w=u&&u.get(M.TRY_HARDER)===!0,A=Math.max(1,y>>(w?8:5));let k;w?k=y:k=15;const D=Math.trunc(y/2);for(let V=0;V<k;V++){const Y=Math.trunc((V+1)/2),ee=(V&1)===0,oe=D+A*(ee?Y:-Y);if(oe<0||oe>=y)break;try{x=o.getBlackRow(oe,x)}catch{continue}for(let pe=0;pe<2;pe++){if(pe===1&&(x.reverse(),u&&u.get(M.NEED_RESULT_POINT_CALLBACK)===!0)){const ge=new Map;u.forEach((xe,Ce)=>ge.set(Ce,xe)),ge.delete(M.NEED_RESULT_POINT_CALLBACK),u=ge}try{const ge=this.decodeRow(oe,x,u);if(pe===1){ge.putMetadata(De.ORIENTATION,180);const xe=ge.getResultPoints();xe!==null&&(xe[0]=new fe(p-xe[0].getX()-1,xe[0].getY()),xe[1]=new fe(p-xe[1].getX()-1,xe[1].getY()))}return ge}catch{}}}throw new X}static recordPattern(o,u,p){const y=p.length;for(let D=0;D<y;D++)p[D]=0;const x=o.getSize();if(u>=x)throw new X;let w=!o.get(u),A=0,k=u;for(;k<x;){if(o.get(k)!==w)p[A]++;else{if(++A===y)break;p[A]=1,w=!w}k++}if(!(A===y||A===y-1&&k===x))throw new X}static recordPatternInReverse(o,u,p){let y=p.length,x=o.get(u);for(;u>0&&y>=0;)o.get(--u)!==x&&(y--,x=!x);if(y>=0)throw new X;ar.recordPattern(o,u+1,p)}static patternMatchVariance(o,u,p){const y=o.length;let x=0,w=0;for(let D=0;D<y;D++)x+=o[D],w+=u[D];if(x<w)return Number.POSITIVE_INFINITY;const A=x/w;p*=A;let k=0;for(let D=0;D<y;D++){const V=o[D],Y=u[D]*A,ee=V>Y?V-Y:Y-V;if(ee>p)return Number.POSITIVE_INFINITY;k+=ee}return k/x}}class Ke extends ar{static findStartPattern(o){const u=o.getSize(),p=o.getNextSet(0);let y=0,x=Int32Array.from([0,0,0,0,0,0]),w=p,A=!1;const k=6;for(let D=p;D<u;D++)if(o.get(D)!==A)x[y]++;else{if(y===k-1){let V=Ke.MAX_AVG_VARIANCE,Y=-1;for(let ee=Ke.CODE_START_A;ee<=Ke.CODE_START_C;ee++){const oe=ar.patternMatchVariance(x,Ke.CODE_PATTERNS[ee],Ke.MAX_INDIVIDUAL_VARIANCE);oe<V&&(V=oe,Y=ee)}if(Y>=0&&o.isRange(Math.max(0,w-(D-w)/2),w,!1))return Int32Array.from([w,D,Y]);w+=x[0]+x[1],x=x.slice(2,x.length-1),x[y-1]=0,x[y]=0,y--}else y++;x[y]=1,A=!A}throw new X}static decodeCode(o,u,p){ar.recordPattern(o,p,u);let y=Ke.MAX_AVG_VARIANCE,x=-1;for(let w=0;w<Ke.CODE_PATTERNS.length;w++){const A=Ke.CODE_PATTERNS[w],k=this.patternMatchVariance(u,A,Ke.MAX_INDIVIDUAL_VARIANCE);k<y&&(y=k,x=w)}if(x>=0)return x;throw new X}decodeRow(o,u,p){const y=p&&p.get(M.ASSUME_GS1)===!0,x=Ke.findStartPattern(u),w=x[2];let A=0;const k=new Uint8Array(20);k[A++]=w;let D;switch(w){case Ke.CODE_START_A:D=Ke.CODE_CODE_A;break;case Ke.CODE_START_B:D=Ke.CODE_CODE_B;break;case Ke.CODE_START_C:D=Ke.CODE_CODE_C;break;default:throw new B}let V=!1,Y=!1,ee="",oe=x[0],pe=x[1];const ge=Int32Array.from([0,0,0,0,0,0]);let xe=0,Ce=0,Ze=w,Qe=0,We=!0,sr=!1,Ut=!1;for(;!V;){const _s=Y;switch(Y=!1,xe=Ce,Ce=Ke.decodeCode(u,ge,pe),k[A++]=Ce,Ce!==Ke.CODE_STOP&&(We=!0),Ce!==Ke.CODE_STOP&&(Qe++,Ze+=Qe*Ce),oe=pe,pe+=ge.reduce((El,Lh)=>El+Lh,0),Ce){case Ke.CODE_START_A:case Ke.CODE_START_B:case Ke.CODE_START_C:throw new B}switch(D){case Ke.CODE_CODE_A:if(Ce<64)Ut===sr?ee+=String.fromCharCode(32+Ce):ee+=String.fromCharCode(32+Ce+128),Ut=!1;else if(Ce<96)Ut===sr?ee+=String.fromCharCode(Ce-64):ee+=String.fromCharCode(Ce+64),Ut=!1;else switch(Ce!==Ke.CODE_STOP&&(We=!1),Ce){case Ke.CODE_FNC_1:y&&(ee.length===0?ee+="]C1":ee+="");break;case Ke.CODE_FNC_2:case Ke.CODE_FNC_3:break;case Ke.CODE_FNC_4_A:!sr&&Ut?(sr=!0,Ut=!1):sr&&Ut?(sr=!1,Ut=!1):Ut=!0;break;case Ke.CODE_SHIFT:Y=!0,D=Ke.CODE_CODE_B;break;case Ke.CODE_CODE_B:D=Ke.CODE_CODE_B;break;case Ke.CODE_CODE_C:D=Ke.CODE_CODE_C;break;case Ke.CODE_STOP:V=!0;break}break;case Ke.CODE_CODE_B:if(Ce<96)Ut===sr?ee+=String.fromCharCode(32+Ce):ee+=String.fromCharCode(32+Ce+128),Ut=!1;else switch(Ce!==Ke.CODE_STOP&&(We=!1),Ce){case Ke.CODE_FNC_1:y&&(ee.length===0?ee+="]C1":ee+="");break;case Ke.CODE_FNC_2:case Ke.CODE_FNC_3:break;case Ke.CODE_FNC_4_B:!sr&&Ut?(sr=!0,Ut=!1):sr&&Ut?(sr=!1,Ut=!1):Ut=!0;break;case Ke.CODE_SHIFT:Y=!0,D=Ke.CODE_CODE_A;break;case Ke.CODE_CODE_A:D=Ke.CODE_CODE_A;break;case Ke.CODE_CODE_C:D=Ke.CODE_CODE_C;break;case Ke.CODE_STOP:V=!0;break}break;case Ke.CODE_CODE_C:if(Ce<100)Ce<10&&(ee+="0"),ee+=Ce;else switch(Ce!==Ke.CODE_STOP&&(We=!1),Ce){case Ke.CODE_FNC_1:y&&(ee.length===0?ee+="]C1":ee+="");break;case Ke.CODE_CODE_A:D=Ke.CODE_CODE_A;break;case Ke.CODE_CODE_B:D=Ke.CODE_CODE_B;break;case Ke.CODE_STOP:V=!0;break}break}_s&&(D=D===Ke.CODE_CODE_A?Ke.CODE_CODE_B:Ke.CODE_CODE_A)}const Ni=pe-oe;if(pe=u.getNextUnset(pe),!u.isRange(pe,Math.min(u.getSize(),pe+(pe-oe)/2),!1))throw new X;if(Ze-=Qe*xe,Ze%103!==xe)throw new S;const Sa=ee.length;if(Sa===0)throw new X;Sa>0&&We&&(D===Ke.CODE_CODE_C?ee=ee.substring(0,Sa-2):ee=ee.substring(0,Sa-1));const Pn=(x[1]+x[0])/2,jr=oe+Ni/2,xn=k.length,wi=new Uint8Array(xn);for(let _s=0;_s<xn;_s++)wi[_s]=k[_s];const ko=[new fe(Pn,o),new fe(jr,o)];return new ke(ee,wi,0,ko,je.CODE_128,new Date().getTime())}}Ke.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ke.MAX_AVG_VARIANCE=.25,Ke.MAX_INDIVIDUAL_VARIANCE=.7,Ke.CODE_SHIFT=98,Ke.CODE_CODE_C=99,Ke.CODE_CODE_B=100,Ke.CODE_CODE_A=101,Ke.CODE_FNC_1=102,Ke.CODE_FNC_2=97,Ke.CODE_FNC_3=96,Ke.CODE_FNC_4_A=101,Ke.CODE_FNC_4_B=100,Ke.CODE_START_A=103,Ke.CODE_START_B=104,Ke.CODE_START_C=105,Ke.CODE_STOP=106;class Vr extends ar{constructor(o=!1,u=!1){super(),this.usingCheckDigit=o,this.extendedMode=u,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,u,p){let y=this.counters;y.fill(0),this.decodeRowResult="";let x=Vr.findAsteriskPattern(u,y),w=u.getNextSet(x[1]),A=u.getSize(),k,D;do{Vr.recordPattern(u,w,y);let ge=Vr.toNarrowWidePattern(y);if(ge<0)throw new X;k=Vr.patternToChar(ge),this.decodeRowResult+=k,D=w;for(let xe of y)w+=xe;w=u.getNextSet(w)}while(k!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let V=0;for(let ge of y)V+=ge;let Y=w-D-V;if(w!==A&&Y*2<V)throw new X;if(this.usingCheckDigit){let ge=this.decodeRowResult.length-1,xe=0;for(let Ce=0;Ce<ge;Ce++)xe+=Vr.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ce));if(this.decodeRowResult.charAt(ge)!==Vr.ALPHABET_STRING.charAt(xe%43))throw new S;this.decodeRowResult=this.decodeRowResult.substring(0,ge)}if(this.decodeRowResult.length===0)throw new X;let ee;this.extendedMode?ee=Vr.decodeExtended(this.decodeRowResult):ee=this.decodeRowResult;let oe=(x[1]+x[0])/2,pe=D+V/2;return new ke(ee,null,0,[new fe(oe,o),new fe(pe,o)],je.CODE_39,new Date().getTime())}static findAsteriskPattern(o,u){let p=o.getSize(),y=o.getNextSet(0),x=0,w=y,A=!1,k=u.length;for(let D=y;D<p;D++)if(o.get(D)!==A)u[x]++;else{if(x===k-1){if(this.toNarrowWidePattern(u)===Vr.ASTERISK_ENCODING&&o.isRange(Math.max(0,w-Math.floor((D-w)/2)),w,!1))return[w,D];w+=u[0]+u[1],u.copyWithin(0,2,2+x-1),u[x-1]=0,u[x]=0,x--}else x++;u[x]=1,A=!A}throw new X}static toNarrowWidePattern(o){let u=o.length,p=0,y;do{let x=2147483647;for(let k of o)k<x&&k>p&&(x=k);p=x,y=0;let w=0,A=0;for(let k=0;k<u;k++){let D=o[k];D>p&&(A|=1<<u-1-k,y++,w+=D)}if(y===3){for(let k=0;k<u&&y>0;k++){let D=o[k];if(D>p&&(y--,D*2>=w))return-1}return A}}while(y>3);return-1}static patternToChar(o){for(let u=0;u<Vr.CHARACTER_ENCODINGS.length;u++)if(Vr.CHARACTER_ENCODINGS[u]===o)return Vr.ALPHABET_STRING.charAt(u);if(o===Vr.ASTERISK_ENCODING)return"*";throw new X}static decodeExtended(o){let u=o.length,p="";for(let y=0;y<u;y++){let x=o.charAt(y);if(x==="+"||x==="$"||x==="%"||x==="/"){let w=o.charAt(y+1),A="\0";switch(x){case"+":if(w>="A"&&w<="Z")A=String.fromCharCode(w.charCodeAt(0)+32);else throw new B;break;case"$":if(w>="A"&&w<="Z")A=String.fromCharCode(w.charCodeAt(0)-64);else throw new B;break;case"%":if(w>="A"&&w<="E")A=String.fromCharCode(w.charCodeAt(0)-38);else if(w>="F"&&w<="J")A=String.fromCharCode(w.charCodeAt(0)-11);else if(w>="K"&&w<="O")A=String.fromCharCode(w.charCodeAt(0)+16);else if(w>="P"&&w<="T")A=String.fromCharCode(w.charCodeAt(0)+43);else if(w==="U")A="\0";else if(w==="V")A="@";else if(w==="W")A="`";else if(w==="X"||w==="Y"||w==="Z")A="";else throw new B;break;case"/":if(w>="A"&&w<="O")A=String.fromCharCode(w.charCodeAt(0)-32);else if(w==="Z")A=":";else throw new B;break}p+=A,y++}else p+=x}return p}}Vr.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Vr.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Vr.ASTERISK_ENCODING=148;class Jt extends ar{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,u,p){let y=this.decodeStart(u),x=this.decodeEnd(u),w=new H;Jt.decodeMiddle(u,y[1],x[0],w);let A=w.toString(),k=null;p!=null&&(k=p.get(M.ALLOWED_LENGTHS)),k==null&&(k=Jt.DEFAULT_ALLOWED_LENGTHS);let D=A.length,V=!1,Y=0;for(let pe of k){if(D===pe){V=!0;break}pe>Y&&(Y=pe)}if(!V&&D>Y&&(V=!0),!V)throw new B;const ee=[new fe(y[1],o),new fe(x[0],o)];return new ke(A,null,0,ee,je.ITF,new Date().getTime())}static decodeMiddle(o,u,p,y){let x=new Int32Array(10),w=new Int32Array(5),A=new Int32Array(5);for(x.fill(0),w.fill(0),A.fill(0);u<p;){ar.recordPattern(o,u,x);for(let D=0;D<5;D++){let V=2*D;w[D]=x[V],A[D]=x[V+1]}let k=Jt.decodeDigit(w);y.append(k.toString()),k=this.decodeDigit(A),y.append(k.toString()),x.forEach(function(D){u+=D})}}decodeStart(o){let u=Jt.skipWhiteSpace(o),p=Jt.findGuardPattern(o,u,Jt.START_PATTERN);return this.narrowLineWidth=(p[1]-p[0])/4,this.validateQuietZone(o,p[0]),p}validateQuietZone(o,u){let p=this.narrowLineWidth*10;p=p<u?p:u;for(let y=u-1;p>0&&y>=0&&!o.get(y);y--)p--;if(p!==0)throw new X}static skipWhiteSpace(o){const u=o.getSize(),p=o.getNextSet(0);if(p===u)throw new X;return p}decodeEnd(o){o.reverse();try{let u=Jt.skipWhiteSpace(o),p;try{p=Jt.findGuardPattern(o,u,Jt.END_PATTERN_REVERSED[0])}catch(x){x instanceof X&&(p=Jt.findGuardPattern(o,u,Jt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,p[0]);let y=p[0];return p[0]=o.getSize()-p[1],p[1]=o.getSize()-y,p}finally{o.reverse()}}static findGuardPattern(o,u,p){let y=p.length,x=new Int32Array(y),w=o.getSize(),A=!1,k=0,D=u;x.fill(0);for(let V=u;V<w;V++)if(o.get(V)!==A)x[k]++;else{if(k===y-1){if(ar.patternMatchVariance(x,p,Jt.MAX_INDIVIDUAL_VARIANCE)<Jt.MAX_AVG_VARIANCE)return[D,V];D+=x[0]+x[1],E.arraycopy(x,2,x,0,k-1),x[k-1]=0,x[k]=0,k--}else k++;x[k]=1,A=!A}throw new X}static decodeDigit(o){let u=Jt.MAX_AVG_VARIANCE,p=-1,y=Jt.PATTERNS.length;for(let x=0;x<y;x++){let w=Jt.PATTERNS[x],A=ar.patternMatchVariance(o,w,Jt.MAX_INDIVIDUAL_VARIANCE);A<u?(u=A,p=x):A===u&&(p=-1)}if(p>=0)return p%10;throw new X}}Jt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Jt.MAX_AVG_VARIANCE=.38,Jt.MAX_INDIVIDUAL_VARIANCE=.5,Jt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Jt.START_PATTERN=Int32Array.from([1,1,1,1]),Jt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Rr extends ar{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let u=!1,p,y=0,x=Int32Array.from([0,0,0]);for(;!u;){x=Int32Array.from([0,0,0]),p=Rr.findGuardPattern(o,y,!1,this.START_END_PATTERN,x);let w=p[0];y=p[1];let A=w-(y-w);A>=0&&(u=o.isRange(A,w,!1))}return p}static checkChecksum(o){return Rr.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let u=o.length;if(u===0)return!1;let p=parseInt(o.charAt(u-1),10);return Rr.getStandardUPCEANChecksum(o.substring(0,u-1))===p}static getStandardUPCEANChecksum(o){let u=o.length,p=0;for(let y=u-1;y>=0;y-=2){let x=o.charAt(y).charCodeAt(0)-48;if(x<0||x>9)throw new B;p+=x}p*=3;for(let y=u-2;y>=0;y-=2){let x=o.charAt(y).charCodeAt(0)-48;if(x<0||x>9)throw new B;p+=x}return(1e3-p)%10}static decodeEnd(o,u){return Rr.findGuardPattern(o,u,!1,Rr.START_END_PATTERN,new Int32Array(Rr.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,u,p,y){return this.findGuardPattern(o,u,p,y,new Int32Array(y.length))}static findGuardPattern(o,u,p,y,x){let w=o.getSize();u=p?o.getNextUnset(u):o.getNextSet(u);let A=0,k=u,D=y.length,V=p;for(let Y=u;Y<w;Y++)if(o.get(Y)!==V)x[A]++;else{if(A===D-1){if(ar.patternMatchVariance(x,y,Rr.MAX_INDIVIDUAL_VARIANCE)<Rr.MAX_AVG_VARIANCE)return Int32Array.from([k,Y]);k+=x[0]+x[1];let ee=x.slice(2,x.length-1);for(let oe=0;oe<A-1;oe++)x[oe]=ee[oe];x[A-1]=0,x[A]=0,A--}else A++;x[A]=1,V=!V}throw new X}static decodeDigit(o,u,p,y){this.recordPattern(o,p,u);let x=this.MAX_AVG_VARIANCE,w=-1,A=y.length;for(let k=0;k<A;k++){let D=y[k],V=ar.patternMatchVariance(u,D,Rr.MAX_INDIVIDUAL_VARIANCE);V<x&&(x=V,w=k)}if(w>=0)return w;throw new X}}Rr.MAX_AVG_VARIANCE=.48,Rr.MAX_INDIVIDUAL_VARIANCE=.7,Rr.START_END_PATTERN=Int32Array.from([1,1,1]),Rr.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Rr.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Rr.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ji{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,u,p){let y=this.decodeRowStringBuffer,x=this.decodeMiddle(u,p,y),w=y.toString(),A=Ji.parseExtensionString(w),k=[new fe((p[0]+p[1])/2,o),new fe(x,o)],D=new ke(w,null,0,k,je.UPC_EAN_EXTENSION,new Date().getTime());return A!=null&&D.putAllMetadata(A),D}decodeMiddle(o,u,p){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let x=o.getSize(),w=u[1],A=0;for(let D=0;D<5&&w<x;D++){let V=Rr.decodeDigit(o,y,w,Rr.L_AND_G_PATTERNS);p+=String.fromCharCode(48+V%10);for(let Y of y)w+=Y;V>=10&&(A|=1<<4-D),D!==4&&(w=o.getNextSet(w),w=o.getNextUnset(w))}if(p.length!==5)throw new X;let k=this.determineCheckDigit(A);if(Ji.extensionChecksum(p.toString())!==k)throw new X;return w}static extensionChecksum(o){let u=o.length,p=0;for(let y=u-2;y>=0;y-=2)p+=o.charAt(y).charCodeAt(0)-48;p*=3;for(let y=u-1;y>=0;y-=2)p+=o.charAt(y).charCodeAt(0)-48;return p*=3,p%10}determineCheckDigit(o){for(let u=0;u<10;u++)if(o===this.CHECK_DIGIT_ENCODINGS[u])return u;throw new X}static parseExtensionString(o){if(o.length!==5)return null;let u=Ji.parseExtension5String(o);return u==null?null:new Map([[De.SUGGESTED_PRICE,u]])}static parseExtension5String(o){let u;switch(o.charAt(0)){case"0":u="";break;case"5":u="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}u="";break;default:u="";break}let p=parseInt(o.substring(1)),y=(p/100).toString(),x=p%100,w=x<10?"0"+x:x.toString();return u+y+"."+w}}class Xs{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,u,p){let y=this.decodeRowStringBuffer,x=this.decodeMiddle(u,p,y),w=y.toString(),A=Xs.parseExtensionString(w),k=[new fe((p[0]+p[1])/2,o),new fe(x,o)],D=new ke(w,null,0,k,je.UPC_EAN_EXTENSION,new Date().getTime());return A!=null&&D.putAllMetadata(A),D}decodeMiddle(o,u,p){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let x=o.getSize(),w=u[1],A=0;for(let k=0;k<2&&w<x;k++){let D=Rr.decodeDigit(o,y,w,Rr.L_AND_G_PATTERNS);p+=String.fromCharCode(48+D%10);for(let V of y)w+=V;D>=10&&(A|=1<<1-k),k!==1&&(w=o.getNextSet(w),w=o.getNextUnset(w))}if(p.length!==2)throw new X;if(parseInt(p.toString())%4!==A)throw new X;return w}static parseExtensionString(o){return o.length!==2?null:new Map([[De.ISSUE_NUMBER,parseInt(o)]])}}class Co{static decodeRow(o,u,p){let y=Rr.findGuardPattern(u,p,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ji().decodeRow(o,u,y)}catch{return new Xs().decodeRow(o,u,y)}}}Co.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class nr extends Rr{constructor(){super(),this.decodeRowStringBuffer="",nr.L_AND_G_PATTERNS=nr.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let u=nr.L_PATTERNS[o-10],p=new Int32Array(u.length);for(let y=0;y<u.length;y++)p[y]=u[u.length-y-1];nr.L_AND_G_PATTERNS[o]=p}}decodeRow(o,u,p){let y=nr.findStartGuardPattern(u),x=p==null?null:p.get(M.NEED_RESULT_POINT_CALLBACK);if(x!=null){const We=new fe((y[0]+y[1])/2,o);x.foundPossibleResultPoint(We)}let w=this.decodeMiddle(u,y,this.decodeRowStringBuffer),A=w.rowOffset,k=w.resultString;if(x!=null){const We=new fe(A,o);x.foundPossibleResultPoint(We)}let D=this.decodeEnd(u,A);if(x!=null){const We=new fe((D[0]+D[1])/2,o);x.foundPossibleResultPoint(We)}let V=D[1],Y=V+(V-D[0]);if(Y>=u.getSize()||!u.isRange(V,Y,!1))throw new X;let ee=k.toString();if(ee.length<8)throw new B;if(!nr.checkChecksum(ee))throw new S;let oe=(y[1]+y[0])/2,pe=(D[1]+D[0])/2,ge=this.getBarcodeFormat(),xe=[new fe(oe,o),new fe(pe,o)],Ce=new ke(ee,null,0,xe,ge,new Date().getTime()),Ze=0;try{let We=Co.decodeRow(o,u,D[1]);Ce.putMetadata(De.UPC_EAN_EXTENSION,We.getText()),Ce.putAllMetadata(We.getResultMetadata()),Ce.addResultPoints(We.getResultPoints()),Ze=We.getText().length}catch{}let Qe=p==null?null:p.get(M.ALLOWED_EAN_EXTENSIONS);if(Qe!=null){let We=!1;for(let sr in Qe)if(Ze.toString()===sr){We=!0;break}if(!We)throw new X}return Ce}decodeEnd(o,u){return nr.findGuardPattern(o,u,!1,nr.START_END_PATTERN,new Int32Array(nr.START_END_PATTERN.length).fill(0))}static checkChecksum(o){return nr.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let u=o.length;if(u===0)return!1;let p=parseInt(o.charAt(u-1),10);return nr.getStandardUPCEANChecksum(o.substring(0,u-1))===p}static getStandardUPCEANChecksum(o){let u=o.length,p=0;for(let y=u-1;y>=0;y-=2){let x=o.charAt(y).charCodeAt(0)-48;if(x<0||x>9)throw new B;p+=x}p*=3;for(let y=u-2;y>=0;y-=2){let x=o.charAt(y).charCodeAt(0)-48;if(x<0||x>9)throw new B;p+=x}return(1e3-p)%10}}class oi extends nr{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,u,p){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let x=o.getSize(),w=u[1],A=0;for(let D=0;D<6&&w<x;D++){let V=nr.decodeDigit(o,y,w,nr.L_AND_G_PATTERNS);p+=String.fromCharCode(48+V%10);for(let Y of y)w+=Y;V>=10&&(A|=1<<5-D)}p=oi.determineFirstDigit(p,A),w=nr.findGuardPattern(o,w,!0,nr.MIDDLE_PATTERN,new Int32Array(nr.MIDDLE_PATTERN.length).fill(0))[1];for(let D=0;D<6&&w<x;D++){let V=nr.decodeDigit(o,y,w,nr.L_PATTERNS);p+=String.fromCharCode(48+V);for(let Y of y)w+=Y}return{rowOffset:w,resultString:p}}getBarcodeFormat(){return je.EAN_13}static determineFirstDigit(o,u){for(let p=0;p<10;p++)if(u===this.FIRST_DIGIT_ENCODINGS[p])return o=String.fromCharCode(48+p)+o,o;throw new X}}oi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ea extends nr{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,u,p){const y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let x=o.getSize(),w=u[1];for(let k=0;k<4&&w<x;k++){let D=nr.decodeDigit(o,y,w,nr.L_PATTERNS);p+=String.fromCharCode(48+D);for(let V of y)w+=V}w=nr.findGuardPattern(o,w,!0,nr.MIDDLE_PATTERN,new Int32Array(nr.MIDDLE_PATTERN.length).fill(0))[1];for(let k=0;k<4&&w<x;k++){let D=nr.decodeDigit(o,y,w,nr.L_PATTERNS);p+=String.fromCharCode(48+D);for(let V of y)w+=V}return{rowOffset:w,resultString:p}}getBarcodeFormat(){return je.EAN_8}}class Oc extends nr{constructor(){super(...arguments),this.ean13Reader=new oi}getBarcodeFormat(){return je.UPC_A}decode(o,u){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,u,p){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,u,p))}decodeMiddle(o,u,p){return this.ean13Reader.decodeMiddle(o,u,p)}maybeReturnResult(o){let u=o.getText();if(u.charAt(0)==="0"){let p=new ke(u.substring(1),null,null,o.getResultPoints(),je.UPC_A);return o.getResultMetadata()!=null&&p.putAllMetadata(o.getResultMetadata()),p}else throw new X}reset(){this.ean13Reader.reset()}}class Et extends nr{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,u,p){const y=this.decodeMiddleCounters.map(D=>D);y[0]=0,y[1]=0,y[2]=0,y[3]=0;const x=o.getSize();let w=u[1],A=0;for(let D=0;D<6&&w<x;D++){const V=Et.decodeDigit(o,y,w,Et.L_AND_G_PATTERNS);p+=String.fromCharCode(48+V%10);for(let Y of y)w+=Y;V>=10&&(A|=1<<5-D)}let k=Et.determineNumSysAndCheckDigit(p,A);return{rowOffset:w,resultString:k}}decodeEnd(o,u){return Et.findGuardPatternWithoutCounters(o,u,!0,Et.MIDDLE_END_PATTERN)}checkChecksum(o){return nr.checkChecksum(Et.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,u){for(let p=0;p<=1;p++)for(let y=0;y<10;y++)if(u===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[p][y]){let x=String.fromCharCode(48+p),w=String.fromCharCode(48+y);return x+o+w}throw X.getNotFoundInstance()}getBarcodeFormat(){return je.UPC_E}static convertUPCEtoUPCA(o){const u=o.slice(1,7).split("").map(x=>x.charCodeAt(0)),p=new H;p.append(o.charAt(0));let y=u[5];switch(y){case 0:case 1:case 2:p.appendChars(u,0,2),p.append(y),p.append("0000"),p.appendChars(u,2,3);break;case 3:p.appendChars(u,0,3),p.append("00000"),p.appendChars(u,3,2);break;case 4:p.appendChars(u,0,4),p.append("00000"),p.append(u[4]);break;default:p.appendChars(u,0,5),p.append("0000"),p.append(y);break}return o.length>=8&&p.append(o.charAt(7)),p.toString()}}Et.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Et.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class vr extends ar{constructor(o){super();let u=o==null?null:o.get(M.POSSIBLE_FORMATS),p=[];n(u)?(p.push(new oi),p.push(new Oc),p.push(new ea),p.push(new Et)):(u.indexOf(je.EAN_13)>-1&&p.push(new oi),u.indexOf(je.UPC_A)>-1&&p.push(new Oc),u.indexOf(je.EAN_8)>-1&&p.push(new ea),u.indexOf(je.UPC_E)>-1&&p.push(new Et)),this.readers=p}decodeRow(o,u,p){for(let y of this.readers)try{const x=y.decodeRow(o,u,p),w=x.getBarcodeFormat()===je.EAN_13&&x.getText().charAt(0)==="0",A=p==null?null:p.get(M.POSSIBLE_FORMATS),k=A==null||A.includes(je.UPC_A);if(w&&k){const D=x.getRawBytes(),V=new ke(x.getText().substring(1),D,D?D.length:null,x.getResultPoints(),je.UPC_A);return V.putAllMetadata(x.getResultMetadata()),V}return x}catch{}throw new X}reset(){for(let o of this.readers)o.reset()}}class Ht extends ar{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,u){for(let p=0;p<u.length;p++)if(ar.patternMatchVariance(o,u[p],Ht.MAX_INDIVIDUAL_VARIANCE)<Ht.MAX_AVG_VARIANCE)return p;throw new X}static count(o){return at.sum(new Int32Array(o))}static increment(o,u){let p=0,y=u[0];for(let x=1;x<o.length;x++)u[x]>y&&(y=u[x],p=x);o[p]++}static decrement(o,u){let p=0,y=u[0];for(let x=1;x<o.length;x++)u[x]<y&&(y=u[x],p=x);o[p]--}static isFinderPattern(o){let u=o[0]+o[1],p=u+o[2]+o[3],y=u/p;if(y>=Ht.MIN_FINDER_PATTERN_RATIO&&y<=Ht.MAX_FINDER_PATTERN_RATIO){let x=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER;for(let A of o)A>w&&(w=A),A<x&&(x=A);return w<10*x}return!1}}Ht.MAX_AVG_VARIANCE=.2,Ht.MAX_INDIVIDUAL_VARIANCE=.45,Ht.MIN_FINDER_PATTERN_RATIO=9.5/12,Ht.MAX_FINDER_PATTERN_RATIO=12.5/14;class Sn{constructor(o,u){this.value=o,this.checksumPortion=u}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){if(!(o instanceof Sn))return!1;const u=o;return this.value===u.value&&this.checksumPortion===u.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Hn{constructor(o,u,p,y,x){this.value=o,this.startEnd=u,this.value=o,this.startEnd=u,this.resultPoints=new Array,this.resultPoints.push(new fe(p,x)),this.resultPoints.push(new fe(y,x))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){if(!(o instanceof Hn))return!1;const u=o;return this.value===u.value}hashCode(){return this.value}}class on{constructor(){}static getRSSvalue(o,u,p){let y=0;for(let k of o)y+=k;let x=0,w=0,A=o.length;for(let k=0;k<A-1;k++){let D;for(D=1,w|=1<<k;D<o[k];D++,w&=~(1<<k)){let V=on.combins(y-D-1,A-k-2);if(p&&w===0&&y-D-(A-k-1)>=A-k-1&&(V-=on.combins(y-D-(A-k),A-k-2)),A-k-1>1){let Y=0;for(let ee=y-D-(A-k-2);ee>u;ee--)Y+=on.combins(y-D-ee-1,A-k-3);V-=Y*(A-1-k)}else y-D>u&&V--;x+=V}y-=D}return x}static combins(o,u){let p,y;o-u>u?(y=u,p=o-u):(y=o-u,p=u);let x=1,w=1;for(let A=o;A>p;A--)x*=A,w<=y&&(x/=w,w++);for(;w<=y;)x/=w,w++;return x}}class va{static buildBitArray(o){let u=o.length*2-1;o[o.length-1].getRightChar()==null&&(u-=1);let p=12*u,y=new F(p),x=0,A=o[0].getRightChar().getValue();for(let k=11;k>=0;--k)(A&1<<k)!=0&&y.set(x),x++;for(let k=1;k<o.length;++k){let D=o[k],V=D.getLeftChar().getValue();for(let Y=11;Y>=0;--Y)(V&1<<Y)!=0&&y.set(x),x++;if(D.getRightChar()!=null){let Y=D.getRightChar().getValue();for(let ee=11;ee>=0;--ee)(Y&1<<ee)!=0&&y.set(x),x++}}return y}}class ln{constructor(o,u){u?this.decodedInformation=null:(this.finished=o,this.decodedInformation=u)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ta{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}class Ln extends ta{constructor(o,u){super(o),this.value=u}getValue(){return this.value}isFNC1(){return this.value===Ln.FNC1}}Ln.FNC1="$";class qa extends ta{constructor(o,u,p){super(o),p?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=u}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class vi extends ta{constructor(o,u,p){if(super(o),u<0||u>10||p<0||p>10)throw new B;this.firstDigit=u,this.secondDigit=p}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===vi.FNC1}isSecondDigitFNC1(){return this.secondDigit===vi.FNC1}isAnyFNC1(){return this.firstDigit===vi.FNC1||this.secondDigit===vi.FNC1}}vi.FNC1=10;class lt{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new X;let u=o.substring(0,2);for(let x of lt.TWO_DIGIT_DATA_LENGTH)if(x[0]===u)return x[1]===lt.VARIABLE_LENGTH?lt.processVariableAI(2,x[2],o):lt.processFixedAI(2,x[1],o);if(o.length<3)throw new X;let p=o.substring(0,3);for(let x of lt.THREE_DIGIT_DATA_LENGTH)if(x[0]===p)return x[1]===lt.VARIABLE_LENGTH?lt.processVariableAI(3,x[2],o):lt.processFixedAI(3,x[1],o);for(let x of lt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(x[0]===p)return x[1]===lt.VARIABLE_LENGTH?lt.processVariableAI(4,x[2],o):lt.processFixedAI(4,x[1],o);if(o.length<4)throw new X;let y=o.substring(0,4);for(let x of lt.FOUR_DIGIT_DATA_LENGTH)if(x[0]===y)return x[1]===lt.VARIABLE_LENGTH?lt.processVariableAI(4,x[2],o):lt.processFixedAI(4,x[1],o);throw new X}static processFixedAI(o,u,p){if(p.length<o)throw new X;let y=p.substring(0,o);if(p.length<o+u)throw new X;let x=p.substring(o,o+u),w=p.substring(o+u),A="("+y+")"+x,k=lt.parseFieldsInGeneralPurpose(w);return k==null?A:A+k}static processVariableAI(o,u,p){let y=p.substring(0,o),x;p.length<o+u?x=p.length:x=o+u;let w=p.substring(o,x),A=p.substring(x),k="("+y+")"+w,D=lt.parseFieldsInGeneralPurpose(A);return D==null?k:k+D}}lt.VARIABLE_LENGTH=[],lt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",lt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",lt.VARIABLE_LENGTH,20],["22",lt.VARIABLE_LENGTH,29],["30",lt.VARIABLE_LENGTH,8],["37",lt.VARIABLE_LENGTH,8],["90",lt.VARIABLE_LENGTH,30],["91",lt.VARIABLE_LENGTH,30],["92",lt.VARIABLE_LENGTH,30],["93",lt.VARIABLE_LENGTH,30],["94",lt.VARIABLE_LENGTH,30],["95",lt.VARIABLE_LENGTH,30],["96",lt.VARIABLE_LENGTH,30],["97",lt.VARIABLE_LENGTH,3],["98",lt.VARIABLE_LENGTH,30],["99",lt.VARIABLE_LENGTH,30]],lt.THREE_DIGIT_DATA_LENGTH=[["240",lt.VARIABLE_LENGTH,30],["241",lt.VARIABLE_LENGTH,30],["242",lt.VARIABLE_LENGTH,6],["250",lt.VARIABLE_LENGTH,30],["251",lt.VARIABLE_LENGTH,30],["253",lt.VARIABLE_LENGTH,17],["254",lt.VARIABLE_LENGTH,20],["400",lt.VARIABLE_LENGTH,30],["401",lt.VARIABLE_LENGTH,30],["402",17],["403",lt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",lt.VARIABLE_LENGTH,20],["421",lt.VARIABLE_LENGTH,15],["422",3],["423",lt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],lt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",lt.VARIABLE_LENGTH,15],["391",lt.VARIABLE_LENGTH,18],["392",lt.VARIABLE_LENGTH,15],["393",lt.VARIABLE_LENGTH,18],["703",lt.VARIABLE_LENGTH,30]],lt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",lt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",lt.VARIABLE_LENGTH,20],["8003",lt.VARIABLE_LENGTH,30],["8004",lt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",lt.VARIABLE_LENGTH,30],["8008",lt.VARIABLE_LENGTH,12],["8018",18],["8020",lt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",lt.VARIABLE_LENGTH,70],["8200",lt.VARIABLE_LENGTH,70]];class pl{constructor(o){this.buffer=new H,this.information=o}decodeAllCodes(o,u){let p=u,y=null;do{let x=this.decodeGeneralPurposeField(p,y),w=lt.parseFieldsInGeneralPurpose(x.getNewString());if(w!=null&&o.append(w),x.isRemaining()?y=""+x.getRemainingValue():y=null,p===x.getNewPosition())break;p=x.getNewPosition()}while(!0);return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let u=o;u<o+3;++u)if(this.information.get(u))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let x=this.extractNumericValueFromBitArray(o,4);return x===0?new vi(this.information.getSize(),vi.FNC1,vi.FNC1):new vi(this.information.getSize(),x-1,vi.FNC1)}let u=this.extractNumericValueFromBitArray(o,7),p=(u-8)/11,y=(u-8)%11;return new vi(o+7,p,y)}extractNumericValueFromBitArray(o,u){return pl.extractNumericValueFromBitArray(this.information,o,u)}static extractNumericValueFromBitArray(o,u,p){let y=0;for(let x=0;x<p;++x)o.get(u+x)&&(y|=1<<p-x-1);return y}decodeGeneralPurposeField(o,u){this.buffer.setLengthToZero(),u!=null&&this.buffer.append(u),this.current.setPosition(o);let p=this.parseBlocks();return p!=null&&p.isRemaining()?new qa(this.current.getPosition(),this.buffer.toString(),p.getRemainingValue()):new qa(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,u;do{let p=this.current.getPosition();if(this.current.isAlpha()?(u=this.parseAlphaBlock(),o=u.isFinished()):this.current.isIsoIec646()?(u=this.parseIsoIec646Block(),o=u.isFinished()):(u=this.parseNumericBlock(),o=u.isFinished()),!(p!==this.current.getPosition())&&!o)break}while(!o);return u.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let u;return o.isSecondDigitFNC1()?u=new qa(this.current.getPosition(),this.buffer.toString()):u=new qa(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new ln(!0,u)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let u=new qa(this.current.getPosition(),this.buffer.toString());return new ln(!0,u)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ln(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let u=new qa(this.current.getPosition(),this.buffer.toString());return new ln(!0,u)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ln(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let u=new qa(this.current.getPosition(),this.buffer.toString());return new ln(!0,u)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ln(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(o,5);if(u>=5&&u<16)return!0;if(o+7>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(o,7);if(p>=64&&p<116)return!0;if(o+8>this.information.getSize())return!1;let y=this.extractNumericValueFromBitArray(o,8);return y>=232&&y<253}decodeIsoIec646(o){let u=this.extractNumericValueFromBitArray(o,5);if(u===15)return new Ln(o+5,Ln.FNC1);if(u>=5&&u<15)return new Ln(o+5,"0"+(u-5));let p=this.extractNumericValueFromBitArray(o,7);if(p>=64&&p<90)return new Ln(o+7,""+(p+1));if(p>=90&&p<116)return new Ln(o+7,""+(p+7));let y=this.extractNumericValueFromBitArray(o,8),x;switch(y){case 232:x="!";break;case 233:x='"';break;case 234:x="%";break;case 235:x="&";break;case 236:x="'";break;case 237:x="(";break;case 238:x=")";break;case 239:x="*";break;case 240:x="+";break;case 241:x=",";break;case 242:x="-";break;case 243:x=".";break;case 244:x="/";break;case 245:x=":";break;case 246:x=";";break;case 247:x="<";break;case 248:x="=";break;case 249:x=">";break;case 250:x="?";break;case 251:x="_";break;case 252:x=" ";break;default:throw new B}return new Ln(o+8,x)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(o,5);if(u>=5&&u<16)return!0;if(o+6>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(o,6);return p>=16&&p<63}decodeAlphanumeric(o){let u=this.extractNumericValueFromBitArray(o,5);if(u===15)return new Ln(o+5,Ln.FNC1);if(u>=5&&u<15)return new Ln(o+5,"0"+(u-5));let p=this.extractNumericValueFromBitArray(o,6);if(p>=32&&p<58)return new Ln(o+6,""+(p+33));let y;switch(p){case 58:y="*";break;case 59:y=",";break;case 60:y="-";break;case 61:y=".";break;case 62:y="/";break;default:throw new Ge("Decoding invalid alphanumeric value: "+p)}return new Ln(o+6,y)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let u=0;u<5&&u+o<this.information.getSize();++u)if(u===2){if(!this.information.get(o+2))return!1}else if(this.information.get(o+u))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let u=o;u<o+3;++u)if(this.information.get(u))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let u=0;u<4&&u+o<this.information.getSize();++u)if(this.information.get(o+u))return!1;return!0}}class bh{constructor(o){this.information=o,this.generalDecoder=new pl(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Oi extends bh{constructor(o){super(o)}encodeCompressedGtin(o,u){o.append("(01)");let p=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,u,p)}encodeCompressedGtinWithoutAI(o,u,p){for(let y=0;y<4;++y){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(u+10*y,10);x/100===0&&o.append("0"),x/10===0&&o.append("0"),o.append(x)}Oi.appendCheckDigit(o,p)}static appendCheckDigit(o,u){let p=0;for(let y=0;y<13;y++){let x=o.charAt(y+u).charCodeAt(0)-48;p+=(y&1)===0?3*x:x}p=10-p%10,p===10&&(p=0),o.append(p)}}Oi.GTIN_SIZE=40;class ra extends Oi{constructor(o){super(o)}parseInformation(){let o=new H;o.append("(01)");let u=o.length(),p=this.getGeneralDecoder().extractNumericValueFromBitArray(ra.HEADER_SIZE,4);return o.append(p),this.encodeCompressedGtinWithoutAI(o,ra.HEADER_SIZE+4,u),this.getGeneralDecoder().decodeAllCodes(o,ra.HEADER_SIZE+44)}}ra.HEADER_SIZE=4;class Tc extends bh{constructor(o){super(o)}parseInformation(){let o=new H;return this.getGeneralDecoder().decodeAllCodes(o,Tc.HEADER_SIZE)}}Tc.HEADER_SIZE=5;class Nc extends Oi{constructor(o){super(o)}encodeCompressedWeight(o,u,p){let y=this.getGeneralDecoder().extractNumericValueFromBitArray(u,p);this.addWeightCode(o,y);let x=this.checkWeight(y),w=1e5;for(let A=0;A<5;++A)x/w===0&&o.append("0"),w/=10;o.append(x)}}class za extends Nc{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=za.HEADER_SIZE+Nc.GTIN_SIZE+za.WEIGHT_SIZE)throw new X;let o=new H;return this.encodeCompressedGtin(o,za.HEADER_SIZE),this.encodeCompressedWeight(o,za.HEADER_SIZE+Nc.GTIN_SIZE,za.WEIGHT_SIZE),o.toString()}}za.HEADER_SIZE=5,za.WEIGHT_SIZE=15;class Eg extends za{constructor(o){super(o)}addWeightCode(o,u){o.append("(3103)")}checkWeight(o){return o}}class Cg extends za{constructor(o){super(o)}addWeightCode(o,u){u<1e4?o.append("(3202)"):o.append("(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}class ya extends Oi{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<ya.HEADER_SIZE+Oi.GTIN_SIZE)throw new X;let o=new H;this.encodeCompressedGtin(o,ya.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(ya.HEADER_SIZE+Oi.GTIN_SIZE,ya.LAST_DIGIT_SIZE);o.append("(392"),o.append(u),o.append(")");let p=this.getGeneralDecoder().decodeGeneralPurposeField(ya.HEADER_SIZE+Oi.GTIN_SIZE+ya.LAST_DIGIT_SIZE,null);return o.append(p.getNewString()),o.toString()}}ya.HEADER_SIZE=8,ya.LAST_DIGIT_SIZE=2;class li extends Oi{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<li.HEADER_SIZE+Oi.GTIN_SIZE)throw new X;let o=new H;this.encodeCompressedGtin(o,li.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(li.HEADER_SIZE+Oi.GTIN_SIZE,li.LAST_DIGIT_SIZE);o.append("(393"),o.append(u),o.append(")");let p=this.getGeneralDecoder().extractNumericValueFromBitArray(li.HEADER_SIZE+Oi.GTIN_SIZE+li.LAST_DIGIT_SIZE,li.FIRST_THREE_DIGITS_SIZE);p/100==0&&o.append("0"),p/10==0&&o.append("0"),o.append(p);let y=this.getGeneralDecoder().decodeGeneralPurposeField(li.HEADER_SIZE+Oi.GTIN_SIZE+li.LAST_DIGIT_SIZE+li.FIRST_THREE_DIGITS_SIZE,null);return o.append(y.getNewString()),o.toString()}}li.HEADER_SIZE=8,li.LAST_DIGIT_SIZE=2,li.FIRST_THREE_DIGITS_SIZE=10;class Yr extends Nc{constructor(o,u,p){super(o),this.dateCode=p,this.firstAIdigits=u}parseInformation(){if(this.getInformation().getSize()!=Yr.HEADER_SIZE+Yr.GTIN_SIZE+Yr.WEIGHT_SIZE+Yr.DATE_SIZE)throw new X;let o=new H;return this.encodeCompressedGtin(o,Yr.HEADER_SIZE),this.encodeCompressedWeight(o,Yr.HEADER_SIZE+Yr.GTIN_SIZE,Yr.WEIGHT_SIZE),this.encodeCompressedDate(o,Yr.HEADER_SIZE+Yr.GTIN_SIZE+Yr.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,u){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(u,Yr.DATE_SIZE);if(p==38400)return;o.append("("),o.append(this.dateCode),o.append(")");let y=p%32;p/=32;let x=p%12+1;p/=12;let w=p;w/10==0&&o.append("0"),o.append(w),x/10==0&&o.append("0"),o.append(x),y/10==0&&o.append("0"),o.append(y)}addWeightCode(o,u){o.append("("),o.append(this.firstAIdigits),o.append(u/1e5),o.append(")")}checkWeight(o){return o%1e5}}Yr.HEADER_SIZE=8,Yr.WEIGHT_SIZE=20,Yr.DATE_SIZE=16;function Ag(K){try{if(K.get(1))return new ra(K);if(!K.get(2))return new Tc(K);switch(pl.extractNumericValueFromBitArray(K,1,4)){case 4:return new Eg(K);case 5:return new Cg(K)}switch(pl.extractNumericValueFromBitArray(K,1,5)){case 12:return new ya(K);case 13:return new li(K)}switch(pl.extractNumericValueFromBitArray(K,1,7)){case 56:return new Yr(K,"310","11");case 57:return new Yr(K,"320","11");case 58:return new Yr(K,"310","13");case 59:return new Yr(K,"320","13");case 60:return new Yr(K,"310","15");case 61:return new Yr(K,"320","15");case 62:return new Yr(K,"310","17");case 63:return new Yr(K,"320","17")}}catch(o){throw console.log(o),new Ge("unknown decoder: "+K)}}class Mr{constructor(o,u,p,y){this.leftchar=o,this.rightchar=u,this.finderpattern=p,this.maybeLast=y}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(o,u){return o instanceof Mr?Mr.equalsOrNull(o.leftchar,u.leftchar)&&Mr.equalsOrNull(o.rightchar,u.rightchar)&&Mr.equalsOrNull(o.finderpattern,u.finderpattern):!1}static equalsOrNull(o,u){return o===null?u===null:Mr.equals(o,u)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class _h{constructor(o,u,p){this.pairs=o,this.rowNumber=u,this.wasReversed=p}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,u){return o instanceof _h?this.checkEqualitity(o,u)&&o.wasReversed===u.wasReversed:!1}checkEqualitity(o,u){if(!o||!u)return;let p;return o.forEach((y,x)=>{u.forEach(w=>{y.getLeftChar().getValue()===w.getLeftChar().getValue()&&y.getRightChar().getValue()===w.getRightChar().getValue()&&y.getFinderPatter().getValue()===w.getFinderPatter().getValue()&&(p=!0)})}),p}}class Be extends Ht{constructor(o){super(...arguments),this.pairs=new Array(Be.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=o===!0}decodeRow(o,u,p){this.pairs.length=0,this.startFromEven=!1;try{return Be.constructResult(this.decodeRow2pairs(o,u))}catch(y){this.verbose&&console.log(y)}return this.pairs.length=0,this.startFromEven=!0,Be.constructResult(this.decodeRow2pairs(o,u))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,u){let p=!1;for(;!p;)try{this.pairs.push(this.retrieveNextPair(u,this.pairs,o))}catch(x){if(x instanceof X){if(!this.pairs.length)throw new X;p=!0}}if(this.checkChecksum())return this.pairs;let y;if(this.rows.length?y=!0:y=!1,this.storeRow(o,!1),y){let x=this.checkRowsBoolean(!1);if(x!=null||(x=this.checkRowsBoolean(!0),x!=null))return x}throw new X}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let u=null;try{u=this.checkRows(new Array,0)}catch(p){this.verbose&&console.log(p)}return o&&(this.rows=this.rows.reverse()),u}checkRows(o,u){for(let p=u;p<this.rows.length;p++){let y=this.rows[p];this.pairs.length=0;for(let w of o)this.pairs.push(w.getPairs());if(this.pairs.push(y.getPairs()),!Be.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let x=new Array(o);x.push(y);try{return this.checkRows(x,p+1)}catch(w){this.verbose&&console.log(w)}}throw new X}static isValidSequence(o){for(let u of Be.FINDER_PATTERN_SEQUENCES){if(o.length>u.length)continue;let p=!0;for(let y=0;y<o.length;y++)if(o[y].getFinderPattern().getValue()!=u[y]){p=!1;break}if(p)return!0}return!1}storeRow(o,u){let p=0,y=!1,x=!1;for(;p<this.rows.length;){let w=this.rows[p];if(w.getRowNumber()>o){x=w.isEquivalent(this.pairs);break}y=w.isEquivalent(this.pairs),p++}x||y||Be.isPartialRow(this.pairs,this.rows)||(this.rows.push(p,new _h(this.pairs,o,u)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,u){for(let p of u)if(p.getPairs().length!==o.length){for(let y of p.getPairs())for(let x of o)if(Mr.equals(y,x))break}}static isPartialRow(o,u){for(let p of u){let y=!0;for(let x of o){let w=!1;for(let A of p.getPairs())if(x.equals(A)){w=!0;break}if(!w){y=!1;break}}if(y)return!0}return!1}getRows(){return this.rows}static constructResult(o){let u=va.buildBitArray(o),y=Ag(u).parseInformation(),x=o[0].getFinderPattern().getResultPoints(),w=o[o.length-1].getFinderPattern().getResultPoints(),A=[x[0],x[1],w[0],w[1]];return new ke(y,null,null,A,je.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),u=o.getLeftChar(),p=o.getRightChar();if(p==null)return!1;let y=p.getChecksumPortion(),x=2;for(let A=1;A<this.pairs.size();++A){let k=this.pairs.get(A);y+=k.getLeftChar().getChecksumPortion(),x++;let D=k.getRightChar();D!=null&&(y+=D.getChecksumPortion(),x++)}return y%=211,211*(x-4)+y==u.getValue()}static getNextSecondBar(o,u){let p;return o.get(u)?(p=o.getNextUnset(u),p=o.getNextSet(p)):(p=o.getNextSet(u),p=o.getNextUnset(p)),p}retrieveNextPair(o,u,p){let y=u.length%2==0;this.startFromEven&&(y=!y);let x,w=!0,A=-1;do this.findNextPair(o,u,A),x=this.parseFoundFinderPattern(o,p,y),x==null?A=Be.getNextSecondBar(o,this.startEnd[0]):w=!1;while(w);let k=this.decodeDataCharacter(o,x,y,!0);if(!this.isEmptyPair(u)&&u[u.length-1].mustBeLast())throw new X;let D;try{D=this.decodeDataCharacter(o,x,y,!1)}catch(V){D=null,this.verbose&&console.log(V)}return new Mr(k,D,x,!0)}isEmptyPair(o){return o.length===0}findNextPair(o,u,p){let y=this.getDecodeFinderCounters();y[0]=0,y[1]=0,y[2]=0,y[3]=0;let x=o.getSize(),w;p>=0?w=p:this.isEmptyPair(u)?w=0:w=u[u.length-1].getFinderPattern().getStartEnd()[1];let A=u.length%2!=0;this.startFromEven&&(A=!A);let k=!1;for(;w<x&&(k=!o.get(w),!!k);)w++;let D=0,V=w;for(let Y=w;Y<x;Y++)if(o.get(Y)!=k)y[D]++;else{if(D==3){if(A&&Be.reverseCounters(y),Be.isFinderPattern(y)){this.startEnd[0]=V,this.startEnd[1]=Y;return}A&&Be.reverseCounters(y),V+=y[0]+y[1],y[0]=y[2],y[1]=y[3],y[2]=0,y[3]=0,D--}else D++;y[D]=1,k=!k}throw new X}static reverseCounters(o){let u=o.length;for(let p=0;p<u/2;++p){let y=o[p];o[p]=o[u-p-1],o[u-p-1]=y}}parseFoundFinderPattern(o,u,p){let y,x,w;if(p){let D=this.startEnd[0]-1;for(;D>=0&&!o.get(D);)D--;D++,y=this.startEnd[0]-D,x=D,w=this.startEnd[1]}else x=this.startEnd[0],w=o.getNextUnset(this.startEnd[1]+1),y=w-this.startEnd[1];let A=this.getDecodeFinderCounters();E.arraycopy(A,0,A,1,A.length-1),A[0]=y;let k;try{k=this.parseFinderValue(A,Be.FINDER_PATTERNS)}catch{return null}return new Hn(k,[x,w],x,w,u)}decodeDataCharacter(o,u,p,y){let x=this.getDataCharacterCounters();for(let jr=0;jr<x.length;jr++)x[jr]=0;if(y)Be.recordPatternInReverse(o,u.getStartEnd()[0],x);else{Be.recordPattern(o,u.getStartEnd()[1],x);for(let jr=0,xn=x.length-1;jr<xn;jr++,xn--){let wi=x[jr];x[jr]=x[xn],x[xn]=wi}}let w=17,A=at.sum(new Int32Array(x))/w,k=(u.getStartEnd()[1]-u.getStartEnd()[0])/15;if(Math.abs(A-k)/k>.3)throw new X;let D=this.getOddCounts(),V=this.getEvenCounts(),Y=this.getOddRoundingErrors(),ee=this.getEvenRoundingErrors();for(let jr=0;jr<x.length;jr++){let xn=1*x[jr]/A,wi=xn+.5;if(wi<1){if(xn<.3)throw new X;wi=1}else if(wi>8){if(xn>8.7)throw new X;wi=8}let ko=jr/2;(jr&1)==0?(D[ko]=wi,Y[ko]=xn-wi):(V[ko]=wi,ee[ko]=xn-wi)}this.adjustOddEvenCounts(w);let oe=4*u.getValue()+(p?0:2)+(y?0:1)-1,pe=0,ge=0;for(let jr=D.length-1;jr>=0;jr--){if(Be.isNotA1left(u,p,y)){let xn=Be.WEIGHTS[oe][2*jr];ge+=D[jr]*xn}pe+=D[jr]}let xe=0;for(let jr=V.length-1;jr>=0;jr--)if(Be.isNotA1left(u,p,y)){let xn=Be.WEIGHTS[oe][2*jr+1];xe+=V[jr]*xn}let Ce=ge+xe;if((pe&1)!=0||pe>13||pe<4)throw new X;let Ze=(13-pe)/2,Qe=Be.SYMBOL_WIDEST[Ze],We=9-Qe,sr=on.getRSSvalue(D,Qe,!0),Ut=on.getRSSvalue(V,We,!1),Ni=Be.EVEN_TOTAL_SUBSET[Ze],Sa=Be.GSUM[Ze],Pn=sr*Ni+Ut+Sa;return new Sn(Pn,Ce)}static isNotA1left(o,u,p){return!(o.getValue()==0&&u&&p)}adjustOddEvenCounts(o){let u=at.sum(new Int32Array(this.getOddCounts())),p=at.sum(new Int32Array(this.getEvenCounts())),y=!1,x=!1;u>13?x=!0:u<4&&(y=!0);let w=!1,A=!1;p>13?A=!0:p<4&&(w=!0);let k=u+p-o,D=(u&1)==1,V=(p&1)==0;if(k==1)if(D){if(V)throw new X;x=!0}else{if(!V)throw new X;A=!0}else if(k==-1)if(D){if(V)throw new X;y=!0}else{if(!V)throw new X;w=!0}else if(k==0){if(D){if(!V)throw new X;u<p?(y=!0,A=!0):(x=!0,w=!0)}else if(V)throw new X}else throw new X;if(y){if(x)throw new X;Be.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&Be.decrement(this.getOddCounts(),this.getOddRoundingErrors()),w){if(A)throw new X;Be.increment(this.getEvenCounts(),this.getOddRoundingErrors())}A&&Be.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Be.SYMBOL_WIDEST=[7,5,4,3,1],Be.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Be.GSUM=[0,348,1388,2948,3988],Be.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Be.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Be.FINDER_PAT_A=0,Be.FINDER_PAT_B=1,Be.FINDER_PAT_C=2,Be.FINDER_PAT_D=3,Be.FINDER_PAT_E=4,Be.FINDER_PAT_F=5,Be.FINDER_PATTERN_SEQUENCES=[[Be.FINDER_PAT_A,Be.FINDER_PAT_A],[Be.FINDER_PAT_A,Be.FINDER_PAT_B,Be.FINDER_PAT_B],[Be.FINDER_PAT_A,Be.FINDER_PAT_C,Be.FINDER_PAT_B,Be.FINDER_PAT_D],[Be.FINDER_PAT_A,Be.FINDER_PAT_E,Be.FINDER_PAT_B,Be.FINDER_PAT_D,Be.FINDER_PAT_C],[Be.FINDER_PAT_A,Be.FINDER_PAT_E,Be.FINDER_PAT_B,Be.FINDER_PAT_D,Be.FINDER_PAT_D,Be.FINDER_PAT_F],[Be.FINDER_PAT_A,Be.FINDER_PAT_E,Be.FINDER_PAT_B,Be.FINDER_PAT_D,Be.FINDER_PAT_E,Be.FINDER_PAT_F,Be.FINDER_PAT_F],[Be.FINDER_PAT_A,Be.FINDER_PAT_A,Be.FINDER_PAT_B,Be.FINDER_PAT_B,Be.FINDER_PAT_C,Be.FINDER_PAT_C,Be.FINDER_PAT_D,Be.FINDER_PAT_D],[Be.FINDER_PAT_A,Be.FINDER_PAT_A,Be.FINDER_PAT_B,Be.FINDER_PAT_B,Be.FINDER_PAT_C,Be.FINDER_PAT_C,Be.FINDER_PAT_D,Be.FINDER_PAT_E,Be.FINDER_PAT_E],[Be.FINDER_PAT_A,Be.FINDER_PAT_A,Be.FINDER_PAT_B,Be.FINDER_PAT_B,Be.FINDER_PAT_C,Be.FINDER_PAT_C,Be.FINDER_PAT_D,Be.FINDER_PAT_E,Be.FINDER_PAT_F,Be.FINDER_PAT_F],[Be.FINDER_PAT_A,Be.FINDER_PAT_A,Be.FINDER_PAT_B,Be.FINDER_PAT_B,Be.FINDER_PAT_C,Be.FINDER_PAT_D,Be.FINDER_PAT_D,Be.FINDER_PAT_E,Be.FINDER_PAT_E,Be.FINDER_PAT_F,Be.FINDER_PAT_F]],Be.MAX_PAIRS=11;class Og extends Sn{constructor(o,u,p){super(o,u),this.count=0,this.finderPattern=p}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class zr extends Ht{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,u,p){const y=this.decodePair(u,!1,o,p);zr.addOrTally(this.possibleLeftPairs,y),u.reverse();let x=this.decodePair(u,!0,o,p);zr.addOrTally(this.possibleRightPairs,x),u.reverse();for(let w of this.possibleLeftPairs)if(w.getCount()>1){for(let A of this.possibleRightPairs)if(A.getCount()>1&&zr.checkChecksum(w,A))return zr.constructResult(w,A)}throw new X}static addOrTally(o,u){if(u==null)return;let p=!1;for(let y of o)if(y.getValue()===u.getValue()){y.incrementCount(),p=!0;break}p||o.push(u)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,u){let p=4537077*o.getValue()+u.getValue(),y=new String(p).toString(),x=new H;for(let D=13-y.length;D>0;D--)x.append("0");x.append(y);let w=0;for(let D=0;D<13;D++){let V=x.charAt(D).charCodeAt(0)-48;w+=(D&1)===0?3*V:V}w=10-w%10,w===10&&(w=0),x.append(w.toString());let A=o.getFinderPattern().getResultPoints(),k=u.getFinderPattern().getResultPoints();return new ke(x.toString(),null,0,[A[0],A[1],k[0],k[1]],je.RSS_14,new Date().getTime())}static checkChecksum(o,u){let p=(o.getChecksumPortion()+16*u.getChecksumPortion())%79,y=9*o.getFinderPattern().getValue()+u.getFinderPattern().getValue();return y>72&&y--,y>8&&y--,p===y}decodePair(o,u,p,y){try{let x=this.findFinderPattern(o,u),w=this.parseFoundFinderPattern(o,p,u,x),A=y==null?null:y.get(M.NEED_RESULT_POINT_CALLBACK);if(A!=null){let V=(x[0]+x[1])/2;u&&(V=o.getSize()-1-V),A.foundPossibleResultPoint(new fe(V,p))}let k=this.decodeDataCharacter(o,w,!0),D=this.decodeDataCharacter(o,w,!1);return new Og(1597*k.getValue()+D.getValue(),k.getChecksumPortion()+4*D.getChecksumPortion(),w)}catch{return null}}decodeDataCharacter(o,u,p){let y=this.getDataCharacterCounters();for(let xe=0;xe<y.length;xe++)y[xe]=0;if(p)ar.recordPatternInReverse(o,u.getStartEnd()[0],y);else{ar.recordPattern(o,u.getStartEnd()[1]+1,y);for(let xe=0,Ce=y.length-1;xe<Ce;xe++,Ce--){let Ze=y[xe];y[xe]=y[Ce],y[Ce]=Ze}}let x=p?16:15,w=at.sum(new Int32Array(y))/x,A=this.getOddCounts(),k=this.getEvenCounts(),D=this.getOddRoundingErrors(),V=this.getEvenRoundingErrors();for(let xe=0;xe<y.length;xe++){let Ce=y[xe]/w,Ze=Math.floor(Ce+.5);Ze<1?Ze=1:Ze>8&&(Ze=8);let Qe=Math.floor(xe/2);(xe&1)===0?(A[Qe]=Ze,D[Qe]=Ce-Ze):(k[Qe]=Ze,V[Qe]=Ce-Ze)}this.adjustOddEvenCounts(p,x);let Y=0,ee=0;for(let xe=A.length-1;xe>=0;xe--)ee*=9,ee+=A[xe],Y+=A[xe];let oe=0,pe=0;for(let xe=k.length-1;xe>=0;xe--)oe*=9,oe+=k[xe],pe+=k[xe];let ge=ee+3*oe;if(p){if((Y&1)!==0||Y>12||Y<4)throw new X;let xe=(12-Y)/2,Ce=zr.OUTSIDE_ODD_WIDEST[xe],Ze=9-Ce,Qe=on.getRSSvalue(A,Ce,!1),We=on.getRSSvalue(k,Ze,!0),sr=zr.OUTSIDE_EVEN_TOTAL_SUBSET[xe],Ut=zr.OUTSIDE_GSUM[xe];return new Sn(Qe*sr+We+Ut,ge)}else{if((pe&1)!==0||pe>10||pe<4)throw new X;let xe=(10-pe)/2,Ce=zr.INSIDE_ODD_WIDEST[xe],Ze=9-Ce,Qe=on.getRSSvalue(A,Ce,!0),We=on.getRSSvalue(k,Ze,!1),sr=zr.INSIDE_ODD_TOTAL_SUBSET[xe],Ut=zr.INSIDE_GSUM[xe];return new Sn(We*sr+Qe+Ut,ge)}}findFinderPattern(o,u){let p=this.getDecodeFinderCounters();p[0]=0,p[1]=0,p[2]=0,p[3]=0;let y=o.getSize(),x=!1,w=0;for(;w<y&&(x=!o.get(w),u!==x);)w++;let A=0,k=w;for(let D=w;D<y;D++)if(o.get(D)!==x)p[A]++;else{if(A===3){if(Ht.isFinderPattern(p))return[k,D];k+=p[0]+p[1],p[0]=p[2],p[1]=p[3],p[2]=0,p[3]=0,A--}else A++;p[A]=1,x=!x}throw new X}parseFoundFinderPattern(o,u,p,y){let x=o.get(y[0]),w=y[0]-1;for(;w>=0&&x!==o.get(w);)w--;w++;const A=y[0]-w,k=this.getDecodeFinderCounters(),D=new Int32Array(k.length);E.arraycopy(k,0,D,1,k.length-1),D[0]=A;const V=this.parseFinderValue(D,zr.FINDER_PATTERNS);let Y=w,ee=y[1];return p&&(Y=o.getSize()-1-Y,ee=o.getSize()-1-ee),new Hn(V,[w,y[1]],Y,ee,u)}adjustOddEvenCounts(o,u){let p=at.sum(new Int32Array(this.getOddCounts())),y=at.sum(new Int32Array(this.getEvenCounts())),x=!1,w=!1,A=!1,k=!1;o?(p>12?w=!0:p<4&&(x=!0),y>12?k=!0:y<4&&(A=!0)):(p>11?w=!0:p<5&&(x=!0),y>10?k=!0:y<4&&(A=!0));let D=p+y-u,V=(p&1)===(o?1:0),Y=(y&1)===1;if(D===1)if(V){if(Y)throw new X;w=!0}else{if(!Y)throw new X;k=!0}else if(D===-1)if(V){if(Y)throw new X;x=!0}else{if(!Y)throw new X;A=!0}else if(D===0){if(V){if(!Y)throw new X;p<y?(x=!0,k=!0):(w=!0,A=!0)}else if(Y)throw new X}else throw new X;if(x){if(w)throw new X;Ht.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(w&&Ht.decrement(this.getOddCounts(),this.getOddRoundingErrors()),A){if(k)throw new X;Ht.increment(this.getEvenCounts(),this.getOddRoundingErrors())}k&&Ht.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}zr.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],zr.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],zr.OUTSIDE_GSUM=[0,161,961,2015,2715],zr.INSIDE_GSUM=[0,336,1036,1516],zr.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],zr.INSIDE_ODD_WIDEST=[2,4,6,8],zr.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ml extends ar{constructor(o,u){super(),this.readers=[],this.verbose=u===!0;const p=o?o.get(M.POSSIBLE_FORMATS):null,y=o&&o.get(M.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;p?((p.includes(je.EAN_13)||p.includes(je.UPC_A)||p.includes(je.EAN_8)||p.includes(je.UPC_E))&&this.readers.push(new vr(o)),p.includes(je.CODE_39)&&this.readers.push(new Vr(y)),p.includes(je.CODE_128)&&this.readers.push(new Ke),p.includes(je.ITF)&&this.readers.push(new Jt),p.includes(je.RSS_14)&&this.readers.push(new zr),p.includes(je.RSS_EXPANDED)&&this.readers.push(new Be(this.verbose))):(this.readers.push(new vr(o)),this.readers.push(new Vr),this.readers.push(new vr(o)),this.readers.push(new Ke),this.readers.push(new Jt),this.readers.push(new zr),this.readers.push(new Be(this.verbose)))}decodeRow(o,u,p){for(let y=0;y<this.readers.length;y++)try{return this.readers[y].decodeRow(o,u,p)}catch{}throw new X}reset(){this.readers.forEach(o=>o.reset())}}class Tg extends we{constructor(o=500,u){super(new ml(u),o,u)}}class yr{constructor(o,u,p){this.ecCodewords=o,this.ecBlocks=[u],p&&this.ecBlocks.push(p)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Zt{constructor(o,u){this.count=o,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class dr{constructor(o,u,p,y,x,w){this.versionNumber=o,this.symbolSizeRows=u,this.symbolSizeColumns=p,this.dataRegionSizeRows=y,this.dataRegionSizeColumns=x,this.ecBlocks=w;let A=0;const k=w.getECCodewords(),D=w.getECBlocks();for(let V of D)A+=V.getCount()*(V.getDataCodewords()+k);this.totalCodewords=A}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,u){if((o&1)!==0||(u&1)!==0)throw new B;for(let p of dr.VERSIONS)if(p.symbolSizeRows===o&&p.symbolSizeColumns===u)return p;throw new B}toString(){return""+this.versionNumber}static buildVersions(){return[new dr(1,10,10,8,8,new yr(5,new Zt(1,3))),new dr(2,12,12,10,10,new yr(7,new Zt(1,5))),new dr(3,14,14,12,12,new yr(10,new Zt(1,8))),new dr(4,16,16,14,14,new yr(12,new Zt(1,12))),new dr(5,18,18,16,16,new yr(14,new Zt(1,18))),new dr(6,20,20,18,18,new yr(18,new Zt(1,22))),new dr(7,22,22,20,20,new yr(20,new Zt(1,30))),new dr(8,24,24,22,22,new yr(24,new Zt(1,36))),new dr(9,26,26,24,24,new yr(28,new Zt(1,44))),new dr(10,32,32,14,14,new yr(36,new Zt(1,62))),new dr(11,36,36,16,16,new yr(42,new Zt(1,86))),new dr(12,40,40,18,18,new yr(48,new Zt(1,114))),new dr(13,44,44,20,20,new yr(56,new Zt(1,144))),new dr(14,48,48,22,22,new yr(68,new Zt(1,174))),new dr(15,52,52,24,24,new yr(42,new Zt(2,102))),new dr(16,64,64,14,14,new yr(56,new Zt(2,140))),new dr(17,72,72,16,16,new yr(36,new Zt(4,92))),new dr(18,80,80,18,18,new yr(48,new Zt(4,114))),new dr(19,88,88,20,20,new yr(56,new Zt(4,144))),new dr(20,96,96,22,22,new yr(68,new Zt(4,174))),new dr(21,104,104,24,24,new yr(56,new Zt(6,136))),new dr(22,120,120,18,18,new yr(68,new Zt(6,175))),new dr(23,132,132,20,20,new yr(62,new Zt(8,163))),new dr(24,144,144,22,22,new yr(62,new Zt(8,156),new Zt(2,155))),new dr(25,8,18,6,16,new yr(7,new Zt(1,5))),new dr(26,8,32,6,14,new yr(11,new Zt(1,10))),new dr(27,12,26,10,24,new yr(14,new Zt(1,16))),new dr(28,12,36,10,16,new yr(18,new Zt(1,22))),new dr(29,16,36,14,16,new yr(24,new Zt(1,32))),new dr(30,16,48,14,22,new yr(28,new Zt(1,49)))]}}dr.VERSIONS=dr.buildVersions();class Fi{constructor(o){const u=o.getHeight();if(u<8||u>144||(u&1)!==0)throw new B;this.version=Fi.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new Q(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){const u=o.getHeight(),p=o.getWidth();return dr.getVersionForDimensions(u,p)}readCodewords(){const o=new Int8Array(this.version.getTotalCodewords());let u=0,p=4,y=0;const x=this.mappingBitMatrix.getHeight(),w=this.mappingBitMatrix.getWidth();let A=!1,k=!1,D=!1,V=!1;do if(p===x&&y===0&&!A)o[u++]=this.readCorner1(x,w)&255,p-=2,y+=2,A=!0;else if(p===x-2&&y===0&&(w&3)!==0&&!k)o[u++]=this.readCorner2(x,w)&255,p-=2,y+=2,k=!0;else if(p===x+4&&y===2&&(w&7)===0&&!D)o[u++]=this.readCorner3(x,w)&255,p-=2,y+=2,D=!0;else if(p===x-2&&y===0&&(w&7)===4&&!V)o[u++]=this.readCorner4(x,w)&255,p-=2,y+=2,V=!0;else{do p<x&&y>=0&&!this.readMappingMatrix.get(y,p)&&(o[u++]=this.readUtah(p,y,x,w)&255),p-=2,y+=2;while(p>=0&&y<w);p+=1,y+=3;do p>=0&&y<w&&!this.readMappingMatrix.get(y,p)&&(o[u++]=this.readUtah(p,y,x,w)&255),p+=2,y-=2;while(p<x&&y>=0);p+=3,y+=1}while(p<x||y<w);if(u!==this.version.getTotalCodewords())throw new B;return o}readModule(o,u,p,y){return o<0&&(o+=p,u+=4-(p+4&7)),u<0&&(u+=y,o+=4-(y+4&7)),this.readMappingMatrix.set(u,o),this.mappingBitMatrix.get(u,o)}readUtah(o,u,p,y){let x=0;return this.readModule(o-2,u-2,p,y)&&(x|=1),x<<=1,this.readModule(o-2,u-1,p,y)&&(x|=1),x<<=1,this.readModule(o-1,u-2,p,y)&&(x|=1),x<<=1,this.readModule(o-1,u-1,p,y)&&(x|=1),x<<=1,this.readModule(o-1,u,p,y)&&(x|=1),x<<=1,this.readModule(o,u-2,p,y)&&(x|=1),x<<=1,this.readModule(o,u-1,p,y)&&(x|=1),x<<=1,this.readModule(o,u,p,y)&&(x|=1),x}readCorner1(o,u){let p=0;return this.readModule(o-1,0,o,u)&&(p|=1),p<<=1,this.readModule(o-1,1,o,u)&&(p|=1),p<<=1,this.readModule(o-1,2,o,u)&&(p|=1),p<<=1,this.readModule(0,u-2,o,u)&&(p|=1),p<<=1,this.readModule(0,u-1,o,u)&&(p|=1),p<<=1,this.readModule(1,u-1,o,u)&&(p|=1),p<<=1,this.readModule(2,u-1,o,u)&&(p|=1),p<<=1,this.readModule(3,u-1,o,u)&&(p|=1),p}readCorner2(o,u){let p=0;return this.readModule(o-3,0,o,u)&&(p|=1),p<<=1,this.readModule(o-2,0,o,u)&&(p|=1),p<<=1,this.readModule(o-1,0,o,u)&&(p|=1),p<<=1,this.readModule(0,u-4,o,u)&&(p|=1),p<<=1,this.readModule(0,u-3,o,u)&&(p|=1),p<<=1,this.readModule(0,u-2,o,u)&&(p|=1),p<<=1,this.readModule(0,u-1,o,u)&&(p|=1),p<<=1,this.readModule(1,u-1,o,u)&&(p|=1),p}readCorner3(o,u){let p=0;return this.readModule(o-1,0,o,u)&&(p|=1),p<<=1,this.readModule(o-1,u-1,o,u)&&(p|=1),p<<=1,this.readModule(0,u-3,o,u)&&(p|=1),p<<=1,this.readModule(0,u-2,o,u)&&(p|=1),p<<=1,this.readModule(0,u-1,o,u)&&(p|=1),p<<=1,this.readModule(1,u-3,o,u)&&(p|=1),p<<=1,this.readModule(1,u-2,o,u)&&(p|=1),p<<=1,this.readModule(1,u-1,o,u)&&(p|=1),p}readCorner4(o,u){let p=0;return this.readModule(o-3,0,o,u)&&(p|=1),p<<=1,this.readModule(o-2,0,o,u)&&(p|=1),p<<=1,this.readModule(o-1,0,o,u)&&(p|=1),p<<=1,this.readModule(0,u-2,o,u)&&(p|=1),p<<=1,this.readModule(0,u-1,o,u)&&(p|=1),p<<=1,this.readModule(1,u-1,o,u)&&(p|=1),p<<=1,this.readModule(2,u-1,o,u)&&(p|=1),p<<=1,this.readModule(3,u-1,o,u)&&(p|=1),p}extractDataRegion(o){const u=this.version.getSymbolSizeRows(),p=this.version.getSymbolSizeColumns();if(o.getHeight()!==u)throw new v("Dimension of bitMatrix must match the version size");const y=this.version.getDataRegionSizeRows(),x=this.version.getDataRegionSizeColumns(),w=u/y|0,A=p/x|0,k=w*y,D=A*x,V=new Q(D,k);for(let Y=0;Y<w;++Y){const ee=Y*y;for(let oe=0;oe<A;++oe){const pe=oe*x;for(let ge=0;ge<y;++ge){const xe=Y*(y+2)+1+ge,Ce=ee+ge;for(let Ze=0;Ze<x;++Ze){const Qe=oe*(x+2)+1+Ze;if(o.get(Qe,xe)){const We=pe+Ze;V.set(We,Ce)}}}}}return V}}class Sh{constructor(o,u){this.numDataCodewords=o,this.codewords=u}static getDataBlocks(o,u){const p=u.getECBlocks();let y=0;const x=p.getECBlocks();for(let ge of x)y+=ge.getCount();const w=new Array(y);let A=0;for(let ge of x)for(let xe=0;xe<ge.getCount();xe++){const Ce=ge.getDataCodewords(),Ze=p.getECCodewords()+Ce;w[A++]=new Sh(Ce,new Uint8Array(Ze))}const D=w[0].codewords.length-p.getECCodewords(),V=D-1;let Y=0;for(let ge=0;ge<V;ge++)for(let xe=0;xe<A;xe++)w[xe].codewords[ge]=o[Y++];const ee=u.getVersionNumber()===24,oe=ee?8:A;for(let ge=0;ge<oe;ge++)w[ge].codewords[D-1]=o[Y++];const pe=w[0].codewords.length;for(let ge=D;ge<pe;ge++)for(let xe=0;xe<A;xe++){const Ce=ee?(xe+8)%A:xe,Ze=ee&&Ce>7?ge-1:ge;w[Ce].codewords[Ze]=o[Y++]}if(Y!==o.length)throw new v;return w}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Eh{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new v(""+o);let u=0,p=this.bitOffset,y=this.byteOffset;const x=this.bytes;if(p>0){const w=8-p,A=o<w?o:w,k=w-A,D=255>>8-A<<k;u=(x[y]&D)>>k,o-=A,p+=A,p===8&&(p=0,y++)}if(o>0){for(;o>=8;)u=u<<8|x[y]&255,y++,o-=8;if(o>0){const w=8-o,A=255>>w<<w;u=u<<o|(x[y]&A)>>w,p+=o}}return this.bitOffset=p,this.byteOffset=y,u}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Nn;(function(K){K[K.PAD_ENCODE=0]="PAD_ENCODE",K[K.ASCII_ENCODE=1]="ASCII_ENCODE",K[K.C40_ENCODE=2]="C40_ENCODE",K[K.TEXT_ENCODE=3]="TEXT_ENCODE",K[K.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",K[K.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",K[K.BASE256_ENCODE=6]="BASE256_ENCODE"})(Nn||(Nn={}));class xa{static decode(o){const u=new Eh(o),p=new H,y=new H,x=new Array;let w=Nn.ASCII_ENCODE;do if(w===Nn.ASCII_ENCODE)w=this.decodeAsciiSegment(u,p,y);else{switch(w){case Nn.C40_ENCODE:this.decodeC40Segment(u,p);break;case Nn.TEXT_ENCODE:this.decodeTextSegment(u,p);break;case Nn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(u,p);break;case Nn.EDIFACT_ENCODE:this.decodeEdifactSegment(u,p);break;case Nn.BASE256_ENCODE:this.decodeBase256Segment(u,p,x);break;default:throw new B}w=Nn.ASCII_ENCODE}while(w!==Nn.PAD_ENCODE&&u.available()>0);return y.length()>0&&p.append(y.toString()),new Ne(o,p.toString(),x.length===0?null:x,null)}static decodeAsciiSegment(o,u,p){let y=!1;do{let x=o.readBits(8);if(x===0)throw new B;if(x<=128)return y&&(x+=128),u.append(String.fromCharCode(x-1)),Nn.ASCII_ENCODE;if(x===129)return Nn.PAD_ENCODE;if(x<=229){const w=x-130;w<10&&u.append("0"),u.append(""+w)}else switch(x){case 230:return Nn.C40_ENCODE;case 231:return Nn.BASE256_ENCODE;case 232:u.append("");break;case 233:case 234:break;case 235:y=!0;break;case 236:u.append("[)>05"),p.insert(0,"");break;case 237:u.append("[)>06"),p.insert(0,"");break;case 238:return Nn.ANSIX12_ENCODE;case 239:return Nn.TEXT_ENCODE;case 240:return Nn.EDIFACT_ENCODE;case 241:break;default:if(x!==254||o.available()!==0)throw new B;break}}while(o.available()>0);return Nn.ASCII_ENCODE}static decodeC40Segment(o,u){let p=!1;const y=[];let x=0;do{if(o.available()===8)return;const w=o.readBits(8);if(w===254)return;this.parseTwoBytes(w,o.readBits(8),y);for(let A=0;A<3;A++){const k=y[A];switch(x){case 0:if(k<3)x=k+1;else if(k<this.C40_BASIC_SET_CHARS.length){const D=this.C40_BASIC_SET_CHARS[k];p?(u.append(String.fromCharCode(D.charCodeAt(0)+128)),p=!1):u.append(D)}else throw new B;break;case 1:p?(u.append(String.fromCharCode(k+128)),p=!1):u.append(String.fromCharCode(k)),x=0;break;case 2:if(k<this.C40_SHIFT2_SET_CHARS.length){const D=this.C40_SHIFT2_SET_CHARS[k];p?(u.append(String.fromCharCode(D.charCodeAt(0)+128)),p=!1):u.append(D)}else switch(k){case 27:u.append("");break;case 30:p=!0;break;default:throw new B}x=0;break;case 3:p?(u.append(String.fromCharCode(k+224)),p=!1):u.append(String.fromCharCode(k+96)),x=0;break;default:throw new B}}}while(o.available()>0)}static decodeTextSegment(o,u){let p=!1,y=[],x=0;do{if(o.available()===8)return;const w=o.readBits(8);if(w===254)return;this.parseTwoBytes(w,o.readBits(8),y);for(let A=0;A<3;A++){const k=y[A];switch(x){case 0:if(k<3)x=k+1;else if(k<this.TEXT_BASIC_SET_CHARS.length){const D=this.TEXT_BASIC_SET_CHARS[k];p?(u.append(String.fromCharCode(D.charCodeAt(0)+128)),p=!1):u.append(D)}else throw new B;break;case 1:p?(u.append(String.fromCharCode(k+128)),p=!1):u.append(String.fromCharCode(k)),x=0;break;case 2:if(k<this.TEXT_SHIFT2_SET_CHARS.length){const D=this.TEXT_SHIFT2_SET_CHARS[k];p?(u.append(String.fromCharCode(D.charCodeAt(0)+128)),p=!1):u.append(D)}else switch(k){case 27:u.append("");break;case 30:p=!0;break;default:throw new B}x=0;break;case 3:if(k<this.TEXT_SHIFT3_SET_CHARS.length){const D=this.TEXT_SHIFT3_SET_CHARS[k];p?(u.append(String.fromCharCode(D.charCodeAt(0)+128)),p=!1):u.append(D),x=0}else throw new B;break;default:throw new B}}}while(o.available()>0)}static decodeAnsiX12Segment(o,u){const p=[];do{if(o.available()===8)return;const y=o.readBits(8);if(y===254)return;this.parseTwoBytes(y,o.readBits(8),p);for(let x=0;x<3;x++){const w=p[x];switch(w){case 0:u.append("\r");break;case 1:u.append("*");break;case 2:u.append(">");break;case 3:u.append(" ");break;default:if(w<14)u.append(String.fromCharCode(w+44));else if(w<40)u.append(String.fromCharCode(w+51));else throw new B;break}}}while(o.available()>0)}static parseTwoBytes(o,u,p){let y=(o<<8)+u-1,x=Math.floor(y/1600);p[0]=x,y-=x*1600,x=Math.floor(y/40),p[1]=x,p[2]=y-x*40}static decodeEdifactSegment(o,u){do{if(o.available()<=16)return;for(let p=0;p<4;p++){let y=o.readBits(6);if(y===31){const x=8-o.getBitOffset();x!==8&&o.readBits(x);return}(y&32)===0&&(y|=64),u.append(String.fromCharCode(y))}}while(o.available()>0)}static decodeBase256Segment(o,u,p){let y=1+o.getByteOffset();const x=this.unrandomize255State(o.readBits(8),y++);let w;if(x===0?w=o.available()/8|0:x<250?w=x:w=250*(x-249)+this.unrandomize255State(o.readBits(8),y++),w<0)throw new B;const A=new Uint8Array(w);for(let k=0;k<w;k++){if(o.available()<8)throw new B;A[k]=this.unrandomize255State(o.readBits(8),y++)}p.push(A);try{u.append(G.decode(A,W.ISO88591))}catch(k){throw new Ge("Platform does not support required encoding: "+k.message)}}static unrandomize255State(o,u){const p=149*u%255+1,y=o-p;return y>=0?y:y+256}}xa.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],xa.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],xa.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],xa.TEXT_SHIFT2_SET_CHARS=xa.C40_SHIFT2_SET_CHARS,xa.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class id{constructor(){this.rsDecoder=new ct(Ue.DATA_MATRIX_FIELD_256)}decode(o){const u=new Fi(o),p=u.getVersion(),y=u.readCodewords(),x=Sh.getDataBlocks(y,p);let w=0;for(let D of x)w+=D.getNumDataCodewords();const A=new Uint8Array(w),k=x.length;for(let D=0;D<k;D++){const V=x[D],Y=V.getCodewords(),ee=V.getNumDataCodewords();this.correctErrors(Y,ee);for(let oe=0;oe<ee;oe++)A[oe*k+D]=Y[oe]}return xa.decode(A)}correctErrors(o,u){const p=new Int32Array(o);try{this.rsDecoder.decode(p,o.length-u)}catch{throw new S}for(let y=0;y<u;y++)o[y]=p[y]}}class Hr{constructor(o){this.image=o,this.rectangleDetector=new Fe(this.image)}detect(){const o=this.rectangleDetector.detect();let u=this.detectSolid1(o);if(u=this.detectSolid2(u),u[3]=this.correctTopRight(u),!u[3])throw new X;u=this.shiftToModuleCenter(u);const p=u[0],y=u[1],x=u[2],w=u[3];let A=this.transitionsBetween(p,w)+1,k=this.transitionsBetween(x,w)+1;(A&1)===1&&(A+=1),(k&1)===1&&(k+=1),4*A<7*k&&4*k<7*A&&(A=k=Math.max(A,k));let D=Hr.sampleGrid(this.image,p,y,x,w,A,k);return new Ee(D,[p,y,x,w])}static shiftPoint(o,u,p){let y=(u.getX()-o.getX())/(p+1),x=(u.getY()-o.getY())/(p+1);return new fe(o.getX()+y,o.getY()+x)}static moveAway(o,u,p){let y=o.getX(),x=o.getY();return y<u?y-=1:y+=1,x<p?x-=1:x+=1,new fe(y,x)}detectSolid1(o){let u=o[0],p=o[1],y=o[3],x=o[2],w=this.transitionsBetween(u,p),A=this.transitionsBetween(p,y),k=this.transitionsBetween(y,x),D=this.transitionsBetween(x,u),V=w,Y=[x,u,p,y];return V>A&&(V=A,Y[0]=u,Y[1]=p,Y[2]=y,Y[3]=x),V>k&&(V=k,Y[0]=p,Y[1]=y,Y[2]=x,Y[3]=u),V>D&&(Y[0]=y,Y[1]=x,Y[2]=u,Y[3]=p),Y}detectSolid2(o){let u=o[0],p=o[1],y=o[2],x=o[3],w=this.transitionsBetween(u,x),A=Hr.shiftPoint(p,y,(w+1)*4),k=Hr.shiftPoint(y,p,(w+1)*4),D=this.transitionsBetween(A,u),V=this.transitionsBetween(k,x);return D<V?(o[0]=u,o[1]=p,o[2]=y,o[3]=x):(o[0]=p,o[1]=y,o[2]=x,o[3]=u),o}correctTopRight(o){let u=o[0],p=o[1],y=o[2],x=o[3],w=this.transitionsBetween(u,x),A=this.transitionsBetween(p,x),k=Hr.shiftPoint(u,p,(A+1)*4),D=Hr.shiftPoint(y,p,(w+1)*4);w=this.transitionsBetween(k,x),A=this.transitionsBetween(D,x);let V=new fe(x.getX()+(y.getX()-p.getX())/(w+1),x.getY()+(y.getY()-p.getY())/(w+1)),Y=new fe(x.getX()+(u.getX()-p.getX())/(A+1),x.getY()+(u.getY()-p.getY())/(A+1));if(!this.isValid(V))return this.isValid(Y)?Y:null;if(!this.isValid(Y))return V;let ee=this.transitionsBetween(k,V)+this.transitionsBetween(D,V),oe=this.transitionsBetween(k,Y)+this.transitionsBetween(D,Y);return ee>oe?V:Y}shiftToModuleCenter(o){let u=o[0],p=o[1],y=o[2],x=o[3],w=this.transitionsBetween(u,x)+1,A=this.transitionsBetween(y,x)+1,k=Hr.shiftPoint(u,p,A*4),D=Hr.shiftPoint(y,p,w*4);w=this.transitionsBetween(k,x)+1,A=this.transitionsBetween(D,x)+1,(w&1)===1&&(w+=1),(A&1)===1&&(A+=1);let V=(u.getX()+p.getX()+y.getX()+x.getX())/4,Y=(u.getY()+p.getY()+y.getY()+x.getY())/4;u=Hr.moveAway(u,V,Y),p=Hr.moveAway(p,V,Y),y=Hr.moveAway(y,V,Y),x=Hr.moveAway(x,V,Y);let ee,oe;return k=Hr.shiftPoint(u,p,A*4),k=Hr.shiftPoint(k,x,w*4),ee=Hr.shiftPoint(p,u,A*4),ee=Hr.shiftPoint(ee,y,w*4),D=Hr.shiftPoint(y,x,A*4),D=Hr.shiftPoint(D,p,w*4),oe=Hr.shiftPoint(x,y,A*4),oe=Hr.shiftPoint(oe,u,w*4),[k,ee,D,oe]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,u,p,y,x,w,A){return Wt.getInstance().sampleGrid(o,w,A,.5,.5,w-.5,.5,w-.5,A-.5,.5,A-.5,u.getX(),u.getY(),x.getX(),x.getY(),y.getX(),y.getY(),p.getX(),p.getY())}transitionsBetween(o,u){let p=Math.trunc(o.getX()),y=Math.trunc(o.getY()),x=Math.trunc(u.getX()),w=Math.trunc(u.getY()),A=Math.abs(w-y)>Math.abs(x-p);if(A){let ge=p;p=y,y=ge,ge=x,x=w,w=ge}let k=Math.abs(x-p),D=Math.abs(w-y),V=-k/2,Y=y<w?1:-1,ee=p<x?1:-1,oe=0,pe=this.image.get(A?y:p,A?p:y);for(let ge=p,xe=y;ge!==x;ge+=ee){let Ce=this.image.get(A?xe:ge,A?ge:xe);if(Ce!==pe&&(oe++,pe=Ce),V+=D,V>0){if(xe===w)break;xe+=Y,V-=k}}return oe}}class wa{constructor(){this.decoder=new id}decode(o,u=null){let p,y;if(u!=null&&u.has(M.PURE_BARCODE)){const D=wa.extractPureBits(o.getBlackMatrix());p=this.decoder.decode(D),y=wa.NO_POINTS}else{const D=new Hr(o.getBlackMatrix()).detect();p=this.decoder.decode(D.getBits()),y=D.getPoints()}const x=p.getRawBytes(),w=new ke(p.getText(),x,8*x.length,y,je.DATA_MATRIX,E.currentTimeMillis()),A=p.getByteSegments();A!=null&&w.putMetadata(De.BYTE_SEGMENTS,A);const k=p.getECLevel();return k!=null&&w.putMetadata(De.ERROR_CORRECTION_LEVEL,k),w}reset(){}static extractPureBits(o){const u=o.getTopLeftOnBit(),p=o.getBottomRightOnBit();if(u==null||p==null)throw new X;const y=this.moduleSize(u,o);let x=u[1];const w=p[1];let A=u[0];const D=(p[0]-A+1)/y,V=(w-x+1)/y;if(D<=0||V<=0)throw new X;const Y=y/2;x+=Y,A+=Y;const ee=new Q(D,V);for(let oe=0;oe<V;oe++){const pe=x+oe*y;for(let ge=0;ge<D;ge++)o.get(A+ge*y,pe)&&ee.set(ge,oe)}return ee}static moduleSize(o,u){const p=u.getWidth();let y=o[0];const x=o[1];for(;y<p&&u.get(y,x);)y++;if(y===p)throw new X;const w=y-o[0];if(w===0)throw new X;return w}}wa.NO_POINTS=[];class Rx extends we{constructor(o=500){super(new wa,o)}}var gl;(function(K){K[K.L=0]="L",K[K.M=1]="M",K[K.Q=2]="Q",K[K.H=3]="H"})(gl||(gl={}));class Dr{constructor(o,u,p){this.value=o,this.stringValue=u,this.bits=p,Dr.FOR_BITS.set(p,this),Dr.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return Dr.L;case"M":return Dr.M;case"Q":return Dr.Q;case"H":return Dr.H;default:throw new g(o+"not available")}}toString(){return this.stringValue}equals(o){if(!(o instanceof Dr))return!1;const u=o;return this.value===u.value}static forBits(o){if(o<0||o>=Dr.FOR_BITS.size)throw new v;return Dr.FOR_BITS.get(o)}}Dr.FOR_BITS=new Map,Dr.FOR_VALUE=new Map,Dr.L=new Dr(gl.L,"L",1),Dr.M=new Dr(gl.M,"M",0),Dr.Q=new Dr(gl.Q,"Q",3),Dr.H=new Dr(gl.H,"H",2);class Gn{constructor(o){this.errorCorrectionLevel=Dr.forBits(o>>3&3),this.dataMask=o&7}static numBitsDiffering(o,u){return I.bitCount(o^u)}static decodeFormatInformation(o,u){const p=Gn.doDecodeFormatInformation(o,u);return p!==null?p:Gn.doDecodeFormatInformation(o^Gn.FORMAT_INFO_MASK_QR,u^Gn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,u){let p=Number.MAX_SAFE_INTEGER,y=0;for(const x of Gn.FORMAT_INFO_DECODE_LOOKUP){const w=x[0];if(w===o||w===u)return new Gn(x[1]);let A=Gn.numBitsDiffering(o,w);A<p&&(y=x[1],p=A),o!==u&&(A=Gn.numBitsDiffering(u,w),A<p&&(y=x[1],p=A))}return p<=3?new Gn(y):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){if(!(o instanceof Gn))return!1;const u=o;return this.errorCorrectionLevel===u.errorCorrectionLevel&&this.dataMask===u.dataMask}}Gn.FORMAT_INFO_MASK_QR=21522,Gn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class be{constructor(o,...u){this.ecCodewordsPerBlock=o,this.ecBlocks=u}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0;const u=this.ecBlocks;for(const p of u)o+=p.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ae{constructor(o,u){this.count=o,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ct{constructor(o,u,...p){this.versionNumber=o,this.alignmentPatternCenters=u,this.ecBlocks=p;let y=0;const x=p[0].getECCodewordsPerBlock(),w=p[0].getECBlocks();for(const A of w)y+=A.getCount()*(A.getDataCodewords()+x);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!==1)throw new B;try{return this.getVersionForNumber((o-17)/4)}catch{throw new B}}static getVersionForNumber(o){if(o<1||o>40)throw new v;return Ct.VERSIONS[o-1]}static decodeVersionInformation(o){let u=Number.MAX_SAFE_INTEGER,p=0;for(let y=0;y<Ct.VERSION_DECODE_INFO.length;y++){const x=Ct.VERSION_DECODE_INFO[y];if(x===o)return Ct.getVersionForNumber(y+7);const w=Gn.numBitsDiffering(o,x);w<u&&(p=y+7,u=w)}return u<=3?Ct.getVersionForNumber(p):null}buildFunctionPattern(){const o=this.getDimensionForVersion(),u=new Q(o);u.setRegion(0,0,9,9),u.setRegion(o-8,0,8,9),u.setRegion(0,o-8,9,8);const p=this.alignmentPatternCenters.length;for(let y=0;y<p;y++){const x=this.alignmentPatternCenters[y]-2;for(let w=0;w<p;w++)y===0&&(w===0||w===p-1)||y===p-1&&w===0||u.setRegion(this.alignmentPatternCenters[w]-2,x,5,5)}return u.setRegion(6,9,1,o-17),u.setRegion(9,6,o-17,1),this.versionNumber>6&&(u.setRegion(o-11,0,3,6),u.setRegion(0,o-11,6,3)),u}toString(){return""+this.versionNumber}}Ct.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ct.VERSIONS=[new Ct(1,new Int32Array(0),new be(7,new ae(1,19)),new be(10,new ae(1,16)),new be(13,new ae(1,13)),new be(17,new ae(1,9))),new Ct(2,Int32Array.from([6,18]),new be(10,new ae(1,34)),new be(16,new ae(1,28)),new be(22,new ae(1,22)),new be(28,new ae(1,16))),new Ct(3,Int32Array.from([6,22]),new be(15,new ae(1,55)),new be(26,new ae(1,44)),new be(18,new ae(2,17)),new be(22,new ae(2,13))),new Ct(4,Int32Array.from([6,26]),new be(20,new ae(1,80)),new be(18,new ae(2,32)),new be(26,new ae(2,24)),new be(16,new ae(4,9))),new Ct(5,Int32Array.from([6,30]),new be(26,new ae(1,108)),new be(24,new ae(2,43)),new be(18,new ae(2,15),new ae(2,16)),new be(22,new ae(2,11),new ae(2,12))),new Ct(6,Int32Array.from([6,34]),new be(18,new ae(2,68)),new be(16,new ae(4,27)),new be(24,new ae(4,19)),new be(28,new ae(4,15))),new Ct(7,Int32Array.from([6,22,38]),new be(20,new ae(2,78)),new be(18,new ae(4,31)),new be(18,new ae(2,14),new ae(4,15)),new be(26,new ae(4,13),new ae(1,14))),new Ct(8,Int32Array.from([6,24,42]),new be(24,new ae(2,97)),new be(22,new ae(2,38),new ae(2,39)),new be(22,new ae(4,18),new ae(2,19)),new be(26,new ae(4,14),new ae(2,15))),new Ct(9,Int32Array.from([6,26,46]),new be(30,new ae(2,116)),new be(22,new ae(3,36),new ae(2,37)),new be(20,new ae(4,16),new ae(4,17)),new be(24,new ae(4,12),new ae(4,13))),new Ct(10,Int32Array.from([6,28,50]),new be(18,new ae(2,68),new ae(2,69)),new be(26,new ae(4,43),new ae(1,44)),new be(24,new ae(6,19),new ae(2,20)),new be(28,new ae(6,15),new ae(2,16))),new Ct(11,Int32Array.from([6,30,54]),new be(20,new ae(4,81)),new be(30,new ae(1,50),new ae(4,51)),new be(28,new ae(4,22),new ae(4,23)),new be(24,new ae(3,12),new ae(8,13))),new Ct(12,Int32Array.from([6,32,58]),new be(24,new ae(2,92),new ae(2,93)),new be(22,new ae(6,36),new ae(2,37)),new be(26,new ae(4,20),new ae(6,21)),new be(28,new ae(7,14),new ae(4,15))),new Ct(13,Int32Array.from([6,34,62]),new be(26,new ae(4,107)),new be(22,new ae(8,37),new ae(1,38)),new be(24,new ae(8,20),new ae(4,21)),new be(22,new ae(12,11),new ae(4,12))),new Ct(14,Int32Array.from([6,26,46,66]),new be(30,new ae(3,115),new ae(1,116)),new be(24,new ae(4,40),new ae(5,41)),new be(20,new ae(11,16),new ae(5,17)),new be(24,new ae(11,12),new ae(5,13))),new Ct(15,Int32Array.from([6,26,48,70]),new be(22,new ae(5,87),new ae(1,88)),new be(24,new ae(5,41),new ae(5,42)),new be(30,new ae(5,24),new ae(7,25)),new be(24,new ae(11,12),new ae(7,13))),new Ct(16,Int32Array.from([6,26,50,74]),new be(24,new ae(5,98),new ae(1,99)),new be(28,new ae(7,45),new ae(3,46)),new be(24,new ae(15,19),new ae(2,20)),new be(30,new ae(3,15),new ae(13,16))),new Ct(17,Int32Array.from([6,30,54,78]),new be(28,new ae(1,107),new ae(5,108)),new be(28,new ae(10,46),new ae(1,47)),new be(28,new ae(1,22),new ae(15,23)),new be(28,new ae(2,14),new ae(17,15))),new Ct(18,Int32Array.from([6,30,56,82]),new be(30,new ae(5,120),new ae(1,121)),new be(26,new ae(9,43),new ae(4,44)),new be(28,new ae(17,22),new ae(1,23)),new be(28,new ae(2,14),new ae(19,15))),new Ct(19,Int32Array.from([6,30,58,86]),new be(28,new ae(3,113),new ae(4,114)),new be(26,new ae(3,44),new ae(11,45)),new be(26,new ae(17,21),new ae(4,22)),new be(26,new ae(9,13),new ae(16,14))),new Ct(20,Int32Array.from([6,34,62,90]),new be(28,new ae(3,107),new ae(5,108)),new be(26,new ae(3,41),new ae(13,42)),new be(30,new ae(15,24),new ae(5,25)),new be(28,new ae(15,15),new ae(10,16))),new Ct(21,Int32Array.from([6,28,50,72,94]),new be(28,new ae(4,116),new ae(4,117)),new be(26,new ae(17,42)),new be(28,new ae(17,22),new ae(6,23)),new be(30,new ae(19,16),new ae(6,17))),new Ct(22,Int32Array.from([6,26,50,74,98]),new be(28,new ae(2,111),new ae(7,112)),new be(28,new ae(17,46)),new be(30,new ae(7,24),new ae(16,25)),new be(24,new ae(34,13))),new Ct(23,Int32Array.from([6,30,54,78,102]),new be(30,new ae(4,121),new ae(5,122)),new be(28,new ae(4,47),new ae(14,48)),new be(30,new ae(11,24),new ae(14,25)),new be(30,new ae(16,15),new ae(14,16))),new Ct(24,Int32Array.from([6,28,54,80,106]),new be(30,new ae(6,117),new ae(4,118)),new be(28,new ae(6,45),new ae(14,46)),new be(30,new ae(11,24),new ae(16,25)),new be(30,new ae(30,16),new ae(2,17))),new Ct(25,Int32Array.from([6,32,58,84,110]),new be(26,new ae(8,106),new ae(4,107)),new be(28,new ae(8,47),new ae(13,48)),new be(30,new ae(7,24),new ae(22,25)),new be(30,new ae(22,15),new ae(13,16))),new Ct(26,Int32Array.from([6,30,58,86,114]),new be(28,new ae(10,114),new ae(2,115)),new be(28,new ae(19,46),new ae(4,47)),new be(28,new ae(28,22),new ae(6,23)),new be(30,new ae(33,16),new ae(4,17))),new Ct(27,Int32Array.from([6,34,62,90,118]),new be(30,new ae(8,122),new ae(4,123)),new be(28,new ae(22,45),new ae(3,46)),new be(30,new ae(8,23),new ae(26,24)),new be(30,new ae(12,15),new ae(28,16))),new Ct(28,Int32Array.from([6,26,50,74,98,122]),new be(30,new ae(3,117),new ae(10,118)),new be(28,new ae(3,45),new ae(23,46)),new be(30,new ae(4,24),new ae(31,25)),new be(30,new ae(11,15),new ae(31,16))),new Ct(29,Int32Array.from([6,30,54,78,102,126]),new be(30,new ae(7,116),new ae(7,117)),new be(28,new ae(21,45),new ae(7,46)),new be(30,new ae(1,23),new ae(37,24)),new be(30,new ae(19,15),new ae(26,16))),new Ct(30,Int32Array.from([6,26,52,78,104,130]),new be(30,new ae(5,115),new ae(10,116)),new be(28,new ae(19,47),new ae(10,48)),new be(30,new ae(15,24),new ae(25,25)),new be(30,new ae(23,15),new ae(25,16))),new Ct(31,Int32Array.from([6,30,56,82,108,134]),new be(30,new ae(13,115),new ae(3,116)),new be(28,new ae(2,46),new ae(29,47)),new be(30,new ae(42,24),new ae(1,25)),new be(30,new ae(23,15),new ae(28,16))),new Ct(32,Int32Array.from([6,34,60,86,112,138]),new be(30,new ae(17,115)),new be(28,new ae(10,46),new ae(23,47)),new be(30,new ae(10,24),new ae(35,25)),new be(30,new ae(19,15),new ae(35,16))),new Ct(33,Int32Array.from([6,30,58,86,114,142]),new be(30,new ae(17,115),new ae(1,116)),new be(28,new ae(14,46),new ae(21,47)),new be(30,new ae(29,24),new ae(19,25)),new be(30,new ae(11,15),new ae(46,16))),new Ct(34,Int32Array.from([6,34,62,90,118,146]),new be(30,new ae(13,115),new ae(6,116)),new be(28,new ae(14,46),new ae(23,47)),new be(30,new ae(44,24),new ae(7,25)),new be(30,new ae(59,16),new ae(1,17))),new Ct(35,Int32Array.from([6,30,54,78,102,126,150]),new be(30,new ae(12,121),new ae(7,122)),new be(28,new ae(12,47),new ae(26,48)),new be(30,new ae(39,24),new ae(14,25)),new be(30,new ae(22,15),new ae(41,16))),new Ct(36,Int32Array.from([6,24,50,76,102,128,154]),new be(30,new ae(6,121),new ae(14,122)),new be(28,new ae(6,47),new ae(34,48)),new be(30,new ae(46,24),new ae(10,25)),new be(30,new ae(2,15),new ae(64,16))),new Ct(37,Int32Array.from([6,28,54,80,106,132,158]),new be(30,new ae(17,122),new ae(4,123)),new be(28,new ae(29,46),new ae(14,47)),new be(30,new ae(49,24),new ae(10,25)),new be(30,new ae(24,15),new ae(46,16))),new Ct(38,Int32Array.from([6,32,58,84,110,136,162]),new be(30,new ae(4,122),new ae(18,123)),new be(28,new ae(13,46),new ae(32,47)),new be(30,new ae(48,24),new ae(14,25)),new be(30,new ae(42,15),new ae(32,16))),new Ct(39,Int32Array.from([6,26,54,82,110,138,166]),new be(30,new ae(20,117),new ae(4,118)),new be(28,new ae(40,47),new ae(7,48)),new be(30,new ae(43,24),new ae(22,25)),new be(30,new ae(10,15),new ae(67,16))),new Ct(40,Int32Array.from([6,30,58,86,114,142,170]),new be(30,new ae(19,118),new ae(6,119)),new be(28,new ae(18,47),new ae(31,48)),new be(30,new ae(34,24),new ae(34,25)),new be(30,new ae(20,15),new ae(61,16)))];var En;(function(K){K[K.DATA_MASK_000=0]="DATA_MASK_000",K[K.DATA_MASK_001=1]="DATA_MASK_001",K[K.DATA_MASK_010=2]="DATA_MASK_010",K[K.DATA_MASK_011=3]="DATA_MASK_011",K[K.DATA_MASK_100=4]="DATA_MASK_100",K[K.DATA_MASK_101=5]="DATA_MASK_101",K[K.DATA_MASK_110=6]="DATA_MASK_110",K[K.DATA_MASK_111=7]="DATA_MASK_111"})(En||(En={}));class Qt{constructor(o,u){this.value=o,this.isMasked=u}unmaskBitMatrix(o,u){for(let p=0;p<u;p++)for(let y=0;y<u;y++)this.isMasked(p,y)&&o.flip(y,p)}}Qt.values=new Map([[En.DATA_MASK_000,new Qt(En.DATA_MASK_000,(K,o)=>(K+o&1)===0)],[En.DATA_MASK_001,new Qt(En.DATA_MASK_001,(K,o)=>(K&1)===0)],[En.DATA_MASK_010,new Qt(En.DATA_MASK_010,(K,o)=>o%3===0)],[En.DATA_MASK_011,new Qt(En.DATA_MASK_011,(K,o)=>(K+o)%3===0)],[En.DATA_MASK_100,new Qt(En.DATA_MASK_100,(K,o)=>(Math.floor(K/2)+Math.floor(o/3)&1)===0)],[En.DATA_MASK_101,new Qt(En.DATA_MASK_101,(K,o)=>K*o%6===0)],[En.DATA_MASK_110,new Qt(En.DATA_MASK_110,(K,o)=>K*o%6<3)],[En.DATA_MASK_111,new Qt(En.DATA_MASK_111,(K,o)=>(K+o+K*o%3&1)===0)]]);class Ng{constructor(o){const u=o.getHeight();if(u<21||(u&3)!==1)throw new B;this.bitMatrix=o}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let o=0;for(let x=0;x<6;x++)o=this.copyBit(x,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let x=5;x>=0;x--)o=this.copyBit(8,x,o);const u=this.bitMatrix.getHeight();let p=0;const y=u-7;for(let x=u-1;x>=y;x--)p=this.copyBit(8,x,p);for(let x=u-8;x<u;x++)p=this.copyBit(x,8,p);if(this.parsedFormatInfo=Gn.decodeFormatInformation(o,p),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new B}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const o=this.bitMatrix.getHeight(),u=Math.floor((o-17)/4);if(u<=6)return Ct.getVersionForNumber(u);let p=0;const y=o-11;for(let w=5;w>=0;w--)for(let A=o-9;A>=y;A--)p=this.copyBit(A,w,p);let x=Ct.decodeVersionInformation(p);if(x!==null&&x.getDimensionForVersion()===o)return this.parsedVersion=x,x;p=0;for(let w=5;w>=0;w--)for(let A=o-9;A>=y;A--)p=this.copyBit(w,A,p);if(x=Ct.decodeVersionInformation(p),x!==null&&x.getDimensionForVersion()===o)return this.parsedVersion=x,x;throw new B}copyBit(o,u,p){return(this.isMirror?this.bitMatrix.get(u,o):this.bitMatrix.get(o,u))?p<<1|1:p<<1}readCodewords(){const o=this.readFormatInformation(),u=this.readVersion(),p=Qt.values.get(o.getDataMask()),y=this.bitMatrix.getHeight();p.unmaskBitMatrix(this.bitMatrix,y);const x=u.buildFunctionPattern();let w=!0;const A=new Uint8Array(u.getTotalCodewords());let k=0,D=0,V=0;for(let Y=y-1;Y>0;Y-=2){Y===6&&Y--;for(let ee=0;ee<y;ee++){const oe=w?y-1-ee:ee;for(let pe=0;pe<2;pe++)x.get(Y-pe,oe)||(V++,D<<=1,this.bitMatrix.get(Y-pe,oe)&&(D|=1),V===8&&(A[k++]=D,V=0,D=0))}w=!w}if(k!==u.getTotalCodewords())throw new B;return A}remask(){if(this.parsedFormatInfo===null)return;const o=Qt.values[this.parsedFormatInfo.getDataMask()],u=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,u)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){const o=this.bitMatrix;for(let u=0,p=o.getWidth();u<p;u++)for(let y=u+1,x=o.getHeight();y<x;y++)o.get(u,y)!==o.get(y,u)&&(o.flip(y,u),o.flip(u,y))}}class ad{constructor(o,u){this.numDataCodewords=o,this.codewords=u}static getDataBlocks(o,u,p){if(o.length!==u.getTotalCodewords())throw new v;const y=u.getECBlocksForLevel(p);let x=0;const w=y.getECBlocks();for(const pe of w)x+=pe.getCount();const A=new Array(x);let k=0;for(const pe of w)for(let ge=0;ge<pe.getCount();ge++){const xe=pe.getDataCodewords(),Ce=y.getECCodewordsPerBlock()+xe;A[k++]=new ad(xe,new Uint8Array(Ce))}const D=A[0].codewords.length;let V=A.length-1;for(;V>=0&&A[V].codewords.length!==D;)V--;V++;const Y=D-y.getECCodewordsPerBlock();let ee=0;for(let pe=0;pe<Y;pe++)for(let ge=0;ge<k;ge++)A[ge].codewords[pe]=o[ee++];for(let pe=V;pe<k;pe++)A[pe].codewords[Y]=o[ee++];const oe=A[0].codewords.length;for(let pe=Y;pe<oe;pe++)for(let ge=0;ge<k;ge++){const xe=ge<V?pe:pe+1;A[ge].codewords[xe]=o[ee++]}return A}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Ti;(function(K){K[K.TERMINATOR=0]="TERMINATOR",K[K.NUMERIC=1]="NUMERIC",K[K.ALPHANUMERIC=2]="ALPHANUMERIC",K[K.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",K[K.BYTE=4]="BYTE",K[K.ECI=5]="ECI",K[K.KANJI=6]="KANJI",K[K.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",K[K.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",K[K.HANZI=9]="HANZI"})(Ti||(Ti={}));class Tt{constructor(o,u,p,y){this.value=o,this.stringValue=u,this.characterCountBitsForVersions=p,this.bits=y,Tt.FOR_BITS.set(y,this),Tt.FOR_VALUE.set(o,this)}static forBits(o){const u=Tt.FOR_BITS.get(o);if(u===void 0)throw new v;return u}getCharacterCountBits(o){const u=o.getVersionNumber();let p;return u<=9?p=0:u<=26?p=1:p=2,this.characterCountBitsForVersions[p]}getValue(){return this.value}getBits(){return this.bits}equals(o){if(!(o instanceof Tt))return!1;const u=o;return this.value===u.value}toString(){return this.stringValue}}Tt.FOR_BITS=new Map,Tt.FOR_VALUE=new Map,Tt.TERMINATOR=new Tt(Ti.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Tt.NUMERIC=new Tt(Ti.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Tt.ALPHANUMERIC=new Tt(Ti.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Tt.STRUCTURED_APPEND=new Tt(Ti.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Tt.BYTE=new Tt(Ti.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Tt.ECI=new Tt(Ti.ECI,"ECI",Int32Array.from([0,0,0]),7),Tt.KANJI=new Tt(Ti.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Tt.FNC1_FIRST_POSITION=new Tt(Ti.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Tt.FNC1_SECOND_POSITION=new Tt(Ti.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Tt.HANZI=new Tt(Ti.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Xr{static decode(o,u,p,y){const x=new Eh(o);let w=new H;const A=new Array;let k=-1,D=-1;try{let V=null,Y=!1,ee;do{if(x.available()<4)ee=Tt.TERMINATOR;else{const oe=x.readBits(4);ee=Tt.forBits(oe)}switch(ee){case Tt.TERMINATOR:break;case Tt.FNC1_FIRST_POSITION:case Tt.FNC1_SECOND_POSITION:Y=!0;break;case Tt.STRUCTURED_APPEND:if(x.available()<16)throw new B;k=x.readBits(8),D=x.readBits(8);break;case Tt.ECI:const oe=Xr.parseECIValue(x);if(V=U.getCharacterSetECIByValue(oe),V===null)throw new B;break;case Tt.HANZI:const pe=x.readBits(4),ge=x.readBits(ee.getCharacterCountBits(u));pe===Xr.GB2312_SUBSET&&Xr.decodeHanziSegment(x,w,ge);break;default:const xe=x.readBits(ee.getCharacterCountBits(u));switch(ee){case Tt.NUMERIC:Xr.decodeNumericSegment(x,w,xe);break;case Tt.ALPHANUMERIC:Xr.decodeAlphanumericSegment(x,w,xe,Y);break;case Tt.BYTE:Xr.decodeByteSegment(x,w,xe,V,A,y);break;case Tt.KANJI:Xr.decodeKanjiSegment(x,w,xe);break;default:throw new B}break}}while(ee!==Tt.TERMINATOR)}catch{throw new B}return new Ne(o,w.toString(),A.length===0?null:A,p===null?null:p.toString(),k,D)}static decodeHanziSegment(o,u,p){if(p*13>o.available())throw new B;const y=new Uint8Array(2*p);let x=0;for(;p>0;){const w=o.readBits(13);let A=w/96<<8&4294967295|w%96;A<959?A+=41377:A+=42657,y[x]=A>>8&255,y[x+1]=A&255,x+=2,p--}try{u.append(G.decode(y,W.GB2312))}catch(w){throw new B(w)}}static decodeKanjiSegment(o,u,p){if(p*13>o.available())throw new B;const y=new Uint8Array(2*p);let x=0;for(;p>0;){const w=o.readBits(13);let A=w/192<<8&4294967295|w%192;A<7936?A+=33088:A+=49472,y[x]=A>>8,y[x+1]=A,x+=2,p--}try{u.append(G.decode(y,W.SHIFT_JIS))}catch(w){throw new B(w)}}static decodeByteSegment(o,u,p,y,x,w){if(8*p>o.available())throw new B;const A=new Uint8Array(p);for(let D=0;D<p;D++)A[D]=o.readBits(8);let k;y===null?k=W.guessEncoding(A,w):k=y.getName();try{u.append(G.decode(A,k))}catch(D){throw new B(D)}x.push(A)}static toAlphaNumericChar(o){if(o>=Xr.ALPHANUMERIC_CHARS.length)throw new B;return Xr.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,u,p,y){const x=u.length();for(;p>1;){if(o.available()<11)throw new B;const w=o.readBits(11);u.append(Xr.toAlphaNumericChar(Math.floor(w/45))),u.append(Xr.toAlphaNumericChar(w%45)),p-=2}if(p===1){if(o.available()<6)throw new B;u.append(Xr.toAlphaNumericChar(o.readBits(6)))}if(y)for(let w=x;w<u.length();w++)u.charAt(w)==="%"&&(w<u.length()-1&&u.charAt(w+1)==="%"?u.deleteCharAt(w+1):u.setCharAt(w,""))}static decodeNumericSegment(o,u,p){for(;p>=3;){if(o.available()<10)throw new B;const y=o.readBits(10);if(y>=1e3)throw new B;u.append(Xr.toAlphaNumericChar(Math.floor(y/100))),u.append(Xr.toAlphaNumericChar(Math.floor(y/10)%10)),u.append(Xr.toAlphaNumericChar(y%10)),p-=3}if(p===2){if(o.available()<7)throw new B;const y=o.readBits(7);if(y>=100)throw new B;u.append(Xr.toAlphaNumericChar(Math.floor(y/10))),u.append(Xr.toAlphaNumericChar(y%10))}else if(p===1){if(o.available()<4)throw new B;const y=o.readBits(4);if(y>=10)throw new B;u.append(Xr.toAlphaNumericChar(y))}}static parseECIValue(o){const u=o.readBits(8);if((u&128)===0)return u&127;if((u&192)===128){const p=o.readBits(8);return(u&63)<<8&4294967295|p}if((u&224)===192){const p=o.readBits(16);return(u&31)<<16&4294967295|p}throw new B}}Xr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Xr.GB2312_SUBSET=1;class Ch{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||o===null||o.length<3)return;const u=o[0];o[0]=o[2],o[2]=u}}class Ah{constructor(){this.rsDecoder=new ct(Ue.QR_CODE_FIELD_256)}decodeBooleanArray(o,u){return this.decodeBitMatrix(Q.parseFromBooleanArray(o),u)}decodeBitMatrix(o,u){const p=new Ng(o);let y=null;try{return this.decodeBitMatrixParser(p,u)}catch(x){y=x}try{p.remask(),p.setMirror(!0),p.readVersion(),p.readFormatInformation(),p.mirror();const x=this.decodeBitMatrixParser(p,u);return x.setOther(new Ch(!0)),x}catch(x){throw y!==null?y:x}}decodeBitMatrixParser(o,u){const p=o.readVersion(),y=o.readFormatInformation().getErrorCorrectionLevel(),x=o.readCodewords(),w=ad.getDataBlocks(x,p,y);let A=0;for(const V of w)A+=V.getNumDataCodewords();const k=new Uint8Array(A);let D=0;for(const V of w){const Y=V.getCodewords(),ee=V.getNumDataCodewords();this.correctErrors(Y,ee);for(let oe=0;oe<ee;oe++)k[D++]=Y[oe]}return Xr.decode(k,p,y,u)}correctErrors(o,u){const p=new Int32Array(o);try{this.rsDecoder.decode(p,o.length-u)}catch{throw new S}for(let y=0;y<u;y++)o[y]=p[y]}}class vl extends fe{constructor(o,u,p){super(o,u),this.estimatedModuleSize=p}aboutEquals(o,u,p){if(Math.abs(u-this.getY())<=o&&Math.abs(p-this.getX())<=o){const y=Math.abs(o-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(o,u,p){const y=(this.getX()+u)/2,x=(this.getY()+o)/2,w=(this.estimatedModuleSize+p)/2;return new vl(y,x,w)}}class ba{constructor(o,u,p,y,x,w,A){this.image=o,this.startX=u,this.startY=p,this.width=y,this.height=x,this.moduleSize=w,this.resultPointCallback=A,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const o=this.startX,u=this.height,p=this.width,y=o+p,x=this.startY+u/2,w=new Int32Array(3),A=this.image;for(let k=0;k<u;k++){const D=x+((k&1)===0?Math.floor((k+1)/2):-Math.floor((k+1)/2));w[0]=0,w[1]=0,w[2]=0;let V=o;for(;V<y&&!A.get(V,D);)V++;let Y=0;for(;V<y;){if(A.get(V,D))if(Y===1)w[1]++;else if(Y===2){if(this.foundPatternCross(w)){const ee=this.handlePossibleCenter(w,D,V);if(ee!==null)return ee}w[0]=w[2],w[1]=1,w[2]=0,Y=1}else w[++Y]++;else Y===1&&Y++,w[Y]++;V++}if(this.foundPatternCross(w)){const ee=this.handlePossibleCenter(w,D,y);if(ee!==null)return ee}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new X}static centerFromEnd(o,u){return u-o[2]-o[1]/2}foundPatternCross(o){const u=this.moduleSize,p=u/2;for(let y=0;y<3;y++)if(Math.abs(u-o[y])>=p)return!1;return!0}crossCheckVertical(o,u,p,y){const x=this.image,w=x.getHeight(),A=this.crossCheckStateCount;A[0]=0,A[1]=0,A[2]=0;let k=o;for(;k>=0&&x.get(u,k)&&A[1]<=p;)A[1]++,k--;if(k<0||A[1]>p)return NaN;for(;k>=0&&!x.get(u,k)&&A[0]<=p;)A[0]++,k--;if(A[0]>p)return NaN;for(k=o+1;k<w&&x.get(u,k)&&A[1]<=p;)A[1]++,k++;if(k===w||A[1]>p)return NaN;for(;k<w&&!x.get(u,k)&&A[2]<=p;)A[2]++,k++;if(A[2]>p)return NaN;const D=A[0]+A[1]+A[2];return 5*Math.abs(D-y)>=2*y?NaN:this.foundPatternCross(A)?ba.centerFromEnd(A,k):NaN}handlePossibleCenter(o,u,p){const y=o[0]+o[1]+o[2],x=ba.centerFromEnd(o,p),w=this.crossCheckVertical(u,x,2*o[1],y);if(!isNaN(w)){const A=(o[0]+o[1]+o[2])/3;for(const D of this.possibleCenters)if(D.aboutEquals(A,w,x))return D.combineEstimate(w,x,A);const k=new vl(x,w,A);this.possibleCenters.push(k),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(k)}return null}}class Ha extends fe{constructor(o,u,p,y){super(o,u),this.estimatedModuleSize=p,this.count=y,y===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,u,p){if(Math.abs(u-this.getY())<=o&&Math.abs(p-this.getX())<=o){const y=Math.abs(o-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(o,u,p){const y=this.count+1,x=(this.count*this.getX()+u)/y,w=(this.count*this.getY()+o)/y,A=(this.count*this.estimatedModuleSize+p)/y;return new Ha(x,w,A,y)}}class Zs{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class mn{constructor(o,u){this.image=o,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=u}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){const u=o!=null&&o.get(M.TRY_HARDER)!==void 0,p=o!=null&&o.get(M.PURE_BARCODE)!==void 0,y=this.image,x=y.getHeight(),w=y.getWidth();let A=Math.floor(3*x/(4*mn.MAX_MODULES));(A<mn.MIN_SKIP||u)&&(A=mn.MIN_SKIP);let k=!1;const D=new Int32Array(5);for(let Y=A-1;Y<x&&!k;Y+=A){D[0]=0,D[1]=0,D[2]=0,D[3]=0,D[4]=0;let ee=0;for(let oe=0;oe<w;oe++)if(y.get(oe,Y))(ee&1)===1&&ee++,D[ee]++;else if((ee&1)===0)if(ee===4)if(mn.foundPatternCross(D)){if(this.handlePossibleCenter(D,Y,oe,p)===!0)if(A=2,this.hasSkipped===!0)k=this.haveMultiplyConfirmedCenters();else{const ge=this.findRowSkip();ge>D[2]&&(Y+=ge-D[2]-A,oe=w-1)}else{D[0]=D[2],D[1]=D[3],D[2]=D[4],D[3]=1,D[4]=0,ee=3;continue}ee=0,D[0]=0,D[1]=0,D[2]=0,D[3]=0,D[4]=0}else D[0]=D[2],D[1]=D[3],D[2]=D[4],D[3]=1,D[4]=0,ee=3;else D[++ee]++;else D[ee]++;mn.foundPatternCross(D)&&this.handlePossibleCenter(D,Y,w,p)===!0&&(A=D[0],this.hasSkipped&&(k=this.haveMultiplyConfirmedCenters()))}const V=this.selectBestPatterns();return fe.orderBestPatterns(V),new Zs(V)}static centerFromEnd(o,u){return u-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let u=0;for(let x=0;x<5;x++){const w=o[x];if(w===0)return!1;u+=w}if(u<7)return!1;const p=u/7,y=p/2;return Math.abs(p-o[0])<y&&Math.abs(p-o[1])<y&&Math.abs(3*p-o[2])<3*y&&Math.abs(p-o[3])<y&&Math.abs(p-o[4])<y}getCrossCheckStateCount(){const o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,u,p,y){const x=this.getCrossCheckStateCount();let w=0;const A=this.image;for(;o>=w&&u>=w&&A.get(u-w,o-w);)x[2]++,w++;if(o<w||u<w)return!1;for(;o>=w&&u>=w&&!A.get(u-w,o-w)&&x[1]<=p;)x[1]++,w++;if(o<w||u<w||x[1]>p)return!1;for(;o>=w&&u>=w&&A.get(u-w,o-w)&&x[0]<=p;)x[0]++,w++;if(x[0]>p)return!1;const k=A.getHeight(),D=A.getWidth();for(w=1;o+w<k&&u+w<D&&A.get(u+w,o+w);)x[2]++,w++;if(o+w>=k||u+w>=D)return!1;for(;o+w<k&&u+w<D&&!A.get(u+w,o+w)&&x[3]<p;)x[3]++,w++;if(o+w>=k||u+w>=D||x[3]>=p)return!1;for(;o+w<k&&u+w<D&&A.get(u+w,o+w)&&x[4]<p;)x[4]++,w++;if(x[4]>=p)return!1;const V=x[0]+x[1]+x[2]+x[3]+x[4];return Math.abs(V-y)<2*y&&mn.foundPatternCross(x)}crossCheckVertical(o,u,p,y){const x=this.image,w=x.getHeight(),A=this.getCrossCheckStateCount();let k=o;for(;k>=0&&x.get(u,k);)A[2]++,k--;if(k<0)return NaN;for(;k>=0&&!x.get(u,k)&&A[1]<=p;)A[1]++,k--;if(k<0||A[1]>p)return NaN;for(;k>=0&&x.get(u,k)&&A[0]<=p;)A[0]++,k--;if(A[0]>p)return NaN;for(k=o+1;k<w&&x.get(u,k);)A[2]++,k++;if(k===w)return NaN;for(;k<w&&!x.get(u,k)&&A[3]<p;)A[3]++,k++;if(k===w||A[3]>=p)return NaN;for(;k<w&&x.get(u,k)&&A[4]<p;)A[4]++,k++;if(A[4]>=p)return NaN;const D=A[0]+A[1]+A[2]+A[3]+A[4];return 5*Math.abs(D-y)>=2*y?NaN:mn.foundPatternCross(A)?mn.centerFromEnd(A,k):NaN}crossCheckHorizontal(o,u,p,y){const x=this.image,w=x.getWidth(),A=this.getCrossCheckStateCount();let k=o;for(;k>=0&&x.get(k,u);)A[2]++,k--;if(k<0)return NaN;for(;k>=0&&!x.get(k,u)&&A[1]<=p;)A[1]++,k--;if(k<0||A[1]>p)return NaN;for(;k>=0&&x.get(k,u)&&A[0]<=p;)A[0]++,k--;if(A[0]>p)return NaN;for(k=o+1;k<w&&x.get(k,u);)A[2]++,k++;if(k===w)return NaN;for(;k<w&&!x.get(k,u)&&A[3]<p;)A[3]++,k++;if(k===w||A[3]>=p)return NaN;for(;k<w&&x.get(k,u)&&A[4]<p;)A[4]++,k++;if(A[4]>=p)return NaN;const D=A[0]+A[1]+A[2]+A[3]+A[4];return 5*Math.abs(D-y)>=y?NaN:mn.foundPatternCross(A)?mn.centerFromEnd(A,k):NaN}handlePossibleCenter(o,u,p,y){const x=o[0]+o[1]+o[2]+o[3]+o[4];let w=mn.centerFromEnd(o,p),A=this.crossCheckVertical(u,Math.floor(w),o[2],x);if(!isNaN(A)&&(w=this.crossCheckHorizontal(Math.floor(w),Math.floor(A),o[2],x),!isNaN(w)&&(!y||this.crossCheckDiagonal(Math.floor(A),Math.floor(w),o[2],x)))){const k=x/7;let D=!1;const V=this.possibleCenters;for(let Y=0,ee=V.length;Y<ee;Y++){const oe=V[Y];if(oe.aboutEquals(k,A,w)){V[Y]=oe.combineEstimate(A,w,k),D=!0;break}}if(!D){const Y=new Ha(w,A,k);V.push(Y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(Y)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let u=null;for(const p of this.possibleCenters)if(p.getCount()>=mn.CENTER_QUORUM)if(u==null)u=p;else return this.hasSkipped=!0,Math.floor((Math.abs(u.getX()-p.getX())-Math.abs(u.getY()-p.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let o=0,u=0;const p=this.possibleCenters.length;for(const w of this.possibleCenters)w.getCount()>=mn.CENTER_QUORUM&&(o++,u+=w.getEstimatedModuleSize());if(o<3)return!1;const y=u/p;let x=0;for(const w of this.possibleCenters)x+=Math.abs(w.getEstimatedModuleSize()-y);return x<=.05*u}selectBestPatterns(){const o=this.possibleCenters.length;if(o<3)throw new X;const u=this.possibleCenters;let p;if(o>3){let y=0,x=0;for(const k of this.possibleCenters){const D=k.getEstimatedModuleSize();y+=D,x+=D*D}p=y/o;let w=Math.sqrt(x/o-p*p);u.sort((k,D)=>{const V=Math.abs(D.getEstimatedModuleSize()-p),Y=Math.abs(k.getEstimatedModuleSize()-p);return V<Y?-1:V>Y?1:0});const A=Math.max(.2*p,w);for(let k=0;k<u.length&&u.length>3;k++){const D=u[k];Math.abs(D.getEstimatedModuleSize()-p)>A&&(u.splice(k,1),k--)}}if(u.length>3){let y=0;for(const x of u)y+=x.getEstimatedModuleSize();p=y/u.length,u.sort((x,w)=>{if(w.getCount()===x.getCount()){const A=Math.abs(w.getEstimatedModuleSize()-p),k=Math.abs(x.getEstimatedModuleSize()-p);return A<k?1:A>k?-1:0}else return w.getCount()-x.getCount()}),u.splice(3)}return[u[0],u[1],u[2]]}}mn.CENTER_QUORUM=2,mn.MIN_SKIP=3,mn.MAX_MODULES=57;class xs{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=o==null?null:o.get(M.NEED_RESULT_POINT_CALLBACK);const p=new mn(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(p)}processFinderPatternInfo(o){const u=o.getTopLeft(),p=o.getTopRight(),y=o.getBottomLeft(),x=this.calculateModuleSize(u,p,y);if(x<1)throw new X("No pattern found in proccess finder.");const w=xs.computeDimension(u,p,y,x),A=Ct.getProvisionalVersionForDimension(w),k=A.getDimensionForVersion()-7;let D=null;if(A.getAlignmentPatternCenters().length>0){const oe=p.getX()-u.getX()+y.getX(),pe=p.getY()-u.getY()+y.getY(),ge=1-3/k,xe=Math.floor(u.getX()+ge*(oe-u.getX())),Ce=Math.floor(u.getY()+ge*(pe-u.getY()));for(let Ze=4;Ze<=16;Ze<<=1)try{D=this.findAlignmentInRegion(x,xe,Ce,Ze);break}catch(Qe){if(!(Qe instanceof X))throw Qe}}const V=xs.createTransform(u,p,y,D,w),Y=xs.sampleGrid(this.image,V,w);let ee;return D===null?ee=[y,u,p]:ee=[y,u,p,D],new Ee(Y,ee)}static createTransform(o,u,p,y,x){const w=x-3.5;let A,k,D,V;return y!==null?(A=y.getX(),k=y.getY(),D=w-3,V=D):(A=u.getX()-o.getX()+p.getX(),k=u.getY()-o.getY()+p.getY(),D=w,V=w),tt.quadrilateralToQuadrilateral(3.5,3.5,w,3.5,D,V,3.5,w,o.getX(),o.getY(),u.getX(),u.getY(),A,k,p.getX(),p.getY())}static sampleGrid(o,u,p){return Wt.getInstance().sampleGridWithTransform(o,p,p,u)}static computeDimension(o,u,p,y){const x=at.round(fe.distance(o,u)/y),w=at.round(fe.distance(o,p)/y);let A=Math.floor((x+w)/2)+7;switch(A&3){case 0:A++;break;case 2:A--;break;case 3:throw new X("Dimensions could be not found.")}return A}calculateModuleSize(o,u,p){return(this.calculateModuleSizeOneWay(o,u)+this.calculateModuleSizeOneWay(o,p))/2}calculateModuleSizeOneWay(o,u){const p=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(u.getX()),Math.floor(u.getY())),y=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(u.getX()),Math.floor(u.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(p)?y/7:isNaN(y)?p/7:(p+y)/14}sizeOfBlackWhiteBlackRunBothWays(o,u,p,y){let x=this.sizeOfBlackWhiteBlackRun(o,u,p,y),w=1,A=o-(p-o);A<0?(w=o/(o-A),A=0):A>=this.image.getWidth()&&(w=(this.image.getWidth()-1-o)/(A-o),A=this.image.getWidth()-1);let k=Math.floor(u-(y-u)*w);return w=1,k<0?(w=u/(u-k),k=0):k>=this.image.getHeight()&&(w=(this.image.getHeight()-1-u)/(k-u),k=this.image.getHeight()-1),A=Math.floor(o+(A-o)*w),x+=this.sizeOfBlackWhiteBlackRun(o,u,A,k),x-1}sizeOfBlackWhiteBlackRun(o,u,p,y){const x=Math.abs(y-u)>Math.abs(p-o);if(x){let oe=o;o=u,u=oe,oe=p,p=y,y=oe}const w=Math.abs(p-o),A=Math.abs(y-u);let k=-w/2;const D=o<p?1:-1,V=u<y?1:-1;let Y=0;const ee=p+D;for(let oe=o,pe=u;oe!==ee;oe+=D){const ge=x?pe:oe,xe=x?oe:pe;if(Y===1===this.image.get(ge,xe)){if(Y===2)return at.distance(oe,pe,o,u);Y++}if(k+=A,k>0){if(pe===y)break;pe+=V,k-=w}}return Y===2?at.distance(p+D,y,o,u):NaN}findAlignmentInRegion(o,u,p,y){const x=Math.floor(y*o),w=Math.max(0,u-x),A=Math.min(this.image.getWidth()-1,u+x);if(A-w<o*3)throw new X("Alignment top exceeds estimated module size.");const k=Math.max(0,p-x),D=Math.min(this.image.getHeight()-1,p+x);if(D-k<o*3)throw new X("Alignment bottom exceeds estimated module size.");return new ba(this.image,w,k,A-w,D-k,o,this.resultPointCallback).find()}}class yi{constructor(){this.decoder=new Ah}getDecoder(){return this.decoder}decode(o,u){let p,y;if(u!=null&&u.get(M.PURE_BARCODE)!==void 0){const k=yi.extractPureBits(o.getBlackMatrix());p=this.decoder.decodeBitMatrix(k,u),y=yi.NO_POINTS}else{const k=new xs(o.getBlackMatrix()).detect(u);p=this.decoder.decodeBitMatrix(k.getBits(),u),y=k.getPoints()}p.getOther()instanceof Ch&&p.getOther().applyMirroredCorrection(y);const x=new ke(p.getText(),p.getRawBytes(),void 0,y,je.QR_CODE,void 0),w=p.getByteSegments();w!==null&&x.putMetadata(De.BYTE_SEGMENTS,w);const A=p.getECLevel();return A!==null&&x.putMetadata(De.ERROR_CORRECTION_LEVEL,A),p.hasStructuredAppend()&&(x.putMetadata(De.STRUCTURED_APPEND_SEQUENCE,p.getStructuredAppendSequenceNumber()),x.putMetadata(De.STRUCTURED_APPEND_PARITY,p.getStructuredAppendParity())),x}reset(){}static extractPureBits(o){const u=o.getTopLeftOnBit(),p=o.getBottomRightOnBit();if(u===null||p===null)throw new X;const y=this.moduleSize(u,o);let x=u[1],w=p[1],A=u[0],k=p[0];if(A>=k||x>=w)throw new X;if(w-x!==k-A&&(k=A+(w-x),k>=o.getWidth()))throw new X;const D=Math.round((k-A+1)/y),V=Math.round((w-x+1)/y);if(D<=0||V<=0)throw new X;if(V!==D)throw new X;const Y=Math.floor(y/2);x+=Y,A+=Y;const ee=A+Math.floor((D-1)*y)-k;if(ee>0){if(ee>Y)throw new X;A-=ee}const oe=x+Math.floor((V-1)*y)-w;if(oe>0){if(oe>Y)throw new X;x-=oe}const pe=new Q(D,V);for(let ge=0;ge<V;ge++){const xe=x+Math.floor(ge*y);for(let Ce=0;Ce<D;Ce++)o.get(A+Math.floor(Ce*y),xe)&&pe.set(Ce,ge)}return pe}static moduleSize(o,u){const p=u.getHeight(),y=u.getWidth();let x=o[0],w=o[1],A=!0,k=0;for(;x<y&&w<p;){if(A!==u.get(x,w)){if(++k===5)break;A=!A}x++,w++}if(x===y||w===p)throw new X;return(x-o[0])/7}}yi.NO_POINTS=new Array;class Rt{PDF417Common(){}static getBitCountSum(o){return at.sum(o)}static toIntArray(o){if(o==null||!o.length)return Rt.EMPTY_INT_ARRAY;const u=new Int32Array(o.length);let p=0;for(const y of o)u[p++]=y;return u}static getCodeword(o){const u=P.binarySearch(Rt.SYMBOL_TABLE,o&262143);return u<0?-1:(Rt.CODEWORD_TABLE[u]-1)%Rt.NUMBER_OF_CODEWORDS}}Rt.NUMBER_OF_CODEWORDS=929,Rt.MAX_CODEWORDS_IN_BARCODE=Rt.NUMBER_OF_CODEWORDS-1,Rt.MIN_ROWS_IN_BARCODE=3,Rt.MAX_ROWS_IN_BARCODE=90,Rt.MODULES_IN_CODEWORD=17,Rt.MODULES_IN_STOP_PATTERN=18,Rt.BARS_IN_MODULE=8,Rt.EMPTY_INT_ARRAY=new Int32Array([]),Rt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Rt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class kg{constructor(o,u){this.bits=o,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class $t{static detectMultiple(o,u,p){let y=o.getBlackMatrix(),x=$t.detect(p,y);return x.length||(y=y.clone(),y.rotate180(),x=$t.detect(p,y)),new kg(y,x)}static detect(o,u){const p=new Array;let y=0,x=0,w=!1;for(;y<u.getHeight();){const A=$t.findVertices(u,y,x);if(A[0]==null&&A[3]==null){if(!w)break;w=!1,x=0;for(const k of p)k[1]!=null&&(y=Math.trunc(Math.max(y,k[1].getY()))),k[3]!=null&&(y=Math.max(y,Math.trunc(k[3].getY())));y+=$t.ROW_STEP;continue}if(w=!0,p.push(A),!o)break;A[2]!=null?(x=Math.trunc(A[2].getX()),y=Math.trunc(A[2].getY())):(x=Math.trunc(A[4].getX()),y=Math.trunc(A[4].getY()))}return p}static findVertices(o,u,p){const y=o.getHeight(),x=o.getWidth(),w=new Array(8);return $t.copyToResult(w,$t.findRowsWithPattern(o,y,x,u,p,$t.START_PATTERN),$t.INDEXES_START_PATTERN),w[4]!=null&&(p=Math.trunc(w[4].getX()),u=Math.trunc(w[4].getY())),$t.copyToResult(w,$t.findRowsWithPattern(o,y,x,u,p,$t.STOP_PATTERN),$t.INDEXES_STOP_PATTERN),w}static copyToResult(o,u,p){for(let y=0;y<p.length;y++)o[p[y]]=u[y]}static findRowsWithPattern(o,u,p,y,x,w){const A=new Array(4);let k=!1;const D=new Int32Array(w.length);for(;y<u;y+=$t.ROW_STEP){let Y=$t.findGuardPattern(o,x,y,p,!1,w,D);if(Y!=null){for(;y>0;){const ee=$t.findGuardPattern(o,x,--y,p,!1,w,D);if(ee!=null)Y=ee;else{y++;break}}A[0]=new fe(Y[0],y),A[1]=new fe(Y[1],y),k=!0;break}}let V=y+1;if(k){let Y=0,ee=Int32Array.from([Math.trunc(A[0].getX()),Math.trunc(A[1].getX())]);for(;V<u;V++){const oe=$t.findGuardPattern(o,ee[0],V,p,!1,w,D);if(oe!=null&&Math.abs(ee[0]-oe[0])<$t.MAX_PATTERN_DRIFT&&Math.abs(ee[1]-oe[1])<$t.MAX_PATTERN_DRIFT)ee=oe,Y=0;else{if(Y>$t.SKIPPED_ROW_COUNT_MAX)break;Y++}}V-=Y+1,A[2]=new fe(ee[0],V),A[3]=new fe(ee[1],V)}return V-y<$t.BARCODE_MIN_HEIGHT&&P.fill(A,null),A}static findGuardPattern(o,u,p,y,x,w,A){P.fillWithin(A,0,A.length,0);let k=u,D=0;for(;o.get(k,p)&&k>0&&D++<$t.MAX_PIXEL_DRIFT;)k--;let V=k,Y=0,ee=w.length;for(let oe=x;V<y;V++)if(o.get(V,p)!==oe)A[Y]++;else{if(Y===ee-1){if($t.patternMatchVariance(A,w,$t.MAX_INDIVIDUAL_VARIANCE)<$t.MAX_AVG_VARIANCE)return new Int32Array([k,V]);k+=A[0]+A[1],E.arraycopy(A,2,A,0,Y-1),A[Y-1]=0,A[Y]=0,Y--}else Y++;A[Y]=1,oe=!oe}return Y===ee-1&&$t.patternMatchVariance(A,w,$t.MAX_INDIVIDUAL_VARIANCE)<$t.MAX_AVG_VARIANCE?new Int32Array([k,V-1]):null}static patternMatchVariance(o,u,p){let y=o.length,x=0,w=0;for(let D=0;D<y;D++)x+=o[D],w+=u[D];if(x<w)return 1/0;let A=x/w;p*=A;let k=0;for(let D=0;D<y;D++){let V=o[D],Y=u[D]*A,ee=V>Y?V-Y:Y-V;if(ee>p)return 1/0;k+=ee}return k/x}}$t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),$t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),$t.MAX_AVG_VARIANCE=.42,$t.MAX_INDIVIDUAL_VARIANCE=.8,$t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),$t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),$t.MAX_PIXEL_DRIFT=3,$t.MAX_PATTERN_DRIFT=5,$t.SKIPPED_ROW_COUNT_MAX=25,$t.ROW_STEP=5,$t.BARCODE_MIN_HEIGHT=10;class Kn{constructor(o,u){if(u.length===0)throw new v;this.field=o;let p=u.length;if(p>1&&u[0]===0){let y=1;for(;y<p&&u[y]===0;)y++;y===p?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(p-y),E.arraycopy(u,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);if(o===1){let y=0;for(let x of this.coefficients)y=this.field.add(y,x);return y}let u=this.coefficients[0],p=this.coefficients.length;for(let y=1;y<p;y++)u=this.field.add(this.field.multiply(o,u),this.coefficients[y]);return u}add(o){if(!this.field.equals(o.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let u=this.coefficients,p=o.coefficients;if(u.length>p.length){let w=u;u=p,p=w}let y=new Int32Array(p.length),x=p.length-u.length;E.arraycopy(p,0,y,0,x);for(let w=x;w<p.length;w++)y[w]=this.field.add(u[w-x],p[w]);return new Kn(this.field,y)}subtract(o){if(!this.field.equals(o.field))throw new v("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof Kn?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new Kn(this.field,new Int32Array([0]));let u=this.coefficients,p=u.length,y=o.coefficients,x=y.length,w=new Int32Array(p+x-1);for(let A=0;A<p;A++){let k=u[A];for(let D=0;D<x;D++)w[A+D]=this.field.add(w[A+D],this.field.multiply(k,y[D]))}return new Kn(this.field,w)}negative(){let o=this.coefficients.length,u=new Int32Array(o);for(let p=0;p<o;p++)u[p]=this.field.subtract(0,this.coefficients[p]);return new Kn(this.field,u)}multiplyScalar(o){if(o===0)return new Kn(this.field,new Int32Array([0]));if(o===1)return this;let u=this.coefficients.length,p=new Int32Array(u);for(let y=0;y<u;y++)p[y]=this.field.multiply(this.coefficients[y],o);return new Kn(this.field,p)}multiplyByMonomial(o,u){if(o<0)throw new v;if(u===0)return new Kn(this.field,new Int32Array([0]));let p=this.coefficients.length,y=new Int32Array(p+o);for(let x=0;x<p;x++)y[x]=this.field.multiply(this.coefficients[x],u);return new Kn(this.field,y)}toString(){let o=new H;for(let u=this.getDegree();u>=0;u--){let p=this.getCoefficient(u);p!==0&&(p<0?(o.append(" - "),p=-p):o.length()>0&&o.append(" + "),(u===0||p!==1)&&o.append(p),u!==0&&(u===1?o.append("x"):(o.append("x^"),o.append(u))))}return o.toString()}}class Pg{add(o,u){return(o+u)%this.modulus}subtract(o,u){return(this.modulus+o-u)%this.modulus}exp(o){return this.expTable[o]}log(o){if(o===0)throw new v;return this.logTable[o]}inverse(o){if(o===0)throw new ve;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,u){return o===0||u===0?0:this.expTable[(this.logTable[o]+this.logTable[u])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}class yl extends Pg{constructor(o,u){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let p=1;for(let y=0;y<o;y++)this.expTable[y]=p,p=p*u%o;for(let y=0;y<o-1;y++)this.logTable[this.expTable[y]]=y;this.zero=new Kn(this,new Int32Array([0])),this.one=new Kn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,u){if(o<0)throw new v;if(u===0)return this.zero;let p=new Int32Array(o+1);return p[0]=u,new Kn(this,p)}}yl.PDF417_GF=new yl(Rt.NUMBER_OF_CODEWORDS,3);class Oh{constructor(){this.field=yl.PDF417_GF}decode(o,u,p){let y=new Kn(this.field,o),x=new Int32Array(u),w=!1;for(let pe=u;pe>0;pe--){let ge=y.evaluateAt(this.field.exp(pe));x[u-pe]=ge,ge!==0&&(w=!0)}if(!w)return 0;let A=this.field.getOne();if(p!=null)for(const pe of p){let ge=this.field.exp(o.length-1-pe),xe=new Kn(this.field,new Int32Array([this.field.subtract(0,ge),1]));A=A.multiply(xe)}let k=new Kn(this.field,x),D=this.runEuclideanAlgorithm(this.field.buildMonomial(u,1),k,u),V=D[0],Y=D[1],ee=this.findErrorLocations(V),oe=this.findErrorMagnitudes(Y,V,ee);for(let pe=0;pe<ee.length;pe++){let ge=o.length-1-this.field.log(ee[pe]);if(ge<0)throw S.getChecksumInstance();o[ge]=this.field.subtract(o[ge],oe[pe])}return ee.length}runEuclideanAlgorithm(o,u,p){if(o.getDegree()<u.getDegree()){let ee=o;o=u,u=ee}let y=o,x=u,w=this.field.getZero(),A=this.field.getOne();for(;x.getDegree()>=Math.round(p/2);){let ee=y,oe=w;if(y=x,w=A,y.isZero())throw S.getChecksumInstance();x=ee;let pe=this.field.getZero(),ge=y.getCoefficient(y.getDegree()),xe=this.field.inverse(ge);for(;x.getDegree()>=y.getDegree()&&!x.isZero();){let Ce=x.getDegree()-y.getDegree(),Ze=this.field.multiply(x.getCoefficient(x.getDegree()),xe);pe=pe.add(this.field.buildMonomial(Ce,Ze)),x=x.subtract(y.multiplyByMonomial(Ce,Ze))}A=pe.multiply(w).subtract(oe).negative()}let k=A.getCoefficient(0);if(k===0)throw S.getChecksumInstance();let D=this.field.inverse(k),V=A.multiply(D),Y=x.multiply(D);return[V,Y]}findErrorLocations(o){let u=o.getDegree(),p=new Int32Array(u),y=0;for(let x=1;x<this.field.getSize()&&y<u;x++)o.evaluateAt(x)===0&&(p[y]=this.field.inverse(x),y++);if(y!==u)throw S.getChecksumInstance();return p}findErrorMagnitudes(o,u,p){let y=u.getDegree(),x=new Int32Array(y);for(let D=1;D<=y;D++)x[y-D]=this.field.multiply(D,u.getCoefficient(D));let w=new Kn(this.field,x),A=p.length,k=new Int32Array(A);for(let D=0;D<A;D++){let V=this.field.inverse(p[D]),Y=this.field.subtract(0,o.evaluateAt(V)),ee=this.field.inverse(w.evaluateAt(V));k[D]=this.field.multiply(Y,ee)}return k}}class Ao{constructor(o,u,p,y,x){o instanceof Ao?this.constructor_2(o):this.constructor_1(o,u,p,y,x)}constructor_1(o,u,p,y,x){const w=u==null||p==null,A=y==null||x==null;if(w&&A)throw new X;w?(u=new fe(0,y.getY()),p=new fe(0,x.getY())):A&&(y=new fe(o.getWidth()-1,u.getY()),x=new fe(o.getWidth()-1,p.getY())),this.image=o,this.topLeft=u,this.bottomLeft=p,this.topRight=y,this.bottomRight=x,this.minX=Math.trunc(Math.min(u.getX(),p.getX())),this.maxX=Math.trunc(Math.max(y.getX(),x.getX())),this.minY=Math.trunc(Math.min(u.getY(),y.getY())),this.maxY=Math.trunc(Math.max(p.getY(),x.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,u){return o==null?u:u==null?o:new Ao(o.image,o.topLeft,o.bottomLeft,u.topRight,u.bottomRight)}addMissingRows(o,u,p){let y=this.topLeft,x=this.bottomLeft,w=this.topRight,A=this.bottomRight;if(o>0){let k=p?this.topLeft:this.topRight,D=Math.trunc(k.getY()-o);D<0&&(D=0);let V=new fe(k.getX(),D);p?y=V:w=V}if(u>0){let k=p?this.bottomLeft:this.bottomRight,D=Math.trunc(k.getY()+u);D>=this.image.getHeight()&&(D=this.image.getHeight()-1);let V=new fe(k.getX(),D);p?x=V:A=V}return new Ao(this.image,y,x,w,A)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class kc{constructor(o,u,p,y){this.columnCount=o,this.errorCorrectionLevel=y,this.rowCountUpperPart=u,this.rowCountLowerPart=p,this.rowCount=u+p}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ws{constructor(){this.buffer=""}static form(o,u){let p=-1;function y(w,A,k,D,V,Y){if(w==="%%")return"%";if(u[++p]===void 0)return;w=D?parseInt(D.substr(1)):void 0;let ee=V?parseInt(V.substr(1)):void 0,oe;switch(Y){case"s":oe=u[p];break;case"c":oe=u[p][0];break;case"f":oe=parseFloat(u[p]).toFixed(w);break;case"p":oe=parseFloat(u[p]).toPrecision(w);break;case"e":oe=parseFloat(u[p]).toExponential(w);break;case"x":oe=parseInt(u[p]).toString(ee||16);break;case"d":oe=parseFloat(parseInt(u[p],ee||10).toPrecision(w)).toFixed(0);break}oe=typeof oe=="object"?JSON.stringify(oe):(+oe).toString(ee);let pe=parseInt(k),ge=k&&k[0]+""=="0"?"0":" ";for(;oe.length<pe;)oe=A!==void 0?oe+ge:ge+oe;return oe}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(x,y)}format(o,...u){this.buffer+=ws.form(o,u)}toString(){return this.buffer}}class Ga{constructor(o){this.boundingBox=new Ao(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let u=this.getCodeword(o);if(u!=null)return u;for(let p=1;p<Ga.MAX_NEARBY_DISTANCE;p++){let y=this.imageRowToCodewordIndex(o)-p;if(y>=0&&(u=this.codewords[y],u!=null)||(y=this.imageRowToCodewordIndex(o)+p,y<this.codewords.length&&(u=this.codewords[y],u!=null)))return u}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,u){this.codewords[this.imageRowToCodewordIndex(o)]=u}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const o=new ws;let u=0;for(const p of this.codewords){if(p==null){o.format("%3d:    |   %n",u++);continue}o.format("%3d: %3d|%3d%n",u++,p.getRowNumber(),p.getValue())}return o.toString()}}Ga.MAX_NEARBY_DISTANCE=5;class Qs{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let u=this.values.get(o);u==null&&(u=0),u++,this.values.set(o,u)}getValue(){let o=-1,u=new Array;for(const[p,y]of this.values.entries()){const x={getKey:()=>p,getValue:()=>y};x.getValue()>o?(o=x.getValue(),u=[],u.push(x.getKey())):x.getValue()===o&&u.push(x.getKey())}return Rt.toIntArray(u)}getConfidence(o){return this.values.get(o)}}class jg extends Ga{constructor(o,u){super(o),this._isLeft=u}setRowNumbers(){for(let o of this.getCodewords())o?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let u=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(u,o);let p=this.getBoundingBox(),y=this._isLeft?p.getTopLeft():p.getTopRight(),x=this._isLeft?p.getBottomLeft():p.getBottomRight(),w=this.imageRowToCodewordIndex(Math.trunc(y.getY())),A=this.imageRowToCodewordIndex(Math.trunc(x.getY())),k=-1,D=1,V=0;for(let Y=w;Y<A;Y++){if(u[Y]==null)continue;let ee=u[Y],oe=ee.getRowNumber()-k;if(oe===0)V++;else if(oe===1)D=Math.max(D,V),V=1,k=ee.getRowNumber();else if(oe<0||ee.getRowNumber()>=o.getRowCount()||oe>Y)u[Y]=null;else{let pe;D>2?pe=(D-2)*oe:pe=oe;let ge=pe>=Y;for(let xe=1;xe<=pe&&!ge;xe++)ge=u[Y-xe]!=null;ge?u[Y]=null:(k=ee.getRowNumber(),V=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let u=new Int32Array(o.getRowCount());for(let p of this.getCodewords())if(p!=null){let y=p.getRowNumber();if(y>=u.length)continue;u[y]++}return u}adjustIncompleteIndicatorColumnRowNumbers(o){let u=this.getBoundingBox(),p=this._isLeft?u.getTopLeft():u.getTopRight(),y=this._isLeft?u.getBottomLeft():u.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(p.getY())),w=this.imageRowToCodewordIndex(Math.trunc(y.getY())),A=this.getCodewords(),k=-1;for(let D=x;D<w;D++){if(A[D]==null)continue;let V=A[D];V.setRowNumberAsRowIndicatorColumn();let Y=V.getRowNumber()-k;Y===0||(Y===1?k=V.getRowNumber():V.getRowNumber()>=o.getRowCount()?A[D]=null:k=V.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),u=new Qs,p=new Qs,y=new Qs,x=new Qs;for(let A of o){if(A==null)continue;A.setRowNumberAsRowIndicatorColumn();let k=A.getValue()%30,D=A.getRowNumber();switch(this._isLeft||(D+=2),D%3){case 0:p.setValue(k*3+1);break;case 1:x.setValue(k/3),y.setValue(k%3);break;case 2:u.setValue(k+1);break}}if(u.getValue().length===0||p.getValue().length===0||y.getValue().length===0||x.getValue().length===0||u.getValue()[0]<1||p.getValue()[0]+y.getValue()[0]<Rt.MIN_ROWS_IN_BARCODE||p.getValue()[0]+y.getValue()[0]>Rt.MAX_ROWS_IN_BARCODE)return null;let w=new kc(u.getValue()[0],p.getValue()[0],y.getValue()[0],x.getValue()[0]);return this.removeIncorrectCodewords(o,w),w}removeIncorrectCodewords(o,u){for(let p=0;p<o.length;p++){let y=o[p];if(o[p]==null)continue;let x=y.getValue()%30,w=y.getRowNumber();if(w>u.getRowCount()){o[p]=null;continue}switch(this._isLeft||(w+=2),w%3){case 0:x*3+1!==u.getRowCountUpperPart()&&(o[p]=null);break;case 1:(Math.trunc(x/3)!==u.getErrorCorrectionLevel()||x%3!==u.getRowCountLowerPart())&&(o[p]=null);break;case 2:x+1!==u.getColumnCount()&&(o[p]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Pc{constructor(o,u){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=u,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let o=Rt.MAX_CODEWORDS_IN_BARCODE,u;do u=o,o=this.adjustRowNumbersAndGetCount();while(o>0&&o<u);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){o?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(o===0)return 0;for(let u=1;u<this.barcodeColumnCount+1;u++){let p=this.detectionResultColumns[u].getCodewords();for(let y=0;y<p.length;y++)p[y]!=null&&(p[y].hasValidRowNumber()||this.adjustRowNumbers(u,y,p))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let o=this.detectionResultColumns[0].getCodewords(),u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let p=0;p<o.length;p++)if(o[p]!=null&&u[p]!=null&&o[p].getRowNumber()===u[p].getRowNumber())for(let y=1;y<=this.barcodeColumnCount;y++){let x=this.detectionResultColumns[y].getCodewords()[p];x!=null&&(x.setRowNumber(o[p].getRowNumber()),x.hasValidRowNumber()||(this.detectionResultColumns[y].getCodewords()[p]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let o=0,u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let p=0;p<u.length;p++){if(u[p]==null)continue;let y=u[p].getRowNumber(),x=0;for(let w=this.barcodeColumnCount+1;w>0&&x<this.ADJUST_ROW_NUMBER_SKIP;w--){let A=this.detectionResultColumns[w].getCodewords()[p];A!=null&&(x=Pc.adjustRowNumberIfValid(y,x,A),A.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let o=0,u=this.detectionResultColumns[0].getCodewords();for(let p=0;p<u.length;p++){if(u[p]==null)continue;let y=u[p].getRowNumber(),x=0;for(let w=1;w<this.barcodeColumnCount+1&&x<this.ADJUST_ROW_NUMBER_SKIP;w++){let A=this.detectionResultColumns[w].getCodewords()[p];A!=null&&(x=Pc.adjustRowNumberIfValid(y,x,A),A.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,u,p){return p==null||p.hasValidRowNumber()||(p.isValidRowNumber(o)?(p.setRowNumber(o),u=0):++u),u}adjustRowNumbers(o,u,p){if(!this.detectionResultColumns[o-1])return;let y=p[u],x=this.detectionResultColumns[o-1].getCodewords(),w=x;this.detectionResultColumns[o+1]!=null&&(w=this.detectionResultColumns[o+1].getCodewords());let A=new Array(14);A[2]=x[u],A[3]=w[u],u>0&&(A[0]=p[u-1],A[4]=x[u-1],A[5]=w[u-1]),u>1&&(A[8]=p[u-2],A[10]=x[u-2],A[11]=w[u-2]),u<p.length-1&&(A[1]=p[u+1],A[6]=x[u+1],A[7]=w[u+1]),u<p.length-2&&(A[9]=p[u+2],A[12]=x[u+2],A[13]=w[u+2]);for(let k of A)if(Pc.adjustRowNumber(y,k))return}static adjustRowNumber(o,u){return u==null?!1:u.hasValidRowNumber()&&u.getBucket()===o.getBucket()?(o.setRowNumber(u.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,u){this.detectionResultColumns[o]=u}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];o==null&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let u=new ws;for(let p=0;p<o.getCodewords().length;p++){u.format("CW %3d:",p);for(let y=0;y<this.barcodeColumnCount+2;y++){if(this.detectionResultColumns[y]==null){u.format("    |   ");continue}let x=this.detectionResultColumns[y].getCodewords()[p];if(x==null){u.format("    |   ");continue}u.format(" %3d|%3d",x.getRowNumber(),x.getValue())}u.format("%n")}return u.toString()}}class Oo{constructor(o,u,p,y){this.rowNumber=Oo.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(u),this.bucket=Math.trunc(p),this.value=Math.trunc(y)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==Oo.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}Oo.BARCODE_ROW_UNKNOWN=-1;class Yn{static initialize(){for(let o=0;o<Rt.SYMBOL_TABLE.length;o++){let u=Rt.SYMBOL_TABLE[o],p=u&1;for(let y=0;y<Rt.BARS_IN_MODULE;y++){let x=0;for(;(u&1)===p;)x+=1,u>>=1;p=u&1,Yn.RATIOS_TABLE[o]||(Yn.RATIOS_TABLE[o]=new Array(Rt.BARS_IN_MODULE)),Yn.RATIOS_TABLE[o][Rt.BARS_IN_MODULE-y-1]=Math.fround(x/Rt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let u=Yn.getDecodedCodewordValue(Yn.sampleBitCounts(o));return u!==-1?u:Yn.getClosestDecodedValue(o)}static sampleBitCounts(o){let u=at.sum(o),p=new Int32Array(Rt.BARS_IN_MODULE),y=0,x=0;for(let w=0;w<Rt.MODULES_IN_CODEWORD;w++){let A=u/(2*Rt.MODULES_IN_CODEWORD)+w*u/Rt.MODULES_IN_CODEWORD;x+o[y]<=A&&(x+=o[y],y++),p[y]++}return p}static getDecodedCodewordValue(o){let u=Yn.getBitValue(o);return Rt.getCodeword(u)===-1?-1:u}static getBitValue(o){let u=0;for(let p=0;p<o.length;p++)for(let y=0;y<o[p];y++)u=u<<1|(p%2===0?1:0);return Math.trunc(u)}static getClosestDecodedValue(o){let u=at.sum(o),p=new Array(Rt.BARS_IN_MODULE);if(u>1)for(let w=0;w<p.length;w++)p[w]=Math.fround(o[w]/u);let y=de.MAX_VALUE,x=-1;this.bSymbolTableReady||Yn.initialize();for(let w=0;w<Yn.RATIOS_TABLE.length;w++){let A=0,k=Yn.RATIOS_TABLE[w];for(let D=0;D<Rt.BARS_IN_MODULE;D++){let V=Math.fround(k[D]-p[D]);if(A+=Math.fround(V*V),A>=y)break}A<y&&(y=A,x=Rt.SYMBOL_TABLE[w])}return x}}Yn.bSymbolTableReady=!1,Yn.RATIOS_TABLE=new Array(Rt.SYMBOL_TABLE.length).map(K=>new Array(Rt.BARS_IN_MODULE));class sd{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class Th{static parseLong(o,u=void 0){return parseInt(o,u)}}class bs extends h{}bs.kind="NullPointerException";class Nh{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,u,p){if(o==null)throw new bs;if(u<0||u>o.length||p<0||u+p>o.length||u+p<0)throw new C;if(p===0)return;for(let y=0;y<p;y++)this.write(o[u+y])}flush(){}close(){}}class od extends h{}class Ig extends Nh{constructor(o=32){if(super(),this.count=0,o<0)throw new v("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let p=this.buf.length<<1;if(p-o<0&&(p=o),p<0){if(o<0)throw new od;p=I.MAX_VALUE}this.buf=P.copyOfUint8Array(this.buf,p)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,u,p){if(u<0||u>o.length||p<0||u+p-o.length>0)throw new C;this.ensureCapacity(this.count+p),E.arraycopy(o,u,this.buf,this.count,p),this.count+=p}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return P.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?typeof o=="string"?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var wr;(function(K){K[K.ALPHA=0]="ALPHA",K[K.LOWER=1]="LOWER",K[K.MIXED=2]="MIXED",K[K.PUNCT=3]="PUNCT",K[K.ALPHA_SHIFT=4]="ALPHA_SHIFT",K[K.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(wr||(wr={}));function jc(){if(typeof window<"u")return window.BigInt||null;if(typeof Xl<"u")return Xl.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ic;function Cn(K){if(typeof Ic>"u"&&(Ic=jc()),Ic===null)throw new Error("BigInt is not supported!");return Ic(K)}function xl(){let K=[];K[0]=Cn(1);let o=Cn(900);K[1]=o;for(let u=2;u<16;u++)K[u]=K[u-1]*o;return K}class Ae{static decode(o,u){let p=new H(""),y=U.ISO8859_1;p.enableDecoding(y);let x=1,w=o[x++],A=new sd;for(;x<o[0];){switch(w){case Ae.TEXT_COMPACTION_MODE_LATCH:x=Ae.textCompaction(o,x,p);break;case Ae.BYTE_COMPACTION_MODE_LATCH:case Ae.BYTE_COMPACTION_MODE_LATCH_6:x=Ae.byteCompaction(w,o,y,x,p);break;case Ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(o[x++]);break;case Ae.NUMERIC_COMPACTION_MODE_LATCH:x=Ae.numericCompaction(o,x,p);break;case Ae.ECI_CHARSET:U.getCharacterSetECIByValue(o[x++]);break;case Ae.ECI_GENERAL_PURPOSE:x+=2;break;case Ae.ECI_USER_DEFINED:x++;break;case Ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:x=Ae.decodeMacroBlock(o,x,A);break;case Ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ae.MACRO_PDF417_TERMINATOR:throw new B;default:x--,x=Ae.textCompaction(o,x,p);break}if(x<o.length)w=o[x++];else throw B.getFormatInstance()}if(p.length()===0)throw B.getFormatInstance();let k=new Ne(null,p.toString(),null,u);return k.setOther(A),k}static decodeMacroBlock(o,u,p){if(u+Ae.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw B.getFormatInstance();let y=new Int32Array(Ae.NUMBER_OF_SEQUENCE_CODEWORDS);for(let A=0;A<Ae.NUMBER_OF_SEQUENCE_CODEWORDS;A++,u++)y[A]=o[u];p.setSegmentIndex(I.parseInt(Ae.decodeBase900toBase10(y,Ae.NUMBER_OF_SEQUENCE_CODEWORDS)));let x=new H;u=Ae.textCompaction(o,u,x),p.setFileId(x.toString());let w=-1;for(o[u]===Ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(w=u+1);u<o[0];)switch(o[u]){case Ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(u++,o[u]){case Ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let A=new H;u=Ae.textCompaction(o,u+1,A),p.setFileName(A.toString());break;case Ae.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let k=new H;u=Ae.textCompaction(o,u+1,k),p.setSender(k.toString());break;case Ae.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let D=new H;u=Ae.textCompaction(o,u+1,D),p.setAddressee(D.toString());break;case Ae.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let V=new H;u=Ae.numericCompaction(o,u+1,V),p.setSegmentCount(I.parseInt(V.toString()));break;case Ae.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let Y=new H;u=Ae.numericCompaction(o,u+1,Y),p.setTimestamp(Th.parseLong(Y.toString()));break;case Ae.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let ee=new H;u=Ae.numericCompaction(o,u+1,ee),p.setChecksum(I.parseInt(ee.toString()));break;case Ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let oe=new H;u=Ae.numericCompaction(o,u+1,oe),p.setFileSize(Th.parseLong(oe.toString()));break;default:throw B.getFormatInstance()}break;case Ae.MACRO_PDF417_TERMINATOR:u++,p.setLastSegment(!0);break;default:throw B.getFormatInstance()}if(w!==-1){let A=u-w;p.isLastSegment()&&A--,p.setOptionalData(P.copyOfRange(o,w,w+A))}return u}static textCompaction(o,u,p){let y=new Int32Array((o[0]-u)*2),x=new Int32Array((o[0]-u)*2),w=0,A=!1;for(;u<o[0]&&!A;){let k=o[u++];if(k<Ae.TEXT_COMPACTION_MODE_LATCH)y[w]=k/30,y[w+1]=k%30,w+=2;else switch(k){case Ae.TEXT_COMPACTION_MODE_LATCH:y[w++]=Ae.TEXT_COMPACTION_MODE_LATCH;break;case Ae.BYTE_COMPACTION_MODE_LATCH:case Ae.BYTE_COMPACTION_MODE_LATCH_6:case Ae.NUMERIC_COMPACTION_MODE_LATCH:case Ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ae.MACRO_PDF417_TERMINATOR:u--,A=!0;break;case Ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y[w]=Ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,k=o[u++],x[w]=k,w++;break}}return Ae.decodeTextCompaction(y,x,w,p),u}static decodeTextCompaction(o,u,p,y){let x=wr.ALPHA,w=wr.ALPHA,A=0;for(;A<p;){let k=o[A],D="";switch(x){case wr.ALPHA:if(k<26)D=String.fromCharCode(65+k);else switch(k){case 26:D=" ";break;case Ae.LL:x=wr.LOWER;break;case Ae.ML:x=wr.MIXED;break;case Ae.PS:w=x,x=wr.PUNCT_SHIFT;break;case Ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(u[A]);break;case Ae.TEXT_COMPACTION_MODE_LATCH:x=wr.ALPHA;break}break;case wr.LOWER:if(k<26)D=String.fromCharCode(97+k);else switch(k){case 26:D=" ";break;case Ae.AS:w=x,x=wr.ALPHA_SHIFT;break;case Ae.ML:x=wr.MIXED;break;case Ae.PS:w=x,x=wr.PUNCT_SHIFT;break;case Ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(u[A]);break;case Ae.TEXT_COMPACTION_MODE_LATCH:x=wr.ALPHA;break}break;case wr.MIXED:if(k<Ae.PL)D=Ae.MIXED_CHARS[k];else switch(k){case Ae.PL:x=wr.PUNCT;break;case 26:D=" ";break;case Ae.LL:x=wr.LOWER;break;case Ae.AL:x=wr.ALPHA;break;case Ae.PS:w=x,x=wr.PUNCT_SHIFT;break;case Ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(u[A]);break;case Ae.TEXT_COMPACTION_MODE_LATCH:x=wr.ALPHA;break}break;case wr.PUNCT:if(k<Ae.PAL)D=Ae.PUNCT_CHARS[k];else switch(k){case Ae.PAL:x=wr.ALPHA;break;case Ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(u[A]);break;case Ae.TEXT_COMPACTION_MODE_LATCH:x=wr.ALPHA;break}break;case wr.ALPHA_SHIFT:if(x=w,k<26)D=String.fromCharCode(65+k);else switch(k){case 26:D=" ";break;case Ae.TEXT_COMPACTION_MODE_LATCH:x=wr.ALPHA;break}break;case wr.PUNCT_SHIFT:if(x=w,k<Ae.PAL)D=Ae.PUNCT_CHARS[k];else switch(k){case Ae.PAL:x=wr.ALPHA;break;case Ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(u[A]);break;case Ae.TEXT_COMPACTION_MODE_LATCH:x=wr.ALPHA;break}break}D!==""&&y.append(D),A++}}static byteCompaction(o,u,p,y,x){let w=new Ig,A=0,k=0,D=!1;switch(o){case Ae.BYTE_COMPACTION_MODE_LATCH:let V=new Int32Array(6),Y=u[y++];for(;y<u[0]&&!D;)switch(V[A++]=Y,k=900*k+Y,Y=u[y++],Y){case Ae.TEXT_COMPACTION_MODE_LATCH:case Ae.BYTE_COMPACTION_MODE_LATCH:case Ae.NUMERIC_COMPACTION_MODE_LATCH:case Ae.BYTE_COMPACTION_MODE_LATCH_6:case Ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ae.MACRO_PDF417_TERMINATOR:y--,D=!0;break;default:if(A%5===0&&A>0){for(let ee=0;ee<6;++ee)w.write(Number(Cn(k)>>Cn(8*(5-ee))));k=0,A=0}break}y===u[0]&&Y<Ae.TEXT_COMPACTION_MODE_LATCH&&(V[A++]=Y);for(let ee=0;ee<A;ee++)w.write(V[ee]);break;case Ae.BYTE_COMPACTION_MODE_LATCH_6:for(;y<u[0]&&!D;){let ee=u[y++];if(ee<Ae.TEXT_COMPACTION_MODE_LATCH)A++,k=900*k+ee;else switch(ee){case Ae.TEXT_COMPACTION_MODE_LATCH:case Ae.BYTE_COMPACTION_MODE_LATCH:case Ae.NUMERIC_COMPACTION_MODE_LATCH:case Ae.BYTE_COMPACTION_MODE_LATCH_6:case Ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ae.MACRO_PDF417_TERMINATOR:y--,D=!0;break}if(A%5===0&&A>0){for(let oe=0;oe<6;++oe)w.write(Number(Cn(k)>>Cn(8*(5-oe))));k=0,A=0}}break}return x.append(G.decode(w.toByteArray(),p)),y}static numericCompaction(o,u,p){let y=0,x=!1,w=new Int32Array(Ae.MAX_NUMERIC_CODEWORDS);for(;u<o[0]&&!x;){let A=o[u++];if(u===o[0]&&(x=!0),A<Ae.TEXT_COMPACTION_MODE_LATCH)w[y]=A,y++;else switch(A){case Ae.TEXT_COMPACTION_MODE_LATCH:case Ae.BYTE_COMPACTION_MODE_LATCH:case Ae.BYTE_COMPACTION_MODE_LATCH_6:case Ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ae.MACRO_PDF417_TERMINATOR:u--,x=!0;break}(y%Ae.MAX_NUMERIC_CODEWORDS===0||A===Ae.NUMERIC_COMPACTION_MODE_LATCH||x)&&y>0&&(p.append(Ae.decodeBase900toBase10(w,y)),y=0)}return u}static decodeBase900toBase10(o,u){let p=Cn(0);for(let x=0;x<u;x++)p+=Ae.EXP900[u-x-1]*Cn(o[x]);let y=p.toString();if(y.charAt(0)!=="1")throw new B;return y.substring(1)}}Ae.TEXT_COMPACTION_MODE_LATCH=900,Ae.BYTE_COMPACTION_MODE_LATCH=901,Ae.NUMERIC_COMPACTION_MODE_LATCH=902,Ae.BYTE_COMPACTION_MODE_LATCH_6=924,Ae.ECI_USER_DEFINED=925,Ae.ECI_GENERAL_PURPOSE=926,Ae.ECI_CHARSET=927,Ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Ae.MACRO_PDF417_TERMINATOR=922,Ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Ae.MAX_NUMERIC_CODEWORDS=15,Ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Ae.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Ae.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Ae.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Ae.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Ae.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Ae.PL=25,Ae.LL=27,Ae.AS=27,Ae.ML=28,Ae.AL=28,Ae.PS=29,Ae.PAL=29,Ae.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Ae.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Ae.EXP900=jc()?xl():[],Ae.NUMBER_OF_SEQUENCE_CODEWORDS=2;class qt{constructor(){}static decode(o,u,p,y,x,w,A){let k=new Ao(o,u,p,y,x),D=null,V=null,Y;for(let pe=!0;;pe=!1){if(u!=null&&(D=qt.getRowIndicatorColumn(o,k,u,!0,w,A)),y!=null&&(V=qt.getRowIndicatorColumn(o,k,y,!1,w,A)),Y=qt.merge(D,V),Y==null)throw X.getNotFoundInstance();let ge=Y.getBoundingBox();if(pe&&ge!=null&&(ge.getMinY()<k.getMinY()||ge.getMaxY()>k.getMaxY()))k=ge;else break}Y.setBoundingBox(k);let ee=Y.getBarcodeColumnCount()+1;Y.setDetectionResultColumn(0,D),Y.setDetectionResultColumn(ee,V);let oe=D!=null;for(let pe=1;pe<=ee;pe++){let ge=oe?pe:ee-pe;if(Y.getDetectionResultColumn(ge)!==void 0)continue;let xe;ge===0||ge===ee?xe=new jg(k,ge===0):xe=new Ga(k),Y.setDetectionResultColumn(ge,xe);let Ce=-1,Ze=Ce;for(let Qe=k.getMinY();Qe<=k.getMaxY();Qe++){if(Ce=qt.getStartColumn(Y,ge,Qe,oe),Ce<0||Ce>k.getMaxX()){if(Ze===-1)continue;Ce=Ze}let We=qt.detectCodeword(o,k.getMinX(),k.getMaxX(),oe,Ce,Qe,w,A);We!=null&&(xe.setCodeword(Qe,We),Ze=Ce,w=Math.min(w,We.getWidth()),A=Math.max(A,We.getWidth()))}}return qt.createDecoderResult(Y)}static merge(o,u){if(o==null&&u==null)return null;let p=qt.getBarcodeMetadata(o,u);if(p==null)return null;let y=Ao.merge(qt.adjustBoundingBox(o),qt.adjustBoundingBox(u));return new Pc(p,y)}static adjustBoundingBox(o){if(o==null)return null;let u=o.getRowHeights();if(u==null)return null;let p=qt.getMax(u),y=0;for(let A of u)if(y+=p-A,A>0)break;let x=o.getCodewords();for(let A=0;y>0&&x[A]==null;A++)y--;let w=0;for(let A=u.length-1;A>=0&&(w+=p-u[A],!(u[A]>0));A--);for(let A=x.length-1;w>0&&x[A]==null;A--)w--;return o.getBoundingBox().addMissingRows(y,w,o.isLeft())}static getMax(o){let u=-1;for(let p of o)u=Math.max(u,p);return u}static getBarcodeMetadata(o,u){let p;if(o==null||(p=o.getBarcodeMetadata())==null)return u==null?null:u.getBarcodeMetadata();let y;return u==null||(y=u.getBarcodeMetadata())==null?p:p.getColumnCount()!==y.getColumnCount()&&p.getErrorCorrectionLevel()!==y.getErrorCorrectionLevel()&&p.getRowCount()!==y.getRowCount()?null:p}static getRowIndicatorColumn(o,u,p,y,x,w){let A=new jg(u,y);for(let k=0;k<2;k++){let D=k===0?1:-1,V=Math.trunc(Math.trunc(p.getX()));for(let Y=Math.trunc(Math.trunc(p.getY()));Y<=u.getMaxY()&&Y>=u.getMinY();Y+=D){let ee=qt.detectCodeword(o,0,o.getWidth(),y,V,Y,x,w);ee!=null&&(A.setCodeword(Y,ee),y?V=ee.getStartX():V=ee.getEndX())}}return A}static adjustCodewordCount(o,u){let p=u[0][1],y=p.getValue(),x=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-qt.getNumberOfECCodeWords(o.getBarcodeECLevel());if(y.length===0){if(x<1||x>Rt.MAX_CODEWORDS_IN_BARCODE)throw X.getNotFoundInstance();p.setValue(x)}else y[0]!==x&&p.setValue(x)}static createDecoderResult(o){let u=qt.createBarcodeMatrix(o);qt.adjustCodewordCount(o,u);let p=new Array,y=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),x=[],w=new Array;for(let k=0;k<o.getBarcodeRowCount();k++)for(let D=0;D<o.getBarcodeColumnCount();D++){let V=u[k][D+1].getValue(),Y=k*o.getBarcodeColumnCount()+D;V.length===0?p.push(Y):V.length===1?y[Y]=V[0]:(w.push(Y),x.push(V))}let A=new Array(x.length);for(let k=0;k<A.length;k++)A[k]=x[k];return qt.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),y,Rt.toIntArray(p),Rt.toIntArray(w),A)}static createDecoderResultFromAmbiguousValues(o,u,p,y,x){let w=new Int32Array(y.length),A=100;for(;A-- >0;){for(let k=0;k<w.length;k++)u[y[k]]=x[k][w[k]];try{return qt.decodeCodewords(u,o,p)}catch(k){if(!(k instanceof S))throw k}if(w.length===0)throw S.getChecksumInstance();for(let k=0;k<w.length;k++)if(w[k]<x[k].length-1){w[k]++;break}else if(w[k]=0,k===w.length-1)throw S.getChecksumInstance()}throw S.getChecksumInstance()}static createBarcodeMatrix(o){let u=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let y=0;y<u.length;y++)for(let x=0;x<u[y].length;x++)u[y][x]=new Qs;let p=0;for(let y of o.getDetectionResultColumns()){if(y!=null){for(let x of y.getCodewords())if(x!=null){let w=x.getRowNumber();if(w>=0){if(w>=u.length)continue;u[w][p].setValue(x.getValue())}}}p++}return u}static isValidBarcodeColumn(o,u){return u>=0&&u<=o.getBarcodeColumnCount()+1}static getStartColumn(o,u,p,y){let x=y?1:-1,w=null;if(qt.isValidBarcodeColumn(o,u-x)&&(w=o.getDetectionResultColumn(u-x).getCodeword(p)),w!=null)return y?w.getEndX():w.getStartX();if(w=o.getDetectionResultColumn(u).getCodewordNearby(p),w!=null)return y?w.getStartX():w.getEndX();if(qt.isValidBarcodeColumn(o,u-x)&&(w=o.getDetectionResultColumn(u-x).getCodewordNearby(p)),w!=null)return y?w.getEndX():w.getStartX();let A=0;for(;qt.isValidBarcodeColumn(o,u-x);){u-=x;for(let k of o.getDetectionResultColumn(u).getCodewords())if(k!=null)return(y?k.getEndX():k.getStartX())+x*A*(k.getEndX()-k.getStartX());A++}return y?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,u,p,y,x,w,A,k){x=qt.adjustCodewordStartColumn(o,u,p,y,x,w);let D=qt.getModuleBitCount(o,u,p,y,x,w);if(D==null)return null;let V,Y=at.sum(D);if(y)V=x+Y;else{for(let pe=0;pe<D.length/2;pe++){let ge=D[pe];D[pe]=D[D.length-1-pe],D[D.length-1-pe]=ge}V=x,x=V-Y}if(!qt.checkCodewordSkew(Y,A,k))return null;let ee=Yn.getDecodedValue(D),oe=Rt.getCodeword(ee);return oe===-1?null:new Oo(x,V,qt.getCodewordBucketNumber(ee),oe)}static getModuleBitCount(o,u,p,y,x,w){let A=x,k=new Int32Array(8),D=0,V=y?1:-1,Y=y;for(;(y?A<p:A>=u)&&D<k.length;)o.get(A,w)===Y?(k[D]++,A+=V):(D++,Y=!Y);return D===k.length||A===(y?p:u)&&D===k.length-1?k:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,u,p,y,x,w){let A=x,k=y?-1:1;for(let D=0;D<2;D++){for(;(y?A>=u:A<p)&&y===o.get(A,w);){if(Math.abs(x-A)>qt.CODEWORD_SKEW_SIZE)return x;A+=k}k=-k,y=!y}return A}static checkCodewordSkew(o,u,p){return u-qt.CODEWORD_SKEW_SIZE<=o&&o<=p+qt.CODEWORD_SKEW_SIZE}static decodeCodewords(o,u,p){if(o.length===0)throw B.getFormatInstance();let y=1<<u+1,x=qt.correctErrors(o,p,y);qt.verifyCodewordCount(o,y);let w=Ae.decode(o,""+u);return w.setErrorsCorrected(x),w.setErasures(p.length),w}static correctErrors(o,u,p){if(u!=null&&u.length>p/2+qt.MAX_ERRORS||p<0||p>qt.MAX_EC_CODEWORDS)throw S.getChecksumInstance();return qt.errorCorrection.decode(o,p,u)}static verifyCodewordCount(o,u){if(o.length<4)throw B.getFormatInstance();let p=o[0];if(p>o.length)throw B.getFormatInstance();if(p===0)if(u<o.length)o[0]=o.length-u;else throw B.getFormatInstance()}static getBitCountForCodeword(o){let u=new Int32Array(8),p=0,y=u.length-1;for(;!((o&1)!==p&&(p=o&1,y--,y<0));)u[y]++,o>>=1;return u}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return qt.getCodewordBucketNumber(qt.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let u=new ws;for(let p=0;p<o.length;p++){u.format("Row %2d: ",p);for(let y=0;y<o[p].length;y++){let x=o[p][y];x.getValue().length===0?u.format("        ",null):u.format("%4d(%2d)",x.getValue()[0],x.getConfidence(x.getValue()[0]))}u.format("%n")}return u.toString()}}qt.CODEWORD_SKEW_SIZE=2,qt.MAX_ERRORS=3,qt.MAX_EC_CODEWORDS=512,qt.errorCorrection=new Oh;class Xn{decode(o,u=null){let p=Xn.decode(o,u,!1);if(p==null||p.length===0||p[0]==null)throw X.getNotFoundInstance();return p[0]}decodeMultiple(o,u=null){try{return Xn.decode(o,u,!0)}catch(p){throw p instanceof B||p instanceof S?X.getNotFoundInstance():p}}static decode(o,u,p){const y=new Array,x=$t.detectMultiple(o,u,p);for(const w of x.getPoints()){const A=qt.decode(x.getBits(),w[4],w[5],w[6],w[7],Xn.getMinCodewordWidth(w),Xn.getMaxCodewordWidth(w)),k=new ke(A.getText(),A.getRawBytes(),void 0,w,je.PDF_417);k.putMetadata(De.ERROR_CORRECTION_LEVEL,A.getECLevel());const D=A.getOther();D!=null&&k.putMetadata(De.PDF417_EXTRA_METADATA,D),y.push(k)}return y.map(w=>w)}static getMaxWidth(o,u){return o==null||u==null?0:Math.trunc(Math.abs(o.getX()-u.getX()))}static getMinWidth(o,u){return o==null||u==null?I.MAX_VALUE:Math.trunc(Math.abs(o.getX()-u.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(Xn.getMaxWidth(o[0],o[4]),Xn.getMaxWidth(o[6],o[2])*Rt.MODULES_IN_CODEWORD/Rt.MODULES_IN_STOP_PATTERN),Math.max(Xn.getMaxWidth(o[1],o[5]),Xn.getMaxWidth(o[7],o[3])*Rt.MODULES_IN_CODEWORD/Rt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(Xn.getMinWidth(o[0],o[4]),Xn.getMinWidth(o[6],o[2])*Rt.MODULES_IN_CODEWORD/Rt.MODULES_IN_STOP_PATTERN),Math.min(Xn.getMinWidth(o[1],o[5]),Xn.getMinWidth(o[7],o[3])*Rt.MODULES_IN_CODEWORD/Rt.MODULES_IN_STOP_PATTERN)))}reset(){}}class wl extends h{}wl.kind="ReaderException";class ld{constructor(o,u){this.verbose=o===!0,u&&this.setHints(u)}decode(o,u){return u&&this.setHints(u),this.decodeInternal(o)}decodeWithState(o){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;const u=!n(o)&&o.get(M.TRY_HARDER)===!0,p=n(o)?null:o.get(M.POSSIBLE_FORMATS),y=new Array;if(!n(p)){const x=p.some(w=>w===je.UPC_A||w===je.UPC_E||w===je.EAN_13||w===je.EAN_8||w===je.CODABAR||w===je.CODE_39||w===je.CODE_93||w===je.CODE_128||w===je.ITF||w===je.RSS_14||w===je.RSS_EXPANDED);x&&!u&&y.push(new ml(o,this.verbose)),p.includes(je.QR_CODE)&&y.push(new yi),p.includes(je.DATA_MATRIX)&&y.push(new wa),p.includes(je.AZTEC)&&y.push(new yn),p.includes(je.PDF_417)&&y.push(new Xn),x&&u&&y.push(new ml(o,this.verbose))}y.length===0&&(u||y.push(new ml(o,this.verbose)),y.push(new yi),y.push(new wa),y.push(new yn),y.push(new Xn),u&&y.push(new ml(o,this.verbose))),this.readers=y}reset(){if(this.readers!==null)for(const o of this.readers)o.reset()}decodeInternal(o){if(this.readers===null)throw new wl("No readers where selected, nothing can be read.");for(const u of this.readers)try{return u.decode(o,this.hints)}catch(p){if(p instanceof wl)continue}throw new X("No MultiFormat Readers were able to detect the code.")}}class Rc extends we{constructor(o=null,u=500){const p=new ld;p.setHints(o),super(p,u)}decodeBitmap(o){return this.reader.decodeWithState(o)}}class cd extends we{constructor(o=500){super(new Xn,o)}}class Rg extends we{constructor(o=500){super(new yi,o)}}var kh;(function(K){K[K.ERROR_CORRECTION=0]="ERROR_CORRECTION",K[K.CHARACTER_SET=1]="CHARACTER_SET",K[K.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",K[K.MIN_SIZE=3]="MIN_SIZE",K[K.MAX_SIZE=4]="MAX_SIZE",K[K.MARGIN=5]="MARGIN",K[K.PDF417_COMPACT=6]="PDF417_COMPACT",K[K.PDF417_COMPACTION=7]="PDF417_COMPACTION",K[K.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",K[K.AZTEC_LAYERS=9]="AZTEC_LAYERS",K[K.QR_VERSION=10]="QR_VERSION"})(kh||(kh={}));var kn=kh;class Ph{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new ue(o,Int32Array.from([1])))}buildGenerator(o){const u=this.cachedGenerators;if(o>=u.length){let p=u[u.length-1];const y=this.field;for(let x=u.length;x<=o;x++){const w=p.multiply(new ue(y,Int32Array.from([1,y.exp(x-1+y.getGeneratorBase())])));u.push(w),p=w}}return u[o]}encode(o,u){if(u===0)throw new v("No error correction bytes");const p=o.length-u;if(p<=0)throw new v("No data bytes provided");const y=this.buildGenerator(u),x=new Int32Array(p);E.arraycopy(o,0,x,0,p);let w=new ue(this.field,x);w=w.multiplyByMonomial(u,1);const k=w.divide(y)[1].getCoefficients(),D=u-k.length;for(let V=0;V<D;V++)o[p+V]=0;E.arraycopy(k,0,o,p+D,k.length)}}class Zr{constructor(){}static applyMaskPenaltyRule1(o){return Zr.applyMaskPenaltyRule1Internal(o,!0)+Zr.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let u=0;const p=o.getArray(),y=o.getWidth(),x=o.getHeight();for(let w=0;w<x-1;w++){const A=p[w];for(let k=0;k<y-1;k++){const D=A[k];D===A[k+1]&&D===p[w+1][k]&&D===p[w+1][k+1]&&u++}}return Zr.N2*u}static applyMaskPenaltyRule3(o){let u=0;const p=o.getArray(),y=o.getWidth(),x=o.getHeight();for(let w=0;w<x;w++)for(let A=0;A<y;A++){const k=p[w];A+6<y&&k[A]===1&&k[A+1]===0&&k[A+2]===1&&k[A+3]===1&&k[A+4]===1&&k[A+5]===0&&k[A+6]===1&&(Zr.isWhiteHorizontal(k,A-4,A)||Zr.isWhiteHorizontal(k,A+7,A+11))&&u++,w+6<x&&p[w][A]===1&&p[w+1][A]===0&&p[w+2][A]===1&&p[w+3][A]===1&&p[w+4][A]===1&&p[w+5][A]===0&&p[w+6][A]===1&&(Zr.isWhiteVertical(p,A,w-4,w)||Zr.isWhiteVertical(p,A,w+7,w+11))&&u++}return u*Zr.N3}static isWhiteHorizontal(o,u,p){u=Math.max(u,0),p=Math.min(p,o.length);for(let y=u;y<p;y++)if(o[y]===1)return!1;return!0}static isWhiteVertical(o,u,p,y){p=Math.max(p,0),y=Math.min(y,o.length);for(let x=p;x<y;x++)if(o[x][u]===1)return!1;return!0}static applyMaskPenaltyRule4(o){let u=0;const p=o.getArray(),y=o.getWidth(),x=o.getHeight();for(let k=0;k<x;k++){const D=p[k];for(let V=0;V<y;V++)D[V]===1&&u++}const w=o.getHeight()*o.getWidth();return Math.floor(Math.abs(u*2-w)*10/w)*Zr.N4}static getDataMaskBit(o,u,p){let y,x;switch(o){case 0:y=p+u&1;break;case 1:y=p&1;break;case 2:y=u%3;break;case 3:y=(p+u)%3;break;case 4:y=Math.floor(p/2)+Math.floor(u/3)&1;break;case 5:x=p*u,y=(x&1)+x%3;break;case 6:x=p*u,y=(x&1)+x%3&1;break;case 7:x=p*u,y=x%3+(p+u&1)&1;break;default:throw new v("Invalid mask pattern: "+o)}return y===0}static applyMaskPenaltyRule1Internal(o,u){let p=0;const y=u?o.getHeight():o.getWidth(),x=u?o.getWidth():o.getHeight(),w=o.getArray();for(let A=0;A<y;A++){let k=0,D=-1;for(let V=0;V<x;V++){const Y=u?w[A][V]:w[V][A];Y===D?k++:(k>=5&&(p+=Zr.N1+(k-5)),k=1,D=Y)}k>=5&&(p+=Zr.N1+(k-5))}return p}}Zr.N1=3,Zr.N2=3,Zr.N3=40,Zr.N4=10;class ud{constructor(o,u){this.width=o,this.height=u;const p=new Array(u);for(let y=0;y!==u;y++)p[y]=new Uint8Array(o);this.bytes=p}getHeight(){return this.height}getWidth(){return this.width}get(o,u){return this.bytes[u][o]}getArray(){return this.bytes}setNumber(o,u,p){this.bytes[u][o]=p}setBoolean(o,u,p){this.bytes[u][o]=p?1:0}clear(o){for(const u of this.bytes)P.fill(u,o)}equals(o){if(!(o instanceof ud))return!1;const u=o;if(this.width!==u.width||this.height!==u.height)return!1;for(let p=0,y=this.height;p<y;++p){const x=this.bytes[p],w=u.bytes[p];for(let A=0,k=this.width;A<k;++A)if(x[A]!==w[A])return!1}return!0}toString(){const o=new H;for(let u=0,p=this.height;u<p;++u){const y=this.bytes[u];for(let x=0,w=this.width;x<w;++x)switch(y[x]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ");break}o.append(`
`)}return o.toString()}}class To{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const o=new H;return o.append(`<<
`),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append(`
 ecLevel: `),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append(`
 version: `),o.append(this.version?this.version.toString():"null"),o.append(`
 maskPattern: `),o.append(this.maskPattern.toString()),this.matrix?(o.append(`
 matrix:
`),o.append(this.matrix.toString())):o.append(`
 matrix: null
`),o.append(`>>
`),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<To.NUM_MASK_PATTERNS}}To.NUM_MASK_PATTERNS=8;class Fr extends h{}Fr.kind="WriterException";class kt{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,u,p,y,x){kt.clearMatrix(x),kt.embedBasicPatterns(p,x),kt.embedTypeInfo(u,y,x),kt.maybeEmbedVersionInfo(p,x),kt.embedDataBits(o,y,x)}static embedBasicPatterns(o,u){kt.embedPositionDetectionPatternsAndSeparators(u),kt.embedDarkDotAtLeftBottomCorner(u),kt.maybeEmbedPositionAdjustmentPatterns(o,u),kt.embedTimingPatterns(u)}static embedTypeInfo(o,u,p){const y=new F;kt.makeTypeInfoBits(o,u,y);for(let x=0,w=y.getSize();x<w;++x){const A=y.get(y.getSize()-1-x),k=kt.TYPE_INFO_COORDINATES[x],D=k[0],V=k[1];if(p.setBoolean(D,V,A),x<8){const Y=p.getWidth()-x-1;p.setBoolean(Y,8,A)}else{const ee=p.getHeight()-7+(x-8);p.setBoolean(8,ee,A)}}}static maybeEmbedVersionInfo(o,u){if(o.getVersionNumber()<7)return;const p=new F;kt.makeVersionInfoBits(o,p);let y=17;for(let x=0;x<6;++x)for(let w=0;w<3;++w){const A=p.get(y);y--,u.setBoolean(x,u.getHeight()-11+w,A),u.setBoolean(u.getHeight()-11+w,x,A)}}static embedDataBits(o,u,p){let y=0,x=-1,w=p.getWidth()-1,A=p.getHeight()-1;for(;w>0;){for(w===6&&(w-=1);A>=0&&A<p.getHeight();){for(let k=0;k<2;++k){const D=w-k;if(!kt.isEmpty(p.get(D,A)))continue;let V;y<o.getSize()?(V=o.get(y),++y):V=!1,u!==255&&Zr.getDataMaskBit(u,D,A)&&(V=!V),p.setBoolean(D,A,V)}A+=x}x=-x,A+=x,w-=2}if(y!==o.getSize())throw new Fr("Not all bits consumed: "+y+"/"+o.getSize())}static findMSBSet(o){return 32-I.numberOfLeadingZeros(o)}static calculateBCHCode(o,u){if(u===0)throw new v("0 polynomial");const p=kt.findMSBSet(u);for(o<<=p-1;kt.findMSBSet(o)>=p;)o^=u<<kt.findMSBSet(o)-p;return o}static makeTypeInfoBits(o,u,p){if(!To.isValidMaskPattern(u))throw new Fr("Invalid mask pattern");const y=o.getBits()<<3|u;p.appendBits(y,5);const x=kt.calculateBCHCode(y,kt.TYPE_INFO_POLY);p.appendBits(x,10);const w=new F;if(w.appendBits(kt.TYPE_INFO_MASK_PATTERN,15),p.xor(w),p.getSize()!==15)throw new Fr("should not happen but we got: "+p.getSize())}static makeVersionInfoBits(o,u){u.appendBits(o.getVersionNumber(),6);const p=kt.calculateBCHCode(o.getVersionNumber(),kt.VERSION_INFO_POLY);if(u.appendBits(p,12),u.getSize()!==18)throw new Fr("should not happen but we got: "+u.getSize())}static isEmpty(o){return o===255}static embedTimingPatterns(o){for(let u=8;u<o.getWidth()-8;++u){const p=(u+1)%2;kt.isEmpty(o.get(u,6))&&o.setNumber(u,6,p),kt.isEmpty(o.get(6,u))&&o.setNumber(6,u,p)}}static embedDarkDotAtLeftBottomCorner(o){if(o.get(8,o.getHeight()-8)===0)throw new Fr;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,u,p){for(let y=0;y<8;++y){if(!kt.isEmpty(p.get(o+y,u)))throw new Fr;p.setNumber(o+y,u,0)}}static embedVerticalSeparationPattern(o,u,p){for(let y=0;y<7;++y){if(!kt.isEmpty(p.get(o,u+y)))throw new Fr;p.setNumber(o,u+y,0)}}static embedPositionAdjustmentPattern(o,u,p){for(let y=0;y<5;++y){const x=kt.POSITION_ADJUSTMENT_PATTERN[y];for(let w=0;w<5;++w)p.setNumber(o+w,u+y,x[w])}}static embedPositionDetectionPattern(o,u,p){for(let y=0;y<7;++y){const x=kt.POSITION_DETECTION_PATTERN[y];for(let w=0;w<7;++w)p.setNumber(o+w,u+y,x[w])}}static embedPositionDetectionPatternsAndSeparators(o){const u=kt.POSITION_DETECTION_PATTERN[0].length;kt.embedPositionDetectionPattern(0,0,o),kt.embedPositionDetectionPattern(o.getWidth()-u,0,o),kt.embedPositionDetectionPattern(0,o.getWidth()-u,o);const p=8;kt.embedHorizontalSeparationPattern(0,p-1,o),kt.embedHorizontalSeparationPattern(o.getWidth()-p,p-1,o),kt.embedHorizontalSeparationPattern(0,o.getWidth()-p,o);const y=7;kt.embedVerticalSeparationPattern(y,0,o),kt.embedVerticalSeparationPattern(o.getHeight()-y-1,0,o),kt.embedVerticalSeparationPattern(y,o.getHeight()-y,o)}static maybeEmbedPositionAdjustmentPatterns(o,u){if(o.getVersionNumber()<2)return;const p=o.getVersionNumber()-1,y=kt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[p];for(let x=0,w=y.length;x!==w;x++){const A=y[x];if(A>=0)for(let k=0;k!==w;k++){const D=y[k];D>=0&&kt.isEmpty(u.get(D,A))&&kt.embedPositionAdjustmentPattern(D-2,A-2,u)}}}}kt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),kt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),kt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),kt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),kt.VERSION_INFO_POLY=7973,kt.TYPE_INFO_POLY=1335,kt.TYPE_INFO_MASK_PATTERN=21522;class Mx{constructor(o,u){this.dataBytes=o,this.errorCorrectionBytes=u}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Wr{constructor(){}static calculateMaskPenalty(o){return Zr.applyMaskPenaltyRule1(o)+Zr.applyMaskPenaltyRule2(o)+Zr.applyMaskPenaltyRule3(o)+Zr.applyMaskPenaltyRule4(o)}static encode(o,u,p=null){let y=Wr.DEFAULT_BYTE_MODE_ENCODING;const x=p!==null&&p.get(kn.CHARACTER_SET)!==void 0;x&&(y=p.get(kn.CHARACTER_SET).toString());const w=this.chooseMode(o,y),A=new F;if(w===Tt.BYTE&&(x||Wr.DEFAULT_BYTE_MODE_ENCODING!==y)){const Qe=U.getCharacterSetECIByName(y);Qe!==void 0&&this.appendECI(Qe,A)}this.appendModeInfo(w,A);const k=new F;this.appendBytes(o,w,k,y);let D;if(p!==null&&p.get(kn.QR_VERSION)!==void 0){const Qe=Number.parseInt(p.get(kn.QR_VERSION).toString(),10);D=Ct.getVersionForNumber(Qe);const We=this.calculateBitsNeeded(w,A,k,D);if(!this.willFit(We,D,u))throw new Fr("Data too big for requested version")}else D=this.recommendVersion(u,w,A,k);const V=new F;V.appendBitArray(A);const Y=w===Tt.BYTE?k.getSizeInBytes():o.length;this.appendLengthInfo(Y,D,w,V),V.appendBitArray(k);const ee=D.getECBlocksForLevel(u),oe=D.getTotalCodewords()-ee.getTotalECCodewords();this.terminateBits(oe,V);const pe=this.interleaveWithECBytes(V,D.getTotalCodewords(),oe,ee.getNumBlocks()),ge=new To;ge.setECLevel(u),ge.setMode(w),ge.setVersion(D);const xe=D.getDimensionForVersion(),Ce=new ud(xe,xe),Ze=this.chooseMaskPattern(pe,u,D,Ce);return ge.setMaskPattern(Ze),kt.buildMatrix(pe,u,D,Ze,Ce),ge.setMatrix(Ce),ge}static recommendVersion(o,u,p,y){const x=this.calculateBitsNeeded(u,p,y,Ct.getVersionForNumber(1)),w=this.chooseVersion(x,o),A=this.calculateBitsNeeded(u,p,y,w);return this.chooseVersion(A,o)}static calculateBitsNeeded(o,u,p,y){return u.getSize()+o.getCharacterCountBits(y)+p.getSize()}static getAlphanumericCode(o){return o<Wr.ALPHANUMERIC_TABLE.length?Wr.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,u=null){if(U.SJIS.getName()===u&&this.isOnlyDoubleByteKanji(o))return Tt.KANJI;let p=!1,y=!1;for(let x=0,w=o.length;x<w;++x){const A=o.charAt(x);if(Wr.isDigit(A))p=!0;else if(this.getAlphanumericCode(A.charCodeAt(0))!==-1)y=!0;else return Tt.BYTE}return y?Tt.ALPHANUMERIC:p?Tt.NUMERIC:Tt.BYTE}static isOnlyDoubleByteKanji(o){let u;try{u=G.encode(o,U.SJIS)}catch{return!1}const p=u.length;if(p%2!==0)return!1;for(let y=0;y<p;y+=2){const x=u[y]&255;if((x<129||x>159)&&(x<224||x>235))return!1}return!0}static chooseMaskPattern(o,u,p,y){let x=Number.MAX_SAFE_INTEGER,w=-1;for(let A=0;A<To.NUM_MASK_PATTERNS;A++){kt.buildMatrix(o,u,p,A,y);let k=this.calculateMaskPenalty(y);k<x&&(x=k,w=A)}return w}static chooseVersion(o,u){for(let p=1;p<=40;p++){const y=Ct.getVersionForNumber(p);if(Wr.willFit(o,y,u))return y}throw new Fr("Data too big")}static willFit(o,u,p){const y=u.getTotalCodewords(),w=u.getECBlocksForLevel(p).getTotalECCodewords(),A=y-w,k=(o+7)/8;return A>=k}static terminateBits(o,u){const p=o*8;if(u.getSize()>p)throw new Fr("data bits cannot fit in the QR Code"+u.getSize()+" > "+p);for(let w=0;w<4&&u.getSize()<p;++w)u.appendBit(!1);const y=u.getSize()&7;if(y>0)for(let w=y;w<8;w++)u.appendBit(!1);const x=o-u.getSizeInBytes();for(let w=0;w<x;++w)u.appendBits((w&1)===0?236:17,8);if(u.getSize()!==p)throw new Fr("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,u,p,y,x,w){if(y>=p)throw new Fr("Block ID too large");const A=o%p,k=p-A,D=Math.floor(o/p),V=D+1,Y=Math.floor(u/p),ee=Y+1,oe=D-Y,pe=V-ee;if(oe!==pe)throw new Fr("EC bytes mismatch");if(p!==k+A)throw new Fr("RS blocks mismatch");if(o!==(Y+oe)*k+(ee+pe)*A)throw new Fr("Total bytes mismatch");y<k?(x[0]=Y,w[0]=oe):(x[0]=ee,w[0]=pe)}static interleaveWithECBytes(o,u,p,y){if(o.getSizeInBytes()!==p)throw new Fr("Number of bits and data bytes does not match");let x=0,w=0,A=0;const k=new Array;for(let V=0;V<y;++V){const Y=new Int32Array(1),ee=new Int32Array(1);Wr.getNumDataBytesAndNumECBytesForBlockID(u,p,y,V,Y,ee);const oe=Y[0],pe=new Uint8Array(oe);o.toBytes(8*x,pe,0,oe);const ge=Wr.generateECBytes(pe,ee[0]);k.push(new Mx(pe,ge)),w=Math.max(w,oe),A=Math.max(A,ge.length),x+=Y[0]}if(p!==x)throw new Fr("Data bytes does not match offset");const D=new F;for(let V=0;V<w;++V)for(const Y of k){const ee=Y.getDataBytes();V<ee.length&&D.appendBits(ee[V],8)}for(let V=0;V<A;++V)for(const Y of k){const ee=Y.getErrorCorrectionBytes();V<ee.length&&D.appendBits(ee[V],8)}if(u!==D.getSizeInBytes())throw new Fr("Interleaving error: "+u+" and "+D.getSizeInBytes()+" differ.");return D}static generateECBytes(o,u){const p=o.length,y=new Int32Array(p+u);for(let w=0;w<p;w++)y[w]=o[w]&255;new Ph(Ue.QR_CODE_FIELD_256).encode(y,u);const x=new Uint8Array(u);for(let w=0;w<u;w++)x[w]=y[p+w];return x}static appendModeInfo(o,u){u.appendBits(o.getBits(),4)}static appendLengthInfo(o,u,p,y){const x=p.getCharacterCountBits(u);if(o>=1<<x)throw new Fr(o+" is bigger than "+((1<<x)-1));y.appendBits(o,x)}static appendBytes(o,u,p,y){switch(u){case Tt.NUMERIC:Wr.appendNumericBytes(o,p);break;case Tt.ALPHANUMERIC:Wr.appendAlphanumericBytes(o,p);break;case Tt.BYTE:Wr.append8BitBytes(o,p,y);break;case Tt.KANJI:Wr.appendKanjiBytes(o,p);break;default:throw new Fr("Invalid mode: "+u)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){const u=Wr.getDigit(o);return u>=0&&u<=9}static appendNumericBytes(o,u){const p=o.length;let y=0;for(;y<p;){const x=Wr.getDigit(o.charAt(y));if(y+2<p){const w=Wr.getDigit(o.charAt(y+1)),A=Wr.getDigit(o.charAt(y+2));u.appendBits(x*100+w*10+A,10),y+=3}else if(y+1<p){const w=Wr.getDigit(o.charAt(y+1));u.appendBits(x*10+w,7),y+=2}else u.appendBits(x,4),y++}}static appendAlphanumericBytes(o,u){const p=o.length;let y=0;for(;y<p;){const x=Wr.getAlphanumericCode(o.charCodeAt(y));if(x===-1)throw new Fr;if(y+1<p){const w=Wr.getAlphanumericCode(o.charCodeAt(y+1));if(w===-1)throw new Fr;u.appendBits(x*45+w,11),y+=2}else u.appendBits(x,6),y++}}static append8BitBytes(o,u,p){let y;try{y=G.encode(o,p)}catch(x){throw new Fr(x)}for(let x=0,w=y.length;x!==w;x++){const A=y[x];u.appendBits(A,8)}}static appendKanjiBytes(o,u){let p;try{p=G.encode(o,U.SJIS)}catch(x){throw new Fr(x)}const y=p.length;for(let x=0;x<y;x+=2){const w=p[x]&255,A=p[x+1]&255,k=w<<8&4294967295|A;let D=-1;if(k>=33088&&k<=40956?D=k-33088:k>=57408&&k<=60351&&(D=k-49472),D===-1)throw new Fr("Invalid byte sequence");const V=(D>>8)*192+(D&255);u.appendBits(V,13)}}static appendECI(o,u){u.appendBits(Tt.ECI.getBits(),4),u.appendBits(o.getValue(),8)}}Wr.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Wr.DEFAULT_BYTE_MODE_ENCODING=U.UTF8.getName();class No{write(o,u,p,y=null){if(o.length===0)throw new v("Found empty contents");if(u<0||p<0)throw new v("Requested dimensions are too small: "+u+"x"+p);let x=Dr.L,w=No.QUIET_ZONE_SIZE;y!==null&&(y.get(kn.ERROR_CORRECTION)!==void 0&&(x=Dr.fromString(y.get(kn.ERROR_CORRECTION).toString())),y.get(kn.MARGIN)!==void 0&&(w=Number.parseInt(y.get(kn.MARGIN).toString(),10)));const A=Wr.encode(o,x,y);return this.renderResult(A,u,p,w)}writeToDom(o,u,p,y,x=null){typeof o=="string"&&(o=document.querySelector(o));const w=this.write(u,p,y,x);o&&o.appendChild(w)}renderResult(o,u,p,y){const x=o.getMatrix();if(x===null)throw new Ge;const w=x.getWidth(),A=x.getHeight(),k=w+y*2,D=A+y*2,V=Math.max(u,k),Y=Math.max(p,D),ee=Math.min(Math.floor(V/k),Math.floor(Y/D)),oe=Math.floor((V-w*ee)/2),pe=Math.floor((Y-A*ee)/2),ge=this.createSVGElement(V,Y);for(let xe=0,Ce=pe;xe<A;xe++,Ce+=ee)for(let Ze=0,Qe=oe;Ze<w;Ze++,Qe+=ee)if(x.get(Ze,xe)===1){const We=this.createSvgRectElement(Qe,Ce,ee,ee);ge.appendChild(We)}return ge}createSVGElement(o,u){const p=document.createElementNS(No.SVG_NS,"svg");return p.setAttributeNS(null,"height",o.toString()),p.setAttributeNS(null,"width",u.toString()),p}createSvgRectElement(o,u,p,y){const x=document.createElementNS(No.SVG_NS,"rect");return x.setAttributeNS(null,"x",o.toString()),x.setAttributeNS(null,"y",u.toString()),x.setAttributeNS(null,"height",p.toString()),x.setAttributeNS(null,"width",y.toString()),x.setAttributeNS(null,"fill","#000000"),x}}No.QUIET_ZONE_SIZE=4,No.SVG_NS="http://www.w3.org/2000/svg";class bl{encode(o,u,p,y,x){if(o.length===0)throw new v("Found empty contents");if(u!==je.QR_CODE)throw new v("Can only encode QR_CODE, but got "+u);if(p<0||y<0)throw new v(`Requested dimensions are too small: ${p}x${y}`);let w=Dr.L,A=bl.QUIET_ZONE_SIZE;x!==null&&(x.get(kn.ERROR_CORRECTION)!==void 0&&(w=Dr.fromString(x.get(kn.ERROR_CORRECTION).toString())),x.get(kn.MARGIN)!==void 0&&(A=Number.parseInt(x.get(kn.MARGIN).toString(),10)));const k=Wr.encode(o,w,x);return bl.renderResult(k,p,y,A)}static renderResult(o,u,p,y){const x=o.getMatrix();if(x===null)throw new Ge;const w=x.getWidth(),A=x.getHeight(),k=w+y*2,D=A+y*2,V=Math.max(u,k),Y=Math.max(p,D),ee=Math.min(Math.floor(V/k),Math.floor(Y/D)),oe=Math.floor((V-w*ee)/2),pe=Math.floor((Y-A*ee)/2),ge=new Q(V,Y);for(let xe=0,Ce=pe;xe<A;xe++,Ce+=ee)for(let Ze=0,Qe=oe;Ze<w;Ze++,Qe+=ee)x.get(Ze,xe)===1&&ge.setRegion(Qe,Ce,ee,ee);return ge}}bl.QUIET_ZONE_SIZE=4;class Dx{encode(o,u,p,y,x){let w;switch(u){case je.QR_CODE:w=new bl;break;default:throw new v("No encoder available for format "+u)}return w.encode(o,u,p,y,x)}}class Ka extends re{constructor(o,u,p,y,x,w,A,k){if(super(w,A),this.yuvData=o,this.dataWidth=u,this.dataHeight=p,this.left=y,this.top=x,y+w>u||x+A>p)throw new v("Crop rectangle does not fit within image data.");k&&this.reverseHorizontal(w,A)}getRow(o,u){if(o<0||o>=this.getHeight())throw new v("Requested row is outside the image: "+o);const p=this.getWidth();(u==null||u.length<p)&&(u=new Uint8ClampedArray(p));const y=(o+this.top)*this.dataWidth+this.left;return E.arraycopy(this.yuvData,y,u,0,p),u}getMatrix(){const o=this.getWidth(),u=this.getHeight();if(o===this.dataWidth&&u===this.dataHeight)return this.yuvData;const p=o*u,y=new Uint8ClampedArray(p);let x=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return E.arraycopy(this.yuvData,x,y,0,p),y;for(let w=0;w<u;w++){const A=w*o;E.arraycopy(this.yuvData,x,y,A,o),x+=this.dataWidth}return y}isCropSupported(){return!0}crop(o,u,p,y){return new Ka(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+u,p,y,!1)}renderThumbnail(){const o=this.getWidth()/Ka.THUMBNAIL_SCALE_FACTOR,u=this.getHeight()/Ka.THUMBNAIL_SCALE_FACTOR,p=new Int32Array(o*u),y=this.yuvData;let x=this.top*this.dataWidth+this.left;for(let w=0;w<u;w++){const A=w*o;for(let k=0;k<o;k++){const D=y[x+k*Ka.THUMBNAIL_SCALE_FACTOR]&255;p[A+k]=4278190080|D*65793}x+=this.dataWidth*Ka.THUMBNAIL_SCALE_FACTOR}return p}getThumbnailWidth(){return this.getWidth()/Ka.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ka.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,u){const p=this.yuvData;for(let y=0,x=this.top*this.dataWidth+this.left;y<u;y++,x+=this.dataWidth){const w=x+o/2;for(let A=x,k=x+o-1;A<w;A++,k--){const D=p[A];p[A]=p[k],p[k]=D}}}invert(){return new J(this)}}Ka.THUMBNAIL_SCALE_FACTOR=2;class Mc extends re{constructor(o,u,p,y,x,w,A){if(super(u,p),this.dataWidth=y,this.dataHeight=x,this.left=w,this.top=A,o.BYTES_PER_ELEMENT===4){const k=u*p,D=new Uint8ClampedArray(k);for(let V=0;V<k;V++){const Y=o[V],ee=Y>>16&255,oe=Y>>7&510,pe=Y&255;D[V]=(ee+oe+pe)/4&255}this.luminances=D}else this.luminances=o;if(y===void 0&&(this.dataWidth=u),x===void 0&&(this.dataHeight=p),w===void 0&&(this.left=0),A===void 0&&(this.top=0),this.left+u>this.dataWidth||this.top+p>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(o,u){if(o<0||o>=this.getHeight())throw new v("Requested row is outside the image: "+o);const p=this.getWidth();(u==null||u.length<p)&&(u=new Uint8ClampedArray(p));const y=(o+this.top)*this.dataWidth+this.left;return E.arraycopy(this.luminances,y,u,0,p),u}getMatrix(){const o=this.getWidth(),u=this.getHeight();if(o===this.dataWidth&&u===this.dataHeight)return this.luminances;const p=o*u,y=new Uint8ClampedArray(p);let x=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return E.arraycopy(this.luminances,x,y,0,p),y;for(let w=0;w<u;w++){const A=w*o;E.arraycopy(this.luminances,x,y,A,o),x+=this.dataWidth}return y}isCropSupported(){return!0}crop(o,u,p,y){return new Mc(this.luminances,p,y,this.dataWidth,this.dataHeight,this.left+o,this.top+u)}invert(){return new J(this)}}class Mg extends U{static forName(o){return this.getCharacterSetECIByName(o)}}class jh{}jh.ISO_8859_1=U.ISO8859_1;class Dg{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class Ih{static singletonList(o){return[o]}static min(o,u){return o.sort(u)[0]}}class Lx{constructor(o){this.previous=o}getPrevious(){return this.previous}}class _l extends Lx{constructor(o,u,p){super(o),this.value=u,this.bitCount=p}appendTo(o,u){o.appendBits(this.value,this.bitCount)}add(o,u){return new _l(this,o,u)}addBinaryShift(o,u){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new _l(this,o,u)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+I.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class Rh extends _l{constructor(o,u,p){super(o,0,0),this.binaryShiftStart=u,this.binaryShiftByteCount=p}appendTo(o,u){for(let p=0;p<this.binaryShiftByteCount;p++)(p===0||p===31&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):p===0?o.appendBits(Math.min(this.binaryShiftByteCount,31),5):o.appendBits(this.binaryShiftByteCount-31,5)),o.appendBits(u[this.binaryShiftStart+p],8)}addBinaryShift(o,u){return new Rh(this,o,u)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Bx(K,o,u){return new Rh(K,o,u)}function Dc(K,o,u){return new _l(K,o,u)}const Fx=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Js=0,Sl=1,ci=2,Lg=3,_a=4,Bg=new _l(null,0,0),dd=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Fg(K){for(let o of K)P.fill(o,-1);return K[Js][_a]=0,K[Sl][_a]=0,K[Sl][Js]=28,K[Lg][_a]=0,K[ci][_a]=0,K[ci][Js]=15,K}const Mh=Fg(P.createInt32Array(6,6));class xi{constructor(o,u,p,y){this.token=o,this.mode=u,this.binaryShiftByteCount=p,this.bitCount=y}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,u){let p=this.bitCount,y=this.token;if(o!==this.mode){let w=dd[this.mode][o];y=Dc(y,w&65535,w>>16),p+=w>>16}let x=o===ci?4:5;return y=Dc(y,u,x),new xi(y,o,0,p+x)}shiftAndAppend(o,u){let p=this.token,y=this.mode===ci?4:5;return p=Dc(p,Mh[this.mode][o],y),p=Dc(p,u,5),new xi(p,this.mode,0,this.bitCount+y+5)}addBinaryShiftChar(o){let u=this.token,p=this.mode,y=this.bitCount;if(this.mode===_a||this.mode===ci){let A=dd[p][Js];u=Dc(u,A&65535,A>>16),y+=A>>16,p=Js}let x=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,w=new xi(u,p,this.binaryShiftByteCount+1,y+x);return w.binaryShiftByteCount===2078&&(w=w.endBinaryShift(o+1)),w}endBinaryShift(o){if(this.binaryShiftByteCount===0)return this;let u=this.token;return u=Bx(u,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new xi(u,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let u=this.bitCount+(dd[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?u+=xi.calculateBinaryShiftCost(o)-xi.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(u+=10),u<=o.bitCount}toBitArray(o){let u=[];for(let y=this.endBinaryShift(o.length).token;y!==null;y=y.getPrevious())u.unshift(y);let p=new F;for(const y of u)y.appendTo(p,o);return p}toString(){return W.format("%s bits=%d bytes=%d",Fx[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}xi.INITIAL_STATE=new xi(Bg,Js,0,0);function $x(K){const o=W.getCharCode(" "),u=W.getCharCode("."),p=W.getCharCode(",");K[Js][o]=1;const y=W.getCharCode("Z"),x=W.getCharCode("A");for(let ee=x;ee<=y;ee++)K[Js][ee]=ee-x+2;K[Sl][o]=1;const w=W.getCharCode("z"),A=W.getCharCode("a");for(let ee=A;ee<=w;ee++)K[Sl][ee]=ee-A+2;K[ci][o]=1;const k=W.getCharCode("9"),D=W.getCharCode("0");for(let ee=D;ee<=k;ee++)K[ci][ee]=ee-D+2;K[ci][p]=12,K[ci][u]=13;const V=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let ee=0;ee<V.length;ee++)K[Lg][W.getCharCode(V[ee])]=ee;const Y=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let ee=0;ee<Y.length;ee++)W.getCharCode(Y[ee])>0&&(K[_a][W.getCharCode(Y[ee])]=ee);return K}const Dh=$x(P.createInt32Array(5,256));class Lc{constructor(o){this.text=o}encode(){const o=W.getCharCode(" "),u=W.getCharCode(`
`);let p=Ih.singletonList(xi.INITIAL_STATE);for(let x=0;x<this.text.length;x++){let w,A=x+1<this.text.length?this.text[x+1]:0;switch(this.text[x]){case W.getCharCode("\r"):w=A===u?2:0;break;case W.getCharCode("."):w=A===o?3:0;break;case W.getCharCode(","):w=A===o?4:0;break;case W.getCharCode(":"):w=A===o?5:0;break;default:w=0}w>0?(p=Lc.updateStateListForPair(p,x,w),x++):p=this.updateStateListForChar(p,x)}return Ih.min(p,(x,w)=>x.getBitCount()-w.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,u){const p=[];for(let y of o)this.updateStateForChar(y,u,p);return Lc.simplifyStates(p)}updateStateForChar(o,u,p){let y=this.text[u]&255,x=Dh[o.getMode()][y]>0,w=null;for(let A=0;A<=_a;A++){let k=Dh[A][y];if(k>0){if(w==null&&(w=o.endBinaryShift(u)),!x||A===o.getMode()||A===ci){const D=w.latchAndAppend(A,k);p.push(D)}if(!x&&Mh[o.getMode()][A]>=0){const D=w.shiftAndAppend(A,k);p.push(D)}}}if(o.getBinaryShiftByteCount()>0||Dh[o.getMode()][y]===0){let A=o.addBinaryShiftChar(u);p.push(A)}}static updateStateListForPair(o,u,p){const y=[];for(let x of o)this.updateStateForPair(x,u,p,y);return this.simplifyStates(y)}static updateStateForPair(o,u,p,y){let x=o.endBinaryShift(u);if(y.push(x.latchAndAppend(_a,p)),o.getMode()!==_a&&y.push(x.shiftAndAppend(_a,p)),p===3||p===4){let w=x.latchAndAppend(ci,16-p).latchAndAppend(ci,1);y.push(w)}if(o.getBinaryShiftByteCount()>0){let w=o.addBinaryShiftChar(u).addBinaryShiftChar(u+1);y.push(w)}}static simplifyStates(o){let u=[];for(const p of o){let y=!0;for(const x of u){if(x.isBetterThanOrEqualTo(p)){y=!1;break}p.isBetterThanOrEqualTo(x)&&(u=u.filter(w=>w!==x))}y&&u.push(p)}return u}}class mr{constructor(){}static encodeBytes(o){return mr.encode(o,mr.DEFAULT_EC_PERCENT,mr.DEFAULT_AZTEC_LAYERS)}static encode(o,u,p){let y=new Lc(o).encode(),x=I.truncDivision(y.getSize()*u,100)+11,w=y.getSize()+x,A,k,D,V,Y;if(p!==mr.DEFAULT_AZTEC_LAYERS){if(A=p<0,k=Math.abs(p),k>(A?mr.MAX_NB_BITS_COMPACT:mr.MAX_NB_BITS))throw new v(W.format("Illegal value %s for layers",p));D=mr.totalBitsInLayer(k,A),V=mr.WORD_SIZE[k];let We=D-D%V;if(Y=mr.stuffBits(y,V),Y.getSize()+x>We)throw new v("Data to large for user specified layer");if(A&&Y.getSize()>V*64)throw new v("Data to large for user specified layer")}else{V=0,Y=null;for(let We=0;;We++){if(We>mr.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(A=We<=3,k=A?We+1:We,D=mr.totalBitsInLayer(k,A),w>D)continue;(Y==null||V!==mr.WORD_SIZE[k])&&(V=mr.WORD_SIZE[k],Y=mr.stuffBits(y,V));let sr=D-D%V;if(!(A&&Y.getSize()>V*64)&&Y.getSize()+x<=sr)break}}let ee=mr.generateCheckWords(Y,D,V),oe=Y.getSize()/V,pe=mr.generateModeMessage(A,k,oe),ge=(A?11:14)+k*4,xe=new Int32Array(ge),Ce;if(A){Ce=ge;for(let We=0;We<xe.length;We++)xe[We]=We}else{Ce=ge+1+2*I.truncDivision(I.truncDivision(ge,2)-1,15);let We=I.truncDivision(ge,2),sr=I.truncDivision(Ce,2);for(let Ut=0;Ut<We;Ut++){let Ni=Ut+I.truncDivision(Ut,15);xe[We-Ut-1]=sr-Ni-1,xe[We+Ut]=sr+Ni+1}}let Ze=new Q(Ce);for(let We=0,sr=0;We<k;We++){let Ut=(k-We)*4+(A?9:12);for(let Ni=0;Ni<Ut;Ni++){let Sa=Ni*2;for(let Pn=0;Pn<2;Pn++)ee.get(sr+Sa+Pn)&&Ze.set(xe[We*2+Pn],xe[We*2+Ni]),ee.get(sr+Ut*2+Sa+Pn)&&Ze.set(xe[We*2+Ni],xe[ge-1-We*2-Pn]),ee.get(sr+Ut*4+Sa+Pn)&&Ze.set(xe[ge-1-We*2-Pn],xe[ge-1-We*2-Ni]),ee.get(sr+Ut*6+Sa+Pn)&&Ze.set(xe[ge-1-We*2-Ni],xe[We*2+Pn])}sr+=Ut*8}if(mr.drawModeMessage(Ze,A,Ce,pe),A)mr.drawBullsEye(Ze,I.truncDivision(Ce,2),5);else{mr.drawBullsEye(Ze,I.truncDivision(Ce,2),7);for(let We=0,sr=0;We<I.truncDivision(ge,2)-1;We+=15,sr+=16)for(let Ut=I.truncDivision(Ce,2)&1;Ut<Ce;Ut+=2)Ze.set(I.truncDivision(Ce,2)-sr,Ut),Ze.set(I.truncDivision(Ce,2)+sr,Ut),Ze.set(Ut,I.truncDivision(Ce,2)-sr),Ze.set(Ut,I.truncDivision(Ce,2)+sr)}let Qe=new Dg;return Qe.setCompact(A),Qe.setSize(Ce),Qe.setLayers(k),Qe.setCodeWords(oe),Qe.setMatrix(Ze),Qe}static drawBullsEye(o,u,p){for(let y=0;y<p;y+=2)for(let x=u-y;x<=u+y;x++)o.set(x,u-y),o.set(x,u+y),o.set(u-y,x),o.set(u+y,x);o.set(u-p,u-p),o.set(u-p+1,u-p),o.set(u-p,u-p+1),o.set(u+p,u-p),o.set(u+p,u-p+1),o.set(u+p,u+p-1)}static generateModeMessage(o,u,p){let y=new F;return o?(y.appendBits(u-1,2),y.appendBits(p-1,6),y=mr.generateCheckWords(y,28,4)):(y.appendBits(u-1,5),y.appendBits(p-1,11),y=mr.generateCheckWords(y,40,4)),y}static drawModeMessage(o,u,p,y){let x=I.truncDivision(p,2);if(u)for(let w=0;w<7;w++){let A=x-3+w;y.get(w)&&o.set(A,x-5),y.get(w+7)&&o.set(x+5,A),y.get(20-w)&&o.set(A,x+5),y.get(27-w)&&o.set(x-5,A)}else for(let w=0;w<10;w++){let A=x-5+w+I.truncDivision(w,5);y.get(w)&&o.set(A,x-7),y.get(w+10)&&o.set(x+7,A),y.get(29-w)&&o.set(A,x+7),y.get(39-w)&&o.set(x-7,A)}}static generateCheckWords(o,u,p){let y=o.getSize()/p,x=new Ph(mr.getGF(p)),w=I.truncDivision(u,p),A=mr.bitsToWords(o,p,w);x.encode(A,w-y);let k=u%p,D=new F;D.appendBits(0,k);for(const V of Array.from(A))D.appendBits(V,p);return D}static bitsToWords(o,u,p){let y=new Int32Array(p),x,w;for(x=0,w=o.getSize()/u;x<w;x++){let A=0;for(let k=0;k<u;k++)A|=o.get(x*u+k)?1<<u-k-1:0;y[x]=A}return y}static getGF(o){switch(o){case 4:return Ue.AZTEC_PARAM;case 6:return Ue.AZTEC_DATA_6;case 8:return Ue.AZTEC_DATA_8;case 10:return Ue.AZTEC_DATA_10;case 12:return Ue.AZTEC_DATA_12;default:throw new v("Unsupported word size "+o)}}static stuffBits(o,u){let p=new F,y=o.getSize(),x=(1<<u)-2;for(let w=0;w<y;w+=u){let A=0;for(let k=0;k<u;k++)(w+k>=y||o.get(w+k))&&(A|=1<<u-1-k);(A&x)===x?(p.appendBits(A&x,u),w--):(A&x)===0?(p.appendBits(A|1,u),w--):p.appendBits(A,u)}return p}static totalBitsInLayer(o,u){return((u?88:112)+16*o)*o}}mr.DEFAULT_EC_PERCENT=33,mr.DEFAULT_AZTEC_LAYERS=0,mr.MAX_NB_BITS=32,mr.MAX_NB_BITS_COMPACT=4,mr.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Bc{encode(o,u,p,y){return this.encodeWithHints(o,u,p,y,null)}encodeWithHints(o,u,p,y,x){let w=jh.ISO_8859_1,A=mr.DEFAULT_EC_PERCENT,k=mr.DEFAULT_AZTEC_LAYERS;return x!=null&&(x.has(kn.CHARACTER_SET)&&(w=Mg.forName(x.get(kn.CHARACTER_SET).toString())),x.has(kn.ERROR_CORRECTION)&&(A=I.parseInt(x.get(kn.ERROR_CORRECTION).toString())),x.has(kn.AZTEC_LAYERS)&&(k=I.parseInt(x.get(kn.AZTEC_LAYERS).toString()))),Bc.encodeLayers(o,u,p,y,w,A,k)}static encodeLayers(o,u,p,y,x,w,A){if(u!==je.AZTEC)throw new v("Can only encode AZTEC, but got "+u);let k=mr.encode(W.getBytes(o,x),w,A);return Bc.renderResult(k,p,y)}static renderResult(o,u,p){let y=o.getMatrix();if(y==null)throw new Ge;let x=y.getWidth(),w=y.getHeight(),A=Math.max(u,x),k=Math.max(p,w),D=Math.min(A/x,k/w),V=(A-x*D)/2,Y=(k-w*D)/2,ee=new Q(A,k);for(let oe=0,pe=Y;oe<w;oe++,pe+=D)for(let ge=0,xe=V;ge<x;ge++,xe+=D)y.get(ge,oe)&&ee.setRegion(xe,pe,D,D);return ee}}r.AbstractExpandedDecoder=bh,r.ArgumentException=g,r.ArithmeticException=ve,r.AztecCode=Dg,r.AztecCodeReader=yn,r.AztecCodeWriter=Bc,r.AztecDecoder=ot,r.AztecDetector=Dn,r.AztecDetectorResult=Xe,r.AztecEncoder=mr,r.AztecHighLevelEncoder=Lc,r.AztecPoint=pr,r.BarcodeFormat=je,r.Binarizer=O,r.BinaryBitmap=b,r.BitArray=F,r.BitMatrix=Q,r.BitSource=Eh,r.BrowserAztecCodeReader=Ys,r.BrowserBarcodeReader=Tg,r.BrowserCodeReader=we,r.BrowserDatamatrixCodeReader=Rx,r.BrowserMultiFormatReader=Rc,r.BrowserPDF417Reader=cd,r.BrowserQRCodeReader=Rg,r.BrowserQRCodeSvgWriter=No,r.CharacterSetECI=U,r.ChecksumException=S,r.Code128Reader=Ke,r.Code39Reader=Vr,r.DataMatrixDecodedBitStreamParser=xa,r.DataMatrixReader=wa,r.DecodeHintType=M,r.DecoderResult=Ne,r.DefaultGridSampler=It,r.DetectorResult=Ee,r.EAN13Reader=oi,r.EncodeHintType=kn,r.Exception=h,r.FormatException=B,r.GenericGF=Ue,r.GenericGFPoly=ue,r.GlobalHistogramBinarizer=se,r.GridSampler=$e,r.GridSamplerInstance=Wt,r.HTMLCanvasElementLuminanceSource=he,r.HybridBinarizer=ne,r.ITFReader=Jt,r.IllegalArgumentException=v,r.IllegalStateException=Ge,r.InvertedLuminanceSource=J,r.LuminanceSource=re,r.MathUtils=at,r.MultiFormatOneDReader=ml,r.MultiFormatReader=ld,r.MultiFormatWriter=Dx,r.NotFoundException=X,r.OneDReader=ar,r.PDF417DecodedBitStreamParser=Ae,r.PDF417DecoderErrorCorrection=Oh,r.PDF417Reader=Xn,r.PDF417ResultMetadata=sd,r.PerspectiveTransform=tt,r.PlanarYUVLuminanceSource=Ka,r.QRCodeByteMatrix=ud,r.QRCodeDataMask=Qt,r.QRCodeDecodedBitStreamParser=Xr,r.QRCodeDecoderErrorCorrectionLevel=Dr,r.QRCodeDecoderFormatInformation=Gn,r.QRCodeEncoder=Wr,r.QRCodeEncoderQRCode=To,r.QRCodeMaskUtil=Zr,r.QRCodeMatrixUtil=kt,r.QRCodeMode=Tt,r.QRCodeReader=yi,r.QRCodeVersion=Ct,r.QRCodeWriter=bl,r.RGBLuminanceSource=Mc,r.RSS14Reader=zr,r.RSSExpandedReader=Be,r.ReaderException=wl,r.ReedSolomonDecoder=ct,r.ReedSolomonEncoder=Ph,r.ReedSolomonException=Ie,r.Result=ke,r.ResultMetadataType=De,r.ResultPoint=fe,r.StringUtils=W,r.UnsupportedOperationException=z,r.VideoInputDevice=ie,r.WhiteRectangleDetector=Fe,r.WriterException=Fr,r.ZXingArrays=P,r.ZXingCharset=Mg,r.ZXingInteger=I,r.ZXingStandardCharsets=jh,r.ZXingStringBuilder=H,r.ZXingStringEncoding=G,r.ZXingSystem=E,r.createAbstractExpandedDecoder=Ag,Object.defineProperty(r,"__esModule",{value:!0})}))})(Op,Op.exports)),Op.exports}var fn=gde();const vde=Cr(fn),yde=BO({__proto__:null,default:vde},[fn]);var TR=(function(){function t(e,r,n){if(this.formatMap=new Map([[ft.QR_CODE,fn.BarcodeFormat.QR_CODE],[ft.AZTEC,fn.BarcodeFormat.AZTEC],[ft.CODABAR,fn.BarcodeFormat.CODABAR],[ft.CODE_39,fn.BarcodeFormat.CODE_39],[ft.CODE_93,fn.BarcodeFormat.CODE_93],[ft.CODE_128,fn.BarcodeFormat.CODE_128],[ft.DATA_MATRIX,fn.BarcodeFormat.DATA_MATRIX],[ft.MAXICODE,fn.BarcodeFormat.MAXICODE],[ft.ITF,fn.BarcodeFormat.ITF],[ft.EAN_13,fn.BarcodeFormat.EAN_13],[ft.EAN_8,fn.BarcodeFormat.EAN_8],[ft.PDF_417,fn.BarcodeFormat.PDF_417],[ft.RSS_14,fn.BarcodeFormat.RSS_14],[ft.RSS_EXPANDED,fn.BarcodeFormat.RSS_EXPANDED],[ft.UPC_A,fn.BarcodeFormat.UPC_A],[ft.UPC_E,fn.BarcodeFormat.UPC_E],[ft.UPC_EAN_EXTENSION,fn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!yde)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(e),a=new Map;a.set(fn.DecodeHintType.POSSIBLE_FORMATS,i),a.set(fn.DecodeHintType.TRY_HARDER,!1),this.hints=a}return t.prototype.decodeAsync=function(e){var r=this;return new Promise(function(n,i){try{n(r.decode(e))}catch(a){i(a)}})},t.prototype.decode=function(e){var r=new fn.MultiFormatReader(this.verbose,this.hints),n=new fn.HTMLCanvasElementLuminanceSource(e),i=new fn.BinaryBitmap(new fn.HybridBinarizer(n)),a=r.decode(i);return{text:a.text,format:TV.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,i){e.set(r,n)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var r=[],n=0,i=e;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return r},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t})(),xde=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(g){try{h(n.next(g))}catch(v){s(v)}}function d(g){try{h(n.throw(g))}catch(v){s(v)}}function h(g){g.done?a(g.value):i(g.value).then(l,d)}h((n=n.apply(t,e||[])).next())})},wde=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(h){return function(g){return d([h,g])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(g){h=[6,g],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},NR=(function(){function t(e,r,n){if(this.formatMap=new Map([[ft.QR_CODE,"qr_code"],[ft.AZTEC,"aztec"],[ft.CODABAR,"codabar"],[ft.CODE_39,"code_39"],[ft.CODE_93,"code_93"],[ft.CODE_128,"code_128"],[ft.DATA_MATRIX,"data_matrix"],[ft.ITF,"itf"],[ft.EAN_13,"ean_13"],[ft.EAN_8,"ean_8"],[ft.PDF_417,"pdf417"],[ft.UPC_A,"upc_a"],[ft.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return xde(this,void 0,void 0,function(){var r,n;return wde(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:TV.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var r=null,n=0,i=0,a=e;i<a.length;i++){var s=a[i],l=s.boundingBox.width*s.boundingBox.height;l>n&&(n=l,r=s)}if(!r)throw"No largest barcode found";return r},t.prototype.createBarcodeDetectorFormats=function(e){for(var r=[],n=0,i=e;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,i){e.set(r,n)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t})(),kR=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(g){try{h(n.next(g))}catch(v){s(v)}}function d(g){try{h(n.throw(g))}catch(v){s(v)}}function h(g){g.done?a(g.value):i(g.value).then(l,d)}h((n=n.apply(t,e||[])).next())})},PR=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(h){return function(g){return d([h,g])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(g){h=[6,g],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},bde=(function(){function t(e,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&NR.isSupported()?(this.primaryDecoder=new NR(e,n,i),this.secondaryDecoder=new TR(e,n,i)):this.primaryDecoder=new TR(e,n,i)}return t.prototype.decodeAsync=function(e){return kR(this,void 0,void 0,function(){var r;return PR(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return kR(this,void 0,void 0,function(){var r,n;return PR(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var r=performance.now()-e;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];e+=i}var a=e/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t})(),EN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),sy=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(g){try{h(n.next(g))}catch(v){s(v)}}function d(g){try{h(n.throw(g))}catch(v){s(v)}}function h(g){g.done?a(g.value):i(g.value).then(l,d)}h((n=n.apply(t,e||[])).next())})},oy=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(h){return function(g){return d([h,g])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(g){h=[6,g],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},kV=(function(){function t(e,r){this.name=e,this.track=r}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var r={};r[this.name]=e;var n={advanced:[r]};return this.track.applyConstraints(n)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var r=e[this.name];return r}return null},t})(),_de=(function(t){EN(e,t);function e(r,n){return t.call(this,r,n)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(kV),Sde=(function(t){EN(e,t);function e(r){return t.call(this,"zoom",r)||this}return e})(_de),Ede=(function(t){EN(e,t);function e(r){return t.call(this,"torch",r)||this}return e})(kV),Cde=(function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new Sde(this.track)},t.prototype.torchFeature=function(){return new Ede(this.track)},t})(),Ade=(function(){function t(e,r,n){this.isClosed=!1,this.parentElement=e,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var r=document.createElement("video");return r.style.width="".concat(e,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(n,i),e.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,r,n,i){return sy(this,void 0,void 0,function(){var a,s;return oy(this,function(l){switch(l.label){case 0:return a=new t(e,r,i),n.aspectRatio?(s={aspectRatio:n.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(s)]):[3,2];case 1:l.sent(),l.label=2;case 2:return a.setupSurface(),[2,a]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var r=this,n=function(){setTimeout(e,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return sy(this,void 0,void 0,function(){return oy(this,function(r){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(r,n){var i=e.mediaStream.getVideoTracks(),a=i.length,s=0;e.mediaStream.getVideoTracks().forEach(function(l){e.mediaStream.removeTrack(l),l.stop(),++s,s>=a&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),r())})})},t.prototype.getCapabilities=function(){return new Cde(this.getFirstTrackOrFail())},t})(),Ode=(function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,r,n){return sy(this,void 0,void 0,function(){return oy(this,function(i){return[2,Ade.create(e,this.mediaStream,r,n)]})})},t.create=function(e){return sy(this,void 0,void 0,function(){var r,n;return oy(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new t(n)]}})})},t})(),jR=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(g){try{h(n.next(g))}catch(v){s(v)}}function d(g){try{h(n.throw(g))}catch(v){s(v)}}function h(g){g.done?a(g.value):i(g.value).then(l,d)}h((n=n.apply(t,e||[])).next())})},IR=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(h){return function(g){return d([h,g])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(g){h=[6,g],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Tde=(function(){function t(){}return t.failIfNotSupported=function(){return jR(this,void 0,void 0,function(){return IR(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return jR(this,void 0,void 0,function(){return IR(this,function(r){return[2,Ode.create(e)]})})},t})(),Nde=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(g){try{h(n.next(g))}catch(v){s(v)}}function d(g){try{h(n.throw(g))}catch(v){s(v)}}function h(g){g.done?a(g.value):i(g.value).then(l,d)}h((n=n.apply(t,e||[])).next())})},kde=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(h){return function(g){return d([h,g])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(g){h=[6,g],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Pde=(function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=Yd.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=Yd.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return Nde(this,void 0,void 0,function(){var e,r,n,i,a,s,l;return kde(this,function(d){switch(d.label){case 0:return e=function(h){for(var g=h.getVideoTracks(),v=0,b=g;v<b.length;v++){var S=b[v];S.enabled=!1,S.stop(),h.removeTrack(S)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=d.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=d.sent(),i=[],a=0,s=n;a<s.length;a++)l=s[a],l.kind==="videoinput"&&i.push({id:l.deviceId,label:l.label});return e(r),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,r){var n=function(a){for(var s=[],l=0,d=a;l<d.length;l++){var h=d[l];h.kind==="video"&&s.push({id:h.id,label:h.label})}e(s)},i=MediaStreamTrack;i.getSources(n)})},t})(),On;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(On||(On={}));var jde=(function(){function t(){this.state=On.NOT_STARTED,this.onGoingTransactionNewState=On.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===On.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=On.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===On.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=On.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==On.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case On.UNKNOWN:throw"Transition from unknown is not allowed";case On.NOT_STARTED:this.failIfNewStateIs(e,[On.PAUSED]);break;case On.SCANNING:break;case On.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,r){for(var n=0,i=r;n<i.length;n++){var a=i[n];if(e===a)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t})(),Ide=(function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===On.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==On.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===On.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===On.PAUSED},t})(),Rde=(function(){function t(){}return t.create=function(){return new Ide(new jde)},t})(),Mde=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ta=(function(t){Mde(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(fde),Dde=(function(){function t(e,r){this.logger=r,this.fps=Ta.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Ta.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?NV.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Wo(this.qrbox)},t.create=function(e,r){return new t(e,r)},t})(),Lde=(function(){function t(e,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new pde(this.verbose),this.qrcode=new bde(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Rde.create()}return t.prototype.start=function(e,r,n,i){var a=this;if(!e)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var s;i?s=i:s=this.verbose?this.logger.log:function(){};var l=Dde.create(r,this.logger);this.clearElement();var d=!1;l.videoConstraints&&(l.isMediaStreamConstraintsValid()?d=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var h=d,g=document.getElementById(this.elementId);g.clientWidth?g.clientWidth:Ta.DEFAULT_WIDTH,g.style.position="relative",this.shouldScan=!0,this.element=g;var v=this,b=this.stateManagerProxy.startTransition(On.SCANNING);return new Promise(function(S,O){var E=h?l.videoConstraints:v.createVideoConstraints(e);if(!E){b.cancel(),O("videoConstraints should be defined");return}var C={};(!h||l.aspectRatio)&&(C.aspectRatio=l.aspectRatio);var j={onRenderSurfaceReady:function(P,I){v.setupUi(P,I,l),v.isScanning=!0,v.foreverScan(l,n,s)}};Tde.failIfNotSupported().then(function(P){P.create(E).then(function(I){return I.render(a.element,C,j).then(function(F){v.renderedCamera=F,b.execute(),S(null)}).catch(function(F){b.cancel(),O(F)})}).catch(function(I){b.cancel(),O(Yd.errorGettingUserMedia(I))})}).catch(function(P){b.cancel(),O(Yd.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(On.PAUSED),this.showPausedState(),(Wo(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,r=function(){e.stateManagerProxy.directTransition(On.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(On.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(e.element){var a=document.getElementById(Ta.SHADED_REGION_ELEMENT_ID);a&&e.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,r){return this.scanFileV2(e,r).then(function(n){return n.decodedText})},t.prototype.scanFileV2=function(e,r){var n=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Wo(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(e);var s=new Image;s.onload=function(){var l=s.width,d=s.height,h=document.getElementById(n.elementId),g=h.clientWidth?h.clientWidth:Ta.DEFAULT_WIDTH,v=Math.max(h.clientHeight?h.clientHeight:d,Ta.FILE_SCAN_MIN_HEIGHT),b=n.computeCanvasDrawConfig(l,d,g,v);if(r){var S=n.createCanvasElement(g,v,"qr-canvas-visible");S.style.display="inline-block",h.appendChild(S);var O=S.getContext("2d");if(!O)throw"Unable to get 2d context from canvas";O.canvas.width=g,O.canvas.height=v,O.drawImage(s,0,0,l,d,b.x,b.y,b.width,b.height)}var E=Ta.FILE_SCAN_HIDDEN_CANVAS_PADDING,C=Math.max(s.width,b.width),j=Math.max(s.height,b.height),P=C+2*E,I=j+2*E,F=n.createCanvasElement(P,I);h.appendChild(F);var R=F.getContext("2d");if(!R)throw"Unable to get 2d context from canvas";R.canvas.width=P,R.canvas.height=I,R.drawImage(s,0,0,l,d,E,E,C,j);try{n.qrcode.decodeRobustlyAsync(F).then(function(M){i(AR.createFromQrcodeResult(M))}).catch(a)}catch(M){a("QR code parse error, error = ".concat(M))}},s.onerror=a,s.onabort=a,s.onstalled=a,s.onsuspend=a,s.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return Pde.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!NV.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var r=[ft.QR_CODE,ft.AZTEC,ft.CODABAR,ft.CODE_39,ft.CODE_93,ft.CODE_128,ft.DATA_MATRIX,ft.MAXICODE,ft.ITF,ft.EAN_13,ft.EAN_8,ft.PDF_417,ft.RSS_14,ft.RSS_EXPANDED,ft.UPC_A,ft.UPC_E,ft.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return r;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,a=e.formatsToSupport;i<a.length;i++){var s=a[i];dde(s)?n.push(s):this.logger.warn("Invalid format: ".concat(s," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Wo(e))return!0;if(!Wo(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Wo(e.experimentalFeatures))return!0;var r=e.experimentalFeatures;return Wo(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,r,n){var i=this,a=n.qrbox;this.validateQrboxConfig(a);var s=this.toQrdimensions(e,r,a),l=function(h){if(h<Ta.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Ta.MIN_QR_BOX_SIZE,"px.")},d=function(h){return h>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),h=e),h};l(s.width),l(s.height),s.width=d(s.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(e,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},t.prototype.setupUi=function(e,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(e,r,n);var i=Wo(n.qrbox)?{width:e,height:r}:n.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(e,r,i);a.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var s=n.isShadedBoxEnabled()&&a.height<=r,l={x:0,y:0,width:e,height:r},d=s?this.getShadedRegionBounds(e,r,a):l,h=this.createCanvasElement(d.width,d.height),g={willReadFrequently:!0},v=h.getContext("2d",g);v.canvas.width=d.width,v.canvas.height=d.height,this.element.append(h),s&&this.possiblyInsertShadingElement(this.element,e,r,a),this.createScannerPausedUiElement(this.element),this.qrRegion=d,this.context=v,this.canvasElement=h},t.prototype.createScannerPausedUiElement=function(e){var r=document.createElement("div");r.innerText=Yd.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",e.appendChild(r),this.scannerPausedUiElement=r},t.prototype.scanContext=function(e,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,AR.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var a=Yd.codeParseError(i);return r(a,hde.createFrom(a)),!1})},t.prototype.foreverScan=function(e,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),s=a.videoWidth/a.clientWidth,l=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var d=this.qrRegion.width*s,h=this.qrRegion.height*l,g=this.qrRegion.x*s,v=this.qrRegion.y*l;this.context.drawImage(a,g,v,d,h,0,0,this.qrRegion.width,this.qrRegion.height);var b=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,r,n)},i.getTimeoutFps(e.fps))};this.scanContext(r,n).then(function(S){!S&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){b()})):b()}).catch(function(S){i.logger.logError("Error happend while scanning context",S),b()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},a="exact",s=function(O){if(O in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(O,"'")},l=Object.keys(e);if(l.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(l.length," keys");var d=Object.keys(e)[0];if(d!==r&&d!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(d===r){var h=e.facingMode;if(typeof h=="string"){if(s(h))return{facingMode:h}}else if(typeof h=="object")if(a in h){if(s(h["".concat(a)]))return{facingMode:{exact:h["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var g=typeof h;throw"Invalid type of 'facingMode' = ".concat(g)}}else{var v=e.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(a in v)return{deviceId:{exact:v["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var b=typeof v;throw"Invalid type of 'deviceId' = ".concat(b)}}}var S=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(S)},t.prototype.computeCanvasDrawConfig=function(e,r,n,i){if(e<=n&&r<=i){var a=(n-e)/2,s=(i-r)/2;return{x:a,y:s,width:e,height:r}}else{var l=e,d=r;return e>n&&(r=n/e*r,e=n),r>i&&(e=i/r*e,r=i),this.logger.log("Image downsampled from "+"".concat(l,"X").concat(d)+" to ".concat(e,"X").concat(r,".")),this.computeCanvasDrawConfig(e,r,n,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=e?Ta.BORDER_SHADER_MATCH_COLOR:Ta.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,r,n){var i=e,a=r,s=document.createElement("canvas");return s.style.width="".concat(i,"px"),s.style.height="".concat(a,"px"),s.style.display="none",s.id=Wo(n)?"qr-canvas":n,s},t.prototype.getShadedRegionBounds=function(e,r,n){if(n.width>e||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},t.prototype.possiblyInsertShadingElement=function(e,r,n,i){if(!(r-i.width<1||n-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var s=(r-i.width)/2,l=(n-i.height)/2;if(a.style.borderLeft="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(Ta.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var d=5,h=40;this.insertShaderBorders(a,h,d,-d,null,0,!0),this.insertShaderBorders(a,h,d,-d,null,0,!1),this.insertShaderBorders(a,h,d,null,-d,0,!0),this.insertShaderBorders(a,h,d,null,-d,0,!1),this.insertShaderBorders(a,d,h+d,-d,null,-d,!0),this.insertShaderBorders(a,d,h+d,null,-d,-d,!0),this.insertShaderBorders(a,d,h+d,-d,null,-d,!1),this.insertShaderBorders(a,d,h+d,null,-d,-d,!1),this.hasBorderShaders=!0}e.append(a)}},t.prototype.insertShaderBorders=function(e,r,n,i,a,s,l){var d=document.createElement("div");d.style.position="absolute",d.style.backgroundColor=Ta.BORDER_SHADER_DEFAULT_COLOR,d.style.width="".concat(r,"px"),d.style.height="".concat(n,"px"),i!==null&&(d.style.top="".concat(i,"px")),a!==null&&(d.style.bottom="".concat(a,"px")),l?d.style.left="".concat(s,"px"):d.style.right="".concat(s,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(d),e.appendChild(d)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t})(),RR;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(RR||(RR={}));const Bde=({onScan:t,onError:e,className:r,showCamera:n=!0})=>{const[i,a]=N.useState(!1),[s,l]=N.useState(null),d=N.useRef(null),h="qr-scanner",g=async()=>{try{l(null);const S=new Lde(h);d.current=S,await S.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},O=>{try{const E=dR(O);E&&aA(E)?(t(E),v()):(l("Invalid or expired QR code"),e?.("Invalid or expired QR code"))}catch(E){l("Failed to decode QR code: "+E.message),e?.(E.message)}},O=>{}),a(!0)}catch(S){let O="Failed to start camera: "+S.message;S.name==="NotAllowedError"?O="Camera permission denied. Please enable camera access in your browser settings.":S.name==="NotFoundError"?O="No camera found on this device.":S.name==="NotReadableError"&&(O="Camera is already in use by another application."),l(O),e?.(O),a(!1)}},v=async()=>{if(d.current&&i){try{await d.current.stop(),d.current.clear()}catch{}d.current=null}a(!1)};N.useEffect(()=>()=>{v()},[]);const b=()=>{const S=prompt("Enter QR code data (JSON string):");if(S)try{const O=dR(S);O&&aA(O)?t(O):(l("Invalid or expired QR code"),e?.("Invalid or expired QR code"))}catch(O){l("Failed to decode QR code: "+O.message),e?.(O.message)}};return f.jsx(mt,{className:Me("w-full",r),children:f.jsxs(gt,{className:"p-6 space-y-4",children:[s&&f.jsxs(Af,{variant:"destructive",children:[f.jsx(uc,{className:"h-4 w-4"}),f.jsx(Of,{children:s})]}),n&&f.jsxs("div",{className:"relative aspect-square bg-muted rounded-lg overflow-hidden",children:[f.jsx("div",{id:h,className:"w-full h-full"}),!i&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 z-10",children:f.jsxs("div",{className:"text-center text-white",children:[f.jsx(Vj,{className:"w-12 h-12 mx-auto mb-2"}),f.jsx("p",{className:"text-sm",children:"Camera not active"})]})})]}),f.jsxs("div",{className:"flex gap-2",children:[i?f.jsxs(He,{onClick:v,variant:"destructive",className:"flex-1",children:[f.jsx(Gm,{className:"w-4 h-4 mr-2"}),"Stop Scanning"]}):f.jsxs(He,{onClick:g,className:"flex-1",children:[f.jsx(Vj,{className:"w-4 h-4 mr-2"}),"Start Scanning"]}),f.jsx(He,{onClick:b,variant:"outline",children:"Manual Entry"})]}),f.jsx("p",{className:"text-xs text-muted-foreground text-center",children:i?"Point your camera at a QR code":'Click "Start Scanning" to begin'})]})})},Fde=51.4881,$de=-.03,Ude=100,hp="Grinstead Rd, London SE8 5FE, United Kingdom",Vde=(t,e,r,n)=>{const a=t*Math.PI/180,s=r*Math.PI/180,l=(r-t)*Math.PI/180,d=(n-e)*Math.PI/180,h=Math.sin(l/2)*Math.sin(l/2)+Math.cos(a)*Math.cos(s)*Math.sin(d/2)*Math.sin(d/2);return 6371e3*(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)))},Wde=()=>{const[t,e]=N.useState("checking"),[r,n]=N.useState(!1),[i,a]=N.useState(null),[s,l]=N.useState(!0),[d,h]=N.useState(!1),[g,v]=N.useState(null),[b,S]=N.useState(!0),{toast:O}=mi(),{user:E}=Yu(),C=g===!1,j=g===!0;N.useEffect(()=>{P(),I()},[]);const P=async()=>{try{const{data:{user:B}}=await Pe.auth.getUser();if(!B){a(!1),l(!1);return}const{data:q,error:U}=await Pe.rpc("has_valid_membership",{_user_id:B.id});if(U)throw U;a(q)}catch(B){console.error("Error checking membership:",B),a(!1)}finally{l(!1)}},I=async()=>{try{S(!0);const{data:{user:B}}=await Pe.auth.getUser();if(!B){v(!1),S(!1);return}const{data:q,error:U}=await Pe.from("check_ins").select("id").eq("user_id",B.id).is("check_out_time",null).order("check_in_time",{ascending:!1}).limit(1);if(U)throw U;v(q&&q.length>0)}catch(B){console.error("Error checking active check-in:",B),v(!1)}finally{S(!1)}};N.useEffect(()=>{let B=!0;return(()=>{if(!navigator.geolocation){B&&(e("invalid"),Yt({title:"Location not supported",description:"Your device doesn't support geolocation."}));return}navigator.geolocation.getCurrentPosition(U=>{if(!B)return;Vde(U.coords.latitude,U.coords.longitude,Fde,$de)<=Ude?e("valid"):(e("invalid"),Yt({title:"Location Error",description:`You must be at ${hp} to check in/out.`}))},U=>{B&&(e("invalid"),Yt({title:"Location Access Denied",description:"Please enable location services to check in/out."}))})})(),()=>{B=!1}},[]);const F=async()=>{if(!i){Yt({title:"No Valid Membership",description:"You need an active paid membership to check in."});return}if(t!=="valid"){Yt({title:"Cannot Check In",description:`You must be at ${hp} to check in.`});return}n(!0);try{const{data:{user:B}}=await Pe.auth.getUser();if(!B)throw new Error("Not authenticated");const{error:q}=await Pe.from("check_ins").insert([{user_id:B.id,check_in_time:new Date().toISOString(),location:hp}]);if(q)throw q;O(Ba.bookingCreated("Check-in")),await I()}catch(B){Yt({title:"Error",description:B.message})}finally{setTimeout(()=>n(!1),1e3)}},R=async()=>{if(!i){Yt({title:"No Valid Membership",description:"You need an active paid membership to check out."});return}if(t!=="valid"){Yt({title:"Cannot Check Out",description:`You must be at ${hp} to check out.`});return}n(!0);try{const{data:{user:B}}=await Pe.auth.getUser();if(!B)throw new Error("Not authenticated");const{data:q,error:U}=await Pe.from("check_ins").select("id").eq("user_id",B.id).is("check_out_time",null).order("check_in_time",{ascending:!1}).limit(1);if(U)throw U;if(!q||q.length===0){Yt({title:"No Check-In Found",description:"You don't have an active check-in to check out from."});return}const{error:z}=await Pe.from("check_ins").update({check_out_time:new Date().toISOString()}).eq("id",q[0].id);if(z)throw z;O(Ba.bookingCancelled()),await I()}catch(B){Yt({title:"Error",description:B.message})}finally{setTimeout(()=>n(!1),1e3)}},M=B=>{if(!aA(B)){Yt({title:"QR Code Expired",description:"This QR code has expired. Please generate a new one."});return}if(C&&B.action!=="entry"){Yt({title:"Invalid QR Code",description:"This QR code is for check-out, not check-in."});return}if(j&&B.action!=="exit"){Yt({title:"Invalid QR Code",description:"This QR code is for check-in, not check-out."});return}B.action==="entry"?F():R(),h(!1)};return b||s?f.jsx("div",{className:"min-h-screen bg-gradient-hero flex items-center justify-center p-6",children:f.jsx(mt,{className:"w-full max-w-md shadow-lg",children:f.jsx(gt,{className:"p-6 text-center",children:f.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})})}):f.jsx("div",{className:"min-h-screen bg-gradient-hero flex items-center justify-center p-6",children:f.jsxs(mt,{className:"w-full max-w-md shadow-lg",children:[!s&&!i&&f.jsxs(Af,{variant:"destructive",className:"m-4",children:[f.jsx(uc,{className:"h-4 w-4"}),f.jsx(Of,{children:"You need an active paid membership to check in/out. Please contact admin."})]}),f.jsxs(ir,{className:"text-center",children:[f.jsx("div",{className:"flex justify-center mb-4",children:f.jsx("div",{className:`p-4 rounded-full ${C?"bg-gradient-secondary":"bg-gradient-accent"}`,children:f.jsx(Wp,{className:`w-12 h-12 ${C?"text-secondary-foreground":"text-accent-foreground"}`})})}),f.jsx(or,{className:"text-2xl",children:C?"Check In":"Check Out"}),f.jsx(kr,{children:C?"Scan your QR code to enter the gym":"Scan your QR code to exit the gym"}),f.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4",children:[f.jsx(mB,{className:`w-4 h-4 ${t==="valid"?"text-green-500":t==="invalid"?"text-red-500":"text-muted-foreground"}`}),f.jsxs("span",{className:`text-sm ${t==="valid"?"text-green-500":t==="invalid"?"text-red-500":"text-muted-foreground"}`,children:[t==="checking"&&"Checking location...",t==="valid"&&"Location verified",t==="invalid"&&`Must be at ${hp}`]})]})]}),f.jsx(gt,{className:"space-y-6",children:d?f.jsx(Bde,{onScan:M,onError:B=>{Yt({title:"Scanning Error",description:B})}}):f.jsxs(f.Fragment,{children:[E&&f.jsx(U$,{userId:E.id,action:C?"entry":"exit",size:250,className:"max-w-sm mx-auto"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs(He,{className:`flex-1 ${C?"bg-secondary hover:bg-secondary/90":"bg-accent hover:bg-accent/90"}`,size:"lg",onClick:()=>h(!0),disabled:!i||s,children:[f.jsx(Wp,{className:"w-5 h-5 mr-2"}),"Scan QR Code"]}),f.jsx(He,{variant:"outline",className:"flex-1",size:"lg",onClick:C?F:R,disabled:t!=="valid"||r||!i||s,children:C?f.jsxs(f.Fragment,{children:[f.jsx(hB,{className:"w-5 h-5 mr-2"}),"Manual Check In"]}):f.jsxs(f.Fragment,{children:[f.jsx(pB,{className:"w-5 h-5 mr-2"}),"Manual Check Out"]})})]}),j&&f.jsxs(Af,{className:"mt-4",children:[f.jsx(uc,{className:"h-4 w-4"}),f.jsx(Of,{children:"You have an active check-in. Scan the exit QR code or use manual check-out to exit."})]})]})})]})})},qde=()=>f.jsx("div",{className:"min-h-screen bg-background p-6",children:f.jsxs("div",{className:"container mx-auto",children:[f.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Admin Dashboard"}),f.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[f.jsx(Q0,{title:"Total Members",value:"342",icon:f.jsx(ll,{className:"w-5 h-5 text-primary"}),trend:"+12 this month"}),f.jsx(Q0,{title:"Active Bookings",value:"89",icon:f.jsx(Bi,{className:"w-5 h-5 text-secondary"}),trend:"Today"}),f.jsx(Q0,{title:"Monthly Revenue",value:"$24,500",icon:f.jsx(PK,{className:"w-5 h-5 text-success"}),trend:"+8% vs last month"}),f.jsx(Q0,{title:"Visit Rate",value:"76%",icon:f.jsx(qp,{className:"w-5 h-5 text-accent"}),trend:"This week"})]}),f.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[f.jsxs(mt,{children:[f.jsx(ir,{children:f.jsx(or,{children:"Recent Activity"})}),f.jsx(gt,{children:f.jsx("p",{className:"text-muted-foreground",children:"Activity feed will appear here"})})]}),f.jsxs(mt,{children:[f.jsx(ir,{children:f.jsx(or,{children:"Popular Classes"})}),f.jsx(gt,{children:f.jsx("p",{className:"text-muted-foreground",children:"Class analytics will appear here"})})]})]})]})}),Q0=({title:t,value:e,icon:r,trend:n})=>f.jsx(mt,{children:f.jsxs(gt,{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:t}),r]}),f.jsx("div",{className:"text-2xl font-bold mb-1",children:e}),f.jsx("p",{className:"text-xs text-muted-foreground",children:n})]})}),Tf=N.forwardRef(({className:t,...e},r)=>f.jsx("div",{className:"relative w-full overflow-auto",children:f.jsx("table",{ref:r,className:Me("w-full caption-bottom text-sm",t),...e})}));Tf.displayName="Table";const Nf=N.forwardRef(({className:t,...e},r)=>f.jsx("thead",{ref:r,className:Me("[&_tr]:border-b",t),...e}));Nf.displayName="TableHeader";const kf=N.forwardRef(({className:t,...e},r)=>f.jsx("tbody",{ref:r,className:Me("[&_tr:last-child]:border-0",t),...e}));kf.displayName="TableBody";const zde=N.forwardRef(({className:t,...e},r)=>f.jsx("tfoot",{ref:r,className:Me("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));zde.displayName="TableFooter";const cs=N.forwardRef(({className:t,...e},r)=>f.jsx("tr",{ref:r,className:Me("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));cs.displayName="TableRow";const xr=N.forwardRef(({className:t,...e},r)=>f.jsx("th",{ref:r,className:Me("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));xr.displayName="TableHead";const gr=N.forwardRef(({className:t,...e},r)=>f.jsx("td",{ref:r,className:Me("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));gr.displayName="TableCell";const Hde=N.forwardRef(({className:t,...e},r)=>f.jsx("caption",{ref:r,className:Me("mt-4 text-sm text-muted-foreground",t),...e}));Hde.displayName="TableCaption";var Y1="Checkbox",[Gde]=Zi(Y1),[Kde,CN]=Gde(Y1);function Yde(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:i,disabled:a,form:s,name:l,onCheckedChange:d,required:h,value:g="on",internal_do_not_use_render:v}=t,[b,S]=Vs({prop:r,defaultProp:i??!1,onChange:d,caller:Y1}),[O,E]=N.useState(null),[C,j]=N.useState(null),P=N.useRef(!1),I=O?!!s||!!O.closest("form"):!0,F={checked:b,disabled:a,setChecked:S,control:O,setControl:E,name:l,form:s,value:g,hasConsumerStoppedPropagationRef:P,required:h,defaultChecked:ac(i)?!1:i,isFormControl:I,bubbleInput:C,setBubbleInput:j};return f.jsx(Kde,{scope:e,...F,children:Xde(v)?v(F):n})}var PV="CheckboxTrigger",jV=N.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},i)=>{const{control:a,value:s,disabled:l,checked:d,required:h,setControl:g,setChecked:v,hasConsumerStoppedPropagationRef:b,isFormControl:S,bubbleInput:O}=CN(PV,t),E=lr(i,g),C=N.useRef(d);return N.useEffect(()=>{const j=a?.form;if(j){const P=()=>v(C.current);return j.addEventListener("reset",P),()=>j.removeEventListener("reset",P)}},[a,v]),f.jsx(Ot.button,{type:"button",role:"checkbox","aria-checked":ac(d)?"mixed":d,"aria-required":h,"data-state":LV(d),"data-disabled":l?"":void 0,disabled:l,value:s,...n,ref:E,onKeyDown:it(e,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:it(r,j=>{v(P=>ac(P)?!0:!P),O&&S&&(b.current=j.isPropagationStopped(),b.current||j.stopPropagation())})})});jV.displayName=PV;var AN=N.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:s,disabled:l,value:d,onCheckedChange:h,form:g,...v}=t;return f.jsx(Yde,{__scopeCheckbox:r,checked:i,defaultChecked:a,disabled:l,required:s,onCheckedChange:h,name:n,form:g,value:d,internal_do_not_use_render:({isFormControl:b})=>f.jsxs(f.Fragment,{children:[f.jsx(jV,{...v,ref:e,__scopeCheckbox:r}),b&&f.jsx(DV,{__scopeCheckbox:r})]})})});AN.displayName=Y1;var IV="CheckboxIndicator",RV=N.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,a=CN(IV,r);return f.jsx(ma,{present:n||ac(a.checked)||a.checked===!0,children:f.jsx(Ot.span,{"data-state":LV(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});RV.displayName=IV;var MV="CheckboxBubbleInput",DV=N.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:s,required:l,disabled:d,name:h,value:g,form:v,bubbleInput:b,setBubbleInput:S}=CN(MV,t),O=lr(r,S),E=oN(a),C=iT(n);N.useEffect(()=>{const P=b;if(!P)return;const I=window.HTMLInputElement.prototype,R=Object.getOwnPropertyDescriptor(I,"checked").set,M=!i.current;if(E!==a&&R){const B=new Event("click",{bubbles:M});P.indeterminate=ac(a),R.call(P,ac(a)?!1:a),P.dispatchEvent(B)}},[b,E,a,i]);const j=N.useRef(ac(a)?!1:a);return f.jsx(Ot.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??j.current,required:l,disabled:d,name:h,value:g,form:v,...e,tabIndex:-1,ref:O,style:{...e.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});DV.displayName=MV;function Xde(t){return typeof t=="function"}function ac(t){return t==="indeterminate"}function LV(t){return ac(t)?"indeterminate":t?"checked":"unchecked"}const fA=N.forwardRef(({className:t,...e},r)=>f.jsx(AN,{ref:r,className:Me("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:f.jsx(RV,{className:Me("flex items-center justify-center text-current"),children:f.jsx(HO,{className:"h-4 w-4"})})}));fA.displayName=AN.displayName;const Zde=()=>{const{isAdmin:t,isLoading:e}=c$(),r=Ai();mi();const[n,i]=N.useState([]),[a,s]=N.useState(!0),[l,d]=N.useState(""),[h,g]=N.useState("all"),[v,b]=N.useState("all"),[S,O]=N.useState(new Set),[E,C]=N.useState(!1),[j,P]=N.useState(null),[I,F]=N.useState("member"),[R,M]=N.useState(!1),[B,q]=N.useState(null),[U,z]=N.useState([]);N.useEffect(()=>{!e&&!t&&r("/admin")},[t,e,r]),N.useEffect(()=>{t&&G()},[t]);const G=async()=>{try{s(!0);const{data:J,error:he}=await Pe.from("profiles").select("*").order("created_at",{ascending:!1});if(he)throw he;const{data:ie,error:le}=await Pe.from("user_roles").select("user_id, role");if(le)throw le;const{data:we,error:ke}=await Pe.from("user_memberships").select("user_id, status, end_date").order("created_at",{ascending:!1});if(ke)throw ke;const{data:qe,error:je}=await Pe.from("check_ins").select("user_id, check_in_time").order("check_in_time",{ascending:!1});if(je)throw je;const{data:Te,error:De}=await Pe.from("class_bookings").select("user_id, created_at").order("created_at",{ascending:!1});if(De)throw De;const Ne=J.map(Le=>{const ue=ie.find(et=>et.user_id===Le.id)?.role||"member",ve=we?.find(et=>et.user_id===Le.id),Ue=qe?.filter(et=>et.user_id===Le.id)[0],Ie=Te?.filter(et=>et.user_id===Le.id)[0],Ge=Ue||Ie?new Date(Ue&&Ie?new Date(Ue.check_in_time)>new Date(Ie.created_at)?Ue.check_in_time:Ie.created_at:Ue?.check_in_time||Ie?.created_at||"").toISOString():void 0;let ct="none";return ve&&(ve.status==="active"&&new Date(ve.end_date)>new Date?ct="active":ct="expired"),{...Le,role:ue,membership_status:ct,last_activity:Ge,total_visits:qe?.filter(et=>et.user_id===Le.id).length||0,total_bookings:Te?.filter(et=>et.user_id===Le.id).length||0}});i(Ne)}catch(J){console.error("Error fetching users:",J),Yt({title:"Error loading users",description:J.message})}finally{s(!1)}},W=N.useMemo(()=>n.filter(J=>{const he=l===""||J.full_name?.toLowerCase().includes(l.toLowerCase())||J.id.toLowerCase().includes(l.toLowerCase())||J.phone?.toLowerCase().includes(l.toLowerCase()),ie=h==="all"||J.role===h,le=v==="all"||J.membership_status===v;return he&&ie&&le}),[n,l,h,v]),H=J=>{const he=new Set(S);he.has(J)?he.delete(J):he.add(J),O(he)},Q=()=>{S.size===W.length?O(new Set):O(new Set(W.map(J=>J.id)))},X=async(J,he)=>{try{const{data:ie}=await Pe.from("user_roles").select("id").eq("user_id",J).single();if(ie){const{error:le}=await Pe.from("user_roles").update({role:he}).eq("user_id",J);if(le)throw le}else{const{error:le}=await Pe.from("user_roles").insert([{user_id:J,role:he}]);if(le)throw le}os(`User role updated to ${he}`),await G(),C(!1),P(null)}catch(ie){console.error("Error updating role:",ie),Yt({title:"Error updating role",description:ie.message})}},se=async J=>{try{const he=Array.from(S).map(async ie=>{const{data:le}=await Pe.from("user_roles").select("id").eq("user_id",ie).single();return le?Pe.from("user_roles").update({role:J}).eq("user_id",ie):Pe.from("user_roles").insert([{user_id:ie,role:J}])});await Promise.all(he),os(`Updated ${S.size} user(s) to ${J}`),O(new Set),await G()}catch(he){console.error("Error bulk updating roles:",he),Yt({title:"Error updating roles",description:he.message})}},ne=async J=>{try{Yt({title:"Not implemented",description:"User suspension feature requires additional database fields."})}catch(he){console.error("Error suspending user:",he),Yt({title:"Error suspending user",description:he.message})}},re=async J=>{q(J),M(!0);try{const[he,ie]=await Promise.all([Pe.from("check_ins").select("check_in_time, check_out_time, location").eq("user_id",J.id).order("check_in_time",{ascending:!1}).limit(20),Pe.from("class_bookings").select("*, class_sessions(name, start_time)").eq("user_id",J.id).order("created_at",{ascending:!1}).limit(20)]);if(he.error)throw he.error;if(ie.error)throw ie.error;const le=[...(he.data||[]).map(we=>({type:"check-in",date:we.check_in_time,description:`Checked in at ${we.location||"Main Gym"}`})),...(ie.data||[]).map(we=>({type:"booking",date:we.created_at,description:`Booked ${we.class_sessions?.name||"Class"}`}))].sort((we,ke)=>new Date(ke.date).getTime()-new Date(we.date).getTime());z(le)}catch(he){console.error("Error fetching activity:",he),Yt({title:"Error loading activity",description:he.message})}};return e||!t?f.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:f.jsx(Iu,{size:"lg",text:"Loading..."})}):a?f.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:f.jsx(Iu,{size:"lg",text:"Loading users..."})}):f.jsx("div",{className:"min-h-screen bg-background p-6",children:f.jsxs("div",{className:"container mx-auto max-w-7xl",children:[f.jsx("div",{className:"flex items-center justify-between mb-8",children:f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold",children:"User Management"}),f.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage users, roles, and permissions"})]})}),f.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-6",children:[f.jsx(mt,{className:"md:col-span-2",children:f.jsx(gt,{className:"p-4",children:f.jsxs("div",{className:"relative",children:[f.jsx(KO,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),f.jsx(rr,{placeholder:"Search by name, ID, or phone...",className:"pl-10",value:l,onChange:J=>d(J.target.value)})]})})}),f.jsx(mt,{children:f.jsx(gt,{className:"p-4",children:f.jsxs(fa,{value:h,onValueChange:g,children:[f.jsx(qi,{children:f.jsx(ha,{placeholder:"Filter by role"})}),f.jsxs(zi,{children:[f.jsx(tr,{value:"all",children:"All Roles"}),f.jsx(tr,{value:"admin",children:"Admin"}),f.jsx(tr,{value:"staff",children:"Staff"}),f.jsx(tr,{value:"member",children:"Member"})]})]})})}),f.jsx(mt,{children:f.jsx(gt,{className:"p-4",children:f.jsxs(fa,{value:v,onValueChange:b,children:[f.jsx(qi,{children:f.jsx(ha,{placeholder:"Filter by status"})}),f.jsxs(zi,{children:[f.jsx(tr,{value:"all",children:"All Status"}),f.jsx(tr,{value:"active",children:"Active Membership"}),f.jsx(tr,{value:"expired",children:"Expired Membership"}),f.jsx(tr,{value:"none",children:"No Membership"})]})]})})})]}),S.size>0&&f.jsx(mt,{className:"mb-6",children:f.jsx(gt,{className:"p-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("span",{className:"text-sm font-medium",children:[S.size," user(s) selected"]}),f.jsx("div",{className:"flex gap-2",children:f.jsxs(fa,{value:"",onValueChange:J=>{J&&se(J)},children:[f.jsx(qi,{className:"w-[180px]",children:f.jsx(ha,{placeholder:"Change role..."})}),f.jsxs(zi,{children:[f.jsx(tr,{value:"admin",children:"Set as Admin"}),f.jsx(tr,{value:"staff",children:"Set as Staff"}),f.jsx(tr,{value:"member",children:"Set as Member"})]})]})})]}),f.jsx(He,{variant:"outline",size:"sm",onClick:()=>O(new Set),children:"Clear Selection"})]})})}),f.jsxs(mt,{children:[f.jsx(ir,{children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs(or,{children:["All Users (",W.length,")"]}),f.jsx(kr,{children:S.size>0&&`${S.size} selected`})]}),f.jsx(He,{variant:"outline",size:"sm",onClick:Q,children:S.size===W.length?f.jsxs(f.Fragment,{children:[f.jsx(WK,{className:"w-4 h-4 mr-2"}),"Deselect All"]}):f.jsxs(f.Fragment,{children:[f.jsx(qK,{className:"w-4 h-4 mr-2"}),"Select All"]})})]})}),f.jsx(gt,{children:W.length===0?f.jsx("div",{className:"text-center py-12",children:f.jsx("p",{className:"text-muted-foreground",children:"No users found"})}):f.jsx("div",{className:"overflow-x-auto",children:f.jsxs(Tf,{children:[f.jsx(Nf,{children:f.jsxs(cs,{children:[f.jsx(xr,{className:"w-12",children:f.jsx(fA,{checked:S.size===W.length&&W.length>0,onCheckedChange:Q})}),f.jsx(xr,{children:"User"}),f.jsx(xr,{children:"Role"}),f.jsx(xr,{children:"Membership"}),f.jsx(xr,{children:"Activity"}),f.jsx(xr,{children:"Stats"}),f.jsx(xr,{className:"text-right",children:"Actions"})]})}),f.jsx(kf,{children:W.map(J=>f.jsxs(cs,{children:[f.jsx(gr,{children:f.jsx(fA,{checked:S.has(J.id),onCheckedChange:()=>H(J.id)})}),f.jsx(gr,{children:f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:J.full_name||"No name"}),f.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",J.id.slice(0,8),"..."]}),J.phone&&f.jsx("div",{className:"text-xs text-muted-foreground",children:J.phone})]})}),f.jsx(gr,{children:f.jsxs(Gr,{variant:J.role==="admin"?"destructive":J.role==="staff"?"default":"secondary",children:[J.role==="admin"&&f.jsx(gB,{className:"w-3 h-3 mr-1"}),J.role==="staff"&&f.jsx(rf,{className:"w-3 h-3 mr-1"}),J.role==="member"&&f.jsx(rf,{className:"w-3 h-3 mr-1"}),J.role]})}),f.jsx(gr,{children:f.jsx(Gr,{variant:J.membership_status==="active"?"default":J.membership_status==="expired"?"destructive":"secondary",children:J.membership_status||"none"})}),f.jsx(gr,{children:J.last_activity?f.jsx("div",{className:"text-sm",children:f.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[f.jsx(Ou,{className:"w-3 h-3"}),Xt(new Date(J.last_activity),"MMM d, yyyy")]})}):f.jsx("span",{className:"text-sm text-muted-foreground",children:"No activity"})}),f.jsx(gr,{children:f.jsxs("div",{className:"text-sm space-y-1",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx($j,{className:"w-3 h-3 text-muted-foreground"}),f.jsxs("span",{children:[J.total_visits||0," visits"]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(Bi,{className:"w-3 h-3 text-muted-foreground"}),f.jsxs("span",{children:[J.total_bookings||0," bookings"]})]})]})}),f.jsx(gr,{className:"text-right",children:f.jsxs(fF,{children:[f.jsx(hF,{asChild:!0,children:f.jsx(He,{variant:"ghost",size:"sm",children:f.jsx(IK,{className:"w-4 h-4"})})}),f.jsxs(ET,{align:"end",children:[f.jsx(CT,{children:"Actions"}),f.jsxs(Ql,{onClick:()=>re(J),children:[f.jsx($j,{className:"w-4 h-4 mr-2"}),"View Activity"]}),f.jsxs(Ql,{onClick:()=>{P(J),F(J.role),C(!0)},children:[f.jsx(Hm,{className:"w-4 h-4 mr-2"}),"Edit Role"]}),f.jsx(Fv,{}),f.jsxs(Ql,{onClick:()=>r(`/profile?id=${J.id}`),children:[f.jsx(rf,{className:"w-4 h-4 mr-2"}),"View Profile"]}),f.jsxs(Ql,{onClick:()=>ne(J.id),className:"text-destructive",children:[f.jsx(KK,{className:"w-4 h-4 mr-2"}),"Suspend User"]})]})]})})]},J.id))})]})})})]}),f.jsx(Xo,{open:E,onOpenChange:C,children:f.jsxs(fo,{children:[f.jsxs(ho,{children:[f.jsx(po,{children:"Edit User Role"}),f.jsxs(Zo,{children:["Change the role for ",j?.full_name||`User ${j?.id.slice(0,8)}`]})]}),f.jsx("div",{className:"space-y-4 py-4",children:f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium",children:"Role"}),f.jsxs(fa,{value:I,onValueChange:J=>F(J),children:[f.jsx(qi,{className:"mt-2",children:f.jsx(ha,{})}),f.jsxs(zi,{children:[f.jsx(tr,{value:"member",children:"Member"}),f.jsx(tr,{value:"staff",children:"Staff"}),f.jsx(tr,{value:"admin",children:"Admin"})]})]})]})}),f.jsxs(ic,{children:[f.jsx(He,{variant:"outline",onClick:()=>C(!1),children:"Cancel"}),f.jsx(He,{onClick:()=>j&&X(j.id,I),children:"Save Changes"})]})]})}),f.jsx(Xo,{open:R,onOpenChange:M,children:f.jsxs(fo,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[f.jsxs(ho,{children:[f.jsxs(po,{children:["Activity History - ",B?.full_name||`User ${B?.id.slice(0,8)}`]}),f.jsx(Zo,{children:"Recent check-ins and bookings"})]}),f.jsx("div",{className:"space-y-4 py-4",children:U.length===0?f.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No activity found"}):f.jsx("div",{className:"space-y-2",children:U.map((J,he)=>f.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border bg-muted/30",children:[f.jsx("div",{className:`p-2 rounded-full ${J.type==="check-in"?"bg-success/20":"bg-primary/20"}`,children:J.type==="check-in"?f.jsx(GK,{className:"w-4 h-4 text-success"}):f.jsx(Bi,{className:"w-4 h-4 text-primary"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"font-medium text-sm",children:J.description}),f.jsx("p",{className:"text-xs text-muted-foreground",children:Xt(new Date(J.date),"MMM d, yyyy 'at' h:mm a")})]})]},he))})}),f.jsx(ic,{children:f.jsx(He,{onClick:()=>M(!1),children:"Close"})})]})})]})})};var X1="Popover",[BV]=Zi(X1,[mc]),mg=mc(),[Qde,bc]=BV(X1),FV=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:s=!1}=t,l=mg(e),d=N.useRef(null),[h,g]=N.useState(!1),[v,b]=Vs({prop:n,defaultProp:i??!1,onChange:a,caller:X1});return f.jsx(y1,{...l,children:f.jsx(Qde,{scope:e,contentId:ds(),triggerRef:d,open:v,onOpenChange:b,onOpenToggle:N.useCallback(()=>b(S=>!S),[b]),hasCustomAnchor:h,onCustomAnchorAdd:N.useCallback(()=>g(!0),[]),onCustomAnchorRemove:N.useCallback(()=>g(!1),[]),modal:s,children:r})})};FV.displayName=X1;var $V="PopoverAnchor",Jde=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=bc($V,r),a=mg(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:l}=i;return N.useEffect(()=>(s(),()=>l()),[s,l]),f.jsx(Ym,{...a,...n,ref:e})});Jde.displayName=$V;var UV="PopoverTrigger",VV=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=bc(UV,r),a=mg(r),s=lr(e,i.triggerRef),l=f.jsx(Ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":GV(i.open),...n,ref:s,onClick:it(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:f.jsx(Ym,{asChild:!0,...a,children:l})});VV.displayName=UV;var ON="PopoverPortal",[efe,tfe]=BV(ON,{forceMount:void 0}),WV=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,a=bc(ON,e);return f.jsx(efe,{scope:e,forceMount:r,children:f.jsx(ma,{present:r||a.open,children:f.jsx(sh,{asChild:!0,container:i,children:n})})})};WV.displayName=ON;var Pf="PopoverContent",qV=N.forwardRef((t,e)=>{const r=tfe(Pf,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,a=bc(Pf,t.__scopePopover);return f.jsx(ma,{present:n||a.open,children:a.modal?f.jsx(nfe,{...i,ref:e}):f.jsx(ife,{...i,ref:e})})});qV.displayName=Pf;var rfe=cc("PopoverContent.RemoveScroll"),nfe=N.forwardRef((t,e)=>{const r=bc(Pf,t.__scopePopover),n=N.useRef(null),i=lr(e,n),a=N.useRef(!1);return N.useEffect(()=>{const s=n.current;if(s)return k1(s)},[]),f.jsx(eg,{as:rfe,allowPinchZoom:!0,children:f.jsx(zV,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:it(t.onCloseAutoFocus,s=>{s.preventDefault(),a.current||r.triggerRef.current?.focus()}),onPointerDownOutside:it(t.onPointerDownOutside,s=>{const l=s.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,h=l.button===2||d;a.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:it(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),ife=N.forwardRef((t,e)=>{const r=bc(Pf,t.__scopePopover),n=N.useRef(!1),i=N.useRef(!1);return f.jsx(zV,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||r.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;r.triggerRef.current?.contains(s)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),zV=N.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:g,...v}=t,b=bc(Pf,r),S=mg(r);return T1(),f.jsx(Qm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:f.jsx(qu,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:g,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:h,onDismiss:()=>b.onOpenChange(!1),children:f.jsx(x1,{"data-state":GV(b.open),role:"dialog",id:b.contentId,...S,...v,ref:e,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),HV="PopoverClose",afe=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=bc(HV,r);return f.jsx(Ot.button,{type:"button",...n,ref:e,onClick:it(t.onClick,()=>i.onOpenChange(!1))})});afe.displayName=HV;var sfe="PopoverArrow",ofe=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=mg(r);return f.jsx(w1,{...i,...n,ref:e})});ofe.displayName=sfe;function GV(t){return t?"open":"closed"}var lfe=FV,cfe=VV,ufe=WV,KV=qV;const hA=lfe,pA=cfe,ly=N.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>f.jsx(ufe,{children:f.jsx(KV,{ref:i,align:e,sideOffset:r,className:Me("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));ly.displayName=KV.displayName;const dfe=t=>{const[e,r]=N.useState(null),[n,i]=N.useState(!0),[a,s]=N.useState(null),[l,d]=N.useState([]),[h,g]=N.useState(null),v=N.useCallback(()=>{const M=new Date,B=new Date;return B.setDate(B.getDate()-30),{startDate:B,endDate:M}},[]),b=t?.dateRange||v(),S=N.useCallback(async()=>{try{const{count:M,error:B}=await Pe.from("profiles").select("*",{count:"exact",head:!0});if(B)throw B;const{data:q,error:U}=await Pe.from("user_memberships").select("user_id").eq("status","active").eq("payment_status","paid").gte("end_date",new Date().toISOString());if(U)throw U;const G=new Set(q?.map(he=>he.user_id)||[]).size,W=new Date;W.setDate(1),W.setHours(0,0,0,0);const{count:H,error:Q}=await Pe.from("profiles").select("*",{count:"exact",head:!0}).gte("created_at",W.toISOString());if(Q)throw Q;const X=new Date(W);X.setMonth(X.getMonth()-1);const se=new Date(W);se.setMilliseconds(se.getMilliseconds()-1);const{count:ne,error:re}=await Pe.from("profiles").select("*",{count:"exact",head:!0}).gte("created_at",X.toISOString()).lte("created_at",se.toISOString());if(re)throw re;const J=ne&&ne>0?((H||0)-ne)/ne*100:0;return{totalMembers:M||0,activeMembers:G,growthThisMonth:H||0,growthPercentage:Math.round(J*10)/10}}catch(M){throw console.error("Error fetching member growth:",M),M}},[]),O=N.useCallback(async()=>{try{const{startDate:M,endDate:B}=b,{data:q,error:U}=await Pe.from("class_bookings").select("*, class_sessions(start_time, end_time)").gte("created_at",M.toISOString()).lte("created_at",B.toISOString()).in("status",["booked","confirmed"]);if(U)throw U;if(!q||q.length===0)return 0;const z=new Date,G=q.filter(se=>{const ne=se.class_sessions;return ne?.start_time?new Date(ne.start_time)<z:!1});if(G.length===0)return 0;const{data:W,error:H}=await Pe.from("class_bookings").select("id").in("id",G.map(se=>se.id)).eq("status","attended");if(H)throw H;const X=(W?.length||0)/G.length*100;return Math.round(X*10)/10}catch(M){return console.error("Error fetching class attendance:",M),0}},[b]),E=N.useCallback(async()=>{try{const M=new Date,B=new Date(M);B.setDate(B.getDate()-7);const{data:q,error:U}=await Pe.from("check_ins").select("user_id").gte("check_in_time",B.toISOString());if(U)throw U;const G=new Set(q?.map(ie=>ie.user_id)||[]).size,W=new Date(M);W.setMonth(W.getMonth()-1);const{data:H,error:Q}=await Pe.from("check_ins").select("user_id").gte("check_in_time",W.toISOString());if(Q)throw Q;const se=new Set(H?.map(ie=>ie.user_id)||[]).size,{data:ne,error:re}=await Pe.from("user_memberships").select("user_id").eq("status","active").eq("payment_status","paid").gte("end_date",M.toISOString());if(re)throw re;const he=new Set(ne?.map(ie=>ie.user_id)||[]).size;return{thisWeek:G,thisMonth:se,total:he}}catch(M){throw console.error("Error fetching active users:",M),M}},[]),C=N.useCallback(async()=>{try{const{startDate:M,endDate:B}=b,{data:q,error:U}=await Pe.from("check_ins").select("check_in_time, user_id").gte("check_in_time",M.toISOString()).lte("check_in_time",B.toISOString()).order("check_in_time",{ascending:!0});if(U)throw U;if(!q||q.length===0)return[];const z=new Map;return q.forEach(W=>{const H=new Date(W.check_in_time).toISOString().split("T")[0];z.has(H)||z.set(H,{visitCount:0,uniqueVisitors:new Set});const Q=z.get(H);Q.visitCount++,Q.uniqueVisitors.add(W.user_id)}),Array.from(z.entries()).map(([W,H])=>({date:W,visit_count:H.visitCount,unique_visitors:H.uniqueVisitors.size})).sort((W,H)=>W.date.localeCompare(H.date))}catch(M){return console.error("Error fetching visit trends:",M),[]}},[b]),j=N.useCallback(async()=>{try{const{startDate:M,endDate:B}=b,{data:q,error:U}=await Pe.from("class_bookings").select("*, class_sessions(id, name, class_id, start_time)").gte("created_at",M.toISOString()).lte("created_at",B.toISOString()).in("status",["booked","confirmed","attended"]);if(U)throw U;if(!q||q.length===0)return[];const z=new Map;q.forEach(H=>{const Q=H.class_sessions,X=Q?.class_id||Q?.id||"unknown",se=Q?.name||"Unknown Class";z.has(X)||z.set(X,{classId:X,className:se,totalBookings:0,attendedCount:0,category:"General"});const ne=z.get(X);ne.totalBookings++,H.status==="attended"&&ne.attendedCount++});const G=Array.from(z.keys()).filter(H=>H!=="unknown");if(G.length>0){const{data:H,error:Q}=await Pe.from("classes").select("id, category").in("id",G);!Q&&H&&H.forEach(X=>{const se=z.get(X.id);se&&(se.category=X.category||"General")})}return Array.from(z.values()).map(H=>({class_id:H.classId,class_name:H.className,total_bookings:H.totalBookings,attendance_rate:H.totalBookings>0?Math.round(H.attendedCount/H.totalBookings*100*10)/10:0,category:H.category})).sort((H,Q)=>Q.total_bookings-H.total_bookings)}catch(M){return console.error("Error fetching class popularity:",M),[]}},[b]),P=N.useCallback(async()=>{try{const{startDate:M,endDate:B}=b,{data:q,error:U}=await Pe.from("user_memberships").select("*, memberships(price)").eq("payment_status","paid").gte("created_at",M.toISOString()).lte("created_at",B.toISOString());if(U)throw U;if(!q||q.length===0)return[];const z=new Map;return q.forEach(W=>{const H=new Date(W.created_at),Q=`${H.getFullYear()}-${String(H.getMonth()+1).padStart(2,"0")}`;z.has(Q)||z.set(Q,{revenue:0,newMembers:0,renewals:0});const X=z.get(Q),se=W.memberships?.price||0;X.revenue+=Number(se),X.newMembers++}),Array.from(z.entries()).map(([W,H])=>({period:W,revenue:Math.round(H.revenue*100)/100,new_members:H.newMembers,renewals:H.renewals})).sort((W,H)=>W.period.localeCompare(H.period))}catch(M){return console.error("Error fetching revenue data:",M),[]}},[b]),I=N.useCallback(async()=>{try{const M=new Date().toISOString(),{count:B,error:q}=await Pe.from("user_memberships").select("*",{count:"exact",head:!0}).eq("status","active").eq("payment_status","paid").gte("end_date",M);if(q)throw q;const{count:U,error:z}=await Pe.from("user_memberships").select("*",{count:"exact",head:!0}).eq("status","expired").or("end_date.lt."+M);if(z)throw z;const{count:G,error:W}=await Pe.from("user_memberships").select("*",{count:"exact",head:!0}).eq("status","cancelled");if(W)throw W;return{active:B||0,inactive:U||0,suspended:G||0}}catch(M){return console.error("Error fetching membership breakdown:",M),{active:0,inactive:0,suspended:0}}},[]),F=N.useCallback(async()=>{try{i(!0),s(null);const[M,B,q,U,z,G,W]=await Promise.all([S(),O(),E(),C(),j(),I(),P()]),H=new Date;H.setHours(0,0,0,0);const Q=new Date(H);Q.setDate(Q.getDate()+1);const{count:X,error:se}=await Pe.from("check_ins").select("*",{count:"exact",head:!0}).gte("check_in_time",H.toISOString()).lt("check_in_time",Q.toISOString());if(se)throw se;const{count:ne,error:re}=await Pe.from("class_bookings").select("*",{count:"exact",head:!0}).in("status",["booked","confirmed"]);if(re)throw re;const J={total_members:M.totalMembers,active_members:M.activeMembers,total_visits_today:X||0,total_bookings:ne||0,popular_classes:z,visit_trends:U,membership_breakdown:G};r(J),d(W),g(M)}catch(M){console.error("Error fetching analytics:",M),s(M.message||"Failed to fetch analytics data"),r(null)}finally{i(!1)}},[S,O,E,C,j,I,P]);N.useEffect(()=>{F()},[F]);const R=N.useCallback(()=>{F()},[F]);return{data:e,revenueData:l,memberGrowth:h,loading:n,error:a,refresh:R,fetchMemberGrowth:S,fetchClassAttendance:O,fetchActiveUsers:E,fetchVisitTrends:C,fetchClassPopularity:j,fetchRevenueData:P,fetchMembershipBreakdown:I}};var p_,MR;function ga(){if(MR)return p_;MR=1;var t=Array.isArray;return p_=t,p_}var m_,DR;function YV(){if(DR)return m_;DR=1;var t=typeof Xl=="object"&&Xl&&Xl.Object===Object&&Xl;return m_=t,m_}var g_,LR;function So(){if(LR)return g_;LR=1;var t=YV(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return g_=r,g_}var v_,BR;function gg(){if(BR)return v_;BR=1;var t=So(),e=t.Symbol;return v_=e,v_}var y_,FR;function ffe(){if(FR)return y_;FR=1;var t=gg(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(s){var l=r.call(s,i),d=s[i];try{s[i]=void 0;var h=!0}catch{}var g=n.call(s);return h&&(l?s[i]=d:delete s[i]),g}return y_=a,y_}var x_,$R;function hfe(){if($R)return x_;$R=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return x_=r,x_}var w_,UR;function ul(){if(UR)return w_;UR=1;var t=gg(),e=ffe(),r=hfe(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(l){return l==null?l===void 0?i:n:a&&a in Object(l)?e(l):r(l)}return w_=s,w_}var b_,VR;function dl(){if(VR)return b_;VR=1;function t(e){return e!=null&&typeof e=="object"}return b_=t,b_}var __,WR;function hh(){if(WR)return __;WR=1;var t=ul(),e=dl(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return __=n,__}var S_,qR;function TN(){if(qR)return S_;qR=1;var t=ga(),e=hh(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){if(t(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||s!=null&&a in Object(s)}return S_=i,S_}var E_,zR;function _c(){if(zR)return E_;zR=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return E_=t,E_}var C_,HR;function NN(){if(HR)return C_;HR=1;var t=ul(),e=_c(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(l){if(!e(l))return!1;var d=t(l);return d==n||d==i||d==r||d==a}return C_=s,C_}var A_,GR;function pfe(){if(GR)return A_;GR=1;var t=So(),e=t["__core-js_shared__"];return A_=e,A_}var O_,KR;function mfe(){if(KR)return O_;KR=1;var t=pfe(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return O_=r,O_}var T_,YR;function XV(){if(YR)return T_;YR=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return T_=r,T_}var N_,XR;function gfe(){if(XR)return N_;XR=1;var t=NN(),e=mfe(),r=_c(),n=XV(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,d=s.toString,h=l.hasOwnProperty,g=RegExp("^"+d.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(b){if(!r(b)||e(b))return!1;var S=t(b)?g:a;return S.test(n(b))}return N_=v,N_}var k_,ZR;function vfe(){if(ZR)return k_;ZR=1;function t(e,r){return e?.[r]}return k_=t,k_}var P_,QR;function Qu(){if(QR)return P_;QR=1;var t=gfe(),e=vfe();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return P_=r,P_}var j_,JR;function Z1(){if(JR)return j_;JR=1;var t=Qu(),e=t(Object,"create");return j_=e,j_}var I_,e4;function yfe(){if(e4)return I_;e4=1;var t=Z1();function e(){this.__data__=t?t(null):{},this.size=0}return I_=e,I_}var R_,t4;function xfe(){if(t4)return R_;t4=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return R_=t,R_}var M_,r4;function wfe(){if(r4)return M_;r4=1;var t=Z1(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var s=this.__data__;if(t){var l=s[a];return l===e?void 0:l}return n.call(s,a)?s[a]:void 0}return M_=i,M_}var D_,n4;function bfe(){if(n4)return D_;n4=1;var t=Z1(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return D_=n,D_}var L_,i4;function _fe(){if(i4)return L_;i4=1;var t=Z1(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return L_=r,L_}var B_,a4;function Sfe(){if(a4)return B_;a4=1;var t=yfe(),e=xfe(),r=wfe(),n=bfe(),i=_fe();function a(s){var l=-1,d=s==null?0:s.length;for(this.clear();++l<d;){var h=s[l];this.set(h[0],h[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,B_=a,B_}var F_,s4;function Efe(){if(s4)return F_;s4=1;function t(){this.__data__=[],this.size=0}return F_=t,F_}var $_,o4;function kN(){if(o4)return $_;o4=1;function t(e,r){return e===r||e!==e&&r!==r}return $_=t,$_}var U_,l4;function Q1(){if(l4)return U_;l4=1;var t=kN();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return U_=e,U_}var V_,c4;function Cfe(){if(c4)return V_;c4=1;var t=Q1(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var l=a.length-1;return s==l?a.pop():r.call(a,s,1),--this.size,!0}return V_=n,V_}var W_,u4;function Afe(){if(u4)return W_;u4=1;var t=Q1();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return W_=e,W_}var q_,d4;function Ofe(){if(d4)return q_;d4=1;var t=Q1();function e(r){return t(this.__data__,r)>-1}return q_=e,q_}var z_,f4;function Tfe(){if(f4)return z_;f4=1;var t=Q1();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return z_=e,z_}var H_,h4;function J1(){if(h4)return H_;h4=1;var t=Efe(),e=Cfe(),r=Afe(),n=Ofe(),i=Tfe();function a(s){var l=-1,d=s==null?0:s.length;for(this.clear();++l<d;){var h=s[l];this.set(h[0],h[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,H_=a,H_}var G_,p4;function PN(){if(p4)return G_;p4=1;var t=Qu(),e=So(),r=t(e,"Map");return G_=r,G_}var K_,m4;function Nfe(){if(m4)return K_;m4=1;var t=Sfe(),e=J1(),r=PN();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return K_=n,K_}var Y_,g4;function kfe(){if(g4)return Y_;g4=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Y_=t,Y_}var X_,v4;function ex(){if(v4)return X_;v4=1;var t=kfe();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return X_=e,X_}var Z_,y4;function Pfe(){if(y4)return Z_;y4=1;var t=ex();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Z_=e,Z_}var Q_,x4;function jfe(){if(x4)return Q_;x4=1;var t=ex();function e(r){return t(this,r).get(r)}return Q_=e,Q_}var J_,w4;function Ife(){if(w4)return J_;w4=1;var t=ex();function e(r){return t(this,r).has(r)}return J_=e,J_}var e2,b4;function Rfe(){if(b4)return e2;b4=1;var t=ex();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return e2=e,e2}var t2,_4;function jN(){if(_4)return t2;_4=1;var t=Nfe(),e=Pfe(),r=jfe(),n=Ife(),i=Rfe();function a(s){var l=-1,d=s==null?0:s.length;for(this.clear();++l<d;){var h=s[l];this.set(h[0],h[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,t2=a,t2}var r2,S4;function ZV(){if(S4)return r2;S4=1;var t=jN(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,l=i?i.apply(this,s):s[0],d=a.cache;if(d.has(l))return d.get(l);var h=n.apply(this,s);return a.cache=d.set(l,h)||d,h};return a.cache=new(r.Cache||t),a}return r.Cache=t,r2=r,r2}var n2,E4;function Mfe(){if(E4)return n2;E4=1;var t=ZV(),e=500;function r(n){var i=t(n,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return n2=r,n2}var i2,C4;function Dfe(){if(C4)return i2;C4=1;var t=Mfe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,l,d,h){a.push(d?h.replace(r,"$1"):l||s)}),a});return i2=n,i2}var a2,A4;function IN(){if(A4)return a2;A4=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return a2=t,a2}var s2,O4;function Lfe(){if(O4)return s2;O4=1;var t=gg(),e=IN(),r=ga(),n=hh(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(l){if(typeof l=="string")return l;if(r(l))return e(l,s)+"";if(n(l))return a?a.call(l):"";var d=l+"";return d=="0"&&1/l==-1/0?"-0":d}return s2=s,s2}var o2,T4;function QV(){if(T4)return o2;T4=1;var t=Lfe();function e(r){return r==null?"":t(r)}return o2=e,o2}var l2,N4;function JV(){if(N4)return l2;N4=1;var t=ga(),e=TN(),r=Dfe(),n=QV();function i(a,s){return t(a)?a:e(a,s)?[a]:r(n(a))}return l2=i,l2}var c2,k4;function tx(){if(k4)return c2;k4=1;var t=hh();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return c2=e,c2}var u2,P4;function RN(){if(P4)return u2;P4=1;var t=JV(),e=tx();function r(n,i){i=t(i,n);for(var a=0,s=i.length;n!=null&&a<s;)n=n[e(i[a++])];return a&&a==s?n:void 0}return u2=r,u2}var d2,j4;function eW(){if(j4)return d2;j4=1;var t=RN();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return d2=e,d2}var Bfe=eW();const $a=Cr(Bfe);var f2,I4;function Ffe(){if(I4)return f2;I4=1;function t(e){return e==null}return f2=t,f2}var $fe=Ffe();const Vt=Cr($fe);var h2,R4;function Ufe(){if(R4)return h2;R4=1;var t=ul(),e=ga(),r=dl(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return h2=i,h2}var Vfe=Ufe();const Du=Cr(Vfe);var Wfe=NN();const Dt=Cr(Wfe);var qfe=_c();const ph=Cr(qfe);var p2={exports:{}},Lr={};var M4;function zfe(){if(M4)return Lr;M4=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),O;O=Symbol.for("react.module.reference");function E(C){if(typeof C=="object"&&C!==null){var j=C.$$typeof;switch(j){case t:switch(C=C.type,C){case r:case i:case n:case h:case g:return C;default:switch(C=C&&C.$$typeof,C){case l:case s:case d:case b:case v:case a:return C;default:return j}}case e:return j}}}return Lr.ContextConsumer=s,Lr.ContextProvider=a,Lr.Element=t,Lr.ForwardRef=d,Lr.Fragment=r,Lr.Lazy=b,Lr.Memo=v,Lr.Portal=e,Lr.Profiler=i,Lr.StrictMode=n,Lr.Suspense=h,Lr.SuspenseList=g,Lr.isAsyncMode=function(){return!1},Lr.isConcurrentMode=function(){return!1},Lr.isContextConsumer=function(C){return E(C)===s},Lr.isContextProvider=function(C){return E(C)===a},Lr.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===t},Lr.isForwardRef=function(C){return E(C)===d},Lr.isFragment=function(C){return E(C)===r},Lr.isLazy=function(C){return E(C)===b},Lr.isMemo=function(C){return E(C)===v},Lr.isPortal=function(C){return E(C)===e},Lr.isProfiler=function(C){return E(C)===i},Lr.isStrictMode=function(C){return E(C)===n},Lr.isSuspense=function(C){return E(C)===h},Lr.isSuspenseList=function(C){return E(C)===g},Lr.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===r||C===i||C===n||C===h||C===g||C===S||typeof C=="object"&&C!==null&&(C.$$typeof===b||C.$$typeof===v||C.$$typeof===a||C.$$typeof===s||C.$$typeof===d||C.$$typeof===O||C.getModuleId!==void 0)},Lr.typeOf=E,Lr}var D4;function Hfe(){return D4||(D4=1,p2.exports=zfe()),p2.exports}var Gfe=Hfe(),m2,L4;function tW(){if(L4)return m2;L4=1;var t=ul(),e=dl(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return m2=n,m2}var g2,B4;function Kfe(){if(B4)return g2;B4=1;var t=tW();function e(r){return t(r)&&r!=+r}return g2=e,g2}var Yfe=Kfe();const mh=Cr(Yfe);var Xfe=tW();const Zfe=Cr(Xfe);var Hi=function(e){return e===0?0:e>0?1:-1},gu=function(e){return Du(e)&&e.indexOf("%")===e.length-1},Je=function(e){return Zfe(e)&&!mh(e)},Qfe=function(e){return Vt(e)},ai=function(e){return Je(e)||Du(e)},Jfe=0,Ju=function(e){var r=++Jfe;return"".concat(e||"").concat(r)},Gi=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Je(e)&&!Du(e))return n;var a;if(gu(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return mh(a)&&(a=n),i&&a>r&&(a=r),a},Yl=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},ehe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},ii=function(e,r){return Je(e)&&Je(r)?function(n){return e+n*(r-e)}:function(){return r}};function cy(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):$a(n,e))===r})}var the=function(e,r){return Je(e)&&Je(r)?e-r:Du(e)&&Du(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function cf(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function mA(t){"@babel/helpers - typeof";return mA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mA(t)}var rhe=["viewBox","children"],nhe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],F4=["points","pathLength"],v2={svg:rhe,polygon:F4,polyline:F4},MN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],uy=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(N.isValidElement(e)&&(n=e.props),!ph(n))return null;var i={};return Object.keys(n).forEach(function(a){MN.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},ihe=function(e,r,n){return function(i){return e(r,n,i),null}},Lu=function(e,r,n){if(!ph(e)||mA(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];MN.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=ihe(s,r,n))}),i},ahe=["children"],she=["children"];function $4(t,e){if(t==null)return{};var r=ohe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ohe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gA(t){"@babel/helpers - typeof";return gA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gA(t)}var U4={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Qo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},V4=null,y2=null,DN=function t(e){if(e===V4&&Array.isArray(y2))return y2;var r=[];return N.Children.forEach(e,function(n){Vt(n)||(Gfe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),y2=r,V4=e,r};function Ua(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Qo(i)}):n=[Qo(e)],DN(t).forEach(function(i){var a=$a(i,"type.displayName")||$a(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function ka(t,e){var r=Ua(t,e);return r&&r[0]}var W4=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Je(n)||n<=0||!Je(i)||i<=0)},lhe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],che=function(e){return e&&e.type&&Du(e.type)&&lhe.indexOf(e.type)>=0},rW=function(e){return e&&gA(e)==="object"&&"clipDot"in e},uhe=function(e,r,n,i){var a,s=(a=v2?.[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Dt(e)&&(i&&s.includes(r)||nhe.includes(r))||n&&MN.includes(r)},At=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(N.isValidElement(e)&&(i=e.props),!ph(i))return null;var a={};return Object.keys(i).forEach(function(s){var l;uhe((l=i)===null||l===void 0?void 0:l[s],s,r,n)&&(a[s]=i[s])}),a},vA=function t(e,r){if(e===r)return!0;var n=N.Children.count(e);if(n!==N.Children.count(r))return!1;if(n===0)return!0;if(n===1)return q4(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!q4(a,s))return!1}return!0},q4=function(e,r){if(Vt(e)&&Vt(r))return!0;if(!Vt(e)&&!Vt(r)){var n=e.props||{},i=n.children,a=$4(n,ahe),s=r.props||{},l=s.children,d=$4(s,she);return i&&l?cf(a,d)&&vA(i,l):!i&&!l?cf(a,d):!1}return!1},z4=function(e,r){var n=[],i={};return DN(e).forEach(function(a,s){if(che(a))n.push(a);else if(a){var l=Qo(a.type),d=r[l]||{},h=d.handler,g=d.once;if(h&&(!g||!i[l])){var v=h(a,l,s);n.push(v),i[l]=!0}}}),n},dhe=function(e){var r=e&&e.type;return r&&U4[r]?U4[r]:null},fhe=function(e,r){return DN(r).indexOf(e)},hhe=["children","width","height","viewBox","className","style","title","desc"];function yA(){return yA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yA.apply(this,arguments)}function phe(t,e){if(t==null)return{};var r=mhe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xA(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,l=t.title,d=t.desc,h=phe(t,hhe),g=i||{width:r,height:n,x:0,y:0},v=zt("recharts-surface",a);return te.createElement("svg",yA({},At(h,!0,"svg"),{className:v,width:r,height:n,style:s,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height)}),te.createElement("title",null,l),te.createElement("desc",null,d),e)}var ghe=["children","className"];function wA(){return wA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wA.apply(this,arguments)}function vhe(t,e){if(t==null)return{};var r=yhe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var fr=te.forwardRef(function(t,e){var r=t.children,n=t.className,i=vhe(t,ghe),a=zt("recharts-layer",n);return te.createElement("g",wA({className:a},At(i,!0),{ref:e}),r)}),Us=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},x2,H4;function xhe(){if(H4)return x2;H4=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+r];return s}return x2=t,x2}var w2,G4;function whe(){if(G4)return w2;G4=1;var t=xhe();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return w2=e,w2}var b2,K4;function nW(){if(K4)return b2;K4=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+t+i+a+"]");function d(h){return l.test(h)}return b2=d,b2}var _2,Y4;function bhe(){if(Y4)return _2;Y4=1;function t(e){return e.split("")}return _2=t,_2}var S2,X4;function _he(){if(X4)return S2;X4=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="["+t+"]",l="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",h="(?:"+l+"|"+d+")",g="[^"+t+"]",v="(?:\\ud83c[\\udde6-\\uddff]){2}",b="[\\ud800-\\udbff][\\udc00-\\udfff]",S="\\u200d",O=h+"?",E="["+a+"]?",C="(?:"+S+"(?:"+[g,v,b].join("|")+")"+E+O+")*",j=E+O+C,P="(?:"+[g+l+"?",l,v,b,s].join("|")+")",I=RegExp(d+"(?="+d+")|"+P+j,"g");function F(R){return R.match(I)||[]}return S2=F,S2}var E2,Z4;function She(){if(Z4)return E2;Z4=1;var t=bhe(),e=nW(),r=_he();function n(i){return e(i)?r(i):t(i)}return E2=n,E2}var C2,Q4;function Ehe(){if(Q4)return C2;Q4=1;var t=whe(),e=nW(),r=She(),n=QV();function i(a){return function(s){s=n(s);var l=e(s)?r(s):void 0,d=l?l[0]:s.charAt(0),h=l?t(l,1).join(""):s.slice(1);return d[a]()+h}}return C2=i,C2}var A2,J4;function Che(){if(J4)return A2;J4=1;var t=Ehe(),e=t("toUpperCase");return A2=e,A2}var Ahe=Che();const rx=Cr(Ahe);function rn(t){return function(){return t}}const iW=Math.cos,dy=Math.sin,Ks=Math.sqrt,fy=Math.PI,nx=2*fy,bA=Math.PI,_A=2*bA,su=1e-6,Ohe=_A-su;function aW(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function The(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return aW;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Nhe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?aW:The(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,d=n-e,h=i-r,g=s-e,v=l-r,b=g*g+v*v;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(b>su)if(!(Math.abs(v*d-h*g)>su)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let S=n-s,O=i-l,E=d*d+h*h,C=S*S+O*O,j=Math.sqrt(E),P=Math.sqrt(b),I=a*Math.tan((bA-Math.acos((E+b-C)/(2*j*P)))/2),F=I/P,R=I/j;Math.abs(F-1)>su&&this._append`L${e+F*g},${r+F*v}`,this._append`A${a},${a},0,0,${+(v*S>g*O)},${this._x1=e+R*d},${this._y1=r+R*h}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),d=n*Math.sin(i),h=e+l,g=r+d,v=1^s,b=s?i-a:a-i;this._x1===null?this._append`M${h},${g}`:(Math.abs(this._x1-h)>su||Math.abs(this._y1-g)>su)&&this._append`L${h},${g}`,n&&(b<0&&(b=b%_A+_A),b>Ohe?this._append`A${n},${n},0,1,${v},${e-l},${r-d}A${n},${n},0,1,${v},${this._x1=h},${this._y1=g}`:b>su&&this._append`A${n},${n},0,${+(b>=bA)},${v},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function LN(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Nhe(e)}function BN(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function sW(t){this._context=t}sW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ix(t){return new sW(t)}function oW(t){return t[0]}function lW(t){return t[1]}function cW(t,e){var r=rn(!0),n=null,i=ix,a=null,s=LN(l);t=typeof t=="function"?t:t===void 0?oW:rn(t),e=typeof e=="function"?e:e===void 0?lW:rn(e);function l(d){var h,g=(d=BN(d)).length,v,b=!1,S;for(n==null&&(a=i(S=s())),h=0;h<=g;++h)!(h<g&&r(v=d[h],h,d))===b&&((b=!b)?a.lineStart():a.lineEnd()),b&&a.point(+t(v,h,d),+e(v,h,d));if(S)return a=null,S+""||null}return l.x=function(d){return arguments.length?(t=typeof d=="function"?d:rn(+d),l):t},l.y=function(d){return arguments.length?(e=typeof d=="function"?d:rn(+d),l):e},l.defined=function(d){return arguments.length?(r=typeof d=="function"?d:rn(!!d),l):r},l.curve=function(d){return arguments.length?(i=d,n!=null&&(a=i(n)),l):i},l.context=function(d){return arguments.length?(d==null?n=a=null:a=i(n=d),l):n},l}function J0(t,e,r){var n=null,i=rn(!0),a=null,s=ix,l=null,d=LN(h);t=typeof t=="function"?t:t===void 0?oW:rn(+t),e=typeof e=="function"?e:rn(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?lW:rn(+r);function h(v){var b,S,O,E=(v=BN(v)).length,C,j=!1,P,I=new Array(E),F=new Array(E);for(a==null&&(l=s(P=d())),b=0;b<=E;++b){if(!(b<E&&i(C=v[b],b,v))===j)if(j=!j)S=b,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),O=b-1;O>=S;--O)l.point(I[O],F[O]);l.lineEnd(),l.areaEnd()}j&&(I[b]=+t(C,b,v),F[b]=+e(C,b,v),l.point(n?+n(C,b,v):I[b],r?+r(C,b,v):F[b]))}if(P)return l=null,P+""||null}function g(){return cW().defined(i).curve(s).context(a)}return h.x=function(v){return arguments.length?(t=typeof v=="function"?v:rn(+v),n=null,h):t},h.x0=function(v){return arguments.length?(t=typeof v=="function"?v:rn(+v),h):t},h.x1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:rn(+v),h):n},h.y=function(v){return arguments.length?(e=typeof v=="function"?v:rn(+v),r=null,h):e},h.y0=function(v){return arguments.length?(e=typeof v=="function"?v:rn(+v),h):e},h.y1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:rn(+v),h):r},h.lineX0=h.lineY0=function(){return g().x(t).y(e)},h.lineY1=function(){return g().x(t).y(r)},h.lineX1=function(){return g().x(n).y(e)},h.defined=function(v){return arguments.length?(i=typeof v=="function"?v:rn(!!v),h):i},h.curve=function(v){return arguments.length?(s=v,a!=null&&(l=s(a)),h):s},h.context=function(v){return arguments.length?(v==null?a=l=null:l=s(a=v),h):a},h}class uW{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function khe(t){return new uW(t,!0)}function Phe(t){return new uW(t,!1)}const FN={draw(t,e){const r=Ks(e/fy);t.moveTo(r,0),t.arc(0,0,r,0,nx)}},jhe={draw(t,e){const r=Ks(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},dW=Ks(1/3),Ihe=dW*2,Rhe={draw(t,e){const r=Ks(e/Ihe),n=r*dW;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Mhe={draw(t,e){const r=Ks(e),n=-r/2;t.rect(n,n,r,r)}},Dhe=.8908130915292852,fW=dy(fy/10)/dy(7*fy/10),Lhe=dy(nx/10)*fW,Bhe=-iW(nx/10)*fW,Fhe={draw(t,e){const r=Ks(e*Dhe),n=Lhe*r,i=Bhe*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=nx*a/5,l=iW(s),d=dy(s);t.lineTo(d*r,-l*r),t.lineTo(l*n-d*i,d*n+l*i)}t.closePath()}},O2=Ks(3),$he={draw(t,e){const r=-Ks(e/(O2*3));t.moveTo(0,r*2),t.lineTo(-O2*r,-r),t.lineTo(O2*r,-r),t.closePath()}},ts=-.5,rs=Ks(3)/2,SA=1/Ks(12),Uhe=(SA/2+1)*3,Vhe={draw(t,e){const r=Ks(e/Uhe),n=r/2,i=r*SA,a=n,s=r*SA+r,l=-a,d=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(l,d),t.lineTo(ts*n-rs*i,rs*n+ts*i),t.lineTo(ts*a-rs*s,rs*a+ts*s),t.lineTo(ts*l-rs*d,rs*l+ts*d),t.lineTo(ts*n+rs*i,ts*i-rs*n),t.lineTo(ts*a+rs*s,ts*s-rs*a),t.lineTo(ts*l+rs*d,ts*d-rs*l),t.closePath()}};function Whe(t,e){let r=null,n=LN(i);t=typeof t=="function"?t:rn(t||FN),e=typeof e=="function"?e:rn(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:rn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:rn(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function hy(){}function py(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function hW(t){this._context=t}hW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:py(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:py(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function qhe(t){return new hW(t)}function pW(t){this._context=t}pW.prototype={areaStart:hy,areaEnd:hy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:py(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zhe(t){return new pW(t)}function mW(t){this._context=t}mW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:py(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Hhe(t){return new mW(t)}function gW(t){this._context=t}gW.prototype={areaStart:hy,areaEnd:hy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Ghe(t){return new gW(t)}function eM(t){return t<0?-1:1}function tM(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),l=(a*i+s*n)/(n+i);return(eM(a)+eM(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function rM(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function T2(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,l=(a-n)/3;t._context.bezierCurveTo(n+l,i+l*e,a-l,s-l*r,a,s)}function my(t){this._context=t}my.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:T2(this,this._t0,rM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,T2(this,rM(this,r=tM(this,t,e)),r);break;default:T2(this,this._t0,r=tM(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function vW(t){this._context=new yW(t)}(vW.prototype=Object.create(my.prototype)).point=function(t,e){my.prototype.point.call(this,e,t)};function yW(t){this._context=t}yW.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function Khe(t){return new my(t)}function Yhe(t){return new vW(t)}function xW(t){this._context=t}xW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=nM(t),i=nM(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function nM(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Xhe(t){return new xW(t)}function ax(t,e){this._context=t,this._t=e}ax.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Zhe(t){return new ax(t,.5)}function Qhe(t){return new ax(t,0)}function Jhe(t){return new ax(t,1)}function jf(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,l=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function EA(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function epe(t,e){return t[e]}function tpe(t){const e=[];return e.key=t,e}function rpe(){var t=rn([]),e=EA,r=jf,n=epe;function i(a){var s=Array.from(t.apply(this,arguments),tpe),l,d=s.length,h=-1,g;for(const v of a)for(l=0,++h;l<d;++l)(s[l][h]=[0,+n(v,s[l].key,h,a)]).data=v;for(l=0,g=BN(e(s));l<d;++l)s[g[l]].index=l;return r(s,g),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:rn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:rn(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?EA:typeof a=="function"?a:rn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??jf,i):r},i}function npe(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}jf(t,e)}}function ipe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,l=0;s<i;++s)l+=t[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}jf(t,e)}}function ape(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var l=0,d=0,h=0;l<s;++l){for(var g=t[e[l]],v=g[n][1]||0,b=g[n-1][1]||0,S=(v-b)/2,O=0;O<l;++O){var E=t[e[O]],C=E[n][1]||0,j=E[n-1][1]||0;S+=C-j}d+=v,h+=S*v}i[n-1][1]+=i[n-1][0]=r,d&&(r-=h/d)}i[n-1][1]+=i[n-1][0]=r,jf(t,e)}}function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(t)}var spe=["type","size","sizeType"];function CA(){return CA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CA.apply(this,arguments)}function iM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(r),!0).forEach(function(n){ope(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ope(t,e,r){return e=lpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lpe(t){var e=cpe(t,"string");return um(e)=="symbol"?e:e+""}function cpe(t,e){if(um(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function upe(t,e){if(t==null)return{};var r=dpe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var wW={symbolCircle:FN,symbolCross:jhe,symbolDiamond:Rhe,symbolSquare:Mhe,symbolStar:Fhe,symbolTriangle:$he,symbolWye:Vhe},fpe=Math.PI/180,hpe=function(e){var r="symbol".concat(rx(e));return wW[r]||FN},ppe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*fpe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},mpe=function(e,r){wW["symbol".concat(rx(e))]=r},$N=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,l=s===void 0?"area":s,d=upe(e,spe),h=aM(aM({},d),{},{type:n,size:a,sizeType:l}),g=function(){var C=hpe(n),j=Whe().type(C).size(ppe(a,l,n));return j()},v=h.className,b=h.cx,S=h.cy,O=At(h,!0);return b===+b&&S===+S&&a===+a?te.createElement("path",CA({},O,{className:zt("recharts-symbols",v),transform:"translate(".concat(b,", ").concat(S,")"),d:g()})):null};$N.registerSymbol=mpe;function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function AA(){return AA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},AA.apply(this,arguments)}function sM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gpe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sM(Object(r),!0).forEach(function(n){dm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ype(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_W(n.key),n)}}function xpe(t,e,r){return e&&ype(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wpe(t,e,r){return e=gy(e),bpe(t,bW()?Reflect.construct(e,r||[],gy(t).constructor):e.apply(t,r))}function bpe(t,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _pe(t)}function _pe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bW=function(){return!!t})()}function gy(t){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gy(t)}function Spe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OA(t,e)}function OA(t,e){return OA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},OA(t,e)}function dm(t,e,r){return e=_W(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _W(t){var e=Epe(t,"string");return If(e)=="symbol"?e:e+""}function Epe(t,e){if(If(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ns=32,UN=(function(t){function e(){return vpe(this,e),wpe(this,e,arguments)}return Spe(e,t),xpe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=ns/2,s=ns/6,l=ns/3,d=n.inactive?i:n.color;if(n.type==="plainline")return te.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:ns,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return te.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(ns,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return te.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(ns/8,"h").concat(ns,"v").concat(ns*3/4,"h").concat(-ns,"z"),className:"recharts-legend-icon"});if(te.isValidElement(n.legendIcon)){var h=gpe({},n);return delete h.legendIcon,te.cloneElement(n.legendIcon,h)}return te.createElement($N,{fill:d,cx:a,cy:a,size:ns,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,l=i.layout,d=i.formatter,h=i.inactiveColor,g={x:0,y:0,width:ns,height:ns},v={display:l==="horizontal"?"inline-block":"block",marginRight:10},b={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(S,O){var E=S.formatter||d,C=zt(dm(dm({"recharts-legend-item":!0},"legend-item-".concat(O),!0),"inactive",S.inactive));if(S.type==="none")return null;var j=Dt(S.value)?null:S.value;Us(!Dt(S.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var P=S.inactive?h:S.color;return te.createElement("li",AA({className:C,style:v,key:"legend-item-".concat(O)},Lu(n.props,S,O)),te.createElement(xA,{width:s,height:s,viewBox:g,style:b},n.renderIcon(S)),te.createElement("span",{className:"recharts-legend-item-text",style:{color:P}},E?E(j,S,O):j))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return te.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(N.PureComponent);dm(UN,"displayName","Legend");dm(UN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var N2,oM;function Cpe(){if(oM)return N2;oM=1;var t=J1();function e(){this.__data__=new t,this.size=0}return N2=e,N2}var k2,lM;function Ape(){if(lM)return k2;lM=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return k2=t,k2}var P2,cM;function Ope(){if(cM)return P2;cM=1;function t(e){return this.__data__.get(e)}return P2=t,P2}var j2,uM;function Tpe(){if(uM)return j2;uM=1;function t(e){return this.__data__.has(e)}return j2=t,j2}var I2,dM;function Npe(){if(dM)return I2;dM=1;var t=J1(),e=PN(),r=jN(),n=200;function i(a,s){var l=this.__data__;if(l instanceof t){var d=l.__data__;if(!e||d.length<n-1)return d.push([a,s]),this.size=++l.size,this;l=this.__data__=new r(d)}return l.set(a,s),this.size=l.size,this}return I2=i,I2}var R2,fM;function SW(){if(fM)return R2;fM=1;var t=J1(),e=Cpe(),r=Ape(),n=Ope(),i=Tpe(),a=Npe();function s(l){var d=this.__data__=new t(l);this.size=d.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,R2=s,R2}var M2,hM;function kpe(){if(hM)return M2;hM=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return M2=e,M2}var D2,pM;function Ppe(){if(pM)return D2;pM=1;function t(e){return this.__data__.has(e)}return D2=t,D2}var L2,mM;function EW(){if(mM)return L2;mM=1;var t=jN(),e=kpe(),r=Ppe();function n(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,L2=n,L2}var B2,gM;function CW(){if(gM)return B2;gM=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return B2=t,B2}var F2,vM;function AW(){if(vM)return F2;vM=1;function t(e,r){return e.has(r)}return F2=t,F2}var $2,yM;function OW(){if(yM)return $2;yM=1;var t=EW(),e=CW(),r=AW(),n=1,i=2;function a(s,l,d,h,g,v){var b=d&n,S=s.length,O=l.length;if(S!=O&&!(b&&O>S))return!1;var E=v.get(s),C=v.get(l);if(E&&C)return E==l&&C==s;var j=-1,P=!0,I=d&i?new t:void 0;for(v.set(s,l),v.set(l,s);++j<S;){var F=s[j],R=l[j];if(h)var M=b?h(R,F,j,l,s,v):h(F,R,j,s,l,v);if(M!==void 0){if(M)continue;P=!1;break}if(I){if(!e(l,function(B,q){if(!r(I,q)&&(F===B||g(F,B,d,h,v)))return I.push(q)})){P=!1;break}}else if(!(F===R||g(F,R,d,h,v))){P=!1;break}}return v.delete(s),v.delete(l),P}return $2=a,$2}var U2,xM;function jpe(){if(xM)return U2;xM=1;var t=So(),e=t.Uint8Array;return U2=e,U2}var V2,wM;function Ipe(){if(wM)return V2;wM=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return V2=t,V2}var W2,bM;function VN(){if(bM)return W2;bM=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return W2=t,W2}var q2,_M;function Rpe(){if(_M)return q2;_M=1;var t=gg(),e=jpe(),r=kN(),n=OW(),i=Ipe(),a=VN(),s=1,l=2,d="[object Boolean]",h="[object Date]",g="[object Error]",v="[object Map]",b="[object Number]",S="[object RegExp]",O="[object Set]",E="[object String]",C="[object Symbol]",j="[object ArrayBuffer]",P="[object DataView]",I=t?t.prototype:void 0,F=I?I.valueOf:void 0;function R(M,B,q,U,z,G,W){switch(q){case P:if(M.byteLength!=B.byteLength||M.byteOffset!=B.byteOffset)return!1;M=M.buffer,B=B.buffer;case j:return!(M.byteLength!=B.byteLength||!G(new e(M),new e(B)));case d:case h:case b:return r(+M,+B);case g:return M.name==B.name&&M.message==B.message;case S:case E:return M==B+"";case v:var H=i;case O:var Q=U&s;if(H||(H=a),M.size!=B.size&&!Q)return!1;var X=W.get(M);if(X)return X==B;U|=l,W.set(M,B);var se=n(H(M),H(B),U,z,G,W);return W.delete(M),se;case C:if(F)return F.call(M)==F.call(B)}return!1}return q2=R,q2}var z2,SM;function TW(){if(SM)return z2;SM=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return z2=t,z2}var H2,EM;function Mpe(){if(EM)return H2;EM=1;var t=TW(),e=ga();function r(n,i,a){var s=i(n);return e(n)?s:t(s,a(n))}return H2=r,H2}var G2,CM;function Dpe(){if(CM)return G2;CM=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,s=[];++n<i;){var l=e[n];r(l,n,e)&&(s[a++]=l)}return s}return G2=t,G2}var K2,AM;function Lpe(){if(AM)return K2;AM=1;function t(){return[]}return K2=t,K2}var Y2,OM;function Bpe(){if(OM)return Y2;OM=1;var t=Dpe(),e=Lpe(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(l){return n.call(s,l)}))}:e;return Y2=a,Y2}var X2,TM;function Fpe(){if(TM)return X2;TM=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return X2=t,X2}var Z2,NM;function $pe(){if(NM)return Z2;NM=1;var t=ul(),e=dl(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return Z2=n,Z2}var Q2,kM;function WN(){if(kM)return Q2;kM=1;var t=$pe(),e=dl(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return Q2=a,Q2}var Tp={exports:{}},J2,PM;function Upe(){if(PM)return J2;PM=1;function t(){return!1}return J2=t,J2}Tp.exports;var jM;function NW(){return jM||(jM=1,(function(t,e){var r=So(),n=Upe(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,l=s?r.Buffer:void 0,d=l?l.isBuffer:void 0,h=d||n;t.exports=h})(Tp,Tp.exports)),Tp.exports}var eS,IM;function qN(){if(IM)return eS;IM=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return eS=r,eS}var tS,RM;function zN(){if(RM)return tS;RM=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return tS=e,tS}var rS,MM;function Vpe(){if(MM)return rS;MM=1;var t=ul(),e=zN(),r=dl(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",l="[object Error]",d="[object Function]",h="[object Map]",g="[object Number]",v="[object Object]",b="[object RegExp]",S="[object Set]",O="[object String]",E="[object WeakMap]",C="[object ArrayBuffer]",j="[object DataView]",P="[object Float32Array]",I="[object Float64Array]",F="[object Int8Array]",R="[object Int16Array]",M="[object Int32Array]",B="[object Uint8Array]",q="[object Uint8ClampedArray]",U="[object Uint16Array]",z="[object Uint32Array]",G={};G[P]=G[I]=G[F]=G[R]=G[M]=G[B]=G[q]=G[U]=G[z]=!0,G[n]=G[i]=G[C]=G[a]=G[j]=G[s]=G[l]=G[d]=G[h]=G[g]=G[v]=G[b]=G[S]=G[O]=G[E]=!1;function W(H){return r(H)&&e(H.length)&&!!G[t(H)]}return rS=W,rS}var nS,DM;function kW(){if(DM)return nS;DM=1;function t(e){return function(r){return e(r)}}return nS=t,nS}var Np={exports:{}};Np.exports;var LM;function Wpe(){return LM||(LM=1,(function(t,e){var r=YV(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,l=(function(){try{var d=i&&i.require&&i.require("util").types;return d||s&&s.binding&&s.binding("util")}catch{}})();t.exports=l})(Np,Np.exports)),Np.exports}var iS,BM;function PW(){if(BM)return iS;BM=1;var t=Vpe(),e=kW(),r=Wpe(),n=r&&r.isTypedArray,i=n?e(n):t;return iS=i,iS}var aS,FM;function qpe(){if(FM)return aS;FM=1;var t=Fpe(),e=WN(),r=ga(),n=NW(),i=qN(),a=PW(),s=Object.prototype,l=s.hasOwnProperty;function d(h,g){var v=r(h),b=!v&&e(h),S=!v&&!b&&n(h),O=!v&&!b&&!S&&a(h),E=v||b||S||O,C=E?t(h.length,String):[],j=C.length;for(var P in h)(g||l.call(h,P))&&!(E&&(P=="length"||S&&(P=="offset"||P=="parent")||O&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||i(P,j)))&&C.push(P);return C}return aS=d,aS}var sS,$M;function zpe(){if($M)return sS;$M=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return sS=e,sS}var oS,UM;function jW(){if(UM)return oS;UM=1;function t(e,r){return function(n){return e(r(n))}}return oS=t,oS}var lS,VM;function Hpe(){if(VM)return lS;VM=1;var t=jW(),e=t(Object.keys,Object);return lS=e,lS}var cS,WM;function Gpe(){if(WM)return cS;WM=1;var t=zpe(),e=Hpe(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var l in Object(a))n.call(a,l)&&l!="constructor"&&s.push(l);return s}return cS=i,cS}var uS,qM;function vg(){if(qM)return uS;qM=1;var t=NN(),e=zN();function r(n){return n!=null&&e(n.length)&&!t(n)}return uS=r,uS}var dS,zM;function sx(){if(zM)return dS;zM=1;var t=qpe(),e=Gpe(),r=vg();function n(i){return r(i)?t(i):e(i)}return dS=n,dS}var fS,HM;function Kpe(){if(HM)return fS;HM=1;var t=Mpe(),e=Bpe(),r=sx();function n(i){return t(i,r,e)}return fS=n,fS}var hS,GM;function Ype(){if(GM)return hS;GM=1;var t=Kpe(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,s,l,d,h,g){var v=l&e,b=t(a),S=b.length,O=t(s),E=O.length;if(S!=E&&!v)return!1;for(var C=S;C--;){var j=b[C];if(!(v?j in s:n.call(s,j)))return!1}var P=g.get(a),I=g.get(s);if(P&&I)return P==s&&I==a;var F=!0;g.set(a,s),g.set(s,a);for(var R=v;++C<S;){j=b[C];var M=a[j],B=s[j];if(d)var q=v?d(B,M,j,s,a,g):d(M,B,j,a,s,g);if(!(q===void 0?M===B||h(M,B,l,d,g):q)){F=!1;break}R||(R=j=="constructor")}if(F&&!R){var U=a.constructor,z=s.constructor;U!=z&&"constructor"in a&&"constructor"in s&&!(typeof U=="function"&&U instanceof U&&typeof z=="function"&&z instanceof z)&&(F=!1)}return g.delete(a),g.delete(s),F}return hS=i,hS}var pS,KM;function Xpe(){if(KM)return pS;KM=1;var t=Qu(),e=So(),r=t(e,"DataView");return pS=r,pS}var mS,YM;function Zpe(){if(YM)return mS;YM=1;var t=Qu(),e=So(),r=t(e,"Promise");return mS=r,mS}var gS,XM;function IW(){if(XM)return gS;XM=1;var t=Qu(),e=So(),r=t(e,"Set");return gS=r,gS}var vS,ZM;function Qpe(){if(ZM)return vS;ZM=1;var t=Qu(),e=So(),r=t(e,"WeakMap");return vS=r,vS}var yS,QM;function Jpe(){if(QM)return yS;QM=1;var t=Xpe(),e=PN(),r=Zpe(),n=IW(),i=Qpe(),a=ul(),s=XV(),l="[object Map]",d="[object Object]",h="[object Promise]",g="[object Set]",v="[object WeakMap]",b="[object DataView]",S=s(t),O=s(e),E=s(r),C=s(n),j=s(i),P=a;return(t&&P(new t(new ArrayBuffer(1)))!=b||e&&P(new e)!=l||r&&P(r.resolve())!=h||n&&P(new n)!=g||i&&P(new i)!=v)&&(P=function(I){var F=a(I),R=F==d?I.constructor:void 0,M=R?s(R):"";if(M)switch(M){case S:return b;case O:return l;case E:return h;case C:return g;case j:return v}return F}),yS=P,yS}var xS,JM;function eme(){if(JM)return xS;JM=1;var t=SW(),e=OW(),r=Rpe(),n=Ype(),i=Jpe(),a=ga(),s=NW(),l=PW(),d=1,h="[object Arguments]",g="[object Array]",v="[object Object]",b=Object.prototype,S=b.hasOwnProperty;function O(E,C,j,P,I,F){var R=a(E),M=a(C),B=R?g:i(E),q=M?g:i(C);B=B==h?v:B,q=q==h?v:q;var U=B==v,z=q==v,G=B==q;if(G&&s(E)){if(!s(C))return!1;R=!0,U=!1}if(G&&!U)return F||(F=new t),R||l(E)?e(E,C,j,P,I,F):r(E,C,B,j,P,I,F);if(!(j&d)){var W=U&&S.call(E,"__wrapped__"),H=z&&S.call(C,"__wrapped__");if(W||H){var Q=W?E.value():E,X=H?C.value():C;return F||(F=new t),I(Q,X,j,P,F)}}return G?(F||(F=new t),n(E,C,j,P,I,F)):!1}return xS=O,xS}var wS,e8;function HN(){if(e8)return wS;e8=1;var t=eme(),e=dl();function r(n,i,a,s,l){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,s,r,l)}return wS=r,wS}var bS,t8;function tme(){if(t8)return bS;t8=1;var t=SW(),e=HN(),r=1,n=2;function i(a,s,l,d){var h=l.length,g=h,v=!d;if(a==null)return!g;for(a=Object(a);h--;){var b=l[h];if(v&&b[2]?b[1]!==a[b[0]]:!(b[0]in a))return!1}for(;++h<g;){b=l[h];var S=b[0],O=a[S],E=b[1];if(v&&b[2]){if(O===void 0&&!(S in a))return!1}else{var C=new t;if(d)var j=d(O,E,S,a,s,C);if(!(j===void 0?e(E,O,r|n,d,C):j))return!1}}return!0}return bS=i,bS}var _S,r8;function RW(){if(r8)return _S;r8=1;var t=_c();function e(r){return r===r&&!t(r)}return _S=e,_S}var SS,n8;function rme(){if(n8)return SS;n8=1;var t=RW(),e=sx();function r(n){for(var i=e(n),a=i.length;a--;){var s=i[a],l=n[s];i[a]=[s,l,t(l)]}return i}return SS=r,SS}var ES,i8;function MW(){if(i8)return ES;i8=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return ES=t,ES}var CS,a8;function nme(){if(a8)return CS;a8=1;var t=tme(),e=rme(),r=MW();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return CS=n,CS}var AS,s8;function ime(){if(s8)return AS;s8=1;function t(e,r){return e!=null&&r in Object(e)}return AS=t,AS}var OS,o8;function ame(){if(o8)return OS;o8=1;var t=JV(),e=WN(),r=ga(),n=qN(),i=zN(),a=tx();function s(l,d,h){d=t(d,l);for(var g=-1,v=d.length,b=!1;++g<v;){var S=a(d[g]);if(!(b=l!=null&&h(l,S)))break;l=l[S]}return b||++g!=v?b:(v=l==null?0:l.length,!!v&&i(v)&&n(S,v)&&(r(l)||e(l)))}return OS=s,OS}var TS,l8;function sme(){if(l8)return TS;l8=1;var t=ime(),e=ame();function r(n,i){return n!=null&&e(n,i,t)}return TS=r,TS}var NS,c8;function ome(){if(c8)return NS;c8=1;var t=HN(),e=eW(),r=sme(),n=TN(),i=RW(),a=MW(),s=tx(),l=1,d=2;function h(g,v){return n(g)&&i(v)?a(s(g),v):function(b){var S=e(b,g);return S===void 0&&S===v?r(b,g):t(v,S,l|d)}}return NS=h,NS}var kS,u8;function gh(){if(u8)return kS;u8=1;function t(e){return e}return kS=t,kS}var PS,d8;function lme(){if(d8)return PS;d8=1;function t(e){return function(r){return r?.[e]}}return PS=t,PS}var jS,f8;function cme(){if(f8)return jS;f8=1;var t=RN();function e(r){return function(n){return t(n,r)}}return jS=e,jS}var IS,h8;function ume(){if(h8)return IS;h8=1;var t=lme(),e=cme(),r=TN(),n=tx();function i(a){return r(a)?t(n(a)):e(a)}return IS=i,IS}var RS,p8;function Eo(){if(p8)return RS;p8=1;var t=nme(),e=ome(),r=gh(),n=ga(),i=ume();function a(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):i(s)}return RS=a,RS}var MS,m8;function DW(){if(m8)return MS;m8=1;function t(e,r,n,i){for(var a=e.length,s=n+(i?1:-1);i?s--:++s<a;)if(r(e[s],s,e))return s;return-1}return MS=t,MS}var DS,g8;function dme(){if(g8)return DS;g8=1;function t(e){return e!==e}return DS=t,DS}var LS,v8;function fme(){if(v8)return LS;v8=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return LS=t,LS}var BS,y8;function hme(){if(y8)return BS;y8=1;var t=DW(),e=dme(),r=fme();function n(i,a,s){return a===a?r(i,a,s):t(i,e,s)}return BS=n,BS}var FS,x8;function pme(){if(x8)return FS;x8=1;var t=hme();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return FS=e,FS}var $S,w8;function mme(){if(w8)return $S;w8=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return $S=t,$S}var US,b8;function gme(){if(b8)return US;b8=1;function t(){}return US=t,US}var VS,_8;function vme(){if(_8)return VS;_8=1;var t=IW(),e=gme(),r=VN(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return VS=i,VS}var WS,S8;function yme(){if(S8)return WS;S8=1;var t=EW(),e=pme(),r=mme(),n=AW(),i=vme(),a=VN(),s=200;function l(d,h,g){var v=-1,b=e,S=d.length,O=!0,E=[],C=E;if(g)O=!1,b=r;else if(S>=s){var j=h?null:i(d);if(j)return a(j);O=!1,b=n,C=new t}else C=h?[]:E;e:for(;++v<S;){var P=d[v],I=h?h(P):P;if(P=g||P!==0?P:0,O&&I===I){for(var F=C.length;F--;)if(C[F]===I)continue e;h&&C.push(I),E.push(P)}else b(C,I,g)||(C!==E&&C.push(I),E.push(P))}return E}return WS=l,WS}var qS,E8;function xme(){if(E8)return qS;E8=1;var t=Eo(),e=yme();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return qS=r,qS}var wme=xme();const C8=Cr(wme);function LW(t,e,r){return e===!0?C8(t,r):Dt(e)?C8(t,e):t}function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}var bme=["ref"];function A8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A8(Object(r),!0).forEach(function(n){ox(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FW(n.key),n)}}function Sme(t,e,r){return e&&O8(t.prototype,e),r&&O8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eme(t,e,r){return e=vy(e),Cme(t,BW()?Reflect.construct(e,r||[],vy(t).constructor):e.apply(t,r))}function Cme(t,e){if(e&&(Rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ame(t)}function Ame(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BW=function(){return!!t})()}function vy(t){return vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vy(t)}function Ome(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TA(t,e)}function TA(t,e){return TA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TA(t,e)}function ox(t,e,r){return e=FW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FW(t){var e=Tme(t,"string");return Rf(e)=="symbol"?e:e+""}function Tme(t,e){if(Rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Nme(t,e){if(t==null)return{};var r=kme(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Pme(t){return t.value}function jme(t,e){if(te.isValidElement(t))return te.cloneElement(t,e);if(typeof t=="function")return te.createElement(t,e);e.ref;var r=Nme(e,bme);return te.createElement(UN,r)}var T8=1,Jo=(function(t){function e(){var r;_me(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Eme(this,e,[].concat(i)),ox(r,"lastBoundingBox",{width:-1,height:-1}),r}return Ome(e,t),Sme(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>T8||Math.abs(i.height-this.lastBoundingBox.height)>T8)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Vo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,l=i.verticalAlign,d=i.margin,h=i.chartWidth,g=i.chartHeight,v,b;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var S=this.getBBoxSnapshot();v={left:((h||0)-S.width)/2}}else v=s==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var O=this.getBBoxSnapshot();b={top:((g||0)-O.height)/2}}else b=l==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Vo(Vo({},v),b)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,l=i.height,d=i.wrapperStyle,h=i.payloadUniqBy,g=i.payload,v=Vo(Vo({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(d)),d);return te.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:function(S){n.wrapperNode=S}},jme(a,Vo(Vo({},this.props),{},{payload:LW(g,h,Pme)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Vo(Vo({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&Je(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])})(N.PureComponent);ox(Jo,"displayName","Legend");ox(Jo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var zS,N8;function Ime(){if(N8)return zS;N8=1;var t=gg(),e=WN(),r=ga(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return zS=i,zS}var HS,k8;function $W(){if(k8)return HS;k8=1;var t=TW(),e=Ime();function r(n,i,a,s,l){var d=-1,h=n.length;for(a||(a=e),l||(l=[]);++d<h;){var g=n[d];i>0&&a(g)?i>1?r(g,i-1,a,s,l):t(l,g):s||(l[l.length]=g)}return l}return HS=r,HS}var GS,P8;function Rme(){if(P8)return GS;P8=1;function t(e){return function(r,n,i){for(var a=-1,s=Object(r),l=i(r),d=l.length;d--;){var h=l[e?d:++a];if(n(s[h],h,s)===!1)break}return r}}return GS=t,GS}var KS,j8;function Mme(){if(j8)return KS;j8=1;var t=Rme(),e=t();return KS=e,KS}var YS,I8;function UW(){if(I8)return YS;I8=1;var t=Mme(),e=sx();function r(n,i){return n&&t(n,i,e)}return YS=r,YS}var XS,R8;function Dme(){if(R8)return XS;R8=1;var t=vg();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var s=i.length,l=n?s:-1,d=Object(i);(n?l--:++l<s)&&a(d[l],l,d)!==!1;);return i}}return XS=e,XS}var ZS,M8;function GN(){if(M8)return ZS;M8=1;var t=UW(),e=Dme(),r=e(t);return ZS=r,ZS}var QS,D8;function VW(){if(D8)return QS;D8=1;var t=GN(),e=vg();function r(n,i){var a=-1,s=e(n)?Array(n.length):[];return t(n,function(l,d,h){s[++a]=i(l,d,h)}),s}return QS=r,QS}var JS,L8;function Lme(){if(L8)return JS;L8=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return JS=t,JS}var eE,B8;function Bme(){if(B8)return eE;B8=1;var t=hh();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,s=r===r,l=t(r),d=n!==void 0,h=n===null,g=n===n,v=t(n);if(!h&&!v&&!l&&r>n||l&&d&&g&&!h&&!v||a&&d&&g||!i&&g||!s)return 1;if(!a&&!l&&!v&&r<n||v&&i&&s&&!a&&!l||h&&i&&s||!d&&s||!g)return-1}return 0}return eE=e,eE}var tE,F8;function Fme(){if(F8)return tE;F8=1;var t=Bme();function e(r,n,i){for(var a=-1,s=r.criteria,l=n.criteria,d=s.length,h=i.length;++a<d;){var g=t(s[a],l[a]);if(g){if(a>=h)return g;var v=i[a];return g*(v=="desc"?-1:1)}}return r.index-n.index}return tE=e,tE}var rE,$8;function $me(){if($8)return rE;$8=1;var t=IN(),e=RN(),r=Eo(),n=VW(),i=Lme(),a=kW(),s=Fme(),l=gh(),d=ga();function h(g,v,b){v.length?v=t(v,function(E){return d(E)?function(C){return e(C,E.length===1?E[0]:E)}:E}):v=[l];var S=-1;v=t(v,a(r));var O=n(g,function(E,C,j){var P=t(v,function(I){return I(E)});return{criteria:P,index:++S,value:E}});return i(O,function(E,C){return s(E,C,b)})}return rE=h,rE}var nE,U8;function Ume(){if(U8)return nE;U8=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return nE=t,nE}var iE,V8;function Vme(){if(V8)return iE;V8=1;var t=Ume(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,l=-1,d=e(s.length-i,0),h=Array(d);++l<d;)h[l]=s[i+l];l=-1;for(var g=Array(i+1);++l<i;)g[l]=s[l];return g[i]=a(h),t(n,this,g)}}return iE=r,iE}var aE,W8;function Wme(){if(W8)return aE;W8=1;function t(e){return function(){return e}}return aE=t,aE}var sE,q8;function WW(){if(q8)return sE;q8=1;var t=Qu(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return sE=e,sE}var oE,z8;function qme(){if(z8)return oE;z8=1;var t=Wme(),e=WW(),r=gh(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return oE=n,oE}var lE,H8;function zme(){if(H8)return lE;H8=1;var t=800,e=16,r=Date.now;function n(i){var a=0,s=0;return function(){var l=r(),d=e-(l-s);if(s=l,d>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return lE=n,lE}var cE,G8;function Hme(){if(G8)return cE;G8=1;var t=qme(),e=zme(),r=e(t);return cE=r,cE}var uE,K8;function Gme(){if(K8)return uE;K8=1;var t=gh(),e=Vme(),r=Hme();function n(i,a){return r(e(i,a,t),i+"")}return uE=n,uE}var dE,Y8;function lx(){if(Y8)return dE;Y8=1;var t=kN(),e=vg(),r=qN(),n=_c();function i(a,s,l){if(!n(l))return!1;var d=typeof s;return(d=="number"?e(l)&&r(s,l.length):d=="string"&&s in l)?t(l[s],a):!1}return dE=i,dE}var fE,X8;function Kme(){if(X8)return fE;X8=1;var t=$W(),e=$me(),r=Gme(),n=lx(),i=r(function(a,s){if(a==null)return[];var l=s.length;return l>1&&n(a,s[0],s[1])?s=[]:l>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(a,t(s,1),[])});return fE=i,fE}var Yme=Kme();const KN=Cr(Yme);function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}function NA(){return NA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NA.apply(this,arguments)}function Xme(t,e){return ege(t)||Jme(t,e)||Qme(t,e)||Zme()}function Zme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qme(t,e){if(t){if(typeof t=="string")return Z8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z8(t,e)}}function Z8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Jme(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function ege(t){if(Array.isArray(t))return t}function Q8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q8(Object(r),!0).forEach(function(n){tge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tge(t,e,r){return e=rge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rge(t){var e=nge(t,"string");return fm(e)=="symbol"?e:e+""}function nge(t,e){if(fm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ige(t){return Array.isArray(t)&&ai(t[0])&&ai(t[1])?t.join(" ~ "):t}var age=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,l=s===void 0?{}:s,d=e.labelStyle,h=d===void 0?{}:d,g=e.payload,v=e.formatter,b=e.itemSorter,S=e.wrapperClassName,O=e.labelClassName,E=e.label,C=e.labelFormatter,j=e.accessibilityLayer,P=j===void 0?!1:j,I=function(){if(g&&g.length){var W={padding:0,margin:0},H=(b?KN(g,b):g).map(function(Q,X){if(Q.type==="none")return null;var se=hE({display:"block",paddingTop:4,paddingBottom:4,color:Q.color||"#000"},l),ne=Q.formatter||v||ige,re=Q.value,J=Q.name,he=re,ie=J;if(ne&&he!=null&&ie!=null){var le=ne(re,J,Q,X,g);if(Array.isArray(le)){var we=Xme(le,2);he=we[0],ie=we[1]}else he=le}return te.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(X),style:se},ai(ie)?te.createElement("span",{className:"recharts-tooltip-item-name"},ie):null,ai(ie)?te.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,te.createElement("span",{className:"recharts-tooltip-item-value"},he),te.createElement("span",{className:"recharts-tooltip-item-unit"},Q.unit||""))});return te.createElement("ul",{className:"recharts-tooltip-item-list",style:W},H)}return null},F=hE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),R=hE({margin:0},h),M=!Vt(E),B=M?E:"",q=zt("recharts-default-tooltip",S),U=zt("recharts-tooltip-label",O);M&&C&&g!==void 0&&g!==null&&(B=C(E,g));var z=P?{role:"status","aria-live":"assertive"}:{};return te.createElement("div",NA({className:q,style:F},z),te.createElement("p",{className:U,style:R},te.isValidElement(B)?B:"".concat(B)),I())};function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(t)}function ev(t,e,r){return e=sge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sge(t){var e=oge(t,"string");return hm(e)=="symbol"?e:e+""}function oge(t,e){if(hm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pp="recharts-tooltip-wrapper",lge={visibility:"hidden"};function cge(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return zt(pp,ev(ev(ev(ev({},"".concat(pp,"-right"),Je(r)&&e&&Je(e.x)&&r>=e.x),"".concat(pp,"-left"),Je(r)&&e&&Je(e.x)&&r<e.x),"".concat(pp,"-bottom"),Je(n)&&e&&Je(e.y)&&n>=e.y),"".concat(pp,"-top"),Je(n)&&e&&Je(e.y)&&n<e.y))}function J8(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,l=t.tooltipDimension,d=t.viewBox,h=t.viewBoxDimension;if(a&&Je(a[n]))return a[n];var g=r[n]-l-i,v=r[n]+i;if(e[n])return s[n]?g:v;if(s[n]){var b=g,S=d[n];return b<S?Math.max(v,d[n]):Math.max(g,d[n])}var O=v+l,E=d[n]+h;return O>E?Math.max(g,d[n]):Math.max(v,d[n])}function uge(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function dge(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,l=t.useTranslate3d,d=t.viewBox,h,g,v;return s.height>0&&s.width>0&&r?(g=J8({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:d,viewBoxDimension:d.width}),v=J8({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:d,viewBoxDimension:d.height}),h=uge({translateX:g,translateY:v,useTranslate3d:l})):h=lge,{cssProperties:h,cssClasses:cge({translateX:g,translateY:v,coordinate:r})}}function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function eD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eD(Object(r),!0).forEach(function(n){PA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zW(n.key),n)}}function pge(t,e,r){return e&&hge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mge(t,e,r){return e=yy(e),gge(t,qW()?Reflect.construct(e,r||[],yy(t).constructor):e.apply(t,r))}function gge(t,e){if(e&&(Mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vge(t)}function vge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qW=function(){return!!t})()}function yy(t){return yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yy(t)}function yge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kA(t,e)}function kA(t,e){return kA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kA(t,e)}function PA(t,e,r){return e=zW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zW(t){var e=xge(t,"string");return Mf(e)=="symbol"?e:e+""}function xge(t,e){if(Mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rD=1,wge=(function(t){function e(){var r;fge(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=mge(this,e,[].concat(i)),PA(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),PA(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,d,h,g;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&l!==void 0?l:0,y:(h=(g=r.props.coordinate)===null||g===void 0?void 0:g.y)!==null&&h!==void 0?h:0}})}}),r}return yge(e,t),pge(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>rD||Math.abs(n.height-this.state.lastBoundingBox.height)>rD)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,d=i.animationEasing,h=i.children,g=i.coordinate,v=i.hasPayload,b=i.isAnimationActive,S=i.offset,O=i.position,E=i.reverseDirection,C=i.useTranslate3d,j=i.viewBox,P=i.wrapperStyle,I=dge({allowEscapeViewBox:s,coordinate:g,offsetTopLeft:S,position:O,reverseDirection:E,tooltipBox:this.state.lastBoundingBox,useTranslate3d:C,viewBox:j}),F=I.cssClasses,R=I.cssProperties,M=tD(tD({transition:b&&a?"transform ".concat(l,"ms ").concat(d):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&v?"visible":"hidden",position:"absolute",top:0,left:0},P);return te.createElement("div",{tabIndex:-1,className:F,style:M,ref:function(q){n.wrapperNode=q}},h)}}])})(N.PureComponent),bge=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Sc={isSsr:bge()};function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function nD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nD(Object(r),!0).forEach(function(n){YN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _ge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GW(n.key),n)}}function Ege(t,e,r){return e&&Sge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cge(t,e,r){return e=xy(e),Age(t,HW()?Reflect.construct(e,r||[],xy(t).constructor):e.apply(t,r))}function Age(t,e){if(e&&(Df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oge(t)}function Oge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HW=function(){return!!t})()}function xy(t){return xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xy(t)}function Tge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jA(t,e)}function jA(t,e){return jA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jA(t,e)}function YN(t,e,r){return e=GW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GW(t){var e=Nge(t,"string");return Df(e)=="symbol"?e:e+""}function Nge(t,e){if(Df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function kge(t){return t.dataKey}function Pge(t,e){return te.isValidElement(t)?te.cloneElement(t,e):typeof t=="function"?te.createElement(t,e):te.createElement(age,e)}var ja=(function(t){function e(){return _ge(this,e),Cge(this,e,arguments)}return Tge(e,t),Ege(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,d=i.animationEasing,h=i.content,g=i.coordinate,v=i.filterNull,b=i.isAnimationActive,S=i.offset,O=i.payload,E=i.payloadUniqBy,C=i.position,j=i.reverseDirection,P=i.useTranslate3d,I=i.viewBox,F=i.wrapperStyle,R=O??[];v&&R.length&&(R=LW(O.filter(function(B){return B.value!=null&&(B.hide!==!0||n.props.includeHidden)}),E,kge));var M=R.length>0;return te.createElement(wge,{allowEscapeViewBox:s,animationDuration:l,animationEasing:d,isAnimationActive:b,active:a,coordinate:g,hasPayload:M,offset:S,position:C,reverseDirection:j,useTranslate3d:P,viewBox:I,wrapperStyle:F},Pge(h,iD(iD({},this.props),{},{payload:R})))}}])})(N.PureComponent);YN(ja,"displayName","Tooltip");YN(ja,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Sc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var pE,aD;function jge(){if(aD)return pE;aD=1;var t=So(),e=function(){return t.Date.now()};return pE=e,pE}var mE,sD;function Ige(){if(sD)return mE;sD=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return mE=e,mE}var gE,oD;function Rge(){if(oD)return gE;oD=1;var t=Ige(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return gE=r,gE}var vE,lD;function KW(){if(lD)return vE;lD=1;var t=Rge(),e=_c(),r=hh(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function d(h){if(typeof h=="number")return h;if(r(h))return n;if(e(h)){var g=typeof h.valueOf=="function"?h.valueOf():h;h=e(g)?g+"":g}if(typeof h!="string")return h===0?h:+h;h=t(h);var v=a.test(h);return v||s.test(h)?l(h.slice(2),v?2:8):i.test(h)?n:+h}return vE=d,vE}var yE,cD;function Mge(){if(cD)return yE;cD=1;var t=_c(),e=jge(),r=KW(),n="Expected a function",i=Math.max,a=Math.min;function s(l,d,h){var g,v,b,S,O,E,C=0,j=!1,P=!1,I=!0;if(typeof l!="function")throw new TypeError(n);d=r(d)||0,t(h)&&(j=!!h.leading,P="maxWait"in h,b=P?i(r(h.maxWait)||0,d):b,I="trailing"in h?!!h.trailing:I);function F(H){var Q=g,X=v;return g=v=void 0,C=H,S=l.apply(X,Q),S}function R(H){return C=H,O=setTimeout(q,d),j?F(H):S}function M(H){var Q=H-E,X=H-C,se=d-Q;return P?a(se,b-X):se}function B(H){var Q=H-E,X=H-C;return E===void 0||Q>=d||Q<0||P&&X>=b}function q(){var H=e();if(B(H))return U(H);O=setTimeout(q,M(H))}function U(H){return O=void 0,I&&g?F(H):(g=v=void 0,S)}function z(){O!==void 0&&clearTimeout(O),C=0,g=E=v=O=void 0}function G(){return O===void 0?S:U(e())}function W(){var H=e(),Q=B(H);if(g=arguments,v=this,E=H,Q){if(O===void 0)return R(E);if(P)return clearTimeout(O),O=setTimeout(q,d),F(E)}return O===void 0&&(O=setTimeout(q,d)),S}return W.cancel=z,W.flush=G,W}return yE=s,yE}var xE,uD;function Dge(){if(uD)return xE;uD=1;var t=Mge(),e=_c(),r="Expected a function";function n(i,a,s){var l=!0,d=!0;if(typeof i!="function")throw new TypeError(r);return e(s)&&(l="leading"in s?!!s.leading:l,d="trailing"in s?!!s.trailing:d),t(i,a,{leading:l,maxWait:a,trailing:d})}return xE=n,xE}var Lge=Dge();const YW=Cr(Lge);function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}function dD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dD(Object(r),!0).forEach(function(n){Bge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bge(t,e,r){return e=Fge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fge(t){var e=$ge(t,"string");return pm(e)=="symbol"?e:e+""}function $ge(t,e){if(pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uge(t,e){return zge(t)||qge(t,e)||Wge(t,e)||Vge()}function Vge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wge(t,e){if(t){if(typeof t=="string")return fD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fD(t,e)}}function fD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function zge(t){if(Array.isArray(t))return t}var rv=N.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,l=t.height,d=l===void 0?"100%":l,h=t.minWidth,g=h===void 0?0:h,v=t.minHeight,b=t.maxHeight,S=t.children,O=t.debounce,E=O===void 0?0:O,C=t.id,j=t.className,P=t.onResize,I=t.style,F=I===void 0?{}:I,R=N.useRef(null),M=N.useRef();M.current=P,N.useImperativeHandle(e,function(){return Object.defineProperty(R.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),R.current},configurable:!0})});var B=N.useState({containerWidth:i.width,containerHeight:i.height}),q=Uge(B,2),U=q[0],z=q[1],G=N.useCallback(function(H,Q){z(function(X){var se=Math.round(H),ne=Math.round(Q);return X.containerWidth===se&&X.containerHeight===ne?X:{containerWidth:se,containerHeight:ne}})},[]);N.useEffect(function(){var H=function(J){var he,ie=J[0].contentRect,le=ie.width,we=ie.height;G(le,we),(he=M.current)===null||he===void 0||he.call(M,le,we)};E>0&&(H=YW(H,E,{trailing:!0,leading:!1}));var Q=new ResizeObserver(H),X=R.current.getBoundingClientRect(),se=X.width,ne=X.height;return G(se,ne),Q.observe(R.current),function(){Q.disconnect()}},[G,E]);var W=N.useMemo(function(){var H=U.containerWidth,Q=U.containerHeight;if(H<0||Q<0)return null;Us(gu(s)||gu(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,d),Us(!r||r>0,"The aspect(%s) must be greater than zero.",r);var X=gu(s)?H:s,se=gu(d)?Q:d;r&&r>0&&(X?se=X/r:se&&(X=se*r),b&&se>b&&(se=b)),Us(X>0||se>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,X,se,s,d,g,v,r);var ne=!Array.isArray(S)&&Qo(S.type).endsWith("Chart");return te.Children.map(S,function(re){return te.isValidElement(re)?N.cloneElement(re,tv({width:X,height:se},ne?{style:tv({height:"100%",width:"100%",maxHeight:se,maxWidth:X},re.props.style)}:{})):re})},[r,S,d,b,v,g,U,s]);return te.createElement("div",{id:C?"".concat(C):void 0,className:zt("recharts-responsive-container",j),style:tv(tv({},F),{},{width:s,height:d,minWidth:g,minHeight:v,maxHeight:b}),ref:R},W)}),cx=function(e){return null};cx.displayName="Cell";function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function hD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function IA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(r),!0).forEach(function(n){Hge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hge(t,e,r){return e=Gge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gge(t){var e=Kge(t,"string");return mm(e)=="symbol"?e:e+""}function Kge(t,e){if(mm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vd={widthCache:{},cacheCount:0},Yge=2e3,Xge={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},pD="recharts_measurement_span";function Zge(t){var e=IA({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Mp=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Sc.isSsr)return{width:0,height:0};var n=Zge(r),i=JSON.stringify({text:e,copyStyle:n});if(Vd.widthCache[i])return Vd.widthCache[i];try{var a=document.getElementById(pD);a||(a=document.createElement("span"),a.setAttribute("id",pD),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=IA(IA({},Xge),n);Object.assign(a.style,s),a.textContent="".concat(e);var l=a.getBoundingClientRect(),d={width:l.width,height:l.height};return Vd.widthCache[i]=d,++Vd.cacheCount>Yge&&(Vd.cacheCount=0,Vd.widthCache={}),d}catch{return{width:0,height:0}}},Qge=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function wy(t,e){return r0e(t)||t0e(t,e)||e0e(t,e)||Jge()}function Jge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e0e(t,e){if(t){if(typeof t=="string")return mD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mD(t,e)}}function mD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function t0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function r0e(t){if(Array.isArray(t))return t}function n0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a0e(n.key),n)}}function i0e(t,e,r){return e&&gD(t.prototype,e),r&&gD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function a0e(t){var e=s0e(t,"string");return gm(e)=="symbol"?e:e+""}function s0e(t,e){if(gm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,o0e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,l0e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,XW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},c0e=Object.keys(XW),Xd="NaN";function u0e(t,e){return t*XW[e]}var nv=(function(){function t(e,r){n0e(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!o0e.test(r)&&(this.num=NaN,this.unit=""),c0e.includes(r)&&(this.num=u0e(e,r),this.unit="px")}return i0e(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=l0e.exec(r))!==null&&n!==void 0?n:[],a=wy(i,3),s=a[1],l=a[2];return new t(parseFloat(s),l??"")}}])})();function ZW(t){if(t.includes(Xd))return Xd;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=vD.exec(e))!==null&&r!==void 0?r:[],i=wy(n,4),a=i[1],s=i[2],l=i[3],d=nv.parse(a??""),h=nv.parse(l??""),g=s==="*"?d.multiply(h):d.divide(h);if(g.isNaN())return Xd;e=e.replace(vD,g.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var v,b=(v=yD.exec(e))!==null&&v!==void 0?v:[],S=wy(b,4),O=S[1],E=S[2],C=S[3],j=nv.parse(O??""),P=nv.parse(C??""),I=E==="+"?j.add(P):j.subtract(P);if(I.isNaN())return Xd;e=e.replace(yD,I.toString())}return e}var xD=/\(([^()]*)\)/;function d0e(t){for(var e=t;e.includes("(");){var r=xD.exec(e),n=wy(r,2),i=n[1];e=e.replace(xD,ZW(i))}return e}function f0e(t){var e=t.replace(/\s+/g,"");return e=d0e(e),e=ZW(e),e}function h0e(t){try{return f0e(t)}catch{return Xd}}function wE(t){var e=h0e(t.slice(5,-1));return e===Xd?"":e}var p0e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],m0e=["dx","dy","angle","className","breakAll"];function RA(){return RA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RA.apply(this,arguments)}function wD(t,e){if(t==null)return{};var r=g0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function g0e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bD(t,e){return w0e(t)||x0e(t,e)||y0e(t,e)||v0e()}function v0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y0e(t,e){if(t){if(typeof t=="string")return _D(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _D(t,e)}}function _D(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function x0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function w0e(t){if(Array.isArray(t))return t}var QW=/[ \f\n\r\t\v\u2028\u2029]+/,JW=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];Vt(r)||(n?a=r.toString().split(""):a=r.toString().split(QW));var s=a.map(function(d){return{word:d,width:Mp(d,i).width}}),l=n?0:Mp("",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},b0e=function(e,r,n,i,a){var s=e.maxLines,l=e.children,d=e.style,h=e.breakAll,g=Je(s),v=l,b=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce(function(se,ne){var re=ne.word,J=ne.width,he=se[se.length-1];if(he&&(i==null||a||he.width+J+n<Number(i)))he.words.push(re),he.width+=J+n;else{var ie={words:[re],width:J};se.push(ie)}return se},[])},S=b(r),O=function(X){return X.reduce(function(se,ne){return se.width>ne.width?se:ne})};if(!g)return S;for(var E="",C=function(X){var se=v.slice(0,X),ne=JW({breakAll:h,style:d,children:se+E}).wordsWithComputedWidth,re=b(ne),J=re.length>s||O(re).width>Number(i);return[J,re]},j=0,P=v.length-1,I=0,F;j<=P&&I<=v.length-1;){var R=Math.floor((j+P)/2),M=R-1,B=C(M),q=bD(B,2),U=q[0],z=q[1],G=C(R),W=bD(G,1),H=W[0];if(!U&&!H&&(j=R+1),U&&H&&(P=R-1),!U&&H){F=z;break}I++}return F||S},SD=function(e){var r=Vt(e)?[]:e.toString().split(QW);return[{words:r}]},_0e=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,l=e.maxLines;if((r||n)&&!Sc.isSsr){var d,h,g=JW({breakAll:s,children:i,style:a});if(g){var v=g.wordsWithComputedWidth,b=g.spaceWidth;d=v,h=b}else return SD(i);return b0e({breakAll:s,children:i,maxLines:l,style:a},d,h,r,n)}return SD(i)},ED="#808080",Bu=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,l=s===void 0?"1em":s,d=e.capHeight,h=d===void 0?"0.71em":d,g=e.scaleToFit,v=g===void 0?!1:g,b=e.textAnchor,S=b===void 0?"start":b,O=e.verticalAnchor,E=O===void 0?"end":O,C=e.fill,j=C===void 0?ED:C,P=wD(e,p0e),I=N.useMemo(function(){return _0e({breakAll:P.breakAll,children:P.children,maxLines:P.maxLines,scaleToFit:v,style:P.style,width:P.width})},[P.breakAll,P.children,P.maxLines,v,P.style,P.width]),F=P.dx,R=P.dy,M=P.angle,B=P.className,q=P.breakAll,U=wD(P,m0e);if(!ai(n)||!ai(a))return null;var z=n+(Je(F)?F:0),G=a+(Je(R)?R:0),W;switch(E){case"start":W=wE("calc(".concat(h,")"));break;case"middle":W=wE("calc(".concat((I.length-1)/2," * -").concat(l," + (").concat(h," / 2))"));break;default:W=wE("calc(".concat(I.length-1," * -").concat(l,")"));break}var H=[];if(v){var Q=I[0].width,X=P.width;H.push("scale(".concat((Je(X)?X/Q:1)/Q,")"))}return M&&H.push("rotate(".concat(M,", ").concat(z,", ").concat(G,")")),H.length&&(U.transform=H.join(" ")),te.createElement("text",RA({},At(U,!0),{x:z,y:G,className:zt("recharts-text",B),textAnchor:S,fill:j.includes("url")?ED:j}),I.map(function(se,ne){var re=se.words.join(q?"":" ");return te.createElement("tspan",{x:z,dy:ne===0?W:l,key:"".concat(re,"-").concat(ne)},re)}))};function sc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function S0e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function XN(t){let e,r,n;t.length!==2?(e=sc,r=(l,d)=>sc(t(l),d),n=(l,d)=>t(l)-d):(e=t===sc||t===S0e?t:E0e,r=t,n=t);function i(l,d,h=0,g=l.length){if(h<g){if(e(d,d)!==0)return g;do{const v=h+g>>>1;r(l[v],d)<0?h=v+1:g=v}while(h<g)}return h}function a(l,d,h=0,g=l.length){if(h<g){if(e(d,d)!==0)return g;do{const v=h+g>>>1;r(l[v],d)<=0?h=v+1:g=v}while(h<g)}return h}function s(l,d,h=0,g=l.length){const v=i(l,d,h,g-1);return v>h&&n(l[v-1],d)>-n(l[v],d)?v-1:v}return{left:i,center:s,right:a}}function E0e(){return 0}function eq(t){return t===null?NaN:+t}function*C0e(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const A0e=XN(sc),yg=A0e.right;XN(eq).center;class CD extends Map{constructor(e,r=N0e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(AD(this,e))}has(e){return super.has(AD(this,e))}set(e,r){return super.set(O0e(this,e),r)}delete(e){return super.delete(T0e(this,e))}}function AD({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function O0e({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function T0e({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function N0e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function k0e(t=sc){if(t===sc)return tq;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function tq(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const P0e=Math.sqrt(50),j0e=Math.sqrt(10),I0e=Math.sqrt(2);function by(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=P0e?10:a>=j0e?5:a>=I0e?2:1;let l,d,h;return i<0?(h=Math.pow(10,-i)/s,l=Math.round(t*h),d=Math.round(e*h),l/h<t&&++l,d/h>e&&--d,h=-h):(h=Math.pow(10,i)*s,l=Math.round(t/h),d=Math.round(e/h),l*h<t&&++l,d*h>e&&--d),d<l&&.5<=r&&r<2?by(t,e,r*2):[l,d,h]}function MA(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?by(e,t,r):by(t,e,r);if(!(a>=i))return[];const l=a-i+1,d=new Array(l);if(n)if(s<0)for(let h=0;h<l;++h)d[h]=(a-h)/-s;else for(let h=0;h<l;++h)d[h]=(a-h)*s;else if(s<0)for(let h=0;h<l;++h)d[h]=(i+h)/-s;else for(let h=0;h<l;++h)d[h]=(i+h)*s;return d}function DA(t,e,r){return e=+e,t=+t,r=+r,by(t,e,r)[2]}function LA(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?DA(e,t,r):DA(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function OD(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function TD(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function rq(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?tq:k0e(i);n>r;){if(n-r>600){const d=n-r+1,h=e-r+1,g=Math.log(d),v=.5*Math.exp(2*g/3),b=.5*Math.sqrt(g*v*(d-v)/d)*(h-d/2<0?-1:1),S=Math.max(r,Math.floor(e-h*v/d+b)),O=Math.min(n,Math.floor(e+(d-h)*v/d+b));rq(t,e,S,O,i)}const a=t[e];let s=r,l=n;for(mp(t,r,e),i(t[n],a)>0&&mp(t,r,n);s<l;){for(mp(t,s,l),++s,--l;i(t[s],a)<0;)++s;for(;i(t[l],a)>0;)--l}i(t[r],a)===0?mp(t,r,l):(++l,mp(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function mp(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function R0e(t,e,r){if(t=Float64Array.from(C0e(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return TD(t);if(e>=1)return OD(t);var n,i=(n-1)*e,a=Math.floor(i),s=OD(rq(t,a).subarray(0,a+1)),l=TD(t.subarray(a+1));return s+(l-s)*(i-a)}}function M0e(t,e,r=eq){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),l=+r(t[a+1],a+1,t);return s+(l-s)*(i-a)}}function D0e(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function ys(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function fl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const BA=Symbol("implicit");function ZN(){var t=new CD,e=[],r=[],n=BA;function i(a){let s=t.get(a);if(s===void 0){if(n!==BA)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new CD;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return ZN(e,r).unknown(n)},ys.apply(i,arguments),i}function vm(){var t=ZN().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,l=!1,d=0,h=0,g=.5;delete t.unknown;function v(){var b=e().length,S=i<n,O=S?i:n,E=S?n:i;a=(E-O)/Math.max(1,b-d+h*2),l&&(a=Math.floor(a)),O+=(E-O-a*(b-d))*g,s=a*(1-d),l&&(O=Math.round(O),s=Math.round(s));var C=D0e(b).map(function(j){return O+a*j});return r(S?C.reverse():C)}return t.domain=function(b){return arguments.length?(e(b),v()):e()},t.range=function(b){return arguments.length?([n,i]=b,n=+n,i=+i,v()):[n,i]},t.rangeRound=function(b){return[n,i]=b,n=+n,i=+i,l=!0,v()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(b){return arguments.length?(l=!!b,v()):l},t.padding=function(b){return arguments.length?(d=Math.min(1,h=+b),v()):d},t.paddingInner=function(b){return arguments.length?(d=Math.min(1,b),v()):d},t.paddingOuter=function(b){return arguments.length?(h=+b,v()):h},t.align=function(b){return arguments.length?(g=Math.max(0,Math.min(1,b)),v()):g},t.copy=function(){return vm(e(),[n,i]).round(l).paddingInner(d).paddingOuter(h).align(g)},ys.apply(v(),arguments)}function nq(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return nq(e())},t}function Dp(){return nq(vm.apply(null,arguments).paddingInner(1))}function QN(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function iq(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function xg(){}var ym=.7,_y=1/ym,uf="\\s*([+-]?\\d+)\\s*",xm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",L0e=/^#([0-9a-f]{3,8})$/,B0e=new RegExp(`^rgb\\(${uf},${uf},${uf}\\)$`),F0e=new RegExp(`^rgb\\(${mo},${mo},${mo}\\)$`),$0e=new RegExp(`^rgba\\(${uf},${uf},${uf},${xm}\\)$`),U0e=new RegExp(`^rgba\\(${mo},${mo},${mo},${xm}\\)$`),V0e=new RegExp(`^hsl\\(${xm},${mo},${mo}\\)$`),W0e=new RegExp(`^hsla\\(${xm},${mo},${mo},${xm}\\)$`),ND={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};QN(xg,wm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:kD,formatHex:kD,formatHex8:q0e,formatHsl:z0e,formatRgb:PD,toString:PD});function kD(){return this.rgb().formatHex()}function q0e(){return this.rgb().formatHex8()}function z0e(){return aq(this).formatHsl()}function PD(){return this.rgb().formatRgb()}function wm(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=L0e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?jD(e):r===3?new pa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?iv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?iv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=B0e.exec(t))?new pa(e[1],e[2],e[3],1):(e=F0e.exec(t))?new pa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=$0e.exec(t))?iv(e[1],e[2],e[3],e[4]):(e=U0e.exec(t))?iv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=V0e.exec(t))?MD(e[1],e[2]/100,e[3]/100,1):(e=W0e.exec(t))?MD(e[1],e[2]/100,e[3]/100,e[4]):ND.hasOwnProperty(t)?jD(ND[t]):t==="transparent"?new pa(NaN,NaN,NaN,0):null}function jD(t){return new pa(t>>16&255,t>>8&255,t&255,1)}function iv(t,e,r,n){return n<=0&&(t=e=r=NaN),new pa(t,e,r,n)}function H0e(t){return t instanceof xg||(t=wm(t)),t?(t=t.rgb(),new pa(t.r,t.g,t.b,t.opacity)):new pa}function FA(t,e,r,n){return arguments.length===1?H0e(t):new pa(t,e,r,n??1)}function pa(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}QN(pa,FA,iq(xg,{brighter(t){return t=t==null?_y:Math.pow(_y,t),new pa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ym:Math.pow(ym,t),new pa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new pa(Su(this.r),Su(this.g),Su(this.b),Sy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ID,formatHex:ID,formatHex8:G0e,formatRgb:RD,toString:RD}));function ID(){return`#${vu(this.r)}${vu(this.g)}${vu(this.b)}`}function G0e(){return`#${vu(this.r)}${vu(this.g)}${vu(this.b)}${vu((isNaN(this.opacity)?1:this.opacity)*255)}`}function RD(){const t=Sy(this.opacity);return`${t===1?"rgb(":"rgba("}${Su(this.r)}, ${Su(this.g)}, ${Su(this.b)}${t===1?")":`, ${t})`}`}function Sy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Su(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function vu(t){return t=Su(t),(t<16?"0":"")+t.toString(16)}function MD(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Fs(t,e,r,n)}function aq(t){if(t instanceof Fs)return new Fs(t.h,t.s,t.l,t.opacity);if(t instanceof xg||(t=wm(t)),!t)return new Fs;if(t instanceof Fs)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,l=a-i,d=(a+i)/2;return l?(e===a?s=(r-n)/l+(r<n)*6:r===a?s=(n-e)/l+2:s=(e-r)/l+4,l/=d<.5?a+i:2-a-i,s*=60):l=d>0&&d<1?0:s,new Fs(s,l,d,t.opacity)}function K0e(t,e,r,n){return arguments.length===1?aq(t):new Fs(t,e,r,n??1)}function Fs(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}QN(Fs,K0e,iq(xg,{brighter(t){return t=t==null?_y:Math.pow(_y,t),new Fs(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ym:Math.pow(ym,t),new Fs(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new pa(bE(t>=240?t-240:t+120,i,n),bE(t,i,n),bE(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Fs(DD(this.h),av(this.s),av(this.l),Sy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Sy(this.opacity);return`${t===1?"hsl(":"hsla("}${DD(this.h)}, ${av(this.s)*100}%, ${av(this.l)*100}%${t===1?")":`, ${t})`}`}}));function DD(t){return t=(t||0)%360,t<0?t+360:t}function av(t){return Math.max(0,Math.min(1,t||0))}function bE(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const JN=t=>()=>t;function Y0e(t,e){return function(r){return t+r*e}}function X0e(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Z0e(t){return(t=+t)==1?sq:function(e,r){return r-e?X0e(e,r,t):JN(isNaN(e)?r:e)}}function sq(t,e){var r=e-t;return r?Y0e(t,r):JN(isNaN(t)?e:t)}const LD=(function t(e){var r=Z0e(e);function n(i,a){var s=r((i=FA(i)).r,(a=FA(a)).r),l=r(i.g,a.g),d=r(i.b,a.b),h=sq(i.opacity,a.opacity);return function(g){return i.r=s(g),i.g=l(g),i.b=d(g),i.opacity=h(g),i+""}}return n.gamma=t,n})(1);function Q0e(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function J0e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function eve(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=vh(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(l){for(s=0;s<n;++s)a[s]=i[s](l);return a}}function tve(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Ey(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function rve(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=vh(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var $A=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_E=new RegExp($A.source,"g");function nve(t){return function(){return t}}function ive(t){return function(e){return t(e)+""}}function ave(t,e){var r=$A.lastIndex=_E.lastIndex=0,n,i,a,s=-1,l=[],d=[];for(t=t+"",e=e+"";(n=$A.exec(t))&&(i=_E.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),l[s]?l[s]+=a:l[++s]=a),(n=n[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,d.push({i:s,x:Ey(n,i)})),r=_E.lastIndex;return r<e.length&&(a=e.slice(r),l[s]?l[s]+=a:l[++s]=a),l.length<2?d[0]?ive(d[0].x):nve(e):(e=d.length,function(h){for(var g=0,v;g<e;++g)l[(v=d[g]).i]=v.x(h);return l.join("")})}function vh(t,e){var r=typeof e,n;return e==null||r==="boolean"?JN(e):(r==="number"?Ey:r==="string"?(n=wm(e))?(e=n,LD):ave:e instanceof wm?LD:e instanceof Date?tve:J0e(e)?Q0e:Array.isArray(e)?eve:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?rve:Ey)(t,e)}function ek(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function sve(t,e){e===void 0&&(e=t,t=vh);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[l](s-l)}}function ove(t){return function(){return t}}function Cy(t){return+t}var BD=[0,1];function Ki(t){return t}function UA(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:ove(isNaN(e)?NaN:.5)}function lve(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function cve(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=UA(i,n),a=r(s,a)):(n=UA(n,i),a=r(a,s)),function(l){return a(n(l))}}function uve(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=UA(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(l){var d=yg(t,l,1,n)-1;return a[d](i[d](l))}}function wg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ux(){var t=BD,e=BD,r=vh,n,i,a,s=Ki,l,d,h;function g(){var b=Math.min(t.length,e.length);return s!==Ki&&(s=lve(t[0],t[b-1])),l=b>2?uve:cve,d=h=null,v}function v(b){return b==null||isNaN(b=+b)?a:(d||(d=l(t.map(n),e,r)))(n(s(b)))}return v.invert=function(b){return s(i((h||(h=l(e,t.map(n),Ey)))(b)))},v.domain=function(b){return arguments.length?(t=Array.from(b,Cy),g()):t.slice()},v.range=function(b){return arguments.length?(e=Array.from(b),g()):e.slice()},v.rangeRound=function(b){return e=Array.from(b),r=ek,g()},v.clamp=function(b){return arguments.length?(s=b?!0:Ki,g()):s!==Ki},v.interpolate=function(b){return arguments.length?(r=b,g()):r},v.unknown=function(b){return arguments.length?(a=b,v):a},function(b,S){return n=b,i=S,g()}}function tk(){return ux()(Ki,Ki)}function dve(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ay(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Lf(t){return t=Ay(Math.abs(t)),t?t[1]:NaN}function fve(t,e){return function(r,n){for(var i=r.length,a=[],s=0,l=t[0],d=0;i>0&&l>0&&(d+l+1>n&&(l=Math.max(1,n-d)),a.push(r.substring(i-=l,i+l)),!((d+=l+1)>n));)l=t[s=(s+1)%t.length];return a.reverse().join(e)}}function hve(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var pve=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bm(t){if(!(e=pve.exec(t)))throw new Error("invalid format: "+t);var e;return new rk({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}bm.prototype=rk.prototype;function rk(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}rk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mve(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var oq;function gve(t,e){var r=Ay(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(oq=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Ay(t,Math.max(0,e+a-1))[0]}function FD(t,e){var r=Ay(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const $D={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:dve,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>FD(t*100,e),r:FD,s:gve,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function UD(t){return t}var VD=Array.prototype.map,WD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function vve(t){var e=t.grouping===void 0||t.thousands===void 0?UD:fve(VD.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?UD:hve(VD.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(v){v=bm(v);var b=v.fill,S=v.align,O=v.sign,E=v.symbol,C=v.zero,j=v.width,P=v.comma,I=v.precision,F=v.trim,R=v.type;R==="n"?(P=!0,R="g"):$D[R]||(I===void 0&&(I=12),F=!0,R="g"),(C||b==="0"&&S==="=")&&(C=!0,b="0",S="=");var M=E==="$"?r:E==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",B=E==="$"?n:/[%p]/.test(R)?s:"",q=$D[R],U=/[defgprs%]/.test(R);I=I===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function z(G){var W=M,H=B,Q,X,se;if(R==="c")H=q(G)+H,G="";else{G=+G;var ne=G<0||1/G<0;if(G=isNaN(G)?d:q(Math.abs(G),I),F&&(G=mve(G)),ne&&+G==0&&O!=="+"&&(ne=!1),W=(ne?O==="("?O:l:O==="-"||O==="("?"":O)+W,H=(R==="s"?WD[8+oq/3]:"")+H+(ne&&O==="("?")":""),U){for(Q=-1,X=G.length;++Q<X;)if(se=G.charCodeAt(Q),48>se||se>57){H=(se===46?i+G.slice(Q+1):G.slice(Q))+H,G=G.slice(0,Q);break}}}P&&!C&&(G=e(G,1/0));var re=W.length+G.length+H.length,J=re<j?new Array(j-re+1).join(b):"";switch(P&&C&&(G=e(J+G,J.length?j-H.length:1/0),J=""),S){case"<":G=W+G+H+J;break;case"=":G=W+J+G+H;break;case"^":G=J.slice(0,re=J.length>>1)+W+G+H+J.slice(re);break;default:G=J+W+G+H;break}return a(G)}return z.toString=function(){return v+""},z}function g(v,b){var S=h((v=bm(v),v.type="f",v)),O=Math.max(-8,Math.min(8,Math.floor(Lf(b)/3)))*3,E=Math.pow(10,-O),C=WD[8+O/3];return function(j){return S(E*j)+C}}return{format:h,formatPrefix:g}}var sv,nk,lq;yve({thousands:",",grouping:[3],currency:["$",""]});function yve(t){return sv=vve(t),nk=sv.format,lq=sv.formatPrefix,sv}function xve(t){return Math.max(0,-Lf(Math.abs(t)))}function wve(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Lf(e)/3)))*3-Lf(Math.abs(t)))}function bve(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Lf(e)-Lf(t))+1}function cq(t,e,r,n){var i=LA(t,e,r),a;switch(n=bm(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=wve(i,s))&&(n.precision=a),lq(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=bve(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=xve(i))&&(n.precision=a-(n.type==="%")*2);break}}return nk(n)}function Ec(t){var e=t.domain;return t.ticks=function(r){var n=e();return MA(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return cq(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],l=n[a],d,h,g=10;for(l<s&&(h=s,s=l,l=h,h=i,i=a,a=h);g-- >0;){if(h=DA(s,l,r),h===d)return n[i]=s,n[a]=l,e(n);if(h>0)s=Math.floor(s/h)*h,l=Math.ceil(l/h)*h;else if(h<0)s=Math.ceil(s*h)/h,l=Math.floor(l*h)/h;else break;d=h}return t},t}function Oy(){var t=tk();return t.copy=function(){return wg(t,Oy())},ys.apply(t,arguments),Ec(t)}function uq(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Cy),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return uq(t).unknown(e)},t=arguments.length?Array.from(t,Cy):[0,1],Ec(r)}function dq(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function qD(t){return Math.log(t)}function zD(t){return Math.exp(t)}function _ve(t){return-Math.log(-t)}function Sve(t){return-Math.exp(-t)}function Eve(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Cve(t){return t===10?Eve:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Ave(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function HD(t){return(e,r)=>-t(-e,r)}function ik(t){const e=t(qD,zD),r=e.domain;let n=10,i,a;function s(){return i=Ave(n),a=Cve(n),r()[0]<0?(i=HD(i),a=HD(a),t(_ve,Sve)):t(qD,zD),e}return e.base=function(l){return arguments.length?(n=+l,s()):n},e.domain=function(l){return arguments.length?(r(l),s()):r()},e.ticks=l=>{const d=r();let h=d[0],g=d[d.length-1];const v=g<h;v&&([h,g]=[g,h]);let b=i(h),S=i(g),O,E;const C=l==null?10:+l;let j=[];if(!(n%1)&&S-b<C){if(b=Math.floor(b),S=Math.ceil(S),h>0){for(;b<=S;++b)for(O=1;O<n;++O)if(E=b<0?O/a(-b):O*a(b),!(E<h)){if(E>g)break;j.push(E)}}else for(;b<=S;++b)for(O=n-1;O>=1;--O)if(E=b>0?O/a(-b):O*a(b),!(E<h)){if(E>g)break;j.push(E)}j.length*2<C&&(j=MA(h,g,C))}else j=MA(b,S,Math.min(S-b,C)).map(a);return v?j.reverse():j},e.tickFormat=(l,d)=>{if(l==null&&(l=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=bm(d)).precision==null&&(d.trim=!0),d=nk(d)),l===1/0)return d;const h=Math.max(1,n*l/e.ticks().length);return g=>{let v=g/a(Math.round(i(g)));return v*n<n-.5&&(v*=n),v<=h?d(g):""}},e.nice=()=>r(dq(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function fq(){const t=ik(ux()).domain([1,10]);return t.copy=()=>wg(t,fq()).base(t.base()),ys.apply(t,arguments),t}function GD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function KD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ak(t){var e=1,r=t(GD(e),KD(e));return r.constant=function(n){return arguments.length?t(GD(e=+n),KD(e)):e},Ec(r)}function hq(){var t=ak(ux());return t.copy=function(){return wg(t,hq()).constant(t.constant())},ys.apply(t,arguments)}function YD(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ove(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Tve(t){return t<0?-t*t:t*t}function sk(t){var e=t(Ki,Ki),r=1;function n(){return r===1?t(Ki,Ki):r===.5?t(Ove,Tve):t(YD(r),YD(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Ec(e)}function ok(){var t=sk(ux());return t.copy=function(){return wg(t,ok()).exponent(t.exponent())},ys.apply(t,arguments),t}function Nve(){return ok.apply(null,arguments).exponent(.5)}function XD(t){return Math.sign(t)*t*t}function kve(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function pq(){var t=tk(),e=[0,1],r=!1,n;function i(a){var s=kve(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(XD(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Cy)).map(XD)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return pq(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},ys.apply(i,arguments),Ec(i)}function mq(){var t=[],e=[],r=[],n;function i(){var s=0,l=Math.max(1,e.length);for(r=new Array(l-1);++s<l;)r[s-1]=M0e(t,s/l);return a}function a(s){return s==null||isNaN(s=+s)?n:e[yg(r,s)]}return a.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(sc),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return mq().domain(t).range(e).unknown(n)},ys.apply(a,arguments)}function gq(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(d){return d!=null&&d<=d?i[yg(n,d,0,r)]:a}function l(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return s}return s.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,l()):[t,e]},s.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,l()):i.slice()},s.invertExtent=function(d){var h=i.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,n[0]]:h>=r?[n[r-1],e]:[n[h-1],n[h]]},s.unknown=function(d){return arguments.length&&(a=d),s},s.thresholds=function(){return n.slice()},s.copy=function(){return gq().domain([t,e]).range(i).unknown(a)},ys.apply(Ec(s),arguments)}function vq(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[yg(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return vq().domain(t).range(e).unknown(r)},ys.apply(i,arguments)}const SE=new Date,EE=new Date;function si(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const d=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return d;let h;do d.push(h=new Date(+a)),e(a,l),t(a);while(h<a&&a<s);return d},i.filter=a=>si(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!a(s););else for(;--l>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(SE.setTime(+a),EE.setTime(+s),t(SE),t(EE),Math.floor(r(SE,EE))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Ty=si(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ty.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?si(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Ty);Ty.range;const Go=1e3,us=Go*60,Ko=us*60,il=Ko*24,lk=il*7,ZD=il*30,CE=il*365,yu=si(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Go)},(t,e)=>(e-t)/Go,t=>t.getUTCSeconds());yu.range;const ck=si(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Go)},(t,e)=>{t.setTime(+t+e*us)},(t,e)=>(e-t)/us,t=>t.getMinutes());ck.range;const uk=si(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*us)},(t,e)=>(e-t)/us,t=>t.getUTCMinutes());uk.range;const dk=si(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Go-t.getMinutes()*us)},(t,e)=>{t.setTime(+t+e*Ko)},(t,e)=>(e-t)/Ko,t=>t.getHours());dk.range;const fk=si(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ko)},(t,e)=>(e-t)/Ko,t=>t.getUTCHours());fk.range;const bg=si(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*us)/il,t=>t.getDate()-1);bg.range;const dx=si(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/il,t=>t.getUTCDate()-1);dx.range;const yq=si(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/il,t=>Math.floor(t/il));yq.range;function ed(t){return si(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*us)/lk)}const fx=ed(0),Ny=ed(1),Pve=ed(2),jve=ed(3),Bf=ed(4),Ive=ed(5),Rve=ed(6);fx.range;Ny.range;Pve.range;jve.range;Bf.range;Ive.range;Rve.range;function td(t){return si(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/lk)}const hx=td(0),ky=td(1),Mve=td(2),Dve=td(3),Ff=td(4),Lve=td(5),Bve=td(6);hx.range;ky.range;Mve.range;Dve.range;Ff.range;Lve.range;Bve.range;const hk=si(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());hk.range;const pk=si(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());pk.range;const al=si(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());al.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:si(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});al.range;const sl=si(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());sl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:si(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});sl.range;function xq(t,e,r,n,i,a){const s=[[yu,1,Go],[yu,5,5*Go],[yu,15,15*Go],[yu,30,30*Go],[a,1,us],[a,5,5*us],[a,15,15*us],[a,30,30*us],[i,1,Ko],[i,3,3*Ko],[i,6,6*Ko],[i,12,12*Ko],[n,1,il],[n,2,2*il],[r,1,lk],[e,1,ZD],[e,3,3*ZD],[t,1,CE]];function l(h,g,v){const b=g<h;b&&([h,g]=[g,h]);const S=v&&typeof v.range=="function"?v:d(h,g,v),O=S?S.range(h,+g+1):[];return b?O.reverse():O}function d(h,g,v){const b=Math.abs(g-h)/v,S=XN(([,,C])=>C).right(s,b);if(S===s.length)return t.every(LA(h/CE,g/CE,v));if(S===0)return Ty.every(Math.max(LA(h,g,v),1));const[O,E]=s[b/s[S-1][2]<s[S][2]/b?S-1:S];return O.every(E)}return[l,d]}const[Fve,$ve]=xq(sl,pk,hx,yq,fk,uk),[Uve,Vve]=xq(al,hk,fx,bg,dk,ck);function AE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function OE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function gp(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Wve(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,l=t.months,d=t.shortMonths,h=vp(i),g=yp(i),v=vp(a),b=yp(a),S=vp(s),O=yp(s),E=vp(l),C=yp(l),j=vp(d),P=yp(d),I={a:ne,A:re,b:J,B:he,c:null,d:n6,e:n6,f:fye,g:_ye,G:Eye,H:cye,I:uye,j:dye,L:wq,m:hye,M:pye,p:ie,q:le,Q:s6,s:o6,S:mye,u:gye,U:vye,V:yye,w:xye,W:wye,x:null,X:null,y:bye,Y:Sye,Z:Cye,"%":a6},F={a:we,A:ke,b:qe,B:je,c:null,d:i6,e:i6,f:Nye,g:Fye,G:Uye,H:Aye,I:Oye,j:Tye,L:_q,m:kye,M:Pye,p:Te,q:De,Q:s6,s:o6,S:jye,u:Iye,U:Rye,V:Mye,w:Dye,W:Lye,x:null,X:null,y:Bye,Y:$ye,Z:Vye,"%":a6},R={a:z,A:G,b:W,B:H,c:Q,d:t6,e:t6,f:aye,g:e6,G:JD,H:r6,I:r6,j:tye,L:iye,m:eye,M:rye,p:U,q:Jve,Q:oye,s:lye,S:nye,u:Kve,U:Yve,V:Xve,w:Gve,W:Zve,x:X,X:se,y:e6,Y:JD,Z:Qve,"%":sye};I.x=M(r,I),I.X=M(n,I),I.c=M(e,I),F.x=M(r,F),F.X=M(n,F),F.c=M(e,F);function M(Ne,Le){return function(ue){var ve=[],Ue=-1,Ie=0,Ge=Ne.length,ct,et,ot;for(ue instanceof Date||(ue=new Date(+ue));++Ue<Ge;)Ne.charCodeAt(Ue)===37&&(ve.push(Ne.slice(Ie,Ue)),(et=QD[ct=Ne.charAt(++Ue)])!=null?ct=Ne.charAt(++Ue):et=ct==="e"?" ":"0",(ot=Le[ct])&&(ct=ot(ue,et)),ve.push(ct),Ie=Ue+1);return ve.push(Ne.slice(Ie,Ue)),ve.join("")}}function B(Ne,Le){return function(ue){var ve=gp(1900,void 0,1),Ue=q(ve,Ne,ue+="",0),Ie,Ge;if(Ue!=ue.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(Le&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(Ie=OE(gp(ve.y,0,1)),Ge=Ie.getUTCDay(),Ie=Ge>4||Ge===0?ky.ceil(Ie):ky(Ie),Ie=dx.offset(Ie,(ve.V-1)*7),ve.y=Ie.getUTCFullYear(),ve.m=Ie.getUTCMonth(),ve.d=Ie.getUTCDate()+(ve.w+6)%7):(Ie=AE(gp(ve.y,0,1)),Ge=Ie.getDay(),Ie=Ge>4||Ge===0?Ny.ceil(Ie):Ny(Ie),Ie=bg.offset(Ie,(ve.V-1)*7),ve.y=Ie.getFullYear(),ve.m=Ie.getMonth(),ve.d=Ie.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),Ge="Z"in ve?OE(gp(ve.y,0,1)).getUTCDay():AE(gp(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(Ge+5)%7:ve.w+ve.U*7-(Ge+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,OE(ve)):AE(ve)}}function q(Ne,Le,ue,ve){for(var Ue=0,Ie=Le.length,Ge=ue.length,ct,et;Ue<Ie;){if(ve>=Ge)return-1;if(ct=Le.charCodeAt(Ue++),ct===37){if(ct=Le.charAt(Ue++),et=R[ct in QD?Le.charAt(Ue++):ct],!et||(ve=et(Ne,ue,ve))<0)return-1}else if(ct!=ue.charCodeAt(ve++))return-1}return ve}function U(Ne,Le,ue){var ve=h.exec(Le.slice(ue));return ve?(Ne.p=g.get(ve[0].toLowerCase()),ue+ve[0].length):-1}function z(Ne,Le,ue){var ve=S.exec(Le.slice(ue));return ve?(Ne.w=O.get(ve[0].toLowerCase()),ue+ve[0].length):-1}function G(Ne,Le,ue){var ve=v.exec(Le.slice(ue));return ve?(Ne.w=b.get(ve[0].toLowerCase()),ue+ve[0].length):-1}function W(Ne,Le,ue){var ve=j.exec(Le.slice(ue));return ve?(Ne.m=P.get(ve[0].toLowerCase()),ue+ve[0].length):-1}function H(Ne,Le,ue){var ve=E.exec(Le.slice(ue));return ve?(Ne.m=C.get(ve[0].toLowerCase()),ue+ve[0].length):-1}function Q(Ne,Le,ue){return q(Ne,e,Le,ue)}function X(Ne,Le,ue){return q(Ne,r,Le,ue)}function se(Ne,Le,ue){return q(Ne,n,Le,ue)}function ne(Ne){return s[Ne.getDay()]}function re(Ne){return a[Ne.getDay()]}function J(Ne){return d[Ne.getMonth()]}function he(Ne){return l[Ne.getMonth()]}function ie(Ne){return i[+(Ne.getHours()>=12)]}function le(Ne){return 1+~~(Ne.getMonth()/3)}function we(Ne){return s[Ne.getUTCDay()]}function ke(Ne){return a[Ne.getUTCDay()]}function qe(Ne){return d[Ne.getUTCMonth()]}function je(Ne){return l[Ne.getUTCMonth()]}function Te(Ne){return i[+(Ne.getUTCHours()>=12)]}function De(Ne){return 1+~~(Ne.getUTCMonth()/3)}return{format:function(Ne){var Le=M(Ne+="",I);return Le.toString=function(){return Ne},Le},parse:function(Ne){var Le=B(Ne+="",!1);return Le.toString=function(){return Ne},Le},utcFormat:function(Ne){var Le=M(Ne+="",F);return Le.toString=function(){return Ne},Le},utcParse:function(Ne){var Le=B(Ne+="",!0);return Le.toString=function(){return Ne},Le}}}var QD={"-":"",_:" ",0:"0"},gi=/^\s*\d+/,qve=/^%/,zve=/[\\^$*+?|[\]().{}]/g;function Pr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function Hve(t){return t.replace(zve,"\\$&")}function vp(t){return new RegExp("^(?:"+t.map(Hve).join("|")+")","i")}function yp(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Gve(t,e,r){var n=gi.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Kve(t,e,r){var n=gi.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Yve(t,e,r){var n=gi.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Xve(t,e,r){var n=gi.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Zve(t,e,r){var n=gi.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function JD(t,e,r){var n=gi.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function e6(t,e,r){var n=gi.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Qve(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Jve(t,e,r){var n=gi.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function eye(t,e,r){var n=gi.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function t6(t,e,r){var n=gi.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function tye(t,e,r){var n=gi.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function r6(t,e,r){var n=gi.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function rye(t,e,r){var n=gi.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function nye(t,e,r){var n=gi.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function iye(t,e,r){var n=gi.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function aye(t,e,r){var n=gi.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function sye(t,e,r){var n=qve.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function oye(t,e,r){var n=gi.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function lye(t,e,r){var n=gi.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function n6(t,e){return Pr(t.getDate(),e,2)}function cye(t,e){return Pr(t.getHours(),e,2)}function uye(t,e){return Pr(t.getHours()%12||12,e,2)}function dye(t,e){return Pr(1+bg.count(al(t),t),e,3)}function wq(t,e){return Pr(t.getMilliseconds(),e,3)}function fye(t,e){return wq(t,e)+"000"}function hye(t,e){return Pr(t.getMonth()+1,e,2)}function pye(t,e){return Pr(t.getMinutes(),e,2)}function mye(t,e){return Pr(t.getSeconds(),e,2)}function gye(t){var e=t.getDay();return e===0?7:e}function vye(t,e){return Pr(fx.count(al(t)-1,t),e,2)}function bq(t){var e=t.getDay();return e>=4||e===0?Bf(t):Bf.ceil(t)}function yye(t,e){return t=bq(t),Pr(Bf.count(al(t),t)+(al(t).getDay()===4),e,2)}function xye(t){return t.getDay()}function wye(t,e){return Pr(Ny.count(al(t)-1,t),e,2)}function bye(t,e){return Pr(t.getFullYear()%100,e,2)}function _ye(t,e){return t=bq(t),Pr(t.getFullYear()%100,e,2)}function Sye(t,e){return Pr(t.getFullYear()%1e4,e,4)}function Eye(t,e){var r=t.getDay();return t=r>=4||r===0?Bf(t):Bf.ceil(t),Pr(t.getFullYear()%1e4,e,4)}function Cye(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Pr(e/60|0,"0",2)+Pr(e%60,"0",2)}function i6(t,e){return Pr(t.getUTCDate(),e,2)}function Aye(t,e){return Pr(t.getUTCHours(),e,2)}function Oye(t,e){return Pr(t.getUTCHours()%12||12,e,2)}function Tye(t,e){return Pr(1+dx.count(sl(t),t),e,3)}function _q(t,e){return Pr(t.getUTCMilliseconds(),e,3)}function Nye(t,e){return _q(t,e)+"000"}function kye(t,e){return Pr(t.getUTCMonth()+1,e,2)}function Pye(t,e){return Pr(t.getUTCMinutes(),e,2)}function jye(t,e){return Pr(t.getUTCSeconds(),e,2)}function Iye(t){var e=t.getUTCDay();return e===0?7:e}function Rye(t,e){return Pr(hx.count(sl(t)-1,t),e,2)}function Sq(t){var e=t.getUTCDay();return e>=4||e===0?Ff(t):Ff.ceil(t)}function Mye(t,e){return t=Sq(t),Pr(Ff.count(sl(t),t)+(sl(t).getUTCDay()===4),e,2)}function Dye(t){return t.getUTCDay()}function Lye(t,e){return Pr(ky.count(sl(t)-1,t),e,2)}function Bye(t,e){return Pr(t.getUTCFullYear()%100,e,2)}function Fye(t,e){return t=Sq(t),Pr(t.getUTCFullYear()%100,e,2)}function $ye(t,e){return Pr(t.getUTCFullYear()%1e4,e,4)}function Uye(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Ff(t):Ff.ceil(t),Pr(t.getUTCFullYear()%1e4,e,4)}function Vye(){return"+0000"}function a6(){return"%"}function s6(t){return+t}function o6(t){return Math.floor(+t/1e3)}var Wd,Eq,Cq;Wye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Wye(t){return Wd=Wve(t),Eq=Wd.format,Wd.parse,Cq=Wd.utcFormat,Wd.utcParse,Wd}function qye(t){return new Date(t)}function zye(t){return t instanceof Date?+t:+new Date(+t)}function mk(t,e,r,n,i,a,s,l,d,h){var g=tk(),v=g.invert,b=g.domain,S=h(".%L"),O=h(":%S"),E=h("%I:%M"),C=h("%I %p"),j=h("%a %d"),P=h("%b %d"),I=h("%B"),F=h("%Y");function R(M){return(d(M)<M?S:l(M)<M?O:s(M)<M?E:a(M)<M?C:n(M)<M?i(M)<M?j:P:r(M)<M?I:F)(M)}return g.invert=function(M){return new Date(v(M))},g.domain=function(M){return arguments.length?b(Array.from(M,zye)):b().map(qye)},g.ticks=function(M){var B=b();return t(B[0],B[B.length-1],M??10)},g.tickFormat=function(M,B){return B==null?R:h(B)},g.nice=function(M){var B=b();return(!M||typeof M.range!="function")&&(M=e(B[0],B[B.length-1],M??10)),M?b(dq(B,M)):g},g.copy=function(){return wg(g,mk(t,e,r,n,i,a,s,l,d,h))},g}function Hye(){return ys.apply(mk(Uve,Vve,al,hk,fx,bg,dk,ck,yu,Eq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Gye(){return ys.apply(mk(Fve,$ve,sl,pk,hx,dx,fk,uk,yu,Cq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function px(){var t=0,e=1,r,n,i,a,s=Ki,l=!1,d;function h(v){return v==null||isNaN(v=+v)?d:s(i===0?.5:(v=(a(v)-r)*i,l?Math.max(0,Math.min(1,v)):v))}h.domain=function(v){return arguments.length?([t,e]=v,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),h):[t,e]},h.clamp=function(v){return arguments.length?(l=!!v,h):l},h.interpolator=function(v){return arguments.length?(s=v,h):s};function g(v){return function(b){var S,O;return arguments.length?([S,O]=b,s=v(S,O),h):[s(0),s(1)]}}return h.range=g(vh),h.rangeRound=g(ek),h.unknown=function(v){return arguments.length?(d=v,h):d},function(v){return a=v,r=v(t),n=v(e),i=r===n?0:1/(n-r),h}}function Cc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Aq(){var t=Ec(px()(Ki));return t.copy=function(){return Cc(t,Aq())},fl.apply(t,arguments)}function Oq(){var t=ik(px()).domain([1,10]);return t.copy=function(){return Cc(t,Oq()).base(t.base())},fl.apply(t,arguments)}function Tq(){var t=ak(px());return t.copy=function(){return Cc(t,Tq()).constant(t.constant())},fl.apply(t,arguments)}function gk(){var t=sk(px());return t.copy=function(){return Cc(t,gk()).exponent(t.exponent())},fl.apply(t,arguments)}function Kye(){return gk.apply(null,arguments).exponent(.5)}function Nq(){var t=[],e=Ki;function r(n){if(n!=null&&!isNaN(n=+n))return e((yg(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(sc),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>R0e(t,a/n))},r.copy=function(){return Nq(e).domain(t)},fl.apply(r,arguments)}function mx(){var t=0,e=.5,r=1,n=1,i,a,s,l,d,h=Ki,g,v=!1,b;function S(E){return isNaN(E=+E)?b:(E=.5+((E=+g(E))-a)*(n*E<n*a?l:d),h(v?Math.max(0,Math.min(1,E)):E))}S.domain=function(E){return arguments.length?([t,e,r]=E,i=g(t=+t),a=g(e=+e),s=g(r=+r),l=i===a?0:.5/(a-i),d=a===s?0:.5/(s-a),n=a<i?-1:1,S):[t,e,r]},S.clamp=function(E){return arguments.length?(v=!!E,S):v},S.interpolator=function(E){return arguments.length?(h=E,S):h};function O(E){return function(C){var j,P,I;return arguments.length?([j,P,I]=C,h=sve(E,[j,P,I]),S):[h(0),h(.5),h(1)]}}return S.range=O(vh),S.rangeRound=O(ek),S.unknown=function(E){return arguments.length?(b=E,S):b},function(E){return g=E,i=E(t),a=E(e),s=E(r),l=i===a?0:.5/(a-i),d=a===s?0:.5/(s-a),n=a<i?-1:1,S}}function kq(){var t=Ec(mx()(Ki));return t.copy=function(){return Cc(t,kq())},fl.apply(t,arguments)}function Pq(){var t=ik(mx()).domain([.1,1,10]);return t.copy=function(){return Cc(t,Pq()).base(t.base())},fl.apply(t,arguments)}function jq(){var t=ak(mx());return t.copy=function(){return Cc(t,jq()).constant(t.constant())},fl.apply(t,arguments)}function vk(){var t=sk(mx());return t.copy=function(){return Cc(t,vk()).exponent(t.exponent())},fl.apply(t,arguments)}function Yye(){return vk.apply(null,arguments).exponent(.5)}const l6=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:vm,scaleDiverging:kq,scaleDivergingLog:Pq,scaleDivergingPow:vk,scaleDivergingSqrt:Yye,scaleDivergingSymlog:jq,scaleIdentity:uq,scaleImplicit:BA,scaleLinear:Oy,scaleLog:fq,scaleOrdinal:ZN,scalePoint:Dp,scalePow:ok,scaleQuantile:mq,scaleQuantize:gq,scaleRadial:pq,scaleSequential:Aq,scaleSequentialLog:Oq,scaleSequentialPow:gk,scaleSequentialQuantile:Nq,scaleSequentialSqrt:Kye,scaleSequentialSymlog:Tq,scaleSqrt:Nve,scaleSymlog:hq,scaleThreshold:vq,scaleTime:Hye,scaleUtc:Gye,tickFormat:cq},Symbol.toStringTag,{value:"Module"}));var TE,c6;function gx(){if(c6)return TE;c6=1;var t=hh();function e(r,n,i){for(var a=-1,s=r.length;++a<s;){var l=r[a],d=n(l);if(d!=null&&(h===void 0?d===d&&!t(d):i(d,h)))var h=d,g=l}return g}return TE=e,TE}var NE,u6;function Iq(){if(u6)return NE;u6=1;function t(e,r){return e>r}return NE=t,NE}var kE,d6;function Xye(){if(d6)return kE;d6=1;var t=gx(),e=Iq(),r=gh();function n(i){return i&&i.length?t(i,r,e):void 0}return kE=n,kE}var Zye=Xye();const ec=Cr(Zye);var PE,f6;function Rq(){if(f6)return PE;f6=1;function t(e,r){return e<r}return PE=t,PE}var jE,h6;function Qye(){if(h6)return jE;h6=1;var t=gx(),e=Rq(),r=gh();function n(i){return i&&i.length?t(i,r,e):void 0}return jE=n,jE}var Jye=Qye();const vx=Cr(Jye);var IE,p6;function e1e(){if(p6)return IE;p6=1;var t=IN(),e=Eo(),r=VW(),n=ga();function i(a,s){var l=n(a)?t:r;return l(a,e(s,3))}return IE=i,IE}var RE,m6;function t1e(){if(m6)return RE;m6=1;var t=$W(),e=e1e();function r(n,i){return t(e(n,i),1)}return RE=r,RE}var r1e=t1e();const n1e=Cr(r1e);var ME,g6;function i1e(){if(g6)return ME;g6=1;var t=HN();function e(r,n){return t(r,n)}return ME=e,ME}var a1e=i1e();const Fu=Cr(a1e);var yh=1e9,s1e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},xk,vn=!0,gs="[DecimalError] ",Eu=gs+"Invalid argument: ",yk=gs+"Exponent out of range: ",xh=Math.floor,ou=Math.pow,o1e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,La,hi=1e7,hn=7,Mq=9007199254740991,Py=xh(Mq/hn),pt={};pt.absoluteValue=pt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};pt.comparedTo=pt.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};pt.decimalPlaces=pt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*hn;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};pt.dividedBy=pt.div=function(t){return el(this,new this.constructor(t))};pt.dividedToIntegerBy=pt.idiv=function(t){var e=this,r=e.constructor;return Kr(el(e,new r(t),0,1),r.precision)};pt.equals=pt.eq=function(t){return!this.cmp(t)};pt.exponent=function(){return qn(this)};pt.greaterThan=pt.gt=function(t){return this.cmp(t)>0};pt.greaterThanOrEqualTo=pt.gte=function(t){return this.cmp(t)>=0};pt.isInteger=pt.isint=function(){return this.e>this.d.length-2};pt.isNegative=pt.isneg=function(){return this.s<0};pt.isPositive=pt.ispos=function(){return this.s>0};pt.isZero=function(){return this.s===0};pt.lessThan=pt.lt=function(t){return this.cmp(t)<0};pt.lessThanOrEqualTo=pt.lte=function(t){return this.cmp(t)<1};pt.logarithm=pt.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(La))throw Error(gs+"NaN");if(r.s<1)throw Error(gs+(r.s?"NaN":"-Infinity"));return r.eq(La)?new n(0):(vn=!1,e=el(_m(r,a),_m(t,a),a),vn=!0,Kr(e,i))};pt.minus=pt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Bq(e,t):Dq(e,(t.s=-t.s,t))};pt.modulo=pt.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(gs+"NaN");return r.s?(vn=!1,e=el(r,t,0,1).times(t),vn=!0,r.minus(e)):Kr(new n(r),i)};pt.naturalExponential=pt.exp=function(){return Lq(this)};pt.naturalLogarithm=pt.ln=function(){return _m(this)};pt.negated=pt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};pt.plus=pt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Dq(e,t):Bq(e,(t.s=-t.s,t))};pt.precision=pt.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Eu+t);if(e=qn(i)+1,n=i.d.length-1,r=n*hn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};pt.squareRoot=pt.sqrt=function(){var t,e,r,n,i,a,s,l=this,d=l.constructor;if(l.s<1){if(!l.s)return new d(0);throw Error(gs+"NaN")}for(t=qn(l),vn=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=oo(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=xh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(i.toString()),r=d.precision,i=s=r+3;;)if(a=n,n=a.plus(el(l,a,s+2)).times(.5),oo(a.d).slice(0,s)===(e=oo(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Kr(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(e!="9999")break;s+=4}return vn=!0,Kr(n,r)};pt.times=pt.mul=function(t){var e,r,n,i,a,s,l,d,h,g=this,v=g.constructor,b=g.d,S=(t=new v(t)).d;if(!g.s||!t.s)return new v(0);for(t.s*=g.s,r=g.e+t.e,d=b.length,h=S.length,d<h&&(a=b,b=S,S=a,s=d,d=h,h=s),a=[],s=d+h,n=s;n--;)a.push(0);for(n=h;--n>=0;){for(e=0,i=d+n;i>n;)l=a[i]+S[n]*b[i-n-1]+e,a[i--]=l%hi|0,e=l/hi|0;a[i]=(a[i]+e)%hi|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,vn?Kr(t,v.precision):t};pt.toDecimalPlaces=pt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(wo(t,0,yh),e===void 0?e=n.rounding:wo(e,0,8),Kr(r,t+qn(r)+1,e))};pt.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=$u(n,!0):(wo(t,0,yh),e===void 0?e=i.rounding:wo(e,0,8),n=Kr(new i(n),t+1,e),r=$u(n,!0,t+1)),r};pt.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?$u(i):(wo(t,0,yh),e===void 0?e=a.rounding:wo(e,0,8),n=Kr(new a(i),t+qn(i)+1,e),r=$u(n.abs(),!1,t+qn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};pt.toInteger=pt.toint=function(){var t=this,e=t.constructor;return Kr(new e(t),qn(t)+1,e.rounding)};pt.toNumber=function(){return+this};pt.toPower=pt.pow=function(t){var e,r,n,i,a,s,l=this,d=l.constructor,h=12,g=+(t=new d(t));if(!t.s)return new d(La);if(l=new d(l),!l.s){if(t.s<1)throw Error(gs+"Infinity");return l}if(l.eq(La))return l;if(n=d.precision,t.eq(La))return Kr(l,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=l.s,s){if((r=g<0?-g:g)<=Mq){for(i=new d(La),e=Math.ceil(n/hn+4),vn=!1;r%2&&(i=i.times(l),y6(i.d,e)),r=xh(r/2),r!==0;)l=l.times(l),y6(l.d,e);return vn=!0,t.s<0?new d(La).div(i):Kr(i,n)}}else if(a<0)throw Error(gs+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,vn=!1,i=t.times(_m(l,n+h)),vn=!0,i=Lq(i),i.s=a,i};pt.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=qn(i),n=$u(i,r<=a.toExpNeg||r>=a.toExpPos)):(wo(t,1,yh),e===void 0?e=a.rounding:wo(e,0,8),i=Kr(new a(i),t,e),r=qn(i),n=$u(i,t<=r||r<=a.toExpNeg,t)),n};pt.toSignificantDigits=pt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(wo(t,1,yh),e===void 0?e=n.rounding:wo(e,0,8)),Kr(new n(r),t,e)};pt.toString=pt.valueOf=pt.val=pt.toJSON=pt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=qn(t),r=t.constructor;return $u(t,e<=r.toExpNeg||e>=r.toExpPos)};function Dq(t,e){var r,n,i,a,s,l,d,h,g=t.constructor,v=g.precision;if(!t.s||!e.s)return e.s||(e=new g(t)),vn?Kr(e,v):e;if(d=t.d,h=e.d,s=t.e,i=e.e,d=d.slice(),a=s-i,a){for(a<0?(n=d,a=-a,l=h.length):(n=h,i=s,l=d.length),s=Math.ceil(v/hn),l=s>l?s+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=d.length,a=h.length,l-a<0&&(a=l,n=h,h=d,d=n),r=0;a;)r=(d[--a]=d[a]+h[a]+r)/hi|0,d[a]%=hi;for(r&&(d.unshift(r),++i),l=d.length;d[--l]==0;)d.pop();return e.d=d,e.e=i,vn?Kr(e,v):e}function wo(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Eu+t)}function oo(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=hn-n.length,r&&(a+=Gl(r)),a+=n;s=t[e],n=s+"",r=hn-n.length,r&&(a+=Gl(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var el=(function(){function t(n,i){var a,s=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+s,n[l]=a%hi|0,s=a/hi|0;return s&&n.unshift(s),n}function e(n,i,a,s){var l,d;if(a!=s)d=a>s?1:-1;else for(l=d=0;l<a;l++)if(n[l]!=i[l]){d=n[l]>i[l]?1:-1;break}return d}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*hi+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var l,d,h,g,v,b,S,O,E,C,j,P,I,F,R,M,B,q,U=n.constructor,z=n.s==i.s?1:-1,G=n.d,W=i.d;if(!n.s)return new U(n);if(!i.s)throw Error(gs+"Division by zero");for(d=n.e-i.e,B=W.length,R=G.length,S=new U(z),O=S.d=[],h=0;W[h]==(G[h]||0);)++h;if(W[h]>(G[h]||0)&&--d,a==null?P=a=U.precision:s?P=a+(qn(n)-qn(i))+1:P=a,P<0)return new U(0);if(P=P/hn+2|0,h=0,B==1)for(g=0,W=W[0],P++;(h<R||g)&&P--;h++)I=g*hi+(G[h]||0),O[h]=I/W|0,g=I%W|0;else{for(g=hi/(W[0]+1)|0,g>1&&(W=t(W,g),G=t(G,g),B=W.length,R=G.length),F=B,E=G.slice(0,B),C=E.length;C<B;)E[C++]=0;q=W.slice(),q.unshift(0),M=W[0],W[1]>=hi/2&&++M;do g=0,l=e(W,E,B,C),l<0?(j=E[0],B!=C&&(j=j*hi+(E[1]||0)),g=j/M|0,g>1?(g>=hi&&(g=hi-1),v=t(W,g),b=v.length,C=E.length,l=e(v,E,b,C),l==1&&(g--,r(v,B<b?q:W,b))):(g==0&&(l=g=1),v=W.slice()),b=v.length,b<C&&v.unshift(0),r(E,v,C),l==-1&&(C=E.length,l=e(W,E,B,C),l<1&&(g++,r(E,B<C?q:W,C))),C=E.length):l===0&&(g++,E=[0]),O[h++]=g,l&&E[0]?E[C++]=G[F]||0:(E=[G[F]],C=1);while((F++<R||E[0]!==void 0)&&P--)}return O[0]||O.shift(),S.e=d,Kr(S,s?a+qn(S)+1:a)}})();function Lq(t,e){var r,n,i,a,s,l,d=0,h=0,g=t.constructor,v=g.precision;if(qn(t)>16)throw Error(yk+qn(t));if(!t.s)return new g(La);for(vn=!1,l=v,s=new g(.03125);t.abs().gte(.1);)t=t.times(s),h+=5;for(n=Math.log(ou(2,h))/Math.LN10*2+5|0,l+=n,r=i=a=new g(La),g.precision=l;;){if(i=Kr(i.times(t),l),r=r.times(++d),s=a.plus(el(i,r,l)),oo(s.d).slice(0,l)===oo(a.d).slice(0,l)){for(;h--;)a=Kr(a.times(a),l);return g.precision=v,e==null?(vn=!0,Kr(a,v)):a}a=s}}function qn(t){for(var e=t.e*hn,r=t.d[0];r>=10;r/=10)e++;return e}function DE(t,e,r){if(e>t.LN10.sd())throw vn=!0,r&&(t.precision=r),Error(gs+"LN10 precision limit exceeded");return Kr(new t(t.LN10),e)}function Gl(t){for(var e="";t--;)e+="0";return e}function _m(t,e){var r,n,i,a,s,l,d,h,g,v=1,b=10,S=t,O=S.d,E=S.constructor,C=E.precision;if(S.s<1)throw Error(gs+(S.s?"NaN":"-Infinity"));if(S.eq(La))return new E(0);if(e==null?(vn=!1,h=C):h=e,S.eq(10))return e==null&&(vn=!0),DE(E,h);if(h+=b,E.precision=h,r=oo(O),n=r.charAt(0),a=qn(S),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)S=S.times(t),r=oo(S.d),n=r.charAt(0),v++;a=qn(S),n>1?(S=new E("0."+r),a++):S=new E(n+"."+r.slice(1))}else return d=DE(E,h+2,C).times(a+""),S=_m(new E(n+"."+r.slice(1)),h-b).plus(d),E.precision=C,e==null?(vn=!0,Kr(S,C)):S;for(l=s=S=el(S.minus(La),S.plus(La),h),g=Kr(S.times(S),h),i=3;;){if(s=Kr(s.times(g),h),d=l.plus(el(s,new E(i),h)),oo(d.d).slice(0,h)===oo(l.d).slice(0,h))return l=l.times(2),a!==0&&(l=l.plus(DE(E,h+2,C).times(a+""))),l=el(l,new E(v),h),E.precision=C,e==null?(vn=!0,Kr(l,C)):l;l=d,i+=2}}function v6(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=xh(r/hn),t.d=[],n=(r+1)%hn,r<0&&(n+=hn),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=hn;n<i;)t.d.push(+e.slice(n,n+=hn));e=e.slice(n),n=hn-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),vn&&(t.e>Py||t.e<-Py))throw Error(yk+r)}else t.s=0,t.e=0,t.d=[0];return t}function Kr(t,e,r){var n,i,a,s,l,d,h,g,v=t.d;for(s=1,a=v[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=hn,i=e,h=v[g=0];else{if(g=Math.ceil((n+1)/hn),a=v.length,g>=a)return t;for(h=a=v[g],s=1;a>=10;a/=10)s++;n%=hn,i=n-hn+s}if(r!==void 0&&(a=ou(10,s-i-1),l=h/a%10|0,d=e<0||v[g+1]!==void 0||h%a,d=r<4?(l||d)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||d||r==6&&(n>0?i>0?h/ou(10,s-i):0:v[g-1])%10&1||r==(t.s<0?8:7))),e<1||!v[0])return d?(a=qn(t),v.length=1,e=e-a-1,v[0]=ou(10,(hn-e%hn)%hn),t.e=xh(-e/hn)||0):(v.length=1,v[0]=t.e=t.s=0),t;if(n==0?(v.length=g,a=1,g--):(v.length=g+1,a=ou(10,hn-n),v[g]=i>0?(h/ou(10,s-i)%ou(10,i)|0)*a:0),d)for(;;)if(g==0){(v[0]+=a)==hi&&(v[0]=1,++t.e);break}else{if(v[g]+=a,v[g]!=hi)break;v[g--]=0,a=1}for(n=v.length;v[--n]===0;)v.pop();if(vn&&(t.e>Py||t.e<-Py))throw Error(yk+qn(t));return t}function Bq(t,e){var r,n,i,a,s,l,d,h,g,v,b=t.constructor,S=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),vn?Kr(e,S):e;if(d=t.d,v=e.d,n=e.e,h=t.e,d=d.slice(),s=h-n,s){for(g=s<0,g?(r=d,s=-s,l=v.length):(r=v,n=h,l=d.length),i=Math.max(Math.ceil(S/hn),l)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=d.length,l=v.length,g=i<l,g&&(l=i),i=0;i<l;i++)if(d[i]!=v[i]){g=d[i]<v[i];break}s=0}for(g&&(r=d,d=v,v=r,e.s=-e.s),l=d.length,i=v.length-l;i>0;--i)d[l++]=0;for(i=v.length;i>s;){if(d[--i]<v[i]){for(a=i;a&&d[--a]===0;)d[a]=hi-1;--d[a],d[i]+=hi}d[i]-=v[i]}for(;d[--l]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,vn?Kr(e,S):e):new b(0)}function $u(t,e,r){var n,i=qn(t),a=oo(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Gl(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Gl(-i-1)+a,r&&(n=r-s)>0&&(a+=Gl(n))):i>=s?(a+=Gl(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Gl(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Gl(n))),t.s<0?"-"+a:a}function y6(t,e){if(t.length>e)return t.length=e,!0}function Fq(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Eu+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return v6(s,a.toString())}else if(typeof a!="string")throw Error(Eu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,o1e.test(a))v6(s,a);else throw Error(Eu+a)}if(i.prototype=pt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Fq,i.config=i.set=l1e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function l1e(t){if(!t||typeof t!="object")throw Error(gs+"Object expected");var e,r,n,i=["precision",1,yh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(xh(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Eu+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Eu+r+": "+n);return this}var xk=Fq(s1e);La=new xk(1);const qr=xk;function c1e(t){return h1e(t)||f1e(t)||d1e(t)||u1e()}function u1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d1e(t,e){if(t){if(typeof t=="string")return VA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VA(t,e)}}function f1e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function h1e(t){if(Array.isArray(t))return VA(t)}function VA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var p1e=function(e){return e},$q={},Uq=function(e){return e===$q},x6=function(e){return function r(){return arguments.length===0||arguments.length===1&&Uq(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},m1e=function t(e,r){return e===1?r:x6(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(l){return l!==$q}).length;return s>=e?r.apply(void 0,i):t(e-s,x6(function(){for(var l=arguments.length,d=new Array(l),h=0;h<l;h++)d[h]=arguments[h];var g=i.map(function(v){return Uq(v)?d.shift():v});return r.apply(void 0,c1e(g).concat(d))}))})},yx=function(e){return m1e(e.length,e)},WA=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},g1e=yx(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),v1e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return p1e;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(l,d){return d(l)},a.apply(void 0,arguments))}},qA=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Vq=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(l,d){return l===r[d]})||(r=a,n=e.apply(void 0,a)),n}};function y1e(t){var e;return t===0?e=1:e=Math.floor(new qr(t).abs().log(10).toNumber())+1,e}function x1e(t,e,r){for(var n=new qr(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var w1e=yx(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),b1e=yx(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),_1e=yx(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const xx={rangeStep:x1e,getDigitCount:y1e,interpolateNumber:w1e,uninterpolateNumber:b1e,uninterpolateTruncation:_1e};function zA(t){return C1e(t)||E1e(t)||Wq(t)||S1e()}function S1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E1e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function C1e(t){if(Array.isArray(t))return HA(t)}function Sm(t,e){return T1e(t)||O1e(t,e)||Wq(t,e)||A1e()}function A1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wq(t,e){if(t){if(typeof t=="string")return HA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HA(t,e)}}function HA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function O1e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,a=d}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function T1e(t){if(Array.isArray(t))return t}function qq(t){var e=Sm(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function zq(t,e,r){if(t.lte(0))return new qr(0);var n=xx.getDigitCount(t.toNumber()),i=new qr(10).pow(n),a=t.div(i),s=n!==1?.05:.1,l=new qr(Math.ceil(a.div(s).toNumber())).add(r).mul(s),d=l.mul(i);return e?d:new qr(Math.ceil(d))}function N1e(t,e,r){var n=1,i=new qr(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new qr(10).pow(xx.getDigitCount(t)-1),i=new qr(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new qr(Math.floor(t)))}else t===0?i=new qr(Math.floor((e-1)/2)):r||(i=new qr(Math.floor(t)));var s=Math.floor((e-1)/2),l=v1e(g1e(function(d){return i.add(new qr(d-s).mul(n)).toNumber()}),WA);return l(0,e)}function Hq(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new qr(0),tickMin:new qr(0),tickMax:new qr(0)};var a=zq(new qr(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new qr(0):(s=new qr(t).add(e).div(2),s=s.sub(new qr(s).mod(a)));var l=Math.ceil(s.sub(t).div(a).toNumber()),d=Math.ceil(new qr(e).sub(s).div(a).toNumber()),h=l+d+1;return h>r?Hq(t,e,r,n,i+1):(h<r&&(d=e>0?d+(r-h):d,l=e>0?l:l+(r-h)),{step:a,tickMin:s.sub(new qr(l).mul(a)),tickMax:s.add(new qr(d).mul(a))})}function k1e(t){var e=Sm(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=qq([r,n]),d=Sm(l,2),h=d[0],g=d[1];if(h===-1/0||g===1/0){var v=g===1/0?[h].concat(zA(WA(0,i-1).map(function(){return 1/0}))):[].concat(zA(WA(0,i-1).map(function(){return-1/0})),[g]);return r>n?qA(v):v}if(h===g)return N1e(h,i,a);var b=Hq(h,g,s,a),S=b.step,O=b.tickMin,E=b.tickMax,C=xx.rangeStep(O,E.add(new qr(.1).mul(S)),S);return r>n?qA(C):C}function P1e(t,e){var r=Sm(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=qq([n,i]),l=Sm(s,2),d=l[0],h=l[1];if(d===-1/0||h===1/0)return[n,i];if(d===h)return[d];var g=Math.max(e,2),v=zq(new qr(h).sub(d).div(g-1),a,0),b=[].concat(zA(xx.rangeStep(new qr(d),new qr(h).sub(new qr(.99).mul(v)),v)),[h]);return n>i?qA(b):b}var j1e=Vq(k1e),I1e=Vq(P1e),R1e="Invariant failed";function Uu(t,e){throw new Error(R1e)}var M1e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function jy(){return jy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jy.apply(this,arguments)}function D1e(t,e){return $1e(t)||F1e(t,e)||B1e(t,e)||L1e()}function L1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B1e(t,e){if(t){if(typeof t=="string")return w6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w6(t,e)}}function w6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function F1e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function $1e(t){if(Array.isArray(t))return t}function U1e(t,e){if(t==null)return{};var r=V1e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function V1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function W1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q1e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Yq(n.key),n)}}function z1e(t,e,r){return e&&q1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function H1e(t,e,r){return e=Iy(e),G1e(t,Gq()?Reflect.construct(e,r||[],Iy(t).constructor):e.apply(t,r))}function G1e(t,e){if(e&&($f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K1e(t)}function K1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gq=function(){return!!t})()}function Iy(t){return Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iy(t)}function Y1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GA(t,e)}function GA(t,e){return GA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},GA(t,e)}function Kq(t,e,r){return e=Yq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yq(t){var e=X1e(t,"string");return $f(e)=="symbol"?e:e+""}function X1e(t,e){if($f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _g=(function(t){function e(){return W1e(this,e),H1e(this,e,arguments)}return Y1e(e,t),z1e(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,l=n.dataKey,d=n.data,h=n.dataPointFormatter,g=n.xAxis,v=n.yAxis,b=U1e(n,M1e),S=At(b,!1);this.props.direction==="x"&&g.type!=="number"&&Uu();var O=d.map(function(E){var C=h(E,l),j=C.x,P=C.y,I=C.value,F=C.errorVal;if(!F)return null;var R=[],M,B;if(Array.isArray(F)){var q=D1e(F,2);M=q[0],B=q[1]}else M=B=F;if(a==="vertical"){var U=g.scale,z=P+i,G=z+s,W=z-s,H=U(I-M),Q=U(I+B);R.push({x1:Q,y1:G,x2:Q,y2:W}),R.push({x1:H,y1:z,x2:Q,y2:z}),R.push({x1:H,y1:G,x2:H,y2:W})}else if(a==="horizontal"){var X=v.scale,se=j+i,ne=se-s,re=se+s,J=X(I-M),he=X(I+B);R.push({x1:ne,y1:he,x2:re,y2:he}),R.push({x1:se,y1:J,x2:se,y2:he}),R.push({x1:ne,y1:J,x2:re,y2:J})}return te.createElement(fr,jy({className:"recharts-errorBar",key:"bar-".concat(R.map(function(ie){return"".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))},S),R.map(function(ie){return te.createElement("line",jy({},ie,{key:"line-".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))}))});return te.createElement(fr,{className:"recharts-errorBars"},O)}}])})(te.Component);Kq(_g,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Kq(_g,"displayName","ErrorBar");function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}function b6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b6(Object(r),!0).forEach(function(n){Z1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z1e(t,e,r){return e=Q1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q1e(t){var e=J1e(t,"string");return Em(e)=="symbol"?e:e+""}function J1e(t,e){if(Em(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xq=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=ka(r,Jo);if(!s)return null;var l=Jo.defaultProps,d=l!==void 0?Jc(Jc({},l),s.props):{},h;return s.props&&s.props.payload?h=s.props&&s.props.payload:a==="children"?h=(n||[]).reduce(function(g,v){var b=v.item,S=v.props,O=S.sectors||S.data||[];return g.concat(O.map(function(E){return{type:s.props.iconType||b.props.legendType,value:E.name,color:E.fill,payload:E}}))},[]):h=(n||[]).map(function(g){var v=g.item,b=v.type.defaultProps,S=b!==void 0?Jc(Jc({},b),v.props):{},O=S.dataKey,E=S.name,C=S.legendType,j=S.hide;return{inactive:j,dataKey:O,type:d.iconType||C||"square",color:wk(v),value:E||O,payload:S}}),Jc(Jc(Jc({},d),Jo.getWithHeight(s,i)),{},{payload:h,item:s})};function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}function _6(t){return nxe(t)||rxe(t)||txe(t)||exe()}function exe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function txe(t,e){if(t){if(typeof t=="string")return KA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KA(t,e)}}function rxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nxe(t){if(Array.isArray(t))return KA(t)}function KA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function S6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S6(Object(r),!0).forEach(function(n){df(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function df(t,e,r){return e=ixe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ixe(t){var e=axe(t,"string");return Cm(e)=="symbol"?e:e+""}function axe(t,e){if(Cm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rn(t,e,r){return Vt(t)||Vt(e)?r:ai(e)?$a(t,e,r):Dt(e)?e(t):r}function Lp(t,e,r,n){var i=n1e(t,function(l){return Rn(l,e)});if(r==="number"){var a=i.filter(function(l){return Je(l)||parseFloat(l)});return a.length?[vx(a),ec(a)]:[1/0,-1/0]}var s=n?i.filter(function(l){return!Vt(l)}):i;return s.map(function(l){return ai(l)||l instanceof Date?l:""})}var sxe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var d=a.range,h=0;h<l;h++){var g=h>0?i[h-1].coordinate:i[l-1].coordinate,v=i[h].coordinate,b=h>=l-1?i[0].coordinate:i[h+1].coordinate,S=void 0;if(Hi(v-g)!==Hi(b-v)){var O=[];if(Hi(b-v)===Hi(d[1]-d[0])){S=b;var E=v+d[1]-d[0];O[0]=Math.min(E,(E+g)/2),O[1]=Math.max(E,(E+g)/2)}else{S=g;var C=b+d[1]-d[0];O[0]=Math.min(v,(C+v)/2),O[1]=Math.max(v,(C+v)/2)}var j=[Math.min(v,(S+v)/2),Math.max(v,(S+v)/2)];if(e>j[0]&&e<=j[1]||e>=O[0]&&e<=O[1]){s=i[h].index;break}}else{var P=Math.min(g,b),I=Math.max(g,b);if(e>(P+v)/2&&e<=(I+v)/2){s=i[h].index;break}}}else for(var F=0;F<l;F++)if(F===0&&e<=(n[F].coordinate+n[F+1].coordinate)/2||F>0&&F<l-1&&e>(n[F].coordinate+n[F-1].coordinate)/2&&e<=(n[F].coordinate+n[F+1].coordinate)/2||F===l-1&&e>(n[F].coordinate+n[F-1].coordinate)/2){s=n[F].index;break}return s},wk=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Tn(Tn({},e.type.defaultProps),e.props):e.props,s=a.stroke,l=a.fill,d;switch(i){case"Line":d=s;break;case"Area":case"Radar":d=s&&s!=="none"?s:l;break;default:d=l;break}return d},oxe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},l=Object.keys(a),d=0,h=l.length;d<h;d++)for(var g=a[l[d]].stackGroups,v=Object.keys(g),b=0,S=v.length;b<S;b++){var O=g[v[b]],E=O.items,C=O.cateAxisId,j=E.filter(function(B){return Qo(B.type).indexOf("Bar")>=0});if(j&&j.length){var P=j[0].type.defaultProps,I=P!==void 0?Tn(Tn({},P),j[0].props):j[0].props,F=I.barSize,R=I[C];s[R]||(s[R]=[]);var M=Vt(F)?r:F;s[R].push({item:j[0],stackList:j.slice(1),barSize:Vt(M)?void 0:Gi(M,n,0)})}}return s},lxe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,l=e.maxBarSize,d=s.length;if(d<1)return null;var h=Gi(r,i,0,!0),g,v=[];if(s[0].barSize===+s[0].barSize){var b=!1,S=i/d,O=s.reduce(function(F,R){return F+R.barSize||0},0);O+=(d-1)*h,O>=i&&(O-=(d-1)*h,h=0),O>=i&&S>0&&(b=!0,S*=.9,O=d*S);var E=(i-O)/2>>0,C={offset:E-h,size:0};g=s.reduce(function(F,R){var M={item:R.item,position:{offset:C.offset+C.size+h,size:b?S:R.barSize}},B=[].concat(_6(F),[M]);return C=B[B.length-1].position,R.stackList&&R.stackList.length&&R.stackList.forEach(function(q){B.push({item:q,position:C})}),B},v)}else{var j=Gi(n,i,0,!0);i-2*j-(d-1)*h<=0&&(h=0);var P=(i-2*j-(d-1)*h)/d;P>1&&(P>>=0);var I=l===+l?Math.min(P,l):P;g=s.reduce(function(F,R,M){var B=[].concat(_6(F),[{item:R.item,position:{offset:j+(P+h)*M+(P-I)/2,size:I}}]);return R.stackList&&R.stackList.length&&R.stackList.forEach(function(q){B.push({item:q,position:B[B.length-1].position})}),B},v)}return g},cxe=function(e,r,n,i){var a=n.children,s=n.width,l=n.margin,d=s-(l.left||0)-(l.right||0),h=Xq({children:a,legendWidth:d});if(h){var g=i||{},v=g.width,b=g.height,S=h.align,O=h.verticalAlign,E=h.layout;if((E==="vertical"||E==="horizontal"&&O==="middle")&&S!=="center"&&Je(e[S]))return Tn(Tn({},e),{},df({},S,e[S]+(v||0)));if((E==="horizontal"||E==="vertical"&&S==="center")&&O!=="middle"&&Je(e[O]))return Tn(Tn({},e),{},df({},O,e[O]+(b||0)))}return e},uxe=function(e,r,n){return Vt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Zq=function(e,r,n,i,a){var s=r.props.children,l=Ua(s,_g).filter(function(h){return uxe(i,a,h.props.direction)});if(l&&l.length){var d=l.map(function(h){return h.props.dataKey});return e.reduce(function(h,g){var v=Rn(g,n);if(Vt(v))return h;var b=Array.isArray(v)?[vx(v),ec(v)]:[v,v],S=d.reduce(function(O,E){var C=Rn(g,E,0),j=b[0]-Math.abs(Array.isArray(C)?C[0]:C),P=b[1]+Math.abs(Array.isArray(C)?C[1]:C);return[Math.min(j,O[0]),Math.max(P,O[1])]},[1/0,-1/0]);return[Math.min(S[0],h[0]),Math.max(S[1],h[1])]},[1/0,-1/0])}return null},dxe=function(e,r,n,i,a){var s=r.map(function(l){return Zq(e,l,n,a,i)}).filter(function(l){return!Vt(l)});return s&&s.length?s.reduce(function(l,d){return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]):null},Qq=function(e,r,n,i,a){var s=r.map(function(d){var h=d.props.dataKey;return n==="number"&&h&&Zq(e,d,h,i)||Lp(e,h,n,a)});if(n==="number")return s.reduce(function(d,h){return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);var l={};return s.reduce(function(d,h){for(var g=0,v=h.length;g<v;g++)l[h[g]]||(l[h[g]]=!0,d.push(h[g]));return d},[])},Jq=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},ez=function(e,r,n,i){if(i)return e.map(function(d){return d.coordinate});var a,s,l=e.map(function(d){return d.coordinate===r&&(a=!0),d.coordinate===n&&(s=!0),d.coordinate});return a||l.push(r),s||l.push(n),l},Yo=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,l=e.range,d=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/d:0;if(h=e.axisType==="angleAxis"&&l?.length>=2?Hi(l[0]-l[1])*2*h:h,r&&(e.ticks||e.niceTicks)){var g=(e.ticks||e.niceTicks).map(function(v){var b=a?a.indexOf(v):v;return{coordinate:i(b)+h,value:v,offset:h}});return g.filter(function(v){return!mh(v.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(v,b){return{coordinate:i(v)+h,value:v,index:b,offset:h}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(v){return{coordinate:i(v)+h,value:v,offset:h}}):i.domain().map(function(v,b){return{coordinate:i(v)+h,value:a?a[v]:v,index:b,offset:h}})},LE=new WeakMap,ov=function(e,r){if(typeof r!="function")return e;LE.has(e)||LE.set(e,new WeakMap);var n=LE.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},tz=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,l=e.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:vm(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:Oy(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Dp(),realScaleType:"point"}:a==="category"?{scale:vm(),realScaleType:"band"}:{scale:Oy(),realScaleType:"linear"};if(Du(i)){var d="scale".concat(rx(i));return{scale:(l6[d]||Dp)(),realScaleType:l6[d]?d:"point"}}return Dt(i)?{scale:i}:{scale:Dp(),realScaleType:"point"}},E6=1e-4,rz=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-E6,s=Math.max(i[0],i[1])+E6,l=e(r[0]),d=e(r[n-1]);(l<a||l>s||d<a||d>s)&&e.domain([r[0],r[n-1]])}},fxe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},hxe=function(e,r){if(!r||r.length!==2||!Je(r[0])||!Je(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!Je(e[0])||e[0]<n)&&(a[0]=n),(!Je(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},pxe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,l=0;l<r;++l){var d=mh(e[l][n][1])?e[l][n][0]:e[l][n][1];d>=0?(e[l][n][0]=a,e[l][n][1]=a+d,a=e[l][n][1]):(e[l][n][0]=s,e[l][n][1]=s+d,s=e[l][n][1])}},mxe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var l=mh(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},gxe={sign:pxe,expand:npe,none:jf,silhouette:ipe,wiggle:ape,positive:mxe},vxe=function(e,r,n){var i=r.map(function(l){return l.props.dataKey}),a=gxe[n],s=rpe().keys(i).value(function(l,d){return+Rn(l,d,0)}).order(EA).offset(a);return s(e)},yxe=function(e,r,n,i,a,s){if(!e)return null;var l=s?r.reverse():r,d={},h=l.reduce(function(v,b){var S,O=(S=b.type)!==null&&S!==void 0&&S.defaultProps?Tn(Tn({},b.type.defaultProps),b.props):b.props,E=O.stackId,C=O.hide;if(C)return v;var j=O[n],P=v[j]||{hasStack:!1,stackGroups:{}};if(ai(E)){var I=P.stackGroups[E]||{numericAxisId:n,cateAxisId:i,items:[]};I.items.push(b),P.hasStack=!0,P.stackGroups[E]=I}else P.stackGroups[Ju("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[b]};return Tn(Tn({},v),{},df({},j,P))},d),g={};return Object.keys(h).reduce(function(v,b){var S=h[b];if(S.hasStack){var O={};S.stackGroups=Object.keys(S.stackGroups).reduce(function(E,C){var j=S.stackGroups[C];return Tn(Tn({},E),{},df({},C,{numericAxisId:n,cateAxisId:i,items:j.items,stackedData:vxe(e,j.items,a)}))},O)}return Tn(Tn({},v),{},df({},b,S))},g)},nz=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,l=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var h=e.domain();if(!h.length)return null;var g=j1e(h,a,l);return e.domain([vx(g),ec(g)]),{niceTicks:g}}if(a&&i==="number"){var v=e.domain(),b=I1e(v,a,l);return{niceTicks:b}}return null};function Ry(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Vt(i[e.dataKey])){var l=cy(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var d=Rn(i,Vt(s)?e.dataKey:s);return Vt(d)?null:e.scale(d)}var C6=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var d=Rn(s,r.dataKey,r.domain[l]);return Vt(d)?null:r.scale(d)-a/2+i},xxe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},wxe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Tn(Tn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(ai(a)){var s=r[a];if(s){var l=s.items.indexOf(e);return l>=0?s.stackedData[l]:null}}return null},bxe=function(e){return e.reduce(function(r,n){return[vx(n.concat([r[0]]).filter(Je)),ec(n.concat([r[1]]).filter(Je))]},[1/0,-1/0])},iz=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],l=s.stackedData,d=l.reduce(function(h,g){var v=bxe(g.slice(r,n+1));return[Math.min(h[0],v[0]),Math.max(h[1],v[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},A6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,O6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,YA=function(e,r,n){if(Dt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Je(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(A6.test(e[0])){var a=+A6.exec(e[0])[1];i[0]=r[0]-a}else Dt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Je(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(O6.test(e[1])){var s=+O6.exec(e[1])[1];i[1]=r[1]+s}else Dt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},My=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=KN(r,function(v){return v.coordinate}),s=1/0,l=1,d=a.length;l<d;l++){var h=a[l],g=a[l-1];s=Math.min((h.coordinate||0)-(g.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},T6=function(e,r,n){return!e||!e.length||Fu(e,$a(n,"type.defaultProps.domain"))?r:e},az=function(e,r){var n=e.type.defaultProps?Tn(Tn({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,l=n.formatter,d=n.tooltipType,h=n.chartType,g=n.hide;return Tn(Tn({},At(e,!1)),{},{dataKey:i,unit:s,formatter:l,name:a||i,color:wk(e),value:Rn(r,i),type:d,payload:r,chartType:h,hide:g})};function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function N6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N6(Object(r),!0).forEach(function(n){sz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sz(t,e,r){return e=_xe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _xe(t){var e=Sxe(t,"string");return Am(e)=="symbol"?e:e+""}function Sxe(t,e){if(Am(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Exe(t,e){return Txe(t)||Oxe(t,e)||Axe(t,e)||Cxe()}function Cxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Axe(t,e){if(t){if(typeof t=="string")return k6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k6(t,e)}}function k6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Oxe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function Txe(t){if(Array.isArray(t))return t}var Dy=Math.PI/180,Nxe=function(e){return e*180/Math.PI},an=function(e,r,n,i){return{x:e+Math.cos(-Dy*i)*n,y:r+Math.sin(-Dy*i)*n}},oz=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},kxe=function(e,r,n,i,a){var s=e.width,l=e.height,d=e.startAngle,h=e.endAngle,g=Gi(e.cx,s,s/2),v=Gi(e.cy,l,l/2),b=oz(s,l,n),S=Gi(e.innerRadius,b,0),O=Gi(e.outerRadius,b,b*.8),E=Object.keys(r);return E.reduce(function(C,j){var P=r[j],I=P.domain,F=P.reversed,R;if(Vt(P.range))i==="angleAxis"?R=[d,h]:i==="radiusAxis"&&(R=[S,O]),F&&(R=[R[1],R[0]]);else{R=P.range;var M=R,B=Exe(M,2);d=B[0],h=B[1]}var q=tz(P,a),U=q.realScaleType,z=q.scale;z.domain(I).range(R),rz(z);var G=nz(z,zo(zo({},P),{},{realScaleType:U})),W=zo(zo(zo({},P),G),{},{range:R,radius:O,realScaleType:U,scale:z,cx:g,cy:v,innerRadius:S,outerRadius:O,startAngle:d,endAngle:h});return zo(zo({},C),{},sz({},j,W))},{})},Pxe=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},jxe=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,l=Pxe({x:n,y:i},{x:a,y:s});if(l<=0)return{radius:l};var d=(n-a)/l,h=Math.acos(d);return i>s&&(h=2*Math.PI-h),{radius:l,angle:Nxe(h),angleInRadian:h}},Ixe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},Rxe=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),l=Math.min(a,s);return e+l*360},P6=function(e,r){var n=e.x,i=e.y,a=jxe({x:n,y:i},r),s=a.radius,l=a.angle,d=r.innerRadius,h=r.outerRadius;if(s<d||s>h)return!1;if(s===0)return!0;var g=Ixe(r),v=g.startAngle,b=g.endAngle,S=l,O;if(v<=b){for(;S>b;)S-=360;for(;S<v;)S+=360;O=S>=v&&S<=b}else{for(;S>v;)S-=360;for(;S<b;)S+=360;O=S>=b&&S<=v}return O?zo(zo({},r),{},{radius:s,angle:Rxe(S,r)}):null},lz=function(e){return!N.isValidElement(e)&&!Dt(e)&&typeof e!="boolean"?e.className:""};function Om(t){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}var Mxe=["offset"];function Dxe(t){return $xe(t)||Fxe(t)||Bxe(t)||Lxe()}function Lxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bxe(t,e){if(t){if(typeof t=="string")return XA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XA(t,e)}}function Fxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $xe(t){if(Array.isArray(t))return XA(t)}function XA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Uxe(t,e){if(t==null)return{};var r=Vxe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function j6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ti(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j6(Object(r),!0).forEach(function(n){Wxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wxe(t,e,r){return e=qxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qxe(t){var e=zxe(t,"string");return Om(e)=="symbol"?e:e+""}function zxe(t,e){if(Om(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tm(){return Tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tm.apply(this,arguments)}var Hxe=function(e){var r=e.value,n=e.formatter,i=Vt(e.children)?r:e.children;return Dt(n)?n(i):i},Gxe=function(e,r){var n=Hi(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Kxe=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,l=e.className,d=a,h=d.cx,g=d.cy,v=d.innerRadius,b=d.outerRadius,S=d.startAngle,O=d.endAngle,E=d.clockWise,C=(v+b)/2,j=Gxe(S,O),P=j>=0?1:-1,I,F;i==="insideStart"?(I=S+P*s,F=E):i==="insideEnd"?(I=O-P*s,F=!E):i==="end"&&(I=O+P*s,F=E),F=j<=0?F:!F;var R=an(h,g,C,I),M=an(h,g,C,I+(F?1:-1)*359),B="M".concat(R.x,",").concat(R.y,`
    A`).concat(C,",").concat(C,",0,1,").concat(F?0:1,`,
    `).concat(M.x,",").concat(M.y),q=Vt(e.id)?Ju("recharts-radial-line-"):e.id;return te.createElement("text",Tm({},n,{dominantBaseline:"central",className:zt("recharts-radial-bar-label",l)}),te.createElement("defs",null,te.createElement("path",{id:q,d:B})),te.createElement("textPath",{xlinkHref:"#".concat(q)},r))},Yxe=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,l=a.cy,d=a.innerRadius,h=a.outerRadius,g=a.startAngle,v=a.endAngle,b=(g+v)/2;if(i==="outside"){var S=an(s,l,h+n,b),O=S.x,E=S.y;return{x:O,y:E,textAnchor:O>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var C=(d+h)/2,j=an(s,l,C,b),P=j.x,I=j.y;return{x:P,y:I,textAnchor:"middle",verticalAnchor:"middle"}},Xxe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,l=s.x,d=s.y,h=s.width,g=s.height,v=g>=0?1:-1,b=v*i,S=v>0?"end":"start",O=v>0?"start":"end",E=h>=0?1:-1,C=E*i,j=E>0?"end":"start",P=E>0?"start":"end";if(a==="top"){var I={x:l+h/2,y:d-v*i,textAnchor:"middle",verticalAnchor:S};return ti(ti({},I),n?{height:Math.max(d-n.y,0),width:h}:{})}if(a==="bottom"){var F={x:l+h/2,y:d+g+b,textAnchor:"middle",verticalAnchor:O};return ti(ti({},F),n?{height:Math.max(n.y+n.height-(d+g),0),width:h}:{})}if(a==="left"){var R={x:l-C,y:d+g/2,textAnchor:j,verticalAnchor:"middle"};return ti(ti({},R),n?{width:Math.max(R.x-n.x,0),height:g}:{})}if(a==="right"){var M={x:l+h+C,y:d+g/2,textAnchor:P,verticalAnchor:"middle"};return ti(ti({},M),n?{width:Math.max(n.x+n.width-M.x,0),height:g}:{})}var B=n?{width:h,height:g}:{};return a==="insideLeft"?ti({x:l+C,y:d+g/2,textAnchor:P,verticalAnchor:"middle"},B):a==="insideRight"?ti({x:l+h-C,y:d+g/2,textAnchor:j,verticalAnchor:"middle"},B):a==="insideTop"?ti({x:l+h/2,y:d+b,textAnchor:"middle",verticalAnchor:O},B):a==="insideBottom"?ti({x:l+h/2,y:d+g-b,textAnchor:"middle",verticalAnchor:S},B):a==="insideTopLeft"?ti({x:l+C,y:d+b,textAnchor:P,verticalAnchor:O},B):a==="insideTopRight"?ti({x:l+h-C,y:d+b,textAnchor:j,verticalAnchor:O},B):a==="insideBottomLeft"?ti({x:l+C,y:d+g-b,textAnchor:P,verticalAnchor:S},B):a==="insideBottomRight"?ti({x:l+h-C,y:d+g-b,textAnchor:j,verticalAnchor:S},B):ph(a)&&(Je(a.x)||gu(a.x))&&(Je(a.y)||gu(a.y))?ti({x:l+Gi(a.x,h),y:d+Gi(a.y,g),textAnchor:"end",verticalAnchor:"end"},B):ti({x:l+h/2,y:d+g/2,textAnchor:"middle",verticalAnchor:"middle"},B)},Zxe=function(e){return"cx"in e&&Je(e.cx)};function pi(t){var e=t.offset,r=e===void 0?5:e,n=Uxe(t,Mxe),i=ti({offset:r},n),a=i.viewBox,s=i.position,l=i.value,d=i.children,h=i.content,g=i.className,v=g===void 0?"":g,b=i.textBreakAll;if(!a||Vt(l)&&Vt(d)&&!N.isValidElement(h)&&!Dt(h))return null;if(N.isValidElement(h))return N.cloneElement(h,i);var S;if(Dt(h)){if(S=N.createElement(h,i),N.isValidElement(S))return S}else S=Hxe(i);var O=Zxe(a),E=At(i,!0);if(O&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Kxe(i,S,E);var C=O?Yxe(i):Xxe(i);return te.createElement(Bu,Tm({className:zt("recharts-label",v)},E,C,{breakAll:b}),S)}pi.displayName="Label";var cz=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,l=e.r,d=e.radius,h=e.innerRadius,g=e.outerRadius,v=e.x,b=e.y,S=e.top,O=e.left,E=e.width,C=e.height,j=e.clockWise,P=e.labelViewBox;if(P)return P;if(Je(E)&&Je(C)){if(Je(v)&&Je(b))return{x:v,y:b,width:E,height:C};if(Je(S)&&Je(O))return{x:S,y:O,width:E,height:C}}return Je(v)&&Je(b)?{x:v,y:b,width:0,height:0}:Je(r)&&Je(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:h||0,outerRadius:g||d||l||0,clockWise:j}:e.viewBox?e.viewBox:{}},Qxe=function(e,r){return e?e===!0?te.createElement(pi,{key:"label-implicit",viewBox:r}):ai(e)?te.createElement(pi,{key:"label-implicit",viewBox:r,value:e}):N.isValidElement(e)?e.type===pi?N.cloneElement(e,{key:"label-implicit",viewBox:r}):te.createElement(pi,{key:"label-implicit",content:e,viewBox:r}):Dt(e)?te.createElement(pi,{key:"label-implicit",content:e,viewBox:r}):ph(e)?te.createElement(pi,Tm({viewBox:r},e,{key:"label-implicit"})):null:null},Jxe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=cz(e),s=Ua(i,pi).map(function(d,h){return N.cloneElement(d,{viewBox:r||a,key:"label-".concat(h)})});if(!n)return s;var l=Qxe(e.label,r||a);return[l].concat(Dxe(s))};pi.parseViewBox=cz;pi.renderCallByParent=Jxe;var BE,I6;function ewe(){if(I6)return BE;I6=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return BE=t,BE}var twe=ewe();const rwe=Cr(twe);function Nm(t){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(t)}var nwe=["valueAccessor"],iwe=["data","dataKey","clockWise","id","textBreakAll"];function awe(t){return cwe(t)||lwe(t)||owe(t)||swe()}function swe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function owe(t,e){if(t){if(typeof t=="string")return ZA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZA(t,e)}}function lwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cwe(t){if(Array.isArray(t))return ZA(t)}function ZA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ly(){return Ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ly.apply(this,arguments)}function R6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function M6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R6(Object(r),!0).forEach(function(n){uwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uwe(t,e,r){return e=dwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dwe(t){var e=fwe(t,"string");return Nm(e)=="symbol"?e:e+""}function fwe(t,e){if(Nm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D6(t,e){if(t==null)return{};var r=hwe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hwe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var pwe=function(e){return Array.isArray(e.value)?rwe(e.value):e.value};function go(t){var e=t.valueAccessor,r=e===void 0?pwe:e,n=D6(t,nwe),i=n.data,a=n.dataKey,s=n.clockWise,l=n.id,d=n.textBreakAll,h=D6(n,iwe);return!i||!i.length?null:te.createElement(fr,{className:"recharts-label-list"},i.map(function(g,v){var b=Vt(a)?r(g,v):Rn(g&&g.payload,a),S=Vt(l)?{}:{id:"".concat(l,"-").concat(v)};return te.createElement(pi,Ly({},At(g,!0),h,S,{parentViewBox:g.parentViewBox,value:b,textBreakAll:d,viewBox:pi.parseViewBox(Vt(s)?g:M6(M6({},g),{},{clockWise:s})),key:"label-".concat(v),index:v}))}))}go.displayName="LabelList";function mwe(t,e){return t?t===!0?te.createElement(go,{key:"labelList-implicit",data:e}):te.isValidElement(t)||Dt(t)?te.createElement(go,{key:"labelList-implicit",data:e,content:t}):ph(t)?te.createElement(go,Ly({data:e},t,{key:"labelList-implicit"})):null:null}function gwe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Ua(n,go).map(function(s,l){return N.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!r)return i;var a=mwe(t.label,e);return[a].concat(awe(i))}go.renderCallByParent=gwe;function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}function QA(){return QA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QA.apply(this,arguments)}function L6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function B6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L6(Object(r),!0).forEach(function(n){vwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vwe(t,e,r){return e=ywe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ywe(t){var e=xwe(t,"string");return km(e)=="symbol"?e:e+""}function xwe(t,e){if(km(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wwe=function(e,r){var n=Hi(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},lv=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,l=e.isExternal,d=e.cornerRadius,h=e.cornerIsExternal,g=d*(l?1:-1)+i,v=Math.asin(d/g)/Dy,b=h?a:a+s*v,S=an(r,n,g,b),O=an(r,n,i,b),E=h?a-s*v:a,C=an(r,n,g*Math.cos(v*Dy),E);return{center:S,circleTangency:O,lineTangency:C,theta:v}},uz=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,l=e.endAngle,d=wwe(s,l),h=s+d,g=an(r,n,a,s),v=an(r,n,a,h),b="M ".concat(g.x,",").concat(g.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(s>h),`,
    `).concat(v.x,",").concat(v.y,`
  `);if(i>0){var S=an(r,n,i,s),O=an(r,n,i,h);b+="L ".concat(O.x,",").concat(O.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(s<=h),`,
            `).concat(S.x,",").concat(S.y," Z")}else b+="L ".concat(r,",").concat(n," Z");return b},bwe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,d=e.cornerIsExternal,h=e.startAngle,g=e.endAngle,v=Hi(g-h),b=lv({cx:r,cy:n,radius:a,angle:h,sign:v,cornerRadius:s,cornerIsExternal:d}),S=b.circleTangency,O=b.lineTangency,E=b.theta,C=lv({cx:r,cy:n,radius:a,angle:g,sign:-v,cornerRadius:s,cornerIsExternal:d}),j=C.circleTangency,P=C.lineTangency,I=C.theta,F=d?Math.abs(h-g):Math.abs(h-g)-E-I;if(F<0)return l?"M ".concat(O.x,",").concat(O.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):uz({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:h,endAngle:g});var R="M ".concat(O.x,",").concat(O.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(v<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(F>180),",").concat(+(v<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(v<0),",").concat(P.x,",").concat(P.y,`
  `);if(i>0){var M=lv({cx:r,cy:n,radius:i,angle:h,sign:v,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),B=M.circleTangency,q=M.lineTangency,U=M.theta,z=lv({cx:r,cy:n,radius:i,angle:g,sign:-v,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),G=z.circleTangency,W=z.lineTangency,H=z.theta,Q=d?Math.abs(h-g):Math.abs(h-g)-U-H;if(Q<0&&s===0)return"".concat(R,"L").concat(r,",").concat(n,"Z");R+="L".concat(W.x,",").concat(W.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(v<0),",").concat(G.x,",").concat(G.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Q>180),",").concat(+(v>0),",").concat(B.x,",").concat(B.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(v<0),",").concat(q.x,",").concat(q.y,"Z")}else R+="L".concat(r,",").concat(n,"Z");return R},_we={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},dz=function(e){var r=B6(B6({},_we),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,d=r.forceCornerRadius,h=r.cornerIsExternal,g=r.startAngle,v=r.endAngle,b=r.className;if(s<a||g===v)return null;var S=zt("recharts-sector",b),O=s-a,E=Gi(l,O,0,!0),C;return E>0&&Math.abs(g-v)<360?C=bwe({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(E,O/2),forceCornerRadius:d,cornerIsExternal:h,startAngle:g,endAngle:v}):C=uz({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:g,endAngle:v}),te.createElement("path",QA({},At(r,!0),{className:S,d:C,role:"img"}))};function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function JA(){return JA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JA.apply(this,arguments)}function F6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F6(Object(r),!0).forEach(function(n){Swe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Swe(t,e,r){return e=Ewe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ewe(t){var e=Cwe(t,"string");return Pm(e)=="symbol"?e:e+""}function Cwe(t,e){if(Pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var U6={curveBasisClosed:zhe,curveBasisOpen:Hhe,curveBasis:qhe,curveBumpX:khe,curveBumpY:Phe,curveLinearClosed:Ghe,curveLinear:ix,curveMonotoneX:Khe,curveMonotoneY:Yhe,curveNatural:Xhe,curveStep:Zhe,curveStepAfter:Jhe,curveStepBefore:Qhe},cv=function(e){return e.x===+e.x&&e.y===+e.y},xp=function(e){return e.x},wp=function(e){return e.y},Awe=function(e,r){if(Dt(e))return e;var n="curve".concat(rx(e));return(n==="curveMonotone"||n==="curveBump")&&r?U6["".concat(n).concat(r==="vertical"?"Y":"X")]:U6[n]||ix},Owe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,l=e.layout,d=e.connectNulls,h=d===void 0?!1:d,g=Awe(n,l),v=h?a.filter(function(E){return cv(E)}):a,b;if(Array.isArray(s)){var S=h?s.filter(function(E){return cv(E)}):s,O=v.map(function(E,C){return $6($6({},E),{},{base:S[C]})});return l==="vertical"?b=J0().y(wp).x1(xp).x0(function(E){return E.base.x}):b=J0().x(xp).y1(wp).y0(function(E){return E.base.y}),b.defined(cv).curve(g),b(O)}return l==="vertical"&&Je(s)?b=J0().y(wp).x1(xp).x0(s):Je(s)?b=J0().x(xp).y1(wp).y0(s):b=cW().x(xp).y(wp),b.defined(cv).curve(g),b(v)},Cu=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?Owe(e):i;return N.createElement("path",JA({},At(e,!1),uy(e),{className:zt("recharts-curve",r),d:s,ref:a}))},FE={exports:{}},$E,V6;function Twe(){if(V6)return $E;V6=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return $E=t,$E}var UE,W6;function Nwe(){if(W6)return UE;W6=1;var t=Twe();function e(){}function r(){}return r.resetWarningCache=e,UE=function(){function n(s,l,d,h,g,v){if(v!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},UE}var q6;function kwe(){return q6||(q6=1,FE.exports=Nwe()()),FE.exports}var Pwe=kwe();const Br=Cr(Pwe);var jwe=Object.getOwnPropertyNames,Iwe=Object.getOwnPropertySymbols,Rwe=Object.prototype.hasOwnProperty;function z6(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function uv(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,s=a.get(r),l=a.get(n);if(s&&l)return s===n&&l===r;a.set(r,n),a.set(n,r);var d=t(r,n,i);return a.delete(r),a.delete(n),d}}function H6(t){return jwe(t).concat(Iwe(t))}var Mwe=Object.hasOwn||(function(t,e){return Rwe.call(t,e)});function rd(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Dwe="__v",Lwe="__o",Bwe="_owner",G6=Object.getOwnPropertyDescriptor,K6=Object.keys;function Fwe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function $we(t,e){return rd(t.getTime(),e.getTime())}function Uwe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Vwe(t,e){return t===e}function Y6(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),s,l,d=0;(s=a.next())&&!s.done;){for(var h=e.entries(),g=!1,v=0;(l=h.next())&&!l.done;){if(i[v]){v++;continue}var b=s.value,S=l.value;if(r.equals(b[0],S[0],d,v,t,e,r)&&r.equals(b[1],S[1],b[0],S[0],t,e,r)){g=i[v]=!0;break}v++}if(!g)return!1;d++}return!0}var Wwe=rd;function qwe(t,e,r){var n=K6(t),i=n.length;if(K6(e).length!==i)return!1;for(;i-- >0;)if(!fz(t,e,r,n[i]))return!1;return!0}function bp(t,e,r){var n=H6(t),i=n.length;if(H6(e).length!==i)return!1;for(var a,s,l;i-- >0;)if(a=n[i],!fz(t,e,r,a)||(s=G6(t,a),l=G6(e,a),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function zwe(t,e){return rd(t.valueOf(),e.valueOf())}function Hwe(t,e){return t.source===e.source&&t.flags===e.flags}function X6(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),s,l;(s=a.next())&&!s.done;){for(var d=e.values(),h=!1,g=0;(l=d.next())&&!l.done;){if(!i[g]&&r.equals(s.value,l.value,s.value,l.value,t,e,r)){h=i[g]=!0;break}g++}if(!h)return!1}return!0}function Gwe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Kwe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function fz(t,e,r,n){return(n===Bwe||n===Lwe||n===Dwe)&&(t.$$typeof||e.$$typeof)?!0:Mwe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Ywe="[object Arguments]",Xwe="[object Boolean]",Zwe="[object Date]",Qwe="[object Error]",Jwe="[object Map]",ebe="[object Number]",tbe="[object Object]",rbe="[object RegExp]",nbe="[object Set]",ibe="[object String]",abe="[object URL]",sbe=Array.isArray,Z6=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Q6=Object.assign,obe=Object.prototype.toString.call.bind(Object.prototype.toString);function lbe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,l=t.areObjectsEqual,d=t.arePrimitiveWrappersEqual,h=t.areRegExpsEqual,g=t.areSetsEqual,v=t.areTypedArraysEqual,b=t.areUrlsEqual;return function(O,E,C){if(O===E)return!0;if(O==null||E==null)return!1;var j=typeof O;if(j!==typeof E)return!1;if(j!=="object")return j==="number"?s(O,E,C):j==="function"?i(O,E,C):!1;var P=O.constructor;if(P!==E.constructor)return!1;if(P===Object)return l(O,E,C);if(sbe(O))return e(O,E,C);if(Z6!=null&&Z6(O))return v(O,E,C);if(P===Date)return r(O,E,C);if(P===RegExp)return h(O,E,C);if(P===Map)return a(O,E,C);if(P===Set)return g(O,E,C);var I=obe(O);return I===Zwe?r(O,E,C):I===rbe?h(O,E,C):I===Jwe?a(O,E,C):I===nbe?g(O,E,C):I===tbe?typeof O.then!="function"&&typeof E.then!="function"&&l(O,E,C):I===abe?b(O,E,C):I===Qwe?n(O,E,C):I===Ywe?l(O,E,C):I===Xwe||I===ebe||I===ibe?d(O,E,C):!1}}function cbe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?bp:Fwe,areDatesEqual:$we,areErrorsEqual:Uwe,areFunctionsEqual:Vwe,areMapsEqual:n?z6(Y6,bp):Y6,areNumbersEqual:Wwe,areObjectsEqual:n?bp:qwe,arePrimitiveWrappersEqual:zwe,areRegExpsEqual:Hwe,areSetsEqual:n?z6(X6,bp):X6,areTypedArraysEqual:n?bp:Gwe,areUrlsEqual:Kwe};if(r&&(i=Q6({},i,r(i))),e){var a=uv(i.areArraysEqual),s=uv(i.areMapsEqual),l=uv(i.areObjectsEqual),d=uv(i.areSetsEqual);i=Q6({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:d})}return i}function ube(t){return function(e,r,n,i,a,s,l){return t(e,r,l)}}function dbe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(d,h){var g=n(),v=g.cache,b=v===void 0?e?new WeakMap:void 0:v,S=g.meta;return r(d,h,{cache:b,equals:i,meta:S,strict:a})};if(e)return function(d,h){return r(d,h,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(d,h){return r(d,h,s)}}var fbe=Ac();Ac({strict:!0});Ac({circular:!0});Ac({circular:!0,strict:!0});Ac({createInternalComparator:function(){return rd}});Ac({strict:!0,createInternalComparator:function(){return rd}});Ac({circular:!0,createInternalComparator:function(){return rd}});Ac({circular:!0,createInternalComparator:function(){return rd},strict:!0});function Ac(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,l=cbe(t),d=lbe(l),h=n?n(d):ube(d);return dbe({circular:r,comparator:d,createState:i,equals:h,strict:s})}function hbe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function J6(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):hbe(i)};requestAnimationFrame(n)}function eO(t){"@babel/helpers - typeof";return eO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eO(t)}function pbe(t){return ybe(t)||vbe(t)||gbe(t)||mbe()}function mbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gbe(t,e){if(t){if(typeof t=="string")return e5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e5(t,e)}}function e5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ybe(t){if(Array.isArray(t))return t}function xbe(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,l=pbe(s),d=l[0],h=l.slice(1);if(typeof d=="number"){J6(i.bind(null,h),d);return}i(d),J6(i.bind(null,h));return}eO(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(t)}function t5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function r5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t5(Object(r),!0).forEach(function(n){hz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hz(t,e,r){return e=wbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wbe(t){var e=bbe(t,"string");return jm(e)==="symbol"?e:String(e)}function bbe(t,e){if(jm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _be=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Sbe=function(e){return e},Ebe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Bp=function(e,r){return Object.keys(r).reduce(function(n,i){return r5(r5({},n),{},hz({},i,e(i,r[i])))},{})},n5=function(e,r,n){return e.map(function(i){return"".concat(Ebe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Cbe(t,e){return Tbe(t)||Obe(t,e)||pz(t,e)||Abe()}function Abe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Obe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function Tbe(t){if(Array.isArray(t))return t}function Nbe(t){return jbe(t)||Pbe(t)||pz(t)||kbe()}function kbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pz(t,e){if(t){if(typeof t=="string")return tO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tO(t,e)}}function Pbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jbe(t){if(Array.isArray(t))return tO(t)}function tO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var By=1e-4,mz=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},gz=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},i5=function(e,r){return function(n){var i=mz(e,r);return gz(i,n)}},Ibe=function(e,r){return function(n){var i=mz(e,r),a=[].concat(Nbe(i.map(function(s,l){return s*l}).slice(1)),[0]);return gz(a,n)}},a5=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,l=1;break;case"ease":i=.25,a=.1,s=.25,l=1;break;case"ease-in":i=.42,a=0,s=1,l=1;break;case"ease-out":i=.42,a=0,s=.58,l=1;break;case"ease-in-out":i=0,a=0,s=.58,l=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var h=d[1].split(")")[0].split(",").map(function(C){return parseFloat(C)}),g=Cbe(h,4);i=g[0],a=g[1],s=g[2],l=g[3]}}}var v=i5(i,s),b=i5(a,l),S=Ibe(i,s),O=function(j){return j>1?1:j<0?0:j},E=function(j){for(var P=j>1?1:j,I=P,F=0;F<8;++F){var R=v(I)-P,M=S(I);if(Math.abs(R-P)<By||M<By)return b(I);I=O(I-R/M)}return b(I)};return E.isStepper=!1,E},Rbe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,l=s===void 0?17:s,d=function(g,v,b){var S=-(g-v)*n,O=b*a,E=b+(S-O)*l/1e3,C=b*l/1e3+g;return Math.abs(C-v)<By&&Math.abs(E)<By?[v,0]:[C,E]};return d.isStepper=!0,d.dt=l,d},Mbe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return a5(i);case"spring":return Rbe();default:if(i.split("(")[0]==="cubic-bezier")return a5(i)}return typeof i=="function"?i:null};function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}function s5(t){return Bbe(t)||Lbe(t)||vz(t)||Dbe()}function Dbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bbe(t){if(Array.isArray(t))return nO(t)}function o5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ei(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o5(Object(r),!0).forEach(function(n){rO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rO(t,e,r){return e=Fbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fbe(t){var e=$be(t,"string");return Im(e)==="symbol"?e:String(e)}function $be(t,e){if(Im(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Im(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ube(t,e){return qbe(t)||Wbe(t,e)||vz(t,e)||Vbe()}function Vbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vz(t,e){if(t){if(typeof t=="string")return nO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nO(t,e)}}function nO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wbe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function qbe(t){if(Array.isArray(t))return t}var Fy=function(e,r,n){return e+(r-e)*n},iO=function(e){var r=e.from,n=e.to;return r!==n},zbe=function t(e,r,n){var i=Bp(function(a,s){if(iO(s)){var l=e(s.from,s.to,s.velocity),d=Ube(l,2),h=d[0],g=d[1];return Ei(Ei({},s),{},{from:h,velocity:g})}return s},r);return n<1?Bp(function(a,s){return iO(s)?Ei(Ei({},s),{},{velocity:Fy(s.velocity,i[a].velocity,n),from:Fy(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const Hbe=(function(t,e,r,n,i){var a=_be(t,e),s=a.reduce(function(C,j){return Ei(Ei({},C),{},rO({},j,[t[j],e[j]]))},{}),l=a.reduce(function(C,j){return Ei(Ei({},C),{},rO({},j,{from:t[j],velocity:0,to:e[j]}))},{}),d=-1,h,g,v=function(){return null},b=function(){return Bp(function(j,P){return P.from},l)},S=function(){return!Object.values(l).filter(iO).length},O=function(j){h||(h=j);var P=j-h,I=P/r.dt;l=zbe(r,l,I),i(Ei(Ei(Ei({},t),e),b())),h=j,S()||(d=requestAnimationFrame(v))},E=function(j){g||(g=j);var P=(j-g)/n,I=Bp(function(R,M){return Fy.apply(void 0,s5(M).concat([r(P)]))},s);if(i(Ei(Ei(Ei({},t),e),I)),P<1)d=requestAnimationFrame(v);else{var F=Bp(function(R,M){return Fy.apply(void 0,s5(M).concat([r(1)]))},s);i(Ei(Ei(Ei({},t),e),F))}};return v=r.isStepper?O:E,function(){return requestAnimationFrame(v),function(){cancelAnimationFrame(d)}}});function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}var Gbe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Kbe(t,e){if(t==null)return{};var r=Ybe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ybe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function VE(t){return Jbe(t)||Qbe(t)||Zbe(t)||Xbe()}function Xbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zbe(t,e){if(t){if(typeof t=="string")return aO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aO(t,e)}}function Qbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jbe(t){if(Array.isArray(t))return aO(t)}function aO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ns(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l5(Object(r),!0).forEach(function(n){kp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kp(t,e,r){return e=yz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yz(n.key),n)}}function r_e(t,e,r){return e&&t_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yz(t){var e=n_e(t,"string");return Uf(e)==="symbol"?e:String(e)}function n_e(t,e){if(Uf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sO(t,e)}function sO(t,e){return sO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sO(t,e)}function a_e(t){var e=s_e();return function(){var n=$y(t),i;if(e){var a=$y(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return oO(this,i)}}function oO(t,e){if(e&&(Uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lO(t)}function lO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s_e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $y(t){return $y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$y(t)}var Hs=(function(t){i_e(r,t);var e=a_e(r);function r(n,i){var a;e_e(this,r),a=e.call(this,n,i);var s=a.props,l=s.isActive,d=s.attributeName,h=s.from,g=s.to,v=s.steps,b=s.children,S=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(lO(a)),a.changeStyle=a.changeStyle.bind(lO(a)),!l||S<=0)return a.state={style:{}},typeof b=="function"&&(a.state={style:g}),oO(a);if(v&&v.length)a.state={style:v[0].style};else if(h){if(typeof b=="function")return a.state={style:h},oO(a);a.state={style:d?kp({},d,h):h}}else a.state={style:{}};return a}return r_e(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,l=a.canBegin,d=a.attributeName,h=a.shouldReAnimate,g=a.to,v=a.from,b=this.state.style;if(l){if(!s){var S={style:d?kp({},d,g):g};this.state&&b&&(d&&b[d]!==g||!d&&b!==g)&&this.setState(S);return}if(!(fbe(i.to,g)&&i.canBegin&&i.isActive)){var O=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var E=O||h?v:i.to;if(this.state&&b){var C={style:d?kp({},d,E):E};(d&&b[d]!==E||!d&&b!==E)&&this.setState(C)}this.runAnimation(Ns(Ns({},this.props),{},{from:E,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,l=i.to,d=i.duration,h=i.easing,g=i.begin,v=i.onAnimationEnd,b=i.onAnimationStart,S=Hbe(s,l,Mbe(h),d,this.changeStyle),O=function(){a.stopJSAnimation=S()};this.manager.start([b,g,O,d,v])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,l=i.begin,d=i.onAnimationStart,h=s[0],g=h.style,v=h.duration,b=v===void 0?0:v,S=function(E,C,j){if(j===0)return E;var P=C.duration,I=C.easing,F=I===void 0?"ease":I,R=C.style,M=C.properties,B=C.onAnimationEnd,q=j>0?s[j-1]:C,U=M||Object.keys(R);if(typeof F=="function"||F==="spring")return[].concat(VE(E),[a.runJSAnimation.bind(a,{from:q.style,to:R,duration:P,easing:F}),P]);var z=n5(U,P,F),G=Ns(Ns(Ns({},q.style),R),{},{transition:z});return[].concat(VE(E),[G,P,B]).filter(Sbe)};return this.manager.start([d].concat(VE(s.reduce(S,[g,Math.max(b,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=xbe());var a=i.begin,s=i.duration,l=i.attributeName,d=i.to,h=i.easing,g=i.onAnimationStart,v=i.onAnimationEnd,b=i.steps,S=i.children,O=this.manager;if(this.unSubscribe=O.subscribe(this.handleStyleChange),typeof h=="function"||typeof S=="function"||h==="spring"){this.runJSAnimation(i);return}if(b.length>1){this.runStepAnimation(i);return}var E=l?kp({},l,d):d,C=n5(Object.keys(E),s,h);O.start([g,a,Ns(Ns({},E),{},{transition:C}),s,v])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=Kbe(i,Gbe),h=N.Children.count(a),g=this.state.style;if(typeof a=="function")return a(g);if(!l||h===0||s<=0)return a;var v=function(S){var O=S.props,E=O.style,C=E===void 0?{}:E,j=O.className,P=N.cloneElement(S,Ns(Ns({},d),{},{style:Ns(Ns({},C),g),className:j}));return P};return h===1?v(N.Children.only(a)):te.createElement("div",null,N.Children.map(a,function(b){return v(b)}))}}]),r})(N.PureComponent);Hs.displayName="Animate";Hs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Hs.propTypes={from:Br.oneOfType([Br.object,Br.string]),to:Br.oneOfType([Br.object,Br.string]),attributeName:Br.string,duration:Br.number,begin:Br.number,easing:Br.oneOfType([Br.string,Br.func]),steps:Br.arrayOf(Br.shape({duration:Br.number.isRequired,style:Br.object.isRequired,easing:Br.oneOfType([Br.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Br.func]),properties:Br.arrayOf("string"),onAnimationEnd:Br.func})),children:Br.oneOfType([Br.node,Br.func]),isActive:Br.bool,canBegin:Br.bool,onAnimationEnd:Br.func,shouldReAnimate:Br.bool,onAnimationStart:Br.func,onAnimationReStart:Br.func};function Rm(t){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rm(t)}function Uy(){return Uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uy.apply(this,arguments)}function o_e(t,e){return d_e(t)||u_e(t,e)||c_e(t,e)||l_e()}function l_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c_e(t,e){if(t){if(typeof t=="string")return c5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c5(t,e)}}function c5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function d_e(t){if(Array.isArray(t))return t}function u5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function d5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u5(Object(r),!0).forEach(function(n){f_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function f_e(t,e,r){return e=h_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h_e(t){var e=p_e(t,"string");return Rm(e)=="symbol"?e:e+""}function p_e(t,e){if(Rm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f5=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,d=n>=0?1:-1,h=i>=0&&n>=0||i<0&&n<0?1:0,g;if(s>0&&a instanceof Array){for(var v=[0,0,0,0],b=0,S=4;b<S;b++)v[b]=a[b]>s?s:a[b];g="M".concat(e,",").concat(r+l*v[0]),v[0]>0&&(g+="A ".concat(v[0],",").concat(v[0],",0,0,").concat(h,",").concat(e+d*v[0],",").concat(r)),g+="L ".concat(e+n-d*v[1],",").concat(r),v[1]>0&&(g+="A ".concat(v[1],",").concat(v[1],",0,0,").concat(h,`,
        `).concat(e+n,",").concat(r+l*v[1])),g+="L ".concat(e+n,",").concat(r+i-l*v[2]),v[2]>0&&(g+="A ".concat(v[2],",").concat(v[2],",0,0,").concat(h,`,
        `).concat(e+n-d*v[2],",").concat(r+i)),g+="L ".concat(e+d*v[3],",").concat(r+i),v[3]>0&&(g+="A ".concat(v[3],",").concat(v[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(r+i-l*v[3])),g+="Z"}else if(s>0&&a===+a&&a>0){var O=Math.min(s,a);g="M ".concat(e,",").concat(r+l*O,`
            A `).concat(O,",").concat(O,",0,0,").concat(h,",").concat(e+d*O,",").concat(r,`
            L `).concat(e+n-d*O,",").concat(r,`
            A `).concat(O,",").concat(O,",0,0,").concat(h,",").concat(e+n,",").concat(r+l*O,`
            L `).concat(e+n,",").concat(r+i-l*O,`
            A `).concat(O,",").concat(O,",0,0,").concat(h,",").concat(e+n-d*O,",").concat(r+i,`
            L `).concat(e+d*O,",").concat(r+i,`
            A `).concat(O,",").concat(O,",0,0,").concat(h,",").concat(e,",").concat(r+i-l*O," Z")}else g="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return g},m_e=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,l=r.width,d=r.height;if(Math.abs(l)>0&&Math.abs(d)>0){var h=Math.min(a,a+l),g=Math.max(a,a+l),v=Math.min(s,s+d),b=Math.max(s,s+d);return n>=h&&n<=g&&i>=v&&i<=b}return!1},g_e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bk=function(e){var r=d5(d5({},g_e),e),n=N.useRef(),i=N.useState(-1),a=o_e(i,2),s=a[0],l=a[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var F=n.current.getTotalLength();F&&l(F)}catch{}},[]);var d=r.x,h=r.y,g=r.width,v=r.height,b=r.radius,S=r.className,O=r.animationEasing,E=r.animationDuration,C=r.animationBegin,j=r.isAnimationActive,P=r.isUpdateAnimationActive;if(d!==+d||h!==+h||g!==+g||v!==+v||g===0||v===0)return null;var I=zt("recharts-rectangle",S);return P?te.createElement(Hs,{canBegin:s>0,from:{width:g,height:v,x:d,y:h},to:{width:g,height:v,x:d,y:h},duration:E,animationEasing:O,isActive:P},function(F){var R=F.width,M=F.height,B=F.x,q=F.y;return te.createElement(Hs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:C,duration:E,isActive:j,easing:O},te.createElement("path",Uy({},At(r,!0),{className:I,d:f5(B,q,R,M,b),ref:n})))}):te.createElement("path",Uy({},At(r,!0),{className:I,d:f5(d,h,g,v,b)}))},v_e=["points","className","baseLinePoints","connectNulls"];function Zd(){return Zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zd.apply(this,arguments)}function y_e(t,e){if(t==null)return{};var r=x_e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function x_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function h5(t){return S_e(t)||__e(t)||b_e(t)||w_e()}function w_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b_e(t,e){if(t){if(typeof t=="string")return cO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cO(t,e)}}function __e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function S_e(t){if(Array.isArray(t))return cO(t)}function cO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var p5=function(e){return e&&e.x===+e.x&&e.y===+e.y},E_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){p5(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),p5(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Fp=function(e,r){var n=E_e(e);r&&(n=[n.reduce(function(a,s){return[].concat(h5(a),h5(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,l,d){return"".concat(s).concat(d===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},C_e=function(e,r,n){var i=Fp(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Fp(r.reverse(),n).slice(1))},A_e=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,s=y_e(e,v_e);if(!r||!r.length)return null;var l=zt("recharts-polygon",n);if(i&&i.length){var d=s.stroke&&s.stroke!=="none",h=C_e(r,i,a);return te.createElement("g",{className:l},te.createElement("path",Zd({},At(s,!0),{fill:h.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:h})),d?te.createElement("path",Zd({},At(s,!0),{fill:"none",d:Fp(r,a)})):null,d?te.createElement("path",Zd({},At(s,!0),{fill:"none",d:Fp(i,a)})):null)}var g=Fp(r,a);return te.createElement("path",Zd({},At(s,!0),{fill:g.slice(-1)==="Z"?s.fill:"none",className:l,d:g}))};function uO(){return uO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uO.apply(this,arguments)}var Sg=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=zt("recharts-dot",a);return r===+r&&n===+n&&i===+i?N.createElement("circle",uO({},At(e,!1),uy(e),{className:s,cx:r,cy:n,r:i})):null};function Mm(t){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mm(t)}var O_e=["x","y","top","left","width","height","className"];function dO(){return dO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dO.apply(this,arguments)}function m5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function T_e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m5(Object(r),!0).forEach(function(n){N_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function N_e(t,e,r){return e=k_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k_e(t){var e=P_e(t,"string");return Mm(e)=="symbol"?e:e+""}function P_e(t,e){if(Mm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j_e(t,e){if(t==null)return{};var r=I_e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function I_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var R_e=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},M_e=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,l=s===void 0?0:s,d=e.left,h=d===void 0?0:d,g=e.width,v=g===void 0?0:g,b=e.height,S=b===void 0?0:b,O=e.className,E=j_e(e,O_e),C=T_e({x:n,y:a,top:l,left:h,width:v,height:S},E);return!Je(n)||!Je(a)||!Je(v)||!Je(S)||!Je(l)||!Je(h)?null:te.createElement("path",dO({},At(C,!0),{className:zt("recharts-cross",O),d:R_e(n,a,v,S,l,h)}))},WE,g5;function D_e(){if(g5)return WE;g5=1;var t=gx(),e=Iq(),r=Eo();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return WE=n,WE}var L_e=D_e();const B_e=Cr(L_e);var qE,v5;function F_e(){if(v5)return qE;v5=1;var t=gx(),e=Eo(),r=Rq();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return qE=n,qE}var $_e=F_e();const U_e=Cr($_e);var V_e=["cx","cy","angle","ticks","axisLine"],W_e=["ticks","tick","angle","tickFormatter","stroke"];function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function $p(){return $p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$p.apply(this,arguments)}function y5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y5(Object(r),!0).forEach(function(n){wx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function x5(t,e){if(t==null)return{};var r=q_e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function q_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function z_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wz(n.key),n)}}function H_e(t,e,r){return e&&w5(t.prototype,e),r&&w5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function G_e(t,e,r){return e=Vy(e),K_e(t,xz()?Reflect.construct(e,r||[],Vy(t).constructor):e.apply(t,r))}function K_e(t,e){if(e&&(Vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y_e(t)}function Y_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xz=function(){return!!t})()}function Vy(t){return Vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vy(t)}function X_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fO(t,e)}function fO(t,e){return fO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fO(t,e)}function wx(t,e,r){return e=wz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wz(t){var e=Z_e(t,"string");return Vf(e)=="symbol"?e:e+""}function Z_e(t,e){if(Vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bx=(function(t){function e(){return z_e(this,e),G_e(this,e,arguments)}return X_e(e,t),H_e(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,l=a.cx,d=a.cy;return an(l,d,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,l=n.ticks,d=B_e(l,function(g){return g.coordinate||0}),h=U_e(l,function(g){return g.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:h.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,l=n.ticks,d=n.axisLine,h=x5(n,V_e),g=l.reduce(function(O,E){return[Math.min(O[0],E.coordinate),Math.max(O[1],E.coordinate)]},[1/0,-1/0]),v=an(i,a,g[0],s),b=an(i,a,g[1],s),S=eu(eu(eu({},At(h,!1)),{},{fill:"none"},At(d,!1)),{},{x1:v.x,y1:v.y,x2:b.x,y2:b.y});return te.createElement("line",$p({className:"recharts-polar-radius-axis-line"},S))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,l=i.angle,d=i.tickFormatter,h=i.stroke,g=x5(i,W_e),v=this.getTickTextAnchor(),b=At(g,!1),S=At(s,!1),O=a.map(function(E,C){var j=n.getTickValueCoord(E),P=eu(eu(eu(eu({textAnchor:v,transform:"rotate(".concat(90-l,", ").concat(j.x,", ").concat(j.y,")")},b),{},{stroke:"none",fill:h},S),{},{index:C},j),{},{payload:E});return te.createElement(fr,$p({className:zt("recharts-polar-radius-axis-tick",lz(s)),key:"tick-".concat(E.coordinate)},Lu(n.props,E,C)),e.renderTickItem(s,P,d?d(E.value,C):E.value))});return te.createElement(fr,{className:"recharts-polar-radius-axis-ticks"},O)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:te.createElement(fr,{className:zt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),pi.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return te.isValidElement(n)?s=te.cloneElement(n,i):Dt(n)?s=n(i):s=te.createElement(Bu,$p({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])})(N.PureComponent);wx(bx,"displayName","PolarRadiusAxis");wx(bx,"axisType","radiusAxis");wx(bx,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function du(){return du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},du.apply(this,arguments)}function b5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b5(Object(r),!0).forEach(function(n){_x(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_z(n.key),n)}}function J_e(t,e,r){return e&&_5(t.prototype,e),r&&_5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function e2e(t,e,r){return e=Wy(e),t2e(t,bz()?Reflect.construct(e,r||[],Wy(t).constructor):e.apply(t,r))}function t2e(t,e){if(e&&(Wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r2e(t)}function r2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bz=function(){return!!t})()}function Wy(t){return Wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wy(t)}function n2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hO(t,e)}function hO(t,e){return hO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hO(t,e)}function _x(t,e,r){return e=_z(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _z(t){var e=i2e(t,"string");return Wf(e)=="symbol"?e:e+""}function i2e(t,e){if(Wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var a2e=Math.PI/180,S5=1e-5,Sx=(function(t){function e(){return Q_e(this,e),e2e(this,e,arguments)}return n2e(e,t),J_e(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,l=i.radius,d=i.orientation,h=i.tickSize,g=h||8,v=an(a,s,l,n.coordinate),b=an(a,s,l+(d==="inner"?-1:1)*g,n.coordinate);return{x1:v.x,y1:v.y,x2:b.x,y2:b.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*a2e),s;return a>S5?s=i==="outer"?"start":"end":a<-S5?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,l=n.axisLine,d=n.axisLineType,h=tu(tu({},At(this.props,!1)),{},{fill:"none"},At(l,!1));if(d==="circle")return te.createElement(Sg,du({className:"recharts-polar-angle-axis-line"},h,{cx:i,cy:a,r:s}));var g=this.props.ticks,v=g.map(function(b){return an(i,a,s,b.coordinate)});return te.createElement(A_e,du({className:"recharts-polar-angle-axis-line"},h,{points:v}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,l=i.tickLine,d=i.tickFormatter,h=i.stroke,g=At(this.props,!1),v=At(s,!1),b=tu(tu({},g),{},{fill:"none"},At(l,!1)),S=a.map(function(O,E){var C=n.getTickLineCoord(O),j=n.getTickTextAnchor(O),P=tu(tu(tu({textAnchor:j},g),{},{stroke:"none",fill:h},v),{},{index:E,payload:O,x:C.x2,y:C.y2});return te.createElement(fr,du({className:zt("recharts-polar-angle-axis-tick",lz(s)),key:"tick-".concat(O.coordinate)},Lu(n.props,O,E)),l&&te.createElement("line",du({className:"recharts-polar-angle-axis-tick-line"},b,C)),s&&e.renderTickItem(s,P,d?d(O.value,E):O.value))});return te.createElement(fr,{className:"recharts-polar-angle-axis-ticks"},S)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:te.createElement(fr,{className:zt("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return te.isValidElement(n)?s=te.cloneElement(n,i):Dt(n)?s=n(i):s=te.createElement(Bu,du({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])})(N.PureComponent);_x(Sx,"displayName","PolarAngleAxis");_x(Sx,"axisType","angleAxis");_x(Sx,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var zE,E5;function s2e(){if(E5)return zE;E5=1;var t=jW(),e=t(Object.getPrototypeOf,Object);return zE=e,zE}var HE,C5;function o2e(){if(C5)return HE;C5=1;var t=ul(),e=s2e(),r=dl(),n="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,l=a.hasOwnProperty,d=s.call(Object);function h(g){if(!r(g)||t(g)!=n)return!1;var v=e(g);if(v===null)return!0;var b=l.call(v,"constructor")&&v.constructor;return typeof b=="function"&&b instanceof b&&s.call(b)==d}return HE=h,HE}var l2e=o2e();const c2e=Cr(l2e);var GE,A5;function u2e(){if(A5)return GE;A5=1;var t=ul(),e=dl(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return GE=n,GE}var d2e=u2e();const f2e=Cr(d2e);function Dm(t){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(t)}function qy(){return qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qy.apply(this,arguments)}function h2e(t,e){return v2e(t)||g2e(t,e)||m2e(t,e)||p2e()}function p2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m2e(t,e){if(t){if(typeof t=="string")return O5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O5(t,e)}}function O5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function g2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function v2e(t){if(Array.isArray(t))return t}function T5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function N5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T5(Object(r),!0).forEach(function(n){y2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y2e(t,e,r){return e=x2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x2e(t){var e=w2e(t,"string");return Dm(e)=="symbol"?e:e+""}function w2e(t,e){if(Dm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var k5=function(e,r,n,i,a){var s=n-i,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-s/2,",").concat(r+a),l+="L ".concat(e+n-s/2-i,",").concat(r+a),l+="L ".concat(e,",").concat(r," Z"),l},b2e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_2e=function(e){var r=N5(N5({},b2e),e),n=N.useRef(),i=N.useState(-1),a=h2e(i,2),s=a[0],l=a[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&l(I)}catch{}},[]);var d=r.x,h=r.y,g=r.upperWidth,v=r.lowerWidth,b=r.height,S=r.className,O=r.animationEasing,E=r.animationDuration,C=r.animationBegin,j=r.isUpdateAnimationActive;if(d!==+d||h!==+h||g!==+g||v!==+v||b!==+b||g===0&&v===0||b===0)return null;var P=zt("recharts-trapezoid",S);return j?te.createElement(Hs,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:b,x:d,y:h},to:{upperWidth:g,lowerWidth:v,height:b,x:d,y:h},duration:E,animationEasing:O,isActive:j},function(I){var F=I.upperWidth,R=I.lowerWidth,M=I.height,B=I.x,q=I.y;return te.createElement(Hs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:C,duration:E,easing:O},te.createElement("path",qy({},At(r,!0),{className:P,d:k5(B,q,F,R,M),ref:n})))}):te.createElement("g",null,te.createElement("path",qy({},At(r,!0),{className:P,d:k5(d,h,g,v,b)})))},S2e=["option","shapeType","propTransformer","activeClassName","isActive"];function Lm(t){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lm(t)}function E2e(t,e){if(t==null)return{};var r=C2e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function C2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function P5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P5(Object(r),!0).forEach(function(n){A2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A2e(t,e,r){return e=O2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O2e(t){var e=T2e(t,"string");return Lm(e)=="symbol"?e:e+""}function T2e(t,e){if(Lm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N2e(t,e){return zy(zy({},e),t)}function k2e(t,e){return t==="symbols"}function j5(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return te.createElement(bk,r);case"trapezoid":return te.createElement(_2e,r);case"sector":return te.createElement(dz,r);case"symbols":if(k2e(e))return te.createElement($N,r);break;default:return null}}function P2e(t){return N.isValidElement(t)?t.props:t}function Sz(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?N2e:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,l=t.isActive,d=E2e(t,S2e),h;if(N.isValidElement(e))h=N.cloneElement(e,zy(zy({},d),P2e(e)));else if(Dt(e))h=e(d);else if(c2e(e)&&!f2e(e)){var g=i(e,d);h=te.createElement(j5,{shapeType:r,elementProps:g})}else{var v=d;h=te.createElement(j5,{shapeType:r,elementProps:v})}return l?te.createElement(fr,{className:s},h):h}function Ex(t,e){return e!=null&&"trapezoids"in t.props}function Cx(t,e){return e!=null&&"sectors"in t.props}function Bm(t,e){return e!=null&&"points"in t.props}function j2e(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function I2e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function R2e(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function M2e(t,e){var r;return Ex(t,e)?r=j2e:Cx(t,e)?r=I2e:Bm(t,e)&&(r=R2e),r}function D2e(t,e){var r;return Ex(t,e)?r="trapezoids":Cx(t,e)?r="sectors":Bm(t,e)&&(r="points"),r}function L2e(t,e){if(Ex(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Cx(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Bm(t,e)?e.payload:{}}function B2e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=D2e(r,e),a=L2e(r,e),s=n.filter(function(d,h){var g=Fu(a,d),v=r.props[i].filter(function(O){var E=M2e(r,e);return E(O,e)}),b=r.props[i].indexOf(v[v.length-1]),S=h===b;return g&&S}),l=n.indexOf(s[s.length-1]);return l}var Ov;function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function Qd(){return Qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qd.apply(this,arguments)}function I5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I5(Object(r),!0).forEach(function(n){ls(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function F2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Cz(n.key),n)}}function $2e(t,e,r){return e&&R5(t.prototype,e),r&&R5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function U2e(t,e,r){return e=Hy(e),V2e(t,Ez()?Reflect.construct(e,r||[],Hy(t).constructor):e.apply(t,r))}function V2e(t,e){if(e&&(qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W2e(t)}function W2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ez(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ez=function(){return!!t})()}function Hy(t){return Hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hy(t)}function q2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pO(t,e)}function pO(t,e){return pO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pO(t,e)}function ls(t,e,r){return e=Cz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cz(t){var e=z2e(t,"string");return qf(e)=="symbol"?e:e+""}function z2e(t,e){if(qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hl=(function(t){function e(r){var n;return F2e(this,e),n=U2e(this,e,[r]),ls(n,"pieRef",null),ls(n,"sectorRefs",[]),ls(n,"id",Ju("recharts-pie-")),ls(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Dt(i)&&i()}),ls(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Dt(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return q2e(e,t),$2e(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,l=a.labelLine,d=a.dataKey,h=a.valueKey,g=At(this.props,!1),v=At(s,!1),b=At(l,!1),S=s&&s.offsetRadius||20,O=n.map(function(E,C){var j=(E.startAngle+E.endAngle)/2,P=an(E.cx,E.cy,E.outerRadius+S,j),I=tn(tn(tn(tn({},g),E),{},{stroke:"none"},v),{},{index:C,textAnchor:e.getTextAnchor(P.x,E.cx)},P),F=tn(tn(tn(tn({},g),E),{},{fill:"none",stroke:E.fill},b),{},{index:C,points:[an(E.cx,E.cy,E.outerRadius,j),P]}),R=d;return Vt(d)&&Vt(h)?R="value":Vt(d)&&(R=h),te.createElement(fr,{key:"label-".concat(E.startAngle,"-").concat(E.endAngle,"-").concat(E.midAngle,"-").concat(C)},l&&e.renderLabelLineItem(l,F,"line"),e.renderLabelItem(s,I,Rn(E,R)))});return te.createElement(fr,{className:"recharts-pie-labels"},O)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,l=a.blendStroke,d=a.inactiveShape;return n.map(function(h,g){if(h?.startAngle===0&&h?.endAngle===0&&n.length!==1)return null;var v=i.isActiveIndex(g),b=d&&i.hasActiveIndex()?d:null,S=v?s:b,O=tn(tn({},h),{},{stroke:l?h.fill:h.stroke,tabIndex:-1});return te.createElement(fr,Qd({ref:function(C){C&&!i.sectorRefs.includes(C)&&i.sectorRefs.push(C)},tabIndex:-1,className:"recharts-pie-sector"},Lu(i.props,h,g),{key:"sector-".concat(h?.startAngle,"-").concat(h?.endAngle,"-").concat(h.midAngle,"-").concat(g)}),te.createElement(Sz,Qd({option:S,isActive:v,shapeType:"sector"},O)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,l=i.animationBegin,d=i.animationDuration,h=i.animationEasing,g=i.animationId,v=this.state,b=v.prevSectors,S=v.prevIsAnimationActive;return te.createElement(Hs,{begin:l,duration:d,isActive:s,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(g,"-").concat(S),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(O){var E=O.t,C=[],j=a&&a[0],P=j.startAngle;return a.forEach(function(I,F){var R=b&&b[F],M=F>0?$a(I,"paddingAngle",0):0;if(R){var B=ii(R.endAngle-R.startAngle,I.endAngle-I.startAngle),q=tn(tn({},I),{},{startAngle:P+M,endAngle:P+B(E)+M});C.push(q),P=q.endAngle}else{var U=I.endAngle,z=I.startAngle,G=ii(0,U-z),W=G(E),H=tn(tn({},I),{},{startAngle:P+M,endAngle:P+W+M});C.push(H),P=H.endAngle}}),te.createElement(fr,null,n.renderSectorsStatically(C))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!Fu(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,l=i.className,d=i.label,h=i.cx,g=i.cy,v=i.innerRadius,b=i.outerRadius,S=i.isAnimationActive,O=this.state.isAnimationFinished;if(a||!s||!s.length||!Je(h)||!Je(g)||!Je(v)||!Je(b))return null;var E=zt("recharts-pie",l);return te.createElement(fr,{tabIndex:this.props.rootTabIndex,className:E,ref:function(j){n.pieRef=j}},this.renderSectors(),d&&this.renderLabels(s),pi.renderCallByParent(this.props,null,!1),(!S||O)&&go.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(te.isValidElement(n))return te.cloneElement(n,i);if(Dt(n))return n(i);var s=zt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return te.createElement(Cu,Qd({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(te.isValidElement(n))return te.cloneElement(n,i);var s=a;if(Dt(n)&&(s=n(i),te.isValidElement(s)))return s;var l=zt("recharts-pie-label-text",typeof n!="boolean"&&!Dt(n)?n.className:"");return te.createElement(Bu,Qd({},i,{alignmentBaseline:"middle",className:l}),s)}}])})(N.PureComponent);Ov=hl;ls(hl,"displayName","Pie");ls(hl,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Sc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ls(hl,"parseDeltaAngle",function(t,e){var r=Hi(e-t),n=Math.min(Math.abs(e-t),360);return r*n});ls(hl,"getRealPieData",function(t){var e=t.data,r=t.children,n=At(t,!1),i=Ua(r,cx);return e&&e.length?e.map(function(a,s){return tn(tn(tn({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return tn(tn({},n),a.props)}):[]});ls(hl,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,s=oz(i,a),l=n+Gi(t.cx,i,i/2),d=r+Gi(t.cy,a,a/2),h=Gi(t.innerRadius,s,0),g=Gi(t.outerRadius,s,s*.8),v=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:d,innerRadius:h,outerRadius:g,maxRadius:v}});ls(hl,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?tn(tn({},e.type.defaultProps),e.props):e.props,i=Ov.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,l=n.endAngle,d=n.paddingAngle,h=n.dataKey,g=n.nameKey,v=n.valueKey,b=n.tooltipType,S=Math.abs(n.minAngle),O=Ov.parseCoordinateOfPie(n,r),E=Ov.parseDeltaAngle(s,l),C=Math.abs(E),j=h;Vt(h)&&Vt(v)?(Us(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):Vt(h)&&(Us(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=v);var P=i.filter(function(q){return Rn(q,j,0)!==0}).length,I=(C>=360?P:P-1)*d,F=C-P*S-I,R=i.reduce(function(q,U){var z=Rn(U,j,0);return q+(Je(z)?z:0)},0),M;if(R>0){var B;M=i.map(function(q,U){var z=Rn(q,j,0),G=Rn(q,g,U),W=(Je(z)?z:0)/R,H;U?H=B.endAngle+Hi(E)*d*(z!==0?1:0):H=s;var Q=H+Hi(E)*((z!==0?S:0)+W*F),X=(H+Q)/2,se=(O.innerRadius+O.outerRadius)/2,ne=[{name:G,value:z,payload:q,dataKey:j,type:b}],re=an(O.cx,O.cy,se,X);return B=tn(tn(tn({percent:W,cornerRadius:a,name:G,tooltipPayload:ne,midAngle:X,middleRadius:se,tooltipPosition:re},q),O),{},{value:Rn(q,j),startAngle:H,endAngle:Q,payload:q,paddingAngle:Hi(E)*d}),B})}return tn(tn({},O),{},{sectors:M,data:i})});var KE,M5;function H2e(){if(M5)return KE;M5=1;var t=Math.ceil,e=Math.max;function r(n,i,a,s){for(var l=-1,d=e(t((i-n)/(a||1)),0),h=Array(d);d--;)h[s?d:++l]=n,n+=a;return h}return KE=r,KE}var YE,D5;function Az(){if(D5)return YE;D5=1;var t=KW(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return YE=n,YE}var XE,L5;function G2e(){if(L5)return XE;L5=1;var t=H2e(),e=lx(),r=Az();function n(i){return function(a,s,l){return l&&typeof l!="number"&&e(a,s,l)&&(s=l=void 0),a=r(a),s===void 0?(s=a,a=0):s=r(s),l=l===void 0?a<s?1:-1:r(l),t(a,s,l,i)}}return XE=n,XE}var ZE,B5;function K2e(){if(B5)return ZE;B5=1;var t=G2e(),e=t();return ZE=e,ZE}var Y2e=K2e();const Gy=Cr(Y2e);function Fm(t){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fm(t)}function F5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F5(Object(r),!0).forEach(function(n){Oz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oz(t,e,r){return e=X2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X2e(t){var e=Z2e(t,"string");return Fm(e)=="symbol"?e:e+""}function Z2e(t,e){if(Fm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q2e=["Webkit","Moz","O","ms"],J2e=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Q2e.reduce(function(a,s){return $5($5({},a),{},Oz({},s+n,r))},{});return i[e]=r,i};function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function Ky(){return Ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ky.apply(this,arguments)}function U5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U5(Object(r),!0).forEach(function(n){Na(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nz(n.key),n)}}function tSe(t,e,r){return e&&V5(t.prototype,e),r&&V5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rSe(t,e,r){return e=Yy(e),nSe(t,Tz()?Reflect.construct(e,r||[],Yy(t).constructor):e.apply(t,r))}function nSe(t,e){if(e&&(zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iSe(t)}function iSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tz=function(){return!!t})()}function Yy(t){return Yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yy(t)}function aSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mO(t,e)}function mO(t,e){return mO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mO(t,e)}function Na(t,e,r){return e=Nz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nz(t){var e=sSe(t,"string");return zf(e)=="symbol"?e:e+""}function sSe(t,e){if(zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oSe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,h=Dp().domain(Gy(0,d)).range([a,a+s-l]),g=h.domain().map(function(v){return h(v)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(n),endX:h(i),scale:h,scaleValues:g}},W5=function(e){return e.changedTouches&&!!e.changedTouches.length},Hf=(function(t){function e(r){var n;return eSe(this,e),n=rSe(this,e,[r]),Na(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Na(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Na(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,l=i.startIndex;s?.({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),Na(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Na(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Na(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Na(n,"handleSlideDragStart",function(i){var a=W5(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return aSe(e,t),tSe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,l=this.props,d=l.gap,h=l.data,g=h.length-1,v=Math.min(i,a),b=Math.max(i,a),S=e.getIndexInRange(s,v),O=e.getIndexInRange(s,b);return{startIndex:S-S%d,endIndex:O===g?g:O-O%d}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,l=i.dataKey,d=Rn(a[n],l,n);return Dt(s)?s(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,l=i.endX,d=this.props,h=d.x,g=d.width,v=d.travellerWidth,b=d.startIndex,S=d.endIndex,O=d.onChange,E=n.pageX-a;E>0?E=Math.min(E,h+g-v-l,h+g-v-s):E<0&&(E=Math.max(E,h-s,h-l));var C=this.getIndex({startX:s+E,endX:l+E});(C.startIndex!==b||C.endIndex!==S)&&O&&O(C),this.setState({startX:s+E,endX:l+E,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=W5(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,d=i.startX,h=this.state[s],g=this.props,v=g.x,b=g.width,S=g.travellerWidth,O=g.onChange,E=g.gap,C=g.data,j={startX:this.state.startX,endX:this.state.endX},P=n.pageX-a;P>0?P=Math.min(P,v+b-S-h):P<0&&(P=Math.max(P,v-h)),j[s]=h+P;var I=this.getIndex(j),F=I.startIndex,R=I.endIndex,M=function(){var q=C.length-1;return s==="startX"&&(l>d?F%E===0:R%E===0)||l<d&&R===q||s==="endX"&&(l>d?R%E===0:F%E===0)||l>d&&R===q};this.setState(Na(Na({},s,h+P),"brushMoveStartX",n.pageX),function(){O&&M()&&O(I)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,l=s.scaleValues,d=s.startX,h=s.endX,g=this.state[i],v=l.indexOf(g);if(v!==-1){var b=v+n;if(!(b===-1||b>=l.length)){var S=l[b];i==="startX"&&S>=h||i==="endX"&&S<=d||this.setState(Na({},i,S),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,d=n.fill,h=n.stroke;return te.createElement("rect",{stroke:h,fill:d,x:i,y:a,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,d=n.data,h=n.children,g=n.padding,v=N.Children.only(h);return v?te.cloneElement(v,{x:i,y:a,width:s,height:l,margin:g,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,l=this,d=this.props,h=d.y,g=d.travellerWidth,v=d.height,b=d.traveller,S=d.ariaLabel,O=d.data,E=d.startIndex,C=d.endIndex,j=Math.max(n,this.props.x),P=QE(QE({},At(this.props,!1)),{},{x:j,y:h,width:g,height:v}),I=S||"Min value: ".concat((a=O[E])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=O[C])===null||s===void 0?void 0:s.name);return te.createElement(fr,{tabIndex:0,role:"slider","aria-label":I,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(R){["ArrowLeft","ArrowRight"].includes(R.key)&&(R.preventDefault(),R.stopPropagation(),l.handleTravellerMoveKeyboard(R.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(b,P))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,l=a.height,d=a.stroke,h=a.travellerWidth,g=Math.min(n,i)+h,v=Math.max(Math.abs(i-n)-h,0);return te.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:g,y:s,width:v,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,l=n.height,d=n.travellerWidth,h=n.stroke,g=this.state,v=g.startX,b=g.endX,S=5,O={pointerEvents:"none",fill:h};return te.createElement(fr,{className:"recharts-brush-texts"},te.createElement(Bu,Ky({textAnchor:"end",verticalAnchor:"middle",x:Math.min(v,b)-S,y:s+l/2},O),this.getTextOfTick(i)),te.createElement(Bu,Ky({textAnchor:"start",verticalAnchor:"middle",x:Math.max(v,b)+d+S,y:s+l/2},O),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,l=n.x,d=n.y,h=n.width,g=n.height,v=n.alwaysShowText,b=this.state,S=b.startX,O=b.endX,E=b.isTextActive,C=b.isSlideMoving,j=b.isTravellerMoving,P=b.isTravellerFocused;if(!i||!i.length||!Je(l)||!Je(d)||!Je(h)||!Je(g)||h<=0||g<=0)return null;var I=zt("recharts-brush",a),F=te.Children.count(s)===1,R=J2e("userSelect","none");return te.createElement(fr,{className:I,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:R},this.renderBackground(),F&&this.renderPanorama(),this.renderSlide(S,O),this.renderTravellerLayer(S,"startX"),this.renderTravellerLayer(O,"endX"),(E||C||j||P||v)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,l=n.height,d=n.stroke,h=Math.floor(a+l/2)-1;return te.createElement(te.Fragment,null,te.createElement("rect",{x:i,y:a,width:s,height:l,fill:d,stroke:"none"}),te.createElement("line",{x1:i+1,y1:h,x2:i+s-1,y2:h,fill:"none",stroke:"#fff"}),te.createElement("line",{x1:i+1,y1:h+2,x2:i+s-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return te.isValidElement(n)?a=te.cloneElement(n,i):Dt(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,l=n.x,d=n.travellerWidth,h=n.updateId,g=n.startIndex,v=n.endIndex;if(a!==i.prevData||h!==i.prevUpdateId)return QE({prevData:a,prevTravellerWidth:d,prevUpdateId:h,prevX:l,prevWidth:s},a&&a.length?oSe({data:a,width:s,x:l,travellerWidth:d,startIndex:g,endIndex:v}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([l,l+s-d]);var b=i.scale.domain().map(function(S){return i.scale(S)});return{prevData:a,prevTravellerWidth:d,prevUpdateId:h,prevX:l,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:b}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,l=a-1;l-s>1;){var d=Math.floor((s+l)/2);n[d]>i?l=d:s=d}return i>=n[l]?l:s}}])})(N.PureComponent);Na(Hf,"displayName","Brush");Na(Hf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var JE,q5;function lSe(){if(q5)return JE;q5=1;var t=GN();function e(r,n){var i;return t(r,function(a,s,l){return i=n(a,s,l),!i}),!!i}return JE=e,JE}var eC,z5;function cSe(){if(z5)return eC;z5=1;var t=CW(),e=Eo(),r=lSe(),n=ga(),i=lx();function a(s,l,d){var h=n(s)?t:r;return d&&i(s,l,d)&&(l=void 0),h(s,e(l,3))}return eC=a,eC}var uSe=cSe();const dSe=Cr(uSe);var vo=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},tC,H5;function fSe(){if(H5)return tC;H5=1;var t=WW();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return tC=e,tC}var rC,G5;function hSe(){if(G5)return rC;G5=1;var t=fSe(),e=UW(),r=Eo();function n(i,a){var s={};return a=r(a,3),e(i,function(l,d,h){t(s,d,a(l,d,h))}),s}return rC=n,rC}var pSe=hSe();const mSe=Cr(pSe);var nC,K5;function gSe(){if(K5)return nC;K5=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return nC=t,nC}var iC,Y5;function vSe(){if(Y5)return iC;Y5=1;var t=GN();function e(r,n){var i=!0;return t(r,function(a,s,l){return i=!!n(a,s,l),i}),i}return iC=e,iC}var aC,X5;function ySe(){if(X5)return aC;X5=1;var t=gSe(),e=vSe(),r=Eo(),n=ga(),i=lx();function a(s,l,d){var h=n(s)?t:e;return d&&i(s,l,d)&&(l=void 0),h(s,r(l,3))}return aC=a,aC}var xSe=ySe();const kz=Cr(xSe);var wSe=["x","y"];function $m(t){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$m(t)}function gO(){return gO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gO.apply(this,arguments)}function Z5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _p(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z5(Object(r),!0).forEach(function(n){bSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bSe(t,e,r){return e=_Se(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Se(t){var e=SSe(t,"string");return $m(e)=="symbol"?e:e+""}function SSe(t,e){if($m(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ESe(t,e){if(t==null)return{};var r=CSe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function CSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ASe(t,e){var r=t.x,n=t.y,i=ESe(t,wSe),a="".concat(r),s=parseInt(a,10),l="".concat(n),d=parseInt(l,10),h="".concat(e.height||i.height),g=parseInt(h,10),v="".concat(e.width||i.width),b=parseInt(v,10);return _p(_p(_p(_p(_p({},e),i),s?{x:s}:{}),d?{y:d}:{}),{},{height:g,width:b,name:e.name,radius:e.radius})}function Q5(t){return te.createElement(Sz,gO({shapeType:"rectangle",propTransformer:ASe,activeClassName:"recharts-active-bar"},t))}var OSe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=Je(n)||Qfe(n);return a?e(n,i):(a||Uu(),r)}},TSe=["value","background"],Pz;function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function NSe(t,e){if(t==null)return{};var r=kSe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Xy(){return Xy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xy.apply(this,arguments)}function J5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $n(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J5(Object(r),!0).forEach(function(n){tc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Iz(n.key),n)}}function jSe(t,e,r){return e&&eL(t.prototype,e),r&&eL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ISe(t,e,r){return e=Zy(e),RSe(t,jz()?Reflect.construct(e,r||[],Zy(t).constructor):e.apply(t,r))}function RSe(t,e){if(e&&(Gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MSe(t)}function MSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jz=function(){return!!t})()}function Zy(t){return Zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zy(t)}function DSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vO(t,e)}function vO(t,e){return vO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vO(t,e)}function tc(t,e,r){return e=Iz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Iz(t){var e=LSe(t,"string");return Gf(e)=="symbol"?e:e+""}function LSe(t,e){if(Gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nd=(function(t){function e(){var r;PSe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ISe(this,e,[].concat(i)),tc(r,"state",{isAnimationFinished:!1}),tc(r,"id",Ju("recharts-bar-")),tc(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),tc(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return DSe(e,t),jSe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,l=a.dataKey,d=a.activeIndex,h=a.activeBar,g=At(this.props,!1);return n&&n.map(function(v,b){var S=b===d,O=S?h:s,E=$n($n($n({},g),v),{},{isActive:S,option:O,index:b,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return te.createElement(fr,Xy({className:"recharts-bar-rectangle"},Lu(i.props,v,b),{key:"rectangle-".concat(v?.x,"-").concat(v?.y,"-").concat(v?.value,"-").concat(b)}),te.createElement(Q5,E))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,l=i.isAnimationActive,d=i.animationBegin,h=i.animationDuration,g=i.animationEasing,v=i.animationId,b=this.state.prevData;return te.createElement(Hs,{begin:d,duration:h,isActive:l,easing:g,from:{t:0},to:{t:1},key:"bar-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var O=S.t,E=a.map(function(C,j){var P=b&&b[j];if(P){var I=ii(P.x,C.x),F=ii(P.y,C.y),R=ii(P.width,C.width),M=ii(P.height,C.height);return $n($n({},C),{},{x:I(O),y:F(O),width:R(O),height:M(O)})}if(s==="horizontal"){var B=ii(0,C.height),q=B(O);return $n($n({},C),{},{y:C.y+C.height-q,height:q})}var U=ii(0,C.width),z=U(O);return $n($n({},C),{},{width:z})});return te.createElement(fr,null,n.renderRectanglesStatically(E))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Fu(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,l=i.activeIndex,d=At(this.props.background,!1);return a.map(function(h,g){h.value;var v=h.background,b=NSe(h,TSe);if(!v)return null;var S=$n($n($n($n($n({},b),{},{fill:"#eee"},v),d),Lu(n.props,h,g)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:g,className:"recharts-bar-background-rectangle"});return te.createElement(Q5,Xy({key:"background-bar-".concat(g),option:n.props.background,isActive:g===l},S))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,l=a.xAxis,d=a.yAxis,h=a.layout,g=a.children,v=Ua(g,_g);if(!v)return null;var b=h==="vertical"?s[0].height/2:s[0].width/2,S=function(C,j){var P=Array.isArray(C.value)?C.value[1]:C.value;return{x:C.x,y:C.y,value:P,errorVal:Rn(C,j)}},O={clipPath:n?"url(#clipPath-".concat(i,")"):null};return te.createElement(fr,O,v.map(function(E){return te.cloneElement(E,{key:"error-bar-".concat(i,"-").concat(E.props.dataKey),data:s,xAxis:l,yAxis:d,layout:h,offset:b,dataPointFormatter:S})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,l=n.xAxis,d=n.yAxis,h=n.left,g=n.top,v=n.width,b=n.height,S=n.isAnimationActive,O=n.background,E=n.id;if(i||!a||!a.length)return null;var C=this.state.isAnimationFinished,j=zt("recharts-bar",s),P=l&&l.allowDataOverflow,I=d&&d.allowDataOverflow,F=P||I,R=Vt(E)?this.id:E;return te.createElement(fr,{className:j},P||I?te.createElement("defs",null,te.createElement("clipPath",{id:"clipPath-".concat(R)},te.createElement("rect",{x:P?h:h-v/2,y:I?g:g-b/2,width:P?v:v*2,height:I?b:b*2}))):null,te.createElement(fr,{className:"recharts-bar-rectangles",clipPath:F?"url(#clipPath-".concat(R,")"):null},O?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(F,R),(!S||C)&&go.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(N.PureComponent);Pz=nd;tc(nd,"displayName","Bar");tc(nd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Sc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});tc(nd,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,l=t.xAxisTicks,d=t.yAxisTicks,h=t.stackedData,g=t.dataStartIndex,v=t.displayedData,b=t.offset,S=fxe(n,r);if(!S)return null;var O=e.layout,E=r.type.defaultProps,C=E!==void 0?$n($n({},E),r.props):r.props,j=C.dataKey,P=C.children,I=C.minPointSize,F=O==="horizontal"?s:a,R=h?F.scale.domain():null,M=xxe({numericAxis:F}),B=Ua(P,cx),q=v.map(function(U,z){var G,W,H,Q,X,se;h?G=hxe(h[g+z],R):(G=Rn(U,j),Array.isArray(G)||(G=[M,G]));var ne=OSe(I,Pz.defaultProps.minPointSize)(G[1],z);if(O==="horizontal"){var re,J=[s.scale(G[0]),s.scale(G[1])],he=J[0],ie=J[1];W=C6({axis:a,ticks:l,bandSize:i,offset:S.offset,entry:U,index:z}),H=(re=ie??he)!==null&&re!==void 0?re:void 0,Q=S.size;var le=he-ie;if(X=Number.isNaN(le)?0:le,se={x:W,y:s.y,width:Q,height:s.height},Math.abs(ne)>0&&Math.abs(X)<Math.abs(ne)){var we=Hi(X||ne)*(Math.abs(ne)-Math.abs(X));H-=we,X+=we}}else{var ke=[a.scale(G[0]),a.scale(G[1])],qe=ke[0],je=ke[1];if(W=qe,H=C6({axis:s,ticks:d,bandSize:i,offset:S.offset,entry:U,index:z}),Q=je-qe,X=S.size,se={x:a.x,y:H,width:a.width,height:X},Math.abs(ne)>0&&Math.abs(Q)<Math.abs(ne)){var Te=Hi(Q||ne)*(Math.abs(ne)-Math.abs(Q));Q+=Te}}return $n($n($n({},U),{},{x:W,y:H,width:Q,height:X,value:h?G:G[1],payload:U,background:se},B&&B[z]&&B[z].props),{},{tooltipPayload:[az(r,U)],tooltipPosition:{x:W+Q/2,y:H+X/2}})});return $n({data:q,layout:O},b)});function Um(t){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(t)}function BSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rz(n.key),n)}}function FSe(t,e,r){return e&&tL(t.prototype,e),r&&tL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ms(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rL(Object(r),!0).forEach(function(n){Ax(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ax(t,e,r){return e=Rz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rz(t){var e=$Se(t,"string");return Um(e)=="symbol"?e:e+""}function $Se(t,e){if(Um(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _k=function(e,r,n,i,a){var s=e.width,l=e.height,d=e.layout,h=e.children,g=Object.keys(r),v={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},b=!!ka(h,nd);return g.reduce(function(S,O){var E=r[O],C=E.orientation,j=E.domain,P=E.padding,I=P===void 0?{}:P,F=E.mirror,R=E.reversed,M="".concat(C).concat(F?"Mirror":""),B,q,U,z,G;if(E.type==="number"&&(E.padding==="gap"||E.padding==="no-gap")){var W=j[1]-j[0],H=1/0,Q=E.categoricalDomain.sort(the);if(Q.forEach(function(ke,qe){qe>0&&(H=Math.min((ke||0)-(Q[qe-1]||0),H))}),Number.isFinite(H)){var X=H/W,se=E.layout==="vertical"?n.height:n.width;if(E.padding==="gap"&&(B=X*se/2),E.padding==="no-gap"){var ne=Gi(e.barCategoryGap,X*se),re=X*se/2;B=re-ne-(re-ne)/se*ne}}}i==="xAxis"?q=[n.left+(I.left||0)+(B||0),n.left+n.width-(I.right||0)-(B||0)]:i==="yAxis"?q=d==="horizontal"?[n.top+n.height-(I.bottom||0),n.top+(I.top||0)]:[n.top+(I.top||0)+(B||0),n.top+n.height-(I.bottom||0)-(B||0)]:q=E.range,R&&(q=[q[1],q[0]]);var J=tz(E,a,b),he=J.scale,ie=J.realScaleType;he.domain(j).range(q),rz(he);var le=nz(he,Ms(Ms({},E),{},{realScaleType:ie}));i==="xAxis"?(G=C==="top"&&!F||C==="bottom"&&F,U=n.left,z=v[M]-G*E.height):i==="yAxis"&&(G=C==="left"&&!F||C==="right"&&F,U=v[M]-G*E.width,z=n.top);var we=Ms(Ms(Ms({},E),le),{},{realScaleType:ie,x:U,y:z,scale:he,width:i==="xAxis"?n.width:E.width,height:i==="yAxis"?n.height:E.height});return we.bandSize=My(we,le),!E.hide&&i==="xAxis"?v[M]+=(G?-1:1)*we.height:E.hide||(v[M]+=(G?-1:1)*we.width),Ms(Ms({},S),{},Ax({},O,we))},{})},Mz=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},USe=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return Mz({x:r,y:n},{x:i,y:a})},Dz=(function(){function t(e){BSe(this,t),this.scale=e}return FSe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();Ax(Dz,"EPS",1e-4);var Sk=function(e){var r=Object.keys(e).reduce(function(n,i){return Ms(Ms({},n),{},Ax({},i,Dz.create(e[i])))},{});return Ms(Ms({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,l=a.position;return mSe(i,function(d,h){return r[h].apply(d,{bandAware:s,position:l})})},isInRange:function(i){return kz(i,function(a,s){return r[s].isInRange(a)})}})};function VSe(t){return(t%180+180)%180}var WSe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=VSe(i),s=a*Math.PI/180,l=Math.atan(n/r),d=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(d)},sC,nL;function qSe(){if(nL)return sC;nL=1;var t=Eo(),e=vg(),r=sx();function n(i){return function(a,s,l){var d=Object(a);if(!e(a)){var h=t(s,3);a=r(a),s=function(v){return h(d[v],v,d)}}var g=i(a,s,l);return g>-1?d[h?a[g]:g]:void 0}}return sC=n,sC}var oC,iL;function zSe(){if(iL)return oC;iL=1;var t=Az();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return oC=e,oC}var lC,aL;function HSe(){if(aL)return lC;aL=1;var t=DW(),e=Eo(),r=zSe(),n=Math.max;function i(a,s,l){var d=a==null?0:a.length;if(!d)return-1;var h=l==null?0:r(l);return h<0&&(h=n(d+h,0)),t(a,e(s,3),h)}return lC=i,lC}var cC,sL;function GSe(){if(sL)return cC;sL=1;var t=qSe(),e=HSe(),r=t(e);return cC=r,cC}var KSe=GSe();const YSe=Cr(KSe);var XSe=ZV();const ZSe=Cr(XSe);var QSe=ZSe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Ek=N.createContext(void 0),Ck=N.createContext(void 0),Lz=N.createContext(void 0),Bz=N.createContext({}),Fz=N.createContext(void 0),$z=N.createContext(0),Uz=N.createContext(0),oL=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,l=e.children,d=e.width,h=e.height,g=QSe(a);return te.createElement(Ek.Provider,{value:n},te.createElement(Ck.Provider,{value:i},te.createElement(Bz.Provider,{value:a},te.createElement(Lz.Provider,{value:g},te.createElement(Fz.Provider,{value:s},te.createElement($z.Provider,{value:h},te.createElement(Uz.Provider,{value:d},l)))))))},JSe=function(){return N.useContext(Fz)},Vz=function(e){var r=N.useContext(Ek);r==null&&Uu();var n=r[e];return n==null&&Uu(),n},eEe=function(){var e=N.useContext(Ek);return Yl(e)},tEe=function(){var e=N.useContext(Ck),r=YSe(e,function(n){return kz(n.domain,Number.isFinite)});return r||Yl(e)},Wz=function(e){var r=N.useContext(Ck);r==null&&Uu();var n=r[e];return n==null&&Uu(),n},rEe=function(){var e=N.useContext(Lz);return e},nEe=function(){return N.useContext(Bz)},Ak=function(){return N.useContext(Uz)},Ok=function(){return N.useContext($z)};function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function iEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aEe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zz(n.key),n)}}function sEe(t,e,r){return e&&aEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oEe(t,e,r){return e=Qy(e),lEe(t,qz()?Reflect.construct(e,r||[],Qy(t).constructor):e.apply(t,r))}function lEe(t,e){if(e&&(Kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cEe(t)}function cEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qz=function(){return!!t})()}function Qy(t){return Qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qy(t)}function uEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yO(t,e)}function yO(t,e){return yO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yO(t,e)}function lL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lL(Object(r),!0).forEach(function(n){Tk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tk(t,e,r){return e=zz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zz(t){var e=dEe(t,"string");return Kf(e)=="symbol"?e:e+""}function dEe(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function fEe(t,e){return gEe(t)||mEe(t,e)||pEe(t,e)||hEe()}function hEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pEe(t,e){if(t){if(typeof t=="string")return uL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uL(t,e)}}function uL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mEe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function gEe(t){if(Array.isArray(t))return t}function xO(){return xO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xO.apply(this,arguments)}var vEe=function(e,r){var n;return te.isValidElement(e)?n=te.cloneElement(e,r):Dt(e)?n=e(r):n=te.createElement("line",xO({},r,{className:"recharts-reference-line-line"})),n},yEe=function(e,r,n,i,a,s,l,d,h){var g=a.x,v=a.y,b=a.width,S=a.height;if(n){var O=h.y,E=e.y.apply(O,{position:s});if(vo(h,"discard")&&!e.y.isInRange(E))return null;var C=[{x:g+b,y:E},{x:g,y:E}];return d==="left"?C.reverse():C}if(r){var j=h.x,P=e.x.apply(j,{position:s});if(vo(h,"discard")&&!e.x.isInRange(P))return null;var I=[{x:P,y:v+S},{x:P,y:v}];return l==="top"?I.reverse():I}if(i){var F=h.segment,R=F.map(function(M){return e.apply(M,{position:s})});return vo(h,"discard")&&dSe(R,function(M){return!e.isInRange(M)})?null:R}return null};function xEe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,l=t.className,d=t.alwaysShow,h=JSe(),g=Vz(i),v=Wz(a),b=rEe();if(!h||!b)return null;Us(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var S=Sk({x:g.scale,y:v.scale}),O=ai(e),E=ai(r),C=n&&n.length===2,j=yEe(S,O,E,C,b,t.position,g.orientation,v.orientation,t);if(!j)return null;var P=fEe(j,2),I=P[0],F=I.x,R=I.y,M=P[1],B=M.x,q=M.y,U=vo(t,"hidden")?"url(#".concat(h,")"):void 0,z=cL(cL({clipPath:U},At(t,!0)),{},{x1:F,y1:R,x2:B,y2:q});return te.createElement(fr,{className:zt("recharts-reference-line",l)},vEe(s,z),pi.renderCallByParent(t,USe({x1:F,y1:R,x2:B,y2:q})))}var Nk=(function(t){function e(){return iEe(this,e),oEe(this,e,arguments)}return uEe(e,t),sEe(e,[{key:"render",value:function(){return te.createElement(xEe,this.props)}}])})(te.Component);Tk(Nk,"displayName","ReferenceLine");Tk(Nk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function wO(){return wO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wO.apply(this,arguments)}function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function dL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dL(Object(r),!0).forEach(function(n){Ox(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bEe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gz(n.key),n)}}function _Ee(t,e,r){return e&&bEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SEe(t,e,r){return e=Jy(e),EEe(t,Hz()?Reflect.construct(e,r||[],Jy(t).constructor):e.apply(t,r))}function EEe(t,e){if(e&&(Yf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CEe(t)}function CEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hz=function(){return!!t})()}function Jy(t){return Jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jy(t)}function AEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bO(t,e)}function bO(t,e){return bO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bO(t,e)}function Ox(t,e,r){return e=Gz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gz(t){var e=OEe(t,"string");return Yf(e)=="symbol"?e:e+""}function OEe(t,e){if(Yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var TEe=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=Sk({x:i.scale,y:a.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return vo(e,"discard")&&!s.isInRange(l)?null:l},Tx=(function(t){function e(){return wEe(this,e),SEe(this,e,arguments)}return AEe(e,t),_Ee(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,l=n.alwaysShow,d=n.clipPathId,h=ai(i),g=ai(a);if(Us(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!g)return null;var v=TEe(this.props);if(!v)return null;var b=v.x,S=v.y,O=this.props,E=O.shape,C=O.className,j=vo(this.props,"hidden")?"url(#".concat(d,")"):void 0,P=fL(fL({clipPath:j},At(this.props,!0)),{},{cx:b,cy:S});return te.createElement(fr,{className:zt("recharts-reference-dot",C)},e.renderDot(E,P),pi.renderCallByParent(this.props,{x:b-s,y:S-s,width:2*s,height:2*s}))}}])})(te.Component);Ox(Tx,"displayName","ReferenceDot");Ox(Tx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ox(Tx,"renderDot",function(t,e){var r;return te.isValidElement(t)?r=te.cloneElement(t,e):Dt(t)?r=t(e):r=te.createElement(Sg,wO({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function _O(){return _O=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_O.apply(this,arguments)}function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function hL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hL(Object(r),!0).forEach(function(n){Nx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kEe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Yz(n.key),n)}}function PEe(t,e,r){return e&&kEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jEe(t,e,r){return e=e1(e),IEe(t,Kz()?Reflect.construct(e,r||[],e1(t).constructor):e.apply(t,r))}function IEe(t,e){if(e&&(Xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return REe(t)}function REe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kz=function(){return!!t})()}function e1(t){return e1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e1(t)}function MEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SO(t,e)}function SO(t,e){return SO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},SO(t,e)}function Nx(t,e,r){return e=Yz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yz(t){var e=DEe(t,"string");return Xf(e)=="symbol"?e:e+""}function DEe(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var LEe=function(e,r,n,i,a){var s=a.x1,l=a.x2,d=a.y1,h=a.y2,g=a.xAxis,v=a.yAxis;if(!g||!v)return null;var b=Sk({x:g.scale,y:v.scale}),S={x:e?b.x.apply(s,{position:"start"}):b.x.rangeMin,y:n?b.y.apply(d,{position:"start"}):b.y.rangeMin},O={x:r?b.x.apply(l,{position:"end"}):b.x.rangeMax,y:i?b.y.apply(h,{position:"end"}):b.y.rangeMax};return vo(a,"discard")&&(!b.isInRange(S)||!b.isInRange(O))?null:Mz(S,O)},kx=(function(t){function e(){return NEe(this,e),jEe(this,e,arguments)}return MEe(e,t),PEe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,l=n.y2,d=n.className,h=n.alwaysShow,g=n.clipPathId;Us(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=ai(i),b=ai(a),S=ai(s),O=ai(l),E=this.props.shape;if(!v&&!b&&!S&&!O&&!E)return null;var C=LEe(v,b,S,O,this.props);if(!C&&!E)return null;var j=vo(this.props,"hidden")?"url(#".concat(g,")"):void 0;return te.createElement(fr,{className:zt("recharts-reference-area",d)},e.renderRect(E,pL(pL({clipPath:j},At(this.props,!0)),C)),pi.renderCallByParent(this.props,C))}}])})(te.Component);Nx(kx,"displayName","ReferenceArea");Nx(kx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Nx(kx,"renderRect",function(t,e){var r;return te.isValidElement(t)?r=te.cloneElement(t,e):Dt(t)?r=t(e):r=te.createElement(bk,_O({},e,{className:"recharts-reference-area-rect"})),r});function Xz(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function BEe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return WSe(n,r)}function FEe(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,l=t.height;return e===1?{start:n?i:a,end:n?i+s:a+l}:{start:n?i+s:a+l,end:n?i:a}}function t1(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function $Ee(t,e){return Xz(t,e+1)}function UEe(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,l=e.end,d=0,h=1,g=s,v=function(){var O=n?.[d];if(O===void 0)return{v:Xz(n,h)};var E=d,C,j=function(){return C===void 0&&(C=r(O,E)),C},P=O.coordinate,I=d===0||t1(t,P,j,g,l);I||(d=0,g=s,h+=1),I&&(g=P+t*(j()/2+i),d+=h)},b;h<=a.length;)if(b=v(),b)return b.v;return[]}function Vm(t){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(t)}function mL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mL(Object(r),!0).forEach(function(n){VEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VEe(t,e,r){return e=WEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WEe(t){var e=qEe(t,"string");return Vm(e)=="symbol"?e:e+""}function qEe(t,e){if(Vm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zEe(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,l=e.start,d=e.end,h=function(b){var S=a[b],O,E=function(){return O===void 0&&(O=r(S,b)),O};if(b===s-1){var C=t*(S.coordinate+t*E()/2-d);a[b]=S=Mi(Mi({},S),{},{tickCoord:C>0?S.coordinate-C*t:S.coordinate})}else a[b]=S=Mi(Mi({},S),{},{tickCoord:S.coordinate});var j=t1(t,S.tickCoord,E,l,d);j&&(d=S.tickCoord-t*(E()/2+i),a[b]=Mi(Mi({},S),{},{isShow:!0}))},g=s-1;g>=0;g--)h(g);return a}function HEe(t,e,r,n,i,a){var s=(n||[]).slice(),l=s.length,d=e.start,h=e.end;if(a){var g=n[l-1],v=r(g,l-1),b=t*(g.coordinate+t*v/2-h);s[l-1]=g=Mi(Mi({},g),{},{tickCoord:b>0?g.coordinate-b*t:g.coordinate});var S=t1(t,g.tickCoord,function(){return v},d,h);S&&(h=g.tickCoord-t*(v/2+i),s[l-1]=Mi(Mi({},g),{},{isShow:!0}))}for(var O=a?l-1:l,E=function(P){var I=s[P],F,R=function(){return F===void 0&&(F=r(I,P)),F};if(P===0){var M=t*(I.coordinate-t*R()/2-d);s[P]=I=Mi(Mi({},I),{},{tickCoord:M<0?I.coordinate-M*t:I.coordinate})}else s[P]=I=Mi(Mi({},I),{},{tickCoord:I.coordinate});var B=t1(t,I.tickCoord,R,d,h);B&&(d=I.tickCoord+t*(R()/2+i),s[P]=Mi(Mi({},I),{},{isShow:!0}))},C=0;C<O;C++)E(C);return s}function kk(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,l=t.orientation,d=t.interval,h=t.tickFormatter,g=t.unit,v=t.angle;if(!i||!i.length||!n)return[];if(Je(d)||Sc.isSsr)return $Ee(i,typeof d=="number"&&Je(d)?d:0);var b=[],S=l==="top"||l==="bottom"?"width":"height",O=g&&S==="width"?Mp(g,{fontSize:e,letterSpacing:r}):{width:0,height:0},E=function(I,F){var R=Dt(h)?h(I.value,F):I.value;return S==="width"?BEe(Mp(R,{fontSize:e,letterSpacing:r}),O,v):Mp(R,{fontSize:e,letterSpacing:r})[S]},C=i.length>=2?Hi(i[1].coordinate-i[0].coordinate):1,j=FEe(a,C,S);return d==="equidistantPreserveStart"?UEe(C,j,E,i,s):(d==="preserveStart"||d==="preserveStartEnd"?b=HEe(C,j,E,i,s,d==="preserveStartEnd"):b=zEe(C,j,E,i,s),b.filter(function(P){return P.isShow}))}var GEe=["viewBox"],KEe=["viewBox"],YEe=["ticks"];function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function Jd(){return Jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jd.apply(this,arguments)}function gL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gL(Object(r),!0).forEach(function(n){Pk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uC(t,e){if(t==null)return{};var r=XEe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function XEe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ZEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qz(n.key),n)}}function QEe(t,e,r){return e&&vL(t.prototype,e),r&&vL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function JEe(t,e,r){return e=r1(e),eCe(t,Zz()?Reflect.construct(e,r||[],r1(t).constructor):e.apply(t,r))}function eCe(t,e){if(e&&(Zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tCe(t)}function tCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zz=function(){return!!t})()}function r1(t){return r1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},r1(t)}function rCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EO(t,e)}function EO(t,e){return EO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},EO(t,e)}function Pk(t,e,r){return e=Qz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qz(t){var e=nCe(t,"string");return Zf(e)=="symbol"?e:e+""}function nCe(t,e){if(Zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wh=(function(t){function e(r){var n;return ZEe(this,e),n=JEe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return rCe(e,t),QEe(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=uC(n,GEe),l=this.props,d=l.viewBox,h=uC(l,KEe);return!cf(a,d)||!cf(s,h)||!cf(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,l=i.width,d=i.height,h=i.orientation,g=i.tickSize,v=i.mirror,b=i.tickMargin,S,O,E,C,j,P,I=v?-1:1,F=n.tickSize||g,R=Je(n.tickCoord)?n.tickCoord:n.coordinate;switch(h){case"top":S=O=n.coordinate,C=s+ +!v*d,E=C-I*F,P=E-I*b,j=R;break;case"left":E=C=n.coordinate,O=a+ +!v*l,S=O-I*F,j=S-I*b,P=R;break;case"right":E=C=n.coordinate,O=a+ +v*l,S=O+I*F,j=S+I*b,P=R;break;default:S=O=n.coordinate,C=s+ +v*d,E=C+I*F,P=E+I*b,j=R;break}return{line:{x1:S,y1:E,x2:O,y2:C},tick:{x:j,y:P}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,d=n.orientation,h=n.mirror,g=n.axisLine,v=Jn(Jn(Jn({},At(this.props,!1)),At(g,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var b=+(d==="top"&&!h||d==="bottom"&&h);v=Jn(Jn({},v),{},{x1:i,y1:a+b*l,x2:i+s,y2:a+b*l})}else{var S=+(d==="left"&&!h||d==="right"&&h);v=Jn(Jn({},v),{},{x1:i+S*s,y1:a,x2:i+S*s,y2:a+l})}return te.createElement("line",Jd({},v,{className:zt("recharts-cartesian-axis-line",$a(g,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,l=this.props,d=l.tickLine,h=l.stroke,g=l.tick,v=l.tickFormatter,b=l.unit,S=kk(Jn(Jn({},this.props),{},{ticks:n}),i,a),O=this.getTickTextAnchor(),E=this.getTickVerticalAnchor(),C=At(this.props,!1),j=At(g,!1),P=Jn(Jn({},C),{},{fill:"none"},At(d,!1)),I=S.map(function(F,R){var M=s.getTickLineCoord(F),B=M.line,q=M.tick,U=Jn(Jn(Jn(Jn({textAnchor:O,verticalAnchor:E},C),{},{stroke:"none",fill:h},j),q),{},{index:R,payload:F,visibleTicksCount:S.length,tickFormatter:v});return te.createElement(fr,Jd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},Lu(s.props,F,R)),d&&te.createElement("line",Jd({},P,B,{className:zt("recharts-cartesian-axis-tick-line",$a(d,"className"))})),g&&e.renderTickItem(g,U,"".concat(Dt(v)?v(F.value,R):F.value).concat(b||"")))});return te.createElement("g",{className:"recharts-cartesian-axis-ticks"},I)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,l=i.height,d=i.ticksGenerator,h=i.className,g=i.hide;if(g)return null;var v=this.props,b=v.ticks,S=uC(v,YEe),O=b;return Dt(d)&&(O=b&&b.length>0?d(this.props):d(S)),s<=0||l<=0||!O||!O.length?null:te.createElement(fr,{className:zt("recharts-cartesian-axis",h),ref:function(C){n.layerReference=C}},a&&this.renderAxisLine(),this.renderTicks(O,this.state.fontSize,this.state.letterSpacing),pi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,l=zt(i.className,"recharts-cartesian-axis-tick-value");return te.isValidElement(n)?s=te.cloneElement(n,Jn(Jn({},i),{},{className:l})):Dt(n)?s=n(Jn(Jn({},i),{},{className:l})):s=te.createElement(Bu,Jd({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])})(N.Component);Pk(wh,"displayName","CartesianAxis");Pk(wh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var iCe=["x1","y1","x2","y2","key"],aCe=["offset"];function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function yL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Di(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yL(Object(r),!0).forEach(function(n){sCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sCe(t,e,r){return e=oCe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oCe(t){var e=lCe(t,"string");return Vu(e)=="symbol"?e:e+""}function lCe(t,e){if(Vu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xu(){return xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xu.apply(this,arguments)}function xL(t,e){if(t==null)return{};var r=cCe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cCe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var uCe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,l=e.height,d=e.ry;return te.createElement("rect",{x:i,y:a,ry:d,width:s,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Jz(t,e){var r;if(te.isValidElement(t))r=te.cloneElement(t,e);else if(Dt(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,l=e.key,d=xL(e,iCe),h=At(d,!1);h.offset;var g=xL(h,aCe);r=te.createElement("line",xu({},g,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:l}))}return r}function dCe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,d){var h=Di(Di({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(d),index:d});return Jz(i,h)});return te.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function fCe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,d){var h=Di(Di({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(d),index:d});return Jz(i,h)});return te.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function hCe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,l=t.horizontalPoints,d=t.horizontal,h=d===void 0?!0:d;if(!h||!e||!e.length)return null;var g=l.map(function(b){return Math.round(b+i-i)}).sort(function(b,S){return b-S});i!==g[0]&&g.unshift(0);var v=g.map(function(b,S){var O=!g[S+1],E=O?i+s-b:g[S+1]-b;if(E<=0)return null;var C=S%e.length;return te.createElement("rect",{key:"react-".concat(S),y:b,x:n,height:E,width:a,stroke:"none",fill:e[C],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return te.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},v)}function pCe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,l=t.width,d=t.height,h=t.verticalPoints;if(!r||!n||!n.length)return null;var g=h.map(function(b){return Math.round(b+a-a)}).sort(function(b,S){return b-S});a!==g[0]&&g.unshift(0);var v=g.map(function(b,S){var O=!g[S+1],E=O?a+l-b:g[S+1]-b;if(E<=0)return null;var C=S%n.length;return te.createElement("rect",{key:"react-".concat(S),x:b,y:s,width:E,height:d,stroke:"none",fill:n[C],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return te.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},v)}var mCe=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return ez(kk(Di(Di(Di({},wh.defaultProps),n),{},{ticks:Yo(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},gCe=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return ez(kk(Di(Di(Di({},wh.defaultProps),n),{},{ticks:Yo(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},qd={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Tv(t){var e,r,n,i,a,s,l=Ak(),d=Ok(),h=nEe(),g=Di(Di({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:qd.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:qd.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:qd.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:qd.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:qd.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:qd.verticalFill,x:Je(t.x)?t.x:h.left,y:Je(t.y)?t.y:h.top,width:Je(t.width)?t.width:h.width,height:Je(t.height)?t.height:h.height}),v=g.x,b=g.y,S=g.width,O=g.height,E=g.syncWithTicks,C=g.horizontalValues,j=g.verticalValues,P=eEe(),I=tEe();if(!Je(S)||S<=0||!Je(O)||O<=0||!Je(v)||v!==+v||!Je(b)||b!==+b)return null;var F=g.verticalCoordinatesGenerator||mCe,R=g.horizontalCoordinatesGenerator||gCe,M=g.horizontalPoints,B=g.verticalPoints;if((!M||!M.length)&&Dt(R)){var q=C&&C.length,U=R({yAxis:I?Di(Di({},I),{},{ticks:q?C:I.ticks}):void 0,width:l,height:d,offset:h},q?!0:E);Us(Array.isArray(U),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Vu(U),"]")),Array.isArray(U)&&(M=U)}if((!B||!B.length)&&Dt(F)){var z=j&&j.length,G=F({xAxis:P?Di(Di({},P),{},{ticks:z?j:P.ticks}):void 0,width:l,height:d,offset:h},z?!0:E);Us(Array.isArray(G),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Vu(G),"]")),Array.isArray(G)&&(B=G)}return te.createElement("g",{className:"recharts-cartesian-grid"},te.createElement(uCe,{fill:g.fill,fillOpacity:g.fillOpacity,x:g.x,y:g.y,width:g.width,height:g.height,ry:g.ry}),te.createElement(dCe,xu({},g,{offset:h,horizontalPoints:M,xAxis:P,yAxis:I})),te.createElement(fCe,xu({},g,{offset:h,verticalPoints:B,xAxis:P,yAxis:I})),te.createElement(hCe,xu({},g,{horizontalPoints:M})),te.createElement(pCe,xu({},g,{verticalPoints:B})))}Tv.displayName="CartesianGrid";var vCe=["type","layout","connectNulls","ref"],yCe=["key"];function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function wL(t,e){if(t==null)return{};var r=xCe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xCe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Up(){return Up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Up.apply(this,arguments)}function bL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bL(Object(r),!0).forEach(function(n){Ds(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zd(t){return SCe(t)||_Ce(t)||bCe(t)||wCe()}function wCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bCe(t,e){if(t){if(typeof t=="string")return CO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CO(t,e)}}function _Ce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SCe(t){if(Array.isArray(t))return CO(t)}function CO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ECe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tH(n.key),n)}}function CCe(t,e,r){return e&&_L(t.prototype,e),r&&_L(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ACe(t,e,r){return e=n1(e),OCe(t,eH()?Reflect.construct(e,r||[],n1(t).constructor):e.apply(t,r))}function OCe(t,e){if(e&&(Qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TCe(t)}function TCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eH=function(){return!!t})()}function n1(t){return n1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},n1(t)}function NCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AO(t,e)}function AO(t,e){return AO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},AO(t,e)}function Ds(t,e,r){return e=tH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tH(t){var e=kCe(t,"string");return Qf(e)=="symbol"?e:e+""}function kCe(t,e){if(Qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jf=(function(t){function e(){var r;ECe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ACe(this,e,[].concat(i)),Ds(r,"state",{isAnimationFinished:!0,totalLength:0}),Ds(r,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),Ds(r,"getStrokeDasharray",function(s,l,d){var h=d.reduce(function(j,P){return j+P});if(!h)return r.generateSimpleStrokeDasharray(l,s);for(var g=Math.floor(s/h),v=s%h,b=l-s,S=[],O=0,E=0;O<d.length;E+=d[O],++O)if(E+d[O]>v){S=[].concat(zd(d.slice(0,O)),[v-E]);break}var C=S.length%2===0?[0,b]:[b];return[].concat(zd(e.repeat(d,g)),zd(S),C).map(function(j){return"".concat(j,"px")}).join(", ")}),Ds(r,"id",Ju("recharts-line-")),Ds(r,"pathRef",function(s){r.mainCurve=s}),Ds(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ds(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return NCe(e,t),CCe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,l=a.xAxis,d=a.yAxis,h=a.layout,g=a.children,v=Ua(g,_g);if(!v)return null;var b=function(E,C){return{x:E.x,y:E.y,value:E.value,errorVal:Rn(E.payload,C)}},S={clipPath:n?"url(#clipPath-".concat(i,")"):null};return te.createElement(fr,S,v.map(function(O){return te.cloneElement(O,{key:"bar-".concat(O.props.dataKey),data:s,xAxis:l,yAxis:d,layout:h,dataPointFormatter:b})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,d=l.dot,h=l.points,g=l.dataKey,v=At(this.props,!1),b=At(d,!0),S=h.map(function(E,C){var j=Oa(Oa(Oa({key:"dot-".concat(C),r:3},v),b),{},{index:C,cx:E.x,cy:E.y,value:E.value,dataKey:g,payload:E.payload,points:h});return e.renderDotItem(d,j)}),O={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return te.createElement(fr,Up({className:"recharts-line-dots",key:"dots"},O),S)}},{key:"renderCurveStatically",value:function(n,i,a,s){var l=this.props,d=l.type,h=l.layout,g=l.connectNulls;l.ref;var v=wL(l,vCe),b=Oa(Oa(Oa({},At(v,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:d,layout:h,connectNulls:g});return te.createElement(Cu,Up({},b,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,l=s.points,d=s.strokeDasharray,h=s.isAnimationActive,g=s.animationBegin,v=s.animationDuration,b=s.animationEasing,S=s.animationId,O=s.animateNewValues,E=s.width,C=s.height,j=this.state,P=j.prevPoints,I=j.totalLength;return te.createElement(Hs,{begin:g,duration:v,isActive:h,easing:b,from:{t:0},to:{t:1},key:"line-".concat(S),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(F){var R=F.t;if(P){var M=P.length/l.length,B=l.map(function(W,H){var Q=Math.floor(H*M);if(P[Q]){var X=P[Q],se=ii(X.x,W.x),ne=ii(X.y,W.y);return Oa(Oa({},W),{},{x:se(R),y:ne(R)})}if(O){var re=ii(E*2,W.x),J=ii(C/2,W.y);return Oa(Oa({},W),{},{x:re(R),y:J(R)})}return Oa(Oa({},W),{},{x:W.x,y:W.y})});return a.renderCurveStatically(B,n,i)}var q=ii(0,I),U=q(R),z;if(d){var G="".concat(d).split(/[,\s]+/gim).map(function(W){return parseFloat(W)});z=a.getStrokeDasharray(U,I,G)}else z=a.generateSimpleStrokeDasharray(I,U);return a.renderCurveStatically(l,n,i,{strokeDasharray:z})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,l=a.isAnimationActive,d=this.state,h=d.prevPoints,g=d.totalLength;return l&&s&&s.length&&(!h&&g>0||!Fu(h,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,l=i.points,d=i.className,h=i.xAxis,g=i.yAxis,v=i.top,b=i.left,S=i.width,O=i.height,E=i.isAnimationActive,C=i.id;if(a||!l||!l.length)return null;var j=this.state.isAnimationFinished,P=l.length===1,I=zt("recharts-line",d),F=h&&h.allowDataOverflow,R=g&&g.allowDataOverflow,M=F||R,B=Vt(C)?this.id:C,q=(n=At(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},U=q.r,z=U===void 0?3:U,G=q.strokeWidth,W=G===void 0?2:G,H=rW(s)?s:{},Q=H.clipDot,X=Q===void 0?!0:Q,se=z*2+W;return te.createElement(fr,{className:I},F||R?te.createElement("defs",null,te.createElement("clipPath",{id:"clipPath-".concat(B)},te.createElement("rect",{x:F?b:b-S/2,y:R?v:v-O/2,width:F?S:S*2,height:R?O:O*2})),!X&&te.createElement("clipPath",{id:"clipPath-dots-".concat(B)},te.createElement("rect",{x:b-se/2,y:v-se/2,width:S+se,height:O+se}))):null,!P&&this.renderCurve(M,B),this.renderErrorBar(M,B),(P||s)&&this.renderDots(M,X,B),(!E||j)&&go.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(zd(n),[0]):n,s=[],l=0;l<i;++l)s=[].concat(zd(s),zd(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(te.isValidElement(n))a=te.cloneElement(n,i);else if(Dt(n))a=n(i);else{var s=i.key,l=wL(i,yCe),d=zt("recharts-line-dot",typeof n!="boolean"?n.className:"");a=te.createElement(Sg,Up({key:s},l,{className:d}))}return a}}])})(N.PureComponent);Ds(Jf,"displayName","Line");Ds(Jf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Sc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ds(Jf,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,l=t.bandSize,d=t.displayedData,h=t.offset,g=e.layout,v=d.map(function(b,S){var O=Rn(b,s);return g==="horizontal"?{x:Ry({axis:r,ticks:i,bandSize:l,entry:b,index:S}),y:Vt(O)?null:n.scale(O),value:O,payload:b}:{x:Vt(O)?null:r.scale(O),y:Ry({axis:n,ticks:a,bandSize:l,entry:b,index:S}),value:O,payload:b}});return Oa({points:v,layout:g},h)});var PCe=["layout","type","stroke","connectNulls","isRange","ref"],jCe=["key"],rH;function eh(t){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}function nH(t,e){if(t==null)return{};var r=ICe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ICe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wu(){return wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wu.apply(this,arguments)}function SL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SL(Object(r),!0).forEach(function(n){lo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aH(n.key),n)}}function MCe(t,e,r){return e&&EL(t.prototype,e),r&&EL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function DCe(t,e,r){return e=i1(e),LCe(t,iH()?Reflect.construct(e,r||[],i1(t).constructor):e.apply(t,r))}function LCe(t,e){if(e&&(eh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BCe(t)}function BCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iH=function(){return!!t})()}function i1(t){return i1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},i1(t)}function FCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OO(t,e)}function OO(t,e){return OO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},OO(t,e)}function lo(t,e,r){return e=aH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aH(t){var e=$Ce(t,"string");return eh(e)=="symbol"?e:e+""}function $Ce(t,e){if(eh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ol=(function(t){function e(){var r;RCe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=DCe(this,e,[].concat(i)),lo(r,"state",{isAnimationFinished:!0}),lo(r,"id",Ju("recharts-area-")),lo(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Dt(s)&&s()}),lo(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Dt(s)&&s()}),r}return FCe(e,t),MCe(e,[{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var d=this.props,h=d.dot,g=d.points,v=d.dataKey,b=At(this.props,!1),S=At(h,!0),O=g.map(function(C,j){var P=zl(zl(zl({key:"dot-".concat(j),r:3},b),S),{},{index:j,cx:C.x,cy:C.y,dataKey:v,value:C.value,payload:C.payload,points:g});return e.renderDotItem(h,P)}),E={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return te.createElement(fr,wu({className:"recharts-area-dots"},E),O)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,l=i.strokeWidth,d=s[0].x,h=s[s.length-1].x,g=n*Math.abs(d-h),v=ec(s.map(function(b){return b.y||0}));return Je(a)&&typeof a=="number"?v=Math.max(a,v):a&&Array.isArray(a)&&a.length&&(v=Math.max(ec(a.map(function(b){return b.y||0})),v)),Je(v)?te.createElement("rect",{x:d<h?d:d-g,y:0,width:g,height:Math.floor(v+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,l=i.strokeWidth,d=s[0].y,h=s[s.length-1].y,g=n*Math.abs(d-h),v=ec(s.map(function(b){return b.x||0}));return Je(a)&&typeof a=="number"?v=Math.max(a,v):a&&Array.isArray(a)&&a.length&&(v=Math.max(ec(a.map(function(b){return b.x||0})),v)),Je(v)?te.createElement("rect",{x:0,y:d<h?d:d-g,width:v+(l?parseInt("".concat(l),10):1),height:Math.floor(g)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,s){var l=this.props,d=l.layout,h=l.type,g=l.stroke,v=l.connectNulls,b=l.isRange;l.ref;var S=nH(l,PCe);return te.createElement(fr,{clipPath:a?"url(#clipPath-".concat(s,")"):null},te.createElement(Cu,wu({},At(S,!0),{points:n,connectNulls:v,type:h,baseLine:i,layout:d,stroke:"none",className:"recharts-area-area"})),g!=="none"&&te.createElement(Cu,wu({},At(this.props,!1),{className:"recharts-area-curve",layout:d,type:h,connectNulls:v,fill:"none",points:n})),g!=="none"&&b&&te.createElement(Cu,wu({},At(this.props,!1),{className:"recharts-area-curve",layout:d,type:h,connectNulls:v,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,s=this.props,l=s.points,d=s.baseLine,h=s.isAnimationActive,g=s.animationBegin,v=s.animationDuration,b=s.animationEasing,S=s.animationId,O=this.state,E=O.prevPoints,C=O.prevBaseLine;return te.createElement(Hs,{begin:g,duration:v,isActive:h,easing:b,from:{t:0},to:{t:1},key:"area-".concat(S),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var P=j.t;if(E){var I=E.length/l.length,F=l.map(function(q,U){var z=Math.floor(U*I);if(E[z]){var G=E[z],W=ii(G.x,q.x),H=ii(G.y,q.y);return zl(zl({},q),{},{x:W(P),y:H(P)})}return q}),R;if(Je(d)&&typeof d=="number"){var M=ii(C,d);R=M(P)}else if(Vt(d)||mh(d)){var B=ii(C,0);R=B(P)}else R=d.map(function(q,U){var z=Math.floor(U*I);if(C[z]){var G=C[z],W=ii(G.x,q.x),H=ii(G.y,q.y);return zl(zl({},q),{},{x:W(P),y:H(P)})}return q});return a.renderAreaStatically(F,R,n,i)}return te.createElement(fr,null,te.createElement("defs",null,te.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(P))),te.createElement(fr,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,d,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,s=a.points,l=a.baseLine,d=a.isAnimationActive,h=this.state,g=h.prevPoints,v=h.prevBaseLine,b=h.totalLength;return d&&s&&s.length&&(!g&&b>0||!Fu(g,s)||!Fu(v,l))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(s,l,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,l=i.points,d=i.className,h=i.top,g=i.left,v=i.xAxis,b=i.yAxis,S=i.width,O=i.height,E=i.isAnimationActive,C=i.id;if(a||!l||!l.length)return null;var j=this.state.isAnimationFinished,P=l.length===1,I=zt("recharts-area",d),F=v&&v.allowDataOverflow,R=b&&b.allowDataOverflow,M=F||R,B=Vt(C)?this.id:C,q=(n=At(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},U=q.r,z=U===void 0?3:U,G=q.strokeWidth,W=G===void 0?2:G,H=rW(s)?s:{},Q=H.clipDot,X=Q===void 0?!0:Q,se=z*2+W;return te.createElement(fr,{className:I},F||R?te.createElement("defs",null,te.createElement("clipPath",{id:"clipPath-".concat(B)},te.createElement("rect",{x:F?g:g-S/2,y:R?h:h-O/2,width:F?S:S*2,height:R?O:O*2})),!X&&te.createElement("clipPath",{id:"clipPath-dots-".concat(B)},te.createElement("rect",{x:g-se/2,y:h-se/2,width:S+se,height:O+se}))):null,P?null:this.renderArea(M,B),(s||P)&&this.renderDots(M,X,B),(!E||j)&&go.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(N.PureComponent);rH=ol;lo(ol,"displayName","Area");lo(ol,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Sc.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});lo(ol,"getBaseValue",function(t,e,r,n){var i=t.layout,a=t.baseValue,s=e.props.baseValue,l=s??a;if(Je(l)&&typeof l=="number")return l;var d=i==="horizontal"?n:r,h=d.scale.domain();if(d.type==="number"){var g=Math.max(h[0],h[1]),v=Math.min(h[0],h[1]);return l==="dataMin"?v:l==="dataMax"||g<0?g:Math.max(Math.min(h[0],h[1]),0)}return l==="dataMin"?h[0]:l==="dataMax"?h[1]:h[0]});lo(ol,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,l=t.bandSize,d=t.dataKey,h=t.stackedData,g=t.dataStartIndex,v=t.displayedData,b=t.offset,S=e.layout,O=h&&h.length,E=rH.getBaseValue(e,r,n,i),C=S==="horizontal",j=!1,P=v.map(function(F,R){var M;O?M=h[g+R]:(M=Rn(F,d),Array.isArray(M)?j=!0:M=[E,M]);var B=M[1]==null||O&&Rn(F,d)==null;return C?{x:Ry({axis:n,ticks:a,bandSize:l,entry:F,index:R}),y:B?null:i.scale(M[1]),value:M,payload:F}:{x:B?null:n.scale(M[1]),y:Ry({axis:i,ticks:s,bandSize:l,entry:F,index:R}),value:M,payload:F}}),I;return O||j?I=P.map(function(F){var R=Array.isArray(F.value)?F.value[0]:null;return C?{x:F.x,y:R!=null&&F.y!=null?i.scale(R):null}:{x:R!=null?n.scale(R):null,y:F.y}}):I=C?i.scale(E):n.scale(E),zl({points:P,baseLine:I,layout:S,isRange:j},b)});lo(ol,"renderDotItem",function(t,e){var r;if(te.isValidElement(t))r=te.cloneElement(t,e);else if(Dt(t))r=t(e);else{var n=zt("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=nH(e,jCe);r=te.createElement(Sg,wu({},a,{key:i,className:n}))}return r});function th(t){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(t)}function UCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VCe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lH(n.key),n)}}function WCe(t,e,r){return e&&VCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qCe(t,e,r){return e=a1(e),zCe(t,sH()?Reflect.construct(e,r||[],a1(t).constructor):e.apply(t,r))}function zCe(t,e){if(e&&(th(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HCe(t)}function HCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sH=function(){return!!t})()}function a1(t){return a1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},a1(t)}function GCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TO(t,e)}function TO(t,e){return TO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TO(t,e)}function oH(t,e,r){return e=lH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lH(t){var e=KCe(t,"string");return th(e)=="symbol"?e:e+""}function KCe(t,e){if(th(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function NO(){return NO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NO.apply(this,arguments)}function YCe(t){var e=t.xAxisId,r=Ak(),n=Ok(),i=Vz(e);return i==null?null:N.createElement(wh,NO({},i,{className:zt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Yo(s,!0)}}))}var oc=(function(t){function e(){return UCe(this,e),qCe(this,e,arguments)}return GCe(e,t),WCe(e,[{key:"render",value:function(){return N.createElement(YCe,this.props)}}])})(N.Component);oH(oc,"displayName","XAxis");oH(oc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}function XCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZCe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dH(n.key),n)}}function QCe(t,e,r){return e&&ZCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JCe(t,e,r){return e=s1(e),eAe(t,cH()?Reflect.construct(e,r||[],s1(t).constructor):e.apply(t,r))}function eAe(t,e){if(e&&(rh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tAe(t)}function tAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cH=function(){return!!t})()}function s1(t){return s1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s1(t)}function rAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kO(t,e)}function kO(t,e){return kO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kO(t,e)}function uH(t,e,r){return e=dH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dH(t){var e=nAe(t,"string");return rh(e)=="symbol"?e:e+""}function nAe(t,e){if(rh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function PO(){return PO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PO.apply(this,arguments)}var iAe=function(e){var r=e.yAxisId,n=Ak(),i=Ok(),a=Wz(r);return a==null?null:N.createElement(wh,PO({},a,{className:zt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return Yo(l,!0)}}))},lc=(function(t){function e(){return XCe(this,e),JCe(this,e,arguments)}return rAe(e,t),QCe(e,[{key:"render",value:function(){return N.createElement(iAe,this.props)}}])})(N.Component);uH(lc,"displayName","YAxis");uH(lc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function CL(t){return lAe(t)||oAe(t)||sAe(t)||aAe()}function aAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sAe(t,e){if(t){if(typeof t=="string")return jO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jO(t,e)}}function oAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lAe(t){if(Array.isArray(t))return jO(t)}function jO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var IO=function(e,r,n,i,a){var s=Ua(e,Nk),l=Ua(e,Tx),d=[].concat(CL(s),CL(l)),h=Ua(e,kx),g="".concat(i,"Id"),v=i[0],b=r;if(d.length&&(b=d.reduce(function(E,C){if(C.props[g]===n&&vo(C.props,"extendDomain")&&Je(C.props[v])){var j=C.props[v];return[Math.min(E[0],j),Math.max(E[1],j)]}return E},b)),h.length){var S="".concat(v,"1"),O="".concat(v,"2");b=h.reduce(function(E,C){if(C.props[g]===n&&vo(C.props,"extendDomain")&&Je(C.props[S])&&Je(C.props[O])){var j=C.props[S],P=C.props[O];return[Math.min(E[0],j,P),Math.max(E[1],j,P)]}return E},b)}return a&&a.length&&(b=a.reduce(function(E,C){return Je(C)?[Math.min(E[0],C),Math.max(E[1],C)]:E},b)),b},dC={exports:{}},AL;function cAe(){return AL||(AL=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,h,g){this.fn=d,this.context=h,this.once=g||!1}function a(d,h,g,v,b){if(typeof g!="function")throw new TypeError("The listener must be a function");var S=new i(g,v||d,b),O=r?r+h:h;return d._events[O]?d._events[O].fn?d._events[O]=[d._events[O],S]:d._events[O].push(S):(d._events[O]=S,d._eventsCount++),d}function s(d,h){--d._eventsCount===0?d._events=new n:delete d._events[h]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var h=[],g,v;if(this._eventsCount===0)return h;for(v in g=this._events)e.call(g,v)&&h.push(r?v.slice(1):v);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(g)):h},l.prototype.listeners=function(h){var g=r?r+h:h,v=this._events[g];if(!v)return[];if(v.fn)return[v.fn];for(var b=0,S=v.length,O=new Array(S);b<S;b++)O[b]=v[b].fn;return O},l.prototype.listenerCount=function(h){var g=r?r+h:h,v=this._events[g];return v?v.fn?1:v.length:0},l.prototype.emit=function(h,g,v,b,S,O){var E=r?r+h:h;if(!this._events[E])return!1;var C=this._events[E],j=arguments.length,P,I;if(C.fn){switch(C.once&&this.removeListener(h,C.fn,void 0,!0),j){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,g),!0;case 3:return C.fn.call(C.context,g,v),!0;case 4:return C.fn.call(C.context,g,v,b),!0;case 5:return C.fn.call(C.context,g,v,b,S),!0;case 6:return C.fn.call(C.context,g,v,b,S,O),!0}for(I=1,P=new Array(j-1);I<j;I++)P[I-1]=arguments[I];C.fn.apply(C.context,P)}else{var F=C.length,R;for(I=0;I<F;I++)switch(C[I].once&&this.removeListener(h,C[I].fn,void 0,!0),j){case 1:C[I].fn.call(C[I].context);break;case 2:C[I].fn.call(C[I].context,g);break;case 3:C[I].fn.call(C[I].context,g,v);break;case 4:C[I].fn.call(C[I].context,g,v,b);break;default:if(!P)for(R=1,P=new Array(j-1);R<j;R++)P[R-1]=arguments[R];C[I].fn.apply(C[I].context,P)}}return!0},l.prototype.on=function(h,g,v){return a(this,h,g,v,!1)},l.prototype.once=function(h,g,v){return a(this,h,g,v,!0)},l.prototype.removeListener=function(h,g,v,b){var S=r?r+h:h;if(!this._events[S])return this;if(!g)return s(this,S),this;var O=this._events[S];if(O.fn)O.fn===g&&(!b||O.once)&&(!v||O.context===v)&&s(this,S);else{for(var E=0,C=[],j=O.length;E<j;E++)(O[E].fn!==g||b&&!O[E].once||v&&O[E].context!==v)&&C.push(O[E]);C.length?this._events[S]=C.length===1?C[0]:C:s(this,S)}return this},l.prototype.removeAllListeners=function(h){var g;return h?(g=r?r+h:h,this._events[g]&&s(this,g)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(dC)),dC.exports}var uAe=cAe();const dAe=Cr(uAe);var fC=new dAe,hC="recharts.syncMouseEvents";function Wm(t){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wm(t)}function fAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fH(n.key),n)}}function pAe(t,e,r){return e&&hAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pC(t,e,r){return e=fH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fH(t){var e=mAe(t,"string");return Wm(e)=="symbol"?e:e+""}function mAe(t,e){if(Wm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gAe=(function(){function t(){fAe(this,t),pC(this,"activeIndex",0),pC(this,"coordinateList",[]),pC(this,"layout","horizontal")}return pAe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,l=s===void 0?null:s,d=r.layout,h=d===void 0?null:d,g=r.offset,v=g===void 0?null:g,b=r.mouseHandlerCallback,S=b===void 0?null:b;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=h??this.layout,this.offset=v??this.offset,this.mouseHandlerCallback=S??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,l=i.height,d=this.coordinateList[this.activeIndex].coordinate,h=((r=window)===null||r===void 0?void 0:r.scrollX)||0,g=((n=window)===null||n===void 0?void 0:n.scrollY)||0,v=a+d+h,b=s+this.offset.top+l/2+g;this.mouseHandlerCallback({pageX:v,pageY:b})}}}])})();function vAe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&Je(n)&&Je(i))return!0}return!1}function yAe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function hH(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=an(e,r,n,i),l=an(e,r,n,a);return{points:[s,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function xAe(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,d=e.cy,h=e.innerRadius,g=e.outerRadius,v=e.angle,b=an(l,d,h,v),S=an(l,d,g,v);n=b.x,i=b.y,a=S.x,s=S.y}else return hH(e);return[{x:n,y:i},{x:a,y:s}]}function qm(t){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(t)}function OL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OL(Object(r),!0).forEach(function(n){wAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wAe(t,e,r){return e=bAe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bAe(t){var e=_Ae(t,"string");return qm(e)=="symbol"?e:e+""}function _Ae(t,e){if(qm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SAe(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,l=t.activePayload,d=t.offset,h=t.activeTooltipIndex,g=t.tooltipAxisBandSize,v=t.layout,b=t.chartName,S=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!S||!a||!s||b!=="ScatterChart"&&i!=="axis")return null;var O,E=Cu;if(b==="ScatterChart")O=s,E=M_e;else if(b==="BarChart")O=yAe(v,s,d,g),E=bk;else if(v==="radial"){var C=hH(s),j=C.cx,P=C.cy,I=C.radius,F=C.startAngle,R=C.endAngle;O={cx:j,cy:P,startAngle:F,endAngle:R,innerRadius:I,outerRadius:I},E=dz}else O={points:xAe(v,s,d)},E=Cu;var M=dv(dv(dv(dv({stroke:"#ccc",pointerEvents:"none"},d),O),At(S,!1)),{},{payload:l,payloadIndex:h,className:zt("recharts-tooltip-cursor",S.className)});return N.isValidElement(S)?N.cloneElement(S,M):N.createElement(E,M)}var EAe=["item"],CAe=["children","className","width","height","style","compact","title","desc"];function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function ef(){return ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ef.apply(this,arguments)}function TL(t,e){return TAe(t)||OAe(t,e)||mH(t,e)||AAe()}function AAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OAe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function TAe(t){if(Array.isArray(t))return t}function NL(t,e){if(t==null)return{};var r=NAe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function kAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gH(n.key),n)}}function jAe(t,e,r){return e&&PAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function IAe(t,e,r){return e=o1(e),RAe(t,pH()?Reflect.construct(e,r||[],o1(t).constructor):e.apply(t,r))}function RAe(t,e){if(e&&(nh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MAe(t)}function MAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pH=function(){return!!t})()}function o1(t){return o1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},o1(t)}function DAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RO(t,e)}function RO(t,e){return RO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RO(t,e)}function ih(t){return FAe(t)||BAe(t)||mH(t)||LAe()}function LAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mH(t,e){if(t){if(typeof t=="string")return MO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MO(t,e)}}function BAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FAe(t){if(Array.isArray(t))return MO(t)}function MO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Re(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kL(Object(r),!0).forEach(function(n){Mt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mt(t,e,r){return e=gH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gH(t){var e=$Ae(t,"string");return nh(e)=="symbol"?e:e+""}function $Ae(t,e){if(nh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UAe={xAxis:["bottom","top"],yAxis:["left","right"]},VAe={width:"100%",height:"100%"},vH={x:0,y:0};function fv(t){return t}var WAe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},qAe=function(e,r,n,i){var a=r.find(function(g){return g&&g.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,l=i.radius;return Re(Re(Re({},i),an(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var d=a.coordinate,h=i.angle;return Re(Re(Re({},i),an(i.cx,i.cy,d,h)),{},{angle:h,radius:d})}return vH},Px=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(l,d){var h=d.props.data;return h&&h.length?[].concat(ih(l),ih(h)):l},[]);return s.length>0?s:e&&e.length&&Je(i)&&Je(a)?e.slice(i,a+1):[]};function yH(t){return t==="number"?[0,"auto"]:void 0}var DO=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,l=Px(r,e);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(d,h){var g,v=(g=h.props.data)!==null&&g!==void 0?g:r;v&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(v=v.slice(e.dataStartIndex,e.dataEndIndex+1));var b;if(s.dataKey&&!s.allowDuplicatedCategory){var S=v===void 0?l:v;b=cy(S,s.dataKey,i)}else b=v&&v[n]||l[n];return b?[].concat(ih(d),[az(h,b)]):d},[])},PL=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=WAe(a,n),l=e.orderedTooltipTicks,d=e.tooltipAxis,h=e.tooltipTicks,g=sxe(s,l,h,d);if(g>=0&&h){var v=h[g]&&h[g].value,b=DO(e,r,g,v),S=qAe(n,l,g,a);return{activeTooltipIndex:g,activeLabel:v,activePayload:b,activeCoordinate:S}}return null},zAe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,l=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,g=e.layout,v=e.children,b=e.stackOffset,S=Jq(g,a);return n.reduce(function(O,E){var C,j=E.type.defaultProps!==void 0?Re(Re({},E.type.defaultProps),E.props):E.props,P=j.type,I=j.dataKey,F=j.allowDataOverflow,R=j.allowDuplicatedCategory,M=j.scale,B=j.ticks,q=j.includeHidden,U=j[s];if(O[U])return O;var z=Px(e.data,{graphicalItems:i.filter(function(le){var we,ke=s in le.props?le.props[s]:(we=le.type.defaultProps)===null||we===void 0?void 0:we[s];return ke===U}),dataStartIndex:d,dataEndIndex:h}),G=z.length,W,H,Q;vAe(j.domain,F,P)&&(W=YA(j.domain,null,F),S&&(P==="number"||M!=="auto")&&(Q=Lp(z,I,"category")));var X=yH(P);if(!W||W.length===0){var se,ne=(se=j.domain)!==null&&se!==void 0?se:X;if(I){if(W=Lp(z,I,P),P==="category"&&S){var re=ehe(W);R&&re?(H=W,W=Gy(0,G)):R||(W=T6(ne,W,E).reduce(function(le,we){return le.indexOf(we)>=0?le:[].concat(ih(le),[we])},[]))}else if(P==="category")R?W=W.filter(function(le){return le!==""&&!Vt(le)}):W=T6(ne,W,E).reduce(function(le,we){return le.indexOf(we)>=0||we===""||Vt(we)?le:[].concat(ih(le),[we])},[]);else if(P==="number"){var J=dxe(z,i.filter(function(le){var we,ke,qe=s in le.props?le.props[s]:(we=le.type.defaultProps)===null||we===void 0?void 0:we[s],je="hide"in le.props?le.props.hide:(ke=le.type.defaultProps)===null||ke===void 0?void 0:ke.hide;return qe===U&&(q||!je)}),I,a,g);J&&(W=J)}S&&(P==="number"||M!=="auto")&&(Q=Lp(z,I,"category"))}else S?W=Gy(0,G):l&&l[U]&&l[U].hasStack&&P==="number"?W=b==="expand"?[0,1]:iz(l[U].stackGroups,d,h):W=Qq(z,i.filter(function(le){var we=s in le.props?le.props[s]:le.type.defaultProps[s],ke="hide"in le.props?le.props.hide:le.type.defaultProps.hide;return we===U&&(q||!ke)}),P,g,!0);if(P==="number")W=IO(v,W,U,a,B),ne&&(W=YA(ne,W,F));else if(P==="category"&&ne){var he=ne,ie=W.every(function(le){return he.indexOf(le)>=0});ie&&(W=he)}}return Re(Re({},O),{},Mt({},U,Re(Re({},j),{},{axisType:a,domain:W,categoricalDomain:Q,duplicateDomain:H,originalDomain:(C=j.domain)!==null&&C!==void 0?C:X,isCategorical:S,layout:g})))},{})},HAe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,l=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,g=e.layout,v=e.children,b=Px(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:h}),S=b.length,O=Jq(g,a),E=-1;return n.reduce(function(C,j){var P=j.type.defaultProps!==void 0?Re(Re({},j.type.defaultProps),j.props):j.props,I=P[s],F=yH("number");if(!C[I]){E++;var R;return O?R=Gy(0,S):l&&l[I]&&l[I].hasStack?(R=iz(l[I].stackGroups,d,h),R=IO(v,R,I,a)):(R=YA(F,Qq(b,n.filter(function(M){var B,q,U=s in M.props?M.props[s]:(B=M.type.defaultProps)===null||B===void 0?void 0:B[s],z="hide"in M.props?M.props.hide:(q=M.type.defaultProps)===null||q===void 0?void 0:q.hide;return U===I&&!z}),"number",g),i.defaultProps.allowDataOverflow),R=IO(v,R,I,a)),Re(Re({},C),{},Mt({},I,Re(Re({axisType:a},i.defaultProps),{},{hide:!0,orientation:$a(UAe,"".concat(a,".").concat(E%2),null),domain:R,originalDomain:F,isCategorical:O,layout:g})))}return C},{})},GAe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,g=e.children,v="".concat(i,"Id"),b=Ua(g,a),S={};return b&&b.length?S=zAe(e,{axes:b,graphicalItems:s,axisType:i,axisIdKey:v,stackGroups:l,dataStartIndex:d,dataEndIndex:h}):s&&s.length&&(S=HAe(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:v,stackGroups:l,dataStartIndex:d,dataEndIndex:h})),S},KAe=function(e){var r=Yl(e),n=Yo(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:KN(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:My(r,n)}},jL=function(e){var r=e.children,n=e.defaultShowTooltip,i=ka(r,Hf),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},YAe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Qo(r&&r.type);return n&&n.indexOf("Bar")>=0})},IL=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},XAe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,l=e.yAxisMap,d=l===void 0?{}:l,h=n.width,g=n.height,v=n.children,b=n.margin||{},S=ka(v,Hf),O=ka(v,Jo),E=Object.keys(d).reduce(function(R,M){var B=d[M],q=B.orientation;return!B.mirror&&!B.hide?Re(Re({},R),{},Mt({},q,R[q]+B.width)):R},{left:b.left||0,right:b.right||0}),C=Object.keys(s).reduce(function(R,M){var B=s[M],q=B.orientation;return!B.mirror&&!B.hide?Re(Re({},R),{},Mt({},q,$a(R,"".concat(q))+B.height)):R},{top:b.top||0,bottom:b.bottom||0}),j=Re(Re({},C),E),P=j.bottom;S&&(j.bottom+=S.props.height||Hf.defaultProps.height),O&&r&&(j=cxe(j,i,n,r));var I=h-j.left-j.right,F=g-j.top-j.bottom;return Re(Re({brushBottom:P},j),{},{width:Math.max(I,0),height:Math.max(F,0)})},ZAe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},jx=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,d=e.axisComponents,h=e.legendContent,g=e.formatAxisMap,v=e.defaultProps,b=function(j,P){var I=P.graphicalItems,F=P.stackGroups,R=P.offset,M=P.updateId,B=P.dataStartIndex,q=P.dataEndIndex,U=j.barSize,z=j.layout,G=j.barGap,W=j.barCategoryGap,H=j.maxBarSize,Q=IL(z),X=Q.numericAxisName,se=Q.cateAxisName,ne=YAe(I),re=[];return I.forEach(function(J,he){var ie=Px(j.data,{graphicalItems:[J],dataStartIndex:B,dataEndIndex:q}),le=J.type.defaultProps!==void 0?Re(Re({},J.type.defaultProps),J.props):J.props,we=le.dataKey,ke=le.maxBarSize,qe=le["".concat(X,"Id")],je=le["".concat(se,"Id")],Te={},De=d.reduce(function(fe,Ee){var Xe=P["".concat(Ee.axisType,"Map")],Fe=le["".concat(Ee.axisType,"Id")];Xe&&Xe[Fe]||Ee.axisType==="zAxis"||Uu();var $e=Xe[Fe];return Re(Re({},fe),{},Mt(Mt({},Ee.axisType,$e),"".concat(Ee.axisType,"Ticks"),Yo($e)))},Te),Ne=De[se],Le=De["".concat(se,"Ticks")],ue=F&&F[qe]&&F[qe].hasStack&&wxe(J,F[qe].stackGroups),ve=Qo(J.type).indexOf("Bar")>=0,Ue=My(Ne,Le),Ie=[],Ge=ne&&oxe({barSize:U,stackGroups:F,totalSize:ZAe(De,se)});if(ve){var ct,et,ot=Vt(ke)?H:ke,at=(ct=(et=My(Ne,Le,!0))!==null&&et!==void 0?et:ot)!==null&&ct!==void 0?ct:0;Ie=lxe({barGap:G,barCategoryGap:W,bandSize:at!==Ue?at:Ue,sizeList:Ge[je],maxBarSize:ot}),at!==Ue&&(Ie=Ie.map(function(fe){return Re(Re({},fe),{},{position:Re(Re({},fe.position),{},{offset:fe.position.offset-at/2})})}))}var de=J&&J.type&&J.type.getComposedData;de&&re.push({props:Re(Re({},de(Re(Re({},De),{},{displayedData:ie,props:j,dataKey:we,item:J,bandSize:Ue,barPosition:Ie,offset:R,stackedData:ue,layout:z,dataStartIndex:B,dataEndIndex:q}))),{},Mt(Mt(Mt({key:J.key||"item-".concat(he)},X,De[X]),se,De[se]),"animationId",M)),childIndex:fhe(J,j.children),item:J})}),re},S=function(j,P){var I=j.props,F=j.dataStartIndex,R=j.dataEndIndex,M=j.updateId;if(!W4({props:I}))return null;var B=I.children,q=I.layout,U=I.stackOffset,z=I.data,G=I.reverseStackOrder,W=IL(q),H=W.numericAxisName,Q=W.cateAxisName,X=Ua(B,n),se=yxe(z,X,"".concat(H,"Id"),"".concat(Q,"Id"),U,G),ne=d.reduce(function(le,we){var ke="".concat(we.axisType,"Map");return Re(Re({},le),{},Mt({},ke,GAe(I,Re(Re({},we),{},{graphicalItems:X,stackGroups:we.axisType===H&&se,dataStartIndex:F,dataEndIndex:R}))))},{}),re=XAe(Re(Re({},ne),{},{props:I,graphicalItems:X}),P?.legendBBox);Object.keys(ne).forEach(function(le){ne[le]=g(I,ne[le],re,le.replace("Map",""),r)});var J=ne["".concat(Q,"Map")],he=KAe(J),ie=b(I,Re(Re({},ne),{},{dataStartIndex:F,dataEndIndex:R,updateId:M,graphicalItems:X,stackGroups:se,offset:re}));return Re(Re({formattedGraphicalItems:ie,graphicalItems:X,offset:re,stackGroups:se},he),ne)},O=(function(C){function j(P){var I,F,R;return kAe(this,j),R=IAe(this,j,[P]),Mt(R,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Mt(R,"accessibilityManager",new gAe),Mt(R,"handleLegendBBoxUpdate",function(M){if(M){var B=R.state,q=B.dataStartIndex,U=B.dataEndIndex,z=B.updateId;R.setState(Re({legendBBox:M},S({props:R.props,dataStartIndex:q,dataEndIndex:U,updateId:z},Re(Re({},R.state),{},{legendBBox:M}))))}}),Mt(R,"handleReceiveSyncEvent",function(M,B,q){if(R.props.syncId===M){if(q===R.eventEmitterSymbol&&typeof R.props.syncMethod!="function")return;R.applySyncEvent(B)}}),Mt(R,"handleBrushChange",function(M){var B=M.startIndex,q=M.endIndex;if(B!==R.state.dataStartIndex||q!==R.state.dataEndIndex){var U=R.state.updateId;R.setState(function(){return Re({dataStartIndex:B,dataEndIndex:q},S({props:R.props,dataStartIndex:B,dataEndIndex:q,updateId:U},R.state))}),R.triggerSyncEvent({dataStartIndex:B,dataEndIndex:q})}}),Mt(R,"handleMouseEnter",function(M){var B=R.getMouseInfo(M);if(B){var q=Re(Re({},B),{},{isTooltipActive:!0});R.setState(q),R.triggerSyncEvent(q);var U=R.props.onMouseEnter;Dt(U)&&U(q,M)}}),Mt(R,"triggeredAfterMouseMove",function(M){var B=R.getMouseInfo(M),q=B?Re(Re({},B),{},{isTooltipActive:!0}):{isTooltipActive:!1};R.setState(q),R.triggerSyncEvent(q);var U=R.props.onMouseMove;Dt(U)&&U(q,M)}),Mt(R,"handleItemMouseEnter",function(M){R.setState(function(){return{isTooltipActive:!0,activeItem:M,activePayload:M.tooltipPayload,activeCoordinate:M.tooltipPosition||{x:M.cx,y:M.cy}}})}),Mt(R,"handleItemMouseLeave",function(){R.setState(function(){return{isTooltipActive:!1}})}),Mt(R,"handleMouseMove",function(M){M.persist(),R.throttleTriggeredAfterMouseMove(M)}),Mt(R,"handleMouseLeave",function(M){R.throttleTriggeredAfterMouseMove.cancel();var B={isTooltipActive:!1};R.setState(B),R.triggerSyncEvent(B);var q=R.props.onMouseLeave;Dt(q)&&q(B,M)}),Mt(R,"handleOuterEvent",function(M){var B=dhe(M),q=$a(R.props,"".concat(B));if(B&&Dt(q)){var U,z;/.*touch.*/i.test(B)?z=R.getMouseInfo(M.changedTouches[0]):z=R.getMouseInfo(M),q((U=z)!==null&&U!==void 0?U:{},M)}}),Mt(R,"handleClick",function(M){var B=R.getMouseInfo(M);if(B){var q=Re(Re({},B),{},{isTooltipActive:!0});R.setState(q),R.triggerSyncEvent(q);var U=R.props.onClick;Dt(U)&&U(q,M)}}),Mt(R,"handleMouseDown",function(M){var B=R.props.onMouseDown;if(Dt(B)){var q=R.getMouseInfo(M);B(q,M)}}),Mt(R,"handleMouseUp",function(M){var B=R.props.onMouseUp;if(Dt(B)){var q=R.getMouseInfo(M);B(q,M)}}),Mt(R,"handleTouchMove",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&R.throttleTriggeredAfterMouseMove(M.changedTouches[0])}),Mt(R,"handleTouchStart",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&R.handleMouseDown(M.changedTouches[0])}),Mt(R,"handleTouchEnd",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&R.handleMouseUp(M.changedTouches[0])}),Mt(R,"handleDoubleClick",function(M){var B=R.props.onDoubleClick;if(Dt(B)){var q=R.getMouseInfo(M);B(q,M)}}),Mt(R,"handleContextMenu",function(M){var B=R.props.onContextMenu;if(Dt(B)){var q=R.getMouseInfo(M);B(q,M)}}),Mt(R,"triggerSyncEvent",function(M){R.props.syncId!==void 0&&fC.emit(hC,R.props.syncId,M,R.eventEmitterSymbol)}),Mt(R,"applySyncEvent",function(M){var B=R.props,q=B.layout,U=B.syncMethod,z=R.state.updateId,G=M.dataStartIndex,W=M.dataEndIndex;if(M.dataStartIndex!==void 0||M.dataEndIndex!==void 0)R.setState(Re({dataStartIndex:G,dataEndIndex:W},S({props:R.props,dataStartIndex:G,dataEndIndex:W,updateId:z},R.state)));else if(M.activeTooltipIndex!==void 0){var H=M.chartX,Q=M.chartY,X=M.activeTooltipIndex,se=R.state,ne=se.offset,re=se.tooltipTicks;if(!ne)return;if(typeof U=="function")X=U(re,M);else if(U==="value"){X=-1;for(var J=0;J<re.length;J++)if(re[J].value===M.activeLabel){X=J;break}}var he=Re(Re({},ne),{},{x:ne.left,y:ne.top}),ie=Math.min(H,he.x+he.width),le=Math.min(Q,he.y+he.height),we=re[X]&&re[X].value,ke=DO(R.state,R.props.data,X),qe=re[X]?{x:q==="horizontal"?re[X].coordinate:ie,y:q==="horizontal"?le:re[X].coordinate}:vH;R.setState(Re(Re({},M),{},{activeLabel:we,activeCoordinate:qe,activePayload:ke,activeTooltipIndex:X}))}else R.setState(M)}),Mt(R,"renderCursor",function(M){var B,q=R.state,U=q.isTooltipActive,z=q.activeCoordinate,G=q.activePayload,W=q.offset,H=q.activeTooltipIndex,Q=q.tooltipAxisBandSize,X=R.getTooltipEventType(),se=(B=M.props.active)!==null&&B!==void 0?B:U,ne=R.props.layout,re=M.key||"_recharts-cursor";return te.createElement(SAe,{key:re,activeCoordinate:z,activePayload:G,activeTooltipIndex:H,chartName:r,element:M,isActive:se,layout:ne,offset:W,tooltipAxisBandSize:Q,tooltipEventType:X})}),Mt(R,"renderPolarAxis",function(M,B,q){var U=$a(M,"type.axisType"),z=$a(R.state,"".concat(U,"Map")),G=M.type.defaultProps,W=G!==void 0?Re(Re({},G),M.props):M.props,H=z&&z[W["".concat(U,"Id")]];return N.cloneElement(M,Re(Re({},H),{},{className:zt(U,H.className),key:M.key||"".concat(B,"-").concat(q),ticks:Yo(H,!0)}))}),Mt(R,"renderPolarGrid",function(M){var B=M.props,q=B.radialLines,U=B.polarAngles,z=B.polarRadius,G=R.state,W=G.radiusAxisMap,H=G.angleAxisMap,Q=Yl(W),X=Yl(H),se=X.cx,ne=X.cy,re=X.innerRadius,J=X.outerRadius;return N.cloneElement(M,{polarAngles:Array.isArray(U)?U:Yo(X,!0).map(function(he){return he.coordinate}),polarRadius:Array.isArray(z)?z:Yo(Q,!0).map(function(he){return he.coordinate}),cx:se,cy:ne,innerRadius:re,outerRadius:J,key:M.key||"polar-grid",radialLines:q})}),Mt(R,"renderLegend",function(){var M=R.state.formattedGraphicalItems,B=R.props,q=B.children,U=B.width,z=B.height,G=R.props.margin||{},W=U-(G.left||0)-(G.right||0),H=Xq({children:q,formattedGraphicalItems:M,legendWidth:W,legendContent:h});if(!H)return null;var Q=H.item,X=NL(H,EAe);return N.cloneElement(Q,Re(Re({},X),{},{chartWidth:U,chartHeight:z,margin:G,onBBoxUpdate:R.handleLegendBBoxUpdate}))}),Mt(R,"renderTooltip",function(){var M,B=R.props,q=B.children,U=B.accessibilityLayer,z=ka(q,ja);if(!z)return null;var G=R.state,W=G.isTooltipActive,H=G.activeCoordinate,Q=G.activePayload,X=G.activeLabel,se=G.offset,ne=(M=z.props.active)!==null&&M!==void 0?M:W;return N.cloneElement(z,{viewBox:Re(Re({},se),{},{x:se.left,y:se.top}),active:ne,label:X,payload:ne?Q:[],coordinate:H,accessibilityLayer:U})}),Mt(R,"renderBrush",function(M){var B=R.props,q=B.margin,U=B.data,z=R.state,G=z.offset,W=z.dataStartIndex,H=z.dataEndIndex,Q=z.updateId;return N.cloneElement(M,{key:M.key||"_recharts-brush",onChange:ov(R.handleBrushChange,M.props.onChange),data:U,x:Je(M.props.x)?M.props.x:G.left,y:Je(M.props.y)?M.props.y:G.top+G.height+G.brushBottom-(q.bottom||0),width:Je(M.props.width)?M.props.width:G.width,startIndex:W,endIndex:H,updateId:"brush-".concat(Q)})}),Mt(R,"renderReferenceElement",function(M,B,q){if(!M)return null;var U=R,z=U.clipPathId,G=R.state,W=G.xAxisMap,H=G.yAxisMap,Q=G.offset,X=M.type.defaultProps||{},se=M.props,ne=se.xAxisId,re=ne===void 0?X.xAxisId:ne,J=se.yAxisId,he=J===void 0?X.yAxisId:J;return N.cloneElement(M,{key:M.key||"".concat(B,"-").concat(q),xAxis:W[re],yAxis:H[he],viewBox:{x:Q.left,y:Q.top,width:Q.width,height:Q.height},clipPathId:z})}),Mt(R,"renderActivePoints",function(M){var B=M.item,q=M.activePoint,U=M.basePoint,z=M.childIndex,G=M.isRange,W=[],H=B.props.key,Q=B.item.type.defaultProps!==void 0?Re(Re({},B.item.type.defaultProps),B.item.props):B.item.props,X=Q.activeDot,se=Q.dataKey,ne=Re(Re({index:z,dataKey:se,cx:q.x,cy:q.y,r:4,fill:wk(B.item),strokeWidth:2,stroke:"#fff",payload:q.payload,value:q.value},At(X,!1)),uy(X));return W.push(j.renderActiveDot(X,ne,"".concat(H,"-activePoint-").concat(z))),U?W.push(j.renderActiveDot(X,Re(Re({},ne),{},{cx:U.x,cy:U.y}),"".concat(H,"-basePoint-").concat(z))):G&&W.push(null),W}),Mt(R,"renderGraphicChild",function(M,B,q){var U=R.filterFormatItem(M,B,q);if(!U)return null;var z=R.getTooltipEventType(),G=R.state,W=G.isTooltipActive,H=G.tooltipAxis,Q=G.activeTooltipIndex,X=G.activeLabel,se=R.props.children,ne=ka(se,ja),re=U.props,J=re.points,he=re.isRange,ie=re.baseLine,le=U.item.type.defaultProps!==void 0?Re(Re({},U.item.type.defaultProps),U.item.props):U.item.props,we=le.activeDot,ke=le.hide,qe=le.activeBar,je=le.activeShape,Te=!!(!ke&&W&&ne&&(we||qe||je)),De={};z!=="axis"&&ne&&ne.props.trigger==="click"?De={onClick:ov(R.handleItemMouseEnter,M.props.onClick)}:z!=="axis"&&(De={onMouseLeave:ov(R.handleItemMouseLeave,M.props.onMouseLeave),onMouseEnter:ov(R.handleItemMouseEnter,M.props.onMouseEnter)});var Ne=N.cloneElement(M,Re(Re({},U.props),De));function Le(Ee){return typeof H.dataKey=="function"?H.dataKey(Ee.payload):null}if(Te)if(Q>=0){var ue,ve;if(H.dataKey&&!H.allowDuplicatedCategory){var Ue=typeof H.dataKey=="function"?Le:"payload.".concat(H.dataKey.toString());ue=cy(J,Ue,X),ve=he&&ie&&cy(ie,Ue,X)}else ue=J?.[Q],ve=he&&ie&&ie[Q];if(je||qe){var Ie=M.props.activeIndex!==void 0?M.props.activeIndex:Q;return[N.cloneElement(M,Re(Re(Re({},U.props),De),{},{activeIndex:Ie})),null,null]}if(!Vt(ue))return[Ne].concat(ih(R.renderActivePoints({item:U,activePoint:ue,basePoint:ve,childIndex:Q,isRange:he})))}else{var Ge,ct=(Ge=R.getItemByXY(R.state.activeCoordinate))!==null&&Ge!==void 0?Ge:{graphicalItem:Ne},et=ct.graphicalItem,ot=et.item,at=ot===void 0?M:ot,de=et.childIndex,fe=Re(Re(Re({},U.props),De),{},{activeIndex:de});return[N.cloneElement(at,fe),null,null]}return he?[Ne,null,null]:[Ne,null]}),Mt(R,"renderCustomized",function(M,B,q){return N.cloneElement(M,Re(Re({key:"recharts-customized-".concat(q)},R.props),R.state))}),Mt(R,"renderMap",{CartesianGrid:{handler:fv,once:!0},ReferenceArea:{handler:R.renderReferenceElement},ReferenceLine:{handler:fv},ReferenceDot:{handler:R.renderReferenceElement},XAxis:{handler:fv},YAxis:{handler:fv},Brush:{handler:R.renderBrush,once:!0},Bar:{handler:R.renderGraphicChild},Line:{handler:R.renderGraphicChild},Area:{handler:R.renderGraphicChild},Radar:{handler:R.renderGraphicChild},RadialBar:{handler:R.renderGraphicChild},Scatter:{handler:R.renderGraphicChild},Pie:{handler:R.renderGraphicChild},Funnel:{handler:R.renderGraphicChild},Tooltip:{handler:R.renderCursor,once:!0},PolarGrid:{handler:R.renderPolarGrid,once:!0},PolarAngleAxis:{handler:R.renderPolarAxis},PolarRadiusAxis:{handler:R.renderPolarAxis},Customized:{handler:R.renderCustomized}}),R.clipPathId="".concat((I=P.id)!==null&&I!==void 0?I:Ju("recharts"),"-clip"),R.throttleTriggeredAfterMouseMove=YW(R.triggeredAfterMouseMove,(F=P.throttleDelay)!==null&&F!==void 0?F:1e3/60),R.state={},R}return DAe(j,C),jAe(j,[{key:"componentDidMount",value:function(){var I,F;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(F=this.props.margin.top)!==null&&F!==void 0?F:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var I=this.props,F=I.children,R=I.data,M=I.height,B=I.layout,q=ka(F,ja);if(q){var U=q.props.defaultIndex;if(!(typeof U!="number"||U<0||U>this.state.tooltipTicks.length-1)){var z=this.state.tooltipTicks[U]&&this.state.tooltipTicks[U].value,G=DO(this.state,R,U,z),W=this.state.tooltipTicks[U].coordinate,H=(this.state.offset.top+M)/2,Q=B==="horizontal",X=Q?{x:W,y:H}:{y:W,x:H},se=this.state.formattedGraphicalItems.find(function(re){var J=re.item;return J.type.name==="Scatter"});se&&(X=Re(Re({},X),se.props.points[U].tooltipPosition),G=se.props.points[U].tooltipPayload);var ne={activeTooltipIndex:U,isTooltipActive:!0,activeLabel:z,activePayload:G,activeCoordinate:X};this.setState(ne),this.renderCursor(q),this.accessibilityManager.setIndex(U)}}}},{key:"getSnapshotBeforeUpdate",value:function(I,F){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==F.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==I.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==I.margin){var R,M;this.accessibilityManager.setDetails({offset:{left:(R=this.props.margin.left)!==null&&R!==void 0?R:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0}})}return null}},{key:"componentDidUpdate",value:function(I){vA([ka(I.children,ja)],[ka(this.props.children,ja)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var I=ka(this.props.children,ja);if(I&&typeof I.props.shared=="boolean"){var F=I.props.shared?"axis":"item";return l.indexOf(F)>=0?F:a}return a}},{key:"getMouseInfo",value:function(I){if(!this.container)return null;var F=this.container,R=F.getBoundingClientRect(),M=Qge(R),B={chartX:Math.round(I.pageX-M.left),chartY:Math.round(I.pageY-M.top)},q=R.width/F.offsetWidth||1,U=this.inRange(B.chartX,B.chartY,q);if(!U)return null;var z=this.state,G=z.xAxisMap,W=z.yAxisMap,H=this.getTooltipEventType(),Q=PL(this.state,this.props.data,this.props.layout,U);if(H!=="axis"&&G&&W){var X=Yl(G).scale,se=Yl(W).scale,ne=X&&X.invert?X.invert(B.chartX):null,re=se&&se.invert?se.invert(B.chartY):null;return Re(Re({},B),{},{xValue:ne,yValue:re},Q)}return Q?Re(Re({},B),Q):null}},{key:"inRange",value:function(I,F){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,M=this.props.layout,B=I/R,q=F/R;if(M==="horizontal"||M==="vertical"){var U=this.state.offset,z=B>=U.left&&B<=U.left+U.width&&q>=U.top&&q<=U.top+U.height;return z?{x:B,y:q}:null}var G=this.state,W=G.angleAxisMap,H=G.radiusAxisMap;if(W&&H){var Q=Yl(W);return P6({x:B,y:q},Q)}return null}},{key:"parseEventsOfWrapper",value:function(){var I=this.props.children,F=this.getTooltipEventType(),R=ka(I,ja),M={};R&&F==="axis"&&(R.props.trigger==="click"?M={onClick:this.handleClick}:M={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var B=uy(this.props,this.handleOuterEvent);return Re(Re({},B),M)}},{key:"addListener",value:function(){fC.on(hC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){fC.removeListener(hC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(I,F,R){for(var M=this.state.formattedGraphicalItems,B=0,q=M.length;B<q;B++){var U=M[B];if(U.item===I||U.props.key===I.key||F===Qo(U.item.type)&&R===U.childIndex)return U}return null}},{key:"renderClipPath",value:function(){var I=this.clipPathId,F=this.state.offset,R=F.left,M=F.top,B=F.height,q=F.width;return te.createElement("defs",null,te.createElement("clipPath",{id:I},te.createElement("rect",{x:R,y:M,height:B,width:q})))}},{key:"getXScales",value:function(){var I=this.state.xAxisMap;return I?Object.entries(I).reduce(function(F,R){var M=TL(R,2),B=M[0],q=M[1];return Re(Re({},F),{},Mt({},B,q.scale))},{}):null}},{key:"getYScales",value:function(){var I=this.state.yAxisMap;return I?Object.entries(I).reduce(function(F,R){var M=TL(R,2),B=M[0],q=M[1];return Re(Re({},F),{},Mt({},B,q.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(I){var F;return(F=this.state.xAxisMap)===null||F===void 0||(F=F[I])===null||F===void 0?void 0:F.scale}},{key:"getYScaleByAxisId",value:function(I){var F;return(F=this.state.yAxisMap)===null||F===void 0||(F=F[I])===null||F===void 0?void 0:F.scale}},{key:"getItemByXY",value:function(I){var F=this.state,R=F.formattedGraphicalItems,M=F.activeItem;if(R&&R.length)for(var B=0,q=R.length;B<q;B++){var U=R[B],z=U.props,G=U.item,W=G.type.defaultProps!==void 0?Re(Re({},G.type.defaultProps),G.props):G.props,H=Qo(G.type);if(H==="Bar"){var Q=(z.data||[]).find(function(re){return m_e(I,re)});if(Q)return{graphicalItem:U,payload:Q}}else if(H==="RadialBar"){var X=(z.data||[]).find(function(re){return P6(I,re)});if(X)return{graphicalItem:U,payload:X}}else if(Ex(U,M)||Cx(U,M)||Bm(U,M)){var se=B2e({graphicalItem:U,activeTooltipItem:M,itemData:W.data}),ne=W.activeIndex===void 0?se:W.activeIndex;return{graphicalItem:Re(Re({},U),{},{childIndex:ne}),payload:Bm(U,M)?W.data[se]:U.props.data[se]}}}return null}},{key:"render",value:function(){var I=this;if(!W4(this))return null;var F=this.props,R=F.children,M=F.className,B=F.width,q=F.height,U=F.style,z=F.compact,G=F.title,W=F.desc,H=NL(F,CAe),Q=At(H,!1);if(z)return te.createElement(oL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},te.createElement(xA,ef({},Q,{width:B,height:q,title:G,desc:W}),this.renderClipPath(),z4(R,this.renderMap)));if(this.props.accessibilityLayer){var X,se;Q.tabIndex=(X=this.props.tabIndex)!==null&&X!==void 0?X:0,Q.role=(se=this.props.role)!==null&&se!==void 0?se:"application",Q.onKeyDown=function(re){I.accessibilityManager.keyboardEvent(re)},Q.onFocus=function(){I.accessibilityManager.focus()}}var ne=this.parseEventsOfWrapper();return te.createElement(oL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},te.createElement("div",ef({className:zt("recharts-wrapper",M),style:Re({position:"relative",cursor:"default",width:B,height:q},U)},ne,{ref:function(J){I.container=J}}),te.createElement(xA,ef({},Q,{width:B,height:q,title:G,desc:W,style:VAe}),this.renderClipPath(),z4(R,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(N.Component);Mt(O,"displayName",r),Mt(O,"defaultProps",Re({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},v)),Mt(O,"getDerivedStateFromProps",function(C,j){var P=C.dataKey,I=C.data,F=C.children,R=C.width,M=C.height,B=C.layout,q=C.stackOffset,U=C.margin,z=j.dataStartIndex,G=j.dataEndIndex;if(j.updateId===void 0){var W=jL(C);return Re(Re(Re({},W),{},{updateId:0},S(Re(Re({props:C},W),{},{updateId:0}),j)),{},{prevDataKey:P,prevData:I,prevWidth:R,prevHeight:M,prevLayout:B,prevStackOffset:q,prevMargin:U,prevChildren:F})}if(P!==j.prevDataKey||I!==j.prevData||R!==j.prevWidth||M!==j.prevHeight||B!==j.prevLayout||q!==j.prevStackOffset||!cf(U,j.prevMargin)){var H=jL(C),Q={chartX:j.chartX,chartY:j.chartY,isTooltipActive:j.isTooltipActive},X=Re(Re({},PL(j,I,B)),{},{updateId:j.updateId+1}),se=Re(Re(Re({},H),Q),X);return Re(Re(Re({},se),S(Re({props:C},se),j)),{},{prevDataKey:P,prevData:I,prevWidth:R,prevHeight:M,prevLayout:B,prevStackOffset:q,prevMargin:U,prevChildren:F})}if(!vA(F,j.prevChildren)){var ne,re,J,he,ie=ka(F,Hf),le=ie&&(ne=(re=ie.props)===null||re===void 0?void 0:re.startIndex)!==null&&ne!==void 0?ne:z,we=ie&&(J=(he=ie.props)===null||he===void 0?void 0:he.endIndex)!==null&&J!==void 0?J:G,ke=le!==z||we!==G,qe=!Vt(I),je=qe&&!ke?j.updateId:j.updateId+1;return Re(Re({updateId:je},S(Re(Re({props:C},j),{},{updateId:je,dataStartIndex:le,dataEndIndex:we}),j)),{},{prevChildren:F,dataStartIndex:le,dataEndIndex:we})}return null}),Mt(O,"renderActiveDot",function(C,j,P){var I;return N.isValidElement(C)?I=N.cloneElement(C,j):Dt(C)?I=C(j):I=te.createElement(Sg,j),te.createElement(fr,{className:"recharts-active-dot",key:P},I)});var E=N.forwardRef(function(j,P){return te.createElement(O,ef({},j,{ref:P}))});return E.displayName=O.displayName,E},QAe=jx({chartName:"LineChart",GraphicalChild:Jf,axisComponents:[{axisType:"xAxis",AxisComp:oc},{axisType:"yAxis",AxisComp:lc}],formatAxisMap:_k}),JAe=jx({chartName:"BarChart",GraphicalChild:nd,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:oc},{axisType:"yAxis",AxisComp:lc}],formatAxisMap:_k}),eOe=jx({chartName:"PieChart",GraphicalChild:hl,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Sx},{axisType:"radiusAxis",AxisComp:bx}],formatAxisMap:kxe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),tOe=jx({chartName:"AreaChart",GraphicalChild:ol,axisComponents:[{axisType:"xAxis",AxisComp:oc},{axisType:"yAxis",AxisComp:lc}],formatAxisMap:_k});const RL=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d"],rOe=()=>{const[t,e]=N.useState(void 0),[r,n]=N.useState("30"),[i,a]=N.useState(void 0),[s,l]=N.useState(void 0),{data:d,revenueData:h,memberGrowth:g,loading:v,error:b,refresh:S}=dfe(t?{dateRange:t}:void 0),O=M=>{n(M);const B=new Date;let q=new Date;switch(M){case"7":q=mu(B,7);break;case"30":q=mu(B,30);break;case"90":q=mu(B,90);break;case"month":q=Yi(B);break;case"custom":e(void 0);return;default:q=mu(B,30)}a(q),l(B),e({startDate:q,endDate:B})},E=()=>{i&&s&&(e({startDate:i,endDate:s}),n("custom"))},C=N.useMemo(()=>{if(!d||!d.popular_classes||d.popular_classes.length===0)return 0;const M=d.popular_classes.reduce((B,q)=>B+q.attendance_rate,0);return Math.round(M/d.popular_classes.length*10)/10},[d]),j=N.useMemo(()=>d?.visit_trends?d.visit_trends.map(M=>({date:Xt(new Date(M.date),"MMM d"),visits:M.visit_count,unique:M.unique_visitors})):[],[d]),P=N.useMemo(()=>d?.popular_classes?d.popular_classes.slice(0,10).map(M=>({name:M.class_name.length>20?M.class_name.substring(0,20)+"...":M.class_name,bookings:M.total_bookings,attendance:M.attendance_rate})):[],[d]),I=N.useMemo(()=>!h||h.length===0?[]:h.map(M=>({period:Xt(new Date(M.period+"-01"),"MMM yyyy"),revenue:M.revenue,newMembers:M.new_members})),[h]),F=()=>{if(!d)return;const M=[];M.push("Visit Trends"),M.push("Date,Visit Count,Unique Visitors"),d.visit_trends.forEach(G=>{M.push(`${G.date},${G.visit_count},${G.unique_visitors}`)}),M.push(`
Class Popularity`),M.push("Class Name,Total Bookings,Attendance Rate"),d.popular_classes.forEach(G=>{M.push(`${G.class_name},${G.total_bookings},${G.attendance_rate}`)}),M.push(`
Revenue Data`),M.push("Period,Revenue,New Members,Renewals"),h.forEach(G=>{M.push(`${G.period},${G.revenue},${G.new_members},${G.renewals}`)});const B=M.join(`
`),q=new Blob([B],{type:"text/csv"}),U=window.URL.createObjectURL(q),z=document.createElement("a");z.href=U,z.download=`analytics-${Xt(new Date,"yyyy-MM-dd")}.csv`,z.click(),window.URL.revokeObjectURL(U)},R=()=>{window.print()};return b?f.jsx("div",{className:"min-h-screen bg-background p-6",children:f.jsx("div",{className:"container mx-auto",children:f.jsx(mt,{className:"border-destructive",children:f.jsxs(gt,{className:"p-6",children:[f.jsxs("p",{className:"text-destructive",children:["Error loading analytics: ",b]}),f.jsxs(He,{onClick:S,className:"mt-4",children:[f.jsx(hf,{className:"mr-2 h-4 w-4"}),"Retry"]})]})})})}):f.jsx("div",{className:"min-h-screen bg-background p-6",children:f.jsxs("div",{className:"container mx-auto",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Analytics & Reports"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs(He,{variant:"outline",onClick:S,disabled:v,size:"sm",children:[v?f.jsx(da,{className:"mr-2 h-4 w-4 animate-spin"}):f.jsx(hf,{className:"mr-2 h-4 w-4"}),"Refresh"]}),f.jsxs(He,{variant:"outline",onClick:F,disabled:v||!d,size:"sm",children:[f.jsx(xC,{className:"mr-2 h-4 w-4"}),"Export CSV"]}),f.jsxs(He,{variant:"outline",onClick:R,disabled:v||!d,size:"sm",children:[f.jsx(xC,{className:"mr-2 h-4 w-4"}),"Export PDF"]})]})]}),f.jsx(mt,{className:"mb-6",children:f.jsx(gt,{className:"p-4",children:f.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-sm font-medium",children:"Date Range:"}),f.jsxs(fa,{value:r,onValueChange:O,children:[f.jsx(qi,{className:"w-[140px]",children:f.jsx(ha,{})}),f.jsxs(zi,{children:[f.jsx(tr,{value:"7",children:"Last 7 days"}),f.jsx(tr,{value:"30",children:"Last 30 days"}),f.jsx(tr,{value:"90",children:"Last 90 days"}),f.jsx(tr,{value:"month",children:"This month"}),f.jsx(tr,{value:"custom",children:"Custom range"})]})]})]}),r==="custom"&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs(hA,{children:[f.jsx(pA,{asChild:!0,children:f.jsxs(He,{variant:"outline",className:Me("w-[200px] justify-start text-left font-normal",!i&&"text-muted-foreground"),children:[f.jsx(Bi,{className:"mr-2 h-4 w-4"}),i?Xt(i,"PPP"):"Start date"]})}),f.jsx(ly,{className:"w-auto p-0",align:"start",children:f.jsx(cm,{mode:"single",selected:i,onSelect:a,initialFocus:!0})})]}),f.jsxs(hA,{children:[f.jsx(pA,{asChild:!0,children:f.jsxs(He,{variant:"outline",className:Me("w-[200px] justify-start text-left font-normal",!s&&"text-muted-foreground"),children:[f.jsx(Bi,{className:"mr-2 h-4 w-4"}),s?Xt(s,"PPP"):"End date"]})}),f.jsx(ly,{className:"w-auto p-0",align:"start",children:f.jsx(cm,{mode:"single",selected:s,onSelect:l,initialFocus:!0})})]}),f.jsx(He,{onClick:E,disabled:!i||!s,size:"sm",children:"Apply"})]})]})})}),v?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"grid lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(M=>f.jsx(mt,{children:f.jsxs(gt,{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx(Skeleton,{className:"h-4 w-24"}),f.jsx(Skeleton,{className:"h-5 w-5 rounded"})]}),f.jsx(Skeleton,{className:"h-10 w-20 mb-2"}),f.jsx(Skeleton,{className:"h-3 w-32"})]})},M))}),f.jsx(ChartSkeletons,{count:4})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"grid lg:grid-cols-4 gap-6 mb-8",children:[f.jsx(hv,{title:"Total Members",value:d?.total_members?.toString()||"0",description:`${d?.active_members||0} active members`,icon:f.jsx(ll,{className:"w-5 h-5 text-primary"}),loading:!1}),f.jsx(hv,{title:"Member Growth",value:g?`${g.growthPercentage>=0?"+":""}${g.growthPercentage.toFixed(1)}%`:"0%",description:`${g?.growthThisMonth||0} new this month`,icon:f.jsx(qp,{className:"w-5 h-5 text-success"}),loading:!1}),f.jsx(hv,{title:"Class Attendance",value:`${C}%`,description:"Average rate",icon:f.jsx(Bi,{className:"w-5 h-5 text-secondary"}),loading:!1}),f.jsx(hv,{title:"Visits Today",value:d?.total_visits_today?.toString()||"0",description:"Total check-ins today",icon:f.jsx(qp,{className:"w-5 h-5 text-accent"}),loading:!1})]}),f.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-8",children:[f.jsxs(mt,{children:[f.jsxs(ir,{children:[f.jsx(or,{children:"Visit Trends"}),f.jsx(kr,{children:"Daily gym visits over time"})]}),f.jsx(gt,{children:j.length>0?f.jsx(rv,{width:"100%",height:300,children:f.jsxs(tOe,{data:j,children:[f.jsx(Tv,{strokeDasharray:"3 3"}),f.jsx(oc,{dataKey:"date"}),f.jsx(lc,{}),f.jsx(ja,{}),f.jsx(Jo,{}),f.jsx(ol,{type:"monotone",dataKey:"visits",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6,name:"Total Visits"}),f.jsx(ol,{type:"monotone",dataKey:"unique",stroke:"#82ca9d",fill:"#82ca9d",fillOpacity:.6,name:"Unique Visitors"})]})}):f.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"No visit data available for the selected period"})})]}),f.jsxs(mt,{children:[f.jsxs(ir,{children:[f.jsx(or,{children:"Class Popularity"}),f.jsx(kr,{children:"Most booked classes"})]}),f.jsx(gt,{children:P.length>0?f.jsx(rv,{width:"100%",height:300,children:f.jsxs(JAe,{data:P,children:[f.jsx(Tv,{strokeDasharray:"3 3"}),f.jsx(oc,{dataKey:"name",angle:-45,textAnchor:"end",height:100}),f.jsx(lc,{}),f.jsx(ja,{}),f.jsx(Jo,{}),f.jsx(nd,{dataKey:"bookings",fill:"#8884d8",name:"Total Bookings"})]})}):f.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"No class booking data available"})})]})]}),I.length>0&&f.jsxs(mt,{className:"mb-8",children:[f.jsxs(ir,{children:[f.jsx(or,{children:"Revenue Trends"}),f.jsx(kr,{children:"Monthly revenue breakdown"})]}),f.jsx(gt,{children:f.jsx(rv,{width:"100%",height:300,children:f.jsxs(QAe,{data:I,children:[f.jsx(Tv,{strokeDasharray:"3 3"}),f.jsx(oc,{dataKey:"period"}),f.jsx(lc,{}),f.jsx(ja,{}),f.jsx(Jo,{}),f.jsx(Jf,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",strokeWidth:2,name:"Revenue"}),f.jsx(Jf,{type:"monotone",dataKey:"newMembers",stroke:"#82ca9d",strokeWidth:2,name:"New Members"})]})})})]}),f.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[f.jsxs(mt,{children:[f.jsxs(ir,{children:[f.jsx(or,{children:"Membership Breakdown"}),f.jsx(kr,{children:"Current membership status"})]}),f.jsx(gt,{children:d?.membership_breakdown?f.jsx(rv,{width:"100%",height:250,children:f.jsxs(eOe,{children:[f.jsx(hl,{data:[{name:"Active",value:d.membership_breakdown.active},{name:"Inactive",value:d.membership_breakdown.inactive},{name:"Cancelled",value:d.membership_breakdown.suspended}],cx:"50%",cy:"50%",labelLine:!1,label:({name:M,percent:B})=>`${M}: ${(B*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:[{name:"Active",value:d.membership_breakdown.active},{name:"Inactive",value:d.membership_breakdown.inactive},{name:"Cancelled",value:d.membership_breakdown.suspended}].map((M,B)=>f.jsx(cx,{fill:RL[B%RL.length]},`cell-${B}`))}),f.jsx(ja,{})]})}):f.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"No membership data available"})})]}),f.jsxs(mt,{children:[f.jsxs(ir,{children:[f.jsx(or,{children:"Top Classes by Attendance"}),f.jsx(kr,{children:"Classes with highest attendance rates"})]}),f.jsx(gt,{children:d?.popular_classes&&d.popular_classes.length>0?f.jsx("div",{className:"space-y-2",children:d.popular_classes.slice(0,5).map((M,B)=>f.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:["#",B+1]}),f.jsx("span",{className:"text-sm font-medium",children:M.class_name})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("span",{className:"text-sm text-muted-foreground",children:[M.total_bookings," bookings"]}),f.jsxs("span",{className:"text-sm font-semibold",children:[M.attendance_rate,"% attendance"]})]})]},M.class_id))}):f.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"No class data available"})})]})]})]})]})})},hv=({title:t,value:e,description:r,icon:n,loading:i})=>f.jsx(mt,{children:f.jsxs(gt,{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:t}),n]}),i?f.jsx("div",{className:"h-10 w-20 bg-muted animate-pulse rounded"}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"text-3xl font-bold mb-1",children:e}),f.jsx("p",{className:"text-xs text-muted-foreground",children:r})]})]})}),l1=N.forwardRef(({className:t,...e},r)=>f.jsx("textarea",{className:Me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));l1.displayName="Textarea";var Ix="Switch",[nOe]=Zi(Ix),[iOe,aOe]=nOe(Ix),xH=N.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:s,disabled:l,value:d="on",onCheckedChange:h,form:g,...v}=t,[b,S]=N.useState(null),O=lr(e,I=>S(I)),E=N.useRef(!1),C=b?g||!!b.closest("form"):!0,[j,P]=Vs({prop:i,defaultProp:a??!1,onChange:h,caller:Ix});return f.jsxs(iOe,{scope:r,checked:j,disabled:l,children:[f.jsx(Ot.button,{type:"button",role:"switch","aria-checked":j,"aria-required":s,"data-state":SH(j),"data-disabled":l?"":void 0,disabled:l,value:d,...v,ref:O,onClick:it(t.onClick,I=>{P(F=>!F),C&&(E.current=I.isPropagationStopped(),E.current||I.stopPropagation())})}),C&&f.jsx(_H,{control:b,bubbles:!E.current,name:n,value:d,checked:j,required:s,disabled:l,form:g,style:{transform:"translateX(-100%)"}})]})});xH.displayName=Ix;var wH="SwitchThumb",bH=N.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=aOe(wH,r);return f.jsx(Ot.span,{"data-state":SH(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});bH.displayName=wH;var sOe="SwitchBubbleInput",_H=N.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},a)=>{const s=N.useRef(null),l=lr(s,a),d=oN(r),h=iT(e);return N.useEffect(()=>{const g=s.current;if(!g)return;const v=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(v,"checked").set;if(d!==r&&S){const O=new Event("click",{bubbles:n});S.call(g,r),g.dispatchEvent(O)}},[d,r,n]),f.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});_H.displayName=sOe;function SH(t){return t?"checked":"unchecked"}var EH=xH,oOe=bH;const LO=N.forwardRef(({className:t,...e},r)=>f.jsx(EH,{className:Me("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:r,children:f.jsx(oOe,{className:Me("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));LO.displayName=EH.displayName;const lOe=yc({name:nn().min(1,"Name is required").max(100,"Name is too long"),description:nn().optional(),instructor:nn().min(1,"Instructor is required").max(100,"Instructor name is too long"),schedule:nn().optional(),duration:Qv().min(1,"Duration must be at least 1 minute").max(480,"Duration cannot exceed 8 hours"),capacity:Qv().min(1,"Capacity must be at least 1").max(1e3,"Capacity cannot exceed 1000"),category:nn().optional(),image_url:nn().url("Must be a valid URL").optional().or(nu("")),is_active:T$()}),cOe=yc({startDate:ase({required_error:"Start date is required"}),startTime:nn().regex(/^([0-1][0-9]|2[0-3]):[0-5][0-9]$/,"Invalid time format"),endTime:nn().regex(/^([0-1][0-9]|2[0-3]):[0-5][0-9]$/,"Invalid time format"),capacity:Qv().min(1,"Capacity must be at least 1").max(1e3,"Capacity cannot exceed 1000"),recurring:T$(),recurringType:sse(["daily","weekly","monthly"]),recurringCount:Qv().min(1,"Must create at least 1 session").max(52,"Cannot create more than 52 sessions")}),uOe=()=>{mi();const[t,e]=N.useState([]),[r,n]=N.useState([]),[i,a]=N.useState(new Map),[s,l]=N.useState([]),[d,h]=N.useState(!0),[g,v]=N.useState(!1),[b,S]=N.useState(!1),[O,E]=N.useState(!1),[C,j]=N.useState(!1),[P,I]=N.useState(!1),[F,R]=N.useState(null),[M,B]=N.useState(null),[q,U]=N.useState(null),[z,G]=N.useState(""),[W,H]=N.useState("all"),[Q,X]=N.useState("all"),[se,ne]=N.useState("classes"),re=yf({resolver:xf(lOe),defaultValues:{name:"",description:"",instructor:"",schedule:"",duration:60,capacity:20,category:"",image_url:"",is_active:!0}}),J=yf({resolver:xf(cOe),defaultValues:{startDate:new Date,startTime:"09:00",endTime:"10:00",capacity:20,recurring:!1,recurringType:"weekly",recurringCount:4}});N.useEffect(()=>{he(),ie(),le()},[]);const he=async()=>{try{h(!0);const{data:ue,error:ve}=await Pe.from("classes").select("*").order("created_at",{ascending:!1});if(ve)throw ve;e(ue||[])}catch(ue){Yt({title:"Error loading classes",description:ue.message})}finally{h(!1)}},ie=async()=>{try{v(!0);const{data:ue,error:ve}=await Pe.from("class_sessions").select("*, classes(name)").order("start_time",{ascending:!1}).limit(100);if(ve)throw ve;if(n(ue||[]),ue&&ue.length>0){const Ue=ue.map(ct=>ct.id),{data:Ie,error:Ge}=await Pe.from("class_bookings").select("class_id, status").in("class_id",Ue).neq("status","cancelled");if(!Ge&&Ie){const ct=new Map;ue.forEach(et=>{const ot=Ie.filter(de=>de.class_id===et.id).length,at=et.capacity||0;ct.set(et.id,{session_id:et.id,capacity:at,booked:ot,available:Math.max(0,at-ot)})}),a(ct)}}}catch(ue){Yt({title:"Error loading sessions",description:ue.message})}finally{v(!1)}},le=async()=>{try{const{data:ue,error:ve}=await Pe.from("classes").select("instructor");if(ve)throw ve;const{data:Ue,error:Ie}=await Pe.from("class_sessions").select("instructor");if(Ie)throw Ie;const Ge=new Map;ue?.forEach(et=>{if(et.instructor){const ot=Ge.get(et.instructor)||{class_count:0,session_count:0};Ge.set(et.instructor,{...ot,class_count:ot.class_count+1})}}),Ue?.forEach(et=>{if(et.instructor){const ot=Ge.get(et.instructor)||{class_count:0,session_count:0};Ge.set(et.instructor,{...ot,session_count:ot.session_count+1})}});const ct=Array.from(Ge.entries()).map(([et,ot])=>({name:et,...ot}));l(ct.sort((et,ot)=>et.name.localeCompare(ot.name)))}catch(ue){console.error("Error fetching instructors:",ue)}},we=N.useMemo(()=>t.filter(ue=>{const ve=z===""||ue.name.toLowerCase().includes(z.toLowerCase())||ue.instructor.toLowerCase().includes(z.toLowerCase())||ue.category?.toLowerCase().includes(z.toLowerCase()),Ue=W==="all"||ue.category===W,Ie=Q==="all"||ue.instructor===Q;return ve&&Ue&&Ie}),[t,z,W,Q]),ke=N.useMemo(()=>{const ue=new Set;return t.forEach(ve=>{ve.category&&ue.add(ve.category)}),Array.from(ue).sort()},[t]),qe=async ue=>{try{if(F){const{error:ve}=await Pe.from("classes").update(ue).eq("id",F.id);if(ve)throw ve;os("Class updated successfully")}else{const{error:ve}=await Pe.from("classes").insert([ue]);if(ve)throw ve;os("Class created successfully")}S(!1),re.reset(),R(null),await he(),await le()}catch(ve){Yt({title:"Error",description:ve.message})}},je=async ue=>{if(confirm("Are you sure you want to delete this class? This will not delete associated sessions."))try{const{error:ve}=await Pe.from("classes").delete().eq("id",ue);if(ve)throw ve;os("Class deleted successfully"),await he(),await le()}catch(ve){Yt({title:"Error",description:ve.message})}},Te=ue=>{R(ue),re.reset({name:ue.name,description:ue.description||"",instructor:ue.instructor,schedule:ue.schedule,duration:ue.duration,capacity:ue.capacity,category:ue.category||"",image_url:ue.image_url||"",is_active:ue.is_active}),S(!0)},De=ue=>{U(ue);const ve=ue.duration||60,Ue=new Date;Ue.setHours(9,0,0);const Ie=new Date(Ue);Ie.setMinutes(Ie.getMinutes()+ve),J.reset({startDate:Ue,startTime:"09:00",endTime:Xt(Ie,"HH:mm"),capacity:ue.capacity,recurring:!1,recurringType:"weekly",recurringCount:4}),E(!0)},Ne=async ue=>{if(q)try{const ve=[];if(ue.recurring){let Ie=new Date(ue.startDate);const Ge=ue.startTime.split(":"),ct=ue.endTime.split(":");for(let et=0;et<ue.recurringCount;et++){const ot=new Date(Ie);ot.setHours(parseInt(Ge[0]),parseInt(Ge[1]),0);const at=new Date(Ie);at.setHours(parseInt(ct[0]),parseInt(ct[1]),0),ve.push({class_id:q.id,name:q.name,instructor:q.instructor,start_time:ot.toISOString(),end_time:at.toISOString(),capacity:ue.capacity}),ue.recurringType==="daily"?Ie=Ci(Ie,1):ue.recurringType==="weekly"?Ie=ry(Ie,1):ue.recurringType==="monthly"&&(Ie=ms(Ie,1))}}else{const Ie=ue.startTime.split(":"),Ge=ue.endTime.split(":"),ct=new Date(ue.startDate);ct.setHours(parseInt(Ie[0]),parseInt(Ie[1]),0);const et=new Date(ue.startDate);et.setHours(parseInt(Ge[0]),parseInt(Ge[1]),0),ve.push({class_id:q.id,name:q.name,instructor:q.instructor,start_time:ct.toISOString(),end_time:et.toISOString(),capacity:ue.capacity})}const{error:Ue}=await Pe.from("class_sessions").insert(ve);if(Ue)throw Ue;os(`Created ${ve.length} session(s) successfully`),E(!1),U(null),J.reset(),await ie(),await le()}catch(ve){Yt({title:"Error",description:ve.message||"Failed to create session(s)"})}},Le=async(ue,ve)=>{try{const{error:Ue}=await Pe.from("class_sessions").update({capacity:ve}).eq("id",ue);if(Ue)throw Ue;os("Session capacity updated successfully"),j(!1),B(null),await ie()}catch(Ue){Yt({title:"Error",description:Ue.message})}};return d?f.jsx("div",{className:"flex items-center justify-center min-h-screen",children:f.jsx(Iu,{size:"lg",text:"Loading classes..."})}):f.jsxs("div",{className:"container mx-auto p-6 space-y-6 max-w-7xl",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Class Management"}),f.jsx("p",{className:"text-muted-foreground",children:"Manage classes, sessions, and instructors"})]}),f.jsxs(Xo,{open:b,onOpenChange:ue=>{S(ue),ue||(re.reset(),R(null))},children:[f.jsx(DU,{asChild:!0,children:f.jsxs(He,{onClick:()=>{re.reset(),R(null)},children:[f.jsx(Vp,{className:"w-4 h-4 mr-2"}),"Add Class"]})}),f.jsxs(fo,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsxs(ho,{children:[f.jsx(po,{children:F?"Edit Class":"Add New Class"}),f.jsx(Zo,{children:F?"Update class details":"Create a new gym class"})]}),f.jsx(Cf,{...re,children:f.jsxs("form",{onSubmit:re.handleSubmit(qe),className:"space-y-4",children:[f.jsx(Tr,{control:re.control,name:"name",render:({field:ue})=>f.jsxs(_r,{children:[f.jsx(Sr,{children:"Class Name *"}),f.jsx(Er,{children:f.jsx(rr,{...ue})}),f.jsx(Ir,{})]})}),f.jsx(Tr,{control:re.control,name:"description",render:({field:ue})=>f.jsxs(_r,{children:[f.jsx(Sr,{children:"Description"}),f.jsx(Er,{children:f.jsx(l1,{...ue,rows:3})}),f.jsx(Ir,{})]})}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx(Tr,{control:re.control,name:"instructor",render:({field:ue})=>f.jsxs(_r,{children:[f.jsx(Sr,{children:"Instructor *"}),f.jsx(Er,{children:f.jsx(rr,{...ue,placeholder:"Instructor name"})}),f.jsx(Ir,{})]})}),f.jsx(Tr,{control:re.control,name:"category",render:({field:ue})=>f.jsxs(_r,{children:[f.jsx(Sr,{children:"Category"}),f.jsx(Er,{children:f.jsx(rr,{...ue,placeholder:"e.g., Cardio, Strength"})}),f.jsx(Ir,{})]})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx(Tr,{control:re.control,name:"duration",render:({field:ue})=>f.jsxs(_r,{children:[f.jsx(Sr,{children:"Duration (minutes) *"}),f.jsx(Er,{children:f.jsx(rr,{type:"number",...ue,onChange:ve=>ue.onChange(parseInt(ve.target.value)||0),min:"1",max:"480"})}),f.jsx(Ir,{})]})}),f.jsx(Tr,{control:re.control,name:"capacity",render:({field:ue})=>f.jsxs(_r,{children:[f.jsx(Sr,{children:"Capacity *"}),f.jsx(Er,{children:f.jsx(rr,{type:"number",...ue,onChange:ve=>ue.onChange(parseInt(ve.target.value)||0),min:"1",max:"1000"})}),f.jsx(Ir,{})]})})]}),f.jsx(Tr,{control:re.control,name:"image_url",render:({field:ue})=>f.jsxs(_r,{children:[f.jsx(Sr,{children:"Image URL"}),f.jsx(Er,{children:f.jsx(rr,{...ue,placeholder:"https://example.com/image.jpg"})}),f.jsx(Ir,{})]})}),f.jsx(Tr,{control:re.control,name:"is_active",render:({field:ue})=>f.jsxs(_r,{className:"flex items-center space-x-2 space-y-0",children:[f.jsx(Er,{children:f.jsx(LO,{checked:ue.value,onCheckedChange:ue.onChange})}),f.jsx(Sr,{children:"Active (visible to members)"})]})}),f.jsxs(ic,{children:[f.jsx(He,{type:"button",variant:"outline",onClick:()=>S(!1),children:"Cancel"}),f.jsxs(He,{type:"submit",children:[F?"Update":"Create"," Class"]})]})]})})]})]})]}),f.jsxs(G1,{value:se,onValueChange:ue=>ne(ue),children:[f.jsxs(dg,{children:[f.jsx(hs,{value:"classes",children:"Classes"}),f.jsx(hs,{value:"sessions",children:"Sessions"}),f.jsx(hs,{value:"instructors",children:"Instructors"})]}),f.jsxs(ps,{value:"classes",className:"space-y-4",children:[f.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[f.jsx(mt,{className:"md:col-span-2",children:f.jsx(gt,{className:"p-4",children:f.jsxs("div",{className:"relative",children:[f.jsx(KO,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),f.jsx(rr,{placeholder:"Search classes...",className:"pl-10",value:z,onChange:ue=>G(ue.target.value)})]})})}),f.jsx(mt,{children:f.jsx(gt,{className:"p-4",children:f.jsxs(fa,{value:W,onValueChange:H,children:[f.jsx(qi,{children:f.jsx(ha,{placeholder:"Category"})}),f.jsxs(zi,{children:[f.jsx(tr,{value:"all",children:"All Categories"}),ke.map(ue=>f.jsx(tr,{value:ue,children:ue},ue))]})]})})}),f.jsx(mt,{children:f.jsx(gt,{className:"p-4",children:f.jsxs(fa,{value:Q,onValueChange:X,children:[f.jsx(qi,{children:f.jsx(ha,{placeholder:"Instructor"})}),f.jsxs(zi,{children:[f.jsx(tr,{value:"all",children:"All Instructors"}),s.map(ue=>f.jsx(tr,{value:ue.name,children:ue.name},ue.name))]})]})})})]}),f.jsxs(mt,{children:[f.jsxs(ir,{children:[f.jsxs(or,{children:["All Classes (",we.length,")"]}),f.jsx(kr,{children:"Manage your gym's class schedule and create sessions"})]}),f.jsx(gt,{children:we.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("p",{className:"text-muted-foreground mb-4",children:"No classes found"}),f.jsxs(He,{onClick:()=>S(!0),children:[f.jsx(Vp,{className:"w-4 h-4 mr-2"}),"Create First Class"]})]}):f.jsx("div",{className:"overflow-x-auto",children:f.jsxs(Tf,{children:[f.jsx(Nf,{children:f.jsxs(cs,{children:[f.jsx(xr,{children:"Name"}),f.jsx(xr,{children:"Instructor"}),f.jsx(xr,{children:"Category"}),f.jsx(xr,{children:"Duration"}),f.jsx(xr,{children:"Capacity"}),f.jsx(xr,{children:"Status"}),f.jsx(xr,{className:"text-right",children:"Actions"})]})}),f.jsx(kf,{children:we.map(ue=>f.jsxs(cs,{children:[f.jsx(gr,{className:"font-medium",children:ue.name}),f.jsx(gr,{children:ue.instructor}),f.jsx(gr,{children:ue.category||"-"}),f.jsxs(gr,{children:[ue.duration," min"]}),f.jsx(gr,{children:ue.capacity}),f.jsx(gr,{children:f.jsx(Gr,{variant:ue.is_active?"default":"secondary",children:ue.is_active?"Active":"Inactive"})}),f.jsx(gr,{className:"text-right",children:f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(He,{variant:"ghost",size:"icon",onClick:()=>Te(ue),children:f.jsx(BK,{className:"w-4 h-4"})}),f.jsx(He,{variant:"ghost",size:"icon",onClick:()=>De(ue),children:f.jsx(Bi,{className:"w-4 h-4"})}),f.jsx(He,{variant:"destructive",size:"icon",onClick:()=>je(ue.id),children:f.jsx(YO,{className:"w-4 h-4"})})]})})]},ue.id))})]})})})]})]}),f.jsx(ps,{value:"sessions",className:"space-y-4",children:f.jsxs(mt,{children:[f.jsxs(ir,{children:[f.jsx(or,{children:"Class Sessions"}),f.jsx(kr,{children:"View and manage class session capacity"})]}),f.jsx(gt,{children:g?f.jsx(Iu,{size:"md",text:"Loading sessions..."}):r.length===0?f.jsx("div",{className:"text-center py-12",children:f.jsx("p",{className:"text-muted-foreground",children:"No sessions found. Create sessions from classes."})}):f.jsx("div",{className:"overflow-x-auto",children:f.jsxs(Tf,{children:[f.jsx(Nf,{children:f.jsxs(cs,{children:[f.jsx(xr,{children:"Class Name"}),f.jsx(xr,{children:"Instructor"}),f.jsx(xr,{children:"Start Time"}),f.jsx(xr,{children:"Capacity"}),f.jsx(xr,{children:"Booked"}),f.jsx(xr,{children:"Available"}),f.jsx(xr,{className:"text-right",children:"Actions"})]})}),f.jsx(kf,{children:r.map(ue=>{const ve=i.get(ue.id);return f.jsxs(cs,{children:[f.jsx(gr,{className:"font-medium",children:ue.name}),f.jsx(gr,{children:ue.instructor||"-"}),f.jsx(gr,{children:Xt(en(ue.start_time),"MMM d, yyyy 'at' h:mm a")}),f.jsx(gr,{children:ue.capacity||0}),f.jsx(gr,{children:f.jsx(Gr,{variant:ve&&ve.booked>=ve.capacity*.9?"destructive":"secondary",children:ve?.booked||0})}),f.jsx(gr,{children:f.jsx(Gr,{variant:ve&&ve.available<=5?"default":"outline",children:ve?.available||0})}),f.jsx(gr,{className:"text-right",children:f.jsxs(He,{variant:"outline",size:"sm",onClick:()=>{B(ue),j(!0)},children:[f.jsx(Hm,{className:"w-4 h-4 mr-2"}),"Edit Capacity"]})})]},ue.id)})})]})})})]})}),f.jsx(ps,{value:"instructors",className:"space-y-4",children:f.jsxs(mt,{children:[f.jsxs(ir,{children:[f.jsx(or,{children:"Instructors"}),f.jsx(kr,{children:"View instructor statistics and assignments"})]}),f.jsx(gt,{children:s.length===0?f.jsx("div",{className:"text-center py-12",children:f.jsx("p",{className:"text-muted-foreground",children:"No instructors found. Add instructors when creating classes."})}):f.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(ue=>f.jsx(mt,{children:f.jsxs(gt,{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:"font-semibold text-lg",children:ue.name}),f.jsx(vB,{className:"w-5 h-5 text-primary"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Classes"}),f.jsx(Gr,{variant:"secondary",children:ue.class_count})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Sessions"}),f.jsx(Gr,{variant:"secondary",children:ue.session_count})]})]})]})},ue.name))})})]})})]}),f.jsx(Xo,{open:O,onOpenChange:E,children:f.jsxs(fo,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsxs(ho,{children:[f.jsxs(po,{children:["Create Class Session",J.watch("recurring")?"s":""]}),f.jsx(Zo,{children:q&&f.jsxs(f.Fragment,{children:["Create session",J.watch("recurring")?"s":""," for ",f.jsx("strong",{children:q.name})]})})]}),f.jsx(Cf,{...J,children:f.jsxs("form",{onSubmit:J.handleSubmit(Ne),className:"space-y-4",children:[f.jsx(Tr,{control:J.control,name:"startDate",render:({field:ue})=>f.jsxs(_r,{children:[f.jsx(Sr,{children:"Start Date *"}),f.jsxs(hA,{children:[f.jsx(pA,{asChild:!0,children:f.jsx(Er,{children:f.jsxs(He,{variant:"outline",className:Me("w-full justify-start text-left font-normal",!ue.value&&"text-muted-foreground"),children:[f.jsx(Bi,{className:"mr-2 h-4 w-4"}),ue.value?Xt(ue.value,"PPP"):f.jsx("span",{children:"Pick a date"})]})})}),f.jsx(ly,{className:"w-auto p-0",align:"start",children:f.jsx(cm,{mode:"single",selected:ue.value,onSelect:ue.onChange,initialFocus:!0})})]}),f.jsx(Ir,{})]})}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx(Tr,{control:J.control,name:"startTime",render:({field:ue})=>f.jsxs(_r,{children:[f.jsx(Sr,{children:"Start Time *"}),f.jsx(Er,{children:f.jsx(rr,{type:"time",...ue})}),f.jsx(Ir,{})]})}),f.jsx(Tr,{control:J.control,name:"endTime",render:({field:ue})=>f.jsxs(_r,{children:[f.jsx(Sr,{children:"End Time *"}),f.jsx(Er,{children:f.jsx(rr,{type:"time",...ue})}),f.jsx(Ir,{})]})})]}),f.jsx(Tr,{control:J.control,name:"capacity",render:({field:ue})=>f.jsxs(_r,{children:[f.jsx(Sr,{children:"Capacity *"}),f.jsx(Er,{children:f.jsx(rr,{type:"number",...ue,onChange:ve=>ue.onChange(parseInt(ve.target.value)||0),min:"1",max:"1000"})}),f.jsx(Ir,{})]})}),f.jsx(Tr,{control:J.control,name:"recurring",render:({field:ue})=>f.jsxs(_r,{className:"flex items-center space-x-2 space-y-0",children:[f.jsx(Er,{children:f.jsx(LO,{checked:ue.value,onCheckedChange:ue.onChange})}),f.jsxs(Sr,{className:"flex items-center gap-2",children:[f.jsx($K,{className:"w-4 h-4"}),"Create recurring sessions"]})]})}),J.watch("recurring")&&f.jsxs("div",{className:"space-y-4 pl-6 border-l-2",children:[f.jsx(Tr,{control:J.control,name:"recurringType",render:({field:ue})=>f.jsxs(_r,{children:[f.jsx(Sr,{children:"Repeat Every"}),f.jsxs(fa,{onValueChange:ue.onChange,value:ue.value,children:[f.jsx(Er,{children:f.jsx(qi,{children:f.jsx(ha,{})})}),f.jsxs(zi,{children:[f.jsx(tr,{value:"daily",children:"Day"}),f.jsx(tr,{value:"weekly",children:"Week"}),f.jsx(tr,{value:"monthly",children:"Month"})]})]}),f.jsx(Ir,{})]})}),f.jsx(Tr,{control:J.control,name:"recurringCount",render:({field:ue})=>f.jsxs(_r,{children:[f.jsx(Sr,{children:"Number of Sessions *"}),f.jsx(Er,{children:f.jsx(rr,{type:"number",...ue,onChange:ve=>ue.onChange(parseInt(ve.target.value)||0),min:"1",max:"52"})}),f.jsxs(_u,{children:["Will create ",J.watch("recurringCount")," session(s) starting from the selected date"]}),f.jsx(Ir,{})]})})]}),f.jsxs(ic,{children:[f.jsx(He,{type:"button",variant:"outline",onClick:()=>E(!1),children:"Cancel"}),f.jsxs(He,{type:"submit",children:["Create Session",J.watch("recurring")?"s":""]})]})]})})]})}),f.jsx(Xo,{open:C,onOpenChange:j,children:f.jsxs(fo,{children:[f.jsxs(ho,{children:[f.jsx(po,{children:"Edit Session Capacity"}),f.jsx(Zo,{children:M&&`Update capacity for ${M.name}`})]}),M&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx(pn,{children:"Current Capacity"}),f.jsx(rr,{type:"number",value:M.capacity||0,readOnly:!0})]}),f.jsxs("div",{children:[f.jsx(pn,{children:"New Capacity"}),f.jsx(rr,{type:"number",id:"new-capacity",min:"1",max:"1000",defaultValue:M.capacity||0,onKeyDown:ue=>{if(ue.key==="Enter"){const ve=ue.target;Le(M.id,parseInt(ve.value)||0)}}})]}),i.has(M.id)&&f.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[f.jsx("p",{className:"text-sm font-medium mb-2",children:"Current Status"}),f.jsxs("div",{className:"space-y-1 text-sm",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Booked:"}),f.jsx("span",{className:"font-medium",children:i.get(M.id)?.booked||0})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Available:"}),f.jsx("span",{className:"font-medium",children:i.get(M.id)?.available||0})]})]})]}),f.jsxs(ic,{children:[f.jsx(He,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),f.jsx(He,{onClick:()=>{const ue=document.getElementById("new-capacity");ue&&Le(M.id,parseInt(ue.value)||0)},children:"Update Capacity"})]})]})]})})]})},dOe=yc({name:nn().min(1,"Name is required").max(100,"Name is too long"),price:nn().refine(t=>{if(!t)return!0;const e=parseFloat(t);return!isNaN(e)&&e>=0},"Price must be a valid number"),duration_days:nn().refine(t=>{if(!t)return!0;const e=parseInt(t);return!isNaN(e)&&e>0},"Duration must be a positive number"),access_level:nn().optional()}),fOe=()=>{const[t,e]=N.useState([]),[r,n]=N.useState(!0),[i,a]=N.useState(!1),[s,l]=N.useState(!1),[d,h]=N.useState(null),[g,v]=N.useState(null),[b,S]=N.useState(null),[O,E]=N.useState([]);mi();const C=Ai(),j=yf({resolver:xf(dOe),defaultValues:{name:"",price:"",duration_days:"",access_level:""}});N.useEffect(()=>{P(),I(),F()},[]);const P=async()=>{try{n(!0);const{data:z,error:G}=await Pe.from("memberships").select("*").order("name");if(G)throw G;e(z||[])}catch(z){Yt({title:"Error loading memberships",description:z.message})}finally{n(!1)}},I=async()=>{try{const{data:z,error:G}=await Pe.from("user_memberships").select("status, payment_status, memberships(price)");if(G)throw G;const W=new Date;let H=0,Q=0,X=0;z?.forEach(se=>{se.status==="active"&&se.payment_status==="paid"?(Q++,se.memberships?.price&&(H+=parseFloat(se.memberships.price.toString()))):se.status==="expired"&&X++}),S({total_memberships:z?.length||0,active_memberships:Q,expired_memberships:X,total_revenue:H,renewals_due_soon:O.length})}catch(z){console.error("Error fetching statistics:",z)}},F=async()=>{try{const z=new Date,G=Ci(z,30),{data:W,error:H}=await Pe.from("user_memberships").select("*, profiles(full_name), memberships(name)").eq("status","active").eq("payment_status","paid").gte("end_date",z.toISOString()).lte("end_date",G.toISOString()).order("end_date",{ascending:!0});if(H)throw H;const Q=(W||[]).map(X=>({user_id:X.user_id,user_name:X.profiles?.full_name||"Unknown",membership_name:X.memberships?.name||"Unknown",end_date:X.end_date,days_remaining:poe(new Date(X.end_date),z)}));E(Q),b&&S({...b,renewals_due_soon:Q.length})}catch(z){console.error("Error fetching renewal reminders:",z)}},R=()=>{j.reset({name:"",price:"",duration_days:"",access_level:""}),v(null)},M=async z=>{try{const G={name:z.name,price:z.price?parseFloat(z.price):null,duration_days:z.duration_days?parseInt(z.duration_days):null,access_level:z.access_level||null};if(g){const{error:W}=await Pe.from("memberships").update(G).eq("id",g.id);if(W)throw W;os("Membership updated successfully")}else{const{error:W}=await Pe.from("memberships").insert([G]);if(W)throw W;os("Membership created successfully")}a(!1),R(),await P(),await I()}catch(G){Yt({title:"Error",description:G.message})}},B=z=>{v(z),j.reset({name:z.name,price:z.price?.toString()||"",duration_days:z.duration_days?.toString()||"",access_level:z.access_level||""}),a(!0)},q=z=>{h(z),l(!0)},U=async()=>{if(d)try{const{data:z,error:G}=await Pe.from("user_memberships").select("id").eq("membership_id",d.id).limit(1);if(G)throw G;if(z&&z.length>0){Yt({title:"Cannot delete",description:"This membership is assigned to users. Please remove all assignments first."}),l(!1);return}const{error:W}=await Pe.from("memberships").delete().eq("id",d.id);if(W)throw W;os("Membership deleted successfully"),l(!1),h(null),await P(),await I()}catch(z){Yt({title:"Error",description:z.message})}};return r?f.jsx("div",{className:"flex items-center justify-center min-h-screen",children:f.jsx(Iu,{size:"lg",text:"Loading memberships..."})}):f.jsxs("div",{className:"container mx-auto p-6 space-y-6 max-w-7xl",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Membership Management"}),f.jsx("p",{className:"text-muted-foreground mt-1",children:"Create and manage membership plans"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs(He,{variant:"outline",onClick:()=>C("/admin/usermemberships"),children:[f.jsx(vB,{className:"h-4 w-4 mr-2"}),"Assign to Users"]}),f.jsx(Xo,{open:i,onOpenChange:z=>{a(z),z||R()},children:f.jsxs(fo,{className:"max-w-md",children:[f.jsxs(ho,{children:[f.jsx(po,{children:g?"Edit Membership":"Add New Membership"}),f.jsx(Zo,{children:g?"Update membership plan details":"Create a new membership plan"})]}),f.jsx(Cf,{...j,children:f.jsxs("form",{onSubmit:j.handleSubmit(M),className:"space-y-4",children:[f.jsx(Tr,{control:j.control,name:"name",render:({field:z})=>f.jsxs(_r,{children:[f.jsx(Sr,{children:"Name *"}),f.jsx(Er,{children:f.jsx(rr,{placeholder:"e.g., Gold Membership",...z})}),f.jsx(Ir,{})]})}),f.jsx(Tr,{control:j.control,name:"price",render:({field:z})=>f.jsxs(_r,{children:[f.jsx(Sr,{children:"Price ()"}),f.jsx(Er,{children:f.jsx(rr,{type:"number",step:"0.01",placeholder:"e.g., 49.99",...z})}),f.jsx(_u,{children:"Monthly or one-time price"}),f.jsx(Ir,{})]})}),f.jsx(Tr,{control:j.control,name:"duration_days",render:({field:z})=>f.jsxs(_r,{children:[f.jsx(Sr,{children:"Duration (Days)"}),f.jsx(Er,{children:f.jsx(rr,{type:"number",placeholder:"e.g., 30",...z})}),f.jsx(_u,{children:"Number of days the membership is valid"}),f.jsx(Ir,{})]})}),f.jsx(Tr,{control:j.control,name:"access_level",render:({field:z})=>f.jsxs(_r,{children:[f.jsx(Sr,{children:"Access Level"}),f.jsx(Er,{children:f.jsx(rr,{placeholder:"e.g., Full Access",...z})}),f.jsx(_u,{children:"Description of access level"}),f.jsx(Ir,{})]})}),f.jsxs(ic,{children:[f.jsx(He,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),f.jsxs(He,{type:"submit",children:[g?"Update":"Create"," Membership"]})]})]})})]})}),f.jsxs(He,{onClick:()=>a(!0),children:[f.jsx(Vp,{className:"h-4 w-4 mr-2"}),"Add Membership"]})]})]}),f.jsxs(G1,{defaultValue:"plans",className:"space-y-6",children:[f.jsxs(dg,{children:[f.jsx(hs,{value:"plans",children:"Membership Plans"}),f.jsx(hs,{value:"statistics",children:"Statistics"}),f.jsx(hs,{value:"renewals",children:"Renewal Reminders"})]}),f.jsx(ps,{value:"plans",children:f.jsxs(mt,{children:[f.jsxs(ir,{children:[f.jsx(or,{children:"Membership Plans"}),f.jsx(kr,{children:"Manage all available membership plans"})]}),f.jsx(gt,{children:t.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("p",{className:"text-muted-foreground mb-4",children:"No memberships found"}),f.jsxs(He,{onClick:()=>a(!0),children:[f.jsx(Vp,{className:"h-4 w-4 mr-2"}),"Create First Membership"]})]}):f.jsx("div",{className:"overflow-x-auto",children:f.jsxs(Tf,{children:[f.jsx(Nf,{children:f.jsxs(cs,{children:[f.jsx(xr,{children:"Name"}),f.jsx(xr,{children:"Price"}),f.jsx(xr,{children:"Duration"}),f.jsx(xr,{children:"Access Level"}),f.jsx(xr,{children:"Created"}),f.jsx(xr,{className:"text-right",children:"Actions"})]})}),f.jsx(kf,{children:t.map(z=>f.jsxs(cs,{children:[f.jsx(gr,{className:"font-medium",children:z.name}),f.jsx(gr,{children:z.price?`${z.price.toFixed(2)}`:"-"}),f.jsx(gr,{children:z.duration_days?`${z.duration_days} days`:"-"}),f.jsx(gr,{children:z.access_level||"-"}),f.jsx(gr,{children:Xt(new Date(z.created_at),"MMM d, yyyy")}),f.jsx(gr,{className:"text-right",children:f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(He,{variant:"ghost",size:"icon",onClick:()=>B(z),children:f.jsx(Hm,{className:"h-4 w-4"})}),f.jsx(He,{variant:"ghost",size:"icon",onClick:()=>q(z),children:f.jsx(YO,{className:"h-4 w-4 text-destructive"})})]})})]},z.id))})]})})})]})}),f.jsxs(ps,{value:"statistics",children:[f.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[f.jsx(mt,{children:f.jsxs(gt,{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Memberships"}),f.jsx(ll,{className:"w-5 h-5 text-primary"})]}),f.jsx("div",{className:"text-2xl font-bold",children:b?.total_memberships||0}),f.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"All user memberships"})]})}),f.jsx(mt,{children:f.jsxs(gt,{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Active"}),f.jsx(ff,{className:"w-5 h-5 text-success"})]}),f.jsx("div",{className:"text-2xl font-bold",children:b?.active_memberships||0}),f.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Currently active"})]})}),f.jsx(mt,{children:f.jsxs(gt,{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Expired"}),f.jsx(p1,{className:"w-5 h-5 text-destructive"})]}),f.jsx("div",{className:"text-2xl font-bold",children:b?.expired_memberships||0}),f.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"No longer active"})]})}),f.jsx(mt,{children:f.jsxs(gt,{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Revenue"}),f.jsx(qp,{className:"w-5 h-5 text-accent"})]}),f.jsxs("div",{className:"text-2xl font-bold",children:["",b?.total_revenue.toFixed(2)||"0.00"]}),f.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"From paid memberships"})]})})]}),f.jsxs(mt,{children:[f.jsx(ir,{children:f.jsxs(or,{className:"flex items-center gap-2",children:[f.jsx(zO,{className:"w-5 h-5"}),"Membership Overview"]})}),f.jsx(gt,{children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-muted/30",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-medium",children:"Membership Plans Available"}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.length," plan",t.length!==1?"s":""," configured"]})]}),f.jsx(Gr,{variant:"secondary",children:t.length})]}),f.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-muted/30",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-medium",children:"Renewals Due Soon"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Memberships expiring in next 30 days"})]}),f.jsx(Gr,{variant:O.length>0?"destructive":"secondary",children:O.length})]})]})})]})]}),f.jsx(ps,{value:"renewals",children:f.jsxs(mt,{children:[f.jsxs(ir,{children:[f.jsxs(or,{className:"flex items-center gap-2",children:[f.jsx(Ou,{className:"w-5 h-5"}),"Renewal Reminders"]}),f.jsx(kr,{children:"Memberships expiring in the next 30 days"})]}),f.jsx(gt,{children:O.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(ff,{className:"w-12 h-12 mx-auto text-success mb-4"}),f.jsx("p",{className:"text-muted-foreground",children:"No renewals due in the next 30 days"})]}):f.jsx("div",{className:"space-y-3",children:O.map(z=>f.jsxs("div",{className:`p-4 rounded-lg border flex items-start justify-between ${z.days_remaining<=7?"bg-destructive/10 border-destructive":z.days_remaining<=14?"bg-orange-500/10 border-orange-500":"bg-muted/30"}`,children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("h3",{className:"font-medium",children:z.user_name}),f.jsxs(Gr,{variant:z.days_remaining<=7?"destructive":z.days_remaining<=14?"default":"secondary",children:[z.days_remaining<=7?f.jsx(uc,{className:"w-3 h-3 mr-1"}):f.jsx(Ou,{className:"w-3 h-3 mr-1"}),z.days_remaining," day",z.days_remaining!==1?"s":""," remaining"]})]}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:[z.membership_name,"  Expires ",Xt(new Date(z.end_date),"MMM d, yyyy")]})]}),f.jsx(He,{variant:"outline",size:"sm",onClick:()=>C(`/admin/usermemberships?user=${z.user_id}`),children:"Manage"})]},`${z.user_id}-${z.end_date}`))})})]})})]}),f.jsx(gV,{open:s,onOpenChange:l,children:f.jsxs(uN,{children:[f.jsxs(dN,{children:[f.jsx(hN,{children:"Delete Membership"}),f.jsxs(pN,{children:['Are you sure you want to delete "',d?.name,'"? This action cannot be undone.',d&&f.jsx("div",{className:"mt-2 p-2 bg-destructive/10 rounded text-destructive text-sm",children:"Note: This membership cannot be deleted if it's assigned to any users."})]})]}),f.jsxs(fN,{children:[f.jsx(gN,{children:"Cancel"}),f.jsx(mN,{onClick:U,className:"bg-destructive hover:bg-destructive/90",children:"Delete"})]})]})})]})},hOe=()=>{const[t,e]=N.useState([]),[r,n]=N.useState([]),[i,a]=N.useState([]),[s,l]=N.useState(!0),[d,h]=N.useState(!1),[g,v]=N.useState(null),{toast:b}=mi(),[S,O]=N.useState({user_id:"",membership_id:"",start_date:"",end_date:"",status:"active",payment_status:"paid"});N.useEffect(()=>{E()},[]);const E=async()=>{try{const[R,M,B]=await Promise.all([Pe.from("user_memberships").select("*, profiles(full_name), memberships(name)").order("created_at",{ascending:!1}),Pe.from("profiles").select("id, full_name"),Pe.from("memberships").select("id, name, duration_days")]);if(R.error)throw R.error;if(M.error)throw M.error;if(B.error)throw B.error;e(R.data||[]),n(M.data||[]),a(B.data||[])}catch(R){b({variant:"destructive",title:"Error",description:R.message})}finally{l(!1)}},C=()=>{O({user_id:"",membership_id:"",start_date:"",end_date:"",status:"active",payment_status:"paid"}),v(null)},j=(R,M)=>{const B=i.find(z=>z.id===M);if(!B?.duration_days)return"";const q=new Date(R),U=new Date(q);return U.setDate(U.getDate()+B.duration_days),U.toISOString().split("T")[0]},P=async R=>{R.preventDefault();try{const M={user_id:S.user_id,membership_id:S.membership_id,start_date:S.start_date,end_date:S.end_date,status:S.status,payment_status:S.payment_status};if(g){const{error:B}=await Pe.from("user_memberships").update(M).eq("id",g.id);if(B)throw B;b({title:"Success",description:"User membership updated successfully"})}else{const{error:B}=await Pe.from("user_memberships").insert([M]);if(B)throw B;b({title:"Success",description:"User membership created successfully"})}h(!1),C(),E()}catch(M){b({variant:"destructive",title:"Error",description:M.message})}},I=R=>{v(R),O({user_id:R.user_id,membership_id:R.membership_id,start_date:R.start_date.split("T")[0],end_date:R.end_date.split("T")[0],status:R.status,payment_status:R.payment_status}),h(!0)},F=async R=>{if(confirm("Are you sure you want to delete this user membership?"))try{const{error:M}=await Pe.from("user_memberships").delete().eq("id",R);if(M)throw M;b({title:"Success",description:"User membership deleted successfully"}),E()}catch(M){b({variant:"destructive",title:"Error",description:M.message})}};return s?f.jsx("div",{className:"flex items-center justify-center min-h-screen",children:f.jsx(da,{className:"h-8 w-8 animate-spin text-primary"})}):f.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"User Memberships"}),f.jsxs(Xo,{open:d,onOpenChange:R=>{h(R),R||C()},children:[f.jsx(DU,{asChild:!0,children:f.jsxs(He,{children:[f.jsx(Vp,{className:"h-4 w-4 mr-2"}),"Assign Membership"]})}),f.jsxs(fo,{children:[f.jsx(ho,{children:f.jsx(po,{children:g?"Edit User Membership":"Assign Membership"})}),f.jsxs("form",{onSubmit:P,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx(pn,{htmlFor:"user_id",children:"User *"}),f.jsxs(fa,{value:S.user_id,onValueChange:R=>O({...S,user_id:R}),required:!0,children:[f.jsx(qi,{children:f.jsx(ha,{placeholder:"Select user"})}),f.jsx(zi,{children:r.map(R=>f.jsx(tr,{value:R.id,children:R.full_name||"Unnamed User"},R.id))})]})]}),f.jsxs("div",{children:[f.jsx(pn,{htmlFor:"membership_id",children:"Membership *"}),f.jsxs(fa,{value:S.membership_id,onValueChange:R=>{const M={...S,membership_id:R};S.start_date&&(M.end_date=j(S.start_date,R)),O(M)},required:!0,children:[f.jsx(qi,{children:f.jsx(ha,{placeholder:"Select membership"})}),f.jsx(zi,{children:i.map(R=>f.jsx(tr,{value:R.id,children:R.name},R.id))})]})]}),f.jsxs("div",{children:[f.jsx(pn,{htmlFor:"start_date",children:"Start Date *"}),f.jsx(rr,{id:"start_date",type:"date",value:S.start_date,onChange:R=>{const M={...S,start_date:R.target.value};S.membership_id&&(M.end_date=j(R.target.value,S.membership_id)),O(M)},required:!0})]}),f.jsxs("div",{children:[f.jsx(pn,{htmlFor:"end_date",children:"End Date *"}),f.jsx(rr,{id:"end_date",type:"date",value:S.end_date,onChange:R=>O({...S,end_date:R.target.value}),required:!0})]}),f.jsxs("div",{children:[f.jsx(pn,{htmlFor:"status",children:"Status *"}),f.jsxs(fa,{value:S.status,onValueChange:R=>O({...S,status:R}),required:!0,children:[f.jsx(qi,{children:f.jsx(ha,{})}),f.jsxs(zi,{children:[f.jsx(tr,{value:"active",children:"Active"}),f.jsx(tr,{value:"expired",children:"Expired"}),f.jsx(tr,{value:"cancelled",children:"Cancelled"})]})]})]}),f.jsxs("div",{children:[f.jsx(pn,{htmlFor:"payment_status",children:"Payment Status *"}),f.jsxs(fa,{value:S.payment_status,onValueChange:R=>O({...S,payment_status:R}),required:!0,children:[f.jsx(qi,{children:f.jsx(ha,{})}),f.jsxs(zi,{children:[f.jsx(tr,{value:"paid",children:"Paid"}),f.jsx(tr,{value:"pending",children:"Pending"}),f.jsx(tr,{value:"failed",children:"Failed"})]})]})]}),f.jsxs(He,{type:"submit",className:"w-full",children:[g?"Update":"Assign"," Membership"]})]})]})]})]}),f.jsxs(mt,{children:[f.jsx(ir,{children:f.jsx(or,{children:"Active User Memberships"})}),f.jsx(gt,{children:f.jsxs(Tf,{children:[f.jsx(Nf,{children:f.jsxs(cs,{children:[f.jsx(xr,{children:"User"}),f.jsx(xr,{children:"Membership"}),f.jsx(xr,{children:"Start Date"}),f.jsx(xr,{children:"End Date"}),f.jsx(xr,{children:"Status"}),f.jsx(xr,{children:"Payment"}),f.jsx(xr,{children:"Actions"})]})}),f.jsx(kf,{children:t.length===0?f.jsx(cs,{children:f.jsx(gr,{colSpan:7,className:"text-center text-muted-foreground",children:"No user memberships found"})}):t.map(R=>f.jsxs(cs,{children:[f.jsx(gr,{className:"font-medium",children:R.profiles?.full_name||"Unknown User"}),f.jsx(gr,{children:R.memberships?.name||"Unknown"}),f.jsx(gr,{children:Xt(new Date(R.start_date),"MMM dd, yyyy")}),f.jsx(gr,{children:Xt(new Date(R.end_date),"MMM dd, yyyy")}),f.jsx(gr,{children:f.jsx("span",{className:`px-2 py-1 rounded text-xs ${R.status==="active"?"bg-green-100 text-green-800":R.status==="expired"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:R.status})}),f.jsx(gr,{children:f.jsx("span",{className:`px-2 py-1 rounded text-xs ${R.payment_status==="paid"?"bg-green-100 text-green-800":R.payment_status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:R.payment_status})}),f.jsx(gr,{children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx(He,{variant:"ghost",size:"icon",onClick:()=>I(R),children:f.jsx(Hm,{className:"h-4 w-4"})}),f.jsx(He,{variant:"ghost",size:"icon",onClick:()=>F(R.id),children:f.jsx(YO,{className:"h-4 w-4 text-destructive"})})]})})]},R.id))})]})})]})]})};function pOe(){const[t,e]=N.useState(!0),[r,n]=N.useState(null),[i,a]=N.useState(null),[s,l]=N.useState(!1),{toast:d}=mi(),h=Ai();N.useEffect(()=>{v(),g()},[]);const g=async()=>{try{const{data:{session:P}}=await Pe.auth.getSession();if(!P)return;const{data:I,error:F}=await Pe.functions.invoke("check-subscription",{headers:{Authorization:`Bearer ${P.access_token}`}});F?console.error("Error checking subscription:",F):I?.has_subscription&&await v()}catch(P){console.error("Error checking subscription:",P)}};N.useEffect(()=>{const P=new URLSearchParams(window.location.search);P.get("success")==="true"?(d({title:"Payment Successful!",description:"Your membership has been activated."}),g(),window.history.replaceState({},"","/managememberships")):P.get("canceled")==="true"&&(d({variant:"destructive",title:"Payment Cancelled",description:"Your payment was cancelled. No charges were made."}),window.history.replaceState({},"","/managememberships"))},[]);const v=async()=>{try{const{data:{user:P}}=await Pe.auth.getUser();if(!P){h("/login");return}const{data:I,error:F}=await Pe.from("memberships").select("*").eq("price",150).single();if(F)throw F;a(I);const{data:R,error:M}=await Pe.from("user_memberships").select("*").eq("user_id",P.id).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(M)throw M;n(R)}catch(P){d({variant:"destructive",title:"Error loading membership data",description:P.message})}finally{e(!1)}},b=async()=>{l(!0);try{const{data:{session:P}}=await Pe.auth.getSession();if(!P)throw new Error("Not authenticated");const{data:I,error:F}=await Pe.functions.invoke("create-checkout",{headers:{Authorization:`Bearer ${P.access_token}`}});if(F)throw F;I?.url&&(window.open(I.url,"_blank"),d({title:"Redirecting to Payment",description:"Opening Stripe checkout in a new tab..."}))}catch(P){d({variant:"destructive",title:"Payment Setup Failed",description:P.message})}finally{l(!1)}},S=async()=>{if(r){l(!0);try{const{data:{session:P}}=await Pe.auth.getSession();if(!P)throw new Error("Not authenticated");const{data:I,error:F}=await Pe.functions.invoke("cancel-subscription",{headers:{Authorization:`Bearer ${P.access_token}`}});if(F)throw F;d({title:"Membership Cancelled",description:I?.message||"Your membership will be cancelled at the end of the billing period."}),await v()}catch(P){d({variant:"destructive",title:"Cancellation failed",description:P.message})}finally{l(!1)}}},O=async()=>{l(!0);try{const{data:{session:P}}=await Pe.auth.getSession();if(!P)throw new Error("Not authenticated");const{data:I,error:F}=await Pe.functions.invoke("create-checkout",{headers:{Authorization:`Bearer ${P.access_token}`}});if(F)throw F;I?.url&&(window.open(I.url,"_blank"),d({title:"Redirecting to Payment",description:"Opening Stripe checkout to renew your membership..."}))}catch(P){d({variant:"destructive",title:"Renewal failed",description:P.message})}finally{l(!1)}};if(t)return f.jsx("div",{className:"flex items-center justify-center min-h-screen",children:f.jsx(da,{className:"h-8 w-8 animate-spin"})});const E=r?.status==="active"&&new Date(r.end_date)>new Date,C=r&&new Date(r.end_date)<=new Date,j=r?.status==="cancelled";return f.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[f.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Manage Membership"}),r&&f.jsxs(mt,{className:"mb-6",children:[f.jsx(ir,{children:f.jsx(or,{children:"Current Membership"})}),f.jsxs(gt,{className:"space-y-3",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-muted-foreground",children:"Status:"}),f.jsx(Gr,{variant:E?"default":"secondary",children:E?"Active":C?"Expired":j?"Cancelled":r.status})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-muted-foreground",children:"Start Date:"}),f.jsx("span",{children:new Date(r.start_date).toLocaleDateString()})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-muted-foreground",children:"End Date:"}),f.jsx("span",{children:new Date(r.end_date).toLocaleDateString()})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-muted-foreground",children:"Payment Status:"}),f.jsx(Gr,{variant:r.payment_status==="paid"?"default":"destructive",children:r.payment_status})]})]})]}),i&&f.jsxs(mt,{children:[f.jsxs(ir,{children:[f.jsx(or,{children:i.name}),f.jsxs(kr,{children:["",i.price," per month  ",i.access_level]})]}),f.jsxs(gt,{className:"space-y-4",children:[f.jsxs("p",{className:"text-muted-foreground",children:["Duration: ",i.duration_days," days"]}),f.jsxs("div",{className:"flex gap-3 flex-wrap",children:[!r&&f.jsxs(He,{onClick:b,disabled:s,children:[s&&f.jsx(da,{className:"mr-2 h-4 w-4 animate-spin"}),"Register Membership"]}),r&&E&&f.jsxs(f.Fragment,{children:[f.jsxs(He,{onClick:O,disabled:s,children:[s&&f.jsx(da,{className:"mr-2 h-4 w-4 animate-spin"}),"Renew Membership"]}),f.jsxs(He,{onClick:S,variant:"destructive",disabled:s,children:[s&&f.jsx(da,{className:"mr-2 h-4 w-4 animate-spin"}),"Cancel Membership"]})]}),r&&(C||j)&&f.jsxs(He,{onClick:O,disabled:s,children:[s&&f.jsx(da,{className:"mr-2 h-4 w-4 animate-spin"}),"Reactivate Membership"]})]})]})]})]})}const mOe=yc({full_name:nn().min(1,"Full name is required").max(100,"Name is too long"),phone:nn().optional().or(nu("")),address:nn().optional().or(nu("")),date_of_birth:nn().optional().or(nu("")),emergency_contact:nn().optional().or(nu("")),emergency_contact_phone:nn().optional().or(nu("")),health_notes:nn().optional().or(nu(""))}),gOe=()=>{const{user:t}=Yu(),e=Ai();mi();const[r,n]=N.useState(!0),[i,a]=N.useState(!1),[s,l]=N.useState(!1),[d,h]=N.useState(null),[g,v]=N.useState([]),[b,S]=N.useState([]),[O,E]=N.useState(!1),C=yf({resolver:xf(mOe),defaultValues:{full_name:"",phone:"",address:"",date_of_birth:"",emergency_contact:"",emergency_contact_phone:"",health_notes:""}});N.useEffect(()=>{t&&j()},[t]);const j=async()=>{try{if(n(!0),!t){e("/login");return}const{data:R,error:M}=await Pe.from("profiles").select("*").eq("id",t.id).single();if(M)throw M;h(R),R&&C.reset({full_name:R.full_name||"",phone:R.phone||"",address:R.address||"",date_of_birth:R.date_of_birth||"",emergency_contact:R.emergency_contact||"",emergency_contact_phone:R.emergency_contact_phone||"",health_notes:R.health_notes||""});const{data:B,error:q}=await Pe.from("user_memberships").select("*, memberships(name, price)").eq("user_id",t.id).order("created_at",{ascending:!1});if(q)throw q;v(B||[]);const{data:U,error:z}=await Pe.from("class_bookings").select("*, class_sessions(id, name, instructor, start_time, end_time)").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(50);if(z)throw z;S(U||[])}catch(R){console.error("Error fetching profile data:",R),Yt({title:"Error loading profile",description:R.message})}finally{n(!1)}},P=async R=>{try{if(a(!0),!t)return;const M={full_name:iu(R.full_name),phone:R.phone?iu(R.phone):null,address:R.address?iu(R.address):null,date_of_birth:R.date_of_birth||null,emergency_contact:R.emergency_contact?iu(R.emergency_contact):null,emergency_contact_phone:R.emergency_contact_phone?iu(R.emergency_contact_phone):null,health_notes:R.health_notes?iu(R.health_notes):null},{error:B}=await Pe.from("profiles").update(M).eq("id",t.id);if(B)throw B;os("Profile updated successfully!"),E(!1),await j()}catch(M){console.error("Error updating profile:",M),Yt({title:"Error updating profile",description:M.message})}finally{a(!1)}},I=async R=>{try{const M=R.target.files?.[0];if(!M||!t)return;if(!M.type.startsWith("image/")){Yt({title:"Invalid file type",description:"Please upload an image file."});return}if(M.size>5*1024*1024){Yt({title:"File too large",description:"Please upload an image smaller than 5MB."});return}l(!0);const B=M.name.split(".").pop(),U=`avatars/${`${t.id}-${Date.now()}.${B}`}`,{error:z}=await Pe.storage.from("avatars").upload(U,M,{cacheControl:"3600",upsert:!0});if(z)throw z;const{data:{publicUrl:G}}=Pe.storage.from("avatars").getPublicUrl(U),{error:W}=await Pe.from("profiles").update({avatar_url:G}).eq("id",t.id);if(W)throw W;os("Profile picture updated successfully!"),await j()}catch(M){console.error("Error uploading avatar:",M),Yt({title:"Error uploading picture",description:M.message})}finally{l(!1),R.target.value=""}},F=R=>R?R.split(" ").map(M=>M[0]).join("").toUpperCase().slice(0,2):"U";return r?f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx(Iu,{size:"lg",text:"Loading profile..."})}):f.jsx("div",{className:"min-h-screen bg-background p-6",children:f.jsxs("div",{className:"container mx-auto max-w-4xl",children:[f.jsx("h1",{className:"text-3xl font-bold mb-8",children:"My Profile"}),f.jsxs(G1,{defaultValue:"profile",className:"space-y-6",children:[f.jsxs(dg,{children:[f.jsx(hs,{value:"profile",children:"Profile"}),f.jsx(hs,{value:"memberships",children:"Membership History"}),f.jsx(hs,{value:"bookings",children:"Booking History"})]}),f.jsx(ps,{value:"profile",children:f.jsxs(mt,{children:[f.jsx(ir,{children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx(or,{children:"Profile Information"}),f.jsx(kr,{children:"Manage your personal information"})]}),!O&&f.jsxs(He,{onClick:()=>E(!0),variant:"outline",size:"sm",children:[f.jsx(Hm,{className:"w-4 h-4 mr-2"}),"Edit"]})]})}),f.jsxs(gt,{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsxs(fT,{className:"w-24 h-24",children:[f.jsx(hT,{src:d?.avatar_url,alt:d?.full_name||"User"}),f.jsx(pT,{className:"text-2xl",children:F(d?.full_name)})]}),f.jsxs("div",{children:[f.jsx(pn,{htmlFor:"avatar-upload",className:"cursor-pointer",children:f.jsx(He,{variant:"outline",size:"sm",asChild:!0,disabled:s,children:f.jsxs("span",{children:[f.jsx(HK,{className:"w-4 h-4 mr-2"}),s?"Uploading...":"Upload Photo"]})})}),f.jsx(rr,{id:"avatar-upload",type:"file",accept:"image/*",className:"hidden",onChange:I,disabled:s}),f.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"JPG, PNG or GIF. Max size 5MB"})]})]}),O?f.jsx(Cf,{...C,children:f.jsxs("form",{onSubmit:C.handleSubmit(P),className:"space-y-4",children:[f.jsx(Tr,{control:C.control,name:"full_name",render:({field:R})=>f.jsxs(_r,{children:[f.jsx(Sr,{children:"Full Name"}),f.jsx(Er,{children:f.jsx(rr,{...R})}),f.jsx(Ir,{})]})}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[f.jsx(Tr,{control:C.control,name:"phone",render:({field:R})=>f.jsxs(_r,{children:[f.jsx(Sr,{children:"Phone"}),f.jsx(Er,{children:f.jsx(rr,{type:"tel",...R})}),f.jsx(Ir,{})]})}),f.jsx(Tr,{control:C.control,name:"date_of_birth",render:({field:R})=>f.jsxs(_r,{children:[f.jsx(Sr,{children:"Date of Birth"}),f.jsx(Er,{children:f.jsx(rr,{type:"date",...R})}),f.jsx(Ir,{})]})})]}),f.jsx(Tr,{control:C.control,name:"address",render:({field:R})=>f.jsxs(_r,{children:[f.jsx(Sr,{children:"Address"}),f.jsx(Er,{children:f.jsx(l1,{...R,rows:2})}),f.jsx(Ir,{})]})}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[f.jsx(Tr,{control:C.control,name:"emergency_contact",render:({field:R})=>f.jsxs(_r,{children:[f.jsx(Sr,{children:"Emergency Contact Name"}),f.jsx(Er,{children:f.jsx(rr,{...R})}),f.jsx(Ir,{})]})}),f.jsx(Tr,{control:C.control,name:"emergency_contact_phone",render:({field:R})=>f.jsxs(_r,{children:[f.jsx(Sr,{children:"Emergency Contact Phone"}),f.jsx(Er,{children:f.jsx(rr,{type:"tel",...R})}),f.jsx(Ir,{})]})})]}),f.jsx(Tr,{control:C.control,name:"health_notes",render:({field:R})=>f.jsxs(_r,{children:[f.jsx(Sr,{children:"Health Notes"}),f.jsx(Er,{children:f.jsx(l1,{...R,rows:4,placeholder:"Any health conditions or notes..."})}),f.jsx(_u,{children:"This information is kept confidential and only used for your safety."}),f.jsx(Ir,{})]})}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs(He,{type:"submit",disabled:i,children:[f.jsx(UK,{className:"w-4 h-4 mr-2"}),i?"Saving...":"Save Changes"]}),f.jsxs(He,{type:"button",variant:"outline",onClick:()=>{E(!1),C.reset()},children:[f.jsx(Gm,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})}):f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx(pn,{className:"text-muted-foreground",children:"Email"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(bC,{className:"w-4 h-4 text-muted-foreground"}),f.jsx("p",{className:"font-medium",children:t?.email})]})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx(pn,{className:"text-muted-foreground",children:"Full Name"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(rf,{className:"w-4 h-4 text-muted-foreground"}),f.jsx("p",{className:"font-medium",children:d?.full_name||"Not set"})]})]}),d?.phone&&f.jsxs("div",{className:"space-y-1",children:[f.jsx(pn,{className:"text-muted-foreground",children:"Phone"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(FK,{className:"w-4 h-4 text-muted-foreground"}),f.jsx("p",{className:"font-medium",children:d.phone})]})]}),d?.date_of_birth&&f.jsxs("div",{className:"space-y-1",children:[f.jsx(pn,{className:"text-muted-foreground",children:"Date of Birth"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Bi,{className:"w-4 h-4 text-muted-foreground"}),f.jsx("p",{className:"font-medium",children:Xt(new Date(d.date_of_birth),"MMM d, yyyy")})]})]}),d?.address&&f.jsxs("div",{className:"space-y-1 md:col-span-2",children:[f.jsx(pn,{className:"text-muted-foreground",children:"Address"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(mB,{className:"w-4 h-4 text-muted-foreground"}),f.jsx("p",{className:"font-medium",children:d.address})]})]}),d?.emergency_contact&&f.jsxs("div",{className:"space-y-1",children:[f.jsx(pn,{className:"text-muted-foreground",children:"Emergency Contact"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(ll,{className:"w-4 h-4 text-muted-foreground"}),f.jsx("p",{className:"font-medium",children:d.emergency_contact}),d.emergency_contact_phone&&f.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",d.emergency_contact_phone,")"]})]})]}),d?.health_notes&&f.jsxs("div",{className:"space-y-1 md:col-span-2",children:[f.jsx(pn,{className:"text-muted-foreground",children:"Health Notes"}),f.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:d.health_notes})]})]})})]})]})}),f.jsx(ps,{value:"memberships",children:f.jsxs(mt,{children:[f.jsxs(ir,{children:[f.jsxs(or,{className:"flex items-center gap-2",children:[f.jsx(kv,{className:"w-5 h-5"}),"Membership History"]}),f.jsx(kr,{children:"View your membership subscription history"})]}),f.jsx(gt,{children:g.length>0?f.jsx("div",{className:"space-y-4",children:g.map(R=>{const M=R.status==="active"&&R.payment_status==="paid"&&new Date(R.end_date)>new Date,B=new Date(R.end_date)<new Date;return f.jsx("div",{className:"p-4 rounded-lg border bg-muted/30 flex items-start justify-between",children:f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("h3",{className:"font-medium",children:R.memberships?.name||"Membership"}),f.jsx(Gr,{variant:M?"default":B?"destructive":"secondary",children:M?f.jsxs(f.Fragment,{children:[f.jsx(ff,{className:"w-3 h-3 mr-1"})," Active"]}):B?f.jsxs(f.Fragment,{children:[f.jsx(p1,{className:"w-3 h-3 mr-1"})," Expired"]}):f.jsxs(f.Fragment,{children:[f.jsx(Ou,{className:"w-3 h-3 mr-1"})," ",R.status]})})]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-2 text-sm text-muted-foreground",children:[f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Start:"})," ",Xt(new Date(R.start_date),"MMM d, yyyy")]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"End:"})," ",Xt(new Date(R.end_date),"MMM d, yyyy")]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Price:"})," ",R.memberships?.price?.toFixed(2)||"N/A"]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Payment:"})," ",R.payment_status]})]})]})},R.id)})}):f.jsxs("div",{className:"text-center py-8",children:[f.jsx("p",{className:"text-muted-foreground mb-4",children:"No membership history"}),f.jsx(He,{onClick:()=>e("/managememberships"),variant:"outline",children:"View Membership Plans"})]})})]})}),f.jsx(ps,{value:"bookings",children:f.jsxs(mt,{children:[f.jsxs(ir,{children:[f.jsxs(or,{className:"flex items-center gap-2",children:[f.jsx(qO,{className:"w-5 h-5"}),"Booking History"]}),f.jsx(kr,{children:"View your class booking history"})]}),f.jsx(gt,{children:b.length>0?f.jsx("div",{className:"space-y-3",children:b.map(R=>f.jsx("div",{className:"p-4 rounded-lg border bg-muted/30 flex items-start justify-between",children:f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("h3",{className:"font-medium",children:R.class_sessions?.name||"Class"}),f.jsx(Gr,{variant:R.status==="attended"?"default":R.status==="cancelled"?"destructive":R.status==="booked"?"secondary":"outline",children:R.status})]}),R.class_sessions&&f.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Instructor:"})," ",R.class_sessions.instructor]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Date:"})," ",Xt(new Date(R.class_sessions.start_time),"MMM d, yyyy 'at' h:mm a")]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Booked:"})," ",Xt(new Date(R.created_at),"MMM d, yyyy")]})]})]})},R.id))}):f.jsxs("div",{className:"text-center py-8",children:[f.jsx("p",{className:"text-muted-foreground mb-4",children:"No booking history"}),f.jsx(He,{onClick:()=>e("/classes"),variant:"outline",children:"Browse Classes"})]})})]})})]})]})})},vOe=()=>{const t=_o();return N.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),f.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),f.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),f.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},yOe=new yQ,xOe=()=>{const t=l$()||void 0;return f.jsx(oae,{children:f.jsx(wQ,{client:yOe,children:f.jsxs(n7,{children:[f.jsx(kY,{}),f.jsx(lX,{}),f.jsx(pJ,{basename:t,children:f.jsx(eae,{children:f.jsxs(dJ,{children:[f.jsx(ei,{path:"/",element:f.jsx(lae,{})}),f.jsx(ei,{path:"/login",element:f.jsx(gse,{})}),f.jsx(ei,{path:"/register",element:f.jsx(Pse,{})}),f.jsx(ei,{path:"/forgot-password",element:f.jsx(jse,{})}),f.jsx(ei,{path:"/reset-password",element:f.jsx(Ise,{})}),f.jsx(ei,{path:"/dashboard",element:f.jsx(Ld,{children:f.jsx(Ile,{})})}),f.jsx(ei,{path:"/classes",element:f.jsx(Ld,{children:f.jsx(pce,{})})}),f.jsx(ei,{path:"/bookings",element:f.jsx(Ld,{children:f.jsx(ude,{})})}),f.jsx(ei,{path:"/managememberships",element:f.jsx(Ld,{children:f.jsx(pOe,{})})}),f.jsx(ei,{path:"/profile",element:f.jsx(Ld,{children:f.jsx(gOe,{})})}),f.jsx(ei,{path:"/qr/entry-exit",element:f.jsx(Ld,{children:f.jsx(Wde,{})})}),f.jsx(ei,{path:"/admin",element:f.jsx(Bd,{children:f.jsx(qde,{})})}),f.jsx(ei,{path:"/admin/users",element:f.jsx(Bd,{children:f.jsx(Zde,{})})}),f.jsx(ei,{path:"/admin/analytics",element:f.jsx(Bd,{children:f.jsx(rOe,{})})}),f.jsx(ei,{path:"/admin/manageclasses",element:f.jsx(Bd,{children:f.jsx(uOe,{})})}),f.jsx(ei,{path:"/admin/memberships",element:f.jsx(Bd,{children:f.jsx(fOe,{})})}),f.jsx(ei,{path:"/admin/usermemberships",element:f.jsx(Bd,{children:f.jsx(hOe,{})})}),f.jsx(ei,{path:"*",element:f.jsx(vOe,{})})]})})})]})})})};EG.createRoot(document.getElementById("root")).render(f.jsx(xOe,{}));
