function vN(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var _c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ur(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function sK(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Pb={exports:{}},jm={},Ib={exports:{}},Or={};var eI;function aK(){if(eI)return Or;eI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function w(ae){return ae===null||typeof ae!="object"?null:(ae=v&&ae[v]||ae["@@iterator"],typeof ae=="function"?ae:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function E(ae,se,me){this.props=ae,this.context=se,this.refs=C,this.updater=me||b}E.prototype.isReactComponent={},E.prototype.setState=function(ae,se){if(typeof ae!="object"&&typeof ae!="function"&&ae!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ae,se,"setState")},E.prototype.forceUpdate=function(ae){this.updater.enqueueForceUpdate(this,ae,"forceUpdate")};function P(){}P.prototype=E.prototype;function k(ae,se,me){this.props=ae,this.context=se,this.refs=C,this.updater=me||b}var I=k.prototype=new P;I.constructor=k,A(I,E.prototype),I.isPureReactComponent=!0;var F=Array.isArray,M=Object.prototype.hasOwnProperty,D={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function $(ae,se,me){var xe,Ue={},Pe=null,Se=null;if(se!=null)for(xe in se.ref!==void 0&&(Se=se.ref),se.key!==void 0&&(Pe=""+se.key),se)M.call(se,xe)&&!R.hasOwnProperty(xe)&&(Ue[xe]=se[xe]);var je=arguments.length-2;if(je===1)Ue.children=me;else if(1<je){for(var Ee=Array(je),Fe=0;Fe<je;Fe++)Ee[Fe]=arguments[Fe+2];Ue.children=Ee}if(ae&&ae.defaultProps)for(xe in je=ae.defaultProps,je)Ue[xe]===void 0&&(Ue[xe]=je[xe]);return{$$typeof:t,type:ae,key:Pe,ref:Se,props:Ue,_owner:D.current}}function z(ae,se){return{$$typeof:t,type:ae.type,key:se,ref:ae.ref,props:ae.props,_owner:ae._owner}}function G(ae){return typeof ae=="object"&&ae!==null&&ae.$$typeof===t}function W(ae){var se={"=":"=0",":":"=2"};return"$"+ae.replace(/[=:]/g,function(me){return se[me]})}var V=/\/+/g;function K(ae,se){return typeof ae=="object"&&ae!==null&&ae.key!=null?W(""+ae.key):se.toString(36)}function q(ae,se,me,xe,Ue){var Pe=typeof ae;(Pe==="undefined"||Pe==="boolean")&&(ae=null);var Se=!1;if(ae===null)Se=!0;else switch(Pe){case"string":case"number":Se=!0;break;case"object":switch(ae.$$typeof){case t:case e:Se=!0}}if(Se)return Se=ae,Ue=Ue(Se),ae=xe===""?"."+K(Se,0):xe,F(Ue)?(me="",ae!=null&&(me=ae.replace(V,"$&/")+"/"),q(Ue,se,me,"",function(Fe){return Fe})):Ue!=null&&(G(Ue)&&(Ue=z(Ue,me+(!Ue.key||Se&&Se.key===Ue.key?"":(""+Ue.key).replace(V,"$&/")+"/")+ae)),se.push(Ue)),1;if(Se=0,xe=xe===""?".":xe+":",F(ae))for(var je=0;je<ae.length;je++){Pe=ae[je];var Ee=xe+K(Pe,je);Se+=q(Pe,se,me,Ee,Ue)}else if(Ee=w(ae),typeof Ee=="function")for(ae=Ee.call(ae),je=0;!(Pe=ae.next()).done;)Pe=Pe.value,Ee=xe+K(Pe,je++),Se+=q(Pe,se,me,Ee,Ue);else if(Pe==="object")throw se=String(ae),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(ae).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.");return Se}function Y(ae,se,me){if(ae==null)return ae;var xe=[],Ue=0;return q(ae,xe,"","",function(Pe){return se.call(me,Pe,Ue++)}),xe}function J(ae){if(ae._status===-1){var se=ae._result;se=se(),se.then(function(me){(ae._status===0||ae._status===-1)&&(ae._status=1,ae._result=me)},function(me){(ae._status===0||ae._status===-1)&&(ae._status=2,ae._result=me)}),ae._status===-1&&(ae._status=0,ae._result=se)}if(ae._status===1)return ae._result.default;throw ae._result}var ne={current:null},te={transition:null},Q={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:te,ReactCurrentOwner:D};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Or.Children={map:Y,forEach:function(ae,se,me){Y(ae,function(){se.apply(this,arguments)},me)},count:function(ae){var se=0;return Y(ae,function(){se++}),se},toArray:function(ae){return Y(ae,function(se){return se})||[]},only:function(ae){if(!G(ae))throw Error("React.Children.only expected to receive a single React element child.");return ae}},Or.Component=E,Or.Fragment=r,Or.Profiler=i,Or.PureComponent=k,Or.StrictMode=n,Or.Suspense=u,Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,Or.act=ue,Or.cloneElement=function(ae,se,me){if(ae==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ae+".");var xe=A({},ae.props),Ue=ae.key,Pe=ae.ref,Se=ae._owner;if(se!=null){if(se.ref!==void 0&&(Pe=se.ref,Se=D.current),se.key!==void 0&&(Ue=""+se.key),ae.type&&ae.type.defaultProps)var je=ae.type.defaultProps;for(Ee in se)M.call(se,Ee)&&!R.hasOwnProperty(Ee)&&(xe[Ee]=se[Ee]===void 0&&je!==void 0?je[Ee]:se[Ee])}var Ee=arguments.length-2;if(Ee===1)xe.children=me;else if(1<Ee){je=Array(Ee);for(var Fe=0;Fe<Ee;Fe++)je[Fe]=arguments[Fe+2];xe.children=je}return{$$typeof:t,type:ae.type,key:Ue,ref:Pe,props:xe,_owner:Se}},Or.createContext=function(ae){return ae={$$typeof:o,_currentValue:ae,_currentValue2:ae,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ae.Provider={$$typeof:s,_context:ae},ae.Consumer=ae},Or.createElement=$,Or.createFactory=function(ae){var se=$.bind(null,ae);return se.type=ae,se},Or.createRef=function(){return{current:null}},Or.forwardRef=function(ae){return{$$typeof:c,render:ae}},Or.isValidElement=G,Or.lazy=function(ae){return{$$typeof:g,_payload:{_status:-1,_result:ae},_init:J}},Or.memo=function(ae,se){return{$$typeof:h,type:ae,compare:se===void 0?null:se}},Or.startTransition=function(ae){var se=te.transition;te.transition={};try{ae()}finally{te.transition=se}},Or.unstable_act=ue,Or.useCallback=function(ae,se){return ne.current.useCallback(ae,se)},Or.useContext=function(ae){return ne.current.useContext(ae)},Or.useDebugValue=function(){},Or.useDeferredValue=function(ae){return ne.current.useDeferredValue(ae)},Or.useEffect=function(ae,se){return ne.current.useEffect(ae,se)},Or.useId=function(){return ne.current.useId()},Or.useImperativeHandle=function(ae,se,me){return ne.current.useImperativeHandle(ae,se,me)},Or.useInsertionEffect=function(ae,se){return ne.current.useInsertionEffect(ae,se)},Or.useLayoutEffect=function(ae,se){return ne.current.useLayoutEffect(ae,se)},Or.useMemo=function(ae,se){return ne.current.useMemo(ae,se)},Or.useReducer=function(ae,se,me){return ne.current.useReducer(ae,se,me)},Or.useRef=function(ae){return ne.current.useRef(ae)},Or.useState=function(ae){return ne.current.useState(ae)},Or.useSyncExternalStore=function(ae,se,me){return ne.current.useSyncExternalStore(ae,se,me)},Or.useTransition=function(){return ne.current.useTransition()},Or.version="18.3.1",Or}var tI;function M1(){return tI||(tI=1,Ib.exports=aK()),Ib.exports}var rI;function oK(){if(rI)return jm;rI=1;var t=M1(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(c,u,h){var g,v={},w=null,b=null;h!==void 0&&(w=""+h),u.key!==void 0&&(w=""+u.key),u.ref!==void 0&&(b=u.ref);for(g in u)n.call(u,g)&&!s.hasOwnProperty(g)&&(v[g]=u[g]);if(c&&c.defaultProps)for(g in u=c.defaultProps,u)v[g]===void 0&&(v[g]=u[g]);return{$$typeof:e,type:c,key:w,ref:b,props:v,_owner:i.current}}return jm.Fragment=r,jm.jsx=o,jm.jsxs=o,jm}var nI;function lK(){return nI||(nI=1,Pb.exports=oK()),Pb.exports}var a=lK(),rv={},Rb={exports:{}},ks={},Mb={exports:{}},Db={};var iI;function cK(){return iI||(iI=1,(function(t){function e(te,Q){var ue=te.length;te.push(Q);e:for(;0<ue;){var ae=ue-1>>>1,se=te[ae];if(0<i(se,Q))te[ae]=Q,te[ue]=se,ue=ae;else break e}}function r(te){return te.length===0?null:te[0]}function n(te){if(te.length===0)return null;var Q=te[0],ue=te.pop();if(ue!==Q){te[0]=ue;e:for(var ae=0,se=te.length,me=se>>>1;ae<me;){var xe=2*(ae+1)-1,Ue=te[xe],Pe=xe+1,Se=te[Pe];if(0>i(Ue,ue))Pe<se&&0>i(Se,Ue)?(te[ae]=Se,te[Pe]=ue,ae=Pe):(te[ae]=Ue,te[xe]=ue,ae=xe);else if(Pe<se&&0>i(Se,ue))te[ae]=Se,te[Pe]=ue,ae=Pe;else break e}}return Q}function i(te,Q){var ue=te.sortIndex-Q.sortIndex;return ue!==0?ue:te.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var u=[],h=[],g=1,v=null,w=3,b=!1,A=!1,C=!1,E=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(te){for(var Q=r(h);Q!==null;){if(Q.callback===null)n(h);else if(Q.startTime<=te)n(h),Q.sortIndex=Q.expirationTime,e(u,Q);else break;Q=r(h)}}function F(te){if(C=!1,I(te),!A)if(r(u)!==null)A=!0,J(M);else{var Q=r(h);Q!==null&&ne(F,Q.startTime-te)}}function M(te,Q){A=!1,C&&(C=!1,P($),$=-1),b=!0;var ue=w;try{for(I(Q),v=r(u);v!==null&&(!(v.expirationTime>Q)||te&&!W());){var ae=v.callback;if(typeof ae=="function"){v.callback=null,w=v.priorityLevel;var se=ae(v.expirationTime<=Q);Q=t.unstable_now(),typeof se=="function"?v.callback=se:v===r(u)&&n(u),I(Q)}else n(u);v=r(u)}if(v!==null)var me=!0;else{var xe=r(h);xe!==null&&ne(F,xe.startTime-Q),me=!1}return me}finally{v=null,w=ue,b=!1}}var D=!1,R=null,$=-1,z=5,G=-1;function W(){return!(t.unstable_now()-G<z)}function V(){if(R!==null){var te=t.unstable_now();G=te;var Q=!0;try{Q=R(!0,te)}finally{Q?K():(D=!1,R=null)}}else D=!1}var K;if(typeof k=="function")K=function(){k(V)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Y=q.port2;q.port1.onmessage=V,K=function(){Y.postMessage(null)}}else K=function(){E(V,0)};function J(te){R=te,D||(D=!0,K())}function ne(te,Q){$=E(function(){te(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){A||b||(A=!0,J(M))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(te){switch(w){case 1:case 2:case 3:var Q=3;break;default:Q=w}var ue=w;w=Q;try{return te()}finally{w=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,Q){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ue=w;w=te;try{return Q()}finally{w=ue}},t.unstable_scheduleCallback=function(te,Q,ue){var ae=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ae+ue:ae):ue=ae,te){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=ue+se,te={id:g++,callback:Q,priorityLevel:te,startTime:ue,expirationTime:se,sortIndex:-1},ue>ae?(te.sortIndex=ue,e(h,te),r(u)===null&&te===r(h)&&(C?(P($),$=-1):C=!0,ne(F,ue-ae))):(te.sortIndex=se,e(u,te),A||b||(A=!0,J(M))),te},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(te){var Q=w;return function(){var ue=w;w=Q;try{return te.apply(this,arguments)}finally{w=ue}}}})(Db)),Db}var sI;function uK(){return sI||(sI=1,Mb.exports=cK()),Mb.exports}var aI;function dK(){if(aI)return ks;aI=1;var t=M1(),e=uK();function r(d){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+d,S=1;S<arguments.length;S++)p+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(d,p){o(d,p),o(d+"Capture",p)}function o(d,p){for(i[d]=p,d=0;d<p.length;d++)n.add(p[d])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function w(d){return u.call(v,d)?!0:u.call(g,d)?!1:h.test(d)?v[d]=!0:(g[d]=!0,!1)}function b(d,p,S,O){if(S!==null&&S.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return O?!1:S!==null?!S.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function A(d,p,S,O){if(p===null||typeof p>"u"||b(d,p,S,O))return!0;if(O)return!1;if(S!==null)switch(S.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function C(d,p,S,O,B,U,ee){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=O,this.attributeNamespace=B,this.mustUseProperty=S,this.propertyName=d,this.type=p,this.sanitizeURL=U,this.removeEmptyString=ee}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){E[d]=new C(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var p=d[0];E[p]=new C(p,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){E[d]=new C(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){E[d]=new C(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){E[d]=new C(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){E[d]=new C(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){E[d]=new C(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){E[d]=new C(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){E[d]=new C(d,5,!1,d.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function k(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var p=d.replace(P,k);E[p]=new C(p,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var p=d.replace(P,k);E[p]=new C(p,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var p=d.replace(P,k);E[p]=new C(p,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){E[d]=new C(d,1,!1,d.toLowerCase(),null,!1,!1)}),E.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){E[d]=new C(d,1,!1,d.toLowerCase(),null,!0,!0)});function I(d,p,S,O){var B=E.hasOwnProperty(p)?E[p]:null;(B!==null?B.type!==0:O||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(A(p,S,B,O)&&(S=null),O||B===null?w(p)&&(S===null?d.removeAttribute(p):d.setAttribute(p,""+S)):B.mustUseProperty?d[B.propertyName]=S===null?B.type===3?!1:"":S:(p=B.attributeName,O=B.attributeNamespace,S===null?d.removeAttribute(p):(B=B.type,S=B===3||B===4&&S===!0?"":""+S,O?d.setAttributeNS(O,p,S):d.setAttribute(p,S))))}var F=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),D=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),W=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),te=Symbol.iterator;function Q(d){return d===null||typeof d!="object"?null:(d=te&&d[te]||d["@@iterator"],typeof d=="function"?d:null)}var ue=Object.assign,ae;function se(d){if(ae===void 0)try{throw Error()}catch(S){var p=S.stack.trim().match(/\n( *(at )?)/);ae=p&&p[1]||""}return`
`+ae+d}var me=!1;function xe(d,p){if(!d||me)return"";me=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(Le){var O=Le}Reflect.construct(d,[],p)}else{try{p.call()}catch(Le){O=Le}d.call(p.prototype)}else{try{throw Error()}catch(Le){O=Le}d()}}catch(Le){if(Le&&O&&typeof Le.stack=="string"){for(var B=Le.stack.split(`
`),U=O.stack.split(`
`),ee=B.length-1,fe=U.length-1;1<=ee&&0<=fe&&B[ee]!==U[fe];)fe--;for(;1<=ee&&0<=fe;ee--,fe--)if(B[ee]!==U[fe]){if(ee!==1||fe!==1)do if(ee--,fe--,0>fe||B[ee]!==U[fe]){var ge=`
`+B[ee].replace(" at new "," at ");return d.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",d.displayName)),ge}while(1<=ee&&0<=fe);break}}}finally{me=!1,Error.prepareStackTrace=S}return(d=d?d.displayName||d.name:"")?se(d):""}function Ue(d){switch(d.tag){case 5:return se(d.type);case 16:return se("Lazy");case 13:return se("Suspense");case 19:return se("SuspenseList");case 0:case 2:case 15:return d=xe(d.type,!1),d;case 11:return d=xe(d.type.render,!1),d;case 1:return d=xe(d.type,!0),d;default:return""}}function Pe(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case R:return"Fragment";case D:return"Portal";case z:return"Profiler";case $:return"StrictMode";case K:return"Suspense";case q:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case W:return(d.displayName||"Context")+".Consumer";case G:return(d._context.displayName||"Context")+".Provider";case V:var p=d.render;return d=d.displayName,d||(d=p.displayName||p.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case Y:return p=d.displayName||null,p!==null?p:Pe(d.type)||"Memo";case J:p=d._payload,d=d._init;try{return Pe(d(p))}catch{}}return null}function Se(d){var p=d.type;switch(d.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=p.render,d=d.displayName||d.name||"",p.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(p);case 8:return p===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function je(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function Ee(d){var p=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Fe(d){var p=Ee(d)?"checked":"value",S=Object.getOwnPropertyDescriptor(d.constructor.prototype,p),O=""+d[p];if(!d.hasOwnProperty(p)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var B=S.get,U=S.set;return Object.defineProperty(d,p,{configurable:!0,get:function(){return B.call(this)},set:function(ee){O=""+ee,U.call(this,ee)}}),Object.defineProperty(d,p,{enumerable:S.enumerable}),{getValue:function(){return O},setValue:function(ee){O=""+ee},stopTracking:function(){d._valueTracker=null,delete d[p]}}}}function Ce(d){d._valueTracker||(d._valueTracker=Fe(d))}function be(d){if(!d)return!1;var p=d._valueTracker;if(!p)return!0;var S=p.getValue(),O="";return d&&(O=Ee(d)?d.checked?"true":"false":d.value),d=O,d!==S?(p.setValue(d),!0):!1}function He(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function Te(d,p){var S=p.checked;return ue({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:S??d._wrapperState.initialChecked})}function Ge(d,p){var S=p.defaultValue==null?"":p.defaultValue,O=p.checked!=null?p.checked:p.defaultChecked;S=je(p.value!=null?p.value:S),d._wrapperState={initialChecked:O,initialValue:S,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function gt(d,p){p=p.checked,p!=null&&I(d,"checked",p,!1)}function lt(d,p){gt(d,p);var S=je(p.value),O=p.type;if(S!=null)O==="number"?(S===0&&d.value===""||d.value!=S)&&(d.value=""+S):d.value!==""+S&&(d.value=""+S);else if(O==="submit"||O==="reset"){d.removeAttribute("value");return}p.hasOwnProperty("value")?dt(d,p.type,S):p.hasOwnProperty("defaultValue")&&dt(d,p.type,je(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(d.defaultChecked=!!p.defaultChecked)}function Ct(d,p,S){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var O=p.type;if(!(O!=="submit"&&O!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+d._wrapperState.initialValue,S||p===d.value||(d.value=p),d.defaultValue=p}S=d.name,S!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,S!==""&&(d.name=S)}function dt(d,p,S){(p!=="number"||He(d.ownerDocument)!==d)&&(S==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+S&&(d.defaultValue=""+S))}var de=Array.isArray;function he(d,p,S,O){if(d=d.options,p){p={};for(var B=0;B<S.length;B++)p["$"+S[B]]=!0;for(S=0;S<d.length;S++)B=p.hasOwnProperty("$"+d[S].value),d[S].selected!==B&&(d[S].selected=B),B&&O&&(d[S].defaultSelected=!0)}else{for(S=""+je(S),p=null,B=0;B<d.length;B++){if(d[B].value===S){d[B].selected=!0,O&&(d[B].defaultSelected=!0);return}p!==null||d[B].disabled||(p=d[B])}p!==null&&(p.selected=!0)}}function Ie(d,p){if(p.dangerouslySetInnerHTML!=null)throw Error(r(91));return ue({},p,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function Qe(d,p){var S=p.value;if(S==null){if(S=p.children,p=p.defaultValue,S!=null){if(p!=null)throw Error(r(92));if(de(S)){if(1<S.length)throw Error(r(93));S=S[0]}p=S}p==null&&(p=""),S=p}d._wrapperState={initialValue:je(S)}}function Ke(d,p){var S=je(p.value),O=je(p.defaultValue);S!=null&&(S=""+S,S!==d.value&&(d.value=S),p.defaultValue==null&&d.defaultValue!==S&&(d.defaultValue=S)),O!=null&&(d.defaultValue=""+O)}function Ye(d){var p=d.textContent;p===d._wrapperState.initialValue&&p!==""&&p!==null&&(d.value=p)}function Xe(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(d,p){return d==null||d==="http://www.w3.org/1999/xhtml"?Xe(p):d==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var Ft,br=(function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,S,O,B){MSApp.execUnsafeLocalFunction(function(){return d(p,S,O,B)})}:d})(function(d,p){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=p;else{for(Ft=Ft||document.createElement("div"),Ft.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=Ft.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;p.firstChild;)d.appendChild(p.firstChild)}});function an(d,p){if(p){var S=d.firstChild;if(S&&S===d.lastChild&&S.nodeType===3){S.nodeValue=p;return}}d.textContent=p}var tn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Es=["Webkit","ms","Moz","O"];Object.keys(tn).forEach(function(d){Es.forEach(function(p){p=p+d.charAt(0).toUpperCase()+d.substring(1),tn[p]=tn[d]})});function _r(d,p,S){return p==null||typeof p=="boolean"||p===""?"":S||typeof p!="number"||p===0||tn.hasOwnProperty(d)&&tn[d]?(""+p).trim():p+"px"}function tt(d,p){d=d.style;for(var S in p)if(p.hasOwnProperty(S)){var O=S.indexOf("--")===0,B=_r(S,p[S],O);S==="float"&&(S="cssFloat"),O?d.setProperty(S,B):d[S]=B}}var Gr=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gr(d,p){if(p){if(Gr[d]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(r(137,d));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(r(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(r(61))}if(p.style!=null&&typeof p.style!="object")throw Error(r(62))}}function Lr(d,p){if(d.indexOf("-")===-1)return typeof p.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gi=null;function cs(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var fa=null,vr=null,Yn=null;function Ki(d){if(d=fm(d)){if(typeof fa!="function")throw Error(r(280));var p=d.stateNode;p&&(p=v0(p),fa(d.stateNode,d.type,p))}}function Wo(d){vr?Yn?Yn.push(d):Yn=[d]:vr=d}function kt(){if(vr){var d=vr,p=Yn;if(Yn=vr=null,Ki(d),p)for(d=0;d<p.length;d++)Ki(p[d])}}function kr(d,p){return d(p)}function ar(){}var wn=!1;function Xn(d,p,S){if(wn)return d(p,S);wn=!0;try{return kr(d,p,S)}finally{wn=!1,(vr!==null||Yn!==null)&&(ar(),kt())}}function rn(d,p){var S=d.stateNode;if(S===null)return null;var O=v0(S);if(O===null)return null;S=O[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(O=!O.disabled)||(d=d.type,O=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!O;break e;default:d=!1}if(d)return null;if(S&&typeof S!="function")throw Error(r(231,p,typeof S));return S}var Yi=!1;if(c)try{var oe={};Object.defineProperty(oe,"passive",{get:function(){Yi=!0}}),window.addEventListener("test",oe,oe),window.removeEventListener("test",oe,oe)}catch{Yi=!1}function Be(d,p,S,O,B,U,ee,fe,ge){var Le=Array.prototype.slice.call(arguments,3);try{p.apply(S,Le)}catch(et){this.onError(et)}}var ut=!1,Dt=null,yr=!1,at=null,Wr={onError:function(d){ut=!0,Dt=d}};function Zn(d,p,S,O,B,U,ee,fe,ge){ut=!1,Dt=null,Be.apply(Wr,arguments)}function Un(d,p,S,O,B,U,ee,fe,ge){if(Zn.apply(this,arguments),ut){if(ut){var Le=Dt;ut=!1,Dt=null}else throw Error(r(198));yr||(yr=!0,at=Le)}}function Xi(d){var p=d,S=d;if(d.alternate)for(;p.return;)p=p.return;else{d=p;do p=d,(p.flags&4098)!==0&&(S=p.return),d=p.return;while(d)}return p.tag===3?S:null}function eu(d){if(d.tag===13){var p=d.memoizedState;if(p===null&&(d=d.alternate,d!==null&&(p=d.memoizedState)),p!==null)return p.dehydrated}return null}function tu(d){if(Xi(d)!==d)throw Error(r(188))}function ha(d){var p=d.alternate;if(!p){if(p=Xi(d),p===null)throw Error(r(188));return p!==d?null:d}for(var S=d,O=p;;){var B=S.return;if(B===null)break;var U=B.alternate;if(U===null){if(O=B.return,O!==null){S=O;continue}break}if(B.child===U.child){for(U=B.child;U;){if(U===S)return tu(B),d;if(U===O)return tu(B),p;U=U.sibling}throw Error(r(188))}if(S.return!==O.return)S=B,O=U;else{for(var ee=!1,fe=B.child;fe;){if(fe===S){ee=!0,S=B,O=U;break}if(fe===O){ee=!0,O=B,S=U;break}fe=fe.sibling}if(!ee){for(fe=U.child;fe;){if(fe===S){ee=!0,S=U,O=B;break}if(fe===O){ee=!0,O=U,S=B;break}fe=fe.sibling}if(!ee)throw Error(r(189))}}if(S.alternate!==O)throw Error(r(190))}if(S.tag!==3)throw Error(r(188));return S.stateNode.current===S?d:p}function Xg(d){return d=ha(d),d!==null?Zg(d):null}function Zg(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var p=Zg(d);if(p!==null)return p;d=d.sibling}return null}var Us=e.unstable_scheduleCallback,ji=e.unstable_cancelCallback,un=e.unstable_shouldYield,Qg=e.unstable_requestPaint,Kr=e.unstable_now,Hh=e.unstable_getCurrentPriorityLevel,Ve=e.unstable_ImmediatePriority,Jg=e.unstable_UserBlockingPriority,on=e.unstable_NormalPriority,Ul=e.unstable_LowPriority,e0=e.unstable_IdlePriority,Mr=null,xr=null;function Pr(d){if(xr&&typeof xr.onCommitFiberRoot=="function")try{xr.onCommitFiberRoot(Mr,d,void 0,(d.current.flags&128)===128)}catch{}}var us=Math.clz32?Math.clz32:Qn,Gh=Math.log,Kh=Math.LN2;function Qn(d){return d>>>=0,d===0?32:31-(Gh(d)/Kh|0)|0}var $s=64,Td=4194304;function ln(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Vs(d,p){var S=d.pendingLanes;if(S===0)return 0;var O=0,B=d.suspendedLanes,U=d.pingedLanes,ee=S&268435455;if(ee!==0){var fe=ee&~B;fe!==0?O=ln(fe):(U&=ee,U!==0&&(O=ln(U)))}else ee=S&~B,ee!==0?O=ln(ee):U!==0&&(O=ln(U));if(O===0)return 0;if(p!==0&&p!==O&&(p&B)===0&&(B=O&-O,U=p&-p,B>=U||B===16&&(U&4194240)!==0))return p;if((O&4)!==0&&(O|=S&16),p=d.entangledLanes,p!==0)for(d=d.entanglements,p&=O;0<p;)S=31-us(p),B=1<<S,O|=d[S],p&=~B;return O}function fw(d,p){switch(d){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $l(d,p){for(var S=d.suspendedLanes,O=d.pingedLanes,B=d.expirationTimes,U=d.pendingLanes;0<U;){var ee=31-us(U),fe=1<<ee,ge=B[ee];ge===-1?((fe&S)===0||(fe&O)!==0)&&(B[ee]=fw(fe,p)):ge<=p&&(d.expiredLanes|=fe),U&=~fe}}function Yr(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function hi(){var d=$s;return $s<<=1,($s&4194240)===0&&($s=64),d}function Ne(d){for(var p=[],S=0;31>S;S++)p.push(d);return p}function le(d,p,S){d.pendingLanes|=p,p!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,p=31-us(p),d[p]=S}function Lt(d,p){var S=d.pendingLanes&~p;d.pendingLanes=p,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=p,d.mutableReadLanes&=p,d.entangledLanes&=p,p=d.entanglements;var O=d.eventTimes;for(d=d.expirationTimes;0<S;){var B=31-us(S),U=1<<B;p[B]=0,O[B]=-1,d[B]=-1,S&=~U}}function $n(d,p){var S=d.entangledLanes|=p;for(d=d.entanglements;S;){var O=31-us(S),B=1<<O;B&p|d[O]&p&&(d[O]|=p),S&=~B}}var wr=0;function t0(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var kd,Zi,Ut,dn,Yh,Xh=!1,Vl=[],qs=null,ma=null,vo=null,An=new Map,Ba=new Map,Mi=[],Ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function r0(d,p){switch(d){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":vo=null;break;case"pointerover":case"pointerout":An.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ba.delete(p.pointerId)}}function or(d,p,S,O,B,U){return d===null||d.nativeEvent!==U?(d={blockedOn:p,domEventName:S,eventSystemFlags:O,nativeEvent:U,targetContainers:[B]},p!==null&&(p=fm(p),p!==null&&Zi(p)),d):(d.eventSystemFlags|=O,p=d.targetContainers,B!==null&&p.indexOf(B)===-1&&p.push(B),d)}function mi(d,p,S,O,B){switch(p){case"focusin":return qs=or(qs,d,p,S,O,B),!0;case"dragenter":return ma=or(ma,d,p,S,O,B),!0;case"mouseover":return vo=or(vo,d,p,S,O,B),!0;case"pointerover":var U=B.pointerId;return An.set(U,or(An.get(U)||null,d,p,S,O,B)),!0;case"gotpointercapture":return U=B.pointerId,Ba.set(U,or(Ba.get(U)||null,d,p,S,O,B)),!0}return!1}function n0(d){var p=du(d.target);if(p!==null){var S=Xi(p);if(S!==null){if(p=S.tag,p===13){if(p=eu(S),p!==null){d.blockedOn=p,Yh(d.priority,function(){Ut(S)});return}}else if(p===3&&S.stateNode.current.memoizedState.isDehydrated){d.blockedOn=S.tag===3?S.stateNode.containerInfo:null;return}}}d.blockedOn=null}function ql(d){if(d.blockedOn!==null)return!1;for(var p=d.targetContainers;0<p.length;){var S=Pd(d.domEventName,d.eventSystemFlags,p[0],d.nativeEvent);if(S===null){S=d.nativeEvent;var O=new S.constructor(S.type,S);Gi=O,S.target.dispatchEvent(O),Gi=null}else return p=fm(S),p!==null&&Zi(p),d.blockedOn=S,!1;p.shift()}return!0}function Zh(d,p,S){ql(d)&&S.delete(p)}function Ho(){Xh=!1,qs!==null&&ql(qs)&&(qs=null),ma!==null&&ql(ma)&&(ma=null),vo!==null&&ql(vo)&&(vo=null),An.forEach(Zh),Ba.forEach(Zh)}function ru(d,p){d.blockedOn===p&&(d.blockedOn=null,Xh||(Xh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ho)))}function Fa(d){function p(B){return ru(B,d)}if(0<Vl.length){ru(Vl[0],d);for(var S=1;S<Vl.length;S++){var O=Vl[S];O.blockedOn===d&&(O.blockedOn=null)}}for(qs!==null&&ru(qs,d),ma!==null&&ru(ma,d),vo!==null&&ru(vo,d),An.forEach(p),Ba.forEach(p),S=0;S<Mi.length;S++)O=Mi[S],O.blockedOn===d&&(O.blockedOn=null);for(;0<Mi.length&&(S=Mi[0],S.blockedOn===null);)n0(S),S.blockedOn===null&&Mi.shift()}var pa=F.ReactCurrentBatchConfig,yo=!0;function i0(d,p,S,O){var B=wr,U=pa.transition;pa.transition=null;try{wr=1,Go(d,p,S,O)}finally{wr=B,pa.transition=U}}function nu(d,p,S,O){var B=wr,U=pa.transition;pa.transition=null;try{wr=4,Go(d,p,S,O)}finally{wr=B,pa.transition=U}}function Go(d,p,S,O){if(yo){var B=Pd(d,p,S,O);if(B===null)_w(d,p,O,pi,S),r0(d,O);else if(mi(B,d,p,S,O))O.stopPropagation();else if(r0(d,O),p&4&&-1<Ht.indexOf(d)){for(;B!==null;){var U=fm(B);if(U!==null&&kd(U),U=Pd(d,p,S,O),U===null&&_w(d,p,O,pi,S),U===B)break;B=U}B!==null&&O.stopPropagation()}else _w(d,p,O,null,S)}}var pi=null;function Pd(d,p,S,O){if(pi=null,d=cs(O),d=du(d),d!==null)if(p=Xi(d),p===null)d=null;else if(S=p.tag,S===13){if(d=eu(p),d!==null)return d;d=null}else if(S===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;d=null}else p!==d&&(d=null);return pi=d,null}function Qh(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hh()){case Ve:return 1;case Jg:return 4;case on:case Ul:return 16;case e0:return 536870912;default:return 16}default:return 16}}var Ua=null,Jh=null,Id=null;function s0(){if(Id)return Id;var d,p=Jh,S=p.length,O,B="value"in Ua?Ua.value:Ua.textContent,U=B.length;for(d=0;d<S&&p[d]===B[d];d++);var ee=S-d;for(O=1;O<=ee&&p[S-O]===B[U-O];O++);return Id=B.slice(d,1<O?1-O:void 0)}function Br(d){var p=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&p===13&&(d=13)):d=p,d===10&&(d=13),32<=d||d===13?d:0}function iu(){return!0}function su(){return!1}function Vn(d){function p(S,O,B,U,ee){this._reactName=S,this._targetInst=B,this.type=O,this.nativeEvent=U,this.target=ee,this.currentTarget=null;for(var fe in d)d.hasOwnProperty(fe)&&(S=d[fe],this[fe]=S?S(U):U[fe]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?iu:su,this.isPropagationStopped=su,this}return ue(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var S=this.nativeEvent;S&&(S.preventDefault?S.preventDefault():typeof S.returnValue!="unknown"&&(S.returnValue=!1),this.isDefaultPrevented=iu)},stopPropagation:function(){var S=this.nativeEvent;S&&(S.stopPropagation?S.stopPropagation():typeof S.cancelBubble!="unknown"&&(S.cancelBubble=!0),this.isPropagationStopped=iu)},persist:function(){},isPersistent:iu}),p}var zl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},De=Vn(zl),dr=ue({},zl,{view:0,detail:0}),gi=Vn(dr),Wl,Rd,au,Md=ue({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ou,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==au&&(au&&d.type==="mousemove"?(Wl=d.screenX-au.screenX,Rd=d.screenY-au.screenY):Rd=Wl=0,au=d),Wl)},movementY:function(d){return"movementY"in d?d.movementY:Rd}}),a0=Vn(Md),em=ue({},Md,{dataTransfer:0}),Jn=Vn(em),tm=ue({},dr,{relatedTarget:0}),fn=Vn(tm),Dd=ue({},zl,{animationName:0,elapsedTime:0,pseudoElement:0}),Ko=Vn(Dd),Qr=ue({},zl,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),qt=Vn(Qr),hw=ue({},zl,{data:0}),nn=Vn(hw),Yo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ga(d){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(d):(d=mw[d])?!!p[d]:!1}function ou(){return ga}var o0=ue({},dr,{key:function(d){if(d.key){var p=Yo[d.key]||d.key;if(p!=="Unidentified")return p}return d.type==="keypress"?(d=Br(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Hl[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ou,charCode:function(d){return d.type==="keypress"?Br(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Br(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),rm=Vn(o0),l0=ue({},Md,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nm=Vn(l0),pw=ue({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ou}),Gl=Vn(pw),im=ue({},zl,{propertyName:0,elapsedTime:0,pseudoElement:0}),gw=Vn(im),lu=ue({},Md,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),vw=Vn(lu),xo=[9,13,27,32],Kl=c&&"CompositionEvent"in window,Ni=null;c&&"documentMode"in document&&(Ni=document.documentMode);var c0=c&&"TextEvent"in window&&!Ni,zs=c&&(!Kl||Ni&&8<Ni&&11>=Ni),u0=" ",Ld=!1;function d0(d,p){switch(d){case"keyup":return xo.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sm(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Di=!1;function yw(d,p){switch(d){case"compositionend":return sm(p);case"keypress":return p.which!==32?null:(Ld=!0,u0);case"textInput":return d=p.data,d===u0&&Ld?null:d;default:return null}}function am(d,p){if(Di)return d==="compositionend"||!Kl&&d0(d,p)?(d=s0(),Id=Jh=Ua=null,Di=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return zs&&p.locale!=="ko"?null:p.data;default:return null}}var cu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rr(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p==="input"?!!cu[d.type]:p==="textarea"}function uu(d,p,S,O){Wo(O),p=m0(p,"onChange"),0<p.length&&(S=new De("onChange","change",null,S,O),d.push({event:S,listeners:p}))}var X=null,l=null;function f(d){gk(d,0)}function m(d){var p=Ud(d);if(be(p))return d}function y(d,p){if(d==="change")return p}var x=!1;if(c){var _;if(c){var j="oninput"in document;if(!j){var T=document.createElement("div");T.setAttribute("oninput","return;"),j=typeof T.oninput=="function"}_=j}else _=!1;x=_&&(!document.documentMode||9<document.documentMode)}function L(){X&&(X.detachEvent("onpropertychange",H),l=X=null)}function H(d){if(d.propertyName==="value"&&m(l)){var p=[];uu(p,l,d,cs(d)),Xn(f,p)}}function Z(d,p,S){d==="focusin"?(L(),X=p,l=S,X.attachEvent("onpropertychange",H)):d==="focusout"&&L()}function re(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return m(l)}function ce(d,p){if(d==="click")return m(p)}function pe(d,p){if(d==="input"||d==="change")return m(p)}function ve(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var Ae=typeof Object.is=="function"?Object.is:ve;function Me(d,p){if(Ae(d,p))return!0;if(typeof d!="object"||d===null||typeof p!="object"||p===null)return!1;var S=Object.keys(d),O=Object.keys(p);if(S.length!==O.length)return!1;for(O=0;O<S.length;O++){var B=S[O];if(!u.call(p,B)||!Ae(d[B],p[B]))return!1}return!0}function nt(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function it(d,p){var S=nt(d);d=0;for(var O;S;){if(S.nodeType===3){if(O=d+S.textContent.length,d<=p&&O>=p)return{node:S,offset:p-d};d=O}e:{for(;S;){if(S.nextSibling){S=S.nextSibling;break e}S=S.parentNode}S=void 0}S=nt(S)}}function Je(d,p){return d&&p?d===p?!0:d&&d.nodeType===3?!1:p&&p.nodeType===3?Je(d,p.parentNode):"contains"in d?d.contains(p):d.compareDocumentPosition?!!(d.compareDocumentPosition(p)&16):!1:!1}function jr(){for(var d=window,p=He();p instanceof d.HTMLIFrameElement;){try{var S=typeof p.contentWindow.location.href=="string"}catch{S=!1}if(S)d=p.contentWindow;else break;p=He(d.document)}return p}function lr(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p&&(p==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||p==="textarea"||d.contentEditable==="true")}function Qi(d){var p=jr(),S=d.focusedElem,O=d.selectionRange;if(p!==S&&S&&S.ownerDocument&&Je(S.ownerDocument.documentElement,S)){if(O!==null&&lr(S)){if(p=O.start,d=O.end,d===void 0&&(d=p),"selectionStart"in S)S.selectionStart=p,S.selectionEnd=Math.min(d,S.value.length);else if(d=(p=S.ownerDocument||document)&&p.defaultView||window,d.getSelection){d=d.getSelection();var B=S.textContent.length,U=Math.min(O.start,B);O=O.end===void 0?U:Math.min(O.end,B),!d.extend&&U>O&&(B=O,O=U,U=B),B=it(S,U);var ee=it(S,O);B&&ee&&(d.rangeCount!==1||d.anchorNode!==B.node||d.anchorOffset!==B.offset||d.focusNode!==ee.node||d.focusOffset!==ee.offset)&&(p=p.createRange(),p.setStart(B.node,B.offset),d.removeAllRanges(),U>O?(d.addRange(p),d.extend(ee.node,ee.offset)):(p.setEnd(ee.node,ee.offset),d.addRange(p)))}}for(p=[],d=S;d=d.parentNode;)d.nodeType===1&&p.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<p.length;S++)d=p[S],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var Ws=c&&"documentMode"in document&&11>=document.documentMode,ei=null,Hr=null,Pn=null,Li=!1;function Xo(d,p,S){var O=S.window===S?S.document:S.nodeType===9?S:S.ownerDocument;Li||ei==null||ei!==He(O)||(O=ei,"selectionStart"in O&&lr(O)?O={start:O.selectionStart,end:O.selectionEnd}:(O=(O.ownerDocument&&O.ownerDocument.defaultView||window).getSelection(),O={anchorNode:O.anchorNode,anchorOffset:O.anchorOffset,focusNode:O.focusNode,focusOffset:O.focusOffset}),Pn&&Me(Pn,O)||(Pn=O,O=m0(Hr,"onSelect"),0<O.length&&(p=new De("onSelect","select",null,p,S),d.push({event:p,listeners:O}),p.target=ei)))}function $a(d,p){var S={};return S[d.toLowerCase()]=p.toLowerCase(),S["Webkit"+d]="webkit"+p,S["Moz"+d]="moz"+p,S}var Yl={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionend:$a("Transition","TransitionEnd")},om={},lk={};c&&(lk=document.createElement("div").style,"AnimationEvent"in window||(delete Yl.animationend.animation,delete Yl.animationiteration.animation,delete Yl.animationstart.animation),"TransitionEvent"in window||delete Yl.transitionend.transition);function f0(d){if(om[d])return om[d];if(!Yl[d])return d;var p=Yl[d],S;for(S in p)if(p.hasOwnProperty(S)&&S in lk)return om[d]=p[S];return d}var ck=f0("animationend"),uk=f0("animationiteration"),dk=f0("animationstart"),fk=f0("transitionend"),hk=new Map,mk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xl(d,p){hk.set(d,p),s(p,[d])}for(var xw=0;xw<mk.length;xw++){var ww=mk[xw],mG=ww.toLowerCase(),pG=ww[0].toUpperCase()+ww.slice(1);Xl(mG,"on"+pG)}Xl(ck,"onAnimationEnd"),Xl(uk,"onAnimationIteration"),Xl(dk,"onAnimationStart"),Xl("dblclick","onDoubleClick"),Xl("focusin","onFocus"),Xl("focusout","onBlur"),Xl(fk,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gG=new Set("cancel close invalid load scroll toggle".split(" ").concat(lm));function pk(d,p,S){var O=d.type||"unknown-event";d.currentTarget=S,Un(O,p,void 0,d),d.currentTarget=null}function gk(d,p){p=(p&4)!==0;for(var S=0;S<d.length;S++){var O=d[S],B=O.event;O=O.listeners;e:{var U=void 0;if(p)for(var ee=O.length-1;0<=ee;ee--){var fe=O[ee],ge=fe.instance,Le=fe.currentTarget;if(fe=fe.listener,ge!==U&&B.isPropagationStopped())break e;pk(B,fe,Le),U=ge}else for(ee=0;ee<O.length;ee++){if(fe=O[ee],ge=fe.instance,Le=fe.currentTarget,fe=fe.listener,ge!==U&&B.isPropagationStopped())break e;pk(B,fe,Le),U=ge}}}if(yr)throw d=at,yr=!1,at=null,d}function bn(d,p){var S=p[Nw];S===void 0&&(S=p[Nw]=new Set);var O=d+"__bubble";S.has(O)||(vk(p,d,2,!1),S.add(O))}function bw(d,p,S){var O=0;p&&(O|=4),vk(S,d,O,p)}var h0="_reactListening"+Math.random().toString(36).slice(2);function cm(d){if(!d[h0]){d[h0]=!0,n.forEach(function(S){S!=="selectionchange"&&(gG.has(S)||bw(S,!1,d),bw(S,!0,d))});var p=d.nodeType===9?d:d.ownerDocument;p===null||p[h0]||(p[h0]=!0,bw("selectionchange",!1,p))}}function vk(d,p,S,O){switch(Qh(p)){case 1:var B=i0;break;case 4:B=nu;break;default:B=Go}S=B.bind(null,p,S,d),B=void 0,!Yi||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(B=!0),O?B!==void 0?d.addEventListener(p,S,{capture:!0,passive:B}):d.addEventListener(p,S,!0):B!==void 0?d.addEventListener(p,S,{passive:B}):d.addEventListener(p,S,!1)}function _w(d,p,S,O,B){var U=O;if((p&1)===0&&(p&2)===0&&O!==null)e:for(;;){if(O===null)return;var ee=O.tag;if(ee===3||ee===4){var fe=O.stateNode.containerInfo;if(fe===B||fe.nodeType===8&&fe.parentNode===B)break;if(ee===4)for(ee=O.return;ee!==null;){var ge=ee.tag;if((ge===3||ge===4)&&(ge=ee.stateNode.containerInfo,ge===B||ge.nodeType===8&&ge.parentNode===B))return;ee=ee.return}for(;fe!==null;){if(ee=du(fe),ee===null)return;if(ge=ee.tag,ge===5||ge===6){O=U=ee;continue e}fe=fe.parentNode}}O=O.return}Xn(function(){var Le=U,et=cs(S),rt=[];e:{var Ze=hk.get(d);if(Ze!==void 0){var mt=De,At=d;switch(d){case"keypress":if(Br(S)===0)break e;case"keydown":case"keyup":mt=rm;break;case"focusin":At="focus",mt=fn;break;case"focusout":At="blur",mt=fn;break;case"beforeblur":case"afterblur":mt=fn;break;case"click":if(S.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mt=a0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mt=Jn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mt=Gl;break;case ck:case uk:case dk:mt=Ko;break;case fk:mt=gw;break;case"scroll":mt=gi;break;case"wheel":mt=vw;break;case"copy":case"cut":case"paste":mt=qt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mt=nm}var Nt=(p&4)!==0,ti=!Nt&&d==="scroll",Oe=Nt?Ze!==null?Ze+"Capture":null:Ze;Nt=[];for(var we=Le,ke;we!==null;){ke=we;var ot=ke.stateNode;if(ke.tag===5&&ot!==null&&(ke=ot,Oe!==null&&(ot=rn(we,Oe),ot!=null&&Nt.push(um(we,ot,ke)))),ti)break;we=we.return}0<Nt.length&&(Ze=new mt(Ze,At,null,S,et),rt.push({event:Ze,listeners:Nt}))}}if((p&7)===0){e:{if(Ze=d==="mouseover"||d==="pointerover",mt=d==="mouseout"||d==="pointerout",Ze&&S!==Gi&&(At=S.relatedTarget||S.fromElement)&&(du(At)||At[Zo]))break e;if((mt||Ze)&&(Ze=et.window===et?et:(Ze=et.ownerDocument)?Ze.defaultView||Ze.parentWindow:window,mt?(At=S.relatedTarget||S.toElement,mt=Le,At=At?du(At):null,At!==null&&(ti=Xi(At),At!==ti||At.tag!==5&&At.tag!==6)&&(At=null)):(mt=null,At=Le),mt!==At)){if(Nt=a0,ot="onMouseLeave",Oe="onMouseEnter",we="mouse",(d==="pointerout"||d==="pointerover")&&(Nt=nm,ot="onPointerLeave",Oe="onPointerEnter",we="pointer"),ti=mt==null?Ze:Ud(mt),ke=At==null?Ze:Ud(At),Ze=new Nt(ot,we+"leave",mt,S,et),Ze.target=ti,Ze.relatedTarget=ke,ot=null,du(et)===Le&&(Nt=new Nt(Oe,we+"enter",At,S,et),Nt.target=ke,Nt.relatedTarget=ti,ot=Nt),ti=ot,mt&&At)t:{for(Nt=mt,Oe=At,we=0,ke=Nt;ke;ke=Bd(ke))we++;for(ke=0,ot=Oe;ot;ot=Bd(ot))ke++;for(;0<we-ke;)Nt=Bd(Nt),we--;for(;0<ke-we;)Oe=Bd(Oe),ke--;for(;we--;){if(Nt===Oe||Oe!==null&&Nt===Oe.alternate)break t;Nt=Bd(Nt),Oe=Bd(Oe)}Nt=null}else Nt=null;mt!==null&&yk(rt,Ze,mt,Nt,!1),At!==null&&ti!==null&&yk(rt,ti,At,Nt,!0)}}e:{if(Ze=Le?Ud(Le):window,mt=Ze.nodeName&&Ze.nodeName.toLowerCase(),mt==="select"||mt==="input"&&Ze.type==="file")var Pt=y;else if(Rr(Ze))if(x)Pt=pe;else{Pt=re;var zt=Z}else(mt=Ze.nodeName)&&mt.toLowerCase()==="input"&&(Ze.type==="checkbox"||Ze.type==="radio")&&(Pt=ce);if(Pt&&(Pt=Pt(d,Le))){uu(rt,Pt,S,et);break e}zt&&zt(d,Ze,Le),d==="focusout"&&(zt=Ze._wrapperState)&&zt.controlled&&Ze.type==="number"&&dt(Ze,"number",Ze.value)}switch(zt=Le?Ud(Le):window,d){case"focusin":(Rr(zt)||zt.contentEditable==="true")&&(ei=zt,Hr=Le,Pn=null);break;case"focusout":Pn=Hr=ei=null;break;case"mousedown":Li=!0;break;case"contextmenu":case"mouseup":case"dragend":Li=!1,Xo(rt,S,et);break;case"selectionchange":if(Ws)break;case"keydown":case"keyup":Xo(rt,S,et)}var Wt;if(Kl)e:{switch(d){case"compositionstart":var ir="onCompositionStart";break e;case"compositionend":ir="onCompositionEnd";break e;case"compositionupdate":ir="onCompositionUpdate";break e}ir=void 0}else Di?d0(d,S)&&(ir="onCompositionEnd"):d==="keydown"&&S.keyCode===229&&(ir="onCompositionStart");ir&&(zs&&S.locale!=="ko"&&(Di||ir!=="onCompositionStart"?ir==="onCompositionEnd"&&Di&&(Wt=s0()):(Ua=et,Jh="value"in Ua?Ua.value:Ua.textContent,Di=!0)),zt=m0(Le,ir),0<zt.length&&(ir=new nn(ir,d,null,S,et),rt.push({event:ir,listeners:zt}),Wt?ir.data=Wt:(Wt=sm(S),Wt!==null&&(ir.data=Wt)))),(Wt=c0?yw(d,S):am(d,S))&&(Le=m0(Le,"onBeforeInput"),0<Le.length&&(et=new nn("onBeforeInput","beforeinput",null,S,et),rt.push({event:et,listeners:Le}),et.data=Wt))}gk(rt,p)})}function um(d,p,S){return{instance:d,listener:p,currentTarget:S}}function m0(d,p){for(var S=p+"Capture",O=[];d!==null;){var B=d,U=B.stateNode;B.tag===5&&U!==null&&(B=U,U=rn(d,S),U!=null&&O.unshift(um(d,U,B)),U=rn(d,p),U!=null&&O.push(um(d,U,B))),d=d.return}return O}function Bd(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function yk(d,p,S,O,B){for(var U=p._reactName,ee=[];S!==null&&S!==O;){var fe=S,ge=fe.alternate,Le=fe.stateNode;if(ge!==null&&ge===O)break;fe.tag===5&&Le!==null&&(fe=Le,B?(ge=rn(S,U),ge!=null&&ee.unshift(um(S,ge,fe))):B||(ge=rn(S,U),ge!=null&&ee.push(um(S,ge,fe)))),S=S.return}ee.length!==0&&d.push({event:p,listeners:ee})}var vG=/\r\n?/g,yG=/\u0000|\uFFFD/g;function xk(d){return(typeof d=="string"?d:""+d).replace(vG,`
`).replace(yG,"")}function p0(d,p,S){if(p=xk(p),xk(d)!==p&&S)throw Error(r(425))}function g0(){}var Sw=null,Cw=null;function Ew(d,p){return d==="textarea"||d==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var Aw=typeof setTimeout=="function"?setTimeout:void 0,xG=typeof clearTimeout=="function"?clearTimeout:void 0,wk=typeof Promise=="function"?Promise:void 0,wG=typeof queueMicrotask=="function"?queueMicrotask:typeof wk<"u"?function(d){return wk.resolve(null).then(d).catch(bG)}:Aw;function bG(d){setTimeout(function(){throw d})}function jw(d,p){var S=p,O=0;do{var B=S.nextSibling;if(d.removeChild(S),B&&B.nodeType===8)if(S=B.data,S==="/$"){if(O===0){d.removeChild(B),Fa(p);return}O--}else S!=="$"&&S!=="$?"&&S!=="$!"||O++;S=B}while(S);Fa(p)}function Zl(d){for(;d!=null;d=d.nextSibling){var p=d.nodeType;if(p===1||p===3)break;if(p===8){if(p=d.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return d}function bk(d){d=d.previousSibling;for(var p=0;d;){if(d.nodeType===8){var S=d.data;if(S==="$"||S==="$!"||S==="$?"){if(p===0)return d;p--}else S==="/$"&&p++}d=d.previousSibling}return null}var Fd=Math.random().toString(36).slice(2),wo="__reactFiber$"+Fd,dm="__reactProps$"+Fd,Zo="__reactContainer$"+Fd,Nw="__reactEvents$"+Fd,_G="__reactListeners$"+Fd,SG="__reactHandles$"+Fd;function du(d){var p=d[wo];if(p)return p;for(var S=d.parentNode;S;){if(p=S[Zo]||S[wo]){if(S=p.alternate,p.child!==null||S!==null&&S.child!==null)for(d=bk(d);d!==null;){if(S=d[wo])return S;d=bk(d)}return p}d=S,S=d.parentNode}return null}function fm(d){return d=d[wo]||d[Zo],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function Ud(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(r(33))}function v0(d){return d[dm]||null}var Ow=[],$d=-1;function Ql(d){return{current:d}}function _n(d){0>$d||(d.current=Ow[$d],Ow[$d]=null,$d--)}function hn(d,p){$d++,Ow[$d]=d.current,d.current=p}var Jl={},Ji=Ql(Jl),As=Ql(!1),fu=Jl;function Vd(d,p){var S=d.type.contextTypes;if(!S)return Jl;var O=d.stateNode;if(O&&O.__reactInternalMemoizedUnmaskedChildContext===p)return O.__reactInternalMemoizedMaskedChildContext;var B={},U;for(U in S)B[U]=p[U];return O&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=p,d.__reactInternalMemoizedMaskedChildContext=B),B}function js(d){return d=d.childContextTypes,d!=null}function y0(){_n(As),_n(Ji)}function _k(d,p,S){if(Ji.current!==Jl)throw Error(r(168));hn(Ji,p),hn(As,S)}function Sk(d,p,S){var O=d.stateNode;if(p=p.childContextTypes,typeof O.getChildContext!="function")return S;O=O.getChildContext();for(var B in O)if(!(B in p))throw Error(r(108,Se(d)||"Unknown",B));return ue({},S,O)}function x0(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Jl,fu=Ji.current,hn(Ji,d),hn(As,As.current),!0}function Ck(d,p,S){var O=d.stateNode;if(!O)throw Error(r(169));S?(d=Sk(d,p,fu),O.__reactInternalMemoizedMergedChildContext=d,_n(As),_n(Ji),hn(Ji,d)):_n(As),hn(As,S)}var Qo=null,w0=!1,Tw=!1;function Ek(d){Qo===null?Qo=[d]:Qo.push(d)}function CG(d){w0=!0,Ek(d)}function ec(){if(!Tw&&Qo!==null){Tw=!0;var d=0,p=wr;try{var S=Qo;for(wr=1;d<S.length;d++){var O=S[d];do O=O(!0);while(O!==null)}Qo=null,w0=!1}catch(B){throw Qo!==null&&(Qo=Qo.slice(d+1)),Us(Ve,ec),B}finally{wr=p,Tw=!1}}return null}var qd=[],zd=0,b0=null,_0=0,va=[],ya=0,hu=null,Jo=1,el="";function mu(d,p){qd[zd++]=_0,qd[zd++]=b0,b0=d,_0=p}function Ak(d,p,S){va[ya++]=Jo,va[ya++]=el,va[ya++]=hu,hu=d;var O=Jo;d=el;var B=32-us(O)-1;O&=~(1<<B),S+=1;var U=32-us(p)+B;if(30<U){var ee=B-B%5;U=(O&(1<<ee)-1).toString(32),O>>=ee,B-=ee,Jo=1<<32-us(p)+B|S<<B|O,el=U+d}else Jo=1<<U|S<<B|O,el=d}function kw(d){d.return!==null&&(mu(d,1),Ak(d,1,0))}function Pw(d){for(;d===b0;)b0=qd[--zd],qd[zd]=null,_0=qd[--zd],qd[zd]=null;for(;d===hu;)hu=va[--ya],va[ya]=null,el=va[--ya],va[ya]=null,Jo=va[--ya],va[ya]=null}var Hs=null,Gs=null,jn=!1,Va=null;function jk(d,p){var S=_a(5,null,null,0);S.elementType="DELETED",S.stateNode=p,S.return=d,p=d.deletions,p===null?(d.deletions=[S],d.flags|=16):p.push(S)}function Nk(d,p){switch(d.tag){case 5:var S=d.type;return p=p.nodeType!==1||S.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(d.stateNode=p,Hs=d,Gs=Zl(p.firstChild),!0):!1;case 6:return p=d.pendingProps===""||p.nodeType!==3?null:p,p!==null?(d.stateNode=p,Hs=d,Gs=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(S=hu!==null?{id:Jo,overflow:el}:null,d.memoizedState={dehydrated:p,treeContext:S,retryLane:1073741824},S=_a(18,null,null,0),S.stateNode=p,S.return=d,d.child=S,Hs=d,Gs=null,!0):!1;default:return!1}}function Iw(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Rw(d){if(jn){var p=Gs;if(p){var S=p;if(!Nk(d,p)){if(Iw(d))throw Error(r(418));p=Zl(S.nextSibling);var O=Hs;p&&Nk(d,p)?jk(O,S):(d.flags=d.flags&-4097|2,jn=!1,Hs=d)}}else{if(Iw(d))throw Error(r(418));d.flags=d.flags&-4097|2,jn=!1,Hs=d}}}function Ok(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Hs=d}function S0(d){if(d!==Hs)return!1;if(!jn)return Ok(d),jn=!0,!1;var p;if((p=d.tag!==3)&&!(p=d.tag!==5)&&(p=d.type,p=p!=="head"&&p!=="body"&&!Ew(d.type,d.memoizedProps)),p&&(p=Gs)){if(Iw(d))throw Tk(),Error(r(418));for(;p;)jk(d,p),p=Zl(p.nextSibling)}if(Ok(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));e:{for(d=d.nextSibling,p=0;d;){if(d.nodeType===8){var S=d.data;if(S==="/$"){if(p===0){Gs=Zl(d.nextSibling);break e}p--}else S!=="$"&&S!=="$!"&&S!=="$?"||p++}d=d.nextSibling}Gs=null}}else Gs=Hs?Zl(d.stateNode.nextSibling):null;return!0}function Tk(){for(var d=Gs;d;)d=Zl(d.nextSibling)}function Wd(){Gs=Hs=null,jn=!1}function Mw(d){Va===null?Va=[d]:Va.push(d)}var EG=F.ReactCurrentBatchConfig;function hm(d,p,S){if(d=S.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(r(309));var O=S.stateNode}if(!O)throw Error(r(147,d));var B=O,U=""+d;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===U?p.ref:(p=function(ee){var fe=B.refs;ee===null?delete fe[U]:fe[U]=ee},p._stringRef=U,p)}if(typeof d!="string")throw Error(r(284));if(!S._owner)throw Error(r(290,d))}return d}function C0(d,p){throw d=Object.prototype.toString.call(p),Error(r(31,d==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":d))}function kk(d){var p=d._init;return p(d._payload)}function Pk(d){function p(Oe,we){if(d){var ke=Oe.deletions;ke===null?(Oe.deletions=[we],Oe.flags|=16):ke.push(we)}}function S(Oe,we){if(!d)return null;for(;we!==null;)p(Oe,we),we=we.sibling;return null}function O(Oe,we){for(Oe=new Map;we!==null;)we.key!==null?Oe.set(we.key,we):Oe.set(we.index,we),we=we.sibling;return Oe}function B(Oe,we){return Oe=lc(Oe,we),Oe.index=0,Oe.sibling=null,Oe}function U(Oe,we,ke){return Oe.index=ke,d?(ke=Oe.alternate,ke!==null?(ke=ke.index,ke<we?(Oe.flags|=2,we):ke):(Oe.flags|=2,we)):(Oe.flags|=1048576,we)}function ee(Oe){return d&&Oe.alternate===null&&(Oe.flags|=2),Oe}function fe(Oe,we,ke,ot){return we===null||we.tag!==6?(we=Ab(ke,Oe.mode,ot),we.return=Oe,we):(we=B(we,ke),we.return=Oe,we)}function ge(Oe,we,ke,ot){var Pt=ke.type;return Pt===R?et(Oe,we,ke.props.children,ot,ke.key):we!==null&&(we.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===J&&kk(Pt)===we.type)?(ot=B(we,ke.props),ot.ref=hm(Oe,we,ke),ot.return=Oe,ot):(ot=K0(ke.type,ke.key,ke.props,null,Oe.mode,ot),ot.ref=hm(Oe,we,ke),ot.return=Oe,ot)}function Le(Oe,we,ke,ot){return we===null||we.tag!==4||we.stateNode.containerInfo!==ke.containerInfo||we.stateNode.implementation!==ke.implementation?(we=jb(ke,Oe.mode,ot),we.return=Oe,we):(we=B(we,ke.children||[]),we.return=Oe,we)}function et(Oe,we,ke,ot,Pt){return we===null||we.tag!==7?(we=_u(ke,Oe.mode,ot,Pt),we.return=Oe,we):(we=B(we,ke),we.return=Oe,we)}function rt(Oe,we,ke){if(typeof we=="string"&&we!==""||typeof we=="number")return we=Ab(""+we,Oe.mode,ke),we.return=Oe,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case M:return ke=K0(we.type,we.key,we.props,null,Oe.mode,ke),ke.ref=hm(Oe,null,we),ke.return=Oe,ke;case D:return we=jb(we,Oe.mode,ke),we.return=Oe,we;case J:var ot=we._init;return rt(Oe,ot(we._payload),ke)}if(de(we)||Q(we))return we=_u(we,Oe.mode,ke,null),we.return=Oe,we;C0(Oe,we)}return null}function Ze(Oe,we,ke,ot){var Pt=we!==null?we.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number")return Pt!==null?null:fe(Oe,we,""+ke,ot);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case M:return ke.key===Pt?ge(Oe,we,ke,ot):null;case D:return ke.key===Pt?Le(Oe,we,ke,ot):null;case J:return Pt=ke._init,Ze(Oe,we,Pt(ke._payload),ot)}if(de(ke)||Q(ke))return Pt!==null?null:et(Oe,we,ke,ot,null);C0(Oe,ke)}return null}function mt(Oe,we,ke,ot,Pt){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return Oe=Oe.get(ke)||null,fe(we,Oe,""+ot,Pt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case M:return Oe=Oe.get(ot.key===null?ke:ot.key)||null,ge(we,Oe,ot,Pt);case D:return Oe=Oe.get(ot.key===null?ke:ot.key)||null,Le(we,Oe,ot,Pt);case J:var zt=ot._init;return mt(Oe,we,ke,zt(ot._payload),Pt)}if(de(ot)||Q(ot))return Oe=Oe.get(ke)||null,et(we,Oe,ot,Pt,null);C0(we,ot)}return null}function At(Oe,we,ke,ot){for(var Pt=null,zt=null,Wt=we,ir=we=0,ki=null;Wt!==null&&ir<ke.length;ir++){Wt.index>ir?(ki=Wt,Wt=null):ki=Wt.sibling;var Vr=Ze(Oe,Wt,ke[ir],ot);if(Vr===null){Wt===null&&(Wt=ki);break}d&&Wt&&Vr.alternate===null&&p(Oe,Wt),we=U(Vr,we,ir),zt===null?Pt=Vr:zt.sibling=Vr,zt=Vr,Wt=ki}if(ir===ke.length)return S(Oe,Wt),jn&&mu(Oe,ir),Pt;if(Wt===null){for(;ir<ke.length;ir++)Wt=rt(Oe,ke[ir],ot),Wt!==null&&(we=U(Wt,we,ir),zt===null?Pt=Wt:zt.sibling=Wt,zt=Wt);return jn&&mu(Oe,ir),Pt}for(Wt=O(Oe,Wt);ir<ke.length;ir++)ki=mt(Wt,Oe,ir,ke[ir],ot),ki!==null&&(d&&ki.alternate!==null&&Wt.delete(ki.key===null?ir:ki.key),we=U(ki,we,ir),zt===null?Pt=ki:zt.sibling=ki,zt=ki);return d&&Wt.forEach(function(cc){return p(Oe,cc)}),jn&&mu(Oe,ir),Pt}function Nt(Oe,we,ke,ot){var Pt=Q(ke);if(typeof Pt!="function")throw Error(r(150));if(ke=Pt.call(ke),ke==null)throw Error(r(151));for(var zt=Pt=null,Wt=we,ir=we=0,ki=null,Vr=ke.next();Wt!==null&&!Vr.done;ir++,Vr=ke.next()){Wt.index>ir?(ki=Wt,Wt=null):ki=Wt.sibling;var cc=Ze(Oe,Wt,Vr.value,ot);if(cc===null){Wt===null&&(Wt=ki);break}d&&Wt&&cc.alternate===null&&p(Oe,Wt),we=U(cc,we,ir),zt===null?Pt=cc:zt.sibling=cc,zt=cc,Wt=ki}if(Vr.done)return S(Oe,Wt),jn&&mu(Oe,ir),Pt;if(Wt===null){for(;!Vr.done;ir++,Vr=ke.next())Vr=rt(Oe,Vr.value,ot),Vr!==null&&(we=U(Vr,we,ir),zt===null?Pt=Vr:zt.sibling=Vr,zt=Vr);return jn&&mu(Oe,ir),Pt}for(Wt=O(Oe,Wt);!Vr.done;ir++,Vr=ke.next())Vr=mt(Wt,Oe,ir,Vr.value,ot),Vr!==null&&(d&&Vr.alternate!==null&&Wt.delete(Vr.key===null?ir:Vr.key),we=U(Vr,we,ir),zt===null?Pt=Vr:zt.sibling=Vr,zt=Vr);return d&&Wt.forEach(function(iK){return p(Oe,iK)}),jn&&mu(Oe,ir),Pt}function ti(Oe,we,ke,ot){if(typeof ke=="object"&&ke!==null&&ke.type===R&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case M:e:{for(var Pt=ke.key,zt=we;zt!==null;){if(zt.key===Pt){if(Pt=ke.type,Pt===R){if(zt.tag===7){S(Oe,zt.sibling),we=B(zt,ke.props.children),we.return=Oe,Oe=we;break e}}else if(zt.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===J&&kk(Pt)===zt.type){S(Oe,zt.sibling),we=B(zt,ke.props),we.ref=hm(Oe,zt,ke),we.return=Oe,Oe=we;break e}S(Oe,zt);break}else p(Oe,zt);zt=zt.sibling}ke.type===R?(we=_u(ke.props.children,Oe.mode,ot,ke.key),we.return=Oe,Oe=we):(ot=K0(ke.type,ke.key,ke.props,null,Oe.mode,ot),ot.ref=hm(Oe,we,ke),ot.return=Oe,Oe=ot)}return ee(Oe);case D:e:{for(zt=ke.key;we!==null;){if(we.key===zt)if(we.tag===4&&we.stateNode.containerInfo===ke.containerInfo&&we.stateNode.implementation===ke.implementation){S(Oe,we.sibling),we=B(we,ke.children||[]),we.return=Oe,Oe=we;break e}else{S(Oe,we);break}else p(Oe,we);we=we.sibling}we=jb(ke,Oe.mode,ot),we.return=Oe,Oe=we}return ee(Oe);case J:return zt=ke._init,ti(Oe,we,zt(ke._payload),ot)}if(de(ke))return At(Oe,we,ke,ot);if(Q(ke))return Nt(Oe,we,ke,ot);C0(Oe,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"?(ke=""+ke,we!==null&&we.tag===6?(S(Oe,we.sibling),we=B(we,ke),we.return=Oe,Oe=we):(S(Oe,we),we=Ab(ke,Oe.mode,ot),we.return=Oe,Oe=we),ee(Oe)):S(Oe,we)}return ti}var Hd=Pk(!0),Ik=Pk(!1),E0=Ql(null),A0=null,Gd=null,Dw=null;function Lw(){Dw=Gd=A0=null}function Bw(d){var p=E0.current;_n(E0),d._currentValue=p}function Fw(d,p,S){for(;d!==null;){var O=d.alternate;if((d.childLanes&p)!==p?(d.childLanes|=p,O!==null&&(O.childLanes|=p)):O!==null&&(O.childLanes&p)!==p&&(O.childLanes|=p),d===S)break;d=d.return}}function Kd(d,p){A0=d,Dw=Gd=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&p)!==0&&(Ns=!0),d.firstContext=null)}function xa(d){var p=d._currentValue;if(Dw!==d)if(d={context:d,memoizedValue:p,next:null},Gd===null){if(A0===null)throw Error(r(308));Gd=d,A0.dependencies={lanes:0,firstContext:d}}else Gd=Gd.next=d;return p}var pu=null;function Uw(d){pu===null?pu=[d]:pu.push(d)}function Rk(d,p,S,O){var B=p.interleaved;return B===null?(S.next=S,Uw(p)):(S.next=B.next,B.next=S),p.interleaved=S,tl(d,O)}function tl(d,p){d.lanes|=p;var S=d.alternate;for(S!==null&&(S.lanes|=p),S=d,d=d.return;d!==null;)d.childLanes|=p,S=d.alternate,S!==null&&(S.childLanes|=p),S=d,d=d.return;return S.tag===3?S.stateNode:null}var tc=!1;function $w(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mk(d,p){d=d.updateQueue,p.updateQueue===d&&(p.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function rl(d,p){return{eventTime:d,lane:p,tag:0,payload:null,callback:null,next:null}}function rc(d,p,S){var O=d.updateQueue;if(O===null)return null;if(O=O.shared,(Fr&2)!==0){var B=O.pending;return B===null?p.next=p:(p.next=B.next,B.next=p),O.pending=p,tl(d,S)}return B=O.interleaved,B===null?(p.next=p,Uw(O)):(p.next=B.next,B.next=p),O.interleaved=p,tl(d,S)}function j0(d,p,S){if(p=p.updateQueue,p!==null&&(p=p.shared,(S&4194240)!==0)){var O=p.lanes;O&=d.pendingLanes,S|=O,p.lanes=S,$n(d,S)}}function Dk(d,p){var S=d.updateQueue,O=d.alternate;if(O!==null&&(O=O.updateQueue,S===O)){var B=null,U=null;if(S=S.firstBaseUpdate,S!==null){do{var ee={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};U===null?B=U=ee:U=U.next=ee,S=S.next}while(S!==null);U===null?B=U=p:U=U.next=p}else B=U=p;S={baseState:O.baseState,firstBaseUpdate:B,lastBaseUpdate:U,shared:O.shared,effects:O.effects},d.updateQueue=S;return}d=S.lastBaseUpdate,d===null?S.firstBaseUpdate=p:d.next=p,S.lastBaseUpdate=p}function N0(d,p,S,O){var B=d.updateQueue;tc=!1;var U=B.firstBaseUpdate,ee=B.lastBaseUpdate,fe=B.shared.pending;if(fe!==null){B.shared.pending=null;var ge=fe,Le=ge.next;ge.next=null,ee===null?U=Le:ee.next=Le,ee=ge;var et=d.alternate;et!==null&&(et=et.updateQueue,fe=et.lastBaseUpdate,fe!==ee&&(fe===null?et.firstBaseUpdate=Le:fe.next=Le,et.lastBaseUpdate=ge))}if(U!==null){var rt=B.baseState;ee=0,et=Le=ge=null,fe=U;do{var Ze=fe.lane,mt=fe.eventTime;if((O&Ze)===Ze){et!==null&&(et=et.next={eventTime:mt,lane:0,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null});e:{var At=d,Nt=fe;switch(Ze=p,mt=S,Nt.tag){case 1:if(At=Nt.payload,typeof At=="function"){rt=At.call(mt,rt,Ze);break e}rt=At;break e;case 3:At.flags=At.flags&-65537|128;case 0:if(At=Nt.payload,Ze=typeof At=="function"?At.call(mt,rt,Ze):At,Ze==null)break e;rt=ue({},rt,Ze);break e;case 2:tc=!0}}fe.callback!==null&&fe.lane!==0&&(d.flags|=64,Ze=B.effects,Ze===null?B.effects=[fe]:Ze.push(fe))}else mt={eventTime:mt,lane:Ze,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},et===null?(Le=et=mt,ge=rt):et=et.next=mt,ee|=Ze;if(fe=fe.next,fe===null){if(fe=B.shared.pending,fe===null)break;Ze=fe,fe=Ze.next,Ze.next=null,B.lastBaseUpdate=Ze,B.shared.pending=null}}while(!0);if(et===null&&(ge=rt),B.baseState=ge,B.firstBaseUpdate=Le,B.lastBaseUpdate=et,p=B.shared.interleaved,p!==null){B=p;do ee|=B.lane,B=B.next;while(B!==p)}else U===null&&(B.shared.lanes=0);yu|=ee,d.lanes=ee,d.memoizedState=rt}}function Lk(d,p,S){if(d=p.effects,p.effects=null,d!==null)for(p=0;p<d.length;p++){var O=d[p],B=O.callback;if(B!==null){if(O.callback=null,O=S,typeof B!="function")throw Error(r(191,B));B.call(O)}}}var mm={},bo=Ql(mm),pm=Ql(mm),gm=Ql(mm);function gu(d){if(d===mm)throw Error(r(174));return d}function Vw(d,p){switch(hn(gm,p),hn(pm,d),hn(bo,mm),d=p.nodeType,d){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:vt(null,"");break;default:d=d===8?p.parentNode:p,p=d.namespaceURI||null,d=d.tagName,p=vt(p,d)}_n(bo),hn(bo,p)}function Yd(){_n(bo),_n(pm),_n(gm)}function Bk(d){gu(gm.current);var p=gu(bo.current),S=vt(p,d.type);p!==S&&(hn(pm,d),hn(bo,S))}function qw(d){pm.current===d&&(_n(bo),_n(pm))}var In=Ql(0);function O0(d){for(var p=d;p!==null;){if(p.tag===13){var S=p.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||S.data==="$?"||S.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var zw=[];function Ww(){for(var d=0;d<zw.length;d++)zw[d]._workInProgressVersionPrimary=null;zw.length=0}var T0=F.ReactCurrentDispatcher,Hw=F.ReactCurrentBatchConfig,vu=0,Rn=null,vi=null,Oi=null,k0=!1,vm=!1,ym=0,AG=0;function es(){throw Error(r(321))}function Gw(d,p){if(p===null)return!1;for(var S=0;S<p.length&&S<d.length;S++)if(!Ae(d[S],p[S]))return!1;return!0}function Kw(d,p,S,O,B,U){if(vu=U,Rn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,T0.current=d===null||d.memoizedState===null?TG:kG,d=S(O,B),vm){U=0;do{if(vm=!1,ym=0,25<=U)throw Error(r(301));U+=1,Oi=vi=null,p.updateQueue=null,T0.current=PG,d=S(O,B)}while(vm)}if(T0.current=R0,p=vi!==null&&vi.next!==null,vu=0,Oi=vi=Rn=null,k0=!1,p)throw Error(r(300));return d}function Yw(){var d=ym!==0;return ym=0,d}function _o(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oi===null?Rn.memoizedState=Oi=d:Oi=Oi.next=d,Oi}function wa(){if(vi===null){var d=Rn.alternate;d=d!==null?d.memoizedState:null}else d=vi.next;var p=Oi===null?Rn.memoizedState:Oi.next;if(p!==null)Oi=p,vi=d;else{if(d===null)throw Error(r(310));vi=d,d={memoizedState:vi.memoizedState,baseState:vi.baseState,baseQueue:vi.baseQueue,queue:vi.queue,next:null},Oi===null?Rn.memoizedState=Oi=d:Oi=Oi.next=d}return Oi}function xm(d,p){return typeof p=="function"?p(d):p}function Xw(d){var p=wa(),S=p.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=d;var O=vi,B=O.baseQueue,U=S.pending;if(U!==null){if(B!==null){var ee=B.next;B.next=U.next,U.next=ee}O.baseQueue=B=U,S.pending=null}if(B!==null){U=B.next,O=O.baseState;var fe=ee=null,ge=null,Le=U;do{var et=Le.lane;if((vu&et)===et)ge!==null&&(ge=ge.next={lane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),O=Le.hasEagerState?Le.eagerState:d(O,Le.action);else{var rt={lane:et,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null};ge===null?(fe=ge=rt,ee=O):ge=ge.next=rt,Rn.lanes|=et,yu|=et}Le=Le.next}while(Le!==null&&Le!==U);ge===null?ee=O:ge.next=fe,Ae(O,p.memoizedState)||(Ns=!0),p.memoizedState=O,p.baseState=ee,p.baseQueue=ge,S.lastRenderedState=O}if(d=S.interleaved,d!==null){B=d;do U=B.lane,Rn.lanes|=U,yu|=U,B=B.next;while(B!==d)}else B===null&&(S.lanes=0);return[p.memoizedState,S.dispatch]}function Zw(d){var p=wa(),S=p.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=d;var O=S.dispatch,B=S.pending,U=p.memoizedState;if(B!==null){S.pending=null;var ee=B=B.next;do U=d(U,ee.action),ee=ee.next;while(ee!==B);Ae(U,p.memoizedState)||(Ns=!0),p.memoizedState=U,p.baseQueue===null&&(p.baseState=U),S.lastRenderedState=U}return[U,O]}function Fk(){}function Uk(d,p){var S=Rn,O=wa(),B=p(),U=!Ae(O.memoizedState,B);if(U&&(O.memoizedState=B,Ns=!0),O=O.queue,Qw(qk.bind(null,S,O,d),[d]),O.getSnapshot!==p||U||Oi!==null&&Oi.memoizedState.tag&1){if(S.flags|=2048,wm(9,Vk.bind(null,S,O,B,p),void 0,null),Ti===null)throw Error(r(349));(vu&30)!==0||$k(S,p,B)}return B}function $k(d,p,S){d.flags|=16384,d={getSnapshot:p,value:S},p=Rn.updateQueue,p===null?(p={lastEffect:null,stores:null},Rn.updateQueue=p,p.stores=[d]):(S=p.stores,S===null?p.stores=[d]:S.push(d))}function Vk(d,p,S,O){p.value=S,p.getSnapshot=O,zk(p)&&Wk(d)}function qk(d,p,S){return S(function(){zk(p)&&Wk(d)})}function zk(d){var p=d.getSnapshot;d=d.value;try{var S=p();return!Ae(d,S)}catch{return!0}}function Wk(d){var p=tl(d,1);p!==null&&Ha(p,d,1,-1)}function Hk(d){var p=_o();return typeof d=="function"&&(d=d()),p.memoizedState=p.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xm,lastRenderedState:d},p.queue=d,d=d.dispatch=OG.bind(null,Rn,d),[p.memoizedState,d]}function wm(d,p,S,O){return d={tag:d,create:p,destroy:S,deps:O,next:null},p=Rn.updateQueue,p===null?(p={lastEffect:null,stores:null},Rn.updateQueue=p,p.lastEffect=d.next=d):(S=p.lastEffect,S===null?p.lastEffect=d.next=d:(O=S.next,S.next=d,d.next=O,p.lastEffect=d)),d}function Gk(){return wa().memoizedState}function P0(d,p,S,O){var B=_o();Rn.flags|=d,B.memoizedState=wm(1|p,S,void 0,O===void 0?null:O)}function I0(d,p,S,O){var B=wa();O=O===void 0?null:O;var U=void 0;if(vi!==null){var ee=vi.memoizedState;if(U=ee.destroy,O!==null&&Gw(O,ee.deps)){B.memoizedState=wm(p,S,U,O);return}}Rn.flags|=d,B.memoizedState=wm(1|p,S,U,O)}function Kk(d,p){return P0(8390656,8,d,p)}function Qw(d,p){return I0(2048,8,d,p)}function Yk(d,p){return I0(4,2,d,p)}function Xk(d,p){return I0(4,4,d,p)}function Zk(d,p){if(typeof p=="function")return d=d(),p(d),function(){p(null)};if(p!=null)return d=d(),p.current=d,function(){p.current=null}}function Qk(d,p,S){return S=S!=null?S.concat([d]):null,I0(4,4,Zk.bind(null,p,d),S)}function Jw(){}function Jk(d,p){var S=wa();p=p===void 0?null:p;var O=S.memoizedState;return O!==null&&p!==null&&Gw(p,O[1])?O[0]:(S.memoizedState=[d,p],d)}function eP(d,p){var S=wa();p=p===void 0?null:p;var O=S.memoizedState;return O!==null&&p!==null&&Gw(p,O[1])?O[0]:(d=d(),S.memoizedState=[d,p],d)}function tP(d,p,S){return(vu&21)===0?(d.baseState&&(d.baseState=!1,Ns=!0),d.memoizedState=S):(Ae(S,p)||(S=hi(),Rn.lanes|=S,yu|=S,d.baseState=!0),p)}function jG(d,p){var S=wr;wr=S!==0&&4>S?S:4,d(!0);var O=Hw.transition;Hw.transition={};try{d(!1),p()}finally{wr=S,Hw.transition=O}}function rP(){return wa().memoizedState}function NG(d,p,S){var O=ac(d);if(S={lane:O,action:S,hasEagerState:!1,eagerState:null,next:null},nP(d))iP(p,S);else if(S=Rk(d,p,S,O),S!==null){var B=fs();Ha(S,d,O,B),sP(S,p,O)}}function OG(d,p,S){var O=ac(d),B={lane:O,action:S,hasEagerState:!1,eagerState:null,next:null};if(nP(d))iP(p,B);else{var U=d.alternate;if(d.lanes===0&&(U===null||U.lanes===0)&&(U=p.lastRenderedReducer,U!==null))try{var ee=p.lastRenderedState,fe=U(ee,S);if(B.hasEagerState=!0,B.eagerState=fe,Ae(fe,ee)){var ge=p.interleaved;ge===null?(B.next=B,Uw(p)):(B.next=ge.next,ge.next=B),p.interleaved=B;return}}catch{}finally{}S=Rk(d,p,B,O),S!==null&&(B=fs(),Ha(S,d,O,B),sP(S,p,O))}}function nP(d){var p=d.alternate;return d===Rn||p!==null&&p===Rn}function iP(d,p){vm=k0=!0;var S=d.pending;S===null?p.next=p:(p.next=S.next,S.next=p),d.pending=p}function sP(d,p,S){if((S&4194240)!==0){var O=p.lanes;O&=d.pendingLanes,S|=O,p.lanes=S,$n(d,S)}}var R0={readContext:xa,useCallback:es,useContext:es,useEffect:es,useImperativeHandle:es,useInsertionEffect:es,useLayoutEffect:es,useMemo:es,useReducer:es,useRef:es,useState:es,useDebugValue:es,useDeferredValue:es,useTransition:es,useMutableSource:es,useSyncExternalStore:es,useId:es,unstable_isNewReconciler:!1},TG={readContext:xa,useCallback:function(d,p){return _o().memoizedState=[d,p===void 0?null:p],d},useContext:xa,useEffect:Kk,useImperativeHandle:function(d,p,S){return S=S!=null?S.concat([d]):null,P0(4194308,4,Zk.bind(null,p,d),S)},useLayoutEffect:function(d,p){return P0(4194308,4,d,p)},useInsertionEffect:function(d,p){return P0(4,2,d,p)},useMemo:function(d,p){var S=_o();return p=p===void 0?null:p,d=d(),S.memoizedState=[d,p],d},useReducer:function(d,p,S){var O=_o();return p=S!==void 0?S(p):p,O.memoizedState=O.baseState=p,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:p},O.queue=d,d=d.dispatch=NG.bind(null,Rn,d),[O.memoizedState,d]},useRef:function(d){var p=_o();return d={current:d},p.memoizedState=d},useState:Hk,useDebugValue:Jw,useDeferredValue:function(d){return _o().memoizedState=d},useTransition:function(){var d=Hk(!1),p=d[0];return d=jG.bind(null,d[1]),_o().memoizedState=d,[p,d]},useMutableSource:function(){},useSyncExternalStore:function(d,p,S){var O=Rn,B=_o();if(jn){if(S===void 0)throw Error(r(407));S=S()}else{if(S=p(),Ti===null)throw Error(r(349));(vu&30)!==0||$k(O,p,S)}B.memoizedState=S;var U={value:S,getSnapshot:p};return B.queue=U,Kk(qk.bind(null,O,U,d),[d]),O.flags|=2048,wm(9,Vk.bind(null,O,U,S,p),void 0,null),S},useId:function(){var d=_o(),p=Ti.identifierPrefix;if(jn){var S=el,O=Jo;S=(O&~(1<<32-us(O)-1)).toString(32)+S,p=":"+p+"R"+S,S=ym++,0<S&&(p+="H"+S.toString(32)),p+=":"}else S=AG++,p=":"+p+"r"+S.toString(32)+":";return d.memoizedState=p},unstable_isNewReconciler:!1},kG={readContext:xa,useCallback:Jk,useContext:xa,useEffect:Qw,useImperativeHandle:Qk,useInsertionEffect:Yk,useLayoutEffect:Xk,useMemo:eP,useReducer:Xw,useRef:Gk,useState:function(){return Xw(xm)},useDebugValue:Jw,useDeferredValue:function(d){var p=wa();return tP(p,vi.memoizedState,d)},useTransition:function(){var d=Xw(xm)[0],p=wa().memoizedState;return[d,p]},useMutableSource:Fk,useSyncExternalStore:Uk,useId:rP,unstable_isNewReconciler:!1},PG={readContext:xa,useCallback:Jk,useContext:xa,useEffect:Qw,useImperativeHandle:Qk,useInsertionEffect:Yk,useLayoutEffect:Xk,useMemo:eP,useReducer:Zw,useRef:Gk,useState:function(){return Zw(xm)},useDebugValue:Jw,useDeferredValue:function(d){var p=wa();return vi===null?p.memoizedState=d:tP(p,vi.memoizedState,d)},useTransition:function(){var d=Zw(xm)[0],p=wa().memoizedState;return[d,p]},useMutableSource:Fk,useSyncExternalStore:Uk,useId:rP,unstable_isNewReconciler:!1};function qa(d,p){if(d&&d.defaultProps){p=ue({},p),d=d.defaultProps;for(var S in d)p[S]===void 0&&(p[S]=d[S]);return p}return p}function eb(d,p,S,O){p=d.memoizedState,S=S(O,p),S=S==null?p:ue({},p,S),d.memoizedState=S,d.lanes===0&&(d.updateQueue.baseState=S)}var M0={isMounted:function(d){return(d=d._reactInternals)?Xi(d)===d:!1},enqueueSetState:function(d,p,S){d=d._reactInternals;var O=fs(),B=ac(d),U=rl(O,B);U.payload=p,S!=null&&(U.callback=S),p=rc(d,U,B),p!==null&&(Ha(p,d,B,O),j0(p,d,B))},enqueueReplaceState:function(d,p,S){d=d._reactInternals;var O=fs(),B=ac(d),U=rl(O,B);U.tag=1,U.payload=p,S!=null&&(U.callback=S),p=rc(d,U,B),p!==null&&(Ha(p,d,B,O),j0(p,d,B))},enqueueForceUpdate:function(d,p){d=d._reactInternals;var S=fs(),O=ac(d),B=rl(S,O);B.tag=2,p!=null&&(B.callback=p),p=rc(d,B,O),p!==null&&(Ha(p,d,O,S),j0(p,d,O))}};function aP(d,p,S,O,B,U,ee){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(O,U,ee):p.prototype&&p.prototype.isPureReactComponent?!Me(S,O)||!Me(B,U):!0}function oP(d,p,S){var O=!1,B=Jl,U=p.contextType;return typeof U=="object"&&U!==null?U=xa(U):(B=js(p)?fu:Ji.current,O=p.contextTypes,U=(O=O!=null)?Vd(d,B):Jl),p=new p(S,U),d.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=M0,d.stateNode=p,p._reactInternals=d,O&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=B,d.__reactInternalMemoizedMaskedChildContext=U),p}function lP(d,p,S,O){d=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(S,O),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(S,O),p.state!==d&&M0.enqueueReplaceState(p,p.state,null)}function tb(d,p,S,O){var B=d.stateNode;B.props=S,B.state=d.memoizedState,B.refs={},$w(d);var U=p.contextType;typeof U=="object"&&U!==null?B.context=xa(U):(U=js(p)?fu:Ji.current,B.context=Vd(d,U)),B.state=d.memoizedState,U=p.getDerivedStateFromProps,typeof U=="function"&&(eb(d,p,U,S),B.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(p=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),p!==B.state&&M0.enqueueReplaceState(B,B.state,null),N0(d,S,B,O),B.state=d.memoizedState),typeof B.componentDidMount=="function"&&(d.flags|=4194308)}function Xd(d,p){try{var S="",O=p;do S+=Ue(O),O=O.return;while(O);var B=S}catch(U){B=`
Error generating stack: `+U.message+`
`+U.stack}return{value:d,source:p,stack:B,digest:null}}function rb(d,p,S){return{value:d,source:null,stack:S??null,digest:p??null}}function nb(d,p){try{console.error(p.value)}catch(S){setTimeout(function(){throw S})}}var IG=typeof WeakMap=="function"?WeakMap:Map;function cP(d,p,S){S=rl(-1,S),S.tag=3,S.payload={element:null};var O=p.value;return S.callback=function(){V0||(V0=!0,yb=O),nb(d,p)},S}function uP(d,p,S){S=rl(-1,S),S.tag=3;var O=d.type.getDerivedStateFromError;if(typeof O=="function"){var B=p.value;S.payload=function(){return O(B)},S.callback=function(){nb(d,p)}}var U=d.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(S.callback=function(){nb(d,p),typeof O!="function"&&(ic===null?ic=new Set([this]):ic.add(this));var ee=p.stack;this.componentDidCatch(p.value,{componentStack:ee!==null?ee:""})}),S}function dP(d,p,S){var O=d.pingCache;if(O===null){O=d.pingCache=new IG;var B=new Set;O.set(p,B)}else B=O.get(p),B===void 0&&(B=new Set,O.set(p,B));B.has(S)||(B.add(S),d=GG.bind(null,d,p,S),p.then(d,d))}function fP(d){do{var p;if((p=d.tag===13)&&(p=d.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return d;d=d.return}while(d!==null);return null}function hP(d,p,S,O,B){return(d.mode&1)===0?(d===p?d.flags|=65536:(d.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(p=rl(-1,1),p.tag=2,rc(S,p,1))),S.lanes|=1),d):(d.flags|=65536,d.lanes=B,d)}var RG=F.ReactCurrentOwner,Ns=!1;function ds(d,p,S,O){p.child=d===null?Ik(p,null,S,O):Hd(p,d.child,S,O)}function mP(d,p,S,O,B){S=S.render;var U=p.ref;return Kd(p,B),O=Kw(d,p,S,O,U,B),S=Yw(),d!==null&&!Ns?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~B,nl(d,p,B)):(jn&&S&&kw(p),p.flags|=1,ds(d,p,O,B),p.child)}function pP(d,p,S,O,B){if(d===null){var U=S.type;return typeof U=="function"&&!Eb(U)&&U.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(p.tag=15,p.type=U,gP(d,p,U,O,B)):(d=K0(S.type,null,O,p,p.mode,B),d.ref=p.ref,d.return=p,p.child=d)}if(U=d.child,(d.lanes&B)===0){var ee=U.memoizedProps;if(S=S.compare,S=S!==null?S:Me,S(ee,O)&&d.ref===p.ref)return nl(d,p,B)}return p.flags|=1,d=lc(U,O),d.ref=p.ref,d.return=p,p.child=d}function gP(d,p,S,O,B){if(d!==null){var U=d.memoizedProps;if(Me(U,O)&&d.ref===p.ref)if(Ns=!1,p.pendingProps=O=U,(d.lanes&B)!==0)(d.flags&131072)!==0&&(Ns=!0);else return p.lanes=d.lanes,nl(d,p,B)}return ib(d,p,S,O,B)}function vP(d,p,S){var O=p.pendingProps,B=O.children,U=d!==null?d.memoizedState:null;if(O.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},hn(Qd,Ks),Ks|=S;else{if((S&1073741824)===0)return d=U!==null?U.baseLanes|S:S,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:d,cachePool:null,transitions:null},p.updateQueue=null,hn(Qd,Ks),Ks|=d,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},O=U!==null?U.baseLanes:S,hn(Qd,Ks),Ks|=O}else U!==null?(O=U.baseLanes|S,p.memoizedState=null):O=S,hn(Qd,Ks),Ks|=O;return ds(d,p,B,S),p.child}function yP(d,p){var S=p.ref;(d===null&&S!==null||d!==null&&d.ref!==S)&&(p.flags|=512,p.flags|=2097152)}function ib(d,p,S,O,B){var U=js(S)?fu:Ji.current;return U=Vd(p,U),Kd(p,B),S=Kw(d,p,S,O,U,B),O=Yw(),d!==null&&!Ns?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~B,nl(d,p,B)):(jn&&O&&kw(p),p.flags|=1,ds(d,p,S,B),p.child)}function xP(d,p,S,O,B){if(js(S)){var U=!0;x0(p)}else U=!1;if(Kd(p,B),p.stateNode===null)L0(d,p),oP(p,S,O),tb(p,S,O,B),O=!0;else if(d===null){var ee=p.stateNode,fe=p.memoizedProps;ee.props=fe;var ge=ee.context,Le=S.contextType;typeof Le=="object"&&Le!==null?Le=xa(Le):(Le=js(S)?fu:Ji.current,Le=Vd(p,Le));var et=S.getDerivedStateFromProps,rt=typeof et=="function"||typeof ee.getSnapshotBeforeUpdate=="function";rt||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(fe!==O||ge!==Le)&&lP(p,ee,O,Le),tc=!1;var Ze=p.memoizedState;ee.state=Ze,N0(p,O,ee,B),ge=p.memoizedState,fe!==O||Ze!==ge||As.current||tc?(typeof et=="function"&&(eb(p,S,et,O),ge=p.memoizedState),(fe=tc||aP(p,S,fe,O,Ze,ge,Le))?(rt||typeof ee.UNSAFE_componentWillMount!="function"&&typeof ee.componentWillMount!="function"||(typeof ee.componentWillMount=="function"&&ee.componentWillMount(),typeof ee.UNSAFE_componentWillMount=="function"&&ee.UNSAFE_componentWillMount()),typeof ee.componentDidMount=="function"&&(p.flags|=4194308)):(typeof ee.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=O,p.memoizedState=ge),ee.props=O,ee.state=ge,ee.context=Le,O=fe):(typeof ee.componentDidMount=="function"&&(p.flags|=4194308),O=!1)}else{ee=p.stateNode,Mk(d,p),fe=p.memoizedProps,Le=p.type===p.elementType?fe:qa(p.type,fe),ee.props=Le,rt=p.pendingProps,Ze=ee.context,ge=S.contextType,typeof ge=="object"&&ge!==null?ge=xa(ge):(ge=js(S)?fu:Ji.current,ge=Vd(p,ge));var mt=S.getDerivedStateFromProps;(et=typeof mt=="function"||typeof ee.getSnapshotBeforeUpdate=="function")||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(fe!==rt||Ze!==ge)&&lP(p,ee,O,ge),tc=!1,Ze=p.memoizedState,ee.state=Ze,N0(p,O,ee,B);var At=p.memoizedState;fe!==rt||Ze!==At||As.current||tc?(typeof mt=="function"&&(eb(p,S,mt,O),At=p.memoizedState),(Le=tc||aP(p,S,Le,O,Ze,At,ge)||!1)?(et||typeof ee.UNSAFE_componentWillUpdate!="function"&&typeof ee.componentWillUpdate!="function"||(typeof ee.componentWillUpdate=="function"&&ee.componentWillUpdate(O,At,ge),typeof ee.UNSAFE_componentWillUpdate=="function"&&ee.UNSAFE_componentWillUpdate(O,At,ge)),typeof ee.componentDidUpdate=="function"&&(p.flags|=4),typeof ee.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof ee.componentDidUpdate!="function"||fe===d.memoizedProps&&Ze===d.memoizedState||(p.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||fe===d.memoizedProps&&Ze===d.memoizedState||(p.flags|=1024),p.memoizedProps=O,p.memoizedState=At),ee.props=O,ee.state=At,ee.context=ge,O=Le):(typeof ee.componentDidUpdate!="function"||fe===d.memoizedProps&&Ze===d.memoizedState||(p.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||fe===d.memoizedProps&&Ze===d.memoizedState||(p.flags|=1024),O=!1)}return sb(d,p,S,O,U,B)}function sb(d,p,S,O,B,U){yP(d,p);var ee=(p.flags&128)!==0;if(!O&&!ee)return B&&Ck(p,S,!1),nl(d,p,U);O=p.stateNode,RG.current=p;var fe=ee&&typeof S.getDerivedStateFromError!="function"?null:O.render();return p.flags|=1,d!==null&&ee?(p.child=Hd(p,d.child,null,U),p.child=Hd(p,null,fe,U)):ds(d,p,fe,U),p.memoizedState=O.state,B&&Ck(p,S,!0),p.child}function wP(d){var p=d.stateNode;p.pendingContext?_k(d,p.pendingContext,p.pendingContext!==p.context):p.context&&_k(d,p.context,!1),Vw(d,p.containerInfo)}function bP(d,p,S,O,B){return Wd(),Mw(B),p.flags|=256,ds(d,p,S,O),p.child}var ab={dehydrated:null,treeContext:null,retryLane:0};function ob(d){return{baseLanes:d,cachePool:null,transitions:null}}function _P(d,p,S){var O=p.pendingProps,B=In.current,U=!1,ee=(p.flags&128)!==0,fe;if((fe=ee)||(fe=d!==null&&d.memoizedState===null?!1:(B&2)!==0),fe?(U=!0,p.flags&=-129):(d===null||d.memoizedState!==null)&&(B|=1),hn(In,B&1),d===null)return Rw(p),d=p.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((p.mode&1)===0?p.lanes=1:d.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(ee=O.children,d=O.fallback,U?(O=p.mode,U=p.child,ee={mode:"hidden",children:ee},(O&1)===0&&U!==null?(U.childLanes=0,U.pendingProps=ee):U=Y0(ee,O,0,null),d=_u(d,O,S,null),U.return=p,d.return=p,U.sibling=d,p.child=U,p.child.memoizedState=ob(S),p.memoizedState=ab,d):lb(p,ee));if(B=d.memoizedState,B!==null&&(fe=B.dehydrated,fe!==null))return MG(d,p,ee,O,fe,B,S);if(U){U=O.fallback,ee=p.mode,B=d.child,fe=B.sibling;var ge={mode:"hidden",children:O.children};return(ee&1)===0&&p.child!==B?(O=p.child,O.childLanes=0,O.pendingProps=ge,p.deletions=null):(O=lc(B,ge),O.subtreeFlags=B.subtreeFlags&14680064),fe!==null?U=lc(fe,U):(U=_u(U,ee,S,null),U.flags|=2),U.return=p,O.return=p,O.sibling=U,p.child=O,O=U,U=p.child,ee=d.child.memoizedState,ee=ee===null?ob(S):{baseLanes:ee.baseLanes|S,cachePool:null,transitions:ee.transitions},U.memoizedState=ee,U.childLanes=d.childLanes&~S,p.memoizedState=ab,O}return U=d.child,d=U.sibling,O=lc(U,{mode:"visible",children:O.children}),(p.mode&1)===0&&(O.lanes=S),O.return=p,O.sibling=null,d!==null&&(S=p.deletions,S===null?(p.deletions=[d],p.flags|=16):S.push(d)),p.child=O,p.memoizedState=null,O}function lb(d,p){return p=Y0({mode:"visible",children:p},d.mode,0,null),p.return=d,d.child=p}function D0(d,p,S,O){return O!==null&&Mw(O),Hd(p,d.child,null,S),d=lb(p,p.pendingProps.children),d.flags|=2,p.memoizedState=null,d}function MG(d,p,S,O,B,U,ee){if(S)return p.flags&256?(p.flags&=-257,O=rb(Error(r(422))),D0(d,p,ee,O)):p.memoizedState!==null?(p.child=d.child,p.flags|=128,null):(U=O.fallback,B=p.mode,O=Y0({mode:"visible",children:O.children},B,0,null),U=_u(U,B,ee,null),U.flags|=2,O.return=p,U.return=p,O.sibling=U,p.child=O,(p.mode&1)!==0&&Hd(p,d.child,null,ee),p.child.memoizedState=ob(ee),p.memoizedState=ab,U);if((p.mode&1)===0)return D0(d,p,ee,null);if(B.data==="$!"){if(O=B.nextSibling&&B.nextSibling.dataset,O)var fe=O.dgst;return O=fe,U=Error(r(419)),O=rb(U,O,void 0),D0(d,p,ee,O)}if(fe=(ee&d.childLanes)!==0,Ns||fe){if(O=Ti,O!==null){switch(ee&-ee){case 4:B=2;break;case 16:B=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:B=32;break;case 536870912:B=268435456;break;default:B=0}B=(B&(O.suspendedLanes|ee))!==0?0:B,B!==0&&B!==U.retryLane&&(U.retryLane=B,tl(d,B),Ha(O,d,B,-1))}return Cb(),O=rb(Error(r(421))),D0(d,p,ee,O)}return B.data==="$?"?(p.flags|=128,p.child=d.child,p=KG.bind(null,d),B._reactRetry=p,null):(d=U.treeContext,Gs=Zl(B.nextSibling),Hs=p,jn=!0,Va=null,d!==null&&(va[ya++]=Jo,va[ya++]=el,va[ya++]=hu,Jo=d.id,el=d.overflow,hu=p),p=lb(p,O.children),p.flags|=4096,p)}function SP(d,p,S){d.lanes|=p;var O=d.alternate;O!==null&&(O.lanes|=p),Fw(d.return,p,S)}function cb(d,p,S,O,B){var U=d.memoizedState;U===null?d.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:O,tail:S,tailMode:B}:(U.isBackwards=p,U.rendering=null,U.renderingStartTime=0,U.last=O,U.tail=S,U.tailMode=B)}function CP(d,p,S){var O=p.pendingProps,B=O.revealOrder,U=O.tail;if(ds(d,p,O.children,S),O=In.current,(O&2)!==0)O=O&1|2,p.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=p.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&SP(d,S,p);else if(d.tag===19)SP(d,S,p);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===p)break e;for(;d.sibling===null;){if(d.return===null||d.return===p)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}O&=1}if(hn(In,O),(p.mode&1)===0)p.memoizedState=null;else switch(B){case"forwards":for(S=p.child,B=null;S!==null;)d=S.alternate,d!==null&&O0(d)===null&&(B=S),S=S.sibling;S=B,S===null?(B=p.child,p.child=null):(B=S.sibling,S.sibling=null),cb(p,!1,B,S,U);break;case"backwards":for(S=null,B=p.child,p.child=null;B!==null;){if(d=B.alternate,d!==null&&O0(d)===null){p.child=B;break}d=B.sibling,B.sibling=S,S=B,B=d}cb(p,!0,S,null,U);break;case"together":cb(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function L0(d,p){(p.mode&1)===0&&d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2)}function nl(d,p,S){if(d!==null&&(p.dependencies=d.dependencies),yu|=p.lanes,(S&p.childLanes)===0)return null;if(d!==null&&p.child!==d.child)throw Error(r(153));if(p.child!==null){for(d=p.child,S=lc(d,d.pendingProps),p.child=S,S.return=p;d.sibling!==null;)d=d.sibling,S=S.sibling=lc(d,d.pendingProps),S.return=p;S.sibling=null}return p.child}function DG(d,p,S){switch(p.tag){case 3:wP(p),Wd();break;case 5:Bk(p);break;case 1:js(p.type)&&x0(p);break;case 4:Vw(p,p.stateNode.containerInfo);break;case 10:var O=p.type._context,B=p.memoizedProps.value;hn(E0,O._currentValue),O._currentValue=B;break;case 13:if(O=p.memoizedState,O!==null)return O.dehydrated!==null?(hn(In,In.current&1),p.flags|=128,null):(S&p.child.childLanes)!==0?_P(d,p,S):(hn(In,In.current&1),d=nl(d,p,S),d!==null?d.sibling:null);hn(In,In.current&1);break;case 19:if(O=(S&p.childLanes)!==0,(d.flags&128)!==0){if(O)return CP(d,p,S);p.flags|=128}if(B=p.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),hn(In,In.current),O)break;return null;case 22:case 23:return p.lanes=0,vP(d,p,S)}return nl(d,p,S)}var EP,ub,AP,jP;EP=function(d,p){for(var S=p.child;S!==null;){if(S.tag===5||S.tag===6)d.appendChild(S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===p)break;for(;S.sibling===null;){if(S.return===null||S.return===p)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},ub=function(){},AP=function(d,p,S,O){var B=d.memoizedProps;if(B!==O){d=p.stateNode,gu(bo.current);var U=null;switch(S){case"input":B=Te(d,B),O=Te(d,O),U=[];break;case"select":B=ue({},B,{value:void 0}),O=ue({},O,{value:void 0}),U=[];break;case"textarea":B=Ie(d,B),O=Ie(d,O),U=[];break;default:typeof B.onClick!="function"&&typeof O.onClick=="function"&&(d.onclick=g0)}gr(S,O);var ee;S=null;for(Le in B)if(!O.hasOwnProperty(Le)&&B.hasOwnProperty(Le)&&B[Le]!=null)if(Le==="style"){var fe=B[Le];for(ee in fe)fe.hasOwnProperty(ee)&&(S||(S={}),S[ee]="")}else Le!=="dangerouslySetInnerHTML"&&Le!=="children"&&Le!=="suppressContentEditableWarning"&&Le!=="suppressHydrationWarning"&&Le!=="autoFocus"&&(i.hasOwnProperty(Le)?U||(U=[]):(U=U||[]).push(Le,null));for(Le in O){var ge=O[Le];if(fe=B?.[Le],O.hasOwnProperty(Le)&&ge!==fe&&(ge!=null||fe!=null))if(Le==="style")if(fe){for(ee in fe)!fe.hasOwnProperty(ee)||ge&&ge.hasOwnProperty(ee)||(S||(S={}),S[ee]="");for(ee in ge)ge.hasOwnProperty(ee)&&fe[ee]!==ge[ee]&&(S||(S={}),S[ee]=ge[ee])}else S||(U||(U=[]),U.push(Le,S)),S=ge;else Le==="dangerouslySetInnerHTML"?(ge=ge?ge.__html:void 0,fe=fe?fe.__html:void 0,ge!=null&&fe!==ge&&(U=U||[]).push(Le,ge)):Le==="children"?typeof ge!="string"&&typeof ge!="number"||(U=U||[]).push(Le,""+ge):Le!=="suppressContentEditableWarning"&&Le!=="suppressHydrationWarning"&&(i.hasOwnProperty(Le)?(ge!=null&&Le==="onScroll"&&bn("scroll",d),U||fe===ge||(U=[])):(U=U||[]).push(Le,ge))}S&&(U=U||[]).push("style",S);var Le=U;(p.updateQueue=Le)&&(p.flags|=4)}},jP=function(d,p,S,O){S!==O&&(p.flags|=4)};function bm(d,p){if(!jn)switch(d.tailMode){case"hidden":p=d.tail;for(var S=null;p!==null;)p.alternate!==null&&(S=p),p=p.sibling;S===null?d.tail=null:S.sibling=null;break;case"collapsed":S=d.tail;for(var O=null;S!==null;)S.alternate!==null&&(O=S),S=S.sibling;O===null?p||d.tail===null?d.tail=null:d.tail.sibling=null:O.sibling=null}}function ts(d){var p=d.alternate!==null&&d.alternate.child===d.child,S=0,O=0;if(p)for(var B=d.child;B!==null;)S|=B.lanes|B.childLanes,O|=B.subtreeFlags&14680064,O|=B.flags&14680064,B.return=d,B=B.sibling;else for(B=d.child;B!==null;)S|=B.lanes|B.childLanes,O|=B.subtreeFlags,O|=B.flags,B.return=d,B=B.sibling;return d.subtreeFlags|=O,d.childLanes=S,p}function LG(d,p,S){var O=p.pendingProps;switch(Pw(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ts(p),null;case 1:return js(p.type)&&y0(),ts(p),null;case 3:return O=p.stateNode,Yd(),_n(As),_n(Ji),Ww(),O.pendingContext&&(O.context=O.pendingContext,O.pendingContext=null),(d===null||d.child===null)&&(S0(p)?p.flags|=4:d===null||d.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,Va!==null&&(bb(Va),Va=null))),ub(d,p),ts(p),null;case 5:qw(p);var B=gu(gm.current);if(S=p.type,d!==null&&p.stateNode!=null)AP(d,p,S,O,B),d.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!O){if(p.stateNode===null)throw Error(r(166));return ts(p),null}if(d=gu(bo.current),S0(p)){O=p.stateNode,S=p.type;var U=p.memoizedProps;switch(O[wo]=p,O[dm]=U,d=(p.mode&1)!==0,S){case"dialog":bn("cancel",O),bn("close",O);break;case"iframe":case"object":case"embed":bn("load",O);break;case"video":case"audio":for(B=0;B<lm.length;B++)bn(lm[B],O);break;case"source":bn("error",O);break;case"img":case"image":case"link":bn("error",O),bn("load",O);break;case"details":bn("toggle",O);break;case"input":Ge(O,U),bn("invalid",O);break;case"select":O._wrapperState={wasMultiple:!!U.multiple},bn("invalid",O);break;case"textarea":Qe(O,U),bn("invalid",O)}gr(S,U),B=null;for(var ee in U)if(U.hasOwnProperty(ee)){var fe=U[ee];ee==="children"?typeof fe=="string"?O.textContent!==fe&&(U.suppressHydrationWarning!==!0&&p0(O.textContent,fe,d),B=["children",fe]):typeof fe=="number"&&O.textContent!==""+fe&&(U.suppressHydrationWarning!==!0&&p0(O.textContent,fe,d),B=["children",""+fe]):i.hasOwnProperty(ee)&&fe!=null&&ee==="onScroll"&&bn("scroll",O)}switch(S){case"input":Ce(O),Ct(O,U,!0);break;case"textarea":Ce(O),Ye(O);break;case"select":case"option":break;default:typeof U.onClick=="function"&&(O.onclick=g0)}O=B,p.updateQueue=O,O!==null&&(p.flags|=4)}else{ee=B.nodeType===9?B:B.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=Xe(S)),d==="http://www.w3.org/1999/xhtml"?S==="script"?(d=ee.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof O.is=="string"?d=ee.createElement(S,{is:O.is}):(d=ee.createElement(S),S==="select"&&(ee=d,O.multiple?ee.multiple=!0:O.size&&(ee.size=O.size))):d=ee.createElementNS(d,S),d[wo]=p,d[dm]=O,EP(d,p,!1,!1),p.stateNode=d;e:{switch(ee=Lr(S,O),S){case"dialog":bn("cancel",d),bn("close",d),B=O;break;case"iframe":case"object":case"embed":bn("load",d),B=O;break;case"video":case"audio":for(B=0;B<lm.length;B++)bn(lm[B],d);B=O;break;case"source":bn("error",d),B=O;break;case"img":case"image":case"link":bn("error",d),bn("load",d),B=O;break;case"details":bn("toggle",d),B=O;break;case"input":Ge(d,O),B=Te(d,O),bn("invalid",d);break;case"option":B=O;break;case"select":d._wrapperState={wasMultiple:!!O.multiple},B=ue({},O,{value:void 0}),bn("invalid",d);break;case"textarea":Qe(d,O),B=Ie(d,O),bn("invalid",d);break;default:B=O}gr(S,B),fe=B;for(U in fe)if(fe.hasOwnProperty(U)){var ge=fe[U];U==="style"?tt(d,ge):U==="dangerouslySetInnerHTML"?(ge=ge?ge.__html:void 0,ge!=null&&br(d,ge)):U==="children"?typeof ge=="string"?(S!=="textarea"||ge!=="")&&an(d,ge):typeof ge=="number"&&an(d,""+ge):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(i.hasOwnProperty(U)?ge!=null&&U==="onScroll"&&bn("scroll",d):ge!=null&&I(d,U,ge,ee))}switch(S){case"input":Ce(d),Ct(d,O,!1);break;case"textarea":Ce(d),Ye(d);break;case"option":O.value!=null&&d.setAttribute("value",""+je(O.value));break;case"select":d.multiple=!!O.multiple,U=O.value,U!=null?he(d,!!O.multiple,U,!1):O.defaultValue!=null&&he(d,!!O.multiple,O.defaultValue,!0);break;default:typeof B.onClick=="function"&&(d.onclick=g0)}switch(S){case"button":case"input":case"select":case"textarea":O=!!O.autoFocus;break e;case"img":O=!0;break e;default:O=!1}}O&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return ts(p),null;case 6:if(d&&p.stateNode!=null)jP(d,p,d.memoizedProps,O);else{if(typeof O!="string"&&p.stateNode===null)throw Error(r(166));if(S=gu(gm.current),gu(bo.current),S0(p)){if(O=p.stateNode,S=p.memoizedProps,O[wo]=p,(U=O.nodeValue!==S)&&(d=Hs,d!==null))switch(d.tag){case 3:p0(O.nodeValue,S,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&p0(O.nodeValue,S,(d.mode&1)!==0)}U&&(p.flags|=4)}else O=(S.nodeType===9?S:S.ownerDocument).createTextNode(O),O[wo]=p,p.stateNode=O}return ts(p),null;case 13:if(_n(In),O=p.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(jn&&Gs!==null&&(p.mode&1)!==0&&(p.flags&128)===0)Tk(),Wd(),p.flags|=98560,U=!1;else if(U=S0(p),O!==null&&O.dehydrated!==null){if(d===null){if(!U)throw Error(r(318));if(U=p.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(r(317));U[wo]=p}else Wd(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;ts(p),U=!1}else Va!==null&&(bb(Va),Va=null),U=!0;if(!U)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=S,p):(O=O!==null,O!==(d!==null&&d.memoizedState!==null)&&O&&(p.child.flags|=8192,(p.mode&1)!==0&&(d===null||(In.current&1)!==0?yi===0&&(yi=3):Cb())),p.updateQueue!==null&&(p.flags|=4),ts(p),null);case 4:return Yd(),ub(d,p),d===null&&cm(p.stateNode.containerInfo),ts(p),null;case 10:return Bw(p.type._context),ts(p),null;case 17:return js(p.type)&&y0(),ts(p),null;case 19:if(_n(In),U=p.memoizedState,U===null)return ts(p),null;if(O=(p.flags&128)!==0,ee=U.rendering,ee===null)if(O)bm(U,!1);else{if(yi!==0||d!==null&&(d.flags&128)!==0)for(d=p.child;d!==null;){if(ee=O0(d),ee!==null){for(p.flags|=128,bm(U,!1),O=ee.updateQueue,O!==null&&(p.updateQueue=O,p.flags|=4),p.subtreeFlags=0,O=S,S=p.child;S!==null;)U=S,d=O,U.flags&=14680066,ee=U.alternate,ee===null?(U.childLanes=0,U.lanes=d,U.child=null,U.subtreeFlags=0,U.memoizedProps=null,U.memoizedState=null,U.updateQueue=null,U.dependencies=null,U.stateNode=null):(U.childLanes=ee.childLanes,U.lanes=ee.lanes,U.child=ee.child,U.subtreeFlags=0,U.deletions=null,U.memoizedProps=ee.memoizedProps,U.memoizedState=ee.memoizedState,U.updateQueue=ee.updateQueue,U.type=ee.type,d=ee.dependencies,U.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),S=S.sibling;return hn(In,In.current&1|2),p.child}d=d.sibling}U.tail!==null&&Kr()>Jd&&(p.flags|=128,O=!0,bm(U,!1),p.lanes=4194304)}else{if(!O)if(d=O0(ee),d!==null){if(p.flags|=128,O=!0,S=d.updateQueue,S!==null&&(p.updateQueue=S,p.flags|=4),bm(U,!0),U.tail===null&&U.tailMode==="hidden"&&!ee.alternate&&!jn)return ts(p),null}else 2*Kr()-U.renderingStartTime>Jd&&S!==1073741824&&(p.flags|=128,O=!0,bm(U,!1),p.lanes=4194304);U.isBackwards?(ee.sibling=p.child,p.child=ee):(S=U.last,S!==null?S.sibling=ee:p.child=ee,U.last=ee)}return U.tail!==null?(p=U.tail,U.rendering=p,U.tail=p.sibling,U.renderingStartTime=Kr(),p.sibling=null,S=In.current,hn(In,O?S&1|2:S&1),p):(ts(p),null);case 22:case 23:return Sb(),O=p.memoizedState!==null,d!==null&&d.memoizedState!==null!==O&&(p.flags|=8192),O&&(p.mode&1)!==0?(Ks&1073741824)!==0&&(ts(p),p.subtreeFlags&6&&(p.flags|=8192)):ts(p),null;case 24:return null;case 25:return null}throw Error(r(156,p.tag))}function BG(d,p){switch(Pw(p),p.tag){case 1:return js(p.type)&&y0(),d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 3:return Yd(),_n(As),_n(Ji),Ww(),d=p.flags,(d&65536)!==0&&(d&128)===0?(p.flags=d&-65537|128,p):null;case 5:return qw(p),null;case 13:if(_n(In),d=p.memoizedState,d!==null&&d.dehydrated!==null){if(p.alternate===null)throw Error(r(340));Wd()}return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 19:return _n(In),null;case 4:return Yd(),null;case 10:return Bw(p.type._context),null;case 22:case 23:return Sb(),null;case 24:return null;default:return null}}var B0=!1,rs=!1,FG=typeof WeakSet=="function"?WeakSet:Set,bt=null;function Zd(d,p){var S=d.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(O){qn(d,p,O)}else S.current=null}function db(d,p,S){try{S()}catch(O){qn(d,p,O)}}var NP=!1;function UG(d,p){if(Sw=yo,d=jr(),lr(d)){if("selectionStart"in d)var S={start:d.selectionStart,end:d.selectionEnd};else e:{S=(S=d.ownerDocument)&&S.defaultView||window;var O=S.getSelection&&S.getSelection();if(O&&O.rangeCount!==0){S=O.anchorNode;var B=O.anchorOffset,U=O.focusNode;O=O.focusOffset;try{S.nodeType,U.nodeType}catch{S=null;break e}var ee=0,fe=-1,ge=-1,Le=0,et=0,rt=d,Ze=null;t:for(;;){for(var mt;rt!==S||B!==0&&rt.nodeType!==3||(fe=ee+B),rt!==U||O!==0&&rt.nodeType!==3||(ge=ee+O),rt.nodeType===3&&(ee+=rt.nodeValue.length),(mt=rt.firstChild)!==null;)Ze=rt,rt=mt;for(;;){if(rt===d)break t;if(Ze===S&&++Le===B&&(fe=ee),Ze===U&&++et===O&&(ge=ee),(mt=rt.nextSibling)!==null)break;rt=Ze,Ze=rt.parentNode}rt=mt}S=fe===-1||ge===-1?null:{start:fe,end:ge}}else S=null}S=S||{start:0,end:0}}else S=null;for(Cw={focusedElem:d,selectionRange:S},yo=!1,bt=p;bt!==null;)if(p=bt,d=p.child,(p.subtreeFlags&1028)!==0&&d!==null)d.return=p,bt=d;else for(;bt!==null;){p=bt;try{var At=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(At!==null){var Nt=At.memoizedProps,ti=At.memoizedState,Oe=p.stateNode,we=Oe.getSnapshotBeforeUpdate(p.elementType===p.type?Nt:qa(p.type,Nt),ti);Oe.__reactInternalSnapshotBeforeUpdate=we}break;case 3:var ke=p.stateNode.containerInfo;ke.nodeType===1?ke.textContent="":ke.nodeType===9&&ke.documentElement&&ke.removeChild(ke.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ot){qn(p,p.return,ot)}if(d=p.sibling,d!==null){d.return=p.return,bt=d;break}bt=p.return}return At=NP,NP=!1,At}function _m(d,p,S){var O=p.updateQueue;if(O=O!==null?O.lastEffect:null,O!==null){var B=O=O.next;do{if((B.tag&d)===d){var U=B.destroy;B.destroy=void 0,U!==void 0&&db(p,S,U)}B=B.next}while(B!==O)}}function F0(d,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var S=p=p.next;do{if((S.tag&d)===d){var O=S.create;S.destroy=O()}S=S.next}while(S!==p)}}function fb(d){var p=d.ref;if(p!==null){var S=d.stateNode;switch(d.tag){case 5:d=S;break;default:d=S}typeof p=="function"?p(d):p.current=d}}function OP(d){var p=d.alternate;p!==null&&(d.alternate=null,OP(p)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(p=d.stateNode,p!==null&&(delete p[wo],delete p[dm],delete p[Nw],delete p[_G],delete p[SG])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function TP(d){return d.tag===5||d.tag===3||d.tag===4}function kP(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||TP(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function hb(d,p,S){var O=d.tag;if(O===5||O===6)d=d.stateNode,p?S.nodeType===8?S.parentNode.insertBefore(d,p):S.insertBefore(d,p):(S.nodeType===8?(p=S.parentNode,p.insertBefore(d,S)):(p=S,p.appendChild(d)),S=S._reactRootContainer,S!=null||p.onclick!==null||(p.onclick=g0));else if(O!==4&&(d=d.child,d!==null))for(hb(d,p,S),d=d.sibling;d!==null;)hb(d,p,S),d=d.sibling}function mb(d,p,S){var O=d.tag;if(O===5||O===6)d=d.stateNode,p?S.insertBefore(d,p):S.appendChild(d);else if(O!==4&&(d=d.child,d!==null))for(mb(d,p,S),d=d.sibling;d!==null;)mb(d,p,S),d=d.sibling}var Bi=null,za=!1;function nc(d,p,S){for(S=S.child;S!==null;)PP(d,p,S),S=S.sibling}function PP(d,p,S){if(xr&&typeof xr.onCommitFiberUnmount=="function")try{xr.onCommitFiberUnmount(Mr,S)}catch{}switch(S.tag){case 5:rs||Zd(S,p);case 6:var O=Bi,B=za;Bi=null,nc(d,p,S),Bi=O,za=B,Bi!==null&&(za?(d=Bi,S=S.stateNode,d.nodeType===8?d.parentNode.removeChild(S):d.removeChild(S)):Bi.removeChild(S.stateNode));break;case 18:Bi!==null&&(za?(d=Bi,S=S.stateNode,d.nodeType===8?jw(d.parentNode,S):d.nodeType===1&&jw(d,S),Fa(d)):jw(Bi,S.stateNode));break;case 4:O=Bi,B=za,Bi=S.stateNode.containerInfo,za=!0,nc(d,p,S),Bi=O,za=B;break;case 0:case 11:case 14:case 15:if(!rs&&(O=S.updateQueue,O!==null&&(O=O.lastEffect,O!==null))){B=O=O.next;do{var U=B,ee=U.destroy;U=U.tag,ee!==void 0&&((U&2)!==0||(U&4)!==0)&&db(S,p,ee),B=B.next}while(B!==O)}nc(d,p,S);break;case 1:if(!rs&&(Zd(S,p),O=S.stateNode,typeof O.componentWillUnmount=="function"))try{O.props=S.memoizedProps,O.state=S.memoizedState,O.componentWillUnmount()}catch(fe){qn(S,p,fe)}nc(d,p,S);break;case 21:nc(d,p,S);break;case 22:S.mode&1?(rs=(O=rs)||S.memoizedState!==null,nc(d,p,S),rs=O):nc(d,p,S);break;default:nc(d,p,S)}}function IP(d){var p=d.updateQueue;if(p!==null){d.updateQueue=null;var S=d.stateNode;S===null&&(S=d.stateNode=new FG),p.forEach(function(O){var B=YG.bind(null,d,O);S.has(O)||(S.add(O),O.then(B,B))})}}function Wa(d,p){var S=p.deletions;if(S!==null)for(var O=0;O<S.length;O++){var B=S[O];try{var U=d,ee=p,fe=ee;e:for(;fe!==null;){switch(fe.tag){case 5:Bi=fe.stateNode,za=!1;break e;case 3:Bi=fe.stateNode.containerInfo,za=!0;break e;case 4:Bi=fe.stateNode.containerInfo,za=!0;break e}fe=fe.return}if(Bi===null)throw Error(r(160));PP(U,ee,B),Bi=null,za=!1;var ge=B.alternate;ge!==null&&(ge.return=null),B.return=null}catch(Le){qn(B,p,Le)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)RP(p,d),p=p.sibling}function RP(d,p){var S=d.alternate,O=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(Wa(p,d),So(d),O&4){try{_m(3,d,d.return),F0(3,d)}catch(Nt){qn(d,d.return,Nt)}try{_m(5,d,d.return)}catch(Nt){qn(d,d.return,Nt)}}break;case 1:Wa(p,d),So(d),O&512&&S!==null&&Zd(S,S.return);break;case 5:if(Wa(p,d),So(d),O&512&&S!==null&&Zd(S,S.return),d.flags&32){var B=d.stateNode;try{an(B,"")}catch(Nt){qn(d,d.return,Nt)}}if(O&4&&(B=d.stateNode,B!=null)){var U=d.memoizedProps,ee=S!==null?S.memoizedProps:U,fe=d.type,ge=d.updateQueue;if(d.updateQueue=null,ge!==null)try{fe==="input"&&U.type==="radio"&&U.name!=null&&gt(B,U),Lr(fe,ee);var Le=Lr(fe,U);for(ee=0;ee<ge.length;ee+=2){var et=ge[ee],rt=ge[ee+1];et==="style"?tt(B,rt):et==="dangerouslySetInnerHTML"?br(B,rt):et==="children"?an(B,rt):I(B,et,rt,Le)}switch(fe){case"input":lt(B,U);break;case"textarea":Ke(B,U);break;case"select":var Ze=B._wrapperState.wasMultiple;B._wrapperState.wasMultiple=!!U.multiple;var mt=U.value;mt!=null?he(B,!!U.multiple,mt,!1):Ze!==!!U.multiple&&(U.defaultValue!=null?he(B,!!U.multiple,U.defaultValue,!0):he(B,!!U.multiple,U.multiple?[]:"",!1))}B[dm]=U}catch(Nt){qn(d,d.return,Nt)}}break;case 6:if(Wa(p,d),So(d),O&4){if(d.stateNode===null)throw Error(r(162));B=d.stateNode,U=d.memoizedProps;try{B.nodeValue=U}catch(Nt){qn(d,d.return,Nt)}}break;case 3:if(Wa(p,d),So(d),O&4&&S!==null&&S.memoizedState.isDehydrated)try{Fa(p.containerInfo)}catch(Nt){qn(d,d.return,Nt)}break;case 4:Wa(p,d),So(d);break;case 13:Wa(p,d),So(d),B=d.child,B.flags&8192&&(U=B.memoizedState!==null,B.stateNode.isHidden=U,!U||B.alternate!==null&&B.alternate.memoizedState!==null||(vb=Kr())),O&4&&IP(d);break;case 22:if(et=S!==null&&S.memoizedState!==null,d.mode&1?(rs=(Le=rs)||et,Wa(p,d),rs=Le):Wa(p,d),So(d),O&8192){if(Le=d.memoizedState!==null,(d.stateNode.isHidden=Le)&&!et&&(d.mode&1)!==0)for(bt=d,et=d.child;et!==null;){for(rt=bt=et;bt!==null;){switch(Ze=bt,mt=Ze.child,Ze.tag){case 0:case 11:case 14:case 15:_m(4,Ze,Ze.return);break;case 1:Zd(Ze,Ze.return);var At=Ze.stateNode;if(typeof At.componentWillUnmount=="function"){O=Ze,S=Ze.return;try{p=O,At.props=p.memoizedProps,At.state=p.memoizedState,At.componentWillUnmount()}catch(Nt){qn(O,S,Nt)}}break;case 5:Zd(Ze,Ze.return);break;case 22:if(Ze.memoizedState!==null){LP(rt);continue}}mt!==null?(mt.return=Ze,bt=mt):LP(rt)}et=et.sibling}e:for(et=null,rt=d;;){if(rt.tag===5){if(et===null){et=rt;try{B=rt.stateNode,Le?(U=B.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none"):(fe=rt.stateNode,ge=rt.memoizedProps.style,ee=ge!=null&&ge.hasOwnProperty("display")?ge.display:null,fe.style.display=_r("display",ee))}catch(Nt){qn(d,d.return,Nt)}}}else if(rt.tag===6){if(et===null)try{rt.stateNode.nodeValue=Le?"":rt.memoizedProps}catch(Nt){qn(d,d.return,Nt)}}else if((rt.tag!==22&&rt.tag!==23||rt.memoizedState===null||rt===d)&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===d)break e;for(;rt.sibling===null;){if(rt.return===null||rt.return===d)break e;et===rt&&(et=null),rt=rt.return}et===rt&&(et=null),rt.sibling.return=rt.return,rt=rt.sibling}}break;case 19:Wa(p,d),So(d),O&4&&IP(d);break;case 21:break;default:Wa(p,d),So(d)}}function So(d){var p=d.flags;if(p&2){try{e:{for(var S=d.return;S!==null;){if(TP(S)){var O=S;break e}S=S.return}throw Error(r(160))}switch(O.tag){case 5:var B=O.stateNode;O.flags&32&&(an(B,""),O.flags&=-33);var U=kP(d);mb(d,U,B);break;case 3:case 4:var ee=O.stateNode.containerInfo,fe=kP(d);hb(d,fe,ee);break;default:throw Error(r(161))}}catch(ge){qn(d,d.return,ge)}d.flags&=-3}p&4096&&(d.flags&=-4097)}function $G(d,p,S){bt=d,MP(d)}function MP(d,p,S){for(var O=(d.mode&1)!==0;bt!==null;){var B=bt,U=B.child;if(B.tag===22&&O){var ee=B.memoizedState!==null||B0;if(!ee){var fe=B.alternate,ge=fe!==null&&fe.memoizedState!==null||rs;fe=B0;var Le=rs;if(B0=ee,(rs=ge)&&!Le)for(bt=B;bt!==null;)ee=bt,ge=ee.child,ee.tag===22&&ee.memoizedState!==null?BP(B):ge!==null?(ge.return=ee,bt=ge):BP(B);for(;U!==null;)bt=U,MP(U),U=U.sibling;bt=B,B0=fe,rs=Le}DP(d)}else(B.subtreeFlags&8772)!==0&&U!==null?(U.return=B,bt=U):DP(d)}}function DP(d){for(;bt!==null;){var p=bt;if((p.flags&8772)!==0){var S=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:rs||F0(5,p);break;case 1:var O=p.stateNode;if(p.flags&4&&!rs)if(S===null)O.componentDidMount();else{var B=p.elementType===p.type?S.memoizedProps:qa(p.type,S.memoizedProps);O.componentDidUpdate(B,S.memoizedState,O.__reactInternalSnapshotBeforeUpdate)}var U=p.updateQueue;U!==null&&Lk(p,U,O);break;case 3:var ee=p.updateQueue;if(ee!==null){if(S=null,p.child!==null)switch(p.child.tag){case 5:S=p.child.stateNode;break;case 1:S=p.child.stateNode}Lk(p,ee,S)}break;case 5:var fe=p.stateNode;if(S===null&&p.flags&4){S=fe;var ge=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":ge.autoFocus&&S.focus();break;case"img":ge.src&&(S.src=ge.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var Le=p.alternate;if(Le!==null){var et=Le.memoizedState;if(et!==null){var rt=et.dehydrated;rt!==null&&Fa(rt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}rs||p.flags&512&&fb(p)}catch(Ze){qn(p,p.return,Ze)}}if(p===d){bt=null;break}if(S=p.sibling,S!==null){S.return=p.return,bt=S;break}bt=p.return}}function LP(d){for(;bt!==null;){var p=bt;if(p===d){bt=null;break}var S=p.sibling;if(S!==null){S.return=p.return,bt=S;break}bt=p.return}}function BP(d){for(;bt!==null;){var p=bt;try{switch(p.tag){case 0:case 11:case 15:var S=p.return;try{F0(4,p)}catch(ge){qn(p,S,ge)}break;case 1:var O=p.stateNode;if(typeof O.componentDidMount=="function"){var B=p.return;try{O.componentDidMount()}catch(ge){qn(p,B,ge)}}var U=p.return;try{fb(p)}catch(ge){qn(p,U,ge)}break;case 5:var ee=p.return;try{fb(p)}catch(ge){qn(p,ee,ge)}}}catch(ge){qn(p,p.return,ge)}if(p===d){bt=null;break}var fe=p.sibling;if(fe!==null){fe.return=p.return,bt=fe;break}bt=p.return}}var VG=Math.ceil,U0=F.ReactCurrentDispatcher,pb=F.ReactCurrentOwner,ba=F.ReactCurrentBatchConfig,Fr=0,Ti=null,si=null,Fi=0,Ks=0,Qd=Ql(0),yi=0,Sm=null,yu=0,$0=0,gb=0,Cm=null,Os=null,vb=0,Jd=1/0,il=null,V0=!1,yb=null,ic=null,q0=!1,sc=null,z0=0,Em=0,xb=null,W0=-1,H0=0;function fs(){return(Fr&6)!==0?Kr():W0!==-1?W0:W0=Kr()}function ac(d){return(d.mode&1)===0?1:(Fr&2)!==0&&Fi!==0?Fi&-Fi:EG.transition!==null?(H0===0&&(H0=hi()),H0):(d=wr,d!==0||(d=window.event,d=d===void 0?16:Qh(d.type)),d)}function Ha(d,p,S,O){if(50<Em)throw Em=0,xb=null,Error(r(185));le(d,S,O),((Fr&2)===0||d!==Ti)&&(d===Ti&&((Fr&2)===0&&($0|=S),yi===4&&oc(d,Fi)),Ts(d,O),S===1&&Fr===0&&(p.mode&1)===0&&(Jd=Kr()+500,w0&&ec()))}function Ts(d,p){var S=d.callbackNode;$l(d,p);var O=Vs(d,d===Ti?Fi:0);if(O===0)S!==null&&ji(S),d.callbackNode=null,d.callbackPriority=0;else if(p=O&-O,d.callbackPriority!==p){if(S!=null&&ji(S),p===1)d.tag===0?CG(UP.bind(null,d)):Ek(UP.bind(null,d)),wG(function(){(Fr&6)===0&&ec()}),S=null;else{switch(t0(O)){case 1:S=Ve;break;case 4:S=Jg;break;case 16:S=on;break;case 536870912:S=e0;break;default:S=on}S=KP(S,FP.bind(null,d))}d.callbackPriority=p,d.callbackNode=S}}function FP(d,p){if(W0=-1,H0=0,(Fr&6)!==0)throw Error(r(327));var S=d.callbackNode;if(ef()&&d.callbackNode!==S)return null;var O=Vs(d,d===Ti?Fi:0);if(O===0)return null;if((O&30)!==0||(O&d.expiredLanes)!==0||p)p=G0(d,O);else{p=O;var B=Fr;Fr|=2;var U=VP();(Ti!==d||Fi!==p)&&(il=null,Jd=Kr()+500,wu(d,p));do try{WG();break}catch(fe){$P(d,fe)}while(!0);Lw(),U0.current=U,Fr=B,si!==null?p=0:(Ti=null,Fi=0,p=yi)}if(p!==0){if(p===2&&(B=Yr(d),B!==0&&(O=B,p=wb(d,B))),p===1)throw S=Sm,wu(d,0),oc(d,O),Ts(d,Kr()),S;if(p===6)oc(d,O);else{if(B=d.current.alternate,(O&30)===0&&!qG(B)&&(p=G0(d,O),p===2&&(U=Yr(d),U!==0&&(O=U,p=wb(d,U))),p===1))throw S=Sm,wu(d,0),oc(d,O),Ts(d,Kr()),S;switch(d.finishedWork=B,d.finishedLanes=O,p){case 0:case 1:throw Error(r(345));case 2:bu(d,Os,il);break;case 3:if(oc(d,O),(O&130023424)===O&&(p=vb+500-Kr(),10<p)){if(Vs(d,0)!==0)break;if(B=d.suspendedLanes,(B&O)!==O){fs(),d.pingedLanes|=d.suspendedLanes&B;break}d.timeoutHandle=Aw(bu.bind(null,d,Os,il),p);break}bu(d,Os,il);break;case 4:if(oc(d,O),(O&4194240)===O)break;for(p=d.eventTimes,B=-1;0<O;){var ee=31-us(O);U=1<<ee,ee=p[ee],ee>B&&(B=ee),O&=~U}if(O=B,O=Kr()-O,O=(120>O?120:480>O?480:1080>O?1080:1920>O?1920:3e3>O?3e3:4320>O?4320:1960*VG(O/1960))-O,10<O){d.timeoutHandle=Aw(bu.bind(null,d,Os,il),O);break}bu(d,Os,il);break;case 5:bu(d,Os,il);break;default:throw Error(r(329))}}}return Ts(d,Kr()),d.callbackNode===S?FP.bind(null,d):null}function wb(d,p){var S=Cm;return d.current.memoizedState.isDehydrated&&(wu(d,p).flags|=256),d=G0(d,p),d!==2&&(p=Os,Os=S,p!==null&&bb(p)),d}function bb(d){Os===null?Os=d:Os.push.apply(Os,d)}function qG(d){for(var p=d;;){if(p.flags&16384){var S=p.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var O=0;O<S.length;O++){var B=S[O],U=B.getSnapshot;B=B.value;try{if(!Ae(U(),B))return!1}catch{return!1}}}if(S=p.child,p.subtreeFlags&16384&&S!==null)S.return=p,p=S;else{if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function oc(d,p){for(p&=~gb,p&=~$0,d.suspendedLanes|=p,d.pingedLanes&=~p,d=d.expirationTimes;0<p;){var S=31-us(p),O=1<<S;d[S]=-1,p&=~O}}function UP(d){if((Fr&6)!==0)throw Error(r(327));ef();var p=Vs(d,0);if((p&1)===0)return Ts(d,Kr()),null;var S=G0(d,p);if(d.tag!==0&&S===2){var O=Yr(d);O!==0&&(p=O,S=wb(d,O))}if(S===1)throw S=Sm,wu(d,0),oc(d,p),Ts(d,Kr()),S;if(S===6)throw Error(r(345));return d.finishedWork=d.current.alternate,d.finishedLanes=p,bu(d,Os,il),Ts(d,Kr()),null}function _b(d,p){var S=Fr;Fr|=1;try{return d(p)}finally{Fr=S,Fr===0&&(Jd=Kr()+500,w0&&ec())}}function xu(d){sc!==null&&sc.tag===0&&(Fr&6)===0&&ef();var p=Fr;Fr|=1;var S=ba.transition,O=wr;try{if(ba.transition=null,wr=1,d)return d()}finally{wr=O,ba.transition=S,Fr=p,(Fr&6)===0&&ec()}}function Sb(){Ks=Qd.current,_n(Qd)}function wu(d,p){d.finishedWork=null,d.finishedLanes=0;var S=d.timeoutHandle;if(S!==-1&&(d.timeoutHandle=-1,xG(S)),si!==null)for(S=si.return;S!==null;){var O=S;switch(Pw(O),O.tag){case 1:O=O.type.childContextTypes,O!=null&&y0();break;case 3:Yd(),_n(As),_n(Ji),Ww();break;case 5:qw(O);break;case 4:Yd();break;case 13:_n(In);break;case 19:_n(In);break;case 10:Bw(O.type._context);break;case 22:case 23:Sb()}S=S.return}if(Ti=d,si=d=lc(d.current,null),Fi=Ks=p,yi=0,Sm=null,gb=$0=yu=0,Os=Cm=null,pu!==null){for(p=0;p<pu.length;p++)if(S=pu[p],O=S.interleaved,O!==null){S.interleaved=null;var B=O.next,U=S.pending;if(U!==null){var ee=U.next;U.next=B,O.next=ee}S.pending=O}pu=null}return d}function $P(d,p){do{var S=si;try{if(Lw(),T0.current=R0,k0){for(var O=Rn.memoizedState;O!==null;){var B=O.queue;B!==null&&(B.pending=null),O=O.next}k0=!1}if(vu=0,Oi=vi=Rn=null,vm=!1,ym=0,pb.current=null,S===null||S.return===null){yi=1,Sm=p,si=null;break}e:{var U=d,ee=S.return,fe=S,ge=p;if(p=Fi,fe.flags|=32768,ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Le=ge,et=fe,rt=et.tag;if((et.mode&1)===0&&(rt===0||rt===11||rt===15)){var Ze=et.alternate;Ze?(et.updateQueue=Ze.updateQueue,et.memoizedState=Ze.memoizedState,et.lanes=Ze.lanes):(et.updateQueue=null,et.memoizedState=null)}var mt=fP(ee);if(mt!==null){mt.flags&=-257,hP(mt,ee,fe,U,p),mt.mode&1&&dP(U,Le,p),p=mt,ge=Le;var At=p.updateQueue;if(At===null){var Nt=new Set;Nt.add(ge),p.updateQueue=Nt}else At.add(ge);break e}else{if((p&1)===0){dP(U,Le,p),Cb();break e}ge=Error(r(426))}}else if(jn&&fe.mode&1){var ti=fP(ee);if(ti!==null){(ti.flags&65536)===0&&(ti.flags|=256),hP(ti,ee,fe,U,p),Mw(Xd(ge,fe));break e}}U=ge=Xd(ge,fe),yi!==4&&(yi=2),Cm===null?Cm=[U]:Cm.push(U),U=ee;do{switch(U.tag){case 3:U.flags|=65536,p&=-p,U.lanes|=p;var Oe=cP(U,ge,p);Dk(U,Oe);break e;case 1:fe=ge;var we=U.type,ke=U.stateNode;if((U.flags&128)===0&&(typeof we.getDerivedStateFromError=="function"||ke!==null&&typeof ke.componentDidCatch=="function"&&(ic===null||!ic.has(ke)))){U.flags|=65536,p&=-p,U.lanes|=p;var ot=uP(U,fe,p);Dk(U,ot);break e}}U=U.return}while(U!==null)}zP(S)}catch(Pt){p=Pt,si===S&&S!==null&&(si=S=S.return);continue}break}while(!0)}function VP(){var d=U0.current;return U0.current=R0,d===null?R0:d}function Cb(){(yi===0||yi===3||yi===2)&&(yi=4),Ti===null||(yu&268435455)===0&&($0&268435455)===0||oc(Ti,Fi)}function G0(d,p){var S=Fr;Fr|=2;var O=VP();(Ti!==d||Fi!==p)&&(il=null,wu(d,p));do try{zG();break}catch(B){$P(d,B)}while(!0);if(Lw(),Fr=S,U0.current=O,si!==null)throw Error(r(261));return Ti=null,Fi=0,yi}function zG(){for(;si!==null;)qP(si)}function WG(){for(;si!==null&&!un();)qP(si)}function qP(d){var p=GP(d.alternate,d,Ks);d.memoizedProps=d.pendingProps,p===null?zP(d):si=p,pb.current=null}function zP(d){var p=d;do{var S=p.alternate;if(d=p.return,(p.flags&32768)===0){if(S=LG(S,p,Ks),S!==null){si=S;return}}else{if(S=BG(S,p),S!==null){S.flags&=32767,si=S;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{yi=6,si=null;return}}if(p=p.sibling,p!==null){si=p;return}si=p=d}while(p!==null);yi===0&&(yi=5)}function bu(d,p,S){var O=wr,B=ba.transition;try{ba.transition=null,wr=1,HG(d,p,S,O)}finally{ba.transition=B,wr=O}return null}function HG(d,p,S,O){do ef();while(sc!==null);if((Fr&6)!==0)throw Error(r(327));S=d.finishedWork;var B=d.finishedLanes;if(S===null)return null;if(d.finishedWork=null,d.finishedLanes=0,S===d.current)throw Error(r(177));d.callbackNode=null,d.callbackPriority=0;var U=S.lanes|S.childLanes;if(Lt(d,U),d===Ti&&(si=Ti=null,Fi=0),(S.subtreeFlags&2064)===0&&(S.flags&2064)===0||q0||(q0=!0,KP(on,function(){return ef(),null})),U=(S.flags&15990)!==0,(S.subtreeFlags&15990)!==0||U){U=ba.transition,ba.transition=null;var ee=wr;wr=1;var fe=Fr;Fr|=4,pb.current=null,UG(d,S),RP(S,d),Qi(Cw),yo=!!Sw,Cw=Sw=null,d.current=S,$G(S),Qg(),Fr=fe,wr=ee,ba.transition=U}else d.current=S;if(q0&&(q0=!1,sc=d,z0=B),U=d.pendingLanes,U===0&&(ic=null),Pr(S.stateNode),Ts(d,Kr()),p!==null)for(O=d.onRecoverableError,S=0;S<p.length;S++)B=p[S],O(B.value,{componentStack:B.stack,digest:B.digest});if(V0)throw V0=!1,d=yb,yb=null,d;return(z0&1)!==0&&d.tag!==0&&ef(),U=d.pendingLanes,(U&1)!==0?d===xb?Em++:(Em=0,xb=d):Em=0,ec(),null}function ef(){if(sc!==null){var d=t0(z0),p=ba.transition,S=wr;try{if(ba.transition=null,wr=16>d?16:d,sc===null)var O=!1;else{if(d=sc,sc=null,z0=0,(Fr&6)!==0)throw Error(r(331));var B=Fr;for(Fr|=4,bt=d.current;bt!==null;){var U=bt,ee=U.child;if((bt.flags&16)!==0){var fe=U.deletions;if(fe!==null){for(var ge=0;ge<fe.length;ge++){var Le=fe[ge];for(bt=Le;bt!==null;){var et=bt;switch(et.tag){case 0:case 11:case 15:_m(8,et,U)}var rt=et.child;if(rt!==null)rt.return=et,bt=rt;else for(;bt!==null;){et=bt;var Ze=et.sibling,mt=et.return;if(OP(et),et===Le){bt=null;break}if(Ze!==null){Ze.return=mt,bt=Ze;break}bt=mt}}}var At=U.alternate;if(At!==null){var Nt=At.child;if(Nt!==null){At.child=null;do{var ti=Nt.sibling;Nt.sibling=null,Nt=ti}while(Nt!==null)}}bt=U}}if((U.subtreeFlags&2064)!==0&&ee!==null)ee.return=U,bt=ee;else e:for(;bt!==null;){if(U=bt,(U.flags&2048)!==0)switch(U.tag){case 0:case 11:case 15:_m(9,U,U.return)}var Oe=U.sibling;if(Oe!==null){Oe.return=U.return,bt=Oe;break e}bt=U.return}}var we=d.current;for(bt=we;bt!==null;){ee=bt;var ke=ee.child;if((ee.subtreeFlags&2064)!==0&&ke!==null)ke.return=ee,bt=ke;else e:for(ee=we;bt!==null;){if(fe=bt,(fe.flags&2048)!==0)try{switch(fe.tag){case 0:case 11:case 15:F0(9,fe)}}catch(Pt){qn(fe,fe.return,Pt)}if(fe===ee){bt=null;break e}var ot=fe.sibling;if(ot!==null){ot.return=fe.return,bt=ot;break e}bt=fe.return}}if(Fr=B,ec(),xr&&typeof xr.onPostCommitFiberRoot=="function")try{xr.onPostCommitFiberRoot(Mr,d)}catch{}O=!0}return O}finally{wr=S,ba.transition=p}}return!1}function WP(d,p,S){p=Xd(S,p),p=cP(d,p,1),d=rc(d,p,1),p=fs(),d!==null&&(le(d,1,p),Ts(d,p))}function qn(d,p,S){if(d.tag===3)WP(d,d,S);else for(;p!==null;){if(p.tag===3){WP(p,d,S);break}else if(p.tag===1){var O=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof O.componentDidCatch=="function"&&(ic===null||!ic.has(O))){d=Xd(S,d),d=uP(p,d,1),p=rc(p,d,1),d=fs(),p!==null&&(le(p,1,d),Ts(p,d));break}}p=p.return}}function GG(d,p,S){var O=d.pingCache;O!==null&&O.delete(p),p=fs(),d.pingedLanes|=d.suspendedLanes&S,Ti===d&&(Fi&S)===S&&(yi===4||yi===3&&(Fi&130023424)===Fi&&500>Kr()-vb?wu(d,0):gb|=S),Ts(d,p)}function HP(d,p){p===0&&((d.mode&1)===0?p=1:(p=Td,Td<<=1,(Td&130023424)===0&&(Td=4194304)));var S=fs();d=tl(d,p),d!==null&&(le(d,p,S),Ts(d,S))}function KG(d){var p=d.memoizedState,S=0;p!==null&&(S=p.retryLane),HP(d,S)}function YG(d,p){var S=0;switch(d.tag){case 13:var O=d.stateNode,B=d.memoizedState;B!==null&&(S=B.retryLane);break;case 19:O=d.stateNode;break;default:throw Error(r(314))}O!==null&&O.delete(p),HP(d,S)}var GP;GP=function(d,p,S){if(d!==null)if(d.memoizedProps!==p.pendingProps||As.current)Ns=!0;else{if((d.lanes&S)===0&&(p.flags&128)===0)return Ns=!1,DG(d,p,S);Ns=(d.flags&131072)!==0}else Ns=!1,jn&&(p.flags&1048576)!==0&&Ak(p,_0,p.index);switch(p.lanes=0,p.tag){case 2:var O=p.type;L0(d,p),d=p.pendingProps;var B=Vd(p,Ji.current);Kd(p,S),B=Kw(null,p,O,d,B,S);var U=Yw();return p.flags|=1,typeof B=="object"&&B!==null&&typeof B.render=="function"&&B.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,js(O)?(U=!0,x0(p)):U=!1,p.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,$w(p),B.updater=M0,p.stateNode=B,B._reactInternals=p,tb(p,O,d,S),p=sb(null,p,O,!0,U,S)):(p.tag=0,jn&&U&&kw(p),ds(null,p,B,S),p=p.child),p;case 16:O=p.elementType;e:{switch(L0(d,p),d=p.pendingProps,B=O._init,O=B(O._payload),p.type=O,B=p.tag=ZG(O),d=qa(O,d),B){case 0:p=ib(null,p,O,d,S);break e;case 1:p=xP(null,p,O,d,S);break e;case 11:p=mP(null,p,O,d,S);break e;case 14:p=pP(null,p,O,qa(O.type,d),S);break e}throw Error(r(306,O,""))}return p;case 0:return O=p.type,B=p.pendingProps,B=p.elementType===O?B:qa(O,B),ib(d,p,O,B,S);case 1:return O=p.type,B=p.pendingProps,B=p.elementType===O?B:qa(O,B),xP(d,p,O,B,S);case 3:e:{if(wP(p),d===null)throw Error(r(387));O=p.pendingProps,U=p.memoizedState,B=U.element,Mk(d,p),N0(p,O,null,S);var ee=p.memoizedState;if(O=ee.element,U.isDehydrated)if(U={element:O,isDehydrated:!1,cache:ee.cache,pendingSuspenseBoundaries:ee.pendingSuspenseBoundaries,transitions:ee.transitions},p.updateQueue.baseState=U,p.memoizedState=U,p.flags&256){B=Xd(Error(r(423)),p),p=bP(d,p,O,S,B);break e}else if(O!==B){B=Xd(Error(r(424)),p),p=bP(d,p,O,S,B);break e}else for(Gs=Zl(p.stateNode.containerInfo.firstChild),Hs=p,jn=!0,Va=null,S=Ik(p,null,O,S),p.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(Wd(),O===B){p=nl(d,p,S);break e}ds(d,p,O,S)}p=p.child}return p;case 5:return Bk(p),d===null&&Rw(p),O=p.type,B=p.pendingProps,U=d!==null?d.memoizedProps:null,ee=B.children,Ew(O,B)?ee=null:U!==null&&Ew(O,U)&&(p.flags|=32),yP(d,p),ds(d,p,ee,S),p.child;case 6:return d===null&&Rw(p),null;case 13:return _P(d,p,S);case 4:return Vw(p,p.stateNode.containerInfo),O=p.pendingProps,d===null?p.child=Hd(p,null,O,S):ds(d,p,O,S),p.child;case 11:return O=p.type,B=p.pendingProps,B=p.elementType===O?B:qa(O,B),mP(d,p,O,B,S);case 7:return ds(d,p,p.pendingProps,S),p.child;case 8:return ds(d,p,p.pendingProps.children,S),p.child;case 12:return ds(d,p,p.pendingProps.children,S),p.child;case 10:e:{if(O=p.type._context,B=p.pendingProps,U=p.memoizedProps,ee=B.value,hn(E0,O._currentValue),O._currentValue=ee,U!==null)if(Ae(U.value,ee)){if(U.children===B.children&&!As.current){p=nl(d,p,S);break e}}else for(U=p.child,U!==null&&(U.return=p);U!==null;){var fe=U.dependencies;if(fe!==null){ee=U.child;for(var ge=fe.firstContext;ge!==null;){if(ge.context===O){if(U.tag===1){ge=rl(-1,S&-S),ge.tag=2;var Le=U.updateQueue;if(Le!==null){Le=Le.shared;var et=Le.pending;et===null?ge.next=ge:(ge.next=et.next,et.next=ge),Le.pending=ge}}U.lanes|=S,ge=U.alternate,ge!==null&&(ge.lanes|=S),Fw(U.return,S,p),fe.lanes|=S;break}ge=ge.next}}else if(U.tag===10)ee=U.type===p.type?null:U.child;else if(U.tag===18){if(ee=U.return,ee===null)throw Error(r(341));ee.lanes|=S,fe=ee.alternate,fe!==null&&(fe.lanes|=S),Fw(ee,S,p),ee=U.sibling}else ee=U.child;if(ee!==null)ee.return=U;else for(ee=U;ee!==null;){if(ee===p){ee=null;break}if(U=ee.sibling,U!==null){U.return=ee.return,ee=U;break}ee=ee.return}U=ee}ds(d,p,B.children,S),p=p.child}return p;case 9:return B=p.type,O=p.pendingProps.children,Kd(p,S),B=xa(B),O=O(B),p.flags|=1,ds(d,p,O,S),p.child;case 14:return O=p.type,B=qa(O,p.pendingProps),B=qa(O.type,B),pP(d,p,O,B,S);case 15:return gP(d,p,p.type,p.pendingProps,S);case 17:return O=p.type,B=p.pendingProps,B=p.elementType===O?B:qa(O,B),L0(d,p),p.tag=1,js(O)?(d=!0,x0(p)):d=!1,Kd(p,S),oP(p,O,B),tb(p,O,B,S),sb(null,p,O,!0,d,S);case 19:return CP(d,p,S);case 22:return vP(d,p,S)}throw Error(r(156,p.tag))};function KP(d,p){return Us(d,p)}function XG(d,p,S,O){this.tag=d,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=O,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _a(d,p,S,O){return new XG(d,p,S,O)}function Eb(d){return d=d.prototype,!(!d||!d.isReactComponent)}function ZG(d){if(typeof d=="function")return Eb(d)?1:0;if(d!=null){if(d=d.$$typeof,d===V)return 11;if(d===Y)return 14}return 2}function lc(d,p){var S=d.alternate;return S===null?(S=_a(d.tag,p,d.key,d.mode),S.elementType=d.elementType,S.type=d.type,S.stateNode=d.stateNode,S.alternate=d,d.alternate=S):(S.pendingProps=p,S.type=d.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=d.flags&14680064,S.childLanes=d.childLanes,S.lanes=d.lanes,S.child=d.child,S.memoizedProps=d.memoizedProps,S.memoizedState=d.memoizedState,S.updateQueue=d.updateQueue,p=d.dependencies,S.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},S.sibling=d.sibling,S.index=d.index,S.ref=d.ref,S}function K0(d,p,S,O,B,U){var ee=2;if(O=d,typeof d=="function")Eb(d)&&(ee=1);else if(typeof d=="string")ee=5;else e:switch(d){case R:return _u(S.children,B,U,p);case $:ee=8,B|=8;break;case z:return d=_a(12,S,p,B|2),d.elementType=z,d.lanes=U,d;case K:return d=_a(13,S,p,B),d.elementType=K,d.lanes=U,d;case q:return d=_a(19,S,p,B),d.elementType=q,d.lanes=U,d;case ne:return Y0(S,B,U,p);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case G:ee=10;break e;case W:ee=9;break e;case V:ee=11;break e;case Y:ee=14;break e;case J:ee=16,O=null;break e}throw Error(r(130,d==null?d:typeof d,""))}return p=_a(ee,S,p,B),p.elementType=d,p.type=O,p.lanes=U,p}function _u(d,p,S,O){return d=_a(7,d,O,p),d.lanes=S,d}function Y0(d,p,S,O){return d=_a(22,d,O,p),d.elementType=ne,d.lanes=S,d.stateNode={isHidden:!1},d}function Ab(d,p,S){return d=_a(6,d,null,p),d.lanes=S,d}function jb(d,p,S){return p=_a(4,d.children!==null?d.children:[],d.key,p),p.lanes=S,p.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},p}function QG(d,p,S,O,B){this.tag=p,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ne(0),this.expirationTimes=Ne(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.identifierPrefix=O,this.onRecoverableError=B,this.mutableSourceEagerHydrationData=null}function Nb(d,p,S,O,B,U,ee,fe,ge){return d=new QG(d,p,S,fe,ge),p===1?(p=1,U===!0&&(p|=8)):p=0,U=_a(3,null,null,p),d.current=U,U.stateNode=d,U.memoizedState={element:O,isDehydrated:S,cache:null,transitions:null,pendingSuspenseBoundaries:null},$w(U),d}function JG(d,p,S){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:O==null?null:""+O,children:d,containerInfo:p,implementation:S}}function YP(d){if(!d)return Jl;d=d._reactInternals;e:{if(Xi(d)!==d||d.tag!==1)throw Error(r(170));var p=d;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(js(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(r(171))}if(d.tag===1){var S=d.type;if(js(S))return Sk(d,S,p)}return p}function XP(d,p,S,O,B,U,ee,fe,ge){return d=Nb(S,O,!0,d,B,U,ee,fe,ge),d.context=YP(null),S=d.current,O=fs(),B=ac(S),U=rl(O,B),U.callback=p??null,rc(S,U,B),d.current.lanes=B,le(d,B,O),Ts(d,O),d}function X0(d,p,S,O){var B=p.current,U=fs(),ee=ac(B);return S=YP(S),p.context===null?p.context=S:p.pendingContext=S,p=rl(U,ee),p.payload={element:d},O=O===void 0?null:O,O!==null&&(p.callback=O),d=rc(B,p,ee),d!==null&&(Ha(d,B,ee,U),j0(d,B,ee)),ee}function Z0(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function ZP(d,p){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var S=d.retryLane;d.retryLane=S!==0&&S<p?S:p}}function Ob(d,p){ZP(d,p),(d=d.alternate)&&ZP(d,p)}function eK(){return null}var QP=typeof reportError=="function"?reportError:function(d){console.error(d)};function Tb(d){this._internalRoot=d}Q0.prototype.render=Tb.prototype.render=function(d){var p=this._internalRoot;if(p===null)throw Error(r(409));X0(d,p,null,null)},Q0.prototype.unmount=Tb.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var p=d.containerInfo;xu(function(){X0(null,d,null,null)}),p[Zo]=null}};function Q0(d){this._internalRoot=d}Q0.prototype.unstable_scheduleHydration=function(d){if(d){var p=dn();d={blockedOn:null,target:d,priority:p};for(var S=0;S<Mi.length&&p!==0&&p<Mi[S].priority;S++);Mi.splice(S,0,d),S===0&&n0(d)}};function kb(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function J0(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function JP(){}function tK(d,p,S,O,B){if(B){if(typeof O=="function"){var U=O;O=function(){var Le=Z0(ee);U.call(Le)}}var ee=XP(p,O,d,0,null,!1,!1,"",JP);return d._reactRootContainer=ee,d[Zo]=ee.current,cm(d.nodeType===8?d.parentNode:d),xu(),ee}for(;B=d.lastChild;)d.removeChild(B);if(typeof O=="function"){var fe=O;O=function(){var Le=Z0(ge);fe.call(Le)}}var ge=Nb(d,0,!1,null,null,!1,!1,"",JP);return d._reactRootContainer=ge,d[Zo]=ge.current,cm(d.nodeType===8?d.parentNode:d),xu(function(){X0(p,ge,S,O)}),ge}function ev(d,p,S,O,B){var U=S._reactRootContainer;if(U){var ee=U;if(typeof B=="function"){var fe=B;B=function(){var ge=Z0(ee);fe.call(ge)}}X0(p,ee,d,B)}else ee=tK(S,p,d,B,O);return Z0(ee)}kd=function(d){switch(d.tag){case 3:var p=d.stateNode;if(p.current.memoizedState.isDehydrated){var S=ln(p.pendingLanes);S!==0&&($n(p,S|1),Ts(p,Kr()),(Fr&6)===0&&(Jd=Kr()+500,ec()))}break;case 13:xu(function(){var O=tl(d,1);if(O!==null){var B=fs();Ha(O,d,1,B)}}),Ob(d,1)}},Zi=function(d){if(d.tag===13){var p=tl(d,134217728);if(p!==null){var S=fs();Ha(p,d,134217728,S)}Ob(d,134217728)}},Ut=function(d){if(d.tag===13){var p=ac(d),S=tl(d,p);if(S!==null){var O=fs();Ha(S,d,p,O)}Ob(d,p)}},dn=function(){return wr},Yh=function(d,p){var S=wr;try{return wr=d,p()}finally{wr=S}},fa=function(d,p,S){switch(p){case"input":if(lt(d,S),p=S.name,S.type==="radio"&&p!=null){for(S=d;S.parentNode;)S=S.parentNode;for(S=S.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<S.length;p++){var O=S[p];if(O!==d&&O.form===d.form){var B=v0(O);if(!B)throw Error(r(90));be(O),lt(O,B)}}}break;case"textarea":Ke(d,S);break;case"select":p=S.value,p!=null&&he(d,!!S.multiple,p,!1)}},kr=_b,ar=xu;var rK={usingClientEntryPoint:!1,Events:[fm,Ud,v0,Wo,kt,_b]},Am={findFiberByHostInstance:du,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nK={bundleType:Am.bundleType,version:Am.version,rendererPackageName:Am.rendererPackageName,rendererConfig:Am.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=Xg(d),d===null?null:d.stateNode},findFiberByHostInstance:Am.findFiberByHostInstance||eK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tv.isDisabled&&tv.supportsFiber)try{Mr=tv.inject(nK),xr=tv}catch{}}return ks.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rK,ks.createPortal=function(d,p){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kb(p))throw Error(r(200));return JG(d,p,null,S)},ks.createRoot=function(d,p){if(!kb(d))throw Error(r(299));var S=!1,O="",B=QP;return p!=null&&(p.unstable_strictMode===!0&&(S=!0),p.identifierPrefix!==void 0&&(O=p.identifierPrefix),p.onRecoverableError!==void 0&&(B=p.onRecoverableError)),p=Nb(d,1,!1,null,null,S,!1,O,B),d[Zo]=p.current,cm(d.nodeType===8?d.parentNode:d),new Tb(p)},ks.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var p=d._reactInternals;if(p===void 0)throw typeof d.render=="function"?Error(r(188)):(d=Object.keys(d).join(","),Error(r(268,d)));return d=Xg(p),d=d===null?null:d.stateNode,d},ks.flushSync=function(d){return xu(d)},ks.hydrate=function(d,p,S){if(!J0(p))throw Error(r(200));return ev(null,d,p,!0,S)},ks.hydrateRoot=function(d,p,S){if(!kb(d))throw Error(r(405));var O=S!=null&&S.hydratedSources||null,B=!1,U="",ee=QP;if(S!=null&&(S.unstable_strictMode===!0&&(B=!0),S.identifierPrefix!==void 0&&(U=S.identifierPrefix),S.onRecoverableError!==void 0&&(ee=S.onRecoverableError)),p=XP(p,null,d,1,S??null,B,!1,U,ee),d[Zo]=p.current,cm(d),O)for(d=0;d<O.length;d++)S=O[d],B=S._getVersion,B=B(S._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[S,B]:p.mutableSourceEagerHydrationData.push(S,B);return new Q0(p)},ks.render=function(d,p,S){if(!J0(p))throw Error(r(200));return ev(null,d,p,!1,S)},ks.unmountComponentAtNode=function(d){if(!J0(d))throw Error(r(40));return d._reactRootContainer?(xu(function(){ev(null,null,d,!1,function(){d._reactRootContainer=null,d[Zo]=null})}),!0):!1},ks.unstable_batchedUpdates=_b,ks.unstable_renderSubtreeIntoContainer=function(d,p,S,O){if(!J0(S))throw Error(r(200));if(d==null||d._reactInternals===void 0)throw Error(r(38));return ev(d,p,S,!1,O)},ks.version="18.3.1-next-f1338f8080-20240426",ks}var oI;function mB(){if(oI)return Rb.exports;oI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Rb.exports=dK(),Rb.exports}var lI;function fK(){if(lI)return rv;lI=1;var t=mB();return rv.createRoot=t.createRoot,rv.hydrateRoot=t.hydrateRoot,rv}var hK=fK(),N=M1();const ie=Ur(N),yN=vN({__proto__:null,default:ie},[N]),mK=5,pK=1e3,gK=5e3,vK=3e3,yK=7e3,xK=5e3;let Lb=0;function wK(){return Lb=(Lb+1)%Number.MAX_SAFE_INTEGER,Lb.toString()}const Bb=new Map,Bu=new Map,cI=t=>{if(Bb.has(t))return;const e=setTimeout(()=>{Bb.delete(t),Nf({type:"REMOVE_TOAST",toastId:t})},pK);Bb.set(t,e)},pB=(t,e)=>{Bu.has(t)&&clearTimeout(Bu.get(t));const r=setTimeout(()=>{Bu.delete(t),Nf({type:"DISMISS_TOAST",toastId:t})},e);Bu.set(t,r)},ty=t=>{Bu.has(t)&&(clearTimeout(Bu.get(t)),Bu.delete(t))},bK=(t,e)=>{switch(e.type){case"ADD_TOAST":{const r=[e.toast,...t.toasts].slice(0,mK);return e.toast.duration!==void 0&&e.toast.duration>0&&pB(e.toast.id,e.toast.duration),{...t,toasts:r}}case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?(ty(r),cI(r)):t.toasts.forEach(n=>{ty(n.id),cI(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Bv=[];let Fv={toasts:[]};function Nf(t){Fv=bK(Fv,t),Bv.forEach(e=>{e(Fv)})}const _K=t=>{switch(t){case"success":return vK;case"destructive":return yK;case"info":return xK;default:return gK}};function pp({duration:t,variant:e,...r}){const n=wK(),i=t!==void 0?t:_K(e),s=c=>{ty(n),Nf({type:"UPDATE_TOAST",toast:{...c,id:n}}),c.duration!==void 0&&c.duration>0&&pB(n,c.duration)},o=()=>{ty(n),Nf({type:"DISMISS_TOAST",toastId:n})};return Nf({type:"ADD_TOAST",toast:{...r,variant:e,id:n,duration:i,open:!0,onOpenChange:c=>{c||o()}}}),{id:n,dismiss:o,update:s}}function Gn(){const[t,e]=N.useState(Fv);return N.useEffect(()=>(Bv.push(e),()=>{const r=Bv.indexOf(e);r>-1&&Bv.splice(r,1)}),[]),{...t,toast:pp,dismiss:r=>Nf({type:"DISMISS_TOAST",toastId:r})}}var Ah=mB();const gB=Ur(Ah);function ft(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t?.(i),r===!1||!i.defaultPrevented)return e?.(i)}}function uI(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function D1(...t){return e=>{let r=!1;const n=t.map(i=>{const s=uI(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():uI(t[i],null)}}}}function Nr(...t){return N.useCallback(D1(...t),t)}function SK(t,e){const r=N.createContext(e),n=s=>{const{children:o,...c}=s,u=N.useMemo(()=>c,Object.values(c));return a.jsx(r.Provider,{value:u,children:o})};n.displayName=t+"Provider";function i(s){const o=N.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function ls(t,e=[]){let r=[];function n(s,o){const c=N.createContext(o),u=r.length;r=[...r,o];const h=v=>{const{scope:w,children:b,...A}=v,C=w?.[t]?.[u]||c,E=N.useMemo(()=>A,Object.values(A));return a.jsx(C.Provider,{value:E,children:b})};h.displayName=s+"Provider";function g(v,w){const b=w?.[t]?.[u]||c,A=N.useContext(b);if(A)return A;if(o!==void 0)return o;throw new Error(`\`${v}\` must be used within \`${s}\``)}return[h,g]}const i=()=>{const s=r.map(o=>N.createContext(o));return function(c){const u=c?.[t]||s;return N.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return i.scopeName=t,[n,CK(i,...e)]}function CK(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((c,{useScope:u,scopeName:h})=>{const v=u(s)[`__scope${h}`];return{...c,...v}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function Pc(t){const e=EK(t),r=N.forwardRef((n,i)=>{const{children:s,...o}=n,c=N.Children.toArray(s),u=c.find(AK);if(u){const h=u.props.children,g=c.map(v=>v===u?N.Children.count(h)>1?N.Children.only(null):N.isValidElement(h)?h.props.children:null:v);return a.jsx(e,{...o,ref:i,children:N.isValidElement(h)?N.cloneElement(h,void 0,g):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}var vd=Pc("Slot");function EK(t){const e=N.forwardRef((r,n)=>{const{children:i,...s}=r;if(N.isValidElement(i)){const o=NK(i),c=jK(s,i.props);return i.type!==N.Fragment&&(c.ref=n?D1(n,o):o),N.cloneElement(i,c)}return N.Children.count(i)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var vB=Symbol("radix.slottable");function yB(t){const e=({children:r})=>a.jsx(a.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=vB,e}function AK(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===vB}function jK(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...c)=>{const u=s(...c);return i(...c),u}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function NK(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function L1(t){const e=t+"CollectionProvider",[r,n]=ls(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=C=>{const{scope:E,children:P}=C,k=ie.useRef(null),I=ie.useRef(new Map).current;return a.jsx(i,{scope:E,itemMap:I,collectionRef:k,children:P})};o.displayName=e;const c=t+"CollectionSlot",u=Pc(c),h=ie.forwardRef((C,E)=>{const{scope:P,children:k}=C,I=s(c,P),F=Nr(E,I.collectionRef);return a.jsx(u,{ref:F,children:k})});h.displayName=c;const g=t+"CollectionItemSlot",v="data-radix-collection-item",w=Pc(g),b=ie.forwardRef((C,E)=>{const{scope:P,children:k,...I}=C,F=ie.useRef(null),M=Nr(E,F),D=s(g,P);return ie.useEffect(()=>(D.itemMap.set(F,{ref:F,...I}),()=>void D.itemMap.delete(F))),a.jsx(w,{[v]:"",ref:M,children:k})});b.displayName=g;function A(C){const E=s(t+"CollectionConsumer",C);return ie.useCallback(()=>{const k=E.collectionRef.current;if(!k)return[];const I=Array.from(k.querySelectorAll(`[${v}]`));return Array.from(E.itemMap.values()).sort((D,R)=>I.indexOf(D.ref.current)-I.indexOf(R.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:h,ItemSlot:b},A,n]}var OK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Mt=OK.reduce((t,e)=>{const r=Pc(`Primitive.${e}`),n=N.forwardRef((i,s)=>{const{asChild:o,...c}=i,u=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(u,{...c,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function xN(t,e){t&&Ah.flushSync(()=>t.dispatchEvent(e))}function Ss(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...r)=>e.current?.(...r),[])}function TK(t,e=globalThis?.document){const r=Ss(t);N.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var kK="DismissableLayer",XE="dismissableLayer.update",PK="dismissableLayer.pointerDownOutside",IK="dismissableLayer.focusOutside",dI,xB=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yd=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:c,...u}=t,h=N.useContext(xB),[g,v]=N.useState(null),w=g?.ownerDocument??globalThis?.document,[,b]=N.useState({}),A=Nr(e,R=>v(R)),C=Array.from(h.layers),[E]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),P=C.indexOf(E),k=g?C.indexOf(g):-1,I=h.layersWithOutsidePointerEventsDisabled.size>0,F=k>=P,M=MK(R=>{const $=R.target,z=[...h.branches].some(G=>G.contains($));!F||z||(i?.(R),o?.(R),R.defaultPrevented||c?.())},w),D=DK(R=>{const $=R.target;[...h.branches].some(G=>G.contains($))||(s?.(R),o?.(R),R.defaultPrevented||c?.())},w);return TK(R=>{k===h.layers.size-1&&(n?.(R),!R.defaultPrevented&&c&&(R.preventDefault(),c()))},w),N.useEffect(()=>{if(g)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(dI=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(g)),h.layers.add(g),fI(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=dI)}},[g,w,r,h]),N.useEffect(()=>()=>{g&&(h.layers.delete(g),h.layersWithOutsidePointerEventsDisabled.delete(g),fI())},[g,h]),N.useEffect(()=>{const R=()=>b({});return document.addEventListener(XE,R),()=>document.removeEventListener(XE,R)},[]),a.jsx(Mt.div,{...u,ref:A,style:{pointerEvents:I?F?"auto":"none":void 0,...t.style},onFocusCapture:ft(t.onFocusCapture,D.onFocusCapture),onBlurCapture:ft(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:ft(t.onPointerDownCapture,M.onPointerDownCapture)})});yd.displayName=kK;var RK="DismissableLayerBranch",wB=N.forwardRef((t,e)=>{const r=N.useContext(xB),n=N.useRef(null),i=Nr(e,n);return N.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(Mt.div,{...t,ref:i})});wB.displayName=RK;function MK(t,e=globalThis?.document){const r=Ss(t),n=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const s=c=>{if(c.target&&!n.current){let u=function(){bB(PK,r,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function DK(t,e=globalThis?.document){const r=Ss(t),n=N.useRef(!1);return N.useEffect(()=>{const i=s=>{s.target&&!n.current&&bB(IK,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function fI(){const t=new CustomEvent(XE);document.dispatchEvent(t)}function bB(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?xN(i,s):i.dispatchEvent(s)}var LK=yd,BK=wB,fi=globalThis?.document?N.useLayoutEffect:()=>{},FK="Portal",jh=N.forwardRef((t,e)=>{const{container:r,...n}=t,[i,s]=N.useState(!1);fi(()=>s(!0),[]);const o=r||i&&globalThis?.document?.body;return o?gB.createPortal(a.jsx(Mt.div,{...n,ref:e}),o):null});jh.displayName=FK;function UK(t,e){return N.useReducer((r,n)=>e[r][n]??r,t)}var Bs=t=>{const{present:e,children:r}=t,n=$K(e),i=typeof r=="function"?r({present:n.isPresent}):N.Children.only(r),s=Nr(n.ref,VK(i));return typeof r=="function"||n.isPresent?N.cloneElement(i,{ref:s}):null};Bs.displayName="Presence";function $K(t){const[e,r]=N.useState(),n=N.useRef(null),i=N.useRef(t),s=N.useRef("none"),o=t?"mounted":"unmounted",[c,u]=UK(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const h=nv(n.current);s.current=c==="mounted"?h:"none"},[c]),fi(()=>{const h=n.current,g=i.current;if(g!==t){const w=s.current,b=nv(h);t?u("MOUNT"):b==="none"||h?.display==="none"?u("UNMOUNT"):u(g&&w!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),fi(()=>{if(e){let h;const g=e.ownerDocument.defaultView??window,v=b=>{const C=nv(n.current).includes(b.animationName);if(b.target===e&&C&&(u("ANIMATION_END"),!i.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",h=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},w=b=>{b.target===e&&(s.current=nv(n.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{g.clearTimeout(h),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:N.useCallback(h=>{n.current=h?getComputedStyle(h):null,r(h)},[])}}function nv(t){return t?.animationName||"none"}function VK(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var qK=yN[" useInsertionEffect ".trim().toString()]||fi;function lo({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,s,o]=zK({defaultProp:e,onChange:r}),c=t!==void 0,u=c?t:i;{const g=N.useRef(t!==void 0);N.useEffect(()=>{const v=g.current;v!==c&&console.warn(`${n} is changing from ${v?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=c},[c,n])}const h=N.useCallback(g=>{if(c){const v=WK(g)?g(t):g;v!==t&&o.current?.(v)}else s(g)},[c,t,s,o]);return[u,h]}function zK({defaultProp:t,onChange:e}){const[r,n]=N.useState(t),i=N.useRef(r),s=N.useRef(e);return qK(()=>{s.current=e},[e]),N.useEffect(()=>{i.current!==r&&(s.current?.(r),i.current=r)},[r,i]),[r,n,s]}function WK(t){return typeof t=="function"}var _B=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),HK="VisuallyHidden",B1=N.forwardRef((t,e)=>a.jsx(Mt.span,{...t,ref:e,style:{..._B,...t.style}}));B1.displayName=HK;var GK=B1,wN="ToastProvider",[bN,KK,YK]=L1("Toast"),[SB]=ls("Toast",[YK]),[XK,F1]=SB(wN),CB=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[c,u]=N.useState(null),[h,g]=N.useState(0),v=N.useRef(!1),w=N.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${wN}\`. Expected non-empty \`string\`.`),a.jsx(bN.Provider,{scope:e,children:a.jsx(XK,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:s,toastCount:h,viewport:c,onViewportChange:u,onToastAdd:N.useCallback(()=>g(b=>b+1),[]),onToastRemove:N.useCallback(()=>g(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:w,children:o})})};CB.displayName=wN;var EB="ToastViewport",ZK=["F8"],ZE="toast.viewportPause",QE="toast.viewportResume",AB=N.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=ZK,label:i="Notifications ({hotkey})",...s}=t,o=F1(EB,r),c=KK(r),u=N.useRef(null),h=N.useRef(null),g=N.useRef(null),v=N.useRef(null),w=Nr(e,v,o.onViewportChange),b=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=o.toastCount>0;N.useEffect(()=>{const E=P=>{n.length!==0&&n.every(I=>P[I]||P.code===I)&&v.current?.focus()};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[n]),N.useEffect(()=>{const E=u.current,P=v.current;if(A&&E&&P){const k=()=>{if(!o.isClosePausedRef.current){const D=new CustomEvent(ZE);P.dispatchEvent(D),o.isClosePausedRef.current=!0}},I=()=>{if(o.isClosePausedRef.current){const D=new CustomEvent(QE);P.dispatchEvent(D),o.isClosePausedRef.current=!1}},F=D=>{!E.contains(D.relatedTarget)&&I()},M=()=>{E.contains(document.activeElement)||I()};return E.addEventListener("focusin",k),E.addEventListener("focusout",F),E.addEventListener("pointermove",k),E.addEventListener("pointerleave",M),window.addEventListener("blur",k),window.addEventListener("focus",I),()=>{E.removeEventListener("focusin",k),E.removeEventListener("focusout",F),E.removeEventListener("pointermove",k),E.removeEventListener("pointerleave",M),window.removeEventListener("blur",k),window.removeEventListener("focus",I)}}},[A,o.isClosePausedRef]);const C=N.useCallback(({tabbingDirection:E})=>{const k=c().map(I=>{const F=I.ref.current,M=[F,...uY(F)];return E==="forwards"?M:M.reverse()});return(E==="forwards"?k.reverse():k).flat()},[c]);return N.useEffect(()=>{const E=v.current;if(E){const P=k=>{const I=k.altKey||k.ctrlKey||k.metaKey;if(k.key==="Tab"&&!I){const M=document.activeElement,D=k.shiftKey;if(k.target===E&&D){h.current?.focus();return}const z=C({tabbingDirection:D?"backwards":"forwards"}),G=z.findIndex(W=>W===M);Fb(z.slice(G+1))?k.preventDefault():D?h.current?.focus():g.current?.focus()}};return E.addEventListener("keydown",P),()=>E.removeEventListener("keydown",P)}},[c,C]),a.jsxs(BK,{ref:u,role:"region","aria-label":i.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:A?void 0:"none"},children:[A&&a.jsx(JE,{ref:h,onFocusFromOutsideViewport:()=>{const E=C({tabbingDirection:"forwards"});Fb(E)}}),a.jsx(bN.Slot,{scope:r,children:a.jsx(Mt.ol,{tabIndex:-1,...s,ref:w})}),A&&a.jsx(JE,{ref:g,onFocusFromOutsideViewport:()=>{const E=C({tabbingDirection:"backwards"});Fb(E)}})]})});AB.displayName=EB;var jB="ToastFocusProxy",JE=N.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,s=F1(jB,r);return a.jsx(B1,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{const c=o.relatedTarget;!s.viewport?.contains(c)&&n()}})});JE.displayName=jB;var vg="Toast",QK="toast.swipeStart",JK="toast.swipeMove",eY="toast.swipeCancel",tY="toast.swipeEnd",NB=N.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...o}=t,[c,u]=lo({prop:n,defaultProp:i??!0,onChange:s,caller:vg});return a.jsx(Bs,{present:r||c,children:a.jsx(iY,{open:c,...o,ref:e,onClose:()=>u(!1),onPause:Ss(t.onPause),onResume:Ss(t.onResume),onSwipeStart:ft(t.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ft(t.onSwipeMove,h=>{const{x:g,y:v}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:ft(t.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ft(t.onSwipeEnd,h=>{const{x:g,y:v}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),u(!1)})})})});NB.displayName=vg;var[rY,nY]=SB(vg,{onClose(){}}),iY=N.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:c,onPause:u,onResume:h,onSwipeStart:g,onSwipeMove:v,onSwipeCancel:w,onSwipeEnd:b,...A}=t,C=F1(vg,r),[E,P]=N.useState(null),k=Nr(e,q=>P(q)),I=N.useRef(null),F=N.useRef(null),M=i||C.duration,D=N.useRef(0),R=N.useRef(M),$=N.useRef(0),{onToastAdd:z,onToastRemove:G}=C,W=Ss(()=>{E?.contains(document.activeElement)&&C.viewport?.focus(),o()}),V=N.useCallback(q=>{!q||q===1/0||(window.clearTimeout($.current),D.current=new Date().getTime(),$.current=window.setTimeout(W,q))},[W]);N.useEffect(()=>{const q=C.viewport;if(q){const Y=()=>{V(R.current),h?.()},J=()=>{const ne=new Date().getTime()-D.current;R.current=R.current-ne,window.clearTimeout($.current),u?.()};return q.addEventListener(ZE,J),q.addEventListener(QE,Y),()=>{q.removeEventListener(ZE,J),q.removeEventListener(QE,Y)}}},[C.viewport,M,u,h,V]),N.useEffect(()=>{s&&!C.isClosePausedRef.current&&V(M)},[s,M,C.isClosePausedRef,V]),N.useEffect(()=>(z(),()=>G()),[z,G]);const K=N.useMemo(()=>E?MB(E):null,[E]);return C.viewport?a.jsxs(a.Fragment,{children:[K&&a.jsx(sY,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:K}),a.jsx(rY,{scope:r,onClose:W,children:Ah.createPortal(a.jsx(bN.ItemSlot,{scope:r,children:a.jsx(LK,{asChild:!0,onEscapeKeyDown:ft(c,()=>{C.isFocusedToastEscapeKeyDownRef.current||W(),C.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Mt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":C.swipeDirection,...A,ref:k,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ft(t.onKeyDown,q=>{q.key==="Escape"&&(c?.(q.nativeEvent),q.nativeEvent.defaultPrevented||(C.isFocusedToastEscapeKeyDownRef.current=!0,W()))}),onPointerDown:ft(t.onPointerDown,q=>{q.button===0&&(I.current={x:q.clientX,y:q.clientY})}),onPointerMove:ft(t.onPointerMove,q=>{if(!I.current)return;const Y=q.clientX-I.current.x,J=q.clientY-I.current.y,ne=!!F.current,te=["left","right"].includes(C.swipeDirection),Q=["left","up"].includes(C.swipeDirection)?Math.min:Math.max,ue=te?Q(0,Y):0,ae=te?0:Q(0,J),se=q.pointerType==="touch"?10:2,me={x:ue,y:ae},xe={originalEvent:q,delta:me};ne?(F.current=me,iv(JK,v,xe,{discrete:!1})):hI(me,C.swipeDirection,se)?(F.current=me,iv(QK,g,xe,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(Y)>se||Math.abs(J)>se)&&(I.current=null)}),onPointerUp:ft(t.onPointerUp,q=>{const Y=F.current,J=q.target;if(J.hasPointerCapture(q.pointerId)&&J.releasePointerCapture(q.pointerId),F.current=null,I.current=null,Y){const ne=q.currentTarget,te={originalEvent:q,delta:Y};hI(Y,C.swipeDirection,C.swipeThreshold)?iv(tY,b,te,{discrete:!0}):iv(eY,w,te,{discrete:!0}),ne.addEventListener("click",Q=>Q.preventDefault(),{once:!0})}})})})}),C.viewport)})]}):null}),sY=t=>{const{__scopeToast:e,children:r,...n}=t,i=F1(vg,e),[s,o]=N.useState(!1),[c,u]=N.useState(!1);return lY(()=>o(!0)),N.useEffect(()=>{const h=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(h)},[]),c?null:a.jsx(jh,{asChild:!0,children:a.jsx(B1,{...n,children:s&&a.jsxs(a.Fragment,{children:[i.label," ",r]})})})},aY="ToastTitle",OB=N.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return a.jsx(Mt.div,{...n,ref:e})});OB.displayName=aY;var oY="ToastDescription",TB=N.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return a.jsx(Mt.div,{...n,ref:e})});TB.displayName=oY;var kB="ToastAction",PB=N.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?a.jsx(RB,{altText:r,asChild:!0,children:a.jsx(_N,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${kB}\`. Expected non-empty \`string\`.`),null)});PB.displayName=kB;var IB="ToastClose",_N=N.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=nY(IB,r);return a.jsx(RB,{asChild:!0,children:a.jsx(Mt.button,{type:"button",...n,ref:e,onClick:ft(t.onClick,i.onClose)})})});_N.displayName=IB;var RB=N.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return a.jsx(Mt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function MB(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),cY(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...MB(n))}}),e}function iv(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?xN(i,s):i.dispatchEvent(s)}var hI=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),s=n>i;return e==="left"||e==="right"?s&&n>r:!s&&i>r};function lY(t=()=>{}){const e=Ss(t);fi(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function cY(t){return t.nodeType===t.ELEMENT_NODE}function uY(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Fb(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var dY=CB,DB=AB,LB=NB,BB=OB,FB=TB,UB=PB,$B=_N;function VB(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=VB(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function hr(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=VB(t))&&(n&&(n+=" "),n+=e);return n}const mI=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,pI=hr,xd=(t,e)=>r=>{var n;if(e?.variants==null)return pI(t,r?.class,r?.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(h=>{const g=r?.[h],v=s?.[h];if(g===null)return null;const w=mI(g)||mI(v);return i[h][w]}),c=r&&Object.entries(r).reduce((h,g)=>{let[v,w]=g;return w===void 0||(h[v]=w),h},{}),u=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((h,g)=>{let{class:v,className:w,...b}=g;return Object.entries(b).every(A=>{let[C,E]=A;return Array.isArray(E)?E.includes({...s,...c}[C]):{...s,...c}[C]===E})?[...h,v,w]:h},[]);return pI(t,o,u,r?.class,r?.className)};const fY=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qB=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();var hY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const mY=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...c},u)=>N.createElement("svg",{ref:u,...hY,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:qB("lucide",i),...c},[...o.map(([h,g])=>N.createElement(h,g)),...Array.isArray(s)?s:[s]]));const wt=(t,e)=>{const r=N.forwardRef(({className:n,...i},s)=>N.createElement(mY,{ref:s,iconNode:e,className:qB(`lucide-${fY(t)}`,n),...i}));return r.displayName=`${t}`,r};const gI=wt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const eA=wt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const tA=wt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const pY=wt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const zB=wt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const yg=wt("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);const Fn=wt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const vI=wt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const SN=wt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const CN=wt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const EN=wt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Wi=wt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const bs=wt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const gY=wt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const Al=wt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Do=wt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Ic=wt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const vY=wt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const Lo=wt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const rA=wt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const yY=wt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const xY=wt("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);const nA=wt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const Ao=wt("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);const wY=wt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);const Ub=wt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const $b=wt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const U1=wt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);const bY=wt("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);const _Y=wt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const yI=wt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const SY=wt("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);const Wn=wt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const WB=wt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const HB=wt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);const AN=wt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const ry=wt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const GB=wt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const CY=wt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);const Uv=wt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const EY=wt("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);const AY=wt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const so=wt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const jY=wt("PoundSterling",[["path",{d:"M18 7c0-5.333-8-5.333-8 0",key:"1prm2n"}],["path",{d:"M10 7v14",key:"18tmcs"}],["path",{d:"M6 21h12",key:"4dkmi1"}],["path",{d:"M6 13h10",key:"ybwr4a"}]]);const gp=wt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);const Qu=wt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const NY=wt("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);const iA=wt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const jN=wt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const OY=wt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const KB=wt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const TY=wt("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Nh=wt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);const kY=wt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const PY=wt("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);const Hu=wt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Bf=wt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const IY=wt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const NN=wt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const RY=wt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const MY=wt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const DY=wt("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);const YB=wt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const LY=wt("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);const Of=wt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Rl=wt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const Ju=wt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ON="-",BY=t=>{const e=UY(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const c=o.split(ON);return c[0]===""&&c.length!==1&&c.shift(),XB(c,e)||FY(o)},getConflictingClassGroupIds:(o,c)=>{const u=r[o]||[];return c&&n[o]?[...u,...n[o]]:u}}},XB=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?XB(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(ON);return e.validators.find(({validator:o})=>o(s))?.classGroupId},xI=/^\[(.+)\]$/,FY=t=>{if(xI.test(t)){const e=xI.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},UY=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return VY(Object.entries(t.classGroups),r).forEach(([s,o])=>{sA(o,n,s,e)}),n},sA=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:wI(e,i);s.classGroupId=r;return}if(typeof i=="function"){if($Y(i)){sA(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{sA(o,wI(e,s),r,n)})})},wI=(t,e)=>{let r=t;return e.split(ON).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},$Y=t=>t.isThemeGetter,VY=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,c])=>[e+o,c])):s);return[r,i]}):t,qY=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},ZB="!",zY=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,o=c=>{const u=[];let h=0,g=0,v;for(let E=0;E<c.length;E++){let P=c[E];if(h===0){if(P===i&&(n||c.slice(E,E+s)===e)){u.push(c.slice(g,E)),g=E+s;continue}if(P==="/"){v=E;continue}}P==="["?h++:P==="]"&&h--}const w=u.length===0?c:c.substring(g),b=w.startsWith(ZB),A=b?w.substring(1):w,C=v&&v>g?v-g:void 0;return{modifiers:u,hasImportantModifier:b,baseClassName:A,maybePostfixModifierPosition:C}};return r?c=>r({className:c,parseClassName:o}):o},WY=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},HY=t=>({cache:qY(t.cacheSize),parseClassName:zY(t),...BY(t)}),GY=/\s+/,KY=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(GY);let c="";for(let u=o.length-1;u>=0;u-=1){const h=o[u],{modifiers:g,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:b}=r(h);let A=!!b,C=n(A?w.substring(0,b):w);if(!C){if(!A){c=h+(c.length>0?" "+c:c);continue}if(C=n(w),!C){c=h+(c.length>0?" "+c:c);continue}A=!1}const E=WY(g).join(":"),P=v?E+ZB:E,k=P+C;if(s.includes(k))continue;s.push(k);const I=i(C,A);for(let F=0;F<I.length;++F){const M=I[F];s.push(P+M)}c=h+(c.length>0?" "+c:c)}return c};function YY(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=QB(e))&&(n&&(n+=" "),n+=r);return n}const QB=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=QB(t[n]))&&(r&&(r+=" "),r+=e);return r};function XY(t,...e){let r,n,i,s=o;function o(u){const h=e.reduce((g,v)=>v(g),t());return r=HY(h),n=r.cache.get,i=r.cache.set,s=c,c(u)}function c(u){const h=n(u);if(h)return h;const g=KY(u,r);return i(u,g),g}return function(){return s(YY.apply(null,arguments))}}const Sn=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},JB=/^\[(?:([a-z-]+):)?(.+)\]$/i,ZY=/^\d+\/\d+$/,QY=new Set(["px","full","screen"]),JY=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eX=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tX=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rX=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nX=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,sl=t=>Tf(t)||QY.has(t)||ZY.test(t),uc=t=>Oh(t,"length",dX),Tf=t=>!!t&&!Number.isNaN(Number(t)),Vb=t=>Oh(t,"number",Tf),Nm=t=>!!t&&Number.isInteger(Number(t)),iX=t=>t.endsWith("%")&&Tf(t.slice(0,-1)),Sr=t=>JB.test(t),dc=t=>JY.test(t),sX=new Set(["length","size","percentage"]),aX=t=>Oh(t,sX,e7),oX=t=>Oh(t,"position",e7),lX=new Set(["image","url"]),cX=t=>Oh(t,lX,hX),uX=t=>Oh(t,"",fX),Om=()=>!0,Oh=(t,e,r)=>{const n=JB.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},dX=t=>eX.test(t)&&!tX.test(t),e7=()=>!1,fX=t=>rX.test(t),hX=t=>nX.test(t),mX=()=>{const t=Sn("colors"),e=Sn("spacing"),r=Sn("blur"),n=Sn("brightness"),i=Sn("borderColor"),s=Sn("borderRadius"),o=Sn("borderSpacing"),c=Sn("borderWidth"),u=Sn("contrast"),h=Sn("grayscale"),g=Sn("hueRotate"),v=Sn("invert"),w=Sn("gap"),b=Sn("gradientColorStops"),A=Sn("gradientColorStopPositions"),C=Sn("inset"),E=Sn("margin"),P=Sn("opacity"),k=Sn("padding"),I=Sn("saturate"),F=Sn("scale"),M=Sn("sepia"),D=Sn("skew"),R=Sn("space"),$=Sn("translate"),z=()=>["auto","contain","none"],G=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",Sr,e],V=()=>[Sr,e],K=()=>["",sl,uc],q=()=>["auto",Tf,Sr],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",Sr],ue=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[Tf,Sr];return{cacheSize:500,separator:":",theme:{colors:[Om],spacing:[sl,uc],blur:["none","",dc,Sr],brightness:ae(),borderColor:[t],borderRadius:["none","","full",dc,Sr],borderSpacing:V(),borderWidth:K(),contrast:ae(),grayscale:Q(),hueRotate:ae(),invert:Q(),gap:V(),gradientColorStops:[t],gradientColorStopPositions:[iX,uc],inset:W(),margin:W(),opacity:ae(),padding:V(),saturate:ae(),scale:ae(),sepia:Q(),skew:ae(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",Sr]}],container:["container"],columns:[{columns:[dc]}],"break-after":[{"break-after":ue()}],"break-before":[{"break-before":ue()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),Sr]}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[C]}],"inset-x":[{"inset-x":[C]}],"inset-y":[{"inset-y":[C]}],start:[{start:[C]}],end:[{end:[C]}],top:[{top:[C]}],right:[{right:[C]}],bottom:[{bottom:[C]}],left:[{left:[C]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Nm,Sr]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Sr]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",Nm,Sr]}],"grid-cols":[{"grid-cols":[Om]}],"col-start-end":[{col:["auto",{span:["full",Nm,Sr]},Sr]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[Om]}],"row-start-end":[{row:["auto",{span:[Nm,Sr]},Sr]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Sr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Sr]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...te()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...te(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...te(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Sr,e]}],"min-w":[{"min-w":[Sr,e,"min","max","fit"]}],"max-w":[{"max-w":[Sr,e,"none","full","min","max","fit","prose",{screen:[dc]},dc]}],h:[{h:[Sr,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Sr,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Sr,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Sr,e,"auto","min","max","fit"]}],"font-size":[{text:["base",dc,uc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Vb]}],"font-family":[{font:[Om]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Sr]}],"line-clamp":[{"line-clamp":["none",Tf,Vb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",sl,Sr]}],"list-image":[{"list-image":["none",Sr]}],"list-style-type":[{list:["none","disc","decimal",Sr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[P]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[P]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",sl,uc]}],"underline-offset":[{"underline-offset":["auto",sl,Sr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Sr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Sr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[P]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),oX]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",aX]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cX]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[A]}],"gradient-via-pos":[{via:[A]}],"gradient-to-pos":[{to:[A]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[P]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[P]}],"divide-style":[{divide:J()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[sl,Sr]}],"outline-w":[{outline:[sl,uc]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[P]}],"ring-offset-w":[{"ring-offset":[sl,uc]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",dc,uX]}],"shadow-color":[{shadow:[Om]}],opacity:[{opacity:[P]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",dc,Sr]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[v]}],saturate:[{saturate:[I]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[P]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Sr]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",Sr]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",Sr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[F]}],"scale-x":[{"scale-x":[F]}],"scale-y":[{"scale-y":[F]}],rotate:[{rotate:[Nm,Sr]}],"translate-x":[{"translate-x":[$]}],"translate-y":[{"translate-y":[$]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Sr]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Sr]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Sr]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[sl,uc,Vb]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},pX=XY(mX);function Re(...t){return pX(hr(t))}const gX=dY,t7=N.forwardRef(({className:t,...e},r)=>a.jsx(DB,{ref:r,className:Re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));t7.displayName=DB.displayName;const vX=xd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground",success:"border-success bg-success/10 text-success-foreground",info:"border-primary bg-primary/10 text-primary-foreground"}},defaultVariants:{variant:"default"}}),r7=N.forwardRef(({className:t,variant:e,...r},n)=>a.jsx(LB,{ref:n,className:Re(vX({variant:e}),t),...r}));r7.displayName=LB.displayName;const yX=N.forwardRef(({className:t,...e},r)=>a.jsx(UB,{ref:r,className:Re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));yX.displayName=UB.displayName;const n7=N.forwardRef(({className:t,...e},r)=>a.jsx($B,{ref:r,className:Re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(Ju,{className:"h-4 w-4"})}));n7.displayName=$B.displayName;const i7=N.forwardRef(({className:t,...e},r)=>a.jsx(BB,{ref:r,className:Re("text-sm font-semibold",t),...e}));i7.displayName=BB.displayName;const s7=N.forwardRef(({className:t,...e},r)=>a.jsx(FB,{ref:r,className:Re("text-sm opacity-90",t),...e}));s7.displayName=FB.displayName;function xX(){const{toasts:t}=Gn();return a.jsxs(gX,{children:[t.map(function({id:e,title:r,description:n,action:i,...s}){return a.jsxs(r7,{...s,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(i7,{children:r}),n&&a.jsx(s7,{children:n})]}),i,a.jsx(n7,{})]},e)}),a.jsx(t7,{})]})}var bI=["light","dark"],wX="(prefers-color-scheme: dark)",bX=N.createContext(void 0),_X={setTheme:t=>{},themes:[]},SX=()=>{var t;return(t=N.useContext(bX))!=null?t:_X};N.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:s,value:o,attrs:c,nonce:u})=>{let h=s==="system",g=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(A=>`'${A}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,v=i?bI.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",w=(A,C=!1,E=!0)=>{let P=o?o[A]:A,k=C?A+"|| ''":`'${P}'`,I="";return i&&E&&!C&&bI.includes(A)&&(I+=`d.style.colorScheme = '${A}';`),r==="class"?C||P?I+=`c.add(${k})`:I+="null":P&&(I+=`d[s](n,${k})`),I},b=t?`!function(){${g}${w(t)}}()`:n?`!function(){try{${g}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${h})){var t='${wX}',m=window.matchMedia(t);if(m.media!==t||m.matches){${w("dark")}}else{${w("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${w(o?"x[e]":"e",!0)}}${h?"":"else{"+w(s,!1,!1)+"}"}${v}}catch(e){}}()`:`!function(){try{${g}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${w(o?"x[e]":"e",!0)}}else{${w(s,!1,!1)};}${v}}catch(t){}}();`;return N.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:b}})});var CX=t=>{switch(t){case"success":return jX;case"info":return OX;case"warning":return NX;case"error":return TX;default:return null}},EX=Array(12).fill(0),AX=({visible:t,className:e})=>ie.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ie.createElement("div",{className:"sonner-spinner"},EX.map((r,n)=>ie.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),jX=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),NX=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),OX=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),TX=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),kX=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ie.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ie.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),PX=()=>{let[t,e]=ie.useState(document.hidden);return ie.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},aA=1,IX=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,i=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:aA++,s=this.toasts.find(c=>c.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:r}),{...c,...t,id:i,dismissible:o,title:r}):c):this.addToast({title:r,...n,dismissible:o,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=r!==void 0,s,o=n.then(async u=>{if(s=["resolve",u],ie.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(MX(u)&&!u.ok){i=!1;let h=typeof e.error=="function"?await e.error(`HTTP error! status: ${u.status}`):e.error,g=typeof e.description=="function"?await e.description(`HTTP error! status: ${u.status}`):e.description;this.create({id:r,type:"error",message:h,description:g})}else if(e.success!==void 0){i=!1;let h=typeof e.success=="function"?await e.success(u):e.success,g=typeof e.description=="function"?await e.description(u):e.description;this.create({id:r,type:"success",message:h,description:g})}}).catch(async u=>{if(s=["reject",u],e.error!==void 0){i=!1;let h=typeof e.error=="function"?await e.error(u):e.error,g=typeof e.description=="function"?await e.description(u):e.description;this.create({id:r,type:"error",message:h,description:g})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=e.finally)==null||u.call(e)}),c=()=>new Promise((u,h)=>o.then(()=>s[0]==="reject"?h(s[1]):u(s[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(t,e)=>{let r=e?.id||aA++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Is=new IX,RX=(t,e)=>{let r=e?.id||aA++;return Is.addToast({title:t,...e,id:r}),r},MX=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",DX=RX,LX=()=>Is.toasts,BX=()=>Is.getActiveToasts();Object.assign(DX,{success:Is.success,info:Is.info,warning:Is.warning,error:Is.error,custom:Is.custom,message:Is.message,promise:Is.promise,dismiss:Is.dismiss,loading:Is.loading},{getHistory:LX,getToasts:BX});function FX(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}FX(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function sv(t){return t.label!==void 0}var UX=3,$X="32px",VX="16px",_I=4e3,qX=356,zX=14,WX=20,HX=200;function Ga(...t){return t.filter(Boolean).join(" ")}function GX(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var KX=t=>{var e,r,n,i,s,o,c,u,h,g,v;let{invert:w,toast:b,unstyled:A,interacting:C,setHeights:E,visibleToasts:P,heights:k,index:I,toasts:F,expanded:M,removeToast:D,defaultRichColors:R,closeButton:$,style:z,cancelButtonStyle:G,actionButtonStyle:W,className:V="",descriptionClassName:K="",duration:q,position:Y,gap:J,loadingIcon:ne,expandByDefault:te,classNames:Q,icons:ue,closeButtonAriaLabel:ae="Close toast",pauseWhenPageIsHidden:se}=t,[me,xe]=ie.useState(null),[Ue,Pe]=ie.useState(null),[Se,je]=ie.useState(!1),[Ee,Fe]=ie.useState(!1),[Ce,be]=ie.useState(!1),[He,Te]=ie.useState(!1),[Ge,gt]=ie.useState(!1),[lt,Ct]=ie.useState(0),[dt,de]=ie.useState(0),he=ie.useRef(b.duration||q||_I),Ie=ie.useRef(null),Qe=ie.useRef(null),Ke=I===0,Ye=I+1<=P,Xe=b.type,vt=b.dismissible!==!1,Ft=b.className||"",br=b.descriptionClassName||"",an=ie.useMemo(()=>k.findIndex(kt=>kt.toastId===b.id)||0,[k,b.id]),tn=ie.useMemo(()=>{var kt;return(kt=b.closeButton)!=null?kt:$},[b.closeButton,$]),Es=ie.useMemo(()=>b.duration||q||_I,[b.duration,q]),_r=ie.useRef(0),tt=ie.useRef(0),Gr=ie.useRef(0),gr=ie.useRef(null),[Lr,Gi]=Y.split("-"),cs=ie.useMemo(()=>k.reduce((kt,kr,ar)=>ar>=an?kt:kt+kr.height,0),[k,an]),fa=PX(),vr=b.invert||w,Yn=Xe==="loading";tt.current=ie.useMemo(()=>an*J+cs,[an,cs]),ie.useEffect(()=>{he.current=Es},[Es]),ie.useEffect(()=>{je(!0)},[]),ie.useEffect(()=>{let kt=Qe.current;if(kt){let kr=kt.getBoundingClientRect().height;return de(kr),E(ar=>[{toastId:b.id,height:kr,position:b.position},...ar]),()=>E(ar=>ar.filter(wn=>wn.toastId!==b.id))}},[E,b.id]),ie.useLayoutEffect(()=>{if(!Se)return;let kt=Qe.current,kr=kt.style.height;kt.style.height="auto";let ar=kt.getBoundingClientRect().height;kt.style.height=kr,de(ar),E(wn=>wn.find(Xn=>Xn.toastId===b.id)?wn.map(Xn=>Xn.toastId===b.id?{...Xn,height:ar}:Xn):[{toastId:b.id,height:ar,position:b.position},...wn])},[Se,b.title,b.description,E,b.id]);let Ki=ie.useCallback(()=>{Fe(!0),Ct(tt.current),E(kt=>kt.filter(kr=>kr.toastId!==b.id)),setTimeout(()=>{D(b)},HX)},[b,D,E,tt]);ie.useEffect(()=>{if(b.promise&&Xe==="loading"||b.duration===1/0||b.type==="loading")return;let kt;return M||C||se&&fa?(()=>{if(Gr.current<_r.current){let kr=new Date().getTime()-_r.current;he.current=he.current-kr}Gr.current=new Date().getTime()})():he.current!==1/0&&(_r.current=new Date().getTime(),kt=setTimeout(()=>{var kr;(kr=b.onAutoClose)==null||kr.call(b,b),Ki()},he.current)),()=>clearTimeout(kt)},[M,C,b,Xe,se,fa,Ki]),ie.useEffect(()=>{b.delete&&Ki()},[Ki,b.delete]);function Wo(){var kt,kr,ar;return ue!=null&&ue.loading?ie.createElement("div",{className:Ga(Q?.loader,(kt=b?.classNames)==null?void 0:kt.loader,"sonner-loader"),"data-visible":Xe==="loading"},ue.loading):ne?ie.createElement("div",{className:Ga(Q?.loader,(kr=b?.classNames)==null?void 0:kr.loader,"sonner-loader"),"data-visible":Xe==="loading"},ne):ie.createElement(AX,{className:Ga(Q?.loader,(ar=b?.classNames)==null?void 0:ar.loader),visible:Xe==="loading"})}return ie.createElement("li",{tabIndex:0,ref:Qe,className:Ga(V,Ft,Q?.toast,(e=b?.classNames)==null?void 0:e.toast,Q?.default,Q?.[Xe],(r=b?.classNames)==null?void 0:r[Xe]),"data-sonner-toast":"","data-rich-colors":(n=b.richColors)!=null?n:R,"data-styled":!(b.jsx||b.unstyled||A),"data-mounted":Se,"data-promise":!!b.promise,"data-swiped":Ge,"data-removed":Ee,"data-visible":Ye,"data-y-position":Lr,"data-x-position":Gi,"data-index":I,"data-front":Ke,"data-swiping":Ce,"data-dismissible":vt,"data-type":Xe,"data-invert":vr,"data-swipe-out":He,"data-swipe-direction":Ue,"data-expanded":!!(M||te&&Se),style:{"--index":I,"--toasts-before":I,"--z-index":F.length-I,"--offset":`${Ee?lt:tt.current}px`,"--initial-height":te?"auto":`${dt}px`,...z,...b.style},onDragEnd:()=>{be(!1),xe(null),gr.current=null},onPointerDown:kt=>{Yn||!vt||(Ie.current=new Date,Ct(tt.current),kt.target.setPointerCapture(kt.pointerId),kt.target.tagName!=="BUTTON"&&(be(!0),gr.current={x:kt.clientX,y:kt.clientY}))},onPointerUp:()=>{var kt,kr,ar,wn;if(He||!vt)return;gr.current=null;let Xn=Number(((kt=Qe.current)==null?void 0:kt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),rn=Number(((kr=Qe.current)==null?void 0:kr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Yi=new Date().getTime()-((ar=Ie.current)==null?void 0:ar.getTime()),oe=me==="x"?Xn:rn,Be=Math.abs(oe)/Yi;if(Math.abs(oe)>=WX||Be>.11){Ct(tt.current),(wn=b.onDismiss)==null||wn.call(b,b),Pe(me==="x"?Xn>0?"right":"left":rn>0?"down":"up"),Ki(),Te(!0),gt(!1);return}be(!1),xe(null)},onPointerMove:kt=>{var kr,ar,wn,Xn;if(!gr.current||!vt||((kr=window.getSelection())==null?void 0:kr.toString().length)>0)return;let rn=kt.clientY-gr.current.y,Yi=kt.clientX-gr.current.x,oe=(ar=t.swipeDirections)!=null?ar:GX(Y);!me&&(Math.abs(Yi)>1||Math.abs(rn)>1)&&xe(Math.abs(Yi)>Math.abs(rn)?"x":"y");let Be={x:0,y:0};me==="y"?(oe.includes("top")||oe.includes("bottom"))&&(oe.includes("top")&&rn<0||oe.includes("bottom")&&rn>0)&&(Be.y=rn):me==="x"&&(oe.includes("left")||oe.includes("right"))&&(oe.includes("left")&&Yi<0||oe.includes("right")&&Yi>0)&&(Be.x=Yi),(Math.abs(Be.x)>0||Math.abs(Be.y)>0)&&gt(!0),(wn=Qe.current)==null||wn.style.setProperty("--swipe-amount-x",`${Be.x}px`),(Xn=Qe.current)==null||Xn.style.setProperty("--swipe-amount-y",`${Be.y}px`)}},tn&&!b.jsx?ie.createElement("button",{"aria-label":ae,"data-disabled":Yn,"data-close-button":!0,onClick:Yn||!vt?()=>{}:()=>{var kt;Ki(),(kt=b.onDismiss)==null||kt.call(b,b)},className:Ga(Q?.closeButton,(i=b?.classNames)==null?void 0:i.closeButton)},(s=ue?.close)!=null?s:kX):null,b.jsx||N.isValidElement(b.title)?b.jsx?b.jsx:typeof b.title=="function"?b.title():b.title:ie.createElement(ie.Fragment,null,Xe||b.icon||b.promise?ie.createElement("div",{"data-icon":"",className:Ga(Q?.icon,(o=b?.classNames)==null?void 0:o.icon)},b.promise||b.type==="loading"&&!b.icon?b.icon||Wo():null,b.type!=="loading"?b.icon||ue?.[Xe]||CX(Xe):null):null,ie.createElement("div",{"data-content":"",className:Ga(Q?.content,(c=b?.classNames)==null?void 0:c.content)},ie.createElement("div",{"data-title":"",className:Ga(Q?.title,(u=b?.classNames)==null?void 0:u.title)},typeof b.title=="function"?b.title():b.title),b.description?ie.createElement("div",{"data-description":"",className:Ga(K,br,Q?.description,(h=b?.classNames)==null?void 0:h.description)},typeof b.description=="function"?b.description():b.description):null),N.isValidElement(b.cancel)?b.cancel:b.cancel&&sv(b.cancel)?ie.createElement("button",{"data-button":!0,"data-cancel":!0,style:b.cancelButtonStyle||G,onClick:kt=>{var kr,ar;sv(b.cancel)&&vt&&((ar=(kr=b.cancel).onClick)==null||ar.call(kr,kt),Ki())},className:Ga(Q?.cancelButton,(g=b?.classNames)==null?void 0:g.cancelButton)},b.cancel.label):null,N.isValidElement(b.action)?b.action:b.action&&sv(b.action)?ie.createElement("button",{"data-button":!0,"data-action":!0,style:b.actionButtonStyle||W,onClick:kt=>{var kr,ar;sv(b.action)&&((ar=(kr=b.action).onClick)==null||ar.call(kr,kt),!kt.defaultPrevented&&Ki())},className:Ga(Q?.actionButton,(v=b?.classNames)==null?void 0:v.actionButton)},b.action.label):null))};function SI(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function YX(t,e){let r={};return[t,e].forEach((n,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",c=s?VX:$X;function u(h){["top","right","bottom","left"].forEach(g=>{r[`${o}-${g}`]=typeof h=="number"?`${h}px`:h})}typeof n=="number"||typeof n=="string"?u(n):typeof n=="object"?["top","right","bottom","left"].forEach(h=>{n[h]===void 0?r[`${o}-${h}`]=c:r[`${o}-${h}`]=typeof n[h]=="number"?`${n[h]}px`:n[h]}):u(c)}),r}var XX=N.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:c,offset:u,mobileOffset:h,theme:g="light",richColors:v,duration:w,style:b,visibleToasts:A=UX,toastOptions:C,dir:E=SI(),gap:P=zX,loadingIcon:k,icons:I,containerAriaLabel:F="Notifications",pauseWhenPageIsHidden:M}=t,[D,R]=ie.useState([]),$=ie.useMemo(()=>Array.from(new Set([n].concat(D.filter(se=>se.position).map(se=>se.position)))),[D,n]),[z,G]=ie.useState([]),[W,V]=ie.useState(!1),[K,q]=ie.useState(!1),[Y,J]=ie.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ne=ie.useRef(null),te=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),Q=ie.useRef(null),ue=ie.useRef(!1),ae=ie.useCallback(se=>{R(me=>{var xe;return(xe=me.find(Ue=>Ue.id===se.id))!=null&&xe.delete||Is.dismiss(se.id),me.filter(({id:Ue})=>Ue!==se.id)})},[]);return ie.useEffect(()=>Is.subscribe(se=>{if(se.dismiss){R(me=>me.map(xe=>xe.id===se.id?{...xe,delete:!0}:xe));return}setTimeout(()=>{gB.flushSync(()=>{R(me=>{let xe=me.findIndex(Ue=>Ue.id===se.id);return xe!==-1?[...me.slice(0,xe),{...me[xe],...se},...me.slice(xe+1)]:[se,...me]})})})}),[]),ie.useEffect(()=>{if(g!=="system"){J(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;let se=window.matchMedia("(prefers-color-scheme: dark)");try{se.addEventListener("change",({matches:me})=>{J(me?"dark":"light")})}catch{se.addListener(({matches:xe})=>{try{J(xe?"dark":"light")}catch(Ue){console.error(Ue)}})}},[g]),ie.useEffect(()=>{D.length<=1&&V(!1)},[D]),ie.useEffect(()=>{let se=me=>{var xe,Ue;i.every(Pe=>me[Pe]||me.code===Pe)&&(V(!0),(xe=ne.current)==null||xe.focus()),me.code==="Escape"&&(document.activeElement===ne.current||(Ue=ne.current)!=null&&Ue.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",se),()=>document.removeEventListener("keydown",se)},[i]),ie.useEffect(()=>{if(ne.current)return()=>{Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null,ue.current=!1)}},[ne.current]),ie.createElement("section",{ref:e,"aria-label":`${F} ${te}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},$.map((se,me)=>{var xe;let[Ue,Pe]=se.split("-");return D.length?ie.createElement("ol",{key:se,dir:E==="auto"?SI():E,tabIndex:-1,ref:ne,className:c,"data-sonner-toaster":!0,"data-theme":Y,"data-y-position":Ue,"data-lifted":W&&D.length>1&&!s,"data-x-position":Pe,style:{"--front-toast-height":`${((xe=z[0])==null?void 0:xe.height)||0}px`,"--width":`${qX}px`,"--gap":`${P}px`,...b,...YX(u,h)},onBlur:Se=>{ue.current&&!Se.currentTarget.contains(Se.relatedTarget)&&(ue.current=!1,Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null))},onFocus:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||ue.current||(ue.current=!0,Q.current=Se.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{K||V(!1)},onDragEnd:()=>V(!1),onPointerDown:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||q(!0)},onPointerUp:()=>q(!1)},D.filter(Se=>!Se.position&&me===0||Se.position===se).map((Se,je)=>{var Ee,Fe;return ie.createElement(KX,{key:Se.id,icons:I,index:je,toast:Se,defaultRichColors:v,duration:(Ee=C?.duration)!=null?Ee:w,className:C?.className,descriptionClassName:C?.descriptionClassName,invert:r,visibleToasts:A,closeButton:(Fe=C?.closeButton)!=null?Fe:o,interacting:K,position:se,style:C?.style,unstyled:C?.unstyled,classNames:C?.classNames,cancelButtonStyle:C?.cancelButtonStyle,actionButtonStyle:C?.actionButtonStyle,removeToast:ae,toasts:D.filter(Ce=>Ce.position==Se.position),heights:z.filter(Ce=>Ce.position==Se.position),setHeights:G,expandByDefault:s,gap:P,loadingIcon:k,expanded:W,pauseWhenPageIsHidden:M,swipeDirections:t.swipeDirections})})):null}))});const ZX=({...t})=>{const{theme:e="system"}=SX();return a.jsx(XX,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var QX=yN[" useId ".trim().toString()]||(()=>{}),JX=0;function Pa(t){const[e,r]=N.useState(QX());return fi(()=>{r(n=>n??String(JX++))},[t]),e?`radix-${e}`:""}const eZ=["top","right","bottom","left"],Rc=Math.min,ta=Math.max,ny=Math.round,av=Math.floor,ko=t=>({x:t,y:t}),tZ={left:"right",right:"left",bottom:"top",top:"bottom"},rZ={start:"end",end:"start"};function oA(t,e,r){return ta(t,Rc(e,r))}function jl(t,e){return typeof t=="function"?t(e):t}function Nl(t){return t.split("-")[0]}function Th(t){return t.split("-")[1]}function TN(t){return t==="x"?"y":"x"}function kN(t){return t==="y"?"height":"width"}const nZ=new Set(["top","bottom"]);function jo(t){return nZ.has(Nl(t))?"y":"x"}function PN(t){return TN(jo(t))}function iZ(t,e,r){r===void 0&&(r=!1);const n=Th(t),i=PN(t),s=kN(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=iy(o)),[o,iy(o)]}function sZ(t){const e=iy(t);return[lA(t),e,lA(e)]}function lA(t){return t.replace(/start|end/g,e=>rZ[e])}const CI=["left","right"],EI=["right","left"],aZ=["top","bottom"],oZ=["bottom","top"];function lZ(t,e,r){switch(t){case"top":case"bottom":return r?e?EI:CI:e?CI:EI;case"left":case"right":return e?aZ:oZ;default:return[]}}function cZ(t,e,r,n){const i=Th(t);let s=lZ(Nl(t),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(lA)))),s}function iy(t){return t.replace(/left|right|bottom|top/g,e=>tZ[e])}function uZ(t){return{top:0,right:0,bottom:0,left:0,...t}}function a7(t){return typeof t!="number"?uZ(t):{top:t,right:t,bottom:t,left:t}}function sy(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function AI(t,e,r){let{reference:n,floating:i}=t;const s=jo(e),o=PN(e),c=kN(o),u=Nl(e),h=s==="y",g=n.x+n.width/2-i.width/2,v=n.y+n.height/2-i.height/2,w=n[c]/2-i[c]/2;let b;switch(u){case"top":b={x:g,y:n.y-i.height};break;case"bottom":b={x:g,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:v};break;case"left":b={x:n.x-i.width,y:v};break;default:b={x:n.x,y:n.y}}switch(Th(e)){case"start":b[o]-=w*(r&&h?-1:1);break;case"end":b[o]+=w*(r&&h?-1:1);break}return b}const dZ=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,c=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let h=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:g,y:v}=AI(h,n,u),w=n,b={},A=0;for(let C=0;C<c.length;C++){const{name:E,fn:P}=c[C],{x:k,y:I,data:F,reset:M}=await P({x:g,y:v,initialPlacement:n,placement:w,strategy:i,middlewareData:b,rects:h,platform:o,elements:{reference:t,floating:e}});g=k??g,v=I??v,b={...b,[E]:{...b[E],...F}},M&&A<=50&&(A++,typeof M=="object"&&(M.placement&&(w=M.placement),M.rects&&(h=M.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):M.rects),{x:g,y:v}=AI(h,w,u)),C=-1)}return{x:g,y:v,placement:w,strategy:i,middlewareData:b}};async function vp(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:o,elements:c,strategy:u}=t,{boundary:h="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:w=!1,padding:b=0}=jl(e,t),A=a7(b),E=c[w?v==="floating"?"reference":"floating":v],P=sy(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(E)))==null||r?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:h,rootBoundary:g,strategy:u})),k=v==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,I=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),F=await(s.isElement==null?void 0:s.isElement(I))?await(s.getScale==null?void 0:s.getScale(I))||{x:1,y:1}:{x:1,y:1},M=sy(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:k,offsetParent:I,strategy:u}):k);return{top:(P.top-M.top+A.top)/F.y,bottom:(M.bottom-P.bottom+A.bottom)/F.y,left:(P.left-M.left+A.left)/F.x,right:(M.right-P.right+A.right)/F.x}}const fZ=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:o,elements:c,middlewareData:u}=e,{element:h,padding:g=0}=jl(t,e)||{};if(h==null)return{};const v=a7(g),w={x:r,y:n},b=PN(i),A=kN(b),C=await o.getDimensions(h),E=b==="y",P=E?"top":"left",k=E?"bottom":"right",I=E?"clientHeight":"clientWidth",F=s.reference[A]+s.reference[b]-w[b]-s.floating[A],M=w[b]-s.reference[b],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(h));let R=D?D[I]:0;(!R||!await(o.isElement==null?void 0:o.isElement(D)))&&(R=c.floating[I]||s.floating[A]);const $=F/2-M/2,z=R/2-C[A]/2-1,G=Rc(v[P],z),W=Rc(v[k],z),V=G,K=R-C[A]-W,q=R/2-C[A]/2+$,Y=oA(V,q,K),J=!u.arrow&&Th(i)!=null&&q!==Y&&s.reference[A]/2-(q<V?G:W)-C[A]/2<0,ne=J?q<V?q-V:q-K:0;return{[b]:w[b]+ne,data:{[b]:Y,centerOffset:q-Y-ne,...J&&{alignmentOffset:ne}},reset:J}}}),hZ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:c,platform:u,elements:h}=e,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:w,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:C=!0,...E}=jl(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const P=Nl(i),k=jo(c),I=Nl(c)===c,F=await(u.isRTL==null?void 0:u.isRTL(h.floating)),M=w||(I||!C?[iy(c)]:sZ(c)),D=A!=="none";!w&&D&&M.push(...cZ(c,C,A,F));const R=[c,...M],$=await vp(e,E),z=[];let G=((n=s.flip)==null?void 0:n.overflows)||[];if(g&&z.push($[P]),v){const q=iZ(i,o,F);z.push($[q[0]],$[q[1]])}if(G=[...G,{placement:i,overflows:z}],!z.every(q=>q<=0)){var W,V;const q=(((W=s.flip)==null?void 0:W.index)||0)+1,Y=R[q];if(Y&&(!(v==="alignment"?k!==jo(Y):!1)||G.every(te=>te.overflows[0]>0&&jo(te.placement)===k)))return{data:{index:q,overflows:G},reset:{placement:Y}};let J=(V=G.filter(ne=>ne.overflows[0]<=0).sort((ne,te)=>ne.overflows[1]-te.overflows[1])[0])==null?void 0:V.placement;if(!J)switch(b){case"bestFit":{var K;const ne=(K=G.filter(te=>{if(D){const Q=jo(te.placement);return Q===k||Q==="y"}return!0}).map(te=>[te.placement,te.overflows.filter(Q=>Q>0).reduce((Q,ue)=>Q+ue,0)]).sort((te,Q)=>te[1]-Q[1])[0])==null?void 0:K[0];ne&&(J=ne);break}case"initialPlacement":J=c;break}if(i!==J)return{reset:{placement:J}}}return{}}}};function jI(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function NI(t){return eZ.some(e=>t[e]>=0)}const mZ=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=jl(t,e);switch(n){case"referenceHidden":{const s=await vp(e,{...i,elementContext:"reference"}),o=jI(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:NI(o)}}}case"escaped":{const s=await vp(e,{...i,altBoundary:!0}),o=jI(s,r.floating);return{data:{escapedOffsets:o,escaped:NI(o)}}}default:return{}}}}},o7=new Set(["left","top"]);async function pZ(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Nl(r),c=Th(r),u=jo(r)==="y",h=o7.has(o)?-1:1,g=s&&u?-1:1,v=jl(e,t);let{mainAxis:w,crossAxis:b,alignmentAxis:A}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return c&&typeof A=="number"&&(b=c==="end"?A*-1:A),u?{x:b*g,y:w*h}:{x:w*h,y:b*g}}const gZ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:o,middlewareData:c}=e,u=await pZ(e,t);return o===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},vZ=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:c={fn:E=>{let{x:P,y:k}=E;return{x:P,y:k}}},...u}=jl(t,e),h={x:r,y:n},g=await vp(e,u),v=jo(Nl(i)),w=TN(v);let b=h[w],A=h[v];if(s){const E=w==="y"?"top":"left",P=w==="y"?"bottom":"right",k=b+g[E],I=b-g[P];b=oA(k,b,I)}if(o){const E=v==="y"?"top":"left",P=v==="y"?"bottom":"right",k=A+g[E],I=A-g[P];A=oA(k,A,I)}const C=c.fn({...e,[w]:b,[v]:A});return{...C,data:{x:C.x-r,y:C.y-n,enabled:{[w]:s,[v]:o}}}}}},yZ=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:o}=e,{offset:c=0,mainAxis:u=!0,crossAxis:h=!0}=jl(t,e),g={x:r,y:n},v=jo(i),w=TN(v);let b=g[w],A=g[v];const C=jl(c,e),E=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(u){const I=w==="y"?"height":"width",F=s.reference[w]-s.floating[I]+E.mainAxis,M=s.reference[w]+s.reference[I]-E.mainAxis;b<F?b=F:b>M&&(b=M)}if(h){var P,k;const I=w==="y"?"width":"height",F=o7.has(Nl(i)),M=s.reference[v]-s.floating[I]+(F&&((P=o.offset)==null?void 0:P[v])||0)+(F?0:E.crossAxis),D=s.reference[v]+s.reference[I]+(F?0:((k=o.offset)==null?void 0:k[v])||0)-(F?E.crossAxis:0);A<M?A=M:A>D&&(A=D)}return{[w]:b,[v]:A}}}},xZ=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:o,elements:c}=e,{apply:u=()=>{},...h}=jl(t,e),g=await vp(e,h),v=Nl(i),w=Th(i),b=jo(i)==="y",{width:A,height:C}=s.floating;let E,P;v==="top"||v==="bottom"?(E=v,P=w===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(P=v,E=w==="end"?"top":"bottom");const k=C-g.top-g.bottom,I=A-g.left-g.right,F=Rc(C-g[E],k),M=Rc(A-g[P],I),D=!e.middlewareData.shift;let R=F,$=M;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&($=I),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(R=k),D&&!w){const G=ta(g.left,0),W=ta(g.right,0),V=ta(g.top,0),K=ta(g.bottom,0);b?$=A-2*(G!==0||W!==0?G+W:ta(g.left,g.right)):R=C-2*(V!==0||K!==0?V+K:ta(g.top,g.bottom))}await u({...e,availableWidth:$,availableHeight:R});const z=await o.getDimensions(c.floating);return A!==z.width||C!==z.height?{reset:{rects:!0}}:{}}}};function $1(){return typeof window<"u"}function kh(t){return l7(t)?(t.nodeName||"").toLowerCase():"#document"}function aa(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Uo(t){var e;return(e=(l7(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function l7(t){return $1()?t instanceof Node||t instanceof aa(t).Node:!1}function co(t){return $1()?t instanceof Element||t instanceof aa(t).Element:!1}function Bo(t){return $1()?t instanceof HTMLElement||t instanceof aa(t).HTMLElement:!1}function OI(t){return!$1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof aa(t).ShadowRoot}const wZ=new Set(["inline","contents"]);function xg(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=uo(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!wZ.has(i)}const bZ=new Set(["table","td","th"]);function _Z(t){return bZ.has(kh(t))}const SZ=[":popover-open",":modal"];function V1(t){return SZ.some(e=>{try{return t.matches(e)}catch{return!1}})}const CZ=["transform","translate","scale","rotate","perspective"],EZ=["transform","translate","scale","rotate","perspective","filter"],AZ=["paint","layout","strict","content"];function IN(t){const e=RN(),r=co(t)?uo(t):t;return CZ.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||EZ.some(n=>(r.willChange||"").includes(n))||AZ.some(n=>(r.contain||"").includes(n))}function jZ(t){let e=Mc(t);for(;Bo(e)&&!Ff(e);){if(IN(e))return e;if(V1(e))return null;e=Mc(e)}return null}function RN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const NZ=new Set(["html","body","#document"]);function Ff(t){return NZ.has(kh(t))}function uo(t){return aa(t).getComputedStyle(t)}function q1(t){return co(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Mc(t){if(kh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||OI(t)&&t.host||Uo(t);return OI(e)?e.host:e}function c7(t){const e=Mc(t);return Ff(e)?t.ownerDocument?t.ownerDocument.body:t.body:Bo(e)&&xg(e)?e:c7(e)}function yp(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=c7(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),o=aa(i);if(s){const c=cA(o);return e.concat(o,o.visualViewport||[],xg(i)?i:[],c&&r?yp(c):[])}return e.concat(i,yp(i,[],r))}function cA(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function u7(t){const e=uo(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Bo(t),s=i?t.offsetWidth:r,o=i?t.offsetHeight:n,c=ny(r)!==s||ny(n)!==o;return c&&(r=s,n=o),{width:r,height:n,$:c}}function MN(t){return co(t)?t:t.contextElement}function kf(t){const e=MN(t);if(!Bo(e))return ko(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=u7(e);let o=(s?ny(r.width):r.width)/n,c=(s?ny(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const OZ=ko(0);function d7(t){const e=aa(t);return!RN()||!e.visualViewport?OZ:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function TZ(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==aa(t)?!1:e}function ed(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=MN(t);let o=ko(1);e&&(n?co(n)&&(o=kf(n)):o=kf(t));const c=TZ(s,r,n)?d7(s):ko(0);let u=(i.left+c.x)/o.x,h=(i.top+c.y)/o.y,g=i.width/o.x,v=i.height/o.y;if(s){const w=aa(s),b=n&&co(n)?aa(n):n;let A=w,C=cA(A);for(;C&&n&&b!==A;){const E=kf(C),P=C.getBoundingClientRect(),k=uo(C),I=P.left+(C.clientLeft+parseFloat(k.paddingLeft))*E.x,F=P.top+(C.clientTop+parseFloat(k.paddingTop))*E.y;u*=E.x,h*=E.y,g*=E.x,v*=E.y,u+=I,h+=F,A=aa(C),C=cA(A)}}return sy({width:g,height:v,x:u,y:h})}function DN(t,e){const r=q1(t).scrollLeft;return e?e.left+r:ed(Uo(t)).left+r}function f7(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:DN(t,n)),s=n.top+e.scrollTop;return{x:i,y:s}}function kZ(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",o=Uo(n),c=e?V1(e.floating):!1;if(n===o||c&&s)return r;let u={scrollLeft:0,scrollTop:0},h=ko(1);const g=ko(0),v=Bo(n);if((v||!v&&!s)&&((kh(n)!=="body"||xg(o))&&(u=q1(n)),Bo(n))){const b=ed(n);h=kf(n),g.x=b.x+n.clientLeft,g.y=b.y+n.clientTop}const w=o&&!v&&!s?f7(o,u,!0):ko(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-u.scrollLeft*h.x+g.x+w.x,y:r.y*h.y-u.scrollTop*h.y+g.y+w.y}}function PZ(t){return Array.from(t.getClientRects())}function IZ(t){const e=Uo(t),r=q1(t),n=t.ownerDocument.body,i=ta(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=ta(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+DN(t);const c=-r.scrollTop;return uo(n).direction==="rtl"&&(o+=ta(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:c}}function RZ(t,e){const r=aa(t),n=Uo(t),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,c=0,u=0;if(i){s=i.width,o=i.height;const h=RN();(!h||h&&e==="fixed")&&(c=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:c,y:u}}const MZ=new Set(["absolute","fixed"]);function DZ(t,e){const r=ed(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=Bo(t)?kf(t):ko(1),o=t.clientWidth*s.x,c=t.clientHeight*s.y,u=i*s.x,h=n*s.y;return{width:o,height:c,x:u,y:h}}function TI(t,e,r){let n;if(e==="viewport")n=RZ(t,r);else if(e==="document")n=IZ(Uo(t));else if(co(e))n=DZ(e,r);else{const i=d7(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return sy(n)}function h7(t,e){const r=Mc(t);return r===e||!co(r)||Ff(r)?!1:uo(r).position==="fixed"||h7(r,e)}function LZ(t,e){const r=e.get(t);if(r)return r;let n=yp(t,[],!1).filter(c=>co(c)&&kh(c)!=="body"),i=null;const s=uo(t).position==="fixed";let o=s?Mc(t):t;for(;co(o)&&!Ff(o);){const c=uo(o),u=IN(o);!u&&c.position==="fixed"&&(i=null),(s?!u&&!i:!u&&c.position==="static"&&!!i&&MZ.has(i.position)||xg(o)&&!u&&h7(t,o))?n=n.filter(g=>g!==o):i=c,o=Mc(o)}return e.set(t,n),n}function BZ(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?V1(e)?[]:LZ(e,this._c):[].concat(r),n],c=o[0],u=o.reduce((h,g)=>{const v=TI(e,g,i);return h.top=ta(v.top,h.top),h.right=Rc(v.right,h.right),h.bottom=Rc(v.bottom,h.bottom),h.left=ta(v.left,h.left),h},TI(e,c,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function FZ(t){const{width:e,height:r}=u7(t);return{width:e,height:r}}function UZ(t,e,r){const n=Bo(e),i=Uo(e),s=r==="fixed",o=ed(t,!0,s,e);let c={scrollLeft:0,scrollTop:0};const u=ko(0);function h(){u.x=DN(i)}if(n||!n&&!s)if((kh(e)!=="body"||xg(i))&&(c=q1(e)),n){const b=ed(e,!0,s,e);u.x=b.x+e.clientLeft,u.y=b.y+e.clientTop}else i&&h();s&&!n&&i&&h();const g=i&&!n&&!s?f7(i,c):ko(0),v=o.left+c.scrollLeft-u.x-g.x,w=o.top+c.scrollTop-u.y-g.y;return{x:v,y:w,width:o.width,height:o.height}}function qb(t){return uo(t).position==="static"}function kI(t,e){if(!Bo(t)||uo(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Uo(t)===r&&(r=r.ownerDocument.body),r}function m7(t,e){const r=aa(t);if(V1(t))return r;if(!Bo(t)){let i=Mc(t);for(;i&&!Ff(i);){if(co(i)&&!qb(i))return i;i=Mc(i)}return r}let n=kI(t,e);for(;n&&_Z(n)&&qb(n);)n=kI(n,e);return n&&Ff(n)&&qb(n)&&!IN(n)?r:n||jZ(t)||r}const $Z=async function(t){const e=this.getOffsetParent||m7,r=this.getDimensions,n=await r(t.floating);return{reference:UZ(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function VZ(t){return uo(t).direction==="rtl"}const qZ={convertOffsetParentRelativeRectToViewportRelativeRect:kZ,getDocumentElement:Uo,getClippingRect:BZ,getOffsetParent:m7,getElementRects:$Z,getClientRects:PZ,getDimensions:FZ,getScale:kf,isElement:co,isRTL:VZ};function p7(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function zZ(t,e){let r=null,n;const i=Uo(t);function s(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function o(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),s();const h=t.getBoundingClientRect(),{left:g,top:v,width:w,height:b}=h;if(c||e(),!w||!b)return;const A=av(v),C=av(i.clientWidth-(g+w)),E=av(i.clientHeight-(v+b)),P=av(g),I={rootMargin:-A+"px "+-C+"px "+-E+"px "+-P+"px",threshold:ta(0,Rc(1,u))||1};let F=!0;function M(D){const R=D[0].intersectionRatio;if(R!==u){if(!F)return o();R?o(!1,R):n=setTimeout(()=>{o(!1,1e-7)},1e3)}R===1&&!p7(h,t.getBoundingClientRect())&&o(),F=!1}try{r=new IntersectionObserver(M,{...I,root:i.ownerDocument})}catch{r=new IntersectionObserver(M,I)}r.observe(t)}return o(!0),s}function WZ(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,h=MN(t),g=i||s?[...h?yp(h):[],...yp(e)]:[];g.forEach(P=>{i&&P.addEventListener("scroll",r,{passive:!0}),s&&P.addEventListener("resize",r)});const v=h&&c?zZ(h,r):null;let w=-1,b=null;o&&(b=new ResizeObserver(P=>{let[k]=P;k&&k.target===h&&b&&(b.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var I;(I=b)==null||I.observe(e)})),r()}),h&&!u&&b.observe(h),b.observe(e));let A,C=u?ed(t):null;u&&E();function E(){const P=ed(t);C&&!p7(C,P)&&r(),C=P,A=requestAnimationFrame(E)}return r(),()=>{var P;g.forEach(k=>{i&&k.removeEventListener("scroll",r),s&&k.removeEventListener("resize",r)}),v?.(),(P=b)==null||P.disconnect(),b=null,u&&cancelAnimationFrame(A)}}const HZ=gZ,GZ=vZ,KZ=hZ,YZ=xZ,XZ=mZ,PI=fZ,ZZ=yZ,QZ=(t,e,r)=>{const n=new Map,i={platform:qZ,...r},s={...i.platform,_c:n};return dZ(t,e,{...i,platform:s})};var JZ=typeof document<"u",eQ=function(){},$v=JZ?N.useLayoutEffect:eQ;function ay(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!ay(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!ay(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function g7(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function II(t,e){const r=g7(t);return Math.round(e*r)/r}function zb(t){const e=N.useRef(t);return $v(()=>{e.current=t}),e}function tQ(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:c=!0,whileElementsMounted:u,open:h}=t,[g,v]=N.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[w,b]=N.useState(n);ay(w,n)||b(n);const[A,C]=N.useState(null),[E,P]=N.useState(null),k=N.useCallback(te=>{te!==D.current&&(D.current=te,C(te))},[]),I=N.useCallback(te=>{te!==R.current&&(R.current=te,P(te))},[]),F=s||A,M=o||E,D=N.useRef(null),R=N.useRef(null),$=N.useRef(g),z=u!=null,G=zb(u),W=zb(i),V=zb(h),K=N.useCallback(()=>{if(!D.current||!R.current)return;const te={placement:e,strategy:r,middleware:w};W.current&&(te.platform=W.current),QZ(D.current,R.current,te).then(Q=>{const ue={...Q,isPositioned:V.current!==!1};q.current&&!ay($.current,ue)&&($.current=ue,Ah.flushSync(()=>{v(ue)}))})},[w,e,r,W,V]);$v(()=>{h===!1&&$.current.isPositioned&&($.current.isPositioned=!1,v(te=>({...te,isPositioned:!1})))},[h]);const q=N.useRef(!1);$v(()=>(q.current=!0,()=>{q.current=!1}),[]),$v(()=>{if(F&&(D.current=F),M&&(R.current=M),F&&M){if(G.current)return G.current(F,M,K);K()}},[F,M,K,G,z]);const Y=N.useMemo(()=>({reference:D,floating:R,setReference:k,setFloating:I}),[k,I]),J=N.useMemo(()=>({reference:F,floating:M}),[F,M]),ne=N.useMemo(()=>{const te={position:r,left:0,top:0};if(!J.floating)return te;const Q=II(J.floating,g.x),ue=II(J.floating,g.y);return c?{...te,transform:"translate("+Q+"px, "+ue+"px)",...g7(J.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Q,top:ue}},[r,c,J.floating,g.x,g.y]);return N.useMemo(()=>({...g,update:K,refs:Y,elements:J,floatingStyles:ne}),[g,K,Y,J,ne])}const rQ=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?PI({element:n.current,padding:i}).fn(r):{}:n?PI({element:n,padding:i}).fn(r):{}}}},nQ=(t,e)=>({...HZ(t),options:[t,e]}),iQ=(t,e)=>({...GZ(t),options:[t,e]}),sQ=(t,e)=>({...ZZ(t),options:[t,e]}),aQ=(t,e)=>({...KZ(t),options:[t,e]}),oQ=(t,e)=>({...YZ(t),options:[t,e]}),lQ=(t,e)=>({...XZ(t),options:[t,e]}),cQ=(t,e)=>({...rQ(t),options:[t,e]});var uQ="Arrow",v7=N.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return a.jsx(Mt.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});v7.displayName=uQ;var dQ=v7;function LN(t){const[e,r]=N.useState(void 0);return fi(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,c;if("borderBoxSize"in s){const u=s.borderBoxSize,h=Array.isArray(u)?u[0]:u;o=h.inlineSize,c=h.blockSize}else o=t.offsetWidth,c=t.offsetHeight;r({width:o,height:c})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var BN="Popper",[y7,Vc]=ls(BN),[fQ,x7]=y7(BN),w7=t=>{const{__scopePopper:e,children:r}=t,[n,i]=N.useState(null);return a.jsx(fQ,{scope:e,anchor:n,onAnchorChange:i,children:r})};w7.displayName=BN;var b7="PopperAnchor",_7=N.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=x7(b7,r),o=N.useRef(null),c=Nr(e,o);return N.useEffect(()=>{s.onAnchorChange(n?.current||o.current)}),n?null:a.jsx(Mt.div,{...i,ref:c})});_7.displayName=b7;var FN="PopperContent",[hQ,mQ]=y7(FN),S7=N.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:h=[],collisionPadding:g=0,sticky:v="partial",hideWhenDetached:w=!1,updatePositionStrategy:b="optimized",onPlaced:A,...C}=t,E=x7(FN,r),[P,k]=N.useState(null),I=Nr(e,Se=>k(Se)),[F,M]=N.useState(null),D=LN(F),R=D?.width??0,$=D?.height??0,z=n+(s!=="center"?"-"+s:""),G=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},W=Array.isArray(h)?h:[h],V=W.length>0,K={padding:G,boundary:W.filter(gQ),altBoundary:V},{refs:q,floatingStyles:Y,placement:J,isPositioned:ne,middlewareData:te}=tQ({strategy:"fixed",placement:z,whileElementsMounted:(...Se)=>WZ(...Se,{animationFrame:b==="always"}),elements:{reference:E.anchor},middleware:[nQ({mainAxis:i+$,alignmentAxis:o}),u&&iQ({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?sQ():void 0,...K}),u&&aQ({...K}),oQ({...K,apply:({elements:Se,rects:je,availableWidth:Ee,availableHeight:Fe})=>{const{width:Ce,height:be}=je.reference,He=Se.floating.style;He.setProperty("--radix-popper-available-width",`${Ee}px`),He.setProperty("--radix-popper-available-height",`${Fe}px`),He.setProperty("--radix-popper-anchor-width",`${Ce}px`),He.setProperty("--radix-popper-anchor-height",`${be}px`)}}),F&&cQ({element:F,padding:c}),vQ({arrowWidth:R,arrowHeight:$}),w&&lQ({strategy:"referenceHidden",...K})]}),[Q,ue]=A7(J),ae=Ss(A);fi(()=>{ne&&ae?.()},[ne,ae]);const se=te.arrow?.x,me=te.arrow?.y,xe=te.arrow?.centerOffset!==0,[Ue,Pe]=N.useState();return fi(()=>{P&&Pe(window.getComputedStyle(P).zIndex)},[P]),a.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:ne?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ue,"--radix-popper-transform-origin":[te.transformOrigin?.x,te.transformOrigin?.y].join(" "),...te.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(hQ,{scope:r,placedSide:Q,onArrowChange:M,arrowX:se,arrowY:me,shouldHideArrow:xe,children:a.jsx(Mt.div,{"data-side":Q,"data-align":ue,...C,ref:I,style:{...C.style,animation:ne?void 0:"none"}})})})});S7.displayName=FN;var C7="PopperArrow",pQ={top:"bottom",right:"left",bottom:"top",left:"right"},E7=N.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=mQ(C7,n),o=pQ[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(dQ,{...i,ref:r,style:{...i.style,display:"block"}})})});E7.displayName=C7;function gQ(t){return t!==null}var vQ=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,c=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[h,g]=A7(r),v={start:"0%",center:"50%",end:"100%"}[g],w=(i.arrow?.x??0)+c/2,b=(i.arrow?.y??0)+u/2;let A="",C="";return h==="bottom"?(A=o?v:`${w}px`,C=`${-u}px`):h==="top"?(A=o?v:`${w}px`,C=`${n.floating.height+u}px`):h==="right"?(A=`${-u}px`,C=o?v:`${b}px`):h==="left"&&(A=`${n.floating.width+u}px`,C=o?v:`${b}px`),{data:{x:A,y:C}}}});function A7(t){const[e,r="center"]=t.split("-");return[e,r]}var z1=w7,wg=_7,W1=S7,H1=E7,[G1]=ls("Tooltip",[Vc]),K1=Vc(),j7="TooltipProvider",yQ=700,uA="tooltip.open",[xQ,UN]=G1(j7),N7=t=>{const{__scopeTooltip:e,delayDuration:r=yQ,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=t,o=N.useRef(!0),c=N.useRef(!1),u=N.useRef(0);return N.useEffect(()=>{const h=u.current;return()=>window.clearTimeout(h)},[]),a.jsx(xQ,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:N.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:N.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:N.useCallback(h=>{c.current=h},[]),disableHoverableContent:i,children:s})};N7.displayName=j7;var xp="Tooltip",[wQ,Y1]=G1(xp),O7=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:i,onOpenChange:s,disableHoverableContent:o,delayDuration:c}=t,u=UN(xp,t.__scopeTooltip),h=K1(e),[g,v]=N.useState(null),w=Pa(),b=N.useRef(0),A=o??u.disableHoverableContent,C=c??u.delayDuration,E=N.useRef(!1),[P,k]=lo({prop:n,defaultProp:i??!1,onChange:R=>{R?(u.onOpen(),document.dispatchEvent(new CustomEvent(uA))):u.onClose(),s?.(R)},caller:xp}),I=N.useMemo(()=>P?E.current?"delayed-open":"instant-open":"closed",[P]),F=N.useCallback(()=>{window.clearTimeout(b.current),b.current=0,E.current=!1,k(!0)},[k]),M=N.useCallback(()=>{window.clearTimeout(b.current),b.current=0,k(!1)},[k]),D=N.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{E.current=!0,k(!0),b.current=0},C)},[C,k]);return N.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),a.jsx(z1,{...h,children:a.jsx(wQ,{scope:e,contentId:w,open:P,stateAttribute:I,trigger:g,onTriggerChange:v,onTriggerEnter:N.useCallback(()=>{u.isOpenDelayedRef.current?D():F()},[u.isOpenDelayedRef,D,F]),onTriggerLeave:N.useCallback(()=>{A?M():(window.clearTimeout(b.current),b.current=0)},[M,A]),onOpen:F,onClose:M,disableHoverableContent:A,children:r})})};O7.displayName=xp;var dA="TooltipTrigger",T7=N.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=Y1(dA,r),s=UN(dA,r),o=K1(r),c=N.useRef(null),u=Nr(e,c,i.onTriggerChange),h=N.useRef(!1),g=N.useRef(!1),v=N.useCallback(()=>h.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),a.jsx(wg,{asChild:!0,...o,children:a.jsx(Mt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:u,onPointerMove:ft(t.onPointerMove,w=>{w.pointerType!=="touch"&&!g.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),g.current=!0)}),onPointerLeave:ft(t.onPointerLeave,()=>{i.onTriggerLeave(),g.current=!1}),onPointerDown:ft(t.onPointerDown,()=>{i.open&&i.onClose(),h.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:ft(t.onFocus,()=>{h.current||i.onOpen()}),onBlur:ft(t.onBlur,i.onClose),onClick:ft(t.onClick,i.onClose)})})});T7.displayName=dA;var bQ="TooltipPortal",[GNe,_Q]=G1(bQ,{forceMount:void 0}),Uf="TooltipContent",k7=N.forwardRef((t,e)=>{const r=_Q(Uf,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=t,o=Y1(Uf,t.__scopeTooltip);return a.jsx(Bs,{present:n||o.open,children:o.disableHoverableContent?a.jsx(P7,{side:i,...s,ref:e}):a.jsx(SQ,{side:i,...s,ref:e})})}),SQ=N.forwardRef((t,e)=>{const r=Y1(Uf,t.__scopeTooltip),n=UN(Uf,t.__scopeTooltip),i=N.useRef(null),s=Nr(e,i),[o,c]=N.useState(null),{trigger:u,onClose:h}=r,g=i.current,{onPointerInTransitChange:v}=n,w=N.useCallback(()=>{c(null),v(!1)},[v]),b=N.useCallback((A,C)=>{const E=A.currentTarget,P={x:A.clientX,y:A.clientY},k=NQ(P,E.getBoundingClientRect()),I=OQ(P,k),F=TQ(C.getBoundingClientRect()),M=PQ([...I,...F]);c(M),v(!0)},[v]);return N.useEffect(()=>()=>w(),[w]),N.useEffect(()=>{if(u&&g){const A=E=>b(E,g),C=E=>b(E,u);return u.addEventListener("pointerleave",A),g.addEventListener("pointerleave",C),()=>{u.removeEventListener("pointerleave",A),g.removeEventListener("pointerleave",C)}}},[u,g,b,w]),N.useEffect(()=>{if(o){const A=C=>{const E=C.target,P={x:C.clientX,y:C.clientY},k=u?.contains(E)||g?.contains(E),I=!kQ(P,o);k?w():I&&(w(),h())};return document.addEventListener("pointermove",A),()=>document.removeEventListener("pointermove",A)}},[u,g,o,h,w]),a.jsx(P7,{...t,ref:s})}),[CQ,EQ]=G1(xp,{isInside:!1}),AQ=yB("TooltipContent"),P7=N.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...c}=t,u=Y1(Uf,r),h=K1(r),{onClose:g}=u;return N.useEffect(()=>(document.addEventListener(uA,g),()=>document.removeEventListener(uA,g)),[g]),N.useEffect(()=>{if(u.trigger){const v=w=>{w.target?.contains(u.trigger)&&g()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[u.trigger,g]),a.jsx(yd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:v=>v.preventDefault(),onDismiss:g,children:a.jsxs(W1,{"data-state":u.stateAttribute,...h,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(AQ,{children:n}),a.jsx(CQ,{scope:r,isInside:!0,children:a.jsx(GK,{id:u.contentId,role:"tooltip",children:i||n})})]})})});k7.displayName=Uf;var I7="TooltipArrow",jQ=N.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=K1(r);return EQ(I7,r).isInside?null:a.jsx(H1,{...i,...n,ref:e})});jQ.displayName=I7;function NQ(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function OQ(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function TQ(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function kQ(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const c=e[s],u=e[o],h=c.x,g=c.y,v=u.x,w=u.y;g>n!=w>n&&r<(v-h)*(n-g)/(w-g)+h&&(i=!i)}return i}function PQ(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),IQ(e)}function IQ(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var RQ=N7,MQ=O7,DQ=T7,R7=k7;const M7=RQ,LQ=MQ,BQ=DQ,D7=N.forwardRef(({className:t,sideOffset:e=4,...r},n)=>a.jsx(R7,{ref:n,sideOffset:e,className:Re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));D7.displayName=R7.displayName;var X1=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Z1=typeof window>"u"||"Deno"in globalThis;function Qa(){}function FQ(t,e){return typeof t=="function"?t(e):t}function UQ(t){return typeof t=="number"&&t>=0&&t!==1/0}function $Q(t,e){return Math.max(t+(e||0)-Date.now(),0)}function fA(t,e){return typeof t=="function"?t(e):t}function VQ(t,e){return typeof t=="function"?t(e):t}function RI(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:c}=t;if(o){if(n){if(e.queryHash!==$N(o,e.options))return!1}else if(!bp(e.queryKey,o))return!1}if(r!=="all"){const u=e.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||i&&i!==e.state.fetchStatus||s&&!s(e))}function MI(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(wp(e.options.mutationKey)!==wp(s))return!1}else if(!bp(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function $N(t,e){return(e?.queryKeyHashFn||wp)(t)}function wp(t){return JSON.stringify(t,(e,r)=>hA(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function bp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>bp(t[r],e[r])):!1}function L7(t,e){if(t===e)return t;const r=DI(t)&&DI(e);if(r||hA(t)&&hA(e)){const n=r?t:Object.keys(t),i=n.length,s=r?e:Object.keys(e),o=s.length,c=r?[]:{},u=new Set(n);let h=0;for(let g=0;g<o;g++){const v=r?g:s[g];(!r&&u.has(v)||r)&&t[v]===void 0&&e[v]===void 0?(c[v]=void 0,h++):(c[v]=L7(t[v],e[v]),c[v]===t[v]&&t[v]!==void 0&&h++)}return i===o&&h===i?t:c}return e}function DI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function hA(t){if(!LI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!LI(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function LI(t){return Object.prototype.toString.call(t)==="[object Object]"}function qQ(t){return new Promise(e=>{setTimeout(e,t)})}function zQ(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?L7(t,e):e}function WQ(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function HQ(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var VN=Symbol();function B7(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===VN?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var GQ=class extends X1{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!Z1&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},F7=new GQ,KQ=class extends X1{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!Z1&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},oy=new KQ;function YQ(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function XQ(t){return Math.min(1e3*2**t,3e4)}function U7(t){return(t??"online")==="online"?oy.isOnline():!0}var $7=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Wb(t){return t instanceof $7}function V7(t){let e=!1,r=0,n=!1,i;const s=YQ(),o=C=>{n||(w(new $7(C)),t.abort?.())},c=()=>{e=!0},u=()=>{e=!1},h=()=>F7.isFocused()&&(t.networkMode==="always"||oy.isOnline())&&t.canRun(),g=()=>U7(t.networkMode)&&t.canRun(),v=C=>{n||(n=!0,t.onSuccess?.(C),i?.(),s.resolve(C))},w=C=>{n||(n=!0,t.onError?.(C),i?.(),s.reject(C))},b=()=>new Promise(C=>{i=E=>{(n||h())&&C(E)},t.onPause?.()}).then(()=>{i=void 0,n||t.onContinue?.()}),A=()=>{if(n)return;let C;const E=r===0?t.initialPromise:void 0;try{C=E??t.fn()}catch(P){C=Promise.reject(P)}Promise.resolve(C).then(v).catch(P=>{if(n)return;const k=t.retry??(Z1?0:3),I=t.retryDelay??XQ,F=typeof I=="function"?I(r,P):I,M=k===!0||typeof k=="number"&&r<k||typeof k=="function"&&k(r,P);if(e||!M){w(P);return}r++,t.onFail?.(r,P),qQ(F).then(()=>h()?void 0:b()).then(()=>{e?w(P):A()})})};return{promise:s,cancel:o,continue:()=>(i?.(),s),cancelRetry:c,continueRetry:u,canStart:g,start:()=>(g()?A():b().then(A),s)}}var ZQ=t=>setTimeout(t,0);function QQ(){let t=[],e=0,r=c=>{c()},n=c=>{c()},i=ZQ;const s=c=>{e?t.push(c):i(()=>{r(c)})},o=()=>{const c=t;t=[],c.length&&i(()=>{n(()=>{c.forEach(u=>{r(u)})})})};return{batch:c=>{let u;e++;try{u=c()}finally{e--,e||o()}return u},batchCalls:c=>(...u)=>{s(()=>{c(...u)})},schedule:s,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{i=c}}}var ms=QQ(),q7=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),UQ(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Z1?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},JQ=class extends q7{#e;#t;#r;#i;#n;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#r=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=tJ(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const r=zQ(this.state.data,t,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(Qa).catch(Qa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>VQ(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===VN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>fA(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!$Q(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(h=>h.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,n=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},i=()=>{const u=B7(this.options,e),g=(()=>{const v={client:this.#i,queryKey:this.queryKey,meta:this.meta};return n(v),v})();return this.#o=!1,this.options.persister?this.options.persister(u,g,this):u(g)},o=(()=>{const u={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return n(u),u})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta});const c=u=>{Wb(u)&&u.silent||this.#s({type:"error",error:u}),Wb(u)||(this.#r.config.onError?.(u,this),this.#r.config.onSettled?.(this.state.data,u,this)),this.scheduleGc()};return this.#n=V7({initialPromise:e?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{if(u===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(h){c(h);return}this.#r.config.onSuccess?.(u,this),this.#r.config.onSettled?.(u,this.state.error,this),this.scheduleGc()},onError:c,onFail:(u,h)=>{this.#s({type:"failed",failureCount:u,error:h})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#n.start()}#s(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...eJ(r.data,this.options),fetchMeta:t.meta??null};case"success":return this.#t=void 0,{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return Wb(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),ms.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function eJ(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:U7(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function tJ(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var rJ=class extends X1{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){const n=e.queryKey,i=e.queryHash??$N(n,e);let s=this.get(i);return s||(s=new JQ({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ms.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>RI(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>RI(t,r)):e}notify(t){ms.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){ms.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ms.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},nJ=class extends q7{#e;#t;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||iJ(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#i({type:"continue"})};this.#r=V7({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(i,s)=>{this.#i({type:"failed",failureCount:i,error:s})},onPause:()=>{this.#i({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)e();else{this.#i({type:"pending",variables:t,isPaused:n}),await this.#t.config.onMutate?.(t,this);const s=await this.options.onMutate?.(t);s!==this.state.context&&this.#i({type:"pending",context:s,variables:t,isPaused:n})}const i=await this.#r.start();return await this.#t.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#t.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#i({type:"success",data:i}),i}catch(i){try{throw await this.#t.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#t.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#i({type:"error",error:i})}}finally{this.#t.runNext(this)}}#i(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),ms.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function iJ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var sJ=class extends X1{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(t,e,r){const n=new nJ({mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#e.add(t);const e=ov(t);if(typeof e=="string"){const r=this.#t.get(e);r?r.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=ov(t);if(typeof e=="string"){const r=this.#t.get(e);if(r)if(r.length>1){const n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=ov(t);if(typeof e=="string"){const n=this.#t.get(e)?.find(i=>i.state.status==="pending");return!n||n===t}else return!0}runNext(t){const e=ov(t);return typeof e=="string"?this.#t.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ms.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(r=>MI(e,r))}findAll(t={}){return this.getAll().filter(e=>MI(t,e))}notify(t){ms.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return ms.batch(()=>Promise.all(t.map(e=>e.continue().catch(Qa))))}};function ov(t){return t.options.scope?.id}function BI(t){return{onFetch:(e,r)=>{const n=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},u=0;const h=async()=>{let g=!1;const v=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},w=B7(e.options,e.fetchOptions),b=async(A,C,E)=>{if(g)return Promise.reject();if(C==null&&A.pages.length)return Promise.resolve(A);const k=(()=>{const D={client:e.client,queryKey:e.queryKey,pageParam:C,direction:E?"backward":"forward",meta:e.options.meta};return v(D),D})(),I=await w(k),{maxPages:F}=e.options,M=E?HQ:WQ;return{pages:M(A.pages,I,F),pageParams:M(A.pageParams,C,F)}};if(i&&s.length){const A=i==="backward",C=A?aJ:FI,E={pages:s,pageParams:o},P=C(n,E);c=await b(E,P,A)}else{const A=t??s.length;do{const C=u===0?o[0]??n.initialPageParam:FI(n,c);if(u>0&&C==null)break;c=await b(c,C),u++}while(u<A)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=h}}}function FI(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function aJ(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var oJ=class{#e;#t;#r;#i;#n;#a;#o;#s;constructor(t={}){this.#e=t.queryCache||new rJ,this.#t=t.mutationCache||new sJ,this.#r=t.defaultOptions||{},this.#i=new Map,this.#n=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=F7.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=oy.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#e.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(fA(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(n.queryHash)?.state.data,o=FQ(e,s);if(o!==void 0)return this.#e.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return ms.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;ms.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#e;return ms.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=ms.batch(()=>this.#e.findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Qa).catch(Qa)}invalidateQueries(t,e={}){return ms.batch(()=>(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=ms.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Qa)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Qa)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(fA(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Qa).catch(Qa)}fetchInfiniteQuery(t){return t.behavior=BI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Qa).catch(Qa)}ensureInfiniteQueryData(t){return t.behavior=BI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return oy.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#i.set(wp(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],r={};return e.forEach(n=>{bp(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#n.set(wp(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(n=>{bp(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=$N(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===VN&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},lJ=N.createContext(void 0),cJ=({client:t,children:e})=>(N.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(lJ.Provider,{value:t,children:e}));function _p(){return _p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_p.apply(this,arguments)}var Sc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Sc||(Sc={}));const UI="popstate";function uJ(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:c}=n.location;return mA("",{pathname:s,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:W7(i)}return fJ(e,r,null,t)}function ui(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function z7(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dJ(){return Math.random().toString(36).substr(2,8)}function $I(t,e){return{usr:t.state,key:t.key,idx:e}}function mA(t,e,r,n){return r===void 0&&(r=null),_p({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ph(e):e,{state:r,key:e&&e.key||n||dJ()})}function W7(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ph(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function fJ(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,c=Sc.Pop,u=null,h=g();h==null&&(h=0,o.replaceState(_p({},o.state,{idx:h}),""));function g(){return(o.state||{idx:null}).idx}function v(){c=Sc.Pop;let E=g(),P=E==null?null:E-h;h=E,u&&u({action:c,location:C.location,delta:P})}function w(E,P){c=Sc.Push;let k=mA(C.location,E,P);h=g()+1;let I=$I(k,h),F=C.createHref(k);try{o.pushState(I,"",F)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(F)}s&&u&&u({action:c,location:C.location,delta:1})}function b(E,P){c=Sc.Replace;let k=mA(C.location,E,P);h=g();let I=$I(k,h),F=C.createHref(k);o.replaceState(I,"",F),s&&u&&u({action:c,location:C.location,delta:0})}function A(E){let P=i.location.origin!=="null"?i.location.origin:i.location.href,k=typeof E=="string"?E:W7(E);return k=k.replace(/ $/,"%20"),ui(P,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,P)}let C={get action(){return c},get location(){return t(i,o)},listen(E){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(UI,v),u=E,()=>{i.removeEventListener(UI,v),u=null}},createHref(E){return e(i,E)},createURL:A,encodeLocation(E){let P=A(E);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:w,replace:b,go(E){return o.go(E)}};return C}var VI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(VI||(VI={}));function hJ(t,e,r){return r===void 0&&(r="/"),mJ(t,e,r)}function mJ(t,e,r,n){let i=typeof e=="string"?Ph(e):e,s=K7(i.pathname||"/",r);if(s==null)return null;let o=H7(t);pJ(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let h=jJ(s);c=CJ(o[u],h)}return c}function H7(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,c)=>{let u={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(ui(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let h=Gu([n,u.relativePath]),g=r.concat(u);s.children&&s.children.length>0&&(ui(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),H7(s.children,e,g,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:_J(h,s.index),routesMeta:g})};return t.forEach((s,o)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,o);else for(let u of G7(s.path))i(s,o,u)}),e}function G7(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=G7(n.join("/")),c=[];return c.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&c.push(...o),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function pJ(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:SJ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const gJ=/^:[\w-]+$/,vJ=3,yJ=2,xJ=1,wJ=10,bJ=-2,qI=t=>t==="*";function _J(t,e){let r=t.split("/"),n=r.length;return r.some(qI)&&(n+=bJ),e&&(n+=yJ),r.filter(i=>!qI(i)).reduce((i,s)=>i+(gJ.test(s)?vJ:s===""?xJ:wJ),n)}function SJ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function CJ(t,e,r){let{routesMeta:n}=t,i={},s="/",o=[];for(let c=0;c<n.length;++c){let u=n[c],h=c===n.length-1,g=s==="/"?e:e.slice(s.length)||"/",v=EJ({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},g),w=u.route;if(!v)return null;Object.assign(i,v.params),o.push({params:i,pathname:Gu([s,v.pathname]),pathnameBase:kJ(Gu([s,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(s=Gu([s,v.pathnameBase]))}return o}function EJ(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=AJ(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((h,g,v)=>{let{paramName:w,isOptional:b}=g;if(w==="*"){let C=c[v]||"";o=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const A=c[v];return b&&!A?h[w]=void 0:h[w]=(A||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:t}}function AJ(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),z7(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(n.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function jJ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return z7(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function K7(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function NJ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Ph(t):t;return{pathname:r?r.startsWith("/")?r:OJ(r,e):e,search:PJ(n),hash:IJ(i)}}function OJ(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Hb(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TJ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Y7(t,e){let r=TJ(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function X7(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Ph(t):(i=_p({},t),ui(!i.pathname||!i.pathname.includes("?"),Hb("?","pathname","search",i)),ui(!i.pathname||!i.pathname.includes("#"),Hb("#","pathname","hash",i)),ui(!i.search||!i.search.includes("#"),Hb("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,c;if(o==null)c=r;else{let v=e.length-1;if(!n&&o.startsWith("..")){let w=o.split("/");for(;w[0]==="..";)w.shift(),v-=1;i.pathname=w.join("/")}c=v>=0?e[v]:"/"}let u=NJ(i,c),h=o&&o!=="/"&&o.endsWith("/"),g=(s||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(h||g)&&(u.pathname+="/"),u}const Gu=t=>t.join("/").replace(/\/\/+/g,"/"),kJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function RJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Z7=["post","put","patch","delete"];new Set(Z7);const MJ=["get",...Z7];new Set(MJ);function Sp(){return Sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sp.apply(this,arguments)}const qN=N.createContext(null),DJ=N.createContext(null),bg=N.createContext(null),Q1=N.createContext(null),qc=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Q7=N.createContext(null);function _g(){return N.useContext(Q1)!=null}function $o(){return _g()||ui(!1),N.useContext(Q1).location}function J7(t){N.useContext(bg).static||N.useLayoutEffect(t)}function Kn(){let{isDataRoute:t}=N.useContext(qc);return t?XJ():LJ()}function LJ(){_g()||ui(!1);let t=N.useContext(qN),{basename:e,future:r,navigator:n}=N.useContext(bg),{matches:i}=N.useContext(qc),{pathname:s}=$o(),o=JSON.stringify(Y7(i,r.v7_relativeSplatPath)),c=N.useRef(!1);return J7(()=>{c.current=!0}),N.useCallback(function(h,g){if(g===void 0&&(g={}),!c.current)return;if(typeof h=="number"){n.go(h);return}let v=X7(h,JSON.parse(o),s,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Gu([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,o,s,t])}function BJ(){let{matches:t}=N.useContext(qc),e=t[t.length-1];return e?e.params:{}}function FJ(t,e){return UJ(t,e)}function UJ(t,e,r,n){_g()||ui(!1);let{navigator:i}=N.useContext(bg),{matches:s}=N.useContext(qc),o=s[s.length-1],c=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let h=$o(),g;if(e){var v;let E=typeof e=="string"?Ph(e):e;u==="/"||(v=E.pathname)!=null&&v.startsWith(u)||ui(!1),g=E}else g=h;let w=g.pathname||"/",b=w;if(u!=="/"){let E=u.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(E.length).join("/")}let A=hJ(t,{pathname:b}),C=WJ(A&&A.map(E=>Object.assign({},E,{params:Object.assign({},c,E.params),pathname:Gu([u,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:Gu([u,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,r,n);return e&&C?N.createElement(Q1.Provider,{value:{location:Sp({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Sc.Pop}},C):C}function $J(){let t=YJ(),e=RJ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),r?N.createElement("pre",{style:i},r):null,null)}const VJ=N.createElement($J,null);class qJ extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?N.createElement(qc.Provider,{value:this.props.routeContext},N.createElement(Q7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zJ(t){let{routeContext:e,match:r,children:n}=t,i=N.useContext(qN);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(qc.Provider,{value:e},n)}function WJ(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,c=(i=r)==null?void 0:i.errors;if(c!=null){let g=o.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);g>=0||ui(!1),o=o.slice(0,Math.min(o.length,g+1))}let u=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let g=0;g<o.length;g++){let v=o[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=g),v.route.id){let{loaderData:w,errors:b}=r,A=v.route.loader&&w[v.route.id]===void 0&&(!b||b[v.route.id]===void 0);if(v.route.lazy||A){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((g,v,w)=>{let b,A=!1,C=null,E=null;r&&(b=c&&v.route.id?c[v.route.id]:void 0,C=v.route.errorElement||VJ,u&&(h<0&&w===0?(ZJ("route-fallback"),A=!0,E=null):h===w&&(A=!0,E=v.route.hydrateFallbackElement||null)));let P=e.concat(o.slice(0,w+1)),k=()=>{let I;return b?I=C:A?I=E:v.route.Component?I=N.createElement(v.route.Component,null):v.route.element?I=v.route.element:I=g,N.createElement(zJ,{match:v,routeContext:{outlet:g,matches:P,isDataRoute:r!=null},children:I})};return r&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?N.createElement(qJ,{location:r.location,revalidation:r.revalidation,component:C,error:b,children:k(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):k()},null)}var e9=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(e9||{}),t9=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(t9||{});function HJ(t){let e=N.useContext(qN);return e||ui(!1),e}function GJ(t){let e=N.useContext(DJ);return e||ui(!1),e}function KJ(t){let e=N.useContext(qc);return e||ui(!1),e}function r9(t){let e=KJ(),r=e.matches[e.matches.length-1];return r.route.id||ui(!1),r.route.id}function YJ(){var t;let e=N.useContext(Q7),r=GJ(),n=r9();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function XJ(){let{router:t}=HJ(e9.UseNavigateStable),e=r9(t9.UseNavigateStable),r=N.useRef(!1);return J7(()=>{r.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Sp({fromRouteId:e},s)))},[t,e])}const zI={};function ZJ(t,e,r){zI[t]||(zI[t]=!0)}function QJ(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function JJ(t){let{to:e,replace:r,state:n,relative:i}=t;_g()||ui(!1);let{future:s,static:o}=N.useContext(bg),{matches:c}=N.useContext(qc),{pathname:u}=$o(),h=Kn(),g=X7(e,Y7(c,s.v7_relativeSplatPath),u,i==="path"),v=JSON.stringify(g);return N.useEffect(()=>h(JSON.parse(v),{replace:r,state:n,relative:i}),[h,v,i,r,n]),null}function mn(t){ui(!1)}function eee(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Sc.Pop,navigator:s,static:o=!1,future:c}=t;_g()&&ui(!1);let u=e.replace(/^\/*/,"/"),h=N.useMemo(()=>({basename:u,navigator:s,static:o,future:Sp({v7_relativeSplatPath:!1},c)}),[u,c,s,o]);typeof n=="string"&&(n=Ph(n));let{pathname:g="/",search:v="",hash:w="",state:b=null,key:A="default"}=n,C=N.useMemo(()=>{let E=K7(g,u);return E==null?null:{location:{pathname:E,search:v,hash:w,state:b,key:A},navigationType:i}},[u,g,v,w,b,A,i]);return C==null?null:N.createElement(bg.Provider,{value:h},N.createElement(Q1.Provider,{children:r,value:C}))}function tee(t){let{children:e,location:r}=t;return FJ(pA(e),r)}new Promise(()=>{});function pA(t,e){e===void 0&&(e=[]);let r=[];return N.Children.forEach(t,(n,i)=>{if(!N.isValidElement(n))return;let s=[...e,i];if(n.type===N.Fragment){r.push.apply(r,pA(n.props.children,s));return}n.type!==mn&&ui(!1),!n.props.index||!n.props.children||ui(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=pA(n.props.children,s)),r.push(o)}),r}const ree="6";try{window.__reactRouterVersion=ree}catch{}const nee="startTransition",WI=yN[nee];function iee(t){let{basename:e,children:r,future:n,window:i}=t,s=N.useRef();s.current==null&&(s.current=uJ({window:i,v5Compat:!0}));let o=s.current,[c,u]=N.useState({action:o.action,location:o.location}),{v7_startTransition:h}=n||{},g=N.useCallback(v=>{h&&WI?WI(()=>u(v)):u(v)},[u,h]);return N.useLayoutEffect(()=>o.listen(g),[o,g]),N.useEffect(()=>QJ(n),[n]),N.createElement(eee,{basename:e,children:r,location:c.location,navigationType:c.action,navigator:o,future:n})}var HI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(HI||(HI={}));var GI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(GI||(GI={}));const Cp=xd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-lg hover:shadow-xl transition-all",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border-2 border-primary text-primary bg-transparent hover:bg-primary hover:text-primary-foreground transition-all",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-primary text-primary-foreground hover:bg-primary-glow shadow-[0_0_30px_rgba(255,68,68,0.4)] hover:shadow-[0_0_50px_rgba(255,68,68,0.6)] transition-all text-base font-semibold",cosmic:"bg-gradient-to-r from-primary to-mars-orange text-primary-foreground hover:opacity-90 shadow-lg hover:shadow-xl transition-all"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),_e=N.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},s)=>{const o=n?vd:"button";return a.jsx(o,{className:Re(Cp({variant:e,size:r,className:t})),ref:s,...i})});_e.displayName="Button";var Gb={exports:{}},Kb={};var KI;function see(){if(KI)return Kb;KI=1;var t=M1();function e(v,w){return v===w&&(v!==0||1/v===1/w)||v!==v&&w!==w}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function c(v,w){var b=w(),A=n({inst:{value:b,getSnapshot:w}}),C=A[0].inst,E=A[1];return s(function(){C.value=b,C.getSnapshot=w,u(C)&&E({inst:C})},[v,b,w]),i(function(){return u(C)&&E({inst:C}),v(function(){u(C)&&E({inst:C})})},[v]),o(b),b}function u(v){var w=v.getSnapshot;v=v.value;try{var b=w();return!r(v,b)}catch{return!0}}function h(v,w){return w()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return Kb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,Kb}var YI;function aee(){return YI||(YI=1,Gb.exports=see()),Gb.exports}var oee=aee();function lee(){return oee.useSyncExternalStore(cee,()=>!0,()=>!1)}function cee(){return()=>{}}var zN="Avatar",[uee]=ls(zN),[dee,n9]=uee(zN),i9=N.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,s]=N.useState("idle");return a.jsx(dee,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:a.jsx(Mt.span,{...n,ref:e})})});i9.displayName=zN;var s9="AvatarImage",a9=N.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...s}=t,o=n9(s9,r),c=fee(n,s),u=Ss(h=>{i(h),o.onImageLoadingStatusChange(h)});return fi(()=>{c!=="idle"&&u(c)},[c,u]),c==="loaded"?a.jsx(Mt.img,{...s,ref:e,src:n}):null});a9.displayName=s9;var o9="AvatarFallback",l9=N.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,s=n9(o9,r),[o,c]=N.useState(n===void 0);return N.useEffect(()=>{if(n!==void 0){const u=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(u)}},[n]),o&&s.imageLoadingStatus!=="loaded"?a.jsx(Mt.span,{...i,ref:e}):null});l9.displayName=o9;function XI(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function fee(t,{referrerPolicy:e,crossOrigin:r}){const n=lee(),i=N.useRef(null),s=n?(i.current||(i.current=new window.Image),i.current):null,[o,c]=N.useState(()=>XI(s,t));return fi(()=>{c(XI(s,t))},[s,t]),fi(()=>{const u=v=>()=>{c(v)};if(!s)return;const h=u("loaded"),g=u("error");return s.addEventListener("load",h),s.addEventListener("error",g),e&&(s.referrerPolicy=e),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",h),s.removeEventListener("error",g)}},[s,r,e]),o}var c9=i9,u9=a9,d9=l9;const WN=N.forwardRef(({className:t,...e},r)=>a.jsx(c9,{ref:r,className:Re("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));WN.displayName=c9.displayName;const HN=N.forwardRef(({className:t,...e},r)=>a.jsx(u9,{ref:r,className:Re("aspect-square h-full w-full",t),...e}));HN.displayName=u9.displayName;const GN=N.forwardRef(({className:t,...e},r)=>a.jsx(d9,{ref:r,className:Re("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));GN.displayName=d9.displayName;var hee=N.createContext(void 0);function J1(t){const e=N.useContext(hee);return t||e||"ltr"}var Yb=0;function ex(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ZI()),document.body.insertAdjacentElement("beforeend",t[1]??ZI()),Yb++,()=>{Yb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Yb--}},[])}function ZI(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Xb="focusScope.autoFocusOnMount",Zb="focusScope.autoFocusOnUnmount",QI={bubbles:!1,cancelable:!0},mee="FocusScope",Sg=N.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[c,u]=N.useState(null),h=Ss(i),g=Ss(s),v=N.useRef(null),w=Nr(e,C=>u(C)),b=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(n){let C=function(I){if(b.paused||!c)return;const F=I.target;c.contains(F)?v.current=F:pc(v.current,{select:!0})},E=function(I){if(b.paused||!c)return;const F=I.relatedTarget;F!==null&&(c.contains(F)||pc(v.current,{select:!0}))},P=function(I){if(document.activeElement===document.body)for(const M of I)M.removedNodes.length>0&&pc(c)};document.addEventListener("focusin",C),document.addEventListener("focusout",E);const k=new MutationObserver(P);return c&&k.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",E),k.disconnect()}}},[n,c,b.paused]),N.useEffect(()=>{if(c){e3.add(b);const C=document.activeElement;if(!c.contains(C)){const P=new CustomEvent(Xb,QI);c.addEventListener(Xb,h),c.dispatchEvent(P),P.defaultPrevented||(pee(wee(f9(c)),{select:!0}),document.activeElement===C&&pc(c))}return()=>{c.removeEventListener(Xb,h),setTimeout(()=>{const P=new CustomEvent(Zb,QI);c.addEventListener(Zb,g),c.dispatchEvent(P),P.defaultPrevented||pc(C??document.body,{select:!0}),c.removeEventListener(Zb,g),e3.remove(b)},0)}}},[c,h,g,b]);const A=N.useCallback(C=>{if(!r&&!n||b.paused)return;const E=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,P=document.activeElement;if(E&&P){const k=C.currentTarget,[I,F]=gee(k);I&&F?!C.shiftKey&&P===F?(C.preventDefault(),r&&pc(I,{select:!0})):C.shiftKey&&P===I&&(C.preventDefault(),r&&pc(F,{select:!0})):P===k&&C.preventDefault()}},[r,n,b.paused]);return a.jsx(Mt.div,{tabIndex:-1,...o,ref:w,onKeyDown:A})});Sg.displayName=mee;function pee(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(pc(n,{select:e}),document.activeElement!==r)return}function gee(t){const e=f9(t),r=JI(e,t),n=JI(e.reverse(),t);return[r,n]}function f9(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function JI(t,e){for(const r of t)if(!vee(r,{upTo:e}))return r}function vee(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function yee(t){return t instanceof HTMLInputElement&&"select"in t}function pc(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&yee(t)&&e&&t.select()}}var e3=xee();function xee(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=t3(t,e),t.unshift(e)},remove(e){t=t3(t,e),t[0]?.resume()}}}function t3(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function wee(t){return t.filter(e=>e.tagName!=="A")}var Qb="rovingFocusGroup.onEntryFocus",bee={bubbles:!1,cancelable:!0},Cg="RovingFocusGroup",[gA,h9,_ee]=L1(Cg),[See,tx]=ls(Cg,[_ee]),[Cee,Eee]=See(Cg),m9=N.forwardRef((t,e)=>a.jsx(gA.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(gA.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Aee,{...t,ref:e})})}));m9.displayName=Cg;var Aee=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:h,preventScrollOnEntryFocus:g=!1,...v}=t,w=N.useRef(null),b=Nr(e,w),A=J1(s),[C,E]=lo({prop:o,defaultProp:c??null,onChange:u,caller:Cg}),[P,k]=N.useState(!1),I=Ss(h),F=h9(r),M=N.useRef(!1),[D,R]=N.useState(0);return N.useEffect(()=>{const $=w.current;if($)return $.addEventListener(Qb,I),()=>$.removeEventListener(Qb,I)},[I]),a.jsx(Cee,{scope:r,orientation:n,dir:A,loop:i,currentTabStopId:C,onItemFocus:N.useCallback($=>E($),[E]),onItemShiftTab:N.useCallback(()=>k(!0),[]),onFocusableItemAdd:N.useCallback(()=>R($=>$+1),[]),onFocusableItemRemove:N.useCallback(()=>R($=>$-1),[]),children:a.jsx(Mt.div,{tabIndex:P||D===0?-1:0,"data-orientation":n,...v,ref:b,style:{outline:"none",...t.style},onMouseDown:ft(t.onMouseDown,()=>{M.current=!0}),onFocus:ft(t.onFocus,$=>{const z=!M.current;if($.target===$.currentTarget&&z&&!P){const G=new CustomEvent(Qb,bee);if($.currentTarget.dispatchEvent(G),!G.defaultPrevented){const W=F().filter(J=>J.focusable),V=W.find(J=>J.active),K=W.find(J=>J.id===C),Y=[V,K,...W].filter(Boolean).map(J=>J.ref.current);v9(Y,g)}}M.current=!1}),onBlur:ft(t.onBlur,()=>k(!1))})})}),p9="RovingFocusGroupItem",g9=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:o,...c}=t,u=Pa(),h=s||u,g=Eee(p9,r),v=g.currentTabStopId===h,w=h9(r),{onFocusableItemAdd:b,onFocusableItemRemove:A,currentTabStopId:C}=g;return N.useEffect(()=>{if(n)return b(),()=>A()},[n,b,A]),a.jsx(gA.ItemSlot,{scope:r,id:h,focusable:n,active:i,children:a.jsx(Mt.span,{tabIndex:v?0:-1,"data-orientation":g.orientation,...c,ref:e,onMouseDown:ft(t.onMouseDown,E=>{n?g.onItemFocus(h):E.preventDefault()}),onFocus:ft(t.onFocus,()=>g.onItemFocus(h)),onKeyDown:ft(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){g.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const P=Oee(E,g.orientation,g.dir);if(P!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let I=w().filter(F=>F.focusable).map(F=>F.ref.current);if(P==="last")I.reverse();else if(P==="prev"||P==="next"){P==="prev"&&I.reverse();const F=I.indexOf(E.currentTarget);I=g.loop?Tee(I,F+1):I.slice(F+1)}setTimeout(()=>v9(I))}}),children:typeof o=="function"?o({isCurrentTabStop:v,hasTabStop:C!=null}):o})})});g9.displayName=p9;var jee={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Nee(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Oee(t,e,r){const n=Nee(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return jee[n]}function v9(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function Tee(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var y9=m9,x9=g9,kee=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},tf=new WeakMap,lv=new WeakMap,cv={},Jb=0,w9=function(t){return t&&(t.host||w9(t.parentNode))},Pee=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=w9(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},Iee=function(t,e,r,n){var i=Pee(e,Array.isArray(t)?t:[t]);cv[r]||(cv[r]=new WeakMap);var s=cv[r],o=[],c=new Set,u=new Set(i),h=function(v){!v||c.has(v)||(c.add(v),h(v.parentNode))};i.forEach(h);var g=function(v){!v||u.has(v)||Array.prototype.forEach.call(v.children,function(w){if(c.has(w))g(w);else try{var b=w.getAttribute(n),A=b!==null&&b!=="false",C=(tf.get(w)||0)+1,E=(s.get(w)||0)+1;tf.set(w,C),s.set(w,E),o.push(w),C===1&&A&&lv.set(w,!0),E===1&&w.setAttribute(r,"true"),A||w.setAttribute(n,"true")}catch(P){console.error("aria-hidden: cannot operate on ",w,P)}})};return g(e),c.clear(),Jb++,function(){o.forEach(function(v){var w=tf.get(v)-1,b=s.get(v)-1;tf.set(v,w),s.set(v,b),w||(lv.has(v)||v.removeAttribute(n),lv.delete(v)),b||v.removeAttribute(r)}),Jb--,Jb||(tf=new WeakMap,tf=new WeakMap,lv=new WeakMap,cv={})}},rx=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=kee(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),Iee(n,i,r,"aria-hidden")):function(){return null}},vA=function(t,e){return vA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},vA(t,e)};function b9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");vA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Na=function(){return Na=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Na.apply(this,arguments)};function zc(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function _9(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function S9(t,e){return function(r,n){e(r,n,t)}}function C9(t,e,r,n,i,s){function o(P){if(P!==void 0&&typeof P!="function")throw new TypeError("Function expected");return P}for(var c=n.kind,u=c==="getter"?"get":c==="setter"?"set":"value",h=!e&&t?n.static?t:t.prototype:null,g=e||(h?Object.getOwnPropertyDescriptor(h,n.name):{}),v,w=!1,b=r.length-1;b>=0;b--){var A={};for(var C in n)A[C]=C==="access"?{}:n[C];for(var C in n.access)A.access[C]=n.access[C];A.addInitializer=function(P){if(w)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(P||null))};var E=(0,r[b])(c==="accessor"?{get:g.get,set:g.set}:g[u],A);if(c==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(v=o(E.get))&&(g.get=v),(v=o(E.set))&&(g.set=v),(v=o(E.init))&&i.unshift(v)}else(v=o(E))&&(c==="field"?i.unshift(v):g[u]=v)}h&&Object.defineProperty(h,n.name,g),w=!0}function E9(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function A9(t){return typeof t=="symbol"?t:"".concat(t)}function j9(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function N9(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Rt(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function c(g){try{h(n.next(g))}catch(v){o(v)}}function u(g){try{h(n.throw(g))}catch(v){o(v)}}function h(g){g.done?s(g.value):i(g.value).then(c,u)}h((n=n.apply(t,e||[])).next())})}function O9(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(h){return function(g){return u([h,g])}}function u(h){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(g){h=[6,g],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var nx=Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]});function T9(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&nx(e,t,r)}function ly(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function KN(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(c){o={error:c}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function k9(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(KN(arguments[e]));return t}function P9(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,c=s.length;o<c;o++,i++)n[i]=s[o];return n}function YN(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function $f(t){return this instanceof $f?(this.v=t,this):new $f(t)}function I9(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(b){return function(A){return Promise.resolve(A).then(b,v)}}function c(b,A){n[b]&&(i[b]=function(C){return new Promise(function(E,P){s.push([b,C,E,P])>1||u(b,C)})},A&&(i[b]=A(i[b])))}function u(b,A){try{h(n[b](A))}catch(C){w(s[0][3],C)}}function h(b){b.value instanceof $f?Promise.resolve(b.value.v).then(g,v):w(s[0][2],b)}function g(b){u("next",b)}function v(b){u("throw",b)}function w(b,A){b(A),s.shift(),s.length&&u(s[0][0],s[0][1])}}function R9(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:$f(t[i](o)),done:!1}:s?s(o):o}:s}}function M9(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof ly=="function"?ly(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(c,u){o=t[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(h){s({value:h,done:c})},o)}}function D9(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Ree=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},yA=function(t){return yA=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},yA(t)};function L9(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=yA(t),n=0;n<r.length;n++)r[n]!=="default"&&nx(e,t,r[n]);return Ree(e,t),e}function B9(t){return t&&t.__esModule?t:{default:t}}function F9(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function U9(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function $9(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function V9(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var Mee=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function q9(t){function e(s){t.error=t.hasError?new Mee(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(o){return e(o),i()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function z9(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,o){return n?e?".jsx":".js":i&&(!s||!o)?r:i+s+"."+o.toLowerCase()+"js"}):t}const Dee={__extends:b9,__assign:Na,__rest:zc,__decorate:_9,__param:S9,__esDecorate:C9,__runInitializers:E9,__propKey:A9,__setFunctionName:j9,__metadata:N9,__awaiter:Rt,__generator:O9,__createBinding:nx,__exportStar:T9,__values:ly,__read:KN,__spread:k9,__spreadArrays:P9,__spreadArray:YN,__await:$f,__asyncGenerator:I9,__asyncDelegator:R9,__asyncValues:M9,__makeTemplateObject:D9,__importStar:L9,__importDefault:B9,__classPrivateFieldGet:F9,__classPrivateFieldSet:U9,__classPrivateFieldIn:$9,__addDisposableResource:V9,__disposeResources:q9,__rewriteRelativeImportExtension:z9},Lee=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:V9,get __assign(){return Na},__asyncDelegator:R9,__asyncGenerator:I9,__asyncValues:M9,__await:$f,__awaiter:Rt,__classPrivateFieldGet:F9,__classPrivateFieldIn:$9,__classPrivateFieldSet:U9,__createBinding:nx,__decorate:_9,__disposeResources:q9,__esDecorate:C9,__exportStar:T9,__extends:b9,__generator:O9,__importDefault:B9,__importStar:L9,__makeTemplateObject:D9,__metadata:N9,__param:S9,__propKey:A9,__read:KN,__rest:zc,__rewriteRelativeImportExtension:z9,__runInitializers:E9,__setFunctionName:j9,__spread:k9,__spreadArray:YN,__spreadArrays:P9,__values:ly,default:Dee},Symbol.toStringTag,{value:"Module"}));var Vv="right-scroll-bar-position",qv="width-before-scroll-bar",Bee="with-scroll-bars-hidden",Fee="--removed-body-scroll-bar-size";function e_(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Uee(t,e){var r=N.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var $ee=typeof window<"u"?N.useLayoutEffect:N.useEffect,r3=new WeakMap;function Vee(t,e){var r=Uee(null,function(n){return t.forEach(function(i){return e_(i,n)})});return $ee(function(){var n=r3.get(r);if(n){var i=new Set(n),s=new Set(t),o=r.current;i.forEach(function(c){s.has(c)||e_(c,null)}),s.forEach(function(c){i.has(c)||e_(c,o)})}r3.set(r,t)},[t]),r}function qee(t){return t}function zee(t,e){e===void 0&&(e=qee);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var o=e(s,n);return r.push(o),function(){r=r.filter(function(c){return c!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(c){return s(c)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var c=r;r=[],c.forEach(s),o=r}var u=function(){var g=o;o=[],g.forEach(s)},h=function(){return Promise.resolve().then(u)};h(),r={push:function(g){o.push(g),h()},filter:function(g){return o=o.filter(g),r}}}};return i}function Wee(t){t===void 0&&(t={});var e=zee(null);return e.options=Na({async:!0,ssr:!1},t),e}var W9=function(t){var e=t.sideCar,r=zc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return N.createElement(n,Na({},r))};W9.isSideCarExport=!0;function Hee(t,e){return t.useMedium(e),W9}var H9=Wee(),t_=function(){},ix=N.forwardRef(function(t,e){var r=N.useRef(null),n=N.useState({onScrollCapture:t_,onWheelCapture:t_,onTouchMoveCapture:t_}),i=n[0],s=n[1],o=t.forwardProps,c=t.children,u=t.className,h=t.removeScrollBar,g=t.enabled,v=t.shards,w=t.sideCar,b=t.noRelative,A=t.noIsolation,C=t.inert,E=t.allowPinchZoom,P=t.as,k=P===void 0?"div":P,I=t.gapMode,F=zc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=w,D=Vee([r,e]),R=Na(Na({},F),i);return N.createElement(N.Fragment,null,g&&N.createElement(M,{sideCar:H9,removeScrollBar:h,shards:v,noRelative:b,noIsolation:A,inert:C,setCallbacks:s,allowPinchZoom:!!E,lockRef:r,gapMode:I}),o?N.cloneElement(N.Children.only(c),Na(Na({},R),{ref:D})):N.createElement(k,Na({},R,{className:u,ref:D}),c))});ix.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ix.classNames={fullWidth:qv,zeroRight:Vv};var Gee=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Kee(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Gee();return e&&t.setAttribute("nonce",e),t}function Yee(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Xee(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Zee=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Kee())&&(Yee(e,r),Xee(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Qee=function(){var t=Zee();return function(e,r){N.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},G9=function(){var t=Qee(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},Jee={left:0,top:0,right:0,gap:0},r_=function(t){return parseInt(t||"",10)||0},ete=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[r_(r),r_(n),r_(i)]},tte=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Jee;var e=ete(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},rte=G9(),Pf="data-scroll-locked",nte=function(t,e,r,n){var i=t.left,s=t.top,o=t.right,c=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Bee,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(Pf,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vv,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(qv,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Vv," .").concat(Vv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(qv," .").concat(qv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Pf,`] {
    `).concat(Fee,": ").concat(c,`px;
  }
`)},n3=function(){var t=parseInt(document.body.getAttribute(Pf)||"0",10);return isFinite(t)?t:0},ite=function(){N.useEffect(function(){return document.body.setAttribute(Pf,(n3()+1).toString()),function(){var t=n3()-1;t<=0?document.body.removeAttribute(Pf):document.body.setAttribute(Pf,t.toString())}},[])},ste=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;ite();var s=N.useMemo(function(){return tte(i)},[i]);return N.createElement(rte,{styles:nte(s,!e,i,r?"":"!important")})},xA=!1;if(typeof window<"u")try{var uv=Object.defineProperty({},"passive",{get:function(){return xA=!0,!0}});window.addEventListener("test",uv,uv),window.removeEventListener("test",uv,uv)}catch{xA=!1}var rf=xA?{passive:!1}:!1,ate=function(t){return t.tagName==="TEXTAREA"},K9=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!ate(t)&&r[e]==="visible")},ote=function(t){return K9(t,"overflowY")},lte=function(t){return K9(t,"overflowX")},i3=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=Y9(t,n);if(i){var s=X9(t,n),o=s[1],c=s[2];if(o>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},cte=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},ute=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},Y9=function(t,e){return t==="v"?ote(e):lte(e)},X9=function(t,e){return t==="v"?cte(e):ute(e)},dte=function(t,e){return t==="h"&&e==="rtl"?-1:1},fte=function(t,e,r,n,i){var s=dte(t,window.getComputedStyle(e).direction),o=s*n,c=r.target,u=e.contains(c),h=!1,g=o>0,v=0,w=0;do{if(!c)break;var b=X9(t,c),A=b[0],C=b[1],E=b[2],P=C-E-s*A;(A||P)&&Y9(t,c)&&(v+=P,w+=A);var k=c.parentNode;c=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!u&&c!==document.body||u&&(e.contains(c)||e===c));return(g&&Math.abs(v)<1||!g&&Math.abs(w)<1)&&(h=!0),h},dv=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},s3=function(t){return[t.deltaX,t.deltaY]},a3=function(t){return t&&"current"in t?t.current:t},hte=function(t,e){return t[0]===e[0]&&t[1]===e[1]},mte=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},pte=0,nf=[];function gte(t){var e=N.useRef([]),r=N.useRef([0,0]),n=N.useRef(),i=N.useState(pte++)[0],s=N.useState(G9)[0],o=N.useRef(t);N.useEffect(function(){o.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var C=YN([t.lockRef.current],(t.shards||[]).map(a3),!0).filter(Boolean);return C.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),C.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var c=N.useCallback(function(C,E){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!o.current.allowPinchZoom;var P=dv(C),k=r.current,I="deltaX"in C?C.deltaX:k[0]-P[0],F="deltaY"in C?C.deltaY:k[1]-P[1],M,D=C.target,R=Math.abs(I)>Math.abs(F)?"h":"v";if("touches"in C&&R==="h"&&D.type==="range")return!1;var $=i3(R,D);if(!$)return!0;if($?M=R:(M=R==="v"?"h":"v",$=i3(R,D)),!$)return!1;if(!n.current&&"changedTouches"in C&&(I||F)&&(n.current=M),!M)return!0;var z=n.current||M;return fte(z,E,C,z==="h"?I:F)},[]),u=N.useCallback(function(C){var E=C;if(!(!nf.length||nf[nf.length-1]!==s)){var P="deltaY"in E?s3(E):dv(E),k=e.current.filter(function(M){return M.name===E.type&&(M.target===E.target||E.target===M.shadowParent)&&hte(M.delta,P)})[0];if(k&&k.should){E.cancelable&&E.preventDefault();return}if(!k){var I=(o.current.shards||[]).map(a3).filter(Boolean).filter(function(M){return M.contains(E.target)}),F=I.length>0?c(E,I[0]):!o.current.noIsolation;F&&E.cancelable&&E.preventDefault()}}},[]),h=N.useCallback(function(C,E,P,k){var I={name:C,delta:E,target:P,should:k,shadowParent:vte(P)};e.current.push(I),setTimeout(function(){e.current=e.current.filter(function(F){return F!==I})},1)},[]),g=N.useCallback(function(C){r.current=dv(C),n.current=void 0},[]),v=N.useCallback(function(C){h(C.type,s3(C),C.target,c(C,t.lockRef.current))},[]),w=N.useCallback(function(C){h(C.type,dv(C),C.target,c(C,t.lockRef.current))},[]);N.useEffect(function(){return nf.push(s),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:w}),document.addEventListener("wheel",u,rf),document.addEventListener("touchmove",u,rf),document.addEventListener("touchstart",g,rf),function(){nf=nf.filter(function(C){return C!==s}),document.removeEventListener("wheel",u,rf),document.removeEventListener("touchmove",u,rf),document.removeEventListener("touchstart",g,rf)}},[]);var b=t.removeScrollBar,A=t.inert;return N.createElement(N.Fragment,null,A?N.createElement(s,{styles:mte(i)}):null,b?N.createElement(ste,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function vte(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const yte=Hee(H9,gte);var Eg=N.forwardRef(function(t,e){return N.createElement(ix,Na({},t,{ref:e,sideCar:yte}))});Eg.classNames=ix.classNames;var wA=["Enter"," "],xte=["ArrowDown","PageUp","Home"],Z9=["ArrowUp","PageDown","End"],wte=[...xte,...Z9],bte={ltr:[...wA,"ArrowRight"],rtl:[...wA,"ArrowLeft"]},_te={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ag="Menu",[Ep,Ste,Cte]=L1(Ag),[wd,Q9]=ls(Ag,[Cte,Vc,tx]),sx=Vc(),J9=tx(),[Ete,bd]=wd(Ag),[Ate,jg]=wd(Ag),eF=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:s,modal:o=!0}=t,c=sx(e),[u,h]=N.useState(null),g=N.useRef(!1),v=Ss(s),w=J1(i);return N.useEffect(()=>{const b=()=>{g.current=!0,document.addEventListener("pointerdown",A,{capture:!0,once:!0}),document.addEventListener("pointermove",A,{capture:!0,once:!0})},A=()=>g.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",A,{capture:!0}),document.removeEventListener("pointermove",A,{capture:!0})}},[]),a.jsx(z1,{...c,children:a.jsx(Ete,{scope:e,open:r,onOpenChange:v,content:u,onContentChange:h,children:a.jsx(Ate,{scope:e,onClose:N.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:g,dir:w,modal:o,children:n})})})};eF.displayName=Ag;var jte="MenuAnchor",XN=N.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=sx(r);return a.jsx(wg,{...i,...n,ref:e})});XN.displayName=jte;var ZN="MenuPortal",[Nte,tF]=wd(ZN,{forceMount:void 0}),rF=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,s=bd(ZN,e);return a.jsx(Nte,{scope:e,forceMount:r,children:a.jsx(Bs,{present:r||s.open,children:a.jsx(jh,{asChild:!0,container:i,children:n})})})};rF.displayName=ZN;var Ia="MenuContent",[Ote,QN]=wd(Ia),nF=N.forwardRef((t,e)=>{const r=tF(Ia,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=bd(Ia,t.__scopeMenu),o=jg(Ia,t.__scopeMenu);return a.jsx(Ep.Provider,{scope:t.__scopeMenu,children:a.jsx(Bs,{present:n||s.open,children:a.jsx(Ep.Slot,{scope:t.__scopeMenu,children:o.modal?a.jsx(Tte,{...i,ref:e}):a.jsx(kte,{...i,ref:e})})})})}),Tte=N.forwardRef((t,e)=>{const r=bd(Ia,t.__scopeMenu),n=N.useRef(null),i=Nr(e,n);return N.useEffect(()=>{const s=n.current;if(s)return rx(s)},[]),a.jsx(JN,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ft(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),kte=N.forwardRef((t,e)=>{const r=bd(Ia,t.__scopeMenu);return a.jsx(JN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Pte=Pc("MenuContent.ScrollLock"),JN=N.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:h,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:w,onDismiss:b,disableOutsideScroll:A,...C}=t,E=bd(Ia,r),P=jg(Ia,r),k=sx(r),I=J9(r),F=Ste(r),[M,D]=N.useState(null),R=N.useRef(null),$=Nr(e,R,E.onContentChange),z=N.useRef(0),G=N.useRef(""),W=N.useRef(0),V=N.useRef(null),K=N.useRef("right"),q=N.useRef(0),Y=A?Eg:N.Fragment,J=A?{as:Pte,allowPinchZoom:!0}:void 0,ne=Q=>{const ue=G.current+Q,ae=F().filter(Se=>!Se.disabled),se=document.activeElement,me=ae.find(Se=>Se.ref.current===se)?.textValue,xe=ae.map(Se=>Se.textValue),Ue=zte(xe,ue,me),Pe=ae.find(Se=>Se.textValue===Ue)?.ref.current;(function Se(je){G.current=je,window.clearTimeout(z.current),je!==""&&(z.current=window.setTimeout(()=>Se(""),1e3))})(ue),Pe&&setTimeout(()=>Pe.focus())};N.useEffect(()=>()=>window.clearTimeout(z.current),[]),ex();const te=N.useCallback(Q=>K.current===V.current?.side&&Hte(Q,V.current?.area),[]);return a.jsx(Ote,{scope:r,searchRef:G,onItemEnter:N.useCallback(Q=>{te(Q)&&Q.preventDefault()},[te]),onItemLeave:N.useCallback(Q=>{te(Q)||(R.current?.focus(),D(null))},[te]),onTriggerLeave:N.useCallback(Q=>{te(Q)&&Q.preventDefault()},[te]),pointerGraceTimerRef:W,onPointerGraceIntentChange:N.useCallback(Q=>{V.current=Q},[]),children:a.jsx(Y,{...J,children:a.jsx(Sg,{asChild:!0,trapped:i,onMountAutoFocus:ft(s,Q=>{Q.preventDefault(),R.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(yd,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:w,onDismiss:b,children:a.jsx(y9,{asChild:!0,...I,dir:P.dir,orientation:"vertical",loop:n,currentTabStopId:M,onCurrentTabStopIdChange:D,onEntryFocus:ft(u,Q=>{P.isUsingKeyboardRef.current||Q.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(W1,{role:"menu","aria-orientation":"vertical","data-state":xF(E.open),"data-radix-menu-content":"",dir:P.dir,...k,...C,ref:$,style:{outline:"none",...C.style},onKeyDown:ft(C.onKeyDown,Q=>{const ae=Q.target.closest("[data-radix-menu-content]")===Q.currentTarget,se=Q.ctrlKey||Q.altKey||Q.metaKey,me=Q.key.length===1;ae&&(Q.key==="Tab"&&Q.preventDefault(),!se&&me&&ne(Q.key));const xe=R.current;if(Q.target!==xe||!wte.includes(Q.key))return;Q.preventDefault();const Pe=F().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);Z9.includes(Q.key)&&Pe.reverse(),Vte(Pe)}),onBlur:ft(t.onBlur,Q=>{Q.currentTarget.contains(Q.target)||(window.clearTimeout(z.current),G.current="")}),onPointerMove:ft(t.onPointerMove,Ap(Q=>{const ue=Q.target,ae=q.current!==Q.clientX;if(Q.currentTarget.contains(ue)&&ae){const se=Q.clientX>q.current?"right":"left";K.current=se,q.current=Q.clientX}}))})})})})})})});nF.displayName=Ia;var Ite="MenuGroup",eO=N.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(Mt.div,{role:"group",...n,ref:e})});eO.displayName=Ite;var Rte="MenuLabel",iF=N.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(Mt.div,{...n,ref:e})});iF.displayName=Rte;var cy="MenuItem",o3="menu.itemSelect",ax=N.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,s=N.useRef(null),o=jg(cy,t.__scopeMenu),c=QN(cy,t.__scopeMenu),u=Nr(e,s),h=N.useRef(!1),g=()=>{const v=s.current;if(!r&&v){const w=new CustomEvent(o3,{bubbles:!0,cancelable:!0});v.addEventListener(o3,b=>n?.(b),{once:!0}),xN(v,w),w.defaultPrevented?h.current=!1:o.onClose()}};return a.jsx(sF,{...i,ref:u,disabled:r,onClick:ft(t.onClick,g),onPointerDown:v=>{t.onPointerDown?.(v),h.current=!0},onPointerUp:ft(t.onPointerUp,v=>{h.current||v.currentTarget?.click()}),onKeyDown:ft(t.onKeyDown,v=>{const w=c.searchRef.current!=="";r||w&&v.key===" "||wA.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});ax.displayName=cy;var sF=N.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=t,o=QN(cy,r),c=J9(r),u=N.useRef(null),h=Nr(e,u),[g,v]=N.useState(!1),[w,b]=N.useState("");return N.useEffect(()=>{const A=u.current;A&&b((A.textContent??"").trim())},[s.children]),a.jsx(Ep.ItemSlot,{scope:r,disabled:n,textValue:i??w,children:a.jsx(x9,{asChild:!0,...c,focusable:!n,children:a.jsx(Mt.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:h,onPointerMove:ft(t.onPointerMove,Ap(A=>{n?o.onItemLeave(A):(o.onItemEnter(A),A.defaultPrevented||A.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ft(t.onPointerLeave,Ap(A=>o.onItemLeave(A))),onFocus:ft(t.onFocus,()=>v(!0)),onBlur:ft(t.onBlur,()=>v(!1))})})})}),Mte="MenuCheckboxItem",aF=N.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return a.jsx(dF,{scope:t.__scopeMenu,checked:r,children:a.jsx(ax,{role:"menuitemcheckbox","aria-checked":uy(r)?"mixed":r,...i,ref:e,"data-state":rO(r),onSelect:ft(i.onSelect,()=>n?.(uy(r)?!0:!r),{checkForDefaultPrevented:!1})})})});aF.displayName=Mte;var oF="MenuRadioGroup",[Dte,Lte]=wd(oF,{value:void 0,onValueChange:()=>{}}),lF=N.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,s=Ss(n);return a.jsx(Dte,{scope:t.__scopeMenu,value:r,onValueChange:s,children:a.jsx(eO,{...i,ref:e})})});lF.displayName=oF;var cF="MenuRadioItem",uF=N.forwardRef((t,e)=>{const{value:r,...n}=t,i=Lte(cF,t.__scopeMenu),s=r===i.value;return a.jsx(dF,{scope:t.__scopeMenu,checked:s,children:a.jsx(ax,{role:"menuitemradio","aria-checked":s,...n,ref:e,"data-state":rO(s),onSelect:ft(n.onSelect,()=>i.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});uF.displayName=cF;var tO="MenuItemIndicator",[dF,Bte]=wd(tO,{checked:!1}),fF=N.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,s=Bte(tO,r);return a.jsx(Bs,{present:n||uy(s.checked)||s.checked===!0,children:a.jsx(Mt.span,{...i,ref:e,"data-state":rO(s.checked)})})});fF.displayName=tO;var Fte="MenuSeparator",hF=N.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(Mt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});hF.displayName=Fte;var Ute="MenuArrow",mF=N.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=sx(r);return a.jsx(H1,{...i,...n,ref:e})});mF.displayName=Ute;var $te="MenuSub",[KNe,pF]=wd($te),Xm="MenuSubTrigger",gF=N.forwardRef((t,e)=>{const r=bd(Xm,t.__scopeMenu),n=jg(Xm,t.__scopeMenu),i=pF(Xm,t.__scopeMenu),s=QN(Xm,t.__scopeMenu),o=N.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=s,h={__scopeMenu:t.__scopeMenu},g=N.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return N.useEffect(()=>g,[g]),N.useEffect(()=>{const v=c.current;return()=>{window.clearTimeout(v),u(null)}},[c,u]),a.jsx(XN,{asChild:!0,...h,children:a.jsx(sF,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":xF(r.open),...t,ref:D1(e,i.onTriggerChange),onClick:v=>{t.onClick?.(v),!(t.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ft(t.onPointerMove,Ap(v=>{s.onItemEnter(v),!v.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),g()},100))})),onPointerLeave:ft(t.onPointerLeave,Ap(v=>{g();const w=r.content?.getBoundingClientRect();if(w){const b=r.content?.dataset.side,A=b==="right",C=A?-5:5,E=w[A?"left":"right"],P=w[A?"right":"left"];s.onPointerGraceIntentChange({area:[{x:v.clientX+C,y:v.clientY},{x:E,y:w.top},{x:P,y:w.top},{x:P,y:w.bottom},{x:E,y:w.bottom}],side:b}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(v),v.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:ft(t.onKeyDown,v=>{const w=s.searchRef.current!=="";t.disabled||w&&v.key===" "||bte[n.dir].includes(v.key)&&(r.onOpenChange(!0),r.content?.focus(),v.preventDefault())})})})});gF.displayName=Xm;var vF="MenuSubContent",yF=N.forwardRef((t,e)=>{const r=tF(Ia,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=bd(Ia,t.__scopeMenu),o=jg(Ia,t.__scopeMenu),c=pF(vF,t.__scopeMenu),u=N.useRef(null),h=Nr(e,u);return a.jsx(Ep.Provider,{scope:t.__scopeMenu,children:a.jsx(Bs,{present:n||s.open,children:a.jsx(Ep.Slot,{scope:t.__scopeMenu,children:a.jsx(JN,{id:c.contentId,"aria-labelledby":c.triggerId,...i,ref:h,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{o.isUsingKeyboardRef.current&&u.current?.focus(),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:ft(t.onFocusOutside,g=>{g.target!==c.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:ft(t.onEscapeKeyDown,g=>{o.onClose(),g.preventDefault()}),onKeyDown:ft(t.onKeyDown,g=>{const v=g.currentTarget.contains(g.target),w=_te[o.dir].includes(g.key);v&&w&&(s.onOpenChange(!1),c.trigger?.focus(),g.preventDefault())})})})})})});yF.displayName=vF;function xF(t){return t?"open":"closed"}function uy(t){return t==="indeterminate"}function rO(t){return uy(t)?"indeterminate":t?"checked":"unchecked"}function Vte(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function qte(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function zte(t,e,r){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=qte(t,Math.max(s,0));i.length===1&&(o=o.filter(h=>h!==r));const u=o.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return u!==r?u:void 0}function Wte(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const c=e[s],u=e[o],h=c.x,g=c.y,v=u.x,w=u.y;g>n!=w>n&&r<(v-h)*(n-g)/(w-g)+h&&(i=!i)}return i}function Hte(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return Wte(r,e)}function Ap(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Gte=eF,Kte=XN,Yte=rF,Xte=nF,Zte=eO,Qte=iF,Jte=ax,ere=aF,tre=lF,rre=uF,nre=fF,ire=hF,sre=mF,are=gF,ore=yF,ox="DropdownMenu",[lre]=ls(ox,[Q9]),Cs=Q9(),[cre,wF]=lre(ox),bF=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:o,modal:c=!0}=t,u=Cs(e),h=N.useRef(null),[g,v]=lo({prop:i,defaultProp:s??!1,onChange:o,caller:ox});return a.jsx(cre,{scope:e,triggerId:Pa(),triggerRef:h,contentId:Pa(),open:g,onOpenChange:v,onOpenToggle:N.useCallback(()=>v(w=>!w),[v]),modal:c,children:a.jsx(Gte,{...u,open:g,onOpenChange:v,dir:n,modal:c,children:r})})};bF.displayName=ox;var _F="DropdownMenuTrigger",SF=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,s=wF(_F,r),o=Cs(r);return a.jsx(Kte,{asChild:!0,...o,children:a.jsx(Mt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:D1(e,s.triggerRef),onPointerDown:ft(t.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(s.onOpenToggle(),s.open||c.preventDefault())}),onKeyDown:ft(t.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&s.onOpenToggle(),c.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});SF.displayName=_F;var ure="DropdownMenuPortal",CF=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Cs(e);return a.jsx(Yte,{...n,...r})};CF.displayName=ure;var EF="DropdownMenuContent",AF=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=wF(EF,r),s=Cs(r),o=N.useRef(!1);return a.jsx(Xte,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:e,onCloseAutoFocus:ft(t.onCloseAutoFocus,c=>{o.current||i.triggerRef.current?.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:ft(t.onInteractOutside,c=>{const u=c.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0,g=u.button===2||h;(!i.modal||g)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});AF.displayName=EF;var dre="DropdownMenuGroup",fre=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Cs(r);return a.jsx(Zte,{...i,...n,ref:e})});fre.displayName=dre;var hre="DropdownMenuLabel",jF=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Cs(r);return a.jsx(Qte,{...i,...n,ref:e})});jF.displayName=hre;var mre="DropdownMenuItem",NF=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Cs(r);return a.jsx(Jte,{...i,...n,ref:e})});NF.displayName=mre;var pre="DropdownMenuCheckboxItem",OF=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Cs(r);return a.jsx(ere,{...i,...n,ref:e})});OF.displayName=pre;var gre="DropdownMenuRadioGroup",TF=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Cs(r);return a.jsx(tre,{...i,...n,ref:e})});TF.displayName=gre;var vre="DropdownMenuRadioItem",kF=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Cs(r);return a.jsx(rre,{...i,...n,ref:e})});kF.displayName=vre;var yre="DropdownMenuItemIndicator",PF=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Cs(r);return a.jsx(nre,{...i,...n,ref:e})});PF.displayName=yre;var xre="DropdownMenuSeparator",IF=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Cs(r);return a.jsx(ire,{...i,...n,ref:e})});IF.displayName=xre;var wre="DropdownMenuArrow",bre=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Cs(r);return a.jsx(sre,{...i,...n,ref:e})});bre.displayName=wre;var _re="DropdownMenuSubTrigger",RF=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Cs(r);return a.jsx(are,{...i,...n,ref:e})});RF.displayName=_re;var Sre="DropdownMenuSubContent",MF=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Cs(r);return a.jsx(ore,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});MF.displayName=Sre;var Cre=bF,Ere=SF,Are=CF,DF=AF,LF=jF,BF=NF,FF=OF,jre=TF,UF=kF,$F=PF,VF=IF,qF=RF,zF=MF;const nO=Cre,iO=Ere,Nre=jre,Ore=N.forwardRef(({className:t,inset:e,children:r,...n},i)=>a.jsxs(qF,{ref:i,className:Re("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...n,children:[r,a.jsx(bs,{className:"ml-auto h-4 w-4"})]}));Ore.displayName=qF.displayName;const Tre=N.forwardRef(({className:t,...e},r)=>a.jsx(zF,{ref:r,className:Re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Tre.displayName=zF.displayName;const lx=N.forwardRef(({className:t,sideOffset:e=4,...r},n)=>a.jsx(Are,{children:a.jsx(DF,{ref:n,sideOffset:e,className:Re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));lx.displayName=DF.displayName;const Cc=N.forwardRef(({className:t,inset:e,...r},n)=>a.jsx(BF,{ref:n,className:Re("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...r}));Cc.displayName=BF.displayName;const kre=N.forwardRef(({className:t,children:e,checked:r,...n},i)=>a.jsxs(FF,{ref:i,className:Re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx($F,{children:a.jsx(CN,{className:"h-4 w-4"})})}),e]}));kre.displayName=FF.displayName;const zv=N.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(UF,{ref:n,className:Re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx($F,{children:a.jsx(vY,{className:"h-2 w-2 fill-current"})})}),e]}));zv.displayName=UF.displayName;const sO=N.forwardRef(({className:t,inset:e,...r},n)=>a.jsx(LF,{ref:n,className:Re("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));sO.displayName=LF.displayName;const dy=N.forwardRef(({className:t,...e},r)=>a.jsx(VF,{ref:r,className:Re("-mx-1 my-1 h-px bg-muted",t),...e}));dy.displayName=VF.displayName;const n_=768;function Pre(){const[t,e]=N.useState(void 0);return N.useEffect(()=>{const r=window.matchMedia(`(max-width: ${n_-1}px)`),n=()=>{e(window.innerWidth<n_)};return r.addEventListener("change",n),e(window.innerWidth<n_),()=>r.removeEventListener("change",n)},[]),!!t}const jt=N.forwardRef(({className:t,type:e,...r},n)=>{const i=r["data-error"]==="true"||r["aria-invalid"]===!0;return a.jsx("input",{type:e,className:Re("flex h-10 w-full rounded-md border bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm transition-colors",i?"border-destructive focus-visible:ring-destructive":"border-input focus-visible:ring-ring",t),ref:n,...r})});jt.displayName="Input";var Ire="Separator",l3="horizontal",Rre=["horizontal","vertical"],WF=N.forwardRef((t,e)=>{const{decorative:r,orientation:n=l3,...i}=t,s=Mre(n)?n:l3,c=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return a.jsx(Mt.div,{"data-orientation":s,...c,...i,ref:e})});WF.displayName=Ire;function Mre(t){return Rre.includes(t)}var HF=WF;const Ku=N.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>a.jsx(HF,{ref:i,decorative:r,orientation:e,className:Re("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));Ku.displayName=HF.displayName;var cx="Dialog",[GF,KF]=ls(cx),[Dre,po]=GF(cx),YF=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,c=N.useRef(null),u=N.useRef(null),[h,g]=lo({prop:n,defaultProp:i??!1,onChange:s,caller:cx});return a.jsx(Dre,{scope:e,triggerRef:c,contentRef:u,contentId:Pa(),titleId:Pa(),descriptionId:Pa(),open:h,onOpenChange:g,onOpenToggle:N.useCallback(()=>g(v=>!v),[g]),modal:o,children:r})};YF.displayName=cx;var XF="DialogTrigger",ZF=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=po(XF,r),s=Nr(e,i.triggerRef);return a.jsx(Mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":lO(i.open),...n,ref:s,onClick:ft(t.onClick,i.onOpenToggle)})});ZF.displayName=XF;var aO="DialogPortal",[Lre,QF]=GF(aO,{forceMount:void 0}),JF=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=po(aO,e);return a.jsx(Lre,{scope:e,forceMount:r,children:N.Children.map(n,o=>a.jsx(Bs,{present:r||s.open,children:a.jsx(jh,{asChild:!0,container:i,children:o})}))})};JF.displayName=aO;var fy="DialogOverlay",eU=N.forwardRef((t,e)=>{const r=QF(fy,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=po(fy,t.__scopeDialog);return s.modal?a.jsx(Bs,{present:n||s.open,children:a.jsx(Fre,{...i,ref:e})}):null});eU.displayName=fy;var Bre=Pc("DialogOverlay.RemoveScroll"),Fre=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=po(fy,r);return a.jsx(Eg,{as:Bre,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(Mt.div,{"data-state":lO(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),td="DialogContent",tU=N.forwardRef((t,e)=>{const r=QF(td,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=po(td,t.__scopeDialog);return a.jsx(Bs,{present:n||s.open,children:s.modal?a.jsx(Ure,{...i,ref:e}):a.jsx($re,{...i,ref:e})})});tU.displayName=td;var Ure=N.forwardRef((t,e)=>{const r=po(td,t.__scopeDialog),n=N.useRef(null),i=Nr(e,r.contentRef,n);return N.useEffect(()=>{const s=n.current;if(s)return rx(s)},[]),a.jsx(rU,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ft(t.onCloseAutoFocus,s=>{s.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:ft(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&s.preventDefault()}),onFocusOutside:ft(t.onFocusOutside,s=>s.preventDefault())})}),$re=N.forwardRef((t,e)=>{const r=po(td,t.__scopeDialog),n=N.useRef(!1),i=N.useRef(!1);return a.jsx(rU,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||r.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;r.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),rU=N.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,c=po(td,r),u=N.useRef(null),h=Nr(e,u);return ex(),a.jsxs(a.Fragment,{children:[a.jsx(Sg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(yd,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":lO(c.open),...o,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(qre,{titleId:c.titleId}),a.jsx(Wre,{contentRef:u,descriptionId:c.descriptionId})]})]})}),oO="DialogTitle",nU=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=po(oO,r);return a.jsx(Mt.h2,{id:i.titleId,...n,ref:e})});nU.displayName=oO;var iU="DialogDescription",sU=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=po(iU,r);return a.jsx(Mt.p,{id:i.descriptionId,...n,ref:e})});sU.displayName=iU;var aU="DialogClose",oU=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=po(aU,r);return a.jsx(Mt.button,{type:"button",...n,ref:e,onClick:ft(t.onClick,()=>i.onOpenChange(!1))})});oU.displayName=aU;function lO(t){return t?"open":"closed"}var lU="DialogTitleWarning",[Vre,cU]=SK(lU,{contentName:td,titleName:oO,docsSlug:"dialog"}),qre=({titleId:t})=>{const e=cU(lU),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return N.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},zre="DialogDescriptionWarning",Wre=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cU(zre).contentName}}.`;return N.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},cO=YF,uU=ZF,uO=JF,Ng=eU,Og=tU,Tg=nU,kg=sU,ux=oU;const Hre=cO,Gre=uO,dU=N.forwardRef(({className:t,...e},r)=>a.jsx(Ng,{className:Re("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));dU.displayName=Ng.displayName;const Kre=xd("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),fU=N.forwardRef(({side:t="right",className:e,children:r,...n},i)=>a.jsxs(Gre,{children:[a.jsx(dU,{}),a.jsxs(Og,{ref:i,className:Re(Kre({side:t}),e),...n,children:[r,a.jsxs(ux,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(Ju,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));fU.displayName=Og.displayName;const Yre=N.forwardRef(({className:t,...e},r)=>a.jsx(Tg,{ref:r,className:Re("text-lg font-semibold text-foreground",t),...e}));Yre.displayName=Tg.displayName;const Xre=N.forwardRef(({className:t,...e},r)=>a.jsx(kg,{ref:r,className:Re("text-sm text-muted-foreground",t),...e}));Xre.displayName=kg.displayName;function Dr({className:t,...e}){return a.jsx("div",{className:Re("animate-pulse rounded-md bg-muted",t),...e})}const Zre="sidebar:state",Qre=3600*24*7,Jre="16rem",ene="18rem",tne="3rem",rne="b",hU=N.createContext(null);function Pg(){const t=N.useContext(hU);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const mU=N.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:r,className:n,style:i,children:s,...o},c)=>{const u=Pre(),[h,g]=N.useState(!1),[v,w]=N.useState(t),b=e??v,A=N.useCallback(k=>{const I=typeof k=="function"?k(b):k;r?r(I):w(I),document.cookie=`${Zre}=${I}; path=/; max-age=${Qre}`},[r,b]),C=N.useCallback(()=>u?g(k=>!k):A(k=>!k),[u,A,g]);N.useEffect(()=>{const k=I=>{I.key===rne&&(I.metaKey||I.ctrlKey)&&(I.preventDefault(),C())};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[C]);const E=b?"expanded":"collapsed",P=N.useMemo(()=>({state:E,open:b,setOpen:A,isMobile:u,openMobile:h,setOpenMobile:g,toggleSidebar:C}),[E,b,A,u,h,g,C]);return a.jsx(hU.Provider,{value:P,children:a.jsx(M7,{delayDuration:0,children:a.jsx("div",{style:{"--sidebar-width":Jre,"--sidebar-width-icon":tne,...i},className:Re("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:c,...o,children:s})})})});mU.displayName="SidebarProvider";const pU=N.forwardRef(({side:t="left",variant:e="sidebar",collapsible:r="offcanvas",className:n,children:i,...s},o)=>{const{isMobile:c,state:u,openMobile:h,setOpenMobile:g}=Pg();return r==="none"?a.jsx("div",{className:Re("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:o,...s,children:i}):c?a.jsx(Hre,{open:h,onOpenChange:g,...s,children:a.jsx(fU,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":ene},side:t,children:a.jsx("div",{className:"flex h-full w-full flex-col",children:i})})}):a.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":u,"data-collapsible":u==="collapsed"?r:"","data-variant":e,"data-side":t,children:[a.jsx("div",{className:Re("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),a.jsx("div",{className:Re("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...s,children:a.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});pU.displayName="Sidebar";const gU=N.forwardRef(({className:t,onClick:e,...r},n)=>{const{toggleSidebar:i}=Pg();return a.jsxs(_e,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Re("h-7 w-7",t),onClick:s=>{e?.(s),i()},...r,children:[a.jsx(CY,{}),a.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});gU.displayName="SidebarTrigger";const nne=N.forwardRef(({className:t,...e},r)=>{const{toggleSidebar:n}=Pg();return a.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:Re("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});nne.displayName="SidebarRail";const ine=N.forwardRef(({className:t,...e},r)=>a.jsx("main",{ref:r,className:Re("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));ine.displayName="SidebarInset";const sne=N.forwardRef(({className:t,...e},r)=>a.jsx(jt,{ref:r,"data-sidebar":"input",className:Re("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...e}));sne.displayName="SidebarInput";const ane=N.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,"data-sidebar":"header",className:Re("flex flex-col gap-2 p-2",t),...e}));ane.displayName="SidebarHeader";const one=N.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,"data-sidebar":"footer",className:Re("flex flex-col gap-2 p-2",t),...e}));one.displayName="SidebarFooter";const lne=N.forwardRef(({className:t,...e},r)=>a.jsx(Ku,{ref:r,"data-sidebar":"separator",className:Re("mx-2 w-auto bg-sidebar-border",t),...e}));lne.displayName="SidebarSeparator";const vU=N.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,"data-sidebar":"content",className:Re("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e}));vU.displayName="SidebarContent";const Wv=N.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,"data-sidebar":"group",className:Re("relative flex w-full min-w-0 flex-col p-2",t),...e}));Wv.displayName="SidebarGroup";const Hv=N.forwardRef(({className:t,asChild:e=!1,...r},n)=>{const i=e?vd:"div";return a.jsx(i,{ref:n,"data-sidebar":"group-label",className:Re("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...r})});Hv.displayName="SidebarGroupLabel";const cne=N.forwardRef(({className:t,asChild:e=!1,...r},n)=>{const i=e?vd:"button";return a.jsx(i,{ref:n,"data-sidebar":"group-action",className:Re("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...r})});cne.displayName="SidebarGroupAction";const Gv=N.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,"data-sidebar":"group-content",className:Re("w-full text-sm",t),...e}));Gv.displayName="SidebarGroupContent";const Kv=N.forwardRef(({className:t,...e},r)=>a.jsx("ul",{ref:r,"data-sidebar":"menu",className:Re("flex w-full min-w-0 flex-col gap-1",t),...e}));Kv.displayName="SidebarMenu";const Yv=N.forwardRef(({className:t,...e},r)=>a.jsx("li",{ref:r,"data-sidebar":"menu-item",className:Re("group/menu-item relative",t),...e}));Yv.displayName="SidebarMenuItem";const une=xd("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Xv=N.forwardRef(({asChild:t=!1,isActive:e=!1,variant:r="default",size:n="default",tooltip:i,className:s,...o},c)=>{const u=t?vd:"button",{isMobile:h,state:g}=Pg(),v=a.jsx(u,{ref:c,"data-sidebar":"menu-button","data-size":n,"data-active":e,className:Re(une({variant:r,size:n}),s),...o});return i?(typeof i=="string"&&(i={children:i}),a.jsxs(LQ,{children:[a.jsx(BQ,{asChild:!0,children:v}),a.jsx(D7,{side:"right",align:"center",hidden:g!=="collapsed"||h,...i})]})):v});Xv.displayName="SidebarMenuButton";const dne=N.forwardRef(({className:t,asChild:e=!1,showOnHover:r=!1,...n},i)=>{const s=e?vd:"button";return a.jsx(s,{ref:i,"data-sidebar":"menu-action",className:Re("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...n})});dne.displayName="SidebarMenuAction";const fne=N.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:Re("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...e}));fne.displayName="SidebarMenuBadge";const hne=N.forwardRef(({className:t,showIcon:e=!1,...r},n)=>{const i=N.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return a.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:Re("flex h-8 items-center gap-2 rounded-md px-2",t),...r,children:[e&&a.jsx(Dr,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),a.jsx(Dr,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});hne.displayName="SidebarMenuSkeleton";const mne=N.forwardRef(({className:t,...e},r)=>a.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:Re("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));mne.displayName="SidebarMenuSub";const pne=N.forwardRef(({...t},e)=>a.jsx("li",{ref:e,...t}));pne.displayName="SidebarMenuSubItem";const gne=N.forwardRef(({asChild:t=!1,size:e="md",isActive:r,className:n,...i},s)=>{const o=t?vd:"a";return a.jsx(o,{ref:s,"data-sidebar":"menu-sub-button","data-size":e,"data-active":r,className:Re("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...i})});gne.displayName="SidebarMenuSubButton";const vne=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class dO extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class yne extends dO{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class c3 extends dO{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class u3 extends dO{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var bA;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(bA||(bA={}));class xne{constructor(e,{headers:r={},customFetch:n,region:i=bA.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=vne(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Rt(this,arguments,void 0,function*(r,n={}){var i;let s,o;try{const{headers:c,method:u,body:h,signal:g,timeout:v}=n;let w={},{region:b}=n;b||(b=this.region);const A=new URL(`${this.url}/${r}`);b&&b!=="any"&&(w["x-region"]=b,A.searchParams.set("forceFunctionRegion",b));let C;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",C=h):typeof h=="string"?(w["Content-Type"]="text/plain",C=h):typeof FormData<"u"&&h instanceof FormData?C=h:(w["Content-Type"]="application/json",C=JSON.stringify(h)):C=h;let E=g;v&&(o=new AbortController,s=setTimeout(()=>o.abort(),v),g?(E=o.signal,g.addEventListener("abort",()=>o.abort())):E=o.signal);const P=yield this.fetch(A.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),c),body:C,signal:E}).catch(M=>{throw new yne(M)}),k=P.headers.get("x-relay-error");if(k&&k==="true")throw new c3(P);if(!P.ok)throw new u3(P);let I=((i=P.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),F;return I==="application/json"?F=yield P.json():I==="application/octet-stream"||I==="application/pdf"?F=yield P.blob():I==="text/event-stream"?F=P:I==="multipart/form-data"?F=yield P.formData():F=yield P.text(),{data:F,error:null,response:P}}catch(c){return{data:null,error:c,response:c instanceof u3||c instanceof c3?c.context:void 0}}finally{s&&clearTimeout(s)}})}}var ns={};const Ih=sK(Lee);var fv={},hv={},mv={},pv={},gv={},vv={},d3;function yU(){if(d3)return vv;d3=1,Object.defineProperty(vv,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return vv.default=t,vv}var f3;function xU(){if(f3)return gv;f3=1,Object.defineProperty(gv,"__esModule",{value:!0});const e=Ih.__importDefault(yU());class r{constructor(i){var s,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var h,g,v,w;let b=null,A=null,C=null,E=u.status,P=u.statusText;if(u.ok){if(this.method!=="HEAD"){const M=await u.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?A=M:A=JSON.parse(M))}const I=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),F=(v=u.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");I&&F&&F.length>1&&(C=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(A)&&(A.length>1?(b={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,C=null,E=406,P="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{const I=await u.text();try{b=JSON.parse(I),Array.isArray(b)&&u.status===404&&(A=[],b=null,E=200,P="OK")}catch{u.status===404&&I===""?(E=204,P="No Content"):b={message:I}}if(b&&this.isMaybeSingle&&(!((w=b?.details)===null||w===void 0)&&w.includes("0 rows"))&&(b=null,E=200,P="OK"),b&&this.shouldThrowOnError)throw new e.default(b)}return{error:b,data:A,count:C,status:E,statusText:P}});return this.shouldThrowOnError||(c=c.catch(u=>{var h,g,v;return{error:{message:`${(h=u?.name)!==null&&h!==void 0?h:"FetchError"}: ${u?.message}`,details:`${(g=u?.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(v=u?.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,s)}returns(){return this}overrideTypes(){return this}}return gv.default=r,gv}var h3;function wU(){if(h3)return pv;h3=1,Object.defineProperty(pv,"__esModule",{value:!0});const e=Ih.__importDefault(xU());class r extends e.default{select(i){let s=!1;const o=(i??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:c,referencedTable:u=c}={}){const h=u?`${u}.order`:"order",g=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${g?`${g},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:c=o}={}){const u=typeof c>"u"?"offset":`${c}.offset`,h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(h,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:c=!1,wal:u=!1,format:h="text"}={}){var g;const v=[i?"analyze":null,s?"verbose":null,o?"settings":null,c?"buffers":null,u?"wal":null].filter(Boolean).join("|"),w=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${w}"; options=${v};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return pv.default=r,pv}var m3;function fO(){if(m3)return mv;m3=1,Object.defineProperty(mv,"__esModule",{value:!0});const e=Ih.__importDefault(wU()),r=new RegExp("[,()]");class n extends e.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}in(s,o){const c=Array.from(new Set(o)).map(u=>typeof u=="string"&&r.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(s,`in.(${c})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:c,type:u}={}){let h="";u==="plain"?h="pl":u==="phrase"?h="ph":u==="websearch"&&(h="w");const g=c===void 0?"":`(${c})`;return this.url.searchParams.append(s,`${h}fts${g}.${o}`),this}match(s){return Object.entries(s).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(s,o,c){return this.url.searchParams.append(s,`not.${o}.${c}`),this}or(s,{foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.or`:"or";return this.url.searchParams.append(u,`(${s})`),this}filter(s,o,c){return this.url.searchParams.append(s,`${o}.${c}`),this}}return mv.default=n,mv}var p3;function bU(){if(p3)return hv;p3=1,Object.defineProperty(hv,"__esModule",{value:!0});const e=Ih.__importDefault(fO());class r{constructor(i,{headers:s={},schema:o,fetch:c}){this.url=i,this.headers=new Headers(s),this.schema=o,this.fetch=c}select(i,s){const{head:o=!1,count:c}=s??{},u=o?"HEAD":"GET";let h=!1;const g=(i??"*").split("").map(v=>/\s/.test(v)&&!h?"":(v==='"'&&(h=!h),v)).join("");return this.url.searchParams.set("select",g),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:o=!0}={}){var c;const u="POST";if(s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(h.length>0){const g=[...new Set(h)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:c,defaultToNull:u=!0}={}){var h;const g="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const v=i.reduce((w,b)=>w.concat(Object.keys(b)),[]);if(v.length>0){const w=[...new Set(v)].map(b=>`"${b}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:s}={}){var o;const c="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var s;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return hv.default=r,hv}var g3;function wne(){if(g3)return fv;g3=1,Object.defineProperty(fv,"__esModule",{value:!0});const t=Ih,e=t.__importDefault(bU()),r=t.__importDefault(fO());class n{constructor(s,{headers:o={},schema:c,fetch:u}={}){this.url=s,this.headers=new Headers(o),this.schemaName=c,this.fetch=u}from(s){const o=new URL(`${this.url}/${s}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,o={},{head:c=!1,get:u=!1,count:h}={}){var g;let v;const w=new URL(`${this.url}/rpc/${s}`);let b;c||u?(v=c?"HEAD":"GET",Object.entries(o).filter(([C,E])=>E!==void 0).map(([C,E])=>[C,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([C,E])=>{w.searchParams.append(C,E)})):(v="POST",b=o);const A=new Headers(this.headers);return h&&A.set("Prefer",`count=${h}`),new r.default({method:v,url:w,headers:A,schema:this.schemaName,body:b,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return fv.default=n,fv}var v3;function bne(){if(v3)return ns;v3=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.PostgrestError=ns.PostgrestBuilder=ns.PostgrestTransformBuilder=ns.PostgrestFilterBuilder=ns.PostgrestQueryBuilder=ns.PostgrestClient=void 0;const t=Ih,e=t.__importDefault(wne());ns.PostgrestClient=e.default;const r=t.__importDefault(bU());ns.PostgrestQueryBuilder=r.default;const n=t.__importDefault(fO());ns.PostgrestFilterBuilder=n.default;const i=t.__importDefault(wU());ns.PostgrestTransformBuilder=i.default;const s=t.__importDefault(xU());ns.PostgrestBuilder=s.default;const o=t.__importDefault(yU());return ns.PostgrestError=o.default,ns.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},ns}var _U=bne();const SU=Ur(_U),_ne=vN({__proto__:null,default:SU},[_U]),{PostgrestClient:Sne,PostgrestQueryBuilder:YNe,PostgrestFilterBuilder:XNe,PostgrestTransformBuilder:ZNe,PostgrestBuilder:QNe,PostgrestError:JNe}=SU||_ne;class Cne{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Ene="2.81.1",Ane=`realtime-js/${Ene}`,CU="1.0.0",jne="2.0.0",y3=CU,_A=1e4,Nne=1e3,One=100;var Ru;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ru||(Ru={}));var bi;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(bi||(bi={}));var Aa;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Aa||(Aa={}));var SA;(function(t){t.websocket="websocket"})(SA||(SA={}));var Mu;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Mu||(Mu={}));class Tne{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,r){if(this._isArrayBuffer(e.payload))return r(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodePush(e){const{join_ref:r,ref:n,event:i,topic:s,payload:o}=e,c=this.META_LENGTH+r.length+n.length+s.length+i.length,u=new ArrayBuffer(this.HEADER_LENGTH+c);let h=new DataView(u),g=0;h.setUint8(g++,this.KINDS.push),h.setUint8(g++,r.length),h.setUint8(g++,n.length),h.setUint8(g++,s.length),h.setUint8(g++,i.length),Array.from(r,w=>h.setUint8(g++,w.charCodeAt(0))),Array.from(n,w=>h.setUint8(g++,w.charCodeAt(0))),Array.from(s,w=>h.setUint8(g++,w.charCodeAt(0))),Array.from(i,w=>h.setUint8(g++,w.charCodeAt(0)));var v=new Uint8Array(u.byteLength+o.byteLength);return v.set(new Uint8Array(u),0),v.set(new Uint8Array(o),u.byteLength),v.buffer}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const{join_ref:i,ref:s,topic:o}=e,c=e.payload.event,u=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),h=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+s.length+o.length+c.length,g=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(g),w=0;v.setUint8(w++,this.KINDS.userBroadcastPush),v.setUint8(w++,i.length),v.setUint8(w++,s.length),v.setUint8(w++,o.length),v.setUint8(w++,c.length),v.setUint8(w++,this.BINARY_ENCODING),Array.from(i,A=>v.setUint8(w++,A.charCodeAt(0))),Array.from(s,A=>v.setUint8(w++,A.charCodeAt(0))),Array.from(o,A=>v.setUint8(w++,A.charCodeAt(0))),Array.from(c,A=>v.setUint8(w++,A.charCodeAt(0)));var b=new Uint8Array(g.byteLength+u.byteLength);return b.set(new Uint8Array(g),0),b.set(new Uint8Array(u),g.byteLength),b.buffer}_encodeJsonUserBroadcastPush(e){var r,n;const{join_ref:i,ref:s,topic:o}=e,c=e.payload.event,u=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},g=new TextEncoder().encode(JSON.stringify(u)).buffer,v=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+s.length+o.length+c.length,w=new ArrayBuffer(this.HEADER_LENGTH+v);let b=new DataView(w),A=0;b.setUint8(A++,this.KINDS.userBroadcastPush),b.setUint8(A++,i.length),b.setUint8(A++,s.length),b.setUint8(A++,o.length),b.setUint8(A++,c.length),b.setUint8(A++,this.JSON_ENCODING),Array.from(i,E=>b.setUint8(A++,E.charCodeAt(0))),Array.from(s,E=>b.setUint8(A++,E.charCodeAt(0))),Array.from(o,E=>b.setUint8(A++,E.charCodeAt(0))),Array.from(c,E=>b.setUint8(A++,E.charCodeAt(0)));var C=new Uint8Array(w.byteLength+g.byteLength);return C.set(new Uint8Array(w),0),C.set(new Uint8Array(g),w.byteLength),C.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,s,o,c,u]=n;return r({join_ref:i,ref:s,topic:o,event:c,payload:u})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(e,r,i);case this.KINDS.reply:return this._decodeReply(e,r,i);case this.KINDS.broadcast:return this._decodeBroadcast(e,r,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodePush(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),o=r.getUint8(3);let c=this.HEADER_LENGTH+this.META_LENGTH-1;const u=n.decode(e.slice(c,c+i));c=c+i;const h=n.decode(e.slice(c,c+s));c=c+s;const g=n.decode(e.slice(c,c+o));c=c+o;const v=JSON.parse(n.decode(e.slice(c,e.byteLength)));return{join_ref:u,ref:null,topic:h,event:g,payload:v}}_decodeReply(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),o=r.getUint8(3),c=r.getUint8(4);let u=this.HEADER_LENGTH+this.META_LENGTH;const h=n.decode(e.slice(u,u+i));u=u+i;const g=n.decode(e.slice(u,u+s));u=u+s;const v=n.decode(e.slice(u,u+o));u=u+o;const w=n.decode(e.slice(u,u+c));u=u+c;const b=JSON.parse(n.decode(e.slice(u,e.byteLength))),A={status:w,response:b};return{join_ref:h,ref:g,topic:v,event:Aa.reply,payload:A}}_decodeBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const c=n.decode(e.slice(o,o+i));o=o+i;const u=n.decode(e.slice(o,o+s));o=o+s;const h=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{join_ref:null,ref:null,topic:c,event:u,payload:h}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),o=r.getUint8(3),c=r.getUint8(4);let u=this.HEADER_LENGTH+4;const h=n.decode(e.slice(u,u+i));u=u+i;const g=n.decode(e.slice(u,u+s));u=u+s;const v=n.decode(e.slice(u,u+o));u=u+o;const w=e.slice(u,e.byteLength),b=c===this.JSON_ENCODING?JSON.parse(n.decode(w)):w,A={type:this.BROADCAST,event:g,payload:b};return o>0&&(A.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST,payload:A}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class EU{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(pn||(pn={}));const x3=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=kne(o,t,e,i),s),{}):{}},kne=(t,e,r,n)=>{const i=e.find(c=>c.name===t),s=i?.type,o=r[t];return s&&!n.includes(s)?AU(s,o):CA(o)},AU=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Mne(e,r)}switch(t){case pn.bool:return Pne(e);case pn.float4:case pn.float8:case pn.int2:case pn.int4:case pn.int8:case pn.numeric:case pn.oid:return Ine(e);case pn.json:case pn.jsonb:return Rne(e);case pn.timestamp:return Dne(e);case pn.abstime:case pn.date:case pn.daterange:case pn.int4range:case pn.int8range:case pn.money:case pn.reltime:case pn.text:case pn.time:case pn.timestamptz:case pn.timetz:case pn.tsrange:case pn.tstzrange:return CA(e);default:return CA(e)}},CA=t=>t,Pne=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Ine=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Rne=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Mne=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const o=t.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(c=>AU(e,c))}return t},Dne=t=>typeof t=="string"?t.replace(" ","T"):t,jU=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class i_{constructor(e,r,n={},i=_A){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var w3;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(w3||(w3={}));class ip{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ip.syncState(this.state,i,s,o),this.pendingDiffs.forEach(u=>{this.state=ip.syncDiff(this.state,u,s,o)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ip.syncDiff(this.state,i,s,o),c())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),o=this.transformState(r),c={},u={};return this.map(s,(h,g)=>{o[h]||(u[h]=g)}),this.map(o,(h,g)=>{const v=s[h];if(v){const w=g.map(E=>E.presence_ref),b=v.map(E=>E.presence_ref),A=g.filter(E=>b.indexOf(E.presence_ref)<0),C=v.filter(E=>w.indexOf(E.presence_ref)<0);A.length>0&&(c[h]=A),C.length>0&&(u[h]=C)}else c[h]=g}),this.syncDiff(s,{joins:c,leaves:u},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(c,u)=>{var h;const g=(h=e[c])!==null&&h!==void 0?h:[];if(e[c]=this.cloneDeep(u),g.length>0){const v=e[c].map(b=>b.presence_ref),w=g.filter(b=>v.indexOf(b.presence_ref)<0);e[c].unshift(...w)}n(c,g,u)}),this.map(o,(c,u)=>{let h=e[c];if(!h)return;const g=u.map(v=>v.presence_ref);h=h.filter(v=>g.indexOf(v.presence_ref)<0),e[c]=h,i(c,h,u),h.length===0&&delete e[c]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var b3;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(b3||(b3={}));var sp;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(sp||(sp={}));var dl;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(dl||(dl={}));class hO{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=bi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new i_(this,Aa.join,this.params,this.timeout),this.rejoinTimer=new EU(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=bi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=bi.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=bi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=bi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=bi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Aa.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new ip(this),this.broadcastEndpointURL=jU(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==bi.closed){const{config:{broadcast:o,presence:c,private:u}}=this.params,h=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(b=>b.filter))!==null&&i!==void 0?i:[],g=!!this.bindings[sp.PRESENCE]&&this.bindings[sp.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,v={},w={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:g}),postgres_changes:h,private:u};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(b=>e?.(dl.CHANNEL_ERROR,b)),this._onClose(()=>e?.(dl.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var A;if(this.socket.setAuth(),b===void 0){e?.(dl.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,E=(A=C?.length)!==null&&A!==void 0?A:0,P=[];for(let k=0;k<E;k++){const I=C[k],{filter:{event:F,schema:M,table:D,filter:R}}=I,$=b&&b[k];if($&&$.event===F&&$.schema===M&&$.table===D&&$.filter===R)P.push(Object.assign(Object.assign({},I),{id:$.id}));else{this.unsubscribe(),this.state=bi.errored,e?.(dl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,e&&e(dl.SUBSCRIBED);return}}).receive("error",b=>{this.state=bi.errored,e?.(dl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.(dl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===bi.joined&&e===sp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{const h=await c.json();u=h.error||h.message||u}catch{}return Promise.reject(new Error(u))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,c,u;const h=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=bi.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Aa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new i_(this,Aa.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=bi.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new i_(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>One){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const o=e.toLocaleLowerCase(),{close:c,error:u,leave:h,join:g}=Aa;if(n&&[c,u,h,g].indexOf(o)>=0&&n!==this._joinRef())return;let w=this._onMessage(o,r,n);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var A,C,E;return((A=b.filter)===null||A===void 0?void 0:A.event)==="*"||((E=(C=b.filter)===null||C===void 0?void 0:C.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===o}).map(b=>b.callback(w,n)):(s=this.bindings[o])===null||s===void 0||s.filter(b=>{var A,C,E,P,k,I;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in b){const F=b.id,M=(A=b.filter)===null||A===void 0?void 0:A.event;return F&&((C=r.ids)===null||C===void 0?void 0:C.includes(F))&&(M==="*"||M?.toLocaleLowerCase()===((E=r.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const F=(k=(P=b?.filter)===null||P===void 0?void 0:P.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return F==="*"||F===((I=r?.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===o}).map(b=>{if(typeof w=="object"&&"ids"in w){const A=w.data,{schema:C,table:E,commit_timestamp:P,type:k,errors:I}=A;w=Object.assign(Object.assign({},{schema:C,table:E,commit_timestamp:P,eventType:k,new:{},old:{},errors:I}),this._getPayloadRecords(A))}b.callback(w,n)})}_isClosed(){return this.state===bi.closed}_isJoined(){return this.state===bi.joined}_isJoining(){return this.state===bi.joining}_isLeaving(){return this.state===bi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&hO.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Aa.close,{},e)}_onError(e){this._on(Aa.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=bi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=x3(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=x3(e.columns,e.old_record)),r}}const s_=()=>{},yv={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Lne=[1e3,2e3,5e3,1e4],Bne=1e4,Fne=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Une{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_A,this.transport=null,this.heartbeatIntervalMs=yv.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=s_,this.ref=0,this.reconnectTimer=null,this.vsn=y3,this.logger=s_,this.conn=null,this.sendBuffer=[],this.serializer=new Tne,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${SA.websocket}`,this.httpEndpoint=jU(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Cne.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ru.connecting:return Mu.Connecting;case Ru.open:return Mu.Open;case Ru.closing:return Mu.Closing;default:return Mu.Closed}}isConnected(){return this.connectionState()===Mu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new hO(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,o=()=>{this.encode(e,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Nne,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},yv.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:o}=r,c=o?`(${o})`:"",u=s.status||"";this.log("receive",`${u} ${n} ${i} ${c}`.trim(),s),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(i,s,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ru.open||this.conn.readyState===Ru.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Aa.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Fne],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:Ane};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Aa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new EU(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},yv.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,o,c,u,h,g,v,w,b;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:_A,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:yv.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:s_,this.vsn=(u=e?.vsn)!==null&&u!==void 0?u:y3,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(A=>Lne[A-1]||Bne),this.vsn){case CU:this.encode=(g=e?.encode)!==null&&g!==void 0?g:((A,C)=>C(JSON.stringify(A))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:((A,C)=>C(JSON.parse(A)));break;case jne:this.encode=(w=e?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(b=e?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class mO extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Mn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class $ne extends mO{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class EA extends mO{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const pO=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Vne=()=>Response,AA=t=>{if(Array.isArray(t))return t.map(r=>AA(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=AA(n)}),e},qne=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},a_=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},zne=(t,e,r)=>Rt(void 0,void 0,void 0,function*(){const n=yield Vne();t instanceof n&&!r?.noResolveJson?t.json().then(i=>{const s=t.status||500,o=i?.statusCode||s+"";e(new $ne(a_(i),s,o))}).catch(i=>{e(new EA(a_(i),i))}):e(new EA(a_(t),t))}),Wne=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!n?i:(qne(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function Ig(t,e,r,n,i,s){return Rt(this,void 0,void 0,function*(){return new Promise((o,c)=>{t(r,Wne(e,n,i,s)).then(u=>{if(!u.ok)throw u;return n?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>zne(u,c,n))})})}function jp(t,e,r,n){return Rt(this,void 0,void 0,function*(){return Ig(t,"GET",e,r,n)})}function Ja(t,e,r,n,i){return Rt(this,void 0,void 0,function*(){return Ig(t,"POST",e,n,i,r)})}function jA(t,e,r,n,i){return Rt(this,void 0,void 0,function*(){return Ig(t,"PUT",e,n,i,r)})}function Hne(t,e,r,n){return Rt(this,void 0,void 0,function*(){return Ig(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function gO(t,e,r,n,i){return Rt(this,void 0,void 0,function*(){return Ig(t,"DELETE",e,n,i,r)})}class Gne{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Rt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Mn(e))return{data:null,error:e};throw e}})}}var NU;class Kne{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[NU]="BlobDownloadBuilder",this.promise=null}asStream(){return new Gne(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Rt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Mn(e))return{data:null,error:e};throw e}})}}NU=Symbol.toStringTag;const Yne={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_3={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Xne{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=pO(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return Rt(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},_3),i);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),u&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(u))):(s=n,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,u&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(c=Object.assign(Object.assign({},c),i.headers));const h=this._removeEmptyFolders(r),g=this._getFinalPath(h),v=yield(e=="PUT"?jA:Ja)(this.fetch,`${this.url}/object/${g}`,s,Object.assign({headers:c},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:h,id:v.Id,fullPath:v.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Mn(s))return{data:null,error:s};throw s}})}upload(e,r,n){return Rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Rt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",r);try{let u;const h=Object.assign({upsert:_3.upsert},i),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",h.cacheControl)):(u=n,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType);const v=yield jA(this.fetch,c.toString(),u,{headers:g});return{data:{path:s,fullPath:v.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Mn(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,r){return Rt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const s=yield Ja(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),c=o.searchParams.get("token");if(!c)throw new mO("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:c},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mn(n))return{data:null,error:n};throw n}})}update(e,r,n){return Rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Rt(this,void 0,void 0,function*(){try{return{data:yield Ja(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mn(i))return{data:null,error:i};throw i}})}copy(e,r,n){return Rt(this,void 0,void 0,function*(){try{return{data:{path:(yield Ja(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return Rt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Ja(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Rt(this,void 0,void 0,function*(){try{const i=yield Ja(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mn(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(r?.transform||{}),o=s?`?${s}`:"",c=this._getFinalPath(e),u=()=>jp(this.fetch,`${this.url}/${i}/${c}${o}`,{headers:this.headers,noResolveJson:!0});return new Kne(u,this.shouldThrowOnError)}info(e){return Rt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield jp(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:AA(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mn(n))return{data:null,error:n};throw n}})}exists(e){return Rt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Hne(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mn(n)&&n instanceof EA){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r?.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const c=typeof r?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(r?.transform||{});u!==""&&i.push(u);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${h}`)}}}remove(e){return Rt(this,void 0,void 0,function*(){try{return{data:yield gO(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}list(e,r,n){return Rt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Yne),r),{prefix:e||""});return{data:yield Ja(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mn(i))return{data:null,error:i};throw i}})}listV2(e,r){return Rt(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Ja(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mn(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const OU="2.81.1",TU={"X-Client-Info":`storage-js/${OU}`};class Zne{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},TU),r),this.fetch=pO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Rt(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield jp(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}getBucket(e){return Rt(this,void 0,void 0,function*(){try{return{data:yield jp(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}createBucket(e){return Rt(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ja(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mn(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return Rt(this,void 0,void 0,function*(){try{return{data:yield jA(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Rt(this,void 0,void 0,function*(){try{return{data:yield Ja(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Rt(this,void 0,void 0,function*(){try{return{data:yield gO(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Qne{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},TU),r),this.fetch=pO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Rt(this,void 0,void 0,function*(){try{return{data:yield Ja(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}listBuckets(e){return Rt(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield jp(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Rt(this,void 0,void 0,function*(){try{return{data:yield gO(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}}const vO={"X-Client-Info":`storage-js/${OU}`,"Content-Type":"application/json"};class kU extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ra(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class o_ extends kU{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Jne extends kU{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var S3;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(S3||(S3={}));const yO=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),eie=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},C3=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tie=(t,e,r)=>Rt(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(o=>{const c=o?.statusCode||o?.code||i+"";e(new o_(C3(o),i,c))}).catch(()=>{const o=i+"",c=s.statusText||`HTTP ${i} error`;e(new o_(c,i,o))});else{const o=i+"",c=s.statusText||`HTTP ${i} error`;e(new o_(c,i,o))}}else e(new Jne(C3(t),t))}),rie=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return n?(eie(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function nie(t,e,r,n,i,s){return Rt(this,void 0,void 0,function*(){return new Promise((o,c)=>{t(r,rie(e,n,i,s)).then(u=>{if(!u.ok)throw u;if(n?.noResolveJson)return u;const h=u.headers.get("content-type");return!h||!h.includes("application/json")?{}:u.json()}).then(u=>o(u)).catch(u=>tie(u,c,n))})})}function na(t,e,r,n,i){return Rt(this,void 0,void 0,function*(){return nie(t,"POST",e,n,i,r)})}class iie{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vO),r),this.fetch=yO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Rt(this,void 0,void 0,function*(){try{return{data:(yield na(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ra(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Rt(this,void 0,void 0,function*(){try{return{data:yield na(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ra(n))return{data:null,error:n};throw n}})}listIndexes(e){return Rt(this,void 0,void 0,function*(){try{return{data:yield na(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ra(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Rt(this,void 0,void 0,function*(){try{return{data:(yield na(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ra(n))return{data:null,error:n};throw n}})}}class sie{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vO),r),this.fetch=yO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Rt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield na(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ra(r))return{data:null,error:r};throw r}})}getVectors(e){return Rt(this,void 0,void 0,function*(){try{return{data:yield na(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ra(r))return{data:null,error:r};throw r}})}listVectors(e){return Rt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield na(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ra(r))return{data:null,error:r};throw r}})}queryVectors(e){return Rt(this,void 0,void 0,function*(){try{return{data:yield na(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ra(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Rt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield na(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ra(r))return{data:null,error:r};throw r}})}}class aie{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vO),r),this.fetch=yO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Rt(this,void 0,void 0,function*(){try{return{data:(yield na(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ra(r))return{data:null,error:r};throw r}})}getBucket(e){return Rt(this,void 0,void 0,function*(){try{return{data:yield na(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ra(r))return{data:null,error:r};throw r}})}listBuckets(){return Rt(this,arguments,void 0,function*(e={}){try{return{data:yield na(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ra(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Rt(this,void 0,void 0,function*(){try{return{data:(yield na(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ra(r))return{data:null,error:r};throw r}})}}class oie extends aie{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new lie(this.url,this.headers,e,this.fetch)}}class lie extends iie{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Rt(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Rt(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Rt(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Rt(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new cie(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class cie extends sie{constructor(e,r,n,i,s){super(e,r,s),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Rt(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Rt(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Rt(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Rt(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Rt(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class uie extends Zne{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new Xne(this.url,this.headers,e,this.fetch)}get vectors(){return new oie(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Qne(this.url+"/iceberg",this.headers,this.fetch)}}const die="2.81.1";let Zm="";typeof Deno<"u"?Zm="deno":typeof document<"u"?Zm="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zm="react-native":Zm="node";const fie={"X-Client-Info":`supabase-js-${Zm}/${die}`},hie={headers:fie},mie={schema:"public"},pie={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gie={},vie=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),yie=()=>Headers,xie=(t,e,r)=>{const n=vie(r),i=yie();return async(s,o)=>{var c;const u=(c=await e())!==null&&c!==void 0?c:t;let h=new i(o?.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${u}`),n(s,Object.assign(Object.assign({},o),{headers:h}))}};function wie(t){return t.endsWith("/")?t:t+"/"}function bie(t,e){var r,n;const{db:i,auth:s,realtime:o,global:c}=t,{db:u,auth:h,realtime:g,global:v}=e,w={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},h),s),realtime:Object.assign(Object.assign({},g),o),storage:{},global:Object.assign(Object.assign(Object.assign({},v),c),{headers:Object.assign(Object.assign({},(r=v?.headers)!==null&&r!==void 0?r:{}),(n=c?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function _ie(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(wie(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const PU="2.81.1",xf=30*1e3,NA=3,l_=NA*xf,Sie="http://localhost:9999",Cie="supabase.auth.token",Eie={"X-Client-Info":`gotrue-js/${PU}`},OA="X-Supabase-Api-Version",IU={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Aie=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jie=600*1e3;class Np extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function $t(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Nie extends Np{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Oie(t){return $t(t)&&t.name==="AuthApiError"}class Du extends Np{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Wc extends Np{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Ya extends Wc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Tie(t){return $t(t)&&t.name==="AuthSessionMissingError"}class sf extends Wc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xv extends Wc{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class wv extends Wc{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function kie(t){return $t(t)&&t.name==="AuthImplicitGrantRedirectError"}class E3 extends Wc{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class TA extends Wc{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function c_(t){return $t(t)&&t.name==="AuthRetryableFetchError"}class A3 extends Wc{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class kA extends Wc{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const hy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),j3=` 	
\r=`.split(""),Pie=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<j3.length;e+=1)t[j3[e].charCodeAt(0)]=-2;for(let e=0;e<hy.length;e+=1)t[hy[e].charCodeAt(0)]=e;return t})();function N3(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(hy[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(hy[n]),e.queuedBits-=6}}function RU(t,e,r){const n=Pie[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function O3(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{Mie(o,n,r)};for(let o=0;o<t.length;o+=1)RU(t.charCodeAt(o),i,s);return e.join("")}function Iie(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Rie(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Iie(n,e)}}function Mie(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function If(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)RU(t.charCodeAt(i),r,n);return new Uint8Array(e)}function Die(t){const e=[];return Rie(t,r=>e.push(r)),new Uint8Array(e)}function Fu(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>N3(i,r,n)),N3(null,r,n),e.join("")}function Lie(t){return Math.round(Date.now()/1e3)+t}function Bie(){return Symbol("auth-callback")}const Ui=()=>typeof window<"u"&&typeof document<"u",Su={tested:!1,writable:!1},MU=()=>{if(!Ui())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Su.tested)return Su.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Su.tested=!0,Su.writable=!0}catch{Su.tested=!0,Su.writable=!1}return Su.writable};function Fie(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const DU=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Uie=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",wf=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Cu=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},fc=async(t,e)=>{await t.removeItem(e)};class dx{constructor(){this.promise=new dx.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}dx.promiseConstructor=Promise;function u_(t){const e=t.split(".");if(e.length!==3)throw new kA("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Aie.test(e[n]))throw new kA("JWT not in base64url format");return{header:JSON.parse(O3(e[0])),payload:JSON.parse(O3(e[1])),signature:If(e[2]),raw:{header:e[0],payload:e[1]}}}async function $ie(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Vie(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function qie(t){return("0"+t.toString(16)).substr(-2)}function zie(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,qie).join("")}async function Wie(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Hie(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Wie(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function af(t,e,r=!1){const n=zie();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await wf(t,`${e}-code-verifier`,i);const s=await Hie(n);return[s,n===s?"plain":"s256"]}const Gie=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Kie(t){const e=t.headers.get(OA);if(!e||!e.match(Gie))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Yie(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Xie(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Zie=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function of(t){if(!Zie.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function d_(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Qie(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function T3(t){return JSON.parse(JSON.stringify(t))}const Nu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Jie=[502,503,504];async function k3(t){var e;if(!Uie(t))throw new TA(Nu(t),0);if(Jie.includes(t.status))throw new TA(Nu(t),t.status);let r;try{r=await t.json()}catch(s){throw new Du(Nu(s),s)}let n;const i=Kie(t);if(i&&i.getTime()>=IU["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new A3(Nu(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ya}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new A3(Nu(r),t.status,r.weak_password.reasons);throw new Nie(Nu(r),t.status||500,n)}const ese=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Jt(t,e,r,n){var i;const s=Object.assign({},n?.headers);s[OA]||(s[OA]=IU["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await tse(t,e,r+c,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(u):{data:Object.assign({},u),error:null}}async function tse(t,e,r,n,i,s){const o=ese(e,n,i,s);let c;try{c=await t(r,Object.assign({},o))}catch(u){throw console.error(u),new TA(Nu(u),0)}if(c.ok||await k3(c),n?.noResolveJson)return c;try{return await c.json()}catch(u){await k3(u)}}function Xa(t){var e;let r=null;ise(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Lie(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function P3(t){const e=Xa(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function xc(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function rse(t){return{data:t,error:null}}function nse(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,o=zc(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},u=Object.assign({},o);return{data:{properties:c,user:u},error:null}}function I3(t){return t}function ise(t){return t.access_token&&t.refresh_token&&t.expires_in}const f_=["global","local","others"];class sse{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=DU(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=f_[0]){if(f_.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${f_.join(", ")}`);try{return await Jt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Jt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:xc})}catch(n){if($t(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=zc(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Jt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:nse,redirectTo:r?.redirectTo})}catch(r){if($t(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Jt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:xc})}catch(r){if($t(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,o,c,u;try{const h={nextPage:null,lastPage:0,total:0},g=await Jt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:I3});if(g.error)throw g.error;const v=await g.json(),w=(o=g.headers.get("x-total-count"))!==null&&o!==void 0?o:0,b=(u=(c=g.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return b.length>0&&(b.forEach(A=>{const C=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(A.split(";")[1].split("=")[1]);h[`${E}Page`]=C}),h.total=parseInt(w)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if($t(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){of(e);try{return await Jt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:xc})}catch(r){if($t(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){of(e);try{return await Jt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:xc})}catch(n){if($t(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){of(e);try{return await Jt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:xc})}catch(n){if($t(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){of(e.userId);try{const{data:r,error:n}=await Jt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if($t(r))return{data:null,error:r};throw r}}async _deleteFactor(e){of(e.userId),of(e.id);try{return{data:await Jt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if($t(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,o,c,u;try{const h={nextPage:null,lastPage:0,total:0},g=await Jt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:I3});if(g.error)throw g.error;const v=await g.json(),w=(o=g.headers.get("x-total-count"))!==null&&o!==void 0?o:0,b=(u=(c=g.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return b.length>0&&(b.forEach(A=>{const C=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(A.split(";")[1].split("=")[1]);h[`${E}Page`]=C}),h.total=parseInt(w)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if($t(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await Jt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($t(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Jt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($t(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Jt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if($t(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Jt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if($t(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Jt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($t(r))return{data:null,error:r};throw r}}}function R3(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const lf={debug:!!(globalThis&&MU()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LU extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ase extends LU{}async function ose(t,e,r){lf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),lf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){lf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{lf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw lf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ase(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(lf.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function lse(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function BU(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function cse(t){return parseInt(t,16)}function use(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function dse(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:c,requestId:u,resources:h,scheme:g,uri:v,version:w}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=BU(t.address),A=g?`${g}://${n}`:n,C=t.statement?`${t.statement}
`:"",E=`${A} wants you to sign in with your Ethereum account:
${b}

${C}`;let P=`URI: ${v}
Version: ${w}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(P+=`
Expiration Time: ${i.toISOString()}`),c&&(P+=`
Not Before: ${c.toISOString()}`),u&&(P+=`
Request ID: ${u}`),h){let k=`
Resources:`;for(const I of h){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);k+=`
- ${I}`}P+=k}return`${E}
${P}`}class li extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class my extends li{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function fse({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new li({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new li({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new li({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new li({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new li({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new li({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new li({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new li({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(FU(o)){if(s.rp.id!==o)return new li({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new li({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new li({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new li({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new li({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function hse({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new li({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new li({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(FU(n)){if(r.rpId!==n)return new li({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new li({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new li({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new li({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class mse{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const pse=new mse;function gse(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=zc(t,["challenge","user","excludeCredentials"]),s=If(e).buffer,o=Object.assign(Object.assign({},r),{id:If(r.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:s,user:o});if(n&&n.length>0){c.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const h=n[u];c.excludeCredentials[u]=Object.assign(Object.assign({},h),{id:If(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function vse(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=zc(t,["challenge","allowCredentials"]),i=If(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const c=r[o];s.allowCredentials[o]=Object.assign(Object.assign({},c),{id:If(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function yse(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Fu(new Uint8Array(t.response.attestationObject)),clientDataJSON:Fu(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function xse(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Fu(new Uint8Array(i.authenticatorData)),clientDataJSON:Fu(new Uint8Array(i.clientDataJSON)),signature:Fu(new Uint8Array(i.signature)),userHandle:i.userHandle?Fu(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function FU(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function M3(){var t,e;return!!(Ui()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function wse(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new my("Browser returned unexpected credential type",e)}:{data:null,error:new my("Empty credential response",e)}}catch(e){return{data:null,error:fse({error:e,options:t})}}}async function bse(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new my("Browser returned unexpected credential type",e)}:{data:null,error:new my("Empty credential response",e)}}catch(e){return{data:null,error:hse({error:e,options:t})}}}const _se={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Sse={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function py(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))n[s]=o;else if(r(o))n[s]=o;else if(e(o)){const c=n[s];e(c)?n[s]=py(c,o):n[s]=py(o)}else n[s]=o}return n}function Cse(t,e){return py(_se,t,e||{})}function Ese(t,e){return py(Sse,t,e||{})}class Ase{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){try{const{data:o,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:c};const u=i??pse.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:h}=o.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(o.webauthn.type){case"create":{const h=Cse(o.webauthn.credential_options.publicKey,s?.create),{data:g,error:v}=await wse({publicKey:h,signal:u});return g?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}case"request":{const h=Ese(o.webauthn.credential_options.publicKey,s?.request),{data:g,error:v}=await bse(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:h,signal:u}));return g?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}}}catch(o){return $t(o)?{data:null,error:o}:{data:null,error:new Du("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Np("rpId is required for WebAuthn authentication")};try{if(!M3())return{data:null,error:new Du("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!o)return{data:null,error:c};const{webauthn:u}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:u.type,rpId:r,rpOrigins:n,credential_response:u.credential_response}})}catch(o){return $t(o)?{data:null,error:o}:{data:null,error:new Du("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Np("rpId is required for WebAuthn registration")};try{if(!M3())return{data:null,error:new Du("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(g=>{var v;return(v=g.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:c};const{data:u,error:h}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:r,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:h}}catch(o){return $t(o)?{data:null,error:o}:{data:null,error:new Du("Unexpected error in register",o)}}}}lse();const jse={url:Sie,storageKey:Cie,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Eie,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function D3(t,e,r){return await r()}const cf={};class Op{get jwks(){var e,r;return(r=(e=cf[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){cf[this.storageKey]=Object.assign(Object.assign({},cf[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=cf[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){cf[this.storageKey]=Object.assign(Object.assign({},cf[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},jse),e);if(this.storageKey=s.storageKey,this.instanceID=(r=Op.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Op.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Ui()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new sse({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=DU(s.fetch),this.lock=s.lock||D3,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:Ui()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=ose:this.lock=D3,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ase(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:MU()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=R3(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=R3(this.memoryStorage)),Ui()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${PU}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Ui()&&(r=Fie(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ui()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),kie(s)){const u=(e=s.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $t(r)?this._returnResult({error:r}):this._returnResult({error:new Du("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await Jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Xa}),{data:o,error:c}=s;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const u=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:h,session:u},error:null})}catch(s){if($t(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:g,password:v,options:w}=e;let b=null,A=null;this.flowType==="pkce"&&([b,A]=await af(this.storage,this.storageKey)),s=await Jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:g,password:v,data:(r=w?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:b,code_challenge_method:A},xform:Xa})}else if("phone"in e){const{phone:g,password:v,options:w}=e;s=await Jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(n=w?.data)!==null&&n!==void 0?n:{},channel:(i=w?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Xa})}else throw new xv("You must provide either an email or phone number and a password");const{data:o,error:c}=s;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const u=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:h,session:u},error:null})}catch(s){if($t(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:o,options:c}=e;r=await Jt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:P3})}else if("phone"in e){const{phone:s,password:o,options:c}=e;r=await Jt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:P3})}else throw new xv("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new sf;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if($t(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,o,c,u,h,g,v,w;let b,A;if("message"in e)b=e.message,A=e.signature;else{const{chain:C,wallet:E,statement:P,options:k}=e;let I;if(Ui())if(typeof E=="object")I=E;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")I=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=E}const F=new URL((r=k?.url)!==null&&r!==void 0?r:window.location.href),M=await I.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=BU(M[0]);let R=(n=k?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!R){const z=await I.request({method:"eth_chainId"});R=cse(z)}const $={domain:F.host,address:D,statement:P,uri:F.href,version:"1",chainId:R,nonce:(i=k?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=k?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(c=k?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=k?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(h=k?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(g=k?.signInWithEthereum)===null||g===void 0?void 0:g.resources};b=dse($),A=await I.request({method:"personal_sign",params:[use(b),D]})}try{const{data:C,error:E}=await Jt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:A},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Xa});if(E)throw E;if(!C||!C.session||!C.user){const P=new sf;return this._returnResult({data:{user:null,session:null},error:P})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:E})}catch(C){if($t(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async signInWithSolana(e){var r,n,i,s,o,c,u,h,g,v,w,b;let A,C;if("message"in e)A=e.message,C=e.signature;else{const{chain:E,wallet:P,statement:k,options:I}=e;let F;if(Ui())if(typeof P=="object")F=P;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))F=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=P}const M=new URL((r=I?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in F&&F.signIn){const D=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I?.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),k?{statement:k}:null));let R;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")R=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)R=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)A=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),C=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${M.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(i=(n=I?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=I?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((o=I?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((c=I?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((u=I?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((h=I?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((v=(g=I?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...I.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const D=await F.signMessage(new TextEncoder().encode(A),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=D}}try{const{data:E,error:P}=await Jt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:Fu(C)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Xa});if(P)throw P;if(!E||!E.session||!E.user){const k=new sf;return this._returnResult({data:{user:null,session:null},error:k})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:P})}catch(E){if($t(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(e){const r=await Cu(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:o}=await Jt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Xa});if(await fc(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!s||!s.session||!s.user){const c=new sf;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if($t(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=e,c=await Jt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Xa}),{data:u,error:h}=c;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!u||!u.session||!u.user){const g=new sf;return this._returnResult({data:{user:null,session:null},error:g})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:h})}catch(r){if($t(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,s,o;try{if("email"in e){const{email:c,options:u}=e;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await af(this.storage,this.storageKey));const{error:v}=await Jt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(n=u?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:h,code_challenge_method:g},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:c,options:u}=e,{data:h,error:g}=await Jt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:g})}throw new xv("You must provide either an email or phone number.")}catch(c){if($t(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:c}=await Jt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Xa});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,h=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:h,session:u},error:null})}catch(i){if($t(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,s,o;try{let c=null,u=null;this.flowType==="pkce"&&([c,u]=await af(this.storage,this.storageKey));const h=await Jt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:rse});return!((s=h.data)===null||s===void 0)&&s.url&&Ui()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(c){if($t(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ya;const{error:i}=await Jt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if($t(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:o}=await Jt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:o,error:c}=await Jt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:c})}throw new xv("You must provide either an email or phone number and a type")}catch(r){if($t(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Cu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<l_:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Cu(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=d_()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=Qie(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Jt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:xc}):await this._useSession(async r=>{var n,i,s;const{data:o,error:c}=r;if(c)throw c;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ya}:await Jt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:xc})})}catch(r){if($t(r))return Tie(r)&&(await this._removeSession(),await fc(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Ya;const o=i.session;let c=null,u=null;this.flowType==="pkce"&&e.email!=null&&([c,u]=await af(this.storage,this.storageKey));const{data:h,error:g}=await Jt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:u}),jwt:o.access_token,xform:xc});if(g)throw g;return o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if($t(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ya;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:o}=u_(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:c,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c)return{data:{user:null,session:null},error:null};s=c}else{const{data:c,error:u}=await this._getUser(e.access_token);if(u)throw u;s={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if($t(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:c}=r;if(c)throw c;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new Ya;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if($t(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Ui())throw new wv("No browser detected.");if(e.error||e.error_description||e.error_code)throw new wv(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new E3("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wv("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new E3("No code detected.");const{data:k,error:I}=await this._exchangeCodeForSession(e.code);if(I)throw I;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:c,expires_at:u,token_type:h}=e;if(!s||!c||!o||!h)throw new wv("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(c);let w=g+v;u&&(w=parseInt(u));const b=w-g;b*1e3<=xf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${v}s`);const A=w-v;g-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,w,g):g-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,w,g);const{data:C,error:E}=await this._getUser(s);if(E)throw E;const P={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:v,expires_at:w,refresh_token:o,token_type:h,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:P,redirectType:e.type},error:null})}catch(n){if($t(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Cu(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:c}=await this.admin.signOut(o,e);if(c&&!(Oie(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await fc(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Bie(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await af(this.storage,this.storageKey,!0));try{return await Jt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if($t(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if($t(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,c,u,h,g;const{data:v,error:w}=s;if(w)throw w;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Jt(this.fetch,"GET",b,{headers:this.headers,jwt:(g=(h=v.session)===null||h===void 0?void 0:h.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return Ui()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if($t(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:o,provider:c,token:u,access_token:h,nonce:g}=e,v=await Jt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:c,id_token:u,access_token:h,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Xa}),{data:w,error:b}=v;return b?this._returnResult({data:{user:null,session:null},error:b}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new sf}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:b}))}catch(i){if($t(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await Jt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if($t(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Vie(async i=>(i>0&&await $ie(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Jt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Xa})),(i,s)=>{const o=200*Math.pow(2,i);return s&&c_(s)&&Date.now()+o-n<xf})}catch(n){if(this._debug(r,"error",n),$t(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ui()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Cu(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Cu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await wf(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:d_()}else if(i&&!i.user&&!i.user){const o=await Cu(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await fc(this.storage,this.storageKey+"-user"),await wf(this.storage,this.storageKey,i)):i.user=d_()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<l_;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${l_}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),c_(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(i.access_token);!c&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ya;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new dx;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new Ya;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),$t(s)){const o={data:null,error:s};return c_(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,r)}catch(u){s.push(u)}});if(await Promise.all(o),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await wf(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=T3(i);await wf(this.storage,this.storageKey,s)}else{const i=T3(r);await wf(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await fc(this.storage,this.storageKey),await fc(this.storage,this.storageKey+"-code-verifier"),await fc(this.storage,this.storageKey+"-user"),this.userStorage&&await fc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ui()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),xf);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/xf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${xf}ms, refresh threshold is ${NA} ticks`),i<=NA&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof LU)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ui()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await af(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(c.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await Jt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($t(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:h}=await Jt(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if($t(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?yse(e.webauthn.credential_response):xse(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:u}=await Jt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:u}))})}catch(r){if($t(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=await Jt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:c}=o;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:gse(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:vse(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if($t(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=u_(n.access_token);let o=null;s.aal&&(o=s.aal);let c=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const h=s.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Jt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ya})})}catch(r){if($t(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Ya});const o=await Jt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&Ui()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if($t(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Ya});const o=await Jt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&Ui()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if($t(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(c=>c.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(c=>c.kid===e),n&&this.jwks_cached_at+jie>i)return n;const{data:s,error:o}=await Jt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(c=>c.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:b,error:A}=await this.getSession();if(A||!b.session)return this._returnResult({data:null,error:A});n=b.session.access_token}const{header:i,payload:s,signature:o,raw:{header:c,payload:u}}=u_(n);r?.allowExpired||Yie(s.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!h){const{error:b}=await this.getUser(n);if(b)throw b;return{data:{claims:s,header:i,signature:o},error:null}}const g=Xie(i.alg),v=await crypto.subtle.importKey("jwk",h,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,o,Die(`${c}.${u}`)))throw new kA("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if($t(n))return this._returnResult({data:null,error:n});throw n}}}Op.nextInstanceID={};const Nse=Op;class Ose extends Nse{constructor(e){super(e)}}class Tse{constructor(e,r,n){var i,s,o;this.supabaseUrl=e,this.supabaseKey=r;const c=_ie(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:mie,realtime:gie,auth:Object.assign(Object.assign({},pie),{storageKey:u}),global:hie},g=bie(n??{},h);this.storageKey=(i=g.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=g.global.headers)!==null&&s!==void 0?s:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=g.auth)!==null&&o!==void 0?o:{},this.headers,g.global.fetch),this.fetch=xie(r,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new Sne(new URL("rest/v1",c).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new uie(this.storageUrl.href,this.headers,this.fetch,n?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new xne(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:o,flowType:c,lock:u,debug:h,throwOnError:g},v,w){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ose({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),v),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:c,lock:u,debug:h,throwOnError:g,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Une(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const kse=(t,e,r)=>new Tse(t,e,r);function Pse(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Pse()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ise="https://yggvabrltcxvkiyjixdv.supabase.co",Rse="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlnZ3ZhYnJsdGN4dmtpeWppeGR2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMwMTI5MzcsImV4cCI6MjA3ODU4ODkzN30.fU1VYjYGRxDwADO6RoYvb1CxIfJUnkEL386aEAPgRqQ",Mse=Ise.replace(/\/$/,""),ye=kse(Mse,Rse,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),xO=()=>typeof window<"u"&&window.location.hostname==="pinnacleadvisors.github.io"?"/mars-space-gym-buddy":(typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.includes("localhost")),""),Vf=t=>{if(typeof window>"u")return t;const e=xO(),r=t.startsWith("/")?t:`/${t}`;return`${window.location.origin}${e}${r}`},Vo=()=>{const[t,e]=N.useState(null),[r,n]=N.useState(!0),i=N.useCallback(async g=>{if(!g)return null;try{const{data:v,error:w}=await ye.from("profiles").select("*").eq("id",g.id).single();w&&w.code!=="PGRST116"&&console.error("Error fetching profile:",w);const{data:b,error:A}=await ye.from("user_roles").select("role").eq("user_id",g.id).limit(1);A&&console.error("Error fetching roles:",A);const C=b&&b.length>0?b[0].role:"member",{data:E,error:P}=await ye.from("user_memberships").select("status, start_date, end_date").eq("user_id",g.id).eq("status","active").eq("payment_status","paid").gt("end_date",new Date().toISOString()).order("created_at",{ascending:!1}).limit(1).maybeSingle();return P&&console.error("Error fetching membership:",P),{id:g.id,email:g.email||"",full_name:v?.full_name||g.user_metadata?.full_name||"",phone:v?.phone||void 0,role:C,membership_status:E?"active":"inactive",membership_start_date:E?.start_date||void 0,membership_end_date:E?.end_date||void 0,created_at:v?.created_at||g.created_at||new Date().toISOString(),updated_at:v?.updated_at||new Date().toISOString(),email_verified:g.email_confirmed_at!==null&&g.email_confirmed_at!==void 0}}catch(v){return console.error("Error in fetchUserData:",v),null}},[]);return N.useEffect(()=>{let g=!0;(async()=>{try{const{data:{user:b},error:A}=await ye.auth.getUser();if(A){A.name!=="AuthSessionMissingError"&&console.error("Error getting user:",A),g&&(e(null),n(!1));return}if(b&&g){const C=await i(b);if(C)e(C);else{const E={id:b.id,email:b.email||"",full_name:b.user_metadata?.full_name||"",phone:void 0,role:"member",membership_status:"inactive",membership_start_date:void 0,membership_end_date:void 0,created_at:b.created_at||new Date().toISOString(),updated_at:new Date().toISOString(),email_verified:b.email_confirmed_at!==null&&b.email_confirmed_at!==void 0};e(E)}}else g&&e(null)}catch(b){console.error("Error initializing auth:",b),g&&e(null)}finally{g&&n(!1)}})();const{data:{subscription:w}}=ye.auth.onAuthStateChange(async(b,A)=>{if(g){if(b==="SIGNED_OUT"||!A?.user){e(null),n(!1);return}if(b==="SIGNED_IN"||b==="TOKEN_REFRESHED"||b==="USER_UPDATED"){if(console.log("Auth state change:",b,A?.user?.id),n(!0),A?.user){const C={id:A.user.id,email:A.user.email||"",full_name:A.user.user_metadata?.full_name||"",phone:void 0,role:"member",membership_status:"inactive",membership_start_date:void 0,membership_end_date:void 0,created_at:A.user.created_at||new Date().toISOString(),updated_at:new Date().toISOString(),email_verified:A.user.email_confirmed_at!==null&&A.user.email_confirmed_at!==void 0};console.log("Setting fallback user immediately:",C.id),e(C)}try{const E=await Promise.race([i(A.user),new Promise(P=>setTimeout(()=>{console.warn("fetchUserData timeout after 3 seconds, using fallback user"),P(null)},3e3))]);E?(console.log("User data fetched successfully, updating:",E.id),e(E)):console.log("Using fallback user (fetchUserData returned null or timed out)")}catch(C){console.error("Error updating user data:",C)}finally{n(!1),console.log("Auth state update complete, loading set to false")}}}});return()=>{g=!1,w.unsubscribe()}},[i]),{user:t,loading:r,login:async(g,v)=>{try{n(!0);const{data:w,error:b}=await ye.auth.signInWithPassword({email:g,password:v});if(b)throw b;if(w.user){const A=await i(w.user);e(A)}return{error:null}}catch(w){return console.error("Login error:",w),{error:w}}finally{n(!1)}},logout:async()=>{try{n(!0);const{error:g}=await ye.auth.signOut();if(g)throw g;return e(null),{error:null}}catch(g){return console.error("Logout error:",g),{error:g}}finally{n(!1)}},register:async(g,v,w)=>{try{n(!0);const{data:b,error:A}=await ye.auth.signUp({email:g,password:v,options:{data:{full_name:w},emailRedirectTo:Vf("/auth/callback")}});if(A)throw A;return{data:b,error:null}}catch(b){return console.error("Registration error:",b),{data:null,error:b}}finally{n(!1)}},getUser:async()=>{try{const{data:{user:g},error:v}=await ye.auth.getUser();if(v||!g)return e(null),null;const w=await i(g);return e(w),w}catch(g){return console.error("Error getting user:",g),e(null),null}},refreshSession:async()=>{try{n(!0);const{data:{session:g},error:v}=await ye.auth.refreshSession();if(v)return console.error("Error refreshing session:",v),(v.message?.includes("expired")||v.message?.includes("invalid"))&&e(null),{success:!1,error:v};if(g?.user){const w=await i(g.user);return e(w),{success:!0}}return{success:!1,error:new Error("No session after refresh")}}catch(g){return console.error("Error refreshing session:",g),e(null),{success:!1,error:g}}finally{n(!1)}}}};function Dse(){const t=Kn(),{logout:e}=Vo();return a.jsx("header",{className:"sticky top-0 z-40 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:a.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gU,{className:"md:hidden"}),a.jsx("img",{src:"/mars-space-gym-buddy/earth-space-logo-9.webp",alt:"Earth Space",className:"h-8 md:h-10 w-auto cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>t("/dashboard")})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(_e,{onClick:()=>t("/classes"),className:"gap-2",variant:"default",children:[a.jsx(Fn,{className:"h-4 w-4"}),"Book Class"]}),a.jsxs(nO,{children:[a.jsx(iO,{asChild:!0,children:a.jsx(_e,{variant:"ghost",size:"icon",className:"rounded-full",children:a.jsxs(WN,{className:"h-9 w-9",children:[a.jsx(HN,{src:"",alt:"User"}),a.jsx(GN,{className:"bg-primary text-primary-foreground",children:a.jsx(Of,{className:"h-5 w-5"})})]})})}),a.jsxs(lx,{align:"end",className:"w-56",children:[a.jsx(sO,{children:"My Account"}),a.jsx(dy,{}),a.jsxs(Cc,{onClick:()=>t("/profile"),children:[a.jsx(Of,{className:"mr-2 h-4 w-4"}),"Profile"]}),a.jsxs(Cc,{onClick:()=>t("/settings"),children:[a.jsx(OY,{className:"mr-2 h-4 w-4"}),"Settings"]}),a.jsx(dy,{}),a.jsxs(Cc,{onClick:async()=>{await e(),t("/login")},children:[a.jsx(AN,{className:"mr-2 h-4 w-4"}),"Log out"]})]})]})]})]})})}function Lse(){const t=$o(),e=Kn(),{open:r,toggleSidebar:n,setOpenMobile:i}=Pg(),[s,o]=N.useState(!1);N.useEffect(()=>{(async()=>{try{const{data:{user:w}}=await ye.auth.getUser();if(!w)return;const{data:b,error:A}=await ye.from("user_roles").select("role").eq("user_id",w.id).single();if(A){console.error("Error fetching user role:",A);return}o(b?.role==="admin")}catch(w){console.error("Role check failed:",w)}})()},[]);const c=v=>t.pathname===v,u=[{icon:gp,label:"Entry/Exit",path:"/qr/entry-exit"}],h=[{icon:yI,label:"Dashboard",path:"/dashboard"},{icon:Fn,label:"Classes",path:"/classes"},{icon:zB,label:"Bookings",path:"/bookings"},{icon:rA,label:"Membership",path:"/managememberships"},{icon:NN,label:"Rewards",path:"/rewards"}],g=[{icon:yI,label:"Admin Dashboard",path:"/admin"},{icon:Rl,label:"Users",path:"/admin/users"},{icon:SN,label:"Analytics",path:"/admin/analytics"},{icon:Ao,label:"Manage Classes",path:"/admin/manageclasses"},{icon:rA,label:"Memberships",path:"/admin/memberships"},{icon:DY,label:"User Memberships",path:"/admin/usermemberships"},{icon:PY,label:"Deals & Referrals",path:"/admin/managedeals"}];return a.jsx(pU,{collapsible:"icon",className:"border-r",children:a.jsxs(vU,{children:[a.jsx("div",{className:"flex items-center justify-between p-4",children:a.jsx(_e,{variant:"ghost",size:"icon",onClick:n,className:"ml-auto hidden md:flex",children:r?a.jsx(Wi,{className:"h-4 w-4"}):a.jsx(bs,{className:"h-4 w-4"})})}),a.jsxs(Wv,{children:[a.jsx(Hv,{children:"Main Menu"}),a.jsx(Gv,{children:a.jsx(Kv,{children:h.map(v=>{const w=v.icon,b=c(v.path);return a.jsx(Yv,{children:a.jsxs(Xv,{onClick:()=>{e(v.path),window.innerWidth<768&&i(!1)},className:Re("transition-colors",b&&"bg-primary/10 text-primary font-medium"),tooltip:v.label,children:[a.jsx(w,{className:"h-4 w-4"}),a.jsx("span",{children:v.label})]})},v.path)})})})]}),s&&a.jsxs(Wv,{children:[a.jsx(Hv,{children:"Admin"}),a.jsx(Gv,{children:a.jsx(Kv,{children:g.map(v=>{const w=v.icon,b=c(v.path);return a.jsx(Yv,{children:a.jsxs(Xv,{onClick:()=>{e(v.path),window.innerWidth<768&&i(!1)},className:Re("transition-colors",b&&"bg-primary/10 text-primary font-medium"),tooltip:v.label,children:[a.jsx(w,{className:"h-4 w-4"}),a.jsx("span",{children:v.label})]})},v.path)})})})]}),a.jsxs(Wv,{children:[a.jsx(Hv,{children:"Quick Actions"}),a.jsx(Gv,{children:a.jsx(Kv,{children:u.map(v=>{const w=v.icon,b=c(v.path);return a.jsx(Yv,{children:a.jsxs(Xv,{onClick:()=>{e(v.path),window.innerWidth<768&&i(!1)},className:Re("transition-colors",b&&"bg-primary/10 text-primary font-medium"),tooltip:v.label,children:[a.jsx(w,{className:"h-4 w-4"}),a.jsx("span",{children:v.label})]})},v.path)})})})]})]})})}const bv={CRITICAL:5,WARNING:15},Bse=()=>{const{toast:t}=Gn(),e=N.useRef(new Set),r=N.useRef(null),n=N.useCallback(async()=>{try{const{data:{session:g}}=await ye.auth.getSession();return g?.expires_at?g.expires_at*1e3:null}catch(g){return console.error("Error getting session expiration:",g),null}},[]),i=N.useCallback(async()=>{const g=await n();if(!g)return null;const v=Date.now();return Math.floor((g-v)/(1e3*60))},[n]),s=N.useCallback(async()=>{const g=await i();return g===null?!0:g<=0},[i]),o=N.useCallback(async()=>{try{const{data:{session:g},error:v}=await ye.auth.refreshSession();return v?(console.error("Error refreshing session:",v),!1):g?(e.current.clear(),!0):!1}catch(g){return console.error("Error refreshing session:",g),!1}},[]),c=N.useCallback((g,v)=>{const w=v?bv.CRITICAL:bv.WARNING;e.current.has(w)||(e.current.add(w),t({variant:v?"destructive":"default",title:v?"Session Expiring Soon":"Session Timeout Warning",description:v?`Your session will expire in ${g} minutes. Please save your work.`:`Your session will expire in ${g} minutes.`,duration:v?1e4:5e3}))},[t]),u=N.useCallback(async()=>{try{e.current.clear(),t({variant:"destructive",title:"Session Expired",description:"Your session has expired. Please log in again.",duration:5e3}),await ye.auth.signOut(),setTimeout(()=>{window.location.href="/login"},2e3)}catch(g){console.error("Error handling expired session:",g)}},[t]),h=N.useCallback(async()=>{try{const{data:{session:g}}=await ye.auth.getSession();if(!g){e.current.clear();return}const v=await i();if(v===null)return;if(v<=0){await u();return}v<=bv.CRITICAL?c(v,!0):v<=bv.WARNING&&c(v,!1)}catch(g){console.error("Error monitoring session:",g)}},[i,u,c]);return N.useEffect(()=>{h(),r.current=setInterval(()=>{h()},6e4);const{data:{subscription:g}}=ye.auth.onAuthStateChange(v=>{(v==="SIGNED_IN"||v==="TOKEN_REFRESHED"||v==="SIGNED_OUT")&&e.current.clear()});return()=>{r.current&&clearInterval(r.current),g.unsubscribe()}},[h]),{refreshSession:o,isSessionExpired:s,getMinutesUntilExpiration:i}},Fse=()=>{const t=$o(),[e,r]=N.useState(!1);return N.useEffect(()=>{r(!0);const n=setTimeout(()=>{r(!1)},300);return()=>clearTimeout(n)},[t.pathname]),e},Use=()=>Fse()?a.jsx("div",{className:"fixed top-0 left-0 right-0 z-50",children:a.jsx("div",{className:"h-1 bg-primary/20",children:a.jsx("div",{className:"h-full bg-primary animate-pulse",style:{width:"100%"}})})}):null,$se=["/","/login","/register","/forgot-password","/reset-password"];function Vse({children:t}){const e=$o(),{user:r}=Vo(),n=$se.includes(e.pathname),i=!n&&r;return Bse(),n?a.jsx(a.Fragment,{children:t}):a.jsxs(mU,{children:[i&&a.jsx(Use,{}),a.jsxs("div",{className:"relative flex min-h-screen w-full",children:[i&&a.jsx(Lse,{}),a.jsxs("div",{className:"flex flex-1 flex-col",children:[i&&a.jsx(Dse,{}),a.jsx("main",{className:"flex-1",children:t})]})]})]})}const qe=N.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Re("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));qe.displayName="Card";const yt=N.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Re("flex flex-col space-y-1.5 p-6",t),...e}));yt.displayName="CardHeader";const _t=N.forwardRef(({className:t,...e},r)=>a.jsx("h3",{ref:r,className:Re("text-2xl font-semibold leading-none tracking-tight",t),...e}));_t.displayName="CardTitle";const cr=N.forwardRef(({className:t,...e},r)=>a.jsx("p",{ref:r,className:Re("text-sm text-muted-foreground",t),...e}));cr.displayName="CardDescription";const ze=N.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Re("p-6 pt-0",t),...e}));ze.displayName="CardContent";const qse=N.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Re("flex items-center p-6 pt-0",t),...e}));qse.displayName="CardFooter";const UU=()=>{const{user:t}=Vo(),{toast:e}=Gn(),r=Kn(),[n,i]=N.useState(!1),s=async()=>{if(t?.email){i(!0);try{const{error:o}=await ye.auth.resend({type:"signup",email:t.email,options:{emailRedirectTo:Vf("/auth/callback")}});if(o)throw o;e({title:"Verification email sent",description:"Please check your email for the verification link."})}catch(o){e({variant:"destructive",title:"Failed to send verification email",description:o.message})}finally{i(!1)}}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:a.jsxs(qe,{className:"w-full max-w-md shadow-lg",children:[a.jsxs(yt,{className:"space-y-1 text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"p-3 bg-gradient-accent rounded-full",children:a.jsx(ry,{className:"w-8 h-8 text-accent-foreground"})})}),a.jsx(_t,{className:"text-2xl font-bold",children:"Email Verification Required"}),a.jsx(cr,{children:"Please verify your email address to continue"})]}),a.jsxs(ze,{className:"space-y-4",children:[a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"We've sent a verification email to:"}),a.jsx("p",{className:"font-medium",children:t?.email}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Click the link in the email to verify your account."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{onClick:s,disabled:n,className:"w-full",children:n?a.jsxs(a.Fragment,{children:[a.jsx(Wn,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ry,{className:"mr-2 h-4 w-4"}),"Resend Verification Email"]})}),a.jsx(_e,{variant:"outline",onClick:async()=>{await ye.auth.signOut(),r("/login")},className:"w-full",children:"Sign Out"})]})]})]})})},Co=({children:t,requireEmailVerification:e=!0})=>{const{user:r,loading:n}=Vo(),i=$o();return n?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(Wn,{className:"w-8 h-8 animate-spin text-primary"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):r?e&&!r.email_verified?a.jsx(UU,{}):a.jsx(a.Fragment,{children:t}):(console.log("ProtectedRoute: No user found, redirecting to login"),a.jsx(JJ,{to:"/login",state:{from:i},replace:!0}))},$U=()=>{const[t,e]=N.useState(null),[r,n]=N.useState(!0),[i,s]=N.useState(null),o=Kn();N.useEffect(()=>{c();const{data:{subscription:h}}=ye.auth.onAuthStateChange((g,v)=>{v?.user?(s(v.user),c()):(s(null),e(!1),n(!1))});return()=>h.unsubscribe()},[]);const c=async()=>{try{const{data:{session:h}}=await ye.auth.getSession();if(!h?.user){e(!1),s(null),n(!1);return}s(h.user);const{data:g,error:v}=await ye.rpc("has_role",{_user_id:h.user.id,_role:"admin"});v?(console.error("Error checking admin status:",v),e(!1)):e(g===!0)}catch(h){console.error("Error in checkAdminStatus:",h),e(!1)}finally{n(!1)}};return{isAdmin:t,isLoading:r,user:i,logout:async()=>{await ye.auth.signOut(),s(null),e(!1),o("/")}}};var zse="Label",VU=N.forwardRef((t,e)=>a.jsx(Mt.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));VU.displayName=zse;var qU=VU;const Wse=xd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Xt=N.forwardRef(({className:t,...e},r)=>a.jsx(qU,{ref:r,className:Re(Wse(),t),...e}));Xt.displayName=qU.displayName;const Hse=()=>{const[t,e]=N.useState(""),[r,n]=N.useState(""),[i,s]=N.useState(!1),{toast:o}=Gn(),c=Kn(),u=async h=>{h.preventDefault(),s(!0);try{const{data:g,error:v}=await ye.auth.signInWithPassword({email:t,password:r});if(v)throw v;if(g.user){const{data:w,error:b}=await ye.rpc("has_role",{_user_id:g.user.id,_role:"admin"});if(b)throw b;w?o({title:"Welcome back!",description:"Logged in successfully as admin."}):(await ye.auth.signOut(),o({variant:"destructive",title:"Access Denied",description:"You don't have admin privileges."}))}}catch(g){o({variant:"destructive",title:"Login Failed",description:g.message||"Invalid credentials"})}finally{s(!1)}};return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-6",children:a.jsxs(qe,{className:"w-full max-w-md",children:[a.jsxs(yt,{className:"space-y-1 text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"rounded-full bg-primary/10 p-3",children:a.jsx(WB,{className:"w-6 h-6 text-primary"})})}),a.jsx(_t,{className:"text-2xl font-bold",children:"Admin Access"}),a.jsx(cr,{children:"Enter your credentials to access the admin dashboard"})]}),a.jsx(ze,{children:a.jsxs("form",{onSubmit:u,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xt,{htmlFor:"email",children:"Email"}),a.jsx(jt,{id:"email",type:"email",placeholder:"admin@example.com",value:t,onChange:h=>e(h.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xt,{htmlFor:"password",children:"Password"}),a.jsx(jt,{id:"password",type:"password",value:r,onChange:h=>n(h.target.value),required:!0})]}),a.jsx(_e,{type:"submit",className:"w-full",disabled:i,children:i?"Logging in...":"Login as Admin"}),a.jsx(_e,{type:"button",variant:"ghost",className:"w-full",onClick:()=>c("/"),children:"Back to Home"})]})})]})})},cl=({children:t})=>{const{isAdmin:e,isLoading:r}=$U();return $o(),r?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(Wn,{className:"w-8 h-8 animate-spin text-primary"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):e?a.jsx(a.Fragment,{children:t}):a.jsx(Hse,{})},Gse=(t,e)=>{const r=t instanceof Error?t:new Error(String(t)),n={message:r.message,stack:r.stack,name:r.name,timestamp:new Date().toISOString(),url:window.location.href,userAgent:navigator.userAgent,context:e||{}};try{const i=JSON.parse(localStorage.getItem("error_logs")||"[]");i.push(n);const s=i.slice(-10);localStorage.setItem("error_logs",JSON.stringify(s))}catch(i){console.warn("Failed to store error log:",i)}};class Kse extends N.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,r){Gse(e,{errorInfo:r,componentStack:r.componentStack,errorBoundary:!0}),this.props.onError&&this.props.onError(e,r),this.setState({error:e,errorInfo:r})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};handleReload=()=>{window.location.reload()};handleGoHome=()=>{window.location.href="/"};render(){return this.state.hasError?this.props.fallback?this.props.fallback:a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:a.jsxs(qe,{className:"w-full max-w-md shadow-lg",children:[a.jsxs(yt,{className:"space-y-1 text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"p-3 bg-destructive/10 rounded-full",children:a.jsx(IY,{className:"w-8 h-8 text-destructive"})})}),a.jsx(_t,{className:"text-2xl font-bold",children:"Something went wrong"}),a.jsx(cr,{children:"We're sorry, but something unexpected happened."})]}),a.jsxs(ze,{className:"space-y-4",children:[!1,a.jsxs("div",{className:"space-y-2",children:[a.jsxs(_e,{onClick:this.handleReset,className:"w-full",variant:"default",children:[a.jsx(Qu,{className:"mr-2 h-4 w-4"}),"Try Again"]}),a.jsxs(_e,{onClick:this.handleReload,className:"w-full",variant:"outline",children:[a.jsx(Qu,{className:"mr-2 h-4 w-4"}),"Reload Page"]}),a.jsxs(_e,{onClick:this.handleGoHome,className:"w-full",variant:"ghost",children:[a.jsx(_Y,{className:"mr-2 h-4 w-4"}),"Go to Home"]})]})]})]})}):this.props.children}}const Yse=()=>{const t=Kn();return a.jsxs("div",{className:"relative min-h-screen overflow-hidden",children:[a.jsx("div",{className:"fixed inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:'url("/mars-space-gym-buddy/hero-background.jpg")'}}),a.jsx("div",{className:"fixed inset-0 bg-black/40"}),a.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col items-center justify-between px-6 py-12 md:py-16",children:[a.jsx("div",{className:"flex-shrink-0 mt-8 md:mt-12",children:a.jsx("img",{src:"/mars-space-gym-buddy/earth-space-logo-9.webp",alt:"Earth Space",className:"h-16 md:h-20 lg:h-24 w-auto mx-auto"})}),a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center max-w-3xl mx-auto space-y-8 md:space-y-12",children:[a.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-serif font-bold text-white leading-tight tracking-tight",children:"Welcome to Earth Space"}),a.jsx("p",{className:"text-lg md:text-xl lg:text-2xl text-white/95 font-sans leading-relaxed max-w-2xl px-4",children:"Discover a premium fitness experience with our comprehensive class timetable, seamless class booking system, and intuitive membership management. Your wellness journey starts here."})]}),a.jsxs("div",{className:"flex-shrink-0 w-full max-w-md mx-auto space-x-4 mb-8 md:mb-12 px-4",children:[a.jsx(_e,{onClick:()=>t("/login"),className:"flex-1 h-12 md:h-14 rounded-full bg-white text-black font-semibold text-base md:text-lg hover:bg-white/90 transition-all shadow-lg hover:shadow-xl",children:"LOG IN"}),a.jsx(_e,{onClick:()=>t("/register"),variant:"outline",className:"flex-1 h-12 md:h-14 rounded-full border-2 border-white text-white font-semibold text-base md:text-lg hover:bg-white/10 transition-all backdrop-blur-sm",children:"JOIN EARTH SPACE"})]})]})]})},Dn=t=>pp(typeof t=="string"?{variant:"success",title:"Success",description:t}:{variant:"success",title:t.title||"Success",description:t.description,duration:t.duration,action:t.action}),Et=t=>pp(typeof t=="string"?{variant:"destructive",title:"Error",description:t}:{variant:"destructive",title:t.title||"Error",description:t.description,duration:t.duration,action:t.action}),Ta={bookingCreated:t=>({variant:"success",title:"Booking Confirmed!",description:`You've successfully booked ${t}.`}),bookingCancelled:()=>({variant:"success",title:"Booking Cancelled",description:"Your booking has been cancelled successfully."}),loginSuccess:()=>({variant:"success",title:"Welcome back!",description:"You have successfully logged in."}),registrationSuccess:()=>({variant:"success",title:"Account Created",description:"Your account has been created successfully."}),passwordReset:()=>({variant:"success",title:"Password Updated!",description:"Your password has been successfully reset."}),profileUpdated:()=>({variant:"success",title:"Profile Updated",description:"Your profile has been updated successfully."}),bookingFailed:t=>({variant:"destructive",title:"Booking Failed",description:t||"Failed to book class. Please try again."}),cancellationFailed:t=>({variant:"destructive",title:"Cancellation Failed",description:t||"Failed to cancel booking. Please try again."}),loginFailed:t=>({variant:"destructive",title:"Login Failed",description:t||"Invalid email or password. Please try again."}),networkError:()=>({variant:"destructive",title:"Network Error",description:"Please check your internet connection and try again."}),sessionExpired:()=>({variant:"destructive",title:"Session Expired",description:"Your session has expired. Please log in again."}),emailVerificationRequired:()=>({variant:"info",title:"Email Verification Required",description:"Please verify your email address to access all features."}),accountLocked:t=>({variant:"destructive",title:"Account Locked",description:`Too many failed login attempts. Please try again in ${t}.`}),classFull:()=>({variant:"destructive",title:"Class Full",description:"This class is fully booked. Please try another session."}),alreadyBooked:()=>({variant:"default",title:"Already Booked",description:"You already have a booking for this class."})};var Rg=t=>t.type==="checkbox",Uu=t=>t instanceof Date,hs=t=>t==null;const zU=t=>typeof t=="object";var ii=t=>!hs(t)&&!Array.isArray(t)&&zU(t)&&!Uu(t),WU=t=>ii(t)&&t.target?Rg(t.target)?t.target.checked:t.target.value:t,Xse=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,HU=(t,e)=>t.has(Xse(e)),Zse=t=>{const e=t.constructor&&t.constructor.prototype;return ii(e)&&e.hasOwnProperty("isPrototypeOf")},wO=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function _i(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(wO&&(t instanceof Blob||n))&&(r||ii(t)))if(e=r?[]:{},!r&&!Zse(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=_i(t[i]));else return t;return e}var fx=t=>/^\w*$/.test(t),ri=t=>t===void 0,bO=t=>Array.isArray(t)?t.filter(Boolean):[],_O=t=>bO(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ht=(t,e,r)=>{if(!e||!ii(t))return r;const n=(fx(e)?[e]:_O(e)).reduce((i,s)=>hs(i)?i:i[s],t);return ri(n)||n===t?ri(t[e])?r:t[e]:n},Js=t=>typeof t=="boolean",Jr=(t,e,r)=>{let n=-1;const i=fx(e)?[e]:_O(e),s=i.length,o=s-1;for(;++n<s;){const c=i[n];let u=r;if(n!==o){const h=t[c];u=ii(h)||Array.isArray(h)?h:isNaN(+i[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;t[c]=u,t=t[c]}};const gy={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ro={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},al={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},SO=ie.createContext(null);SO.displayName="HookFormContext";const hx=()=>ie.useContext(SO),Qse=t=>{const{children:e,...r}=t;return ie.createElement(SO.Provider,{value:r},e)};var GU=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==ro.all&&(e._proxyFormState[o]=!n||ro.all),r&&(r[o]=!0),t[o]}});return i};const CO=typeof window<"u"?ie.useLayoutEffect:ie.useEffect;function Jse(t){const e=hx(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[o,c]=ie.useState(r._formState),u=ie.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return CO(()=>r._subscribe({name:i,formState:u.current,exact:s,callback:h=>{!n&&c({...r._formState,...h})}}),[i,n,s]),ie.useEffect(()=>{u.current.isValid&&r._setValid(!0)},[r]),ie.useMemo(()=>GU(o,r,u.current,!1),[o,r])}var No=t=>typeof t=="string",KU=(t,e,r,n,i)=>No(t)?(n&&e.watch.add(t),ht(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),ht(r,s))):(n&&(e.watchAll=!0),r),PA=t=>hs(t)||!zU(t);function hl(t,e,r=new WeakSet){if(PA(t)||PA(e))return t===e;if(Uu(t)&&Uu(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const o=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const c=e[s];if(Uu(o)&&Uu(c)||ii(o)&&ii(c)||Array.isArray(o)&&Array.isArray(c)?!hl(o,c,r):o!==c)return!1}}return!0}function eae(t){const e=hx(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:o,compute:c}=t||{},u=ie.useRef(i),h=ie.useRef(c),g=ie.useRef(void 0);h.current=c;const v=ie.useMemo(()=>r._getWatch(n,u.current),[r,n]),[w,b]=ie.useState(h.current?h.current(v):v);return CO(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:A=>{if(!s){const C=KU(n,r._names,A.values||r._formValues,!1,u.current);if(h.current){const E=h.current(C);hl(E,g.current)||(b(E),g.current=E)}else b(C)}}}),[r,s,n,o]),ie.useEffect(()=>r._removeUnmounted()),w}function tae(t){const e=hx(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s,defaultValue:o}=t,c=HU(i._names.array,r),u=ie.useMemo(()=>ht(i._formValues,r,ht(i._defaultValues,r,o)),[i,r,o]),h=eae({control:i,name:r,defaultValue:u,exact:!0}),g=Jse({control:i,name:r,exact:!0}),v=ie.useRef(t),w=ie.useRef(i.register(r,{...t.rules,value:h,...Js(t.disabled)?{disabled:t.disabled}:{}}));v.current=t;const b=ie.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ht(g.errors,r)},isDirty:{enumerable:!0,get:()=>!!ht(g.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ht(g.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ht(g.validatingFields,r)},error:{enumerable:!0,get:()=>ht(g.errors,r)}}),[g,r]),A=ie.useCallback(k=>w.current.onChange({target:{value:WU(k),name:r},type:gy.CHANGE}),[r]),C=ie.useCallback(()=>w.current.onBlur({target:{value:ht(i._formValues,r),name:r},type:gy.BLUR}),[r,i._formValues]),E=ie.useCallback(k=>{const I=ht(i._fields,r);I&&k&&(I._f.ref={focus:()=>k.focus&&k.focus(),select:()=>k.select&&k.select(),setCustomValidity:F=>k.setCustomValidity(F),reportValidity:()=>k.reportValidity()})},[i._fields,r]),P=ie.useMemo(()=>({name:r,value:h,...Js(n)||g.disabled?{disabled:g.disabled||n}:{},onChange:A,onBlur:C,ref:E}),[r,n,g.disabled,A,C,E,h]);return ie.useEffect(()=>{const k=i._options.shouldUnregister||s;i.register(r,{...v.current.rules,...Js(v.current.disabled)?{disabled:v.current.disabled}:{}});const I=(F,M)=>{const D=ht(i._fields,F);D&&D._f&&(D._f.mount=M)};if(I(r,!0),k){const F=_i(ht(i._options.defaultValues,r));Jr(i._defaultValues,r,F),ri(ht(i._formValues,r))&&Jr(i._formValues,r,F)}return!c&&i.register(r),()=>{(c?k&&!i._state.action:k)?i.unregister(r):I(r,!1)}},[r,i,c,s]),ie.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),ie.useMemo(()=>({field:P,formState:g,fieldState:b}),[P,g,b])}const rae=t=>t.render(tae(t));var YU=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},ap=t=>Array.isArray(t)?t:[t],L3=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},Ps=t=>ii(t)&&!Object.keys(t).length,EO=t=>t.type==="file",no=t=>typeof t=="function",vy=t=>{if(!wO)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},XU=t=>t.type==="select-multiple",AO=t=>t.type==="radio",nae=t=>AO(t)||Rg(t),h_=t=>vy(t)&&t.isConnected;function iae(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=ri(t)?n++:t[e[n++]];return t}function sae(t){for(const e in t)if(t.hasOwnProperty(e)&&!ri(t[e]))return!1;return!0}function ai(t,e){const r=Array.isArray(e)?e:fx(e)?[e]:_O(e),n=r.length===1?t:iae(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(ii(n)&&Ps(n)||Array.isArray(n)&&sae(n))&&ai(t,r.slice(0,-1)),t}var ZU=t=>{for(const e in t)if(no(t[e]))return!0;return!1};function yy(t,e={}){const r=Array.isArray(t);if(ii(t)||r)for(const n in t)Array.isArray(t[n])||ii(t[n])&&!ZU(t[n])?(e[n]=Array.isArray(t[n])?[]:{},yy(t[n],e[n])):hs(t[n])||(e[n]=!0);return e}function QU(t,e,r){const n=Array.isArray(t);if(ii(t)||n)for(const i in t)Array.isArray(t[i])||ii(t[i])&&!ZU(t[i])?ri(e)||PA(r[i])?r[i]=Array.isArray(t[i])?yy(t[i],[]):{...yy(t[i])}:QU(t[i],hs(e)?{}:e[i],r[i]):r[i]=!hl(t[i],e[i]);return r}var Tm=(t,e)=>QU(t,e,yy(e));const B3={value:!1,isValid:!1},F3={value:!0,isValid:!0};var JU=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ri(t[0].attributes.value)?ri(t[0].value)||t[0].value===""?F3:{value:t[0].value,isValid:!0}:F3:B3}return B3},e$=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>ri(t)?t:e?t===""?NaN:t&&+t:r&&No(t)?new Date(t):n?n(t):t;const U3={isValid:!1,value:null};var t$=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,U3):U3;function $3(t){const e=t.ref;return EO(e)?e.files:AO(e)?t$(t.refs).value:XU(e)?[...e.selectedOptions].map(({value:r})=>r):Rg(e)?JU(t.refs).value:e$(ri(e.value)?t.ref.value:e.value,t)}var aae=(t,e,r,n)=>{const i={};for(const s of t){const o=ht(e,s);o&&Jr(i,s,o._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},xy=t=>t instanceof RegExp,km=t=>ri(t)?t:xy(t)?t.source:ii(t)?xy(t.value)?t.value.source:t.value:t,V3=t=>({isOnSubmit:!t||t===ro.onSubmit,isOnBlur:t===ro.onBlur,isOnChange:t===ro.onChange,isOnAll:t===ro.all,isOnTouch:t===ro.onTouched});const q3="AsyncFunction";var oae=t=>!!t&&!!t.validate&&!!(no(t.validate)&&t.validate.constructor.name===q3||ii(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===q3)),lae=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),z3=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const op=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=ht(t,i);if(s){const{_f:o,...c}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(op(c,e))break}else if(ii(c)&&op(c,e))break}}};function W3(t,e,r){const n=ht(t,r);if(n||fx(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),o=ht(e,s),c=ht(t,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(c&&c.type)return{name:s,error:c};if(c&&c.root&&c.root.type)return{name:`${s}.root`,error:c.root};i.pop()}return{name:r}}var cae=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Ps(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!n||ro.all))},uae=(t,e,r)=>!t||!e||t===e||ap(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),dae=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,fae=(t,e)=>!bO(ht(t,e)).length&&ai(t,e),hae=(t,e,r)=>{const n=ap(ht(t,r));return Jr(n,"root",e[r]),Jr(t,r,n),t},Zv=t=>No(t);function H3(t,e,r="validate"){if(Zv(t)||Array.isArray(t)&&t.every(Zv)||Js(t)&&!t)return{type:r,message:Zv(t)?t:"",ref:e}}var uf=t=>ii(t)&&!xy(t)?t:{value:t,message:""},G3=async(t,e,r,n,i,s)=>{const{ref:o,refs:c,required:u,maxLength:h,minLength:g,min:v,max:w,pattern:b,validate:A,name:C,valueAsNumber:E,mount:P}=t._f,k=ht(r,C);if(!P||e.has(C))return{};const I=c?c[0]:o,F=V=>{i&&I.reportValidity&&(I.setCustomValidity(Js(V)?"":V||""),I.reportValidity())},M={},D=AO(o),R=Rg(o),$=D||R,z=(E||EO(o))&&ri(o.value)&&ri(k)||vy(o)&&o.value===""||k===""||Array.isArray(k)&&!k.length,G=YU.bind(null,C,n,M),W=(V,K,q,Y=al.maxLength,J=al.minLength)=>{const ne=V?K:q;M[C]={type:V?Y:J,message:ne,ref:o,...G(V?Y:J,ne)}};if(s?!Array.isArray(k)||!k.length:u&&(!$&&(z||hs(k))||Js(k)&&!k||R&&!JU(c).isValid||D&&!t$(c).isValid)){const{value:V,message:K}=Zv(u)?{value:!!u,message:u}:uf(u);if(V&&(M[C]={type:al.required,message:K,ref:I,...G(al.required,K)},!n))return F(K),M}if(!z&&(!hs(v)||!hs(w))){let V,K;const q=uf(w),Y=uf(v);if(!hs(k)&&!isNaN(k)){const J=o.valueAsNumber||k&&+k;hs(q.value)||(V=J>q.value),hs(Y.value)||(K=J<Y.value)}else{const J=o.valueAsDate||new Date(k),ne=ue=>new Date(new Date().toDateString()+" "+ue),te=o.type=="time",Q=o.type=="week";No(q.value)&&k&&(V=te?ne(k)>ne(q.value):Q?k>q.value:J>new Date(q.value)),No(Y.value)&&k&&(K=te?ne(k)<ne(Y.value):Q?k<Y.value:J<new Date(Y.value))}if((V||K)&&(W(!!V,q.message,Y.message,al.max,al.min),!n))return F(M[C].message),M}if((h||g)&&!z&&(No(k)||s&&Array.isArray(k))){const V=uf(h),K=uf(g),q=!hs(V.value)&&k.length>+V.value,Y=!hs(K.value)&&k.length<+K.value;if((q||Y)&&(W(q,V.message,K.message),!n))return F(M[C].message),M}if(b&&!z&&No(k)){const{value:V,message:K}=uf(b);if(xy(V)&&!k.match(V)&&(M[C]={type:al.pattern,message:K,ref:o,...G(al.pattern,K)},!n))return F(K),M}if(A){if(no(A)){const V=await A(k,r),K=H3(V,I);if(K&&(M[C]={...K,...G(al.validate,K.message)},!n))return F(K.message),M}else if(ii(A)){let V={};for(const K in A){if(!Ps(V)&&!n)break;const q=H3(await A[K](k,r),I,K);q&&(V={...q,...G(K,q.message)},F(q.message),n&&(M[C]=V))}if(!Ps(V)&&(M[C]={ref:I,...V},!n))return M}}return F(!0),M};const mae={mode:ro.onSubmit,reValidateMode:ro.onChange,shouldFocusError:!0};function pae(t={}){let e={...mae,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:no(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=ii(e.defaultValues)||ii(e.values)?_i(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:_i(i),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,h=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let v={...g};const w={array:L3(),state:L3()},b=e.criteriaMode===ro.all,A=de=>he=>{clearTimeout(h),h=setTimeout(de,he)},C=async de=>{if(!e.disabled&&(g.isValid||v.isValid||de)){const he=e.resolver?Ps((await R()).errors):await z(n,!0);he!==r.isValid&&w.state.next({isValid:he})}},E=(de,he)=>{!e.disabled&&(g.isValidating||g.validatingFields||v.isValidating||v.validatingFields)&&((de||Array.from(c.mount)).forEach(Ie=>{Ie&&(he?Jr(r.validatingFields,Ie,he):ai(r.validatingFields,Ie))}),w.state.next({validatingFields:r.validatingFields,isValidating:!Ps(r.validatingFields)}))},P=(de,he=[],Ie,Qe,Ke=!0,Ye=!0)=>{if(Qe&&Ie&&!e.disabled){if(o.action=!0,Ye&&Array.isArray(ht(n,de))){const Xe=Ie(ht(n,de),Qe.argA,Qe.argB);Ke&&Jr(n,de,Xe)}if(Ye&&Array.isArray(ht(r.errors,de))){const Xe=Ie(ht(r.errors,de),Qe.argA,Qe.argB);Ke&&Jr(r.errors,de,Xe),fae(r.errors,de)}if((g.touchedFields||v.touchedFields)&&Ye&&Array.isArray(ht(r.touchedFields,de))){const Xe=Ie(ht(r.touchedFields,de),Qe.argA,Qe.argB);Ke&&Jr(r.touchedFields,de,Xe)}(g.dirtyFields||v.dirtyFields)&&(r.dirtyFields=Tm(i,s)),w.state.next({name:de,isDirty:W(de,he),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Jr(s,de,he)},k=(de,he)=>{Jr(r.errors,de,he),w.state.next({errors:r.errors})},I=de=>{r.errors=de,w.state.next({errors:r.errors,isValid:!1})},F=(de,he,Ie,Qe)=>{const Ke=ht(n,de);if(Ke){const Ye=ht(s,de,ri(Ie)?ht(i,de):Ie);ri(Ye)||Qe&&Qe.defaultChecked||he?Jr(s,de,he?Ye:$3(Ke._f)):q(de,Ye),o.mount&&C()}},M=(de,he,Ie,Qe,Ke)=>{let Ye=!1,Xe=!1;const vt={name:de};if(!e.disabled){if(!Ie||Qe){(g.isDirty||v.isDirty)&&(Xe=r.isDirty,r.isDirty=vt.isDirty=W(),Ye=Xe!==vt.isDirty);const Ft=hl(ht(i,de),he);Xe=!!ht(r.dirtyFields,de),Ft?ai(r.dirtyFields,de):Jr(r.dirtyFields,de,!0),vt.dirtyFields=r.dirtyFields,Ye=Ye||(g.dirtyFields||v.dirtyFields)&&Xe!==!Ft}if(Ie){const Ft=ht(r.touchedFields,de);Ft||(Jr(r.touchedFields,de,Ie),vt.touchedFields=r.touchedFields,Ye=Ye||(g.touchedFields||v.touchedFields)&&Ft!==Ie)}Ye&&Ke&&w.state.next(vt)}return Ye?vt:{}},D=(de,he,Ie,Qe)=>{const Ke=ht(r.errors,de),Ye=(g.isValid||v.isValid)&&Js(he)&&r.isValid!==he;if(e.delayError&&Ie?(u=A(()=>k(de,Ie)),u(e.delayError)):(clearTimeout(h),u=null,Ie?Jr(r.errors,de,Ie):ai(r.errors,de)),(Ie?!hl(Ke,Ie):Ke)||!Ps(Qe)||Ye){const Xe={...Qe,...Ye&&Js(he)?{isValid:he}:{},errors:r.errors,name:de};r={...r,...Xe},w.state.next(Xe)}},R=async de=>{E(de,!0);const he=await e.resolver(s,e.context,aae(de||c.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return E(de),he},$=async de=>{const{errors:he}=await R(de);if(de)for(const Ie of de){const Qe=ht(he,Ie);Qe?Jr(r.errors,Ie,Qe):ai(r.errors,Ie)}else r.errors=he;return he},z=async(de,he,Ie={valid:!0})=>{for(const Qe in de){const Ke=de[Qe];if(Ke){const{_f:Ye,...Xe}=Ke;if(Ye){const vt=c.array.has(Ye.name),Ft=Ke._f&&oae(Ke._f);Ft&&g.validatingFields&&E([Qe],!0);const br=await G3(Ke,c.disabled,s,b,e.shouldUseNativeValidation&&!he,vt);if(Ft&&g.validatingFields&&E([Qe]),br[Ye.name]&&(Ie.valid=!1,he))break;!he&&(ht(br,Ye.name)?vt?hae(r.errors,br,Ye.name):Jr(r.errors,Ye.name,br[Ye.name]):ai(r.errors,Ye.name))}!Ps(Xe)&&await z(Xe,he,Ie)}}return Ie.valid},G=()=>{for(const de of c.unMount){const he=ht(n,de);he&&(he._f.refs?he._f.refs.every(Ie=>!h_(Ie)):!h_(he._f.ref))&&Se(de)}c.unMount=new Set},W=(de,he)=>!e.disabled&&(de&&he&&Jr(s,de,he),!hl(ue(),i)),V=(de,he,Ie)=>KU(de,c,{...o.mount?s:ri(he)?i:No(de)?{[de]:he}:he},Ie,he),K=de=>bO(ht(o.mount?s:i,de,e.shouldUnregister?ht(i,de,[]):[])),q=(de,he,Ie={})=>{const Qe=ht(n,de);let Ke=he;if(Qe){const Ye=Qe._f;Ye&&(!Ye.disabled&&Jr(s,de,e$(he,Ye)),Ke=vy(Ye.ref)&&hs(he)?"":he,XU(Ye.ref)?[...Ye.ref.options].forEach(Xe=>Xe.selected=Ke.includes(Xe.value)):Ye.refs?Rg(Ye.ref)?Ye.refs.forEach(Xe=>{(!Xe.defaultChecked||!Xe.disabled)&&(Array.isArray(Ke)?Xe.checked=!!Ke.find(vt=>vt===Xe.value):Xe.checked=Ke===Xe.value||!!Ke)}):Ye.refs.forEach(Xe=>Xe.checked=Xe.value===Ke):EO(Ye.ref)?Ye.ref.value="":(Ye.ref.value=Ke,Ye.ref.type||w.state.next({name:de,values:_i(s)})))}(Ie.shouldDirty||Ie.shouldTouch)&&M(de,Ke,Ie.shouldTouch,Ie.shouldDirty,!0),Ie.shouldValidate&&Q(de)},Y=(de,he,Ie)=>{for(const Qe in he){if(!he.hasOwnProperty(Qe))return;const Ke=he[Qe],Ye=de+"."+Qe,Xe=ht(n,Ye);(c.array.has(de)||ii(Ke)||Xe&&!Xe._f)&&!Uu(Ke)?Y(Ye,Ke,Ie):q(Ye,Ke,Ie)}},J=(de,he,Ie={})=>{const Qe=ht(n,de),Ke=c.array.has(de),Ye=_i(he);Jr(s,de,Ye),Ke?(w.array.next({name:de,values:_i(s)}),(g.isDirty||g.dirtyFields||v.isDirty||v.dirtyFields)&&Ie.shouldDirty&&w.state.next({name:de,dirtyFields:Tm(i,s),isDirty:W(de,Ye)})):Qe&&!Qe._f&&!hs(Ye)?Y(de,Ye,Ie):q(de,Ye,Ie),z3(de,c)&&w.state.next({...r,name:de}),w.state.next({name:o.mount?de:void 0,values:_i(s)})},ne=async de=>{o.mount=!0;const he=de.target;let Ie=he.name,Qe=!0;const Ke=ht(n,Ie),Ye=Ft=>{Qe=Number.isNaN(Ft)||Uu(Ft)&&isNaN(Ft.getTime())||hl(Ft,ht(s,Ie,Ft))},Xe=V3(e.mode),vt=V3(e.reValidateMode);if(Ke){let Ft,br;const an=he.type?$3(Ke._f):WU(de),tn=de.type===gy.BLUR||de.type===gy.FOCUS_OUT,Es=!lae(Ke._f)&&!e.resolver&&!ht(r.errors,Ie)&&!Ke._f.deps||dae(tn,ht(r.touchedFields,Ie),r.isSubmitted,vt,Xe),_r=z3(Ie,c,tn);Jr(s,Ie,an),tn?(Ke._f.onBlur&&Ke._f.onBlur(de),u&&u(0)):Ke._f.onChange&&Ke._f.onChange(de);const tt=M(Ie,an,tn),Gr=!Ps(tt)||_r;if(!tn&&w.state.next({name:Ie,type:de.type,values:_i(s)}),Es)return(g.isValid||v.isValid)&&(e.mode==="onBlur"?tn&&C():tn||C()),Gr&&w.state.next({name:Ie,..._r?{}:tt});if(!tn&&_r&&w.state.next({...r}),e.resolver){const{errors:gr}=await R([Ie]);if(Ye(an),Qe){const Lr=W3(r.errors,n,Ie),Gi=W3(gr,n,Lr.name||Ie);Ft=Gi.error,Ie=Gi.name,br=Ps(gr)}}else E([Ie],!0),Ft=(await G3(Ke,c.disabled,s,b,e.shouldUseNativeValidation))[Ie],E([Ie]),Ye(an),Qe&&(Ft?br=!1:(g.isValid||v.isValid)&&(br=await z(n,!0)));Qe&&(Ke._f.deps&&Q(Ke._f.deps),D(Ie,br,Ft,tt))}},te=(de,he)=>{if(ht(r.errors,he)&&de.focus)return de.focus(),1},Q=async(de,he={})=>{let Ie,Qe;const Ke=ap(de);if(e.resolver){const Ye=await $(ri(de)?de:Ke);Ie=Ps(Ye),Qe=de?!Ke.some(Xe=>ht(Ye,Xe)):Ie}else de?(Qe=(await Promise.all(Ke.map(async Ye=>{const Xe=ht(n,Ye);return await z(Xe&&Xe._f?{[Ye]:Xe}:Xe)}))).every(Boolean),!(!Qe&&!r.isValid)&&C()):Qe=Ie=await z(n);return w.state.next({...!No(de)||(g.isValid||v.isValid)&&Ie!==r.isValid?{}:{name:de},...e.resolver||!de?{isValid:Ie}:{},errors:r.errors}),he.shouldFocus&&!Qe&&op(n,te,de?Ke:c.mount),Qe},ue=de=>{const he={...o.mount?s:i};return ri(de)?he:No(de)?ht(he,de):de.map(Ie=>ht(he,Ie))},ae=(de,he)=>({invalid:!!ht((he||r).errors,de),isDirty:!!ht((he||r).dirtyFields,de),error:ht((he||r).errors,de),isValidating:!!ht(r.validatingFields,de),isTouched:!!ht((he||r).touchedFields,de)}),se=de=>{de&&ap(de).forEach(he=>ai(r.errors,he)),w.state.next({errors:de?r.errors:{}})},me=(de,he,Ie)=>{const Qe=(ht(n,de,{_f:{}})._f||{}).ref,Ke=ht(r.errors,de)||{},{ref:Ye,message:Xe,type:vt,...Ft}=Ke;Jr(r.errors,de,{...Ft,...he,ref:Qe}),w.state.next({name:de,errors:r.errors,isValid:!1}),Ie&&Ie.shouldFocus&&Qe&&Qe.focus&&Qe.focus()},xe=(de,he)=>no(de)?w.state.subscribe({next:Ie=>"values"in Ie&&de(V(void 0,he),Ie)}):V(de,he,!0),Ue=de=>w.state.subscribe({next:he=>{uae(de.name,he.name,de.exact)&&cae(he,de.formState||g,lt,de.reRenderRoot)&&de.callback({values:{...s},...r,...he,defaultValues:i})}}).unsubscribe,Pe=de=>(o.mount=!0,v={...v,...de.formState},Ue({...de,formState:v})),Se=(de,he={})=>{for(const Ie of de?ap(de):c.mount)c.mount.delete(Ie),c.array.delete(Ie),he.keepValue||(ai(n,Ie),ai(s,Ie)),!he.keepError&&ai(r.errors,Ie),!he.keepDirty&&ai(r.dirtyFields,Ie),!he.keepTouched&&ai(r.touchedFields,Ie),!he.keepIsValidating&&ai(r.validatingFields,Ie),!e.shouldUnregister&&!he.keepDefaultValue&&ai(i,Ie);w.state.next({values:_i(s)}),w.state.next({...r,...he.keepDirty?{isDirty:W()}:{}}),!he.keepIsValid&&C()},je=({disabled:de,name:he})=>{(Js(de)&&o.mount||de||c.disabled.has(he))&&(de?c.disabled.add(he):c.disabled.delete(he))},Ee=(de,he={})=>{let Ie=ht(n,de);const Qe=Js(he.disabled)||Js(e.disabled);return Jr(n,de,{...Ie||{},_f:{...Ie&&Ie._f?Ie._f:{ref:{name:de}},name:de,mount:!0,...he}}),c.mount.add(de),Ie?je({disabled:Js(he.disabled)?he.disabled:e.disabled,name:de}):F(de,!0,he.value),{...Qe?{disabled:he.disabled||e.disabled}:{},...e.progressive?{required:!!he.required,min:km(he.min),max:km(he.max),minLength:km(he.minLength),maxLength:km(he.maxLength),pattern:km(he.pattern)}:{},name:de,onChange:ne,onBlur:ne,ref:Ke=>{if(Ke){Ee(de,he),Ie=ht(n,de);const Ye=ri(Ke.value)&&Ke.querySelectorAll&&Ke.querySelectorAll("input,select,textarea")[0]||Ke,Xe=nae(Ye),vt=Ie._f.refs||[];if(Xe?vt.find(Ft=>Ft===Ye):Ye===Ie._f.ref)return;Jr(n,de,{_f:{...Ie._f,...Xe?{refs:[...vt.filter(h_),Ye,...Array.isArray(ht(i,de))?[{}]:[]],ref:{type:Ye.type,name:de}}:{ref:Ye}}}),F(de,!1,void 0,Ye)}else Ie=ht(n,de,{}),Ie._f&&(Ie._f.mount=!1),(e.shouldUnregister||he.shouldUnregister)&&!(HU(c.array,de)&&o.action)&&c.unMount.add(de)}}},Fe=()=>e.shouldFocusError&&op(n,te,c.mount),Ce=de=>{Js(de)&&(w.state.next({disabled:de}),op(n,(he,Ie)=>{const Qe=ht(n,Ie);Qe&&(he.disabled=Qe._f.disabled||de,Array.isArray(Qe._f.refs)&&Qe._f.refs.forEach(Ke=>{Ke.disabled=Qe._f.disabled||de}))},0,!1))},be=(de,he)=>async Ie=>{let Qe;Ie&&(Ie.preventDefault&&Ie.preventDefault(),Ie.persist&&Ie.persist());let Ke=_i(s);if(w.state.next({isSubmitting:!0}),e.resolver){const{errors:Ye,values:Xe}=await R();r.errors=Ye,Ke=_i(Xe)}else await z(n);if(c.disabled.size)for(const Ye of c.disabled)ai(Ke,Ye);if(ai(r.errors,"root"),Ps(r.errors)){w.state.next({errors:{}});try{await de(Ke,Ie)}catch(Ye){Qe=Ye}}else he&&await he({...r.errors},Ie),Fe(),setTimeout(Fe);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ps(r.errors)&&!Qe,submitCount:r.submitCount+1,errors:r.errors}),Qe)throw Qe},He=(de,he={})=>{ht(n,de)&&(ri(he.defaultValue)?J(de,_i(ht(i,de))):(J(de,he.defaultValue),Jr(i,de,_i(he.defaultValue))),he.keepTouched||ai(r.touchedFields,de),he.keepDirty||(ai(r.dirtyFields,de),r.isDirty=he.defaultValue?W(de,_i(ht(i,de))):W()),he.keepError||(ai(r.errors,de),g.isValid&&C()),w.state.next({...r}))},Te=(de,he={})=>{const Ie=de?_i(de):i,Qe=_i(Ie),Ke=Ps(de),Ye=Ke?i:Qe;if(he.keepDefaultValues||(i=Ie),!he.keepValues){if(he.keepDirtyValues){const Xe=new Set([...c.mount,...Object.keys(Tm(i,s))]);for(const vt of Array.from(Xe))ht(r.dirtyFields,vt)?Jr(Ye,vt,ht(s,vt)):J(vt,ht(Ye,vt))}else{if(wO&&ri(de))for(const Xe of c.mount){const vt=ht(n,Xe);if(vt&&vt._f){const Ft=Array.isArray(vt._f.refs)?vt._f.refs[0]:vt._f.ref;if(vy(Ft)){const br=Ft.closest("form");if(br){br.reset();break}}}}if(he.keepFieldsRef)for(const Xe of c.mount)J(Xe,ht(Ye,Xe));else n={}}s=e.shouldUnregister?he.keepDefaultValues?_i(i):{}:_i(Ye),w.array.next({values:{...Ye}}),w.state.next({values:{...Ye}})}c={mount:he.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!g.isValid||!!he.keepIsValid||!!he.keepDirtyValues,o.watch=!!e.shouldUnregister,w.state.next({submitCount:he.keepSubmitCount?r.submitCount:0,isDirty:Ke?!1:he.keepDirty?r.isDirty:!!(he.keepDefaultValues&&!hl(de,i)),isSubmitted:he.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ke?{}:he.keepDirtyValues?he.keepDefaultValues&&s?Tm(i,s):r.dirtyFields:he.keepDefaultValues&&de?Tm(i,de):he.keepDirty?r.dirtyFields:{},touchedFields:he.keepTouched?r.touchedFields:{},errors:he.keepErrors?r.errors:{},isSubmitSuccessful:he.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ge=(de,he)=>Te(no(de)?de(s):de,he),gt=(de,he={})=>{const Ie=ht(n,de),Qe=Ie&&Ie._f;if(Qe){const Ke=Qe.refs?Qe.refs[0]:Qe.ref;Ke.focus&&(Ke.focus(),he.shouldSelect&&no(Ke.select)&&Ke.select())}},lt=de=>{r={...r,...de}},dt={control:{register:Ee,unregister:Se,getFieldState:ae,handleSubmit:be,setError:me,_subscribe:Ue,_runSchema:R,_focusError:Fe,_getWatch:V,_getDirty:W,_setValid:C,_setFieldArray:P,_setDisabledField:je,_setErrors:I,_getFieldArray:K,_reset:Te,_resetDefaultValues:()=>no(e.defaultValues)&&e.defaultValues().then(de=>{Ge(de,e.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:G,_disableForm:Ce,_subjects:w,_proxyFormState:g,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(de){o=de},get _defaultValues(){return i},get _names(){return c},set _names(de){c=de},get _formState(){return r},get _options(){return e},set _options(de){e={...e,...de}}},subscribe:Pe,trigger:Q,register:Ee,handleSubmit:be,watch:xe,setValue:J,getValues:ue,reset:Ge,resetField:He,clearErrors:se,unregister:Se,setError:me,setFocus:gt,getFieldState:ae};return{...dt,formControl:dt}}function xl(t={}){const e=ie.useRef(void 0),r=ie.useRef(void 0),[n,i]=ie.useState({isDirty:!1,isValidating:!1,isLoading:no(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:no(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!no(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...c}=pae(t);e.current={...c,formState:n}}const s=e.current.control;return s._options=t,CO(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(c=>({...c,isReady:!0})),s._formState.isReady=!0,o},[s]),ie.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),ie.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),ie.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),ie.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),ie.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),ie.useEffect(()=>{t.values&&!hl(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),r.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),ie.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=GU(n,s),e.current}const K3=(t,e,r)=>{if(t&&"reportValidity"in t){const n=ht(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},r$=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?K3(n.ref,r,t):n.refs&&n.refs.forEach(i=>K3(i,r,t))}},gae=(t,e)=>{e.shouldUseNativeValidation&&r$(t,e);const r={};for(const n in t){const i=ht(e.fields,n),s=Object.assign(t[n]||{},{ref:i&&i.ref});if(vae(e.names||Object.keys(t),n)){const o=Object.assign({},ht(r,n));Jr(o,"root",s),Jr(r,n,o)}else Jr(r,n,s)}return r},vae=(t,e)=>t.some(r=>r.startsWith(e+"."));var yae=function(t,e){for(var r={};t.length;){var n=t[0],i=n.code,s=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var c=n.unionErrors[0].errors[0];r[o]={message:c.message,type:c.code}}else r[o]={message:s,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(g){return g.errors.forEach(function(v){return t.push(v)})}),e){var u=r[o].types,h=u&&u[n.code];r[o]=YU(o,e,r,i,h?[].concat(h,n.message):n.message)}t.shift()}return r},wl=function(t,e,r){return r===void 0&&(r={}),function(n,i,s){try{return Promise.resolve((function(o,c){try{var u=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(h){return s.shouldUseNativeValidation&&r$({},s),{errors:{},values:r.raw?n:h}})}catch(h){return c(h)}return u&&u.then?u.then(void 0,c):u})(0,function(o){if((function(c){return Array.isArray(c?.errors)})(o))return{values:{},errors:gae(yae(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},qr;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),o={};for(const c of s)o[c]=i[c];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(qr||(qr={}));var Y3;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Y3||(Y3={}));const Tt=qr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),vc=t=>{switch(typeof t){case"undefined":return Tt.undefined;case"string":return Tt.string;case"number":return Number.isNaN(t)?Tt.nan:Tt.number;case"boolean":return Tt.boolean;case"function":return Tt.function;case"bigint":return Tt.bigint;case"symbol":return Tt.symbol;case"object":return Array.isArray(t)?Tt.array:t===null?Tt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Tt.promise:typeof Map<"u"&&t instanceof Map?Tt.map:typeof Set<"u"&&t instanceof Set?Tt.set:typeof Date<"u"&&t instanceof Date?Tt.date:Tt.object;default:return Tt.unknown}},ct=qr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ol extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let c=n,u=0;for(;u<o.path.length;){const h=o.path[u];u===o.path.length-1?(c[h]=c[h]||{_errors:[]},c[h]._errors.push(r(o))):c[h]=c[h]||{_errors:[]},c=c[h],u++}}};return i(this),n}static assert(e){if(!(e instanceof Ol))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,qr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];r[s]=r[s]||[],r[s].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ol.create=t=>new Ol(t);const IA=(t,e)=>{let r;switch(t.code){case ct.invalid_type:t.received===Tt.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case ct.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,qr.jsonStringifyReplacer)}`;break;case ct.unrecognized_keys:r=`Unrecognized key(s) in object: ${qr.joinValues(t.keys,", ")}`;break;case ct.invalid_union:r="Invalid input";break;case ct.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${qr.joinValues(t.options)}`;break;case ct.invalid_enum_value:r=`Invalid enum value. Expected ${qr.joinValues(t.options)}, received '${t.received}'`;break;case ct.invalid_arguments:r="Invalid function arguments";break;case ct.invalid_return_type:r="Invalid function return type";break;case ct.invalid_date:r="Invalid date";break;case ct.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:qr.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case ct.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case ct.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case ct.custom:r="Invalid input";break;case ct.invalid_intersection_types:r="Intersection results could not be merged";break;case ct.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case ct.not_finite:r="Number must be finite";break;default:r=e.defaultError,qr.assertNever(t)}return{message:r}};let xae=IA;function wae(){return xae}const bae=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let c="";const u=n.filter(h=>!!h).slice().reverse();for(const h of u)c=h(o,{data:e,defaultError:c}).message;return{...i,path:s,message:c}};function pt(t,e){const r=wae(),n=bae({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===IA?void 0:IA].filter(i=>!!i)});t.common.issues.push(n)}class ua{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return mr;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const s=await i.key,o=await i.value;n.push({key:s,value:o})}return ua.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return mr;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}}const mr=Object.freeze({status:"aborted"}),Qm=t=>({status:"dirty",value:t}),Da=t=>({status:"valid",value:t}),X3=t=>t.status==="aborted",Z3=t=>t.status==="dirty",qf=t=>t.status==="valid",wy=t=>typeof Promise<"u"&&t instanceof Promise;var It;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(It||(It={}));class Dc{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Q3=(t,e)=>{if(qf(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ol(t.common.issues);return this._error=r,this._error}}};function Tr(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,c)=>{const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??c.defaultError}:typeof c.data>"u"?{message:u??n??c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:u??r??c.defaultError}},description:i}}class $r{get description(){return this._def.description}_getType(e){return vc(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:vc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ua,ctx:{common:e.parent.common,data:e.data,parsedType:vc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(wy(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vc(e)},i=this._parseSync({data:e,path:n.path,parent:n});return Q3(n,i)}"~validate"(e){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vc(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:r});return qf(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(n=>qf(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vc(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(wy(i)?i:Promise.resolve(i));return Q3(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=e(i),c=()=>s.addIssue({code:ct.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Hf({schema:this,typeName:pr.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return jc.create(this,this._def)}nullable(){return Gf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Po.create(this)}promise(){return Cy.create(this,this._def)}or(e){return _y.create([this,e],this._def)}and(e){return Sy.create(this,e,this._def)}transform(e){return new Hf({...Tr(this._def),schema:this,typeName:pr.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new DA({...Tr(this._def),innerType:this,defaultValue:r,typeName:pr.ZodDefault})}brand(){return new zae({typeName:pr.ZodBranded,type:this,...Tr(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new LA({...Tr(this._def),innerType:this,catchValue:r,typeName:pr.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return jO.create(this,e)}readonly(){return BA.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const _ae=/^c[^\s-]{8,}$/i,Sae=/^[0-9a-z]+$/,Cae=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Eae=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Aae=/^[a-z0-9_-]{21}$/i,jae=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Nae=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Oae=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Tae="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let m_;const kae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Pae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Iae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Rae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Mae=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Dae=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,n$="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Lae=new RegExp(`^${n$}$`);function i$(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function Bae(t){return new RegExp(`^${i$(t)}$`)}function Fae(t){let e=`${n$}T${i$(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Uae(t,e){return!!((e==="v4"||!e)&&kae.test(t)||(e==="v6"||!e)&&Iae.test(t))}function $ae(t,e){if(!jae.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function Vae(t,e){return!!((e==="v4"||!e)&&Pae.test(t)||(e==="v6"||!e)&&Rae.test(t))}class ml extends $r{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Tt.string){const s=this._getOrReturnCtx(e);return pt(s,{code:ct.invalid_type,expected:Tt.string,received:s.parsedType}),mr}const n=new ua;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),pt(i,{code:ct.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),pt(i,{code:ct.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,c=e.data.length<s.value;(o||c)&&(i=this._getOrReturnCtx(e,i),o?pt(i,{code:ct.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):c&&pt(i,{code:ct.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")Oae.test(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{validation:"email",code:ct.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")m_||(m_=new RegExp(Tae,"u")),m_.test(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{validation:"emoji",code:ct.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")Eae.test(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{validation:"uuid",code:ct.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")Aae.test(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{validation:"nanoid",code:ct.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")_ae.test(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{validation:"cuid",code:ct.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")Sae.test(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{validation:"cuid2",code:ct.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")Cae.test(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{validation:"ulid",code:ct.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),pt(i,{validation:"url",code:ct.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{validation:"regex",code:ct.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),pt(i,{code:ct.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),pt(i,{code:ct.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),pt(i,{code:ct.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?Fae(s).test(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{code:ct.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?Lae.test(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{code:ct.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?Bae(s).test(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{code:ct.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?Nae.test(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{validation:"duration",code:ct.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?Uae(e.data,s.version)||(i=this._getOrReturnCtx(e,i),pt(i,{validation:"ip",code:ct.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?$ae(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),pt(i,{validation:"jwt",code:ct.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?Vae(e.data,s.version)||(i=this._getOrReturnCtx(e,i),pt(i,{validation:"cidr",code:ct.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?Mae.test(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{validation:"base64",code:ct.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?Dae.test(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{validation:"base64url",code:ct.invalid_string,message:s.message}),n.dirty()):qr.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:ct.invalid_string,...It.errToObj(n)})}_addCheck(e){return new ml({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...It.errToObj(e)})}url(e){return this._addCheck({kind:"url",...It.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...It.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...It.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...It.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...It.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...It.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...It.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...It.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...It.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...It.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...It.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...It.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...It.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...It.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...It.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...It.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...It.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...It.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...It.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...It.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...It.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...It.errToObj(r)})}nonempty(e){return this.min(1,It.errToObj(e))}trim(){return new ml({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ml({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ml({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ml.create=t=>new ml({checks:[],typeName:pr.ZodString,coerce:t?.coerce??!1,...Tr(t)});function qae(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return s%o/10**i}class rd extends $r{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Tt.number){const s=this._getOrReturnCtx(e);return pt(s,{code:ct.invalid_type,expected:Tt.number,received:s.parsedType}),mr}let n;const i=new ua;for(const s of this._def.checks)s.kind==="int"?qr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),pt(n,{code:ct.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),pt(n,{code:ct.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),pt(n,{code:ct.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?qae(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),pt(n,{code:ct.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),pt(n,{code:ct.not_finite,message:s.message}),i.dirty()):qr.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,It.toString(r))}gt(e,r){return this.setLimit("min",e,!1,It.toString(r))}lte(e,r){return this.setLimit("max",e,!0,It.toString(r))}lt(e,r){return this.setLimit("max",e,!1,It.toString(r))}setLimit(e,r,n,i){return new rd({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:It.toString(i)}]})}_addCheck(e){return new rd({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:It.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:It.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:It.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:It.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:It.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:It.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:It.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:It.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:It.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&qr.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}rd.create=t=>new rd({checks:[],typeName:pr.ZodNumber,coerce:t?.coerce||!1,...Tr(t)});class nd extends $r{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Tt.bigint)return this._getInvalidInput(e);let n;const i=new ua;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),pt(n,{code:ct.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),pt(n,{code:ct.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),pt(n,{code:ct.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):qr.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return pt(r,{code:ct.invalid_type,expected:Tt.bigint,received:r.parsedType}),mr}gte(e,r){return this.setLimit("min",e,!0,It.toString(r))}gt(e,r){return this.setLimit("min",e,!1,It.toString(r))}lte(e,r){return this.setLimit("max",e,!0,It.toString(r))}lt(e,r){return this.setLimit("max",e,!1,It.toString(r))}setLimit(e,r,n,i){return new nd({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:It.toString(i)}]})}_addCheck(e){return new nd({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:It.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:It.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:It.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:It.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:It.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}nd.create=t=>new nd({checks:[],typeName:pr.ZodBigInt,coerce:t?.coerce??!1,...Tr(t)});class by extends $r{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Tt.boolean){const n=this._getOrReturnCtx(e);return pt(n,{code:ct.invalid_type,expected:Tt.boolean,received:n.parsedType}),mr}return Da(e.data)}}by.create=t=>new by({typeName:pr.ZodBoolean,coerce:t?.coerce||!1,...Tr(t)});class zf extends $r{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Tt.date){const s=this._getOrReturnCtx(e);return pt(s,{code:ct.invalid_type,expected:Tt.date,received:s.parsedType}),mr}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return pt(s,{code:ct.invalid_date}),mr}const n=new ua;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),pt(i,{code:ct.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),pt(i,{code:ct.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):qr.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new zf({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:It.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:It.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}zf.create=t=>new zf({checks:[],coerce:t?.coerce||!1,typeName:pr.ZodDate,...Tr(t)});class J3 extends $r{_parse(e){if(this._getType(e)!==Tt.symbol){const n=this._getOrReturnCtx(e);return pt(n,{code:ct.invalid_type,expected:Tt.symbol,received:n.parsedType}),mr}return Da(e.data)}}J3.create=t=>new J3({typeName:pr.ZodSymbol,...Tr(t)});class eR extends $r{_parse(e){if(this._getType(e)!==Tt.undefined){const n=this._getOrReturnCtx(e);return pt(n,{code:ct.invalid_type,expected:Tt.undefined,received:n.parsedType}),mr}return Da(e.data)}}eR.create=t=>new eR({typeName:pr.ZodUndefined,...Tr(t)});class tR extends $r{_parse(e){if(this._getType(e)!==Tt.null){const n=this._getOrReturnCtx(e);return pt(n,{code:ct.invalid_type,expected:Tt.null,received:n.parsedType}),mr}return Da(e.data)}}tR.create=t=>new tR({typeName:pr.ZodNull,...Tr(t)});class rR extends $r{constructor(){super(...arguments),this._any=!0}_parse(e){return Da(e.data)}}rR.create=t=>new rR({typeName:pr.ZodAny,...Tr(t)});class nR extends $r{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Da(e.data)}}nR.create=t=>new nR({typeName:pr.ZodUnknown,...Tr(t)});class Lc extends $r{_parse(e){const r=this._getOrReturnCtx(e);return pt(r,{code:ct.invalid_type,expected:Tt.never,received:r.parsedType}),mr}}Lc.create=t=>new Lc({typeName:pr.ZodNever,...Tr(t)});class iR extends $r{_parse(e){if(this._getType(e)!==Tt.undefined){const n=this._getOrReturnCtx(e);return pt(n,{code:ct.invalid_type,expected:Tt.void,received:n.parsedType}),mr}return Da(e.data)}}iR.create=t=>new iR({typeName:pr.ZodVoid,...Tr(t)});class Po extends $r{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Tt.array)return pt(r,{code:ct.invalid_type,expected:Tt.array,received:r.parsedType}),mr;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,c=r.data.length<i.exactLength.value;(o||c)&&(pt(r,{code:o?ct.too_big:ct.too_small,minimum:c?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(pt(r,{code:ct.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(pt(r,{code:ct.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,c)=>i.type._parseAsync(new Dc(r,o,r.path,c)))).then(o=>ua.mergeArray(n,o));const s=[...r.data].map((o,c)=>i.type._parseSync(new Dc(r,o,r.path,c)));return ua.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new Po({...this._def,minLength:{value:e,message:It.toString(r)}})}max(e,r){return new Po({...this._def,maxLength:{value:e,message:It.toString(r)}})}length(e,r){return new Po({...this._def,exactLength:{value:e,message:It.toString(r)}})}nonempty(e){return this.min(1,e)}}Po.create=(t,e)=>new Po({type:t,minLength:null,maxLength:null,exactLength:null,typeName:pr.ZodArray,...Tr(e)});function bf(t){if(t instanceof ci){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=jc.create(bf(n))}return new ci({...t._def,shape:()=>e})}else return t instanceof Po?new Po({...t._def,type:bf(t.element)}):t instanceof jc?jc.create(bf(t.unwrap())):t instanceof Gf?Gf.create(bf(t.unwrap())):t instanceof id?id.create(t.items.map(e=>bf(e))):t}class ci extends $r{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=qr.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Tt.object){const h=this._getOrReturnCtx(e);return pt(h,{code:ct.invalid_type,expected:Tt.object,received:h.parsedType}),mr}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof Lc&&this._def.unknownKeys==="strip"))for(const h in i.data)o.includes(h)||c.push(h);const u=[];for(const h of o){const g=s[h],v=i.data[h];u.push({key:{status:"valid",value:h},value:g._parse(new Dc(i,v,i.path,h)),alwaysSet:h in i.data})}if(this._def.catchall instanceof Lc){const h=this._def.unknownKeys;if(h==="passthrough")for(const g of c)u.push({key:{status:"valid",value:g},value:{status:"valid",value:i.data[g]}});else if(h==="strict")c.length>0&&(pt(i,{code:ct.unrecognized_keys,keys:c}),n.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const g of c){const v=i.data[g];u.push({key:{status:"valid",value:g},value:h._parse(new Dc(i,v,i.path,g)),alwaysSet:g in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const h=[];for(const g of u){const v=await g.key,w=await g.value;h.push({key:v,value:w,alwaysSet:g.alwaysSet})}return h}).then(h=>ua.mergeObjectSync(n,h)):ua.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return It.errToObj,new ci({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{const i=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:It.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new ci({...this._def,unknownKeys:"strip"})}passthrough(){return new ci({...this._def,unknownKeys:"passthrough"})}extend(e){return new ci({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ci({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:pr.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new ci({...this._def,catchall:e})}pick(e){const r={};for(const n of qr.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new ci({...this._def,shape:()=>r})}omit(e){const r={};for(const n of qr.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new ci({...this._def,shape:()=>r})}deepPartial(){return bf(this)}partial(e){const r={};for(const n of qr.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new ci({...this._def,shape:()=>r})}required(e){const r={};for(const n of qr.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof jc;)s=s._def.innerType;r[n]=s}return new ci({...this._def,shape:()=>r})}keyof(){return s$(qr.objectKeys(this.shape))}}ci.create=(t,e)=>new ci({shape:()=>t,unknownKeys:"strip",catchall:Lc.create(),typeName:pr.ZodObject,...Tr(e)});ci.strictCreate=(t,e)=>new ci({shape:()=>t,unknownKeys:"strict",catchall:Lc.create(),typeName:pr.ZodObject,...Tr(e)});ci.lazycreate=(t,e)=>new ci({shape:t,unknownKeys:"strip",catchall:Lc.create(),typeName:pr.ZodObject,...Tr(e)});class _y extends $r{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const c of s)if(c.result.status==="valid")return c.result;for(const c of s)if(c.result.status==="dirty")return r.common.issues.push(...c.ctx.common.issues),c.result;const o=s.map(c=>new Ol(c.ctx.common.issues));return pt(r,{code:ct.invalid_union,unionErrors:o}),mr}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const u of n){const h={...r,common:{...r.common,issues:[]},parent:null},g=u._parseSync({data:r.data,path:r.path,parent:h});if(g.status==="valid")return g;g.status==="dirty"&&!s&&(s={result:g,ctx:h}),h.common.issues.length&&o.push(h.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const c=o.map(u=>new Ol(u));return pt(r,{code:ct.invalid_union,unionErrors:c}),mr}}get options(){return this._def.options}}_y.create=(t,e)=>new _y({options:t,typeName:pr.ZodUnion,...Tr(e)});function RA(t,e){const r=vc(t),n=vc(e);if(t===e)return{valid:!0,data:t};if(r===Tt.object&&n===Tt.object){const i=qr.objectKeys(e),s=qr.objectKeys(t).filter(c=>i.indexOf(c)!==-1),o={...t,...e};for(const c of s){const u=RA(t[c],e[c]);if(!u.valid)return{valid:!1};o[c]=u.data}return{valid:!0,data:o}}else if(r===Tt.array&&n===Tt.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],c=e[s],u=RA(o,c);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return r===Tt.date&&n===Tt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Sy extends $r{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,o)=>{if(X3(s)||X3(o))return mr;const c=RA(s.value,o.value);return c.valid?((Z3(s)||Z3(o))&&r.dirty(),{status:r.value,value:c.data}):(pt(n,{code:ct.invalid_intersection_types}),mr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Sy.create=(t,e,r)=>new Sy({left:t,right:e,typeName:pr.ZodIntersection,...Tr(r)});class id extends $r{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Tt.array)return pt(n,{code:ct.invalid_type,expected:Tt.array,received:n.parsedType}),mr;if(n.data.length<this._def.items.length)return pt(n,{code:ct.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),mr;!this._def.rest&&n.data.length>this._def.items.length&&(pt(n,{code:ct.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,c)=>{const u=this._def.items[c]||this._def.rest;return u?u._parse(new Dc(n,o,n.path,c)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>ua.mergeArray(r,o)):ua.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new id({...this._def,rest:e})}}id.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new id({items:t,typeName:pr.ZodTuple,rest:null,...Tr(e)})};class sR extends $r{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Tt.map)return pt(n,{code:ct.invalid_type,expected:Tt.map,received:n.parsedType}),mr;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([c,u],h)=>({key:i._parse(new Dc(n,c,n.path,[h,"key"])),value:s._parse(new Dc(n,u,n.path,[h,"value"]))}));if(n.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const u of o){const h=await u.key,g=await u.value;if(h.status==="aborted"||g.status==="aborted")return mr;(h.status==="dirty"||g.status==="dirty")&&r.dirty(),c.set(h.value,g.value)}return{status:r.value,value:c}})}else{const c=new Map;for(const u of o){const h=u.key,g=u.value;if(h.status==="aborted"||g.status==="aborted")return mr;(h.status==="dirty"||g.status==="dirty")&&r.dirty(),c.set(h.value,g.value)}return{status:r.value,value:c}}}}sR.create=(t,e,r)=>new sR({valueType:e,keyType:t,typeName:pr.ZodMap,...Tr(r)});class Tp extends $r{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Tt.set)return pt(n,{code:ct.invalid_type,expected:Tt.set,received:n.parsedType}),mr;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(pt(n,{code:ct.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(pt(n,{code:ct.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(u){const h=new Set;for(const g of u){if(g.status==="aborted")return mr;g.status==="dirty"&&r.dirty(),h.add(g.value)}return{status:r.value,value:h}}const c=[...n.data.values()].map((u,h)=>s._parse(new Dc(n,u,n.path,h)));return n.common.async?Promise.all(c).then(u=>o(u)):o(c)}min(e,r){return new Tp({...this._def,minSize:{value:e,message:It.toString(r)}})}max(e,r){return new Tp({...this._def,maxSize:{value:e,message:It.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Tp.create=(t,e)=>new Tp({valueType:t,minSize:null,maxSize:null,typeName:pr.ZodSet,...Tr(e)});class aR extends $r{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}aR.create=(t,e)=>new aR({getter:t,typeName:pr.ZodLazy,...Tr(e)});class MA extends $r{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return pt(r,{received:r.data,code:ct.invalid_literal,expected:this._def.value}),mr}return{status:"valid",value:e.data}}get value(){return this._def.value}}MA.create=(t,e)=>new MA({value:t,typeName:pr.ZodLiteral,...Tr(e)});function s$(t,e){return new Wf({values:t,typeName:pr.ZodEnum,...Tr(e)})}class Wf extends $r{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return pt(r,{expected:qr.joinValues(n),received:r.parsedType,code:ct.invalid_type}),mr}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return pt(r,{received:r.data,code:ct.invalid_enum_value,options:n}),mr}return Da(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Wf.create(e,{...this._def,...r})}exclude(e,r=this._def){return Wf.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Wf.create=s$;class oR extends $r{_parse(e){const r=qr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Tt.string&&n.parsedType!==Tt.number){const i=qr.objectValues(r);return pt(n,{expected:qr.joinValues(i),received:n.parsedType,code:ct.invalid_type}),mr}if(this._cache||(this._cache=new Set(qr.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=qr.objectValues(r);return pt(n,{received:n.data,code:ct.invalid_enum_value,options:i}),mr}return Da(e.data)}get enum(){return this._def.values}}oR.create=(t,e)=>new oR({values:t,typeName:pr.ZodNativeEnum,...Tr(e)});class Cy extends $r{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Tt.promise&&r.common.async===!1)return pt(r,{code:ct.invalid_type,expected:Tt.promise,received:r.parsedType}),mr;const n=r.parsedType===Tt.promise?r.data:Promise.resolve(r.data);return Da(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Cy.create=(t,e)=>new Cy({type:t,typeName:pr.ZodPromise,...Tr(e)});class Hf extends $r{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===pr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{pt(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async c=>{if(r.value==="aborted")return mr;const u=await this._def.schema._parseAsync({data:c,path:n.path,parent:n});return u.status==="aborted"?mr:u.status==="dirty"||r.value==="dirty"?Qm(u.value):u});{if(r.value==="aborted")return mr;const c=this._def.schema._parseSync({data:o,path:n.path,parent:n});return c.status==="aborted"?mr:c.status==="dirty"||r.value==="dirty"?Qm(c.value):c}}if(i.type==="refinement"){const o=c=>{const u=i.refinement(c,s);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return c.status==="aborted"?mr:(c.status==="dirty"&&r.dirty(),o(c.value),{status:r.value,value:c.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>c.status==="aborted"?mr:(c.status==="dirty"&&r.dirty(),o(c.value).then(()=>({status:r.value,value:c.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!qf(o))return mr;const c=i.transform(o.value,s);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:c}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>qf(o)?Promise.resolve(i.transform(o.value,s)).then(c=>({status:r.value,value:c})):mr);qr.assertNever(i)}}Hf.create=(t,e,r)=>new Hf({schema:t,typeName:pr.ZodEffects,effect:e,...Tr(r)});Hf.createWithPreprocess=(t,e,r)=>new Hf({schema:e,effect:{type:"preprocess",transform:t},typeName:pr.ZodEffects,...Tr(r)});class jc extends $r{_parse(e){return this._getType(e)===Tt.undefined?Da(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}jc.create=(t,e)=>new jc({innerType:t,typeName:pr.ZodOptional,...Tr(e)});class Gf extends $r{_parse(e){return this._getType(e)===Tt.null?Da(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Gf.create=(t,e)=>new Gf({innerType:t,typeName:pr.ZodNullable,...Tr(e)});class DA extends $r{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Tt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}DA.create=(t,e)=>new DA({innerType:t,typeName:pr.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Tr(e)});class LA extends $r{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return wy(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ol(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ol(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}LA.create=(t,e)=>new LA({innerType:t,typeName:pr.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Tr(e)});class lR extends $r{_parse(e){if(this._getType(e)!==Tt.nan){const n=this._getOrReturnCtx(e);return pt(n,{code:ct.invalid_type,expected:Tt.nan,received:n.parsedType}),mr}return{status:"valid",value:e.data}}}lR.create=t=>new lR({typeName:pr.ZodNaN,...Tr(t)});class zae extends $r{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class jO extends $r{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?mr:s.status==="dirty"?(r.dirty(),Qm(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?mr:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new jO({in:e,out:r,typeName:pr.ZodPipeline})}}class BA extends $r{_parse(e){const r=this._def.innerType._parse(e),n=i=>(qf(i)&&(i.value=Object.freeze(i.value)),i);return wy(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}BA.create=(t,e)=>new BA({innerType:t,typeName:pr.ZodReadonly,...Tr(e)});var pr;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(pr||(pr={}));const Cr=ml.create,fo=rd.create;nd.create;const Mg=by.create,FA=zf.create;Lc.create;Po.create;const da=ci.create;_y.create;Sy.create;id.create;const ja=MA.create,a$=Wf.create;Cy.create;jc.create;Gf.create;const cR={string:(t=>ml.create({...t,coerce:!0})),number:(t=>rd.create({...t,coerce:!0})),boolean:(t=>by.create({...t,coerce:!0})),bigint:(t=>nd.create({...t,coerce:!0})),date:(t=>zf.create({...t,coerce:!0}))},NO=Cr().min(1,"Email is required").email("Please enter a valid email address").max(255,"Email must be less than 255 characters").toLowerCase().trim(),OO=Cr().min(8,"Password must be at least 8 characters long").max(128,"Password must be less than 128 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter, one lowercase letter, and one number"),Wae=Cr().min(1,"Full name is required").max(100,"Full name must be less than 100 characters").regex(/^[a-zA-Z\s'-]+$/,"Full name can only contain letters, spaces, hyphens, and apostrophes").trim(),Hae=da({fullName:Wae,email:NO,password:OO,confirmPassword:Cr().min(1,"Please confirm your password")}).refine(t=>t.password===t.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}),Gae=da({email:NO,password:Cr().min(1,"Password is required")});da({email:NO});da({password:OO,confirmPassword:Cr().min(1,"Please confirm your password")}).refine(t=>t.password===t.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});Cr().length(6,"OTP must be exactly 6 digits").regex(/^\d+$/,"OTP must contain only numbers");const bl=Qse,o$=N.createContext({}),sr=({...t})=>a.jsx(o$.Provider,{value:{name:t.name},children:a.jsx(rae,{...t})}),mx=()=>{const t=N.useContext(o$),e=N.useContext(l$),{getFieldState:r,formState:n}=hx(),i=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},l$=N.createContext({}),er=N.forwardRef(({className:t,...e},r)=>{const n=N.useId();return a.jsx(l$.Provider,{value:{id:n},children:a.jsx("div",{ref:r,className:Re("space-y-2",t),...e})})});er.displayName="FormItem";const tr=N.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:i}=mx();return a.jsx(Xt,{ref:r,className:Re(n&&"text-destructive",t),htmlFor:i,...e})});tr.displayName="FormLabel";const rr=N.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:s}=mx();return a.jsx(vd,{ref:e,id:n,"aria-describedby":r?`${i} ${s}`:`${i}`,"aria-invalid":!!r,"data-error":r?"true":void 0,...t})});rr.displayName="FormControl";const ss=N.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=mx();return a.jsx("p",{ref:r,id:n,className:Re("text-sm text-muted-foreground",t),...e})});ss.displayName="FormDescription";const fr=N.forwardRef(({className:t,children:e,...r},n)=>{const{error:i,formMessageId:s}=mx(),o=i?String(i?.message):e;return o?a.jsx("p",{ref:n,id:s,className:Re("text-sm font-medium text-destructive",t),...r,children:o}):null});fr.displayName="FormMessage";function Ou(t){if(typeof t!="string")return"";let e=t.replace(/\0/g,"");return e=e.replace(/[\x00-\x08\x0B-\x0C\x0E-\x1F\x7F]/g,""),e=e.trim(),e}function UA(t){if(typeof t!="string")return"";let e=t.trim().toLowerCase();return e=e.replace(/[^\w@.-]/g,""),e}const Ey=5,Kae=900*1e3,Yae=900*1e3,Xae="login_attempts_";function TO(t){return`${Xae}${t.toLowerCase()}`}function kO(t){try{const e=TO(t),r=localStorage.getItem(e);if(!r)return null;const n=JSON.parse(r);return n.lockedUntil&&Date.now()>n.lockedUntil||Date.now()-n.lastAttempt>Yae?($A(t),null):n}catch(e){return console.error("Error reading lockout entry:",e),null}}function Zae(t){const e=kO(t)||{attempts:0,lockedUntil:null,lastAttempt:0};e.attempts+=1,e.lastAttempt=Date.now(),e.attempts>=Ey&&(e.lockedUntil=Date.now()+Kae);try{const r=TO(t);localStorage.setItem(r,JSON.stringify(e))}catch(r){console.error("Error saving lockout entry:",r)}return{isLocked:e.lockedUntil!==null&&Date.now()<e.lockedUntil,remainingAttempts:Math.max(0,Ey-e.attempts),lockedUntil:e.lockedUntil}}function $A(t){try{const e=TO(t);localStorage.removeItem(e)}catch(e){console.error("Error clearing lockout:",e)}}function uR(t){const e=kO(t);if(!e||!e.lockedUntil)return{isLocked:!1,lockedUntil:null,remainingTime:null};const r=Date.now(),n=r<e.lockedUntil,i=n?e.lockedUntil-r:null;return{isLocked:n,lockedUntil:e.lockedUntil,remainingTime:i}}function dR(t){const e=kO(t);return e?e.lockedUntil&&Date.now()<e.lockedUntil?0:Math.max(0,Ey-e.attempts):Ey}function p_(t){const e=Math.floor(t/6e4),r=Math.floor(t%6e4/1e3);return e>0?`${e} minute${e!==1?"s":""} and ${r} second${r!==1?"s":""}`:`${r} second${r!==1?"s":""}`}const Qae=xd("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),sd=N.forwardRef(({className:t,variant:e,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:Re(Qae({variant:e}),t),...r}));sd.displayName="Alert";const Jae=N.forwardRef(({className:t,...e},r)=>a.jsx("h5",{ref:r,className:Re("mb-1 font-medium leading-none tracking-tight",t),...e}));Jae.displayName="AlertTitle";const ad=N.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Re("text-sm [&_p]:leading-relaxed",t),...e}));ad.displayName="AlertDescription";const eoe=()=>{const t=Kn(),{toast:e}=Gn(),[r,n]=N.useState(!1),[i,s]=N.useState(null),[o,c]=N.useState(null),u=xl({resolver:wl(Gae),mode:"onBlur",defaultValues:{email:"",password:""}}),h=u.watch("email");N.useEffect(()=>{if(h){const A=UA(h),C=uR(A),E=dR(A);s(C),c(E)}else s(null),c(null)},[h]);const g=async A=>{n(!0);try{const C=UA(A.email),E=uR(C);if(E.isLocked&&E.remainingTime){const M=p_(E.remainingTime);e({variant:"destructive",title:"Account Locked",description:`Too many failed login attempts. Please try again in ${M}.`}),s(E),n(!1);return}const{data:P,error:k}=await ye.auth.signInWithPassword({email:C,password:A.password});if(k){console.error("Login error:",k);const M=Zae(C),D=dR(C);if(c(D),s({isLocked:M.isLocked,lockedUntil:M.lockedUntil,remainingTime:M.lockedUntil?M.lockedUntil-Date.now():null}),M.isLocked&&M.lockedUntil){const R=p_(M.lockedUntil-Date.now());throw e(Ta.accountLocked(R)),k}throw D>0?e({variant:"destructive",title:"Login failed",description:`${k.message}. ${D} attempt${D!==1?"s":""} remaining before account lockout.`}):e({variant:"destructive",title:"Login failed",description:k.message}),k}if($A(C),s(null),c(null),!P?.user)throw console.error("No user data returned from login"),new Error("Login failed: No user data returned");const{data:{session:I},error:F}=await ye.auth.getSession();if(F)throw console.error("Error getting session after login:",F),F;if(!I)throw console.error("No session available after login"),new Error("Failed to get session after login");console.log("Login successful, session:",I?.user?.id),I.user&&!I.user.email_confirmed_at&&e(Ta.emailVerificationRequired()),e(Ta.loginSuccess()),await new Promise(M=>setTimeout(M,1e3)),console.log("Navigating to dashboard..."),t("/dashboard")}catch{}finally{n(!1)}},[v,w]=N.useState(!1),b=async()=>{w(!0);try{const{error:A}=await ye.auth.signInWithOAuth({provider:"google",options:{redirectTo:Vf("/auth/callback"),queryParams:{access_type:"offline",prompt:"consent"}}});A&&e({variant:"destructive",title:"Authentication Error",description:A.message})}catch(A){e({variant:"destructive",title:"Authentication Error",description:A.message||"Failed to sign in with Google"})}finally{setTimeout(()=>w(!1),3e3)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:a.jsxs(qe,{className:"w-full max-w-md shadow-lg",children:[a.jsxs(yt,{className:"space-y-1 text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"p-3 bg-gradient-secondary rounded-full",children:a.jsx(Ao,{className:"w-8 h-8 text-secondary-foreground"})})}),a.jsx(_t,{className:"text-2xl font-bold",children:"Welcome Back"}),a.jsx(cr,{children:"Sign in to access your gym account"})]}),a.jsxs(ze,{children:[i?.isLocked&&i.remainingTime&&a.jsxs(sd,{variant:"destructive",className:"mb-4",children:[a.jsx(Al,{className:"h-4 w-4"}),a.jsxs(ad,{children:["Account locked due to too many failed login attempts. Please try again in ",p_(i.remainingTime),"."]})]}),o!==null&&o>0&&o<5&&!i?.isLocked&&a.jsxs(sd,{className:"mb-4",children:[a.jsx(Al,{className:"h-4 w-4"}),a.jsxs(ad,{children:[o," attempt",o!==1?"s":""," remaining before account lockout."]})]}),a.jsx(bl,{...u,children:a.jsxs("form",{onSubmit:u.handleSubmit(g),className:"space-y-4",children:[a.jsx(sr,{control:u.control,name:"email",render:({field:A,fieldState:C})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Email"}),a.jsx(rr,{children:a.jsx(jt,{type:"email",placeholder:"your@email.com",disabled:r,...A})}),a.jsx(fr,{})]})}),a.jsx(sr,{control:u.control,name:"password",render:({field:A,fieldState:C})=>a.jsxs(er,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(tr,{children:"Password"}),a.jsx("button",{type:"button",onClick:()=>t("/forgot-password"),className:"text-xs text-secondary hover:underline",children:"Forgot password?"})]}),a.jsx(rr,{children:a.jsx(jt,{type:"password",placeholder:"",disabled:r,...A})}),a.jsx(fr,{})]})}),a.jsx(_e,{type:"submit",className:"w-full bg-secondary hover:bg-secondary/90",disabled:r||(i?.isLocked??!1)||Object.keys(u.formState.errors).length>0,children:r?"Signing in...":i?.isLocked?"Account Locked":"Sign In"})]})}),a.jsxs("div",{className:"relative my-6",children:[a.jsx(Ku,{}),a.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-card px-2 text-xs text-muted-foreground",children:"or continue with"})]}),a.jsx("div",{className:"space-y-3",children:a.jsxs(_e,{type:"button",variant:"outline",className:"w-full",onClick:b,disabled:v,children:[v?a.jsxs("svg",{className:"mr-2 h-4 w-4 animate-spin",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):a.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),v?"Connecting...":"Sign in with Google"]})}),a.jsxs("div",{className:"mt-6 text-center text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Don't have an account? "}),a.jsx("button",{onClick:()=>t("/register"),className:"text-secondary hover:underline font-medium",children:"Sign up"})]})]})]})})},toe=()=>{const t=Kn(),{toast:e}=Gn(),[r,n]=N.useState(!1),i=xl({resolver:wl(Hae),mode:"onBlur",defaultValues:{fullName:"",email:"",password:"",confirmPassword:""}}),s=async g=>{n(!0);try{const v=UA(g.email),w=Ou(g.fullName),{data:b,error:A}=await ye.auth.signUp({email:v,password:g.password,options:{data:{full_name:w},emailRedirectTo:Vf("/auth/callback")}});if(A)throw A;b?.user&&(await o(b.user.id,w),await new Promise(C=>setTimeout(C,500))),e({title:"Account created successfully",description:"Please check your email to verify your account before accessing the dashboard."}),t("/verify-email")}catch(v){Et({title:"Registration failed",description:v.message})}finally{n(!1)}},o=async(g,v)=>{try{const{data:w}=await ye.from("profiles").select("id").eq("id",g).single();if(!w){const{error:A}=await ye.from("profiles").insert({id:g,full_name:v});A&&A.code!=="23505"&&console.error("Error creating profile:",A)}const{data:b}=await ye.from("user_roles").select("id").eq("user_id",g).eq("role","member").single();if(!b){const{error:A}=await ye.from("user_roles").insert({user_id:g,role:"member"});A&&A.code!=="23505"&&console.error("Error creating role:",A)}}catch(w){console.error("Error ensuring profile and role:",w)}},[c,u]=N.useState(!1),h=async()=>{u(!0);try{const{error:g}=await ye.auth.signInWithOAuth({provider:"google",options:{redirectTo:Vf("/auth/callback"),queryParams:{access_type:"offline",prompt:"consent"}}});g&&Et({title:"Authentication Error",description:g.message})}catch(g){Et({title:"Authentication Error",description:g.message||"Failed to sign up with Google"})}finally{setTimeout(()=>u(!1),3e3)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:a.jsxs(qe,{className:"w-full max-w-md shadow-lg",children:[a.jsxs(yt,{className:"space-y-1 text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"p-3 bg-gradient-accent rounded-full",children:a.jsx(Ao,{className:"w-8 h-8 text-accent-foreground"})})}),a.jsx(_t,{className:"text-2xl font-bold",children:"Create Account"}),a.jsx(cr,{children:"Join our fitness community today"})]}),a.jsxs(ze,{children:[a.jsx(bl,{...i,children:a.jsxs("form",{onSubmit:i.handleSubmit(s),className:"space-y-4",children:[a.jsx(sr,{control:i.control,name:"fullName",render:({field:g})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Full Name"}),a.jsx(rr,{children:a.jsx(jt,{placeholder:"John Doe",disabled:r,...g})}),a.jsx(fr,{})]})}),a.jsx(sr,{control:i.control,name:"email",render:({field:g})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Email"}),a.jsx(rr,{children:a.jsx(jt,{type:"email",placeholder:"your@email.com",disabled:r,...g})}),a.jsx(fr,{})]})}),a.jsx(sr,{control:i.control,name:"password",render:({field:g})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Password"}),a.jsx(rr,{children:a.jsx(jt,{type:"password",placeholder:"",disabled:r,...g})}),a.jsx(ss,{className:"text-xs",children:"Must be at least 8 characters with uppercase, lowercase, and a number"}),a.jsx(fr,{})]})}),a.jsx(sr,{control:i.control,name:"confirmPassword",render:({field:g})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Confirm Password"}),a.jsx(rr,{children:a.jsx(jt,{type:"password",placeholder:"",disabled:r,...g})}),a.jsx(fr,{})]})}),a.jsx(_e,{type:"submit",className:"w-full bg-accent hover:bg-accent/90",disabled:r||Object.keys(i.formState.errors).length>0,children:r?"Creating Account...":"Create Account"})]})}),a.jsxs("div",{className:"relative my-6",children:[a.jsx(Ku,{}),a.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-card px-2 text-xs text-muted-foreground",children:"or continue with"})]}),a.jsx("div",{className:"space-y-3",children:a.jsxs(_e,{type:"button",variant:"outline",className:"w-full",onClick:h,disabled:c,children:[c?a.jsxs("svg",{className:"mr-2 h-4 w-4 animate-spin",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):a.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),c?"Connecting...":"Sign up with Google"]})}),a.jsxs("div",{className:"mt-6 text-center text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Already have an account? "}),a.jsx("button",{onClick:()=>t("/login"),className:"text-secondary hover:underline font-medium",children:"Sign in"})]})]})]})})},roe=()=>{const t=Kn(),{toast:e}=Gn(),[r,n]=N.useState(!1),[i,s]=N.useState(""),[o,c]=N.useState(!1),u=async h=>{h.preventDefault(),n(!0);try{const{error:g}=await ye.auth.resetPasswordForEmail(i,{redirectTo:Vf("/reset-password")});if(g)throw g;c(!0),e({title:"Reset code sent",description:"Check your email for the password reset code."})}catch(g){e({variant:"destructive",title:"Failed to send reset code",description:g.message})}finally{n(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:a.jsxs(qe,{className:"w-full max-w-md shadow-lg",children:[a.jsxs(yt,{className:"space-y-1 text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"p-3 bg-gradient-secondary rounded-full",children:a.jsx(Ao,{className:"w-8 h-8 text-secondary-foreground"})})}),a.jsx(_t,{className:"text-2xl font-bold",children:"Reset Password"}),a.jsx(cr,{children:o?"Check your email for the reset code":"Enter your email to receive a reset code"})]}),a.jsx(ze,{children:o?a.jsxs("div",{className:"space-y-4 text-center",children:[a.jsxs("p",{className:"text-sm text-muted-foreground",children:["A password reset code has been sent to ",a.jsx("strong",{children:i})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Click the link in the email or enter the code on the reset password page."}),a.jsx(_e,{onClick:()=>t("/reset-password"),className:"w-full bg-secondary hover:bg-secondary/90",children:"Go to Reset Password"}),a.jsxs(_e,{variant:"ghost",className:"w-full",onClick:()=>t("/login"),children:[a.jsx(eA,{className:"w-4 h-4 mr-2"}),"Back to Login"]})]}):a.jsxs("form",{onSubmit:u,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xt,{htmlFor:"email",children:"Email"}),a.jsx(jt,{id:"email",type:"email",placeholder:"your@email.com",value:i,onChange:h=>s(h.target.value),required:!0,disabled:r})]}),a.jsx(_e,{type:"submit",className:"w-full bg-secondary hover:bg-secondary/90",disabled:r,children:r?"Sending...":"Send Reset Code"}),a.jsxs(_e,{type:"button",variant:"ghost",className:"w-full",onClick:()=>t("/login"),children:[a.jsx(eA,{className:"w-4 h-4 mr-2"}),"Back to Login"]})]})})]})})};var noe=Object.defineProperty,ioe=Object.defineProperties,soe=Object.getOwnPropertyDescriptors,Ay=Object.getOwnPropertySymbols,c$=Object.prototype.hasOwnProperty,u$=Object.prototype.propertyIsEnumerable,fR=(t,e,r)=>e in t?noe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,aoe=(t,e)=>{for(var r in e||(e={}))c$.call(e,r)&&fR(t,r,e[r]);if(Ay)for(var r of Ay(e))u$.call(e,r)&&fR(t,r,e[r]);return t},ooe=(t,e)=>ioe(t,soe(e)),loe=(t,e)=>{var r={};for(var n in t)c$.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Ay)for(var n of Ay(t))e.indexOf(n)<0&&u$.call(t,n)&&(r[n]=t[n]);return r};function coe(t){let e=setTimeout(t,0),r=setTimeout(t,10),n=setTimeout(t,50);return[e,r,n]}function uoe(t){let e=N.useRef();return N.useEffect(()=>{e.current=t}),e.current}var doe=18,d$=40,foe=`${d$}px`,hoe=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function moe({containerRef:t,inputRef:e,pushPasswordManagerStrategy:r,isFocused:n}){let[i,s]=N.useState(!1),[o,c]=N.useState(!1),[u,h]=N.useState(!1),g=N.useMemo(()=>r==="none"?!1:(r==="increase-width"||r==="experimental-no-flickering")&&i&&o,[i,o,r]),v=N.useCallback(()=>{let w=t.current,b=e.current;if(!w||!b||u||r==="none")return;let A=w,C=A.getBoundingClientRect().left+A.offsetWidth,E=A.getBoundingClientRect().top+A.offsetHeight/2,P=C-doe,k=E;document.querySelectorAll(hoe).length===0&&document.elementFromPoint(P,k)===w||(s(!0),h(!0))},[t,e,u,r]);return N.useEffect(()=>{let w=t.current;if(!w||r==="none")return;function b(){let C=window.innerWidth-w.getBoundingClientRect().right;c(C>=d$)}b();let A=setInterval(b,1e3);return()=>{clearInterval(A)}},[t,r]),N.useEffect(()=>{let w=n||document.activeElement===e.current;if(r==="none"||!w)return;let b=setTimeout(v,0),A=setTimeout(v,2e3),C=setTimeout(v,5e3),E=setTimeout(()=>{h(!0)},6e3);return()=>{clearTimeout(b),clearTimeout(A),clearTimeout(C),clearTimeout(E)}},[e,n,r,v]),{hasPWMBadge:i,willPushPWMBadge:g,PWM_BADGE_SPACE_WIDTH:foe}}var f$=N.createContext({}),h$=N.forwardRef((t,e)=>{var r=t,{value:n,onChange:i,maxLength:s,textAlign:o="left",pattern:c,placeholder:u,inputMode:h="numeric",onComplete:g,pushPasswordManagerStrategy:v="increase-width",pasteTransformer:w,containerClassName:b,noScriptCSSFallback:A=poe,render:C,children:E}=r,P=loe(r,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),k,I,F,M,D;let[R,$]=N.useState(typeof P.defaultValue=="string"?P.defaultValue:""),z=n??R,G=uoe(z),W=N.useCallback(Te=>{i?.(Te),$(Te)},[i]),V=N.useMemo(()=>c?typeof c=="string"?new RegExp(c):c:null,[c]),K=N.useRef(null),q=N.useRef(null),Y=N.useRef({value:z,onChange:W,isIOS:typeof window<"u"&&((I=(k=window?.CSS)==null?void 0:k.supports)==null?void 0:I.call(k,"-webkit-touch-callout","none"))}),J=N.useRef({prev:[(F=K.current)==null?void 0:F.selectionStart,(M=K.current)==null?void 0:M.selectionEnd,(D=K.current)==null?void 0:D.selectionDirection]});N.useImperativeHandle(e,()=>K.current,[]),N.useEffect(()=>{let Te=K.current,Ge=q.current;if(!Te||!Ge)return;Y.current.value!==Te.value&&Y.current.onChange(Te.value),J.current.prev=[Te.selectionStart,Te.selectionEnd,Te.selectionDirection];function gt(){if(document.activeElement!==Te){se(null),xe(null);return}let dt=Te.selectionStart,de=Te.selectionEnd,he=Te.selectionDirection,Ie=Te.maxLength,Qe=Te.value,Ke=J.current.prev,Ye=-1,Xe=-1,vt;if(Qe.length!==0&&dt!==null&&de!==null){let tn=dt===de,Es=dt===Qe.length&&Qe.length<Ie;if(tn&&!Es){let _r=dt;if(_r===0)Ye=0,Xe=1,vt="forward";else if(_r===Ie)Ye=_r-1,Xe=_r,vt="backward";else if(Ie>1&&Qe.length>1){let tt=0;if(Ke[0]!==null&&Ke[1]!==null){vt=_r<Ke[1]?"backward":"forward";let Gr=Ke[0]===Ke[1]&&Ke[0]<Ie;vt==="backward"&&!Gr&&(tt=-1)}Ye=tt+_r,Xe=tt+_r+1}}Ye!==-1&&Xe!==-1&&Ye!==Xe&&K.current.setSelectionRange(Ye,Xe,vt)}let Ft=Ye!==-1?Ye:dt,br=Xe!==-1?Xe:de,an=vt??he;se(Ft),xe(br),J.current.prev=[Ft,br,an]}if(document.addEventListener("selectionchange",gt,{capture:!0}),gt(),document.activeElement===Te&&ue(!0),!document.getElementById("input-otp-style")){let dt=document.createElement("style");if(dt.id="input-otp-style",document.head.appendChild(dt),dt.sheet){let de="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Pm(dt.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Pm(dt.sheet,`[data-input-otp]:autofill { ${de} }`),Pm(dt.sheet,`[data-input-otp]:-webkit-autofill { ${de} }`),Pm(dt.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Pm(dt.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let lt=()=>{Ge&&Ge.style.setProperty("--root-height",`${Te.clientHeight}px`)};lt();let Ct=new ResizeObserver(lt);return Ct.observe(Te),()=>{document.removeEventListener("selectionchange",gt,{capture:!0}),Ct.disconnect()}},[]);let[ne,te]=N.useState(!1),[Q,ue]=N.useState(!1),[ae,se]=N.useState(null),[me,xe]=N.useState(null);N.useEffect(()=>{coe(()=>{var Te,Ge,gt,lt;(Te=K.current)==null||Te.dispatchEvent(new Event("input"));let Ct=(Ge=K.current)==null?void 0:Ge.selectionStart,dt=(gt=K.current)==null?void 0:gt.selectionEnd,de=(lt=K.current)==null?void 0:lt.selectionDirection;Ct!==null&&dt!==null&&(se(Ct),xe(dt),J.current.prev=[Ct,dt,de])})},[z,Q]),N.useEffect(()=>{G!==void 0&&z!==G&&G.length<s&&z.length===s&&g?.(z)},[s,g,G,z]);let Ue=moe({containerRef:q,inputRef:K,pushPasswordManagerStrategy:v,isFocused:Q}),Pe=N.useCallback(Te=>{let Ge=Te.currentTarget.value.slice(0,s);if(Ge.length>0&&V&&!V.test(Ge)){Te.preventDefault();return}typeof G=="string"&&Ge.length<G.length&&document.dispatchEvent(new Event("selectionchange")),W(Ge)},[s,W,G,V]),Se=N.useCallback(()=>{var Te;if(K.current){let Ge=Math.min(K.current.value.length,s-1),gt=K.current.value.length;(Te=K.current)==null||Te.setSelectionRange(Ge,gt),se(Ge),xe(gt)}ue(!0)},[s]),je=N.useCallback(Te=>{var Ge,gt;let lt=K.current;if(!w&&(!Y.current.isIOS||!Te.clipboardData||!lt))return;let Ct=Te.clipboardData.getData("text/plain"),dt=w?w(Ct):Ct;Te.preventDefault();let de=(Ge=K.current)==null?void 0:Ge.selectionStart,he=(gt=K.current)==null?void 0:gt.selectionEnd,Ie=(de!==he?z.slice(0,de)+dt+z.slice(he):z.slice(0,de)+dt+z.slice(de)).slice(0,s);if(Ie.length>0&&V&&!V.test(Ie))return;lt.value=Ie,W(Ie);let Qe=Math.min(Ie.length,s-1),Ke=Ie.length;lt.setSelectionRange(Qe,Ke),se(Qe),xe(Ke)},[s,W,V,z]),Ee=N.useMemo(()=>({position:"relative",cursor:P.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[P.disabled]),Fe=N.useMemo(()=>({position:"absolute",inset:0,width:Ue.willPushPWMBadge?`calc(100% + ${Ue.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:Ue.willPushPWMBadge?`inset(0 ${Ue.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:o,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[Ue.PWM_BADGE_SPACE_WIDTH,Ue.willPushPWMBadge,o]),Ce=N.useMemo(()=>N.createElement("input",ooe(aoe({autoComplete:P.autoComplete||"one-time-code"},P),{"data-input-otp":!0,"data-input-otp-placeholder-shown":z.length===0||void 0,"data-input-otp-mss":ae,"data-input-otp-mse":me,inputMode:h,pattern:V?.source,"aria-placeholder":u,style:Fe,maxLength:s,value:z,ref:K,onPaste:Te=>{var Ge;je(Te),(Ge=P.onPaste)==null||Ge.call(P,Te)},onChange:Pe,onMouseOver:Te=>{var Ge;te(!0),(Ge=P.onMouseOver)==null||Ge.call(P,Te)},onMouseLeave:Te=>{var Ge;te(!1),(Ge=P.onMouseLeave)==null||Ge.call(P,Te)},onFocus:Te=>{var Ge;Se(),(Ge=P.onFocus)==null||Ge.call(P,Te)},onBlur:Te=>{var Ge;ue(!1),(Ge=P.onBlur)==null||Ge.call(P,Te)}})),[Pe,Se,je,h,Fe,s,me,ae,P,V?.source,z]),be=N.useMemo(()=>({slots:Array.from({length:s}).map((Te,Ge)=>{var gt;let lt=Q&&ae!==null&&me!==null&&(ae===me&&Ge===ae||Ge>=ae&&Ge<me),Ct=z[Ge]!==void 0?z[Ge]:null,dt=z[0]!==void 0?null:(gt=u?.[Ge])!=null?gt:null;return{char:Ct,placeholderChar:dt,isActive:lt,hasFakeCaret:lt&&Ct===null}}),isFocused:Q,isHovering:!P.disabled&&ne}),[Q,ne,s,me,ae,P.disabled,z]),He=N.useMemo(()=>C?C(be):N.createElement(f$.Provider,{value:be},E),[E,be,C]);return N.createElement(N.Fragment,null,A!==null&&N.createElement("noscript",null,N.createElement("style",null,A)),N.createElement("div",{ref:q,"data-input-otp-container":!0,style:Ee,className:b},He,N.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Ce)))});h$.displayName="Input";function Pm(t,e){try{t.insertRule(e)}catch{console.error("input-otp could not insert CSS rule:",e)}}var poe=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const m$=N.forwardRef(({className:t,containerClassName:e,...r},n)=>a.jsx(h$,{ref:n,containerClassName:Re("flex items-center gap-2 has-[:disabled]:opacity-50",e),className:Re("disabled:cursor-not-allowed",t),...r}));m$.displayName="InputOTP";const p$=N.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Re("flex items-center",t),...e}));p$.displayName="InputOTPGroup";const Tu=N.forwardRef(({index:t,className:e,...r},n)=>{const i=N.useContext(f$),{char:s,hasFakeCaret:o,isActive:c}=i.slots[t];return a.jsxs("div",{ref:n,className:Re("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",c&&"z-10 ring-2 ring-ring ring-offset-background",e),...r,children:[s,o&&a.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"animate-caret-blink h-4 w-px bg-foreground duration-1000"})})]})});Tu.displayName="InputOTPSlot";const goe=N.forwardRef(({...t},e)=>a.jsx("div",{ref:e,role:"separator",...t,children:a.jsx(xY,{})}));goe.displayName="InputOTPSeparator";const voe=()=>{const t=Kn(),{toast:e}=Gn(),[r,n]=N.useState(!1),[i,s]=N.useState(""),[o,c]=N.useState(""),[u,h]=N.useState(""),[g,v]=N.useState(""),[w,b]=N.useState(!1);N.useEffect(()=>{(async()=>{const{data:{session:E}}=await ye.auth.getSession();E&&b(!0)})()},[]);const A=async C=>{if(C.preventDefault(),u!==g){Et({title:"Passwords don't match",description:"Please make sure both passwords are the same."});return}n(!0);try{if(w){const{error:E}=await ye.auth.updateUser({password:u});if(E)throw E}else{if(i.length!==6)throw new Error("Please enter a valid 6-digit code");const{error:E}=await ye.auth.verifyOtp({email:o,token:i,type:"recovery"});if(E)throw E;const{error:P}=await ye.auth.updateUser({password:u});if(P)throw P}e(Ta.passwordReset()),t("/login")}catch(E){Et({title:"Password reset failed",description:E.message})}finally{n(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:a.jsxs(qe,{className:"w-full max-w-md shadow-lg",children:[a.jsxs(yt,{className:"space-y-1 text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"p-3 bg-gradient-secondary rounded-full",children:a.jsx(Ao,{className:"w-8 h-8 text-secondary-foreground"})})}),a.jsx(_t,{className:"text-2xl font-bold",children:"Set New Password"}),a.jsx(cr,{children:w?"Enter your new password below":"Enter the code from your email and your new password"})]}),a.jsx(ze,{children:a.jsxs("form",{onSubmit:A,className:"space-y-4",children:[!w&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xt,{htmlFor:"email",children:"Email"}),a.jsx(jt,{id:"email",type:"email",placeholder:"your@email.com",value:o,onChange:C=>c(C.target.value),required:!0,disabled:r})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xt,{className:"text-center block",children:"Verification Code"}),a.jsx("div",{className:"flex justify-center",children:a.jsx(m$,{maxLength:6,value:i,onChange:s,disabled:r,children:a.jsxs(p$,{children:[a.jsx(Tu,{index:0}),a.jsx(Tu,{index:1}),a.jsx(Tu,{index:2}),a.jsx(Tu,{index:3}),a.jsx(Tu,{index:4}),a.jsx(Tu,{index:5})]})})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xt,{htmlFor:"newPassword",children:"New Password"}),a.jsx(jt,{id:"newPassword",type:"password",placeholder:"",value:u,onChange:C=>h(C.target.value),required:!0,disabled:r,minLength:6})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xt,{htmlFor:"confirmPassword",children:"Confirm New Password"}),a.jsx(jt,{id:"confirmPassword",type:"password",placeholder:"",value:g,onChange:C=>v(C.target.value),required:!0,disabled:r,minLength:6})]}),a.jsx(_e,{type:"submit",className:"w-full bg-secondary hover:bg-secondary/90",disabled:r,children:r?"Resetting...":"Reset Password"}),a.jsx(_e,{type:"button",variant:"ghost",className:"w-full",onClick:()=>t("/login"),disabled:r,children:"Back to Login"})]})})]})})};var df={},g_,hR;function yoe(){return hR||(hR=1,g_=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),g_}var v_={},hc={},mR;function _d(){if(mR)return hc;mR=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return hc.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},hc.getSymbolTotalCodewords=function(n){return e[n]},hc.getBCHDigit=function(r){let n=0;for(;r!==0;)n++,r>>>=1;return n},hc.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');t=n},hc.isKanjiModeEnabled=function(){return typeof t<"u"},hc.toSJIS=function(n){return t(n)},hc}var y_={},pR;function PO(){return pR||(pR=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}}})(y_)),y_}var x_,gR;function xoe(){if(gR)return x_;gR=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const r=Math.floor(e/8);return(this.buffer[r]>>>7-e%8&1)===1},put:function(e,r){for(let n=0;n<r;n++)this.putBit((e>>>r-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),e&&(this.buffer[r]|=128>>>this.length%8),this.length++}},x_=t,x_}var w_,vR;function woe(){if(vR)return w_;vR=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,r,n,i){const s=e*this.size+r;this.data[s]=n,i&&(this.reservedBit[s]=!0)},t.prototype.get=function(e,r){return this.data[e*this.size+r]},t.prototype.xor=function(e,r,n){this.data[e*this.size+r]^=n},t.prototype.isReserved=function(e,r){return this.reservedBit[e*this.size+r]},w_=t,w_}var b_={},yR;function boe(){return yR||(yR=1,(function(t){const e=_d().getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,s=e(n),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,c=[s-7];for(let u=1;u<i-1;u++)c[u]=c[u-1]-o;return c.push(6),c.reverse()},t.getPositions=function(n){const i=[],s=t.getRowColCoords(n),o=s.length;for(let c=0;c<o;c++)for(let u=0;u<o;u++)c===0&&u===0||c===0&&u===o-1||c===o-1&&u===0||i.push([s[c],s[u]]);return i}})(b_)),b_}var __={},xR;function _oe(){if(xR)return __;xR=1;const t=_d().getSymbolSize,e=7;return __.getPositions=function(n){const i=t(n);return[[0,0],[i-e,0],[0,i-e]]},__}var S_={},wR;function Soe(){return wR||(wR=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,c=0,u=0,h=null,g=null;for(let v=0;v<s;v++){c=u=0,h=g=null;for(let w=0;w<s;w++){let b=i.get(v,w);b===h?c++:(c>=5&&(o+=e.N1+(c-5)),h=b,c=1),b=i.get(w,v),b===g?u++:(u>=5&&(o+=e.N1+(u-5)),g=b,u=1)}c>=5&&(o+=e.N1+(c-5)),u>=5&&(o+=e.N1+(u-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let c=0;c<s-1;c++)for(let u=0;u<s-1;u++){const h=i.get(c,u)+i.get(c,u+1)+i.get(c+1,u)+i.get(c+1,u+1);(h===4||h===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,c=0,u=0;for(let h=0;h<s;h++){c=u=0;for(let g=0;g<s;g++)c=c<<1&2047|i.get(h,g),g>=10&&(c===1488||c===93)&&o++,u=u<<1&2047|i.get(g,h),g>=10&&(u===1488||u===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let u=0;u<o;u++)s+=i.data[u];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function r(n,i,s){switch(n){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(i,s){const o=s.size;for(let c=0;c<o;c++)for(let u=0;u<o;u++)s.isReserved(u,c)||s.xor(u,c,r(i,u,c))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let c=0,u=1/0;for(let h=0;h<o;h++){s(h),t.applyMask(h,i);const g=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(h,i),g<u&&(u=g,c=h)}return c}})(S_)),S_}var _v={},bR;function g$(){if(bR)return _v;bR=1;const t=PO(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],r=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return _v.getBlocksCount=function(i,s){switch(s){case t.L:return e[(i-1)*4+0];case t.M:return e[(i-1)*4+1];case t.Q:return e[(i-1)*4+2];case t.H:return e[(i-1)*4+3];default:return}},_v.getTotalCodewordsCount=function(i,s){switch(s){case t.L:return r[(i-1)*4+0];case t.M:return r[(i-1)*4+1];case t.Q:return r[(i-1)*4+2];case t.H:return r[(i-1)*4+3];default:return}},_v}var C_={},Im={},_R;function Coe(){if(_R)return Im;_R=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let n=1;for(let i=0;i<255;i++)t[i]=n,e[n]=i,n<<=1,n&256&&(n^=285);for(let i=255;i<512;i++)t[i]=t[i-255]})(),Im.log=function(n){if(n<1)throw new Error("log("+n+")");return e[n]},Im.exp=function(n){return t[n]},Im.mul=function(n,i){return n===0||i===0?0:t[e[n]+e[i]]},Im}var SR;function Eoe(){return SR||(SR=1,(function(t){const e=Coe();t.mul=function(n,i){const s=new Uint8Array(n.length+i.length-1);for(let o=0;o<n.length;o++)for(let c=0;c<i.length;c++)s[o+c]^=e.mul(n[o],i[c]);return s},t.mod=function(n,i){let s=new Uint8Array(n);for(;s.length-i.length>=0;){const o=s[0];for(let u=0;u<i.length;u++)s[u]^=e.mul(i[u],o);let c=0;for(;c<s.length&&s[c]===0;)c++;s=s.slice(c)}return s},t.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let s=0;s<n;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(C_)),C_}var E_,CR;function Aoe(){if(CR)return E_;CR=1;const t=Eoe();function e(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(n){this.degree=n,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(n.length+this.degree);i.set(n);const s=t.mod(i,this.genPoly),o=this.degree-s.length;if(o>0){const c=new Uint8Array(this.degree);return c.set(s,o),c}return s},E_=e,E_}var A_={},j_={},N_={},ER;function v$(){return ER||(ER=1,N_.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),N_}var Eo={},AR;function y$(){if(AR)return Eo;AR=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+`)(?:.|[\r
]))+`;Eo.KANJI=new RegExp(r,"g"),Eo.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Eo.BYTE=new RegExp(n,"g"),Eo.NUMERIC=new RegExp(t,"g"),Eo.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+r+"$"),s=new RegExp("^"+t+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Eo.testKanji=function(u){return i.test(u)},Eo.testNumeric=function(u){return s.test(u)},Eo.testAlphanumeric=function(u){return o.test(u)},Eo}var jR;function Sd(){return jR||(jR=1,(function(t){const e=v$(),r=y$();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return r.testNumeric(s)?t.NUMERIC:r.testAlphanumeric(s)?t.ALPHANUMERIC:r.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return n(s)}catch{return o}}})(j_)),j_}var NR;function joe(){return NR||(NR=1,(function(t){const e=_d(),r=g$(),n=PO(),i=Sd(),s=v$(),o=7973,c=e.getBCHDigit(o);function u(w,b,A){for(let C=1;C<=40;C++)if(b<=t.getCapacity(C,A,w))return C}function h(w,b){return i.getCharCountIndicator(w,b)+4}function g(w,b){let A=0;return w.forEach(function(C){const E=h(C.mode,b);A+=E+C.getBitsLength()}),A}function v(w,b){for(let A=1;A<=40;A++)if(g(w,A)<=t.getCapacity(A,b,i.MIXED))return A}t.from=function(b,A){return s.isValid(b)?parseInt(b,10):A},t.getCapacity=function(b,A,C){if(!s.isValid(b))throw new Error("Invalid QR Code version");typeof C>"u"&&(C=i.BYTE);const E=e.getSymbolTotalCodewords(b),P=r.getTotalCodewordsCount(b,A),k=(E-P)*8;if(C===i.MIXED)return k;const I=k-h(C,b);switch(C){case i.NUMERIC:return Math.floor(I/10*3);case i.ALPHANUMERIC:return Math.floor(I/11*2);case i.KANJI:return Math.floor(I/13);case i.BYTE:default:return Math.floor(I/8)}},t.getBestVersionForData=function(b,A){let C;const E=n.from(A,n.M);if(Array.isArray(b)){if(b.length>1)return v(b,E);if(b.length===0)return 1;C=b[0]}else C=b;return u(C.mode,C.getLength(),E)},t.getEncodedBits=function(b){if(!s.isValid(b)||b<7)throw new Error("Invalid QR Code version");let A=b<<12;for(;e.getBCHDigit(A)-c>=0;)A^=o<<e.getBCHDigit(A)-c;return b<<12|A}})(A_)),A_}var O_={},OR;function Noe(){if(OR)return O_;OR=1;const t=_d(),e=1335,r=21522,n=t.getBCHDigit(e);return O_.getEncodedBits=function(s,o){const c=s.bit<<3|o;let u=c<<10;for(;t.getBCHDigit(u)-n>=0;)u^=e<<t.getBCHDigit(u)-n;return(c<<10|u)^r},O_}var T_={},k_,TR;function Ooe(){if(TR)return k_;TR=1;const t=Sd();function e(r){this.mode=t.NUMERIC,this.data=r.toString()}return e.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){let i,s,o;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),o=parseInt(s,10),n.put(o,10);const c=this.data.length-i;c>0&&(s=this.data.substr(i),o=parseInt(s,10),n.put(o,c*3+1))},k_=e,k_}var P_,kR;function Toe(){if(kR)return P_;kR=1;const t=Sd(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(n){this.mode=t.ALPHANUMERIC,this.data=n}return r.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let o=e.indexOf(this.data[s])*45;o+=e.indexOf(this.data[s+1]),i.put(o,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},P_=r,P_}var I_,PR;function koe(){if(PR)return I_;PR=1;const t=Sd();function e(r){this.mode=t.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}return e.getBitsLength=function(n){return n*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){for(let n=0,i=this.data.length;n<i;n++)r.put(this.data[n],8)},I_=e,I_}var R_,IR;function Poe(){if(IR)return R_;IR=1;const t=Sd(),e=_d();function r(n){this.mode=t.KANJI,this.data=n}return r.getBitsLength=function(i){return i*13},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(n){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),n.put(s,13)}},R_=r,R_}var M_={exports:{}},RR;function Ioe(){return RR||(RR=1,(function(t){var e={single_source_shortest_paths:function(r,n,i){var s={},o={};o[n]=0;var c=e.PriorityQueue.make();c.push(n,0);for(var u,h,g,v,w,b,A,C,E;!c.empty();){u=c.pop(),h=u.value,v=u.cost,w=r[h]||{};for(g in w)w.hasOwnProperty(g)&&(b=w[g],A=v+b,C=o[g],E=typeof o[g]>"u",(E||C>A)&&(o[g]=A,c.push(g,A),s[g]=h))}if(typeof i<"u"&&typeof o[i]>"u"){var P=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(P)}return s},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],s=n;s;)i.push(s),r[s],s=r[s];return i.reverse(),i},find_path:function(r,n,i){var s=e.single_source_shortest_paths(r,n,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,i={},s;r=r||{};for(s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(M_)),M_.exports}var MR;function Roe(){return MR||(MR=1,(function(t){const e=Sd(),r=Ooe(),n=Toe(),i=koe(),s=Poe(),o=y$(),c=_d(),u=Ioe();function h(P){return unescape(encodeURIComponent(P)).length}function g(P,k,I){const F=[];let M;for(;(M=P.exec(I))!==null;)F.push({data:M[0],index:M.index,mode:k,length:M[0].length});return F}function v(P){const k=g(o.NUMERIC,e.NUMERIC,P),I=g(o.ALPHANUMERIC,e.ALPHANUMERIC,P);let F,M;return c.isKanjiModeEnabled()?(F=g(o.BYTE,e.BYTE,P),M=g(o.KANJI,e.KANJI,P)):(F=g(o.BYTE_KANJI,e.BYTE,P),M=[]),k.concat(I,F,M).sort(function(R,$){return R.index-$.index}).map(function(R){return{data:R.data,mode:R.mode,length:R.length}})}function w(P,k){switch(k){case e.NUMERIC:return r.getBitsLength(P);case e.ALPHANUMERIC:return n.getBitsLength(P);case e.KANJI:return s.getBitsLength(P);case e.BYTE:return i.getBitsLength(P)}}function b(P){return P.reduce(function(k,I){const F=k.length-1>=0?k[k.length-1]:null;return F&&F.mode===I.mode?(k[k.length-1].data+=I.data,k):(k.push(I),k)},[])}function A(P){const k=[];for(let I=0;I<P.length;I++){const F=P[I];switch(F.mode){case e.NUMERIC:k.push([F,{data:F.data,mode:e.ALPHANUMERIC,length:F.length},{data:F.data,mode:e.BYTE,length:F.length}]);break;case e.ALPHANUMERIC:k.push([F,{data:F.data,mode:e.BYTE,length:F.length}]);break;case e.KANJI:k.push([F,{data:F.data,mode:e.BYTE,length:h(F.data)}]);break;case e.BYTE:k.push([{data:F.data,mode:e.BYTE,length:h(F.data)}])}}return k}function C(P,k){const I={},F={start:{}};let M=["start"];for(let D=0;D<P.length;D++){const R=P[D],$=[];for(let z=0;z<R.length;z++){const G=R[z],W=""+D+z;$.push(W),I[W]={node:G,lastCount:0},F[W]={};for(let V=0;V<M.length;V++){const K=M[V];I[K]&&I[K].node.mode===G.mode?(F[K][W]=w(I[K].lastCount+G.length,G.mode)-w(I[K].lastCount,G.mode),I[K].lastCount+=G.length):(I[K]&&(I[K].lastCount=G.length),F[K][W]=w(G.length,G.mode)+4+e.getCharCountIndicator(G.mode,k))}}M=$}for(let D=0;D<M.length;D++)F[M[D]].end=0;return{map:F,table:I}}function E(P,k){let I;const F=e.getBestModeForData(P);if(I=e.from(k,F),I!==e.BYTE&&I.bit<F.bit)throw new Error('"'+P+'" cannot be encoded with mode '+e.toString(I)+`.
 Suggested mode is: `+e.toString(F));switch(I===e.KANJI&&!c.isKanjiModeEnabled()&&(I=e.BYTE),I){case e.NUMERIC:return new r(P);case e.ALPHANUMERIC:return new n(P);case e.KANJI:return new s(P);case e.BYTE:return new i(P)}}t.fromArray=function(k){return k.reduce(function(I,F){return typeof F=="string"?I.push(E(F,null)):F.data&&I.push(E(F.data,F.mode)),I},[])},t.fromString=function(k,I){const F=v(k,c.isKanjiModeEnabled()),M=A(F),D=C(M,I),R=u.find_path(D.map,"start","end"),$=[];for(let z=1;z<R.length-1;z++)$.push(D.table[R[z]].node);return t.fromArray(b($))},t.rawSplit=function(k){return t.fromArray(v(k,c.isKanjiModeEnabled()))}})(T_)),T_}var DR;function Moe(){if(DR)return v_;DR=1;const t=_d(),e=PO(),r=xoe(),n=woe(),i=boe(),s=_oe(),o=Soe(),c=g$(),u=Aoe(),h=joe(),g=Noe(),v=Sd(),w=Roe();function b(D,R){const $=D.size,z=s.getPositions(R);for(let G=0;G<z.length;G++){const W=z[G][0],V=z[G][1];for(let K=-1;K<=7;K++)if(!(W+K<=-1||$<=W+K))for(let q=-1;q<=7;q++)V+q<=-1||$<=V+q||(K>=0&&K<=6&&(q===0||q===6)||q>=0&&q<=6&&(K===0||K===6)||K>=2&&K<=4&&q>=2&&q<=4?D.set(W+K,V+q,!0,!0):D.set(W+K,V+q,!1,!0))}}function A(D){const R=D.size;for(let $=8;$<R-8;$++){const z=$%2===0;D.set($,6,z,!0),D.set(6,$,z,!0)}}function C(D,R){const $=i.getPositions(R);for(let z=0;z<$.length;z++){const G=$[z][0],W=$[z][1];for(let V=-2;V<=2;V++)for(let K=-2;K<=2;K++)V===-2||V===2||K===-2||K===2||V===0&&K===0?D.set(G+V,W+K,!0,!0):D.set(G+V,W+K,!1,!0)}}function E(D,R){const $=D.size,z=h.getEncodedBits(R);let G,W,V;for(let K=0;K<18;K++)G=Math.floor(K/3),W=K%3+$-8-3,V=(z>>K&1)===1,D.set(G,W,V,!0),D.set(W,G,V,!0)}function P(D,R,$){const z=D.size,G=g.getEncodedBits(R,$);let W,V;for(W=0;W<15;W++)V=(G>>W&1)===1,W<6?D.set(W,8,V,!0):W<8?D.set(W+1,8,V,!0):D.set(z-15+W,8,V,!0),W<8?D.set(8,z-W-1,V,!0):W<9?D.set(8,15-W-1+1,V,!0):D.set(8,15-W-1,V,!0);D.set(z-8,8,1,!0)}function k(D,R){const $=D.size;let z=-1,G=$-1,W=7,V=0;for(let K=$-1;K>0;K-=2)for(K===6&&K--;;){for(let q=0;q<2;q++)if(!D.isReserved(G,K-q)){let Y=!1;V<R.length&&(Y=(R[V]>>>W&1)===1),D.set(G,K-q,Y),W--,W===-1&&(V++,W=7)}if(G+=z,G<0||$<=G){G-=z,z=-z;break}}}function I(D,R,$){const z=new r;$.forEach(function(q){z.put(q.mode.bit,4),z.put(q.getLength(),v.getCharCountIndicator(q.mode,D)),q.write(z)});const G=t.getSymbolTotalCodewords(D),W=c.getTotalCodewordsCount(D,R),V=(G-W)*8;for(z.getLengthInBits()+4<=V&&z.put(0,4);z.getLengthInBits()%8!==0;)z.putBit(0);const K=(V-z.getLengthInBits())/8;for(let q=0;q<K;q++)z.put(q%2?17:236,8);return F(z,D,R)}function F(D,R,$){const z=t.getSymbolTotalCodewords(R),G=c.getTotalCodewordsCount(R,$),W=z-G,V=c.getBlocksCount(R,$),K=z%V,q=V-K,Y=Math.floor(z/V),J=Math.floor(W/V),ne=J+1,te=Y-J,Q=new u(te);let ue=0;const ae=new Array(V),se=new Array(V);let me=0;const xe=new Uint8Array(D.buffer);for(let Ee=0;Ee<V;Ee++){const Fe=Ee<q?J:ne;ae[Ee]=xe.slice(ue,ue+Fe),se[Ee]=Q.encode(ae[Ee]),ue+=Fe,me=Math.max(me,Fe)}const Ue=new Uint8Array(z);let Pe=0,Se,je;for(Se=0;Se<me;Se++)for(je=0;je<V;je++)Se<ae[je].length&&(Ue[Pe++]=ae[je][Se]);for(Se=0;Se<te;Se++)for(je=0;je<V;je++)Ue[Pe++]=se[je][Se];return Ue}function M(D,R,$,z){let G;if(Array.isArray(D))G=w.fromArray(D);else if(typeof D=="string"){let Y=R;if(!Y){const J=w.rawSplit(D);Y=h.getBestVersionForData(J,$)}G=w.fromString(D,Y||40)}else throw new Error("Invalid data");const W=h.getBestVersionForData(G,$);if(!W)throw new Error("The amount of data is too big to be stored in a QR Code");if(!R)R=W;else if(R<W)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+W+`.
`);const V=I(R,$,G),K=t.getSymbolSize(R),q=new n(K);return b(q,R),A(q),C(q,R),P(q,$,0),R>=7&&E(q,R),k(q,V),isNaN(z)&&(z=o.getBestMask(q,P.bind(null,q,$))),o.applyMask(z,q),P(q,$,z),{modules:q,version:R,errorCorrectionLevel:$,maskPattern:z,segments:G}}return v_.create=function(R,$){if(typeof R>"u"||R==="")throw new Error("No input text");let z=e.M,G,W;return typeof $<"u"&&(z=e.from($.errorCorrectionLevel,e.M),G=h.from($.version),W=o.from($.maskPattern),$.toSJISFunc&&t.setToSJISFunction($.toSJISFunc)),M(R,G,z,W)},v_}var D_={},L_={},LR;function x$(){return LR||(LR=1,(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){const s=t.getScale(n,i);return Math.floor((n+i.margin*2)*s)},t.qrToImageData=function(n,i,s){const o=i.modules.size,c=i.modules.data,u=t.getScale(o,s),h=Math.floor((o+s.margin*2)*u),g=s.margin*u,v=[s.color.light,s.color.dark];for(let w=0;w<h;w++)for(let b=0;b<h;b++){let A=(w*h+b)*4,C=s.color.light;if(w>=g&&b>=g&&w<h-g&&b<h-g){const E=Math.floor((w-g)/u),P=Math.floor((b-g)/u);C=v[c[E*o+P]?1:0]}n[A++]=C.r,n[A++]=C.g,n[A++]=C.b,n[A]=C.a}}})(L_)),L_}var BR;function Doe(){return BR||(BR=1,(function(t){const e=x$();function r(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,c){let u=c,h=o;typeof u>"u"&&(!o||!o.getContext)&&(u=o,o=void 0),o||(h=n()),u=e.getOptions(u);const g=e.getImageWidth(s.modules.size,u),v=h.getContext("2d"),w=v.createImageData(g,g);return e.qrToImageData(w.data,s,u),r(v,h,g),v.putImageData(w,0,0),h},t.renderToDataURL=function(s,o,c){let u=c;typeof u>"u"&&(!o||!o.getContext)&&(u=o,o=void 0),u||(u={});const h=t.render(s,o,u),g=u.type||"image/png",v=u.rendererOpts||{};return h.toDataURL(g,v.quality)}})(D_)),D_}var B_={},FR;function Loe(){if(FR)return B_;FR=1;const t=x$();function e(i,s){const o=i.a/255,c=s+'="'+i.hex+'"';return o<1?c+" "+s+'-opacity="'+o.toFixed(2).slice(1)+'"':c}function r(i,s,o){let c=i+s;return typeof o<"u"&&(c+=" "+o),c}function n(i,s,o){let c="",u=0,h=!1,g=0;for(let v=0;v<i.length;v++){const w=Math.floor(v%s),b=Math.floor(v/s);!w&&!h&&(h=!0),i[v]?(g++,v>0&&w>0&&i[v-1]||(c+=h?r("M",w+o,.5+b+o):r("m",u,0),u=0,h=!1),w+1<s&&i[v+1]||(c+=r("h",g),g=0)):u++}return c}return B_.render=function(s,o,c){const u=t.getOptions(o),h=s.modules.size,g=s.modules.data,v=h+u.margin*2,w=u.color.light.a?"<path "+e(u.color.light,"fill")+' d="M0 0h'+v+"v"+v+'H0z"/>':"",b="<path "+e(u.color.dark,"stroke")+' d="'+n(g,h,u.margin)+'"/>',A='viewBox="0 0 '+v+" "+v+'"',E='<svg xmlns="http://www.w3.org/2000/svg" '+(u.width?'width="'+u.width+'" height="'+u.width+'" ':"")+A+' shape-rendering="crispEdges">'+w+b+`</svg>
`;return typeof c=="function"&&c(null,E),E},B_}var UR;function Boe(){if(UR)return df;UR=1;const t=yoe(),e=Moe(),r=Doe(),n=Loe();function i(s,o,c,u,h){const g=[].slice.call(arguments,1),v=g.length,w=typeof g[v-1]=="function";if(!w&&!t())throw new Error("Callback required as last argument");if(w){if(v<2)throw new Error("Too few arguments provided");v===2?(h=c,c=o,o=u=void 0):v===3&&(o.getContext&&typeof h>"u"?(h=u,u=void 0):(h=u,u=c,c=o,o=void 0))}else{if(v<1)throw new Error("Too few arguments provided");return v===1?(c=o,o=u=void 0):v===2&&!o.getContext&&(u=c,c=o,o=void 0),new Promise(function(b,A){try{const C=e.create(c,u);b(s(C,o,u))}catch(C){A(C)}})}try{const b=e.create(c,u);h(null,s(b,o,u))}catch(b){h(b)}}return df.create=e.create,df.toCanvas=i.bind(null,r.render),df.toDataURL=i.bind(null,r.renderToDataURL),df.toString=i.bind(null,function(s,o,c){return n.render(s,c)}),df}var Foe=Boe();const Uoe=Ur(Foe),$oe=(t,e,r)=>({userId:t,timestamp:Date.now(),action:e,sessionId:r}),Voe=t=>JSON.stringify(t),$R=t=>{try{const e=JSON.parse(t);return e.userId&&e.timestamp&&e.action&&["entry","exit","reward"].includes(e.action)?e:null}catch{return null}},qoe=async(t,e)=>{const r=typeof t=="string"?t:Voe(t),n={width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"},...e};try{return await Uoe.toDataURL(r,n)}catch(i){throw console.error("Error generating QR code:",i),new Error("Failed to generate QR code")}},jy=(t,e=300*1e3)=>Date.now()-t.timestamp<e,IO=({userId:t,action:e="entry",sessionId:r,title:n,description:i,size:s=300,className:o,showDownload:c=!0,showRefresh:u=!0,onRefresh:h})=>{const[g,v]=N.useState(null),[w,b]=N.useState(!0),[A,C]=N.useState(null),E=async()=>{try{b(!0),C(null);const I=$oe(t,e,r),F=await qoe(I,{width:s,margin:2});v(F)}catch(I){C(I.message||"Failed to generate QR code"),console.error("QR code generation error:",I)}finally{b(!1)}};N.useEffect(()=>{E()},[t,e,r,s]);const P=()=>{if(!g)return;const I=document.createElement("a");I.href=g,I.download=`qr-code-${e}-${Date.now()}.png`,document.body.appendChild(I),I.click(),document.body.removeChild(I)},k=()=>{E(),h?.()};return a.jsxs(qe,{className:Re("w-full",o),children:[n&&a.jsxs(yt,{children:[a.jsx(_t,{children:n}),i&&a.jsx(cr,{children:i})]}),a.jsx(ze,{className:"space-y-4",children:a.jsx("div",{className:"flex flex-col items-center justify-center space-y-4",children:w?a.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",style:{width:s,height:s},children:[a.jsx(Wn,{className:"w-8 h-8 animate-spin text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Generating QR code..."})]}):A?a.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2 p-8",style:{width:s,height:s},children:[a.jsx("p",{className:"text-sm text-destructive",children:A}),u&&a.jsxs(_e,{variant:"outline",size:"sm",onClick:k,children:[a.jsx(Qu,{className:"w-4 h-4 mr-2"}),"Retry"]})]}):g?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md",children:a.jsx("img",{src:g,alt:`QR Code for ${e}`,className:"w-full h-auto",style:{maxWidth:s,maxHeight:s}})}),a.jsxs("div",{className:"flex gap-2",children:[c&&a.jsxs(_e,{variant:"outline",size:"sm",onClick:P,children:[a.jsx(nA,{className:"w-4 h-4 mr-2"}),"Download"]}),u&&a.jsxs(_e,{variant:"outline",size:"sm",onClick:k,children:[a.jsx(Qu,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}):null})})]})};function Ar(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ls(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Vi(t,e){const r=Ar(t);return isNaN(e)?Ls(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function Hi(t,e){const r=Ar(t);if(isNaN(e))return Ls(t,NaN);if(!e)return r;const n=r.getDate(),i=Ls(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const s=i.getDate();return n>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const RO=6048e5,zoe=864e5,MO=6e4,DO=36e5;let Woe={};function Dg(){return Woe}function kn(t,e){const r=Dg(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Ar(t),s=i.getDay(),o=(s<n?7:0)+s-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function od(t){return kn(t,{weekStartsOn:1})}function w$(t){const e=Ar(t),r=e.getFullYear(),n=Ls(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=od(n),s=Ls(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=od(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function Kf(t){const e=Ar(t);return e.setHours(0,0,0,0),e}function Ny(t){const e=Ar(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function ao(t,e){const r=Kf(t),n=Kf(e),i=+r-Ny(r),s=+n-Ny(n);return Math.round((i-s)/zoe)}function Hoe(t){const e=w$(t),r=Ls(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),od(r)}function Bc(t,e){const r=e*7;return Vi(t,r)}function Goe(t,e){return Hi(t,e*12)}function Koe(t){let e;return t.forEach(function(r){const n=Ar(r);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function Yoe(t){let e;return t.forEach(r=>{const n=Ar(r);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function b$(t){return Ls(t,Date.now())}function Er(t,e){const r=Kf(t),n=Kf(e);return+r==+n}function LO(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Xoe(t){if(!LO(t)&&typeof t!="number")return!1;const e=Ar(t);return!isNaN(Number(e))}function kp(t,e){const r=Ar(t),n=Ar(e),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function Zoe(t,e,r){const n=kn(t,r),i=kn(e,r),s=+n-Ny(n),o=+i-Ny(i);return Math.round((s-o)/RO)}function Qoe(t,e){const r=Ar(t),n=Ar(e),i=VR(r,n),s=Math.abs(ao(r,n));r.setDate(r.getDate()-i*s);const o=+(VR(r,n)===-i),c=i*(s-o);return c===0?0:c}function VR(t,e){const r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function _$(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function S$(t,e){return+Ar(t)-+Ar(e)}function Joe(t,e,r){const n=S$(t,e)/DO;return _$(r?.roundingMethod)(n)}function ele(t,e,r){const n=S$(t,e)/MO;return _$(r?.roundingMethod)(n)}function Rh(t){const e=Ar(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Ra(t,e){const r=Ar(t.start),n=Ar(t.end);let i=+r>+n;const s=i?+r:+n,o=i?n:r;o.setHours(0,0,0,0);let c=1;const u=[];for(;+o<=s;)u.push(Ar(o)),o.setDate(o.getDate()+c),o.setHours(0,0,0,0);return i?u.reverse():u}function Ei(t){const e=Ar(t);return e.setDate(1),e.setHours(0,0,0,0),e}function C$(t){const e=Ar(t),r=Ls(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function _s(t,e){const r=Dg(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Ar(t),s=i.getDay(),o=(s<n?-7:0)+6-(s-n);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function E$(t){return _s(t,{weekStartsOn:1})}const tle={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rle=(t,e,r)=>{let n;const i=tle[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function F_(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const nle={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ile={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sle={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ale={date:F_({formats:nle,defaultWidth:"full"}),time:F_({formats:ile,defaultWidth:"full"}),dateTime:F_({formats:sle,defaultWidth:"full"})},ole={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lle=(t,e,r,n)=>ole[t];function Rm(t){return(e,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,c=r?.width?String(r.width):o;i=t.formattingValues[c]||t.formattingValues[o]}else{const o=t.defaultWidth,c=r?.width?String(r.width):t.defaultWidth;i=t.values[c]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const cle={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ule={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},dle={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fle={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ple=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},gle={ordinalNumber:ple,era:Rm({values:cle,defaultWidth:"wide"}),quarter:Rm({values:ule,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Rm({values:dle,defaultWidth:"wide"}),day:Rm({values:fle,defaultWidth:"wide"}),dayPeriod:Rm({values:hle,defaultWidth:"wide",formattingValues:mle,defaultFormattingWidth:"wide"})};function Mm(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],c=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(c)?yle(c,v=>v.test(o)):vle(c,v=>v.test(o));let h;h=t.valueCallback?t.valueCallback(u):u,h=r.valueCallback?r.valueCallback(h):h;const g=e.slice(o.length);return{value:h,rest:g}}}function vle(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function yle(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function xle(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const c=e.slice(i.length);return{value:o,rest:c}}}const wle=/^(\d+)(th|st|nd|rd)?/i,ble=/\d+/i,_le={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Sle={any:[/^b/i,/^(a|c)/i]},Cle={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ele={any:[/1/i,/2/i,/3/i,/4/i]},Ale={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jle={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Nle={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ole={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Tle={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kle={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ple={ordinalNumber:xle({matchPattern:wle,parsePattern:ble,valueCallback:t=>parseInt(t,10)}),era:Mm({matchPatterns:_le,defaultMatchWidth:"wide",parsePatterns:Sle,defaultParseWidth:"any"}),quarter:Mm({matchPatterns:Cle,defaultMatchWidth:"wide",parsePatterns:Ele,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Mm({matchPatterns:Ale,defaultMatchWidth:"wide",parsePatterns:jle,defaultParseWidth:"any"}),day:Mm({matchPatterns:Nle,defaultMatchWidth:"wide",parsePatterns:Ole,defaultParseWidth:"any"}),dayPeriod:Mm({matchPatterns:Tle,defaultMatchWidth:"any",parsePatterns:kle,defaultParseWidth:"any"})},A$={code:"en-US",formatDistance:rle,formatLong:ale,formatRelative:lle,localize:gle,match:Ple,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ile(t){const e=Ar(t);return ao(e,C$(e))+1}function j$(t){const e=Ar(t),r=+od(e)-+Hoe(e);return Math.round(r/RO)+1}function N$(t,e){const r=Ar(t),n=r.getFullYear(),i=Dg(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=Ls(t,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const c=kn(o,e),u=Ls(t,0);u.setFullYear(n,0,s),u.setHours(0,0,0,0);const h=kn(u,e);return r.getTime()>=c.getTime()?n+1:r.getTime()>=h.getTime()?n:n-1}function Rle(t,e){const r=Dg(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=N$(t,e),s=Ls(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),kn(s,e)}function O$(t,e){const r=Ar(t),n=+kn(r,e)-+Rle(r,e);return Math.round(n/RO)+1}function en(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const mc={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return en(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):en(r+1,2)},d(t,e){return en(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return en(t.getHours()%12||12,e.length)},H(t,e){return en(t.getHours(),e.length)},m(t,e){return en(t.getMinutes(),e.length)},s(t,e){return en(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return en(i,e.length)}},ff={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qR={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return mc.y(t,e)},Y:function(t,e,r,n){const i=N$(t,n),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return en(o,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):en(s,e.length)},R:function(t,e){const r=w$(t);return en(r,e.length)},u:function(t,e){const r=t.getFullYear();return en(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return en(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return en(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return mc.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return en(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=O$(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):en(i,e.length)},I:function(t,e,r){const n=j$(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):en(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):mc.d(t,e)},D:function(t,e,r){const n=Ile(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):en(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return en(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return en(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return en(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=ff.noon:n===0?i=ff.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=ff.evening:n>=12?i=ff.afternoon:n>=4?i=ff.morning:i=ff.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return mc.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):mc.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):en(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):en(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):mc.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):mc.s(t,e)},S:function(t,e){return mc.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return WR(n);case"XXXX":case"XX":return ku(n);case"XXXXX":case"XXX":default:return ku(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return WR(n);case"xxxx":case"xx":return ku(n);case"xxxxx":case"xxx":default:return ku(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+zR(n,":");case"OOOO":default:return"GMT"+ku(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+zR(n,":");case"zzzz":default:return"GMT"+ku(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return en(n,e.length)},T:function(t,e,r){const n=t.getTime();return en(n,e.length)}};function zR(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+en(s,2)}function WR(t,e){return t%60===0?(t>0?"-":"+")+en(Math.abs(t)/60,2):ku(t,e)}function ku(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=en(Math.trunc(n/60),2),s=en(n%60,2);return r+i+e+s}const HR=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},T$=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Mle=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return HR(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",HR(n,e)).replace("{{time}}",T$(i,e))},Dle={p:T$,P:Mle},Lle=/^D+$/,Ble=/^Y+$/,Fle=["D","DD","YY","YYYY"];function Ule(t){return Lle.test(t)}function $le(t){return Ble.test(t)}function Vle(t,e,r){const n=qle(t,e,r);if(console.warn(n),Fle.includes(t))throw new RangeError(n)}function qle(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const zle=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Wle=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Hle=/^'([^]*?)'?$/,Gle=/''/g,Kle=/[a-zA-Z]/;function We(t,e,r){const n=Dg(),i=r?.locale??n.locale??A$,s=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,c=Ar(t);if(!Xoe(c))throw new RangeError("Invalid time value");let u=e.match(Wle).map(g=>{const v=g[0];if(v==="p"||v==="P"){const w=Dle[v];return w(g,i.formatLong)}return g}).join("").match(zle).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const v=g[0];if(v==="'")return{isToken:!1,value:Yle(g)};if(qR[v])return{isToken:!0,value:g};if(v.match(Kle))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(u=i.localize.preprocessor(c,u));const h={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return u.map(g=>{if(!g.isToken)return g.value;const v=g.value;(!r?.useAdditionalWeekYearTokens&&$le(v)||!r?.useAdditionalDayOfYearTokens&&Ule(v))&&Vle(v,e,String(t));const w=qR[v[0]];return w(c,v,i.localize,h)}).join("")}function Yle(t){const e=t.match(Hle);return e?e[1].replace(Gle,"'"):t}function Xle(t){const e=Ar(t),r=e.getFullYear(),n=e.getMonth(),i=Ls(t,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function Zle(t){return Math.trunc(+Ar(t)/1e3)}function Qle(t){const e=Ar(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function Jle(t,e){return Zoe(Qle(t),Ei(t),e)+1}function Pp(t,e){const r=Ar(t),n=Ar(e);return r.getTime()>n.getTime()}function BO(t,e){const r=Ar(t),n=Ar(e);return+r<+n}function ece(t,e,r){const n=kn(t,r),i=kn(e,r);return+n==+i}function Mh(t,e){const r=Ar(t),n=Ar(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function tce(t,e){const r=Ar(t),n=Ar(e);return r.getFullYear()===n.getFullYear()}function rce(t,e){return ece(t,b$(t),e)}function nce(t){return Er(t,b$(t))}function wc(t,e){return Vi(t,-e)}function Vt(t,e){const n=oce(t);let i;if(n.date){const u=lce(n.date,2);i=cce(u.restDateString,u.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let o=0,c;if(n.time&&(o=uce(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(c=dce(n.timezone),isNaN(c))return new Date(NaN)}else{const u=new Date(s+o),h=new Date(0);return h.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),h.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),h}return new Date(s+o+c)}const Sv={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ice=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,sce=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ace=/^([+-])(\d{2})(?::?(\d{2}))?$/;function oce(t){const e={},r=t.split(Sv.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],Sv.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Sv.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const i=Sv.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function lce(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function cce(t,e){if(e===null)return new Date(NaN);const r=t.match(ice);if(!r)return new Date(NaN);const n=!!r[4],i=Dm(r[1]),s=Dm(r[2])-1,o=Dm(r[3]),c=Dm(r[4]),u=Dm(r[5])-1;if(n)return gce(e,c,u)?fce(e,c,u):new Date(NaN);{const h=new Date(0);return!mce(e,s,o)||!pce(e,i)?new Date(NaN):(h.setUTCFullYear(e,s,Math.max(i,o)),h)}}function Dm(t){return t?parseInt(t):1}function uce(t){const e=t.match(sce);if(!e)return NaN;const r=U_(e[1]),n=U_(e[2]),i=U_(e[3]);return vce(r,n,i)?r*DO+n*MO+i*1e3:NaN}function U_(t){return t&&parseFloat(t.replace(",","."))||0}function dce(t){if(t==="Z")return 0;const e=t.match(ace);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return yce(n,i)?r*(n*DO+i*MO):NaN}function fce(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const i=n.getUTCDay()||7,s=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const hce=[31,null,31,30,31,30,31,31,30,31,30,31];function k$(t){return t%400===0||t%4===0&&t%100!==0}function mce(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(hce[e]||(k$(t)?29:28))}function pce(t,e){return e>=1&&e<=(k$(t)?366:365)}function gce(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function vce(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function yce(t,e){return e>=0&&e<=59}function $_(t,e){const r=Ar(t),n=r.getFullYear(),i=r.getDate(),s=Ls(t,0);s.setFullYear(n,e,15),s.setHours(0,0,0,0);const o=Xle(s);return r.setMonth(e,Math.min(i,o)),r}function GR(t,e){const r=Ar(t);return isNaN(+r)?Ls(t,NaN):(r.setFullYear(e),r)}function FO(t,e){return Hi(t,-1)}function UO(t,e){return Bc(t,-1)}const xce=xd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Qt({className:t,variant:e,...r}){return a.jsx("div",{className:Re(xce({variant:e}),t),...r})}const oa=({size:t="md",className:e,text:r})=>{const n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return a.jsxs("div",{className:Re("flex flex-col items-center justify-center gap-2",e),children:[a.jsx(Wn,{className:Re("animate-spin text-primary",n[t])}),r&&a.jsx("p",{className:"text-sm text-muted-foreground",children:r})]})};var $O="Progress",VO=100,[wce]=ls($O),[bce,_ce]=wce($O),P$=N.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=Sce,...o}=t;(i||i===0)&&!KR(i)&&console.error(Cce(`${i}`,"Progress"));const c=KR(i)?i:VO;n!==null&&!YR(n,c)&&console.error(Ece(`${n}`,"Progress"));const u=YR(n,c)?n:null,h=Oy(u)?s(u,c):void 0;return a.jsx(bce,{scope:r,value:u,max:c,children:a.jsx(Mt.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Oy(u)?u:void 0,"aria-valuetext":h,role:"progressbar","data-state":M$(u,c),"data-value":u??void 0,"data-max":c,...o,ref:e})})});P$.displayName=$O;var I$="ProgressIndicator",R$=N.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=_ce(I$,r);return a.jsx(Mt.div,{"data-state":M$(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});R$.displayName=I$;function Sce(t,e){return`${Math.round(t/e*100)}%`}function M$(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Oy(t){return typeof t=="number"}function KR(t){return Oy(t)&&!isNaN(t)&&t>0}function YR(t,e){return Oy(t)&&!isNaN(t)&&t<=e&&t>=0}function Cce(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${VO}\`.`}function Ece(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${VO} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var D$=P$,Ace=R$;const Ip=N.forwardRef(({className:t,value:e,...r},n)=>a.jsx(D$,{ref:n,className:Re("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:a.jsx(Ace,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Ip.displayName=D$.displayName;const jce=()=>{const[t,e]=N.useState([]),[r,n]=N.useState([]),[i,s]=N.useState(null),[o,c]=N.useState(!0),[u,h]=N.useState(!1),[g,v]=N.useState(0),[w,b]=N.useState(0),{toast:A}=Gn(),{user:C}=Vo(),E=Kn(),P=15,k=15,I=async()=>{try{c(!0);const{data:{user:J},error:ne}=await ye.auth.getUser();if(ne)throw ne;if(!J)throw new Error("User not found. Please log in again.");const{data:te,error:Q}=await ye.from("check_ins").select("*").eq("user_id",J.id).order("check_in_time",{ascending:!1}).limit(20);if(Q)throw Q;n(te||[]);const ue=te?.find(Ue=>!Ue.check_out_time);h(!!ue);const{data:ae,error:se}=await ye.from("class_bookings").select("*, class_sessions(id, name, instructor, start_time, end_time, capacity)").eq("user_id",J.id).order("created_at",{ascending:!1});if(se)throw se;e(ae||[]);const{data:me,error:xe}=await ye.from("user_memberships").select("*, memberships(name, price)").eq("user_id",J.id).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(xe)throw xe;s(me||null)}catch(J){console.error("Dashboard load error:",J),A({variant:"destructive",title:"Error loading dashboard",description:J.message})}finally{c(!1)}};N.useEffect(()=>{I()},[]);const F=new Date,M=new Date(F.getFullYear(),F.getMonth(),1),D=new Date(F.getFullYear(),F.getMonth()+1,0,23,59,59),R=r.filter(J=>new Date(J.check_in_time)>=M&&new Date(J.check_in_time)<=D).length,$=t.filter(J=>J.status==="attended"&&J.class_sessions&&new Date(J.class_sessions.start_time)>=M&&new Date(J.class_sessions.start_time)<=D).length,z=r.length,G=t.filter(J=>J.status==="booked").length,W=t.filter(J=>J.status==="attended").length;N.useEffect(()=>{let J=0;r.forEach(te=>{if(te.check_out_time){const Q=new Date(te.check_in_time).getTime(),se=(new Date(te.check_out_time).getTime()-Q)/(1e3*60*60);J+=se}}),v(Math.round(J*10)/10);const ne=t.filter(te=>te.status==="attended").length;b(ne)},[r,t]);const V=t.filter(J=>J.class_sessions&&new Date(J.class_sessions.start_time)>F&&J.status==="booked").sort((J,ne)=>new Date(J.class_sessions?.start_time||0).getTime()-new Date(ne.class_sessions?.start_time||0).getTime()).slice(0,3),K=[...r.slice(0,5).map(J=>({type:"check-in",id:J.id,time:J.check_in_time,title:`Checked in at ${J.location||"Main Gym"}`,description:We(new Date(J.check_in_time),"MMM d, yyyy 'at' h:mm a"),completed:!!J.check_out_time})),...t.filter(J=>J.status==="attended"&&J.class_sessions).slice(0,5).map(J=>({type:"class",id:J.id,time:J.class_sessions.start_time,title:`Attended ${J.class_sessions.name}`,description:We(new Date(J.class_sessions.start_time),"MMM d, yyyy 'at' h:mm a"),completed:!0}))].sort((J,ne)=>new Date(ne.time).getTime()-new Date(J.time).getTime()).slice(0,5),q=i?i.status==="active"&&i.payment_status==="paid"&&new Date(i.end_date)>F?"active":i.status==="expired"||new Date(i.end_date)<F?"expired":"inactive":"none",Y=i&&q==="active"?Math.ceil((new Date(i.end_date).getTime()-F.getTime())/(1e3*60*60*24)):0;return o?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(oa,{size:"lg",text:"Loading dashboard..."})}):a.jsx("div",{className:"min-h-screen bg-background p-6",children:a.jsxs("div",{className:"container mx-auto max-w-7xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Member Dashboard"}),a.jsx(_e,{onClick:()=>I(),variant:"outline",size:"sm",children:"Refresh"})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-8",children:[a.jsxs(_e,{onClick:()=>E("/qr/entry-exit"),className:"h-auto p-4 flex flex-col items-center justify-center gap-2 bg-secondary hover:bg-secondary/90",children:[a.jsx(gp,{className:"w-6 h-6"}),a.jsx("span",{className:"font-medium",children:"Check In/Out"}),u&&a.jsx(Qt,{variant:"destructive",className:"text-xs",children:"Active Check-In"})]}),a.jsxs(_e,{onClick:()=>E("/classes"),className:"h-auto p-4 flex flex-col items-center justify-center gap-2 bg-accent hover:bg-accent/90",children:[a.jsx(Fn,{className:"w-6 h-6"}),a.jsx("span",{className:"font-medium",children:"Book a Class"})]}),a.jsxs(_e,{onClick:()=>E("/bookings"),className:"h-auto p-4 flex flex-col items-center justify-center gap-2 bg-primary hover:bg-primary/90 text-primary-foreground",children:[a.jsx(Ao,{className:"w-6 h-6"}),a.jsx("span",{className:"font-medium",children:"My Bookings"}),G>0&&a.jsxs(Qt,{variant:"secondary",className:"text-xs",children:[G," active"]})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(V_,{title:"Visits This Month",value:String(R),icon:a.jsx(Bf,{className:"w-5 h-5 text-success"}),trend:`${z} total visits`}),a.jsx(V_,{title:"Classes This Month",value:String($),icon:a.jsx(Ao,{className:"w-5 h-5 text-accent"}),trend:`${W} total attended`}),a.jsx(V_,{title:"Active Bookings",value:String(G),icon:a.jsx(Fn,{className:"w-5 h-5 text-secondary"}),trend:`${V.length} upcoming`}),a.jsx(Nce,{status:q,membership:i,daysRemaining:Y})]}),a.jsxs(qe,{className:"mb-8 cursor-pointer hover:bg-accent/5 transition-colors",onClick:()=>E("/rewards"),children:[a.jsxs(yt,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(_t,{className:"flex items-center gap-2",children:[a.jsx(NN,{className:"w-5 h-5 text-primary"}),"Rewards Progress"]}),a.jsx(tA,{className:"w-4 h-4 text-muted-foreground"})]}),a.jsx(cr,{children:"Click to view full rewards page"})]}),a.jsxs(ze,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Lo,{className:"w-4 h-4 text-primary"}),a.jsx("span",{className:"text-sm font-medium",children:"Hours in Gym"})]}),a.jsxs("span",{className:"text-sm font-semibold",children:[g.toFixed(1),"/",P]})]}),a.jsx(Ip,{value:Math.min(g/P*100,100),className:"h-2"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ao,{className:"w-4 h-4 text-secondary"}),a.jsx("span",{className:"text-sm font-medium",children:"Classes"})]}),a.jsxs("span",{className:"text-sm font-semibold",children:[w,"/",k]})]}),a.jsx(Ip,{value:Math.min(w/k*100,100),className:"h-2"})]})]})]}),i&&a.jsxs(qe,{className:"mb-8",children:[a.jsx(yt,{children:a.jsxs(_t,{className:"flex items-center gap-2",children:[a.jsx(Rl,{className:"w-5 h-5"}),"Membership Status"]})}),a.jsx(ze,{children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:i.memberships?.name||"Membership"}),a.jsx(Qt,{variant:q==="active"?"default":q==="expired"?"destructive":"secondary",children:q==="active"?a.jsxs(a.Fragment,{children:[a.jsx(Do,{className:"w-3 h-3 mr-1"})," Active"]}):q==="expired"?a.jsxs(a.Fragment,{children:[a.jsx(Ic,{className:"w-3 h-3 mr-1"})," Expired"]}):a.jsxs(a.Fragment,{children:[a.jsx(Al,{className:"w-3 h-3 mr-1"})," Inactive"]})})]}),q==="active"&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Expires on ",We(new Date(i.end_date),"MMM d, yyyy")," (",Y," days remaining)"]}),q==="expired"&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Expired on ",We(new Date(i.end_date),"MMM d, yyyy")]})]}),q!=="active"&&a.jsx(_e,{onClick:()=>E("/managememberships"),variant:"outline",children:"Start Membership"})]})})]}),V.length>0&&a.jsxs(qe,{className:"mb-8",children:[a.jsxs(yt,{children:[a.jsxs(_t,{className:"flex items-center gap-2",children:[a.jsx(Lo,{className:"w-5 h-5"}),"Upcoming Classes"]}),a.jsx(cr,{children:"Your next scheduled classes"})]}),a.jsx(ze,{children:a.jsx("div",{className:"space-y-3",children:V.map(J=>{const ne=new Date(J.class_sessions?.start_time||""),te=Joe(ne,F),Q=ele(ne,F),ue=te<24,ae=nce(ne),se=rce(ne);return a.jsx("div",{className:`p-4 rounded-lg border ${ue?"bg-accent/10 border-accent":"bg-muted/30"}`,children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:"font-medium",children:J.class_sessions?.name}),ue&&a.jsx(Qt,{variant:ae?"destructive":"default",className:"text-xs",children:ae?"Today":se?"This Week":"Soon"})]}),a.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[J.class_sessions?.instructor&&`with ${J.class_sessions.instructor}  `,We(ne,"MMM d, yyyy 'at' h:mm a")]}),ue&&a.jsx("p",{className:"text-xs text-muted-foreground",children:te>0?`${te} hour${te>1?"s":""} until class`:`${Q} minute${Q>1?"s":""} until class`})]}),a.jsxs(_e,{variant:"ghost",size:"sm",onClick:()=>E("/bookings"),children:["View ",a.jsx(tA,{className:"w-4 h-4 ml-1"})]})]})},J.id)})})})]}),C&&a.jsxs(qe,{className:"mb-8",children:[a.jsxs(yt,{children:[a.jsxs(_t,{className:"flex items-center gap-2",children:[a.jsx(gp,{className:"w-5 h-5"}),"Your Check-In QR Code"]}),a.jsx(cr,{children:"Show this QR code at the gym entrance for quick check-in"})]}),a.jsx(ze,{children:a.jsx(IO,{userId:C.id,action:u?"exit":"entry",size:200,className:"max-w-sm mx-auto",showDownload:!0,showRefresh:!0})})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[a.jsxs(qe,{children:[a.jsxs(yt,{children:[a.jsx(_t,{children:"Recent Activity"}),a.jsx(cr,{children:"Your recent check-ins and class attendance"})]}),a.jsx(ze,{children:K.length>0?a.jsx("ul",{className:"space-y-3",children:K.map(J=>a.jsxs("li",{className:"p-3 rounded-lg bg-muted/30 flex items-start gap-3",children:[a.jsx("div",{className:`p-2 rounded-full ${J.completed?"bg-success/20":"bg-primary/20"}`,children:J.type==="check-in"?a.jsx(HB,{className:`w-4 h-4 ${J.completed?"text-success":"text-primary"}`}):a.jsx(Ao,{className:`w-4 h-4 ${J.completed?"text-success":"text-primary"}`})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm",children:J.title}),a.jsx("p",{className:"text-xs text-muted-foreground",children:J.description})]}),J.completed&&a.jsx(Do,{className:"w-4 h-4 text-success flex-shrink-0"})]},`${J.type}-${J.id}`))}):a.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No recent activity"})})]}),a.jsxs(qe,{children:[a.jsxs(yt,{children:[a.jsx(_t,{children:"Class Schedule"}),a.jsx(cr,{children:"Manage your class bookings"})]}),a.jsx(ze,{children:V.length>0?a.jsxs("div",{className:"space-y-3",children:[V.map(J=>a.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:J.class_sessions?.name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:We(new Date(J.class_sessions?.start_time||""),"MMM d, h:mm a")})]}),a.jsx(Qt,{variant:"outline",className:"text-xs",children:"Booked"})]},J.id)),a.jsx(_e,{variant:"outline",className:"w-full mt-4",onClick:()=>E("/bookings"),children:"View All Bookings"})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"No upcoming classes"}),a.jsx(_e,{onClick:()=>E("/classes"),variant:"outline",children:"Browse Classes"})]})})]})]})]})})},V_=({title:t,value:e,icon:r,trend:n})=>a.jsx(qe,{children:a.jsxs(ze,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:t}),r]}),a.jsx("div",{className:"text-2xl font-bold mb-1",children:e}),a.jsx("p",{className:"text-xs text-muted-foreground",children:n})]})}),Nce=({status:t,membership:e,daysRemaining:r})=>{const i=(()=>{switch(t){case"active":return{value:"Active",icon:a.jsx(Do,{className:"w-5 h-5 text-success"}),trend:`${r} days remaining`};case"expired":return{value:"Expired",icon:a.jsx(Ic,{className:"w-5 h-5 text-destructive"}),trend:"Renew required"};default:return{value:"None",icon:a.jsx(Al,{className:"w-5 h-5 text-muted-foreground"}),trend:"No membership"}}})();return a.jsx(qe,{children:a.jsxs(ze,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Membership"}),i.icon]}),a.jsx("div",{className:"text-2xl font-bold mb-1",children:i.value}),a.jsx("p",{className:"text-xs text-muted-foreground",children:i.trend})]})})},Oce=()=>a.jsxs(qe,{children:[a.jsxs(yt,{children:[a.jsx(Dr,{className:"h-6 w-3/4"}),a.jsx(Dr,{className:"h-4 w-1/2 mt-2"})]}),a.jsxs(ze,{className:"space-y-3",children:[a.jsx(Dr,{className:"h-4 w-full"}),a.jsx(Dr,{className:"h-4 w-5/6"}),a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsx(Dr,{className:"h-9 w-24"}),a.jsx(Dr,{className:"h-9 w-24"})]})]})]}),Tce=({count:t=6})=>a.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:t}).map((e,r)=>a.jsx(Oce,{},r))}),kce={daily:"Daily",weekly:"Weekly",monthly:"Monthly"},Pce={daily:Fn,weekly:yg,monthly:Fn},_l=({viewMode:t,onViewModeChange:e,className:r})=>{const n=Pce[t],i=kce[t];return a.jsxs(nO,{children:[a.jsx(iO,{asChild:!0,children:a.jsxs(_e,{variant:"outline",size:"sm",className:Re("gap-2",r),children:[a.jsx(n,{className:"w-4 h-4"}),i,a.jsx(EN,{className:"w-4 h-4"})]})}),a.jsx(lx,{align:"end",children:a.jsxs(Nre,{value:t,onValueChange:s=>e(s),children:[a.jsxs(zv,{value:"daily",children:[a.jsx(Fn,{className:"w-4 h-4 mr-2"}),"Daily"]}),a.jsxs(zv,{value:"weekly",children:[a.jsx(yg,{className:"w-4 h-4 mr-2"}),"Weekly"]}),a.jsxs(zv,{value:"monthly",children:[a.jsx(Fn,{className:"w-4 h-4 mr-2"}),"Monthly"]})]})})]})},L$=({sessions:t,onDateClick:e,onSessionClick:r,selectedDate:n,viewMode:i="weekly",onViewModeChange:s})=>{const[o,c]=N.useState(new Date),[u,h]=N.useState(new Date),[g,v]=N.useState(new Date),[w,b]=N.useState(!1),A=N.useMemo(()=>{const G=new Map;return t.forEach(W=>{const V=We(Vt(W.start_time),"yyyy-MM-dd");G.has(V)||G.set(V,[]),G.get(V).push(W)}),G},[t]),C=G=>{const W=We(G,"yyyy-MM-dd");return A.get(W)||[]},E=Ei(o),P=Rh(o),k=kn(E),I=_s(P),F=Ra({start:k,end:I}),M=()=>{c(FO(o))},D=()=>{c(Hi(o,1))},R=G=>{i==="daily"?(v(G),b("day")):e?.(G)},$=()=>{h(UO(u))},z=()=>{h(Bc(u,1))};if(w==="day"&&i==="daily"){const G=C(g);return a.jsx(Ice,{date:g,sessions:G,onSessionClick:r,onBack:()=>b(!1),onDateChange:W=>{v(W),h(W),c(W)}})}if(i==="daily"){const G=kn(g),W=_s(g),V=Ra({start:G,end:W});return a.jsxs(qe,{children:[a.jsx(yt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(_t,{className:"text-2xl font-bold",children:We(g,"EEEE, MMMM d, yyyy")}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_l,{viewMode:i,onViewModeChange:K=>{s?.(K),K!=="daily"&&b(!1)}}),a.jsx(_e,{variant:"outline",size:"icon",onClick:()=>{const K=new Date(g);K.setDate(K.getDate()-1),v(K)},children:a.jsx(Wi,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"outline",size:"icon",onClick:()=>{const K=new Date(g);K.setDate(K.getDate()+1),v(K)},children:a.jsx(bs,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"outline",onClick:()=>{v(new Date)},children:"Today"})]})]})}),a.jsx(ze,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex gap-2",children:V.map(K=>{const q=Er(K,g),Y=Er(K,new Date);return a.jsxs("button",{onClick:()=>v(K),className:Re("flex-1 p-3 rounded-lg border transition-colors text-center",q&&"bg-primary text-primary-foreground border-primary",!q&&"hover:bg-accent",Y&&!q&&"border-primary"),children:[a.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:We(K,"EEE")}),a.jsx("div",{className:"text-lg font-semibold",children:We(K,"d")})]},K.toISOString())})}),a.jsx("div",{className:"mt-6",children:a.jsxs("button",{onClick:()=>b("day"),className:"w-full p-4 rounded-lg border hover:bg-accent transition-colors text-left",children:[a.jsx("div",{className:"text-sm font-semibold mb-2",children:"Click to view detailed day schedule"}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[C(g).length," class",C(g).length!==1?"es":""," on this day"]})]})})]})})]})}if(i==="weekly"){const G=kn(u),W=_s(u),V=Ra({start:G,end:W});return a.jsxs(qe,{children:[a.jsx(yt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(_t,{className:"text-2xl font-bold",children:[We(G,"MMM d")," - ",We(W,"MMM d, yyyy")]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_l,{viewMode:i,onViewModeChange:K=>{s?.(K),K==="daily"&&v(new Date)}}),a.jsx(_e,{variant:"outline",size:"icon",onClick:$,children:a.jsx(Wi,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"outline",size:"icon",onClick:z,children:a.jsx(bs,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"outline",onClick:()=>{h(new Date)},children:"Today"})]})]})}),a.jsx(ze,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-7 gap-1",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(K=>a.jsx("div",{className:"text-center text-sm font-medium text-muted-foreground py-2",children:K},K))}),a.jsx("div",{className:"border-t border-border"}),a.jsx("div",{className:"grid grid-cols-7 gap-1",children:V.map((K,q)=>{const Y=C(K),J=Er(K,new Date),ne=n&&Er(K,n);return a.jsxs("div",{className:Re("min-h-[200px] p-2 cursor-pointer transition-colors border rounded-lg",J&&"bg-primary/5 border-primary",ne&&!J&&"bg-primary/10 border-primary/50","hover:bg-accent"),onClick:()=>R(K),children:[a.jsx("div",{className:Re("text-sm font-semibold mb-2",J&&"text-primary",ne&&"text-primary"),children:We(K,"d")}),a.jsx("div",{className:"space-y-1",children:Y.map(te=>a.jsxs(Qt,{variant:"secondary",className:"w-full text-xs truncate cursor-pointer hover:bg-primary hover:text-primary-foreground block",onClick:Q=>{Q.stopPropagation(),r?.(te)},children:[We(Vt(te.start_time),"h:mm a")," - ",te.name]},te.id))})]},q)})})]})})]})}return a.jsxs(qe,{children:[a.jsx(yt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(_t,{className:"text-2xl font-bold",children:We(o,"MMMM yyyy")}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_l,{viewMode:i,onViewModeChange:G=>s?.(G)}),a.jsx(_e,{variant:"outline",size:"icon",onClick:M,children:a.jsx(Wi,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"outline",size:"icon",onClick:D,children:a.jsx(bs,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"outline",onClick:()=>c(new Date),children:"Today"})]})]})}),a.jsx(ze,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-7 gap-1",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(G=>a.jsx("div",{className:"text-center text-sm font-medium text-muted-foreground py-2",children:G},G))}),a.jsx("div",{className:"border-t border-border"}),a.jsx("div",{className:"space-y-0",children:Array.from({length:Math.ceil(F.length/7)},(G,W)=>{const V=W*7,K=F.slice(V,V+7);return a.jsxs("div",{children:[a.jsx("div",{className:"grid grid-cols-7",children:K.map((q,Y)=>{const J=C(q),ne=Mh(q,o),te=Er(q,new Date),Q=n&&Er(q,n);return a.jsxs("div",{className:Re("min-h-[100px] p-2 cursor-pointer transition-colors",!ne&&"opacity-40",te&&"bg-primary/5",Q&&"bg-primary/10","hover:bg-accent"),onClick:()=>R(q),children:[a.jsx("div",{className:Re("text-sm font-semibold mb-1",te&&"text-primary",Q&&"text-primary"),children:We(q,"d")}),a.jsxs("div",{className:"space-y-1",children:[J.slice(0,3).map(ue=>a.jsx(Qt,{variant:"secondary",className:"w-full text-xs truncate cursor-pointer hover:bg-primary hover:text-primary-foreground",onClick:ae=>{ae.stopPropagation(),r?.(ue)},children:ue.name},ue.id)),J.length>3&&a.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",J.length-3," more"]})]})]},Y)})}),W<Math.ceil(F.length/7)-1&&a.jsx("div",{className:"border-t border-border my-0"})]},W)})})]})})]})},Ice=({date:t,sessions:e,onSessionClick:r,onBack:n,onDateChange:i})=>{const s=kn(t),o=Ra({start:s,end:_s(t)}),c=N.useMemo(()=>[...e].sort((w,b)=>Vt(w.start_time).getTime()-Vt(b.start_time).getTime()),[e]),u=N.useMemo(()=>{const w=new Map;return c.forEach(b=>{const A=Vt(b.start_time).getHours();w.has(A)||w.set(A,[]),w.get(A).push(b)}),w},[c]),h=Array.from({length:17},(w,b)=>b+6),g=()=>{const w=new Date(t);w.setDate(w.getDate()-1),i(w)},v=()=>{const w=new Date(t);w.setDate(w.getDate()+1),i(w)};return a.jsxs(qe,{children:[a.jsx(yt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(_e,{variant:"outline",size:"icon",onClick:n,children:a.jsx(Wi,{className:"h-4 w-4"})}),a.jsx(_t,{className:"text-2xl font-bold",children:We(t,"EEEE, MMMM d, yyyy")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_e,{variant:"outline",size:"icon",onClick:g,children:a.jsx(Wi,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"outline",size:"icon",onClick:v,children:a.jsx(bs,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"outline",onClick:()=>i(new Date),children:"Today"})]})]})}),a.jsx(ze,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex gap-2",children:o.map(w=>{const b=Er(w,t),A=Er(w,new Date);return a.jsxs("button",{onClick:()=>i(w),className:Re("flex-1 p-3 rounded-lg border transition-colors text-center",b&&"bg-primary text-primary-foreground border-primary",!b&&"hover:bg-accent",A&&!b&&"border-primary"),children:[a.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:We(w,"EEE")}),a.jsx("div",{className:"text-lg font-semibold",children:We(w,"d")})]},w.toISOString())})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Schedule"}),c.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(Fn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No classes scheduled for this day"})]}):a.jsx("div",{className:"space-y-2",children:h.map(w=>{const b=u.get(w)||[];return b.length===0?null:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"w-16 text-sm text-muted-foreground pt-2",children:We(new Date().setHours(w,0,0,0),"h:mm a")}),a.jsx("div",{className:"flex-1 space-y-2",children:b.map(A=>{const C=Vt(A.start_time),E=Vt(A.end_time),P=(E.getTime()-C.getTime())/(1e3*60);return a.jsx("div",{onClick:()=>r?.(A),className:Re("p-4 rounded-lg border cursor-pointer transition-colors","hover:shadow-md hover:border-primary",A.isBooked&&"bg-primary/5 border-primary/20"),children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h4",{className:"font-semibold",children:A.name}),A.category&&a.jsx(Qt,{variant:"outline",className:"text-xs",children:A.category})]}),A.instructor&&a.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:["with ",A.instructor]}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[a.jsxs("span",{children:[We(C,"h:mm a")," - ",We(E,"h:mm a")]}),a.jsxs("span",{children:[P," min"]}),A.availableSpots!==void 0&&a.jsxs("span",{children:[A.availableSpots," spots available"]})]})]}),A.isBooked&&a.jsx(Qt,{variant:"default",className:"ml-2",children:"Booked"})]})},A.id)})})]},w)})})]})]})})]})},Rce=({id:t,name:e,description:r,imageUrl:n,categoryName:i,onClick:s,className:o})=>{const c=n||"linear-gradient(135deg, #667eea 0%, #764ba2 100%)";return a.jsxs("div",{className:Re("group relative overflow-hidden rounded-3xl shadow-lg cursor-pointer","transition-shadow duration-300 ease-out","hover:shadow-xl","aspect-[4/5] min-h-[400px]",o),onClick:s,role:"button",tabIndex:0,onKeyDown:u=>{(u.key==="Enter"||u.key===" ")&&(u.preventDefault(),s())},children:[a.jsx("div",{className:Re("absolute inset-0 w-full h-full","transition-transform duration-300 ease-out","md:group-hover:scale-[1.02]"),style:{backgroundImage:n?`url(${n})`:c,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),a.jsx("div",{className:Re("absolute inset-0 bg-gradient-to-b","from-black/0 via-black/0 to-black/0","md:group-hover:from-black/20 md:group-hover:via-black/40 md:group-hover:to-black/70","transition-all duration-300 ease-out","backdrop-blur-0 md:group-hover:backdrop-blur-[3px]","opacity-0 md:group-hover:opacity-100","z-[5]")}),a.jsxs("div",{className:"relative h-full flex flex-col justify-between p-6 z-10",children:[i&&a.jsx("div",{className:"absolute top-6 left-6 z-30",children:a.jsx("span",{className:Re("inline-block px-4 py-2 rounded-full text-xs font-semibold uppercase tracking-wider","bg-black/70 backdrop-blur-sm text-white","transition-opacity duration-300"),children:i})}),a.jsxs("div",{className:"mt-auto space-y-4 pb-2",children:[a.jsx("h3",{className:Re("text-3xl md:text-4xl font-bold text-white","transition-all duration-300 ease-out","translate-y-0 opacity-100"),children:e}),r&&a.jsx("p",{className:Re("text-white text-base font-medium leading-relaxed","transition-all duration-300 ease-out","opacity-0 translate-y-[10px] max-w-[85%]","md:group-hover:opacity-100 md:group-hover:translate-y-0","hidden md:block"),children:r})]}),a.jsx("div",{className:"absolute bottom-6 right-6 z-30",children:a.jsx("div",{className:Re("w-12 h-12 rounded-full border-2 border-white","flex items-center justify-center","transition-all duration-300 ease-out","opacity-90 md:group-hover:opacity-100","md:group-hover:shadow-lg md:group-hover:shadow-white/30"),children:a.jsx(tA,{className:"w-5 h-5 text-white"})})})]})]})},Lm=12,Mce=()=>{const t=Kn(),[e,r]=N.useState([]),[n,i]=N.useState([]),[s,o]=N.useState([]),[c,u]=N.useState(!0),[h,g]=N.useState(""),[v,w]=N.useState("all"),[b,A]=N.useState(Lm),[C,E]=N.useState("grid"),[P,k]=N.useState("weekly"),[I,F]=N.useState(null);N.useEffect(()=>{M()},[]);const M=async()=>{try{u(!0);const V=new Date().toISOString(),{data:K,error:q}=await ye.from("class_categories").select("*").eq("is_active",!0).order("display_order",{ascending:!0}).order("name",{ascending:!0});if(q)throw q;o(K||[]);const{data:Y,error:J}=await ye.from("classes").select(`
          id,
          name,
          description,
          image_url,
          category_id,
          category,
          class_categories (
            id,
            name,
            image_url
          )
        `).eq("is_active",!0).order("name",{ascending:!0});if(J)throw J;r(Y||[]);const{data:ne,error:te}=await ye.from("class_sessions").select("*").gte("start_time",V).order("start_time",{ascending:!0});if(te)throw te;i(ne||[])}catch(V){Et({title:"Error",description:V.message||"Failed to fetch classes"})}finally{u(!1)}},D=N.useMemo(()=>{let V=e;if(v!=="all"&&(V=V.filter(K=>K.category_id===v||K.class_categories?.id===v)),h){const K=h.toLowerCase();V=V.filter(q=>q.name.toLowerCase().includes(K)||q.description?.toLowerCase().includes(K)||q.class_categories?.name.toLowerCase().includes(K))}return V},[e,v,h]),R=N.useMemo(()=>D.slice(0,b),[D,b]),$=R.length<D.length,z=()=>{A(V=>V+Lm)},G=V=>{w(V),A(Lm),window.scrollTo({top:0,behavior:"smooth"})},W=V=>{t(`/classes/${V}`)};return c?a.jsx("div",{className:"min-h-screen bg-background p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[a.jsx(Dr,{className:"h-10 w-64"}),a.jsxs("div",{className:"flex gap-4 mb-4",children:[a.jsx(Dr,{className:"h-10 w-32"}),a.jsx(Dr,{className:"h-10 w-32"}),a.jsx(Dr,{className:"h-10 w-40"})]}),a.jsx(Tce,{count:6})]})}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("div",{className:"bg-gradient-to-b from-primary/10 to-background py-12 px-6",children:a.jsxs("div",{className:"container mx-auto max-w-7xl text-center",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Award-winning classes led by the best instructors"}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Move with purpose, train together, feel the energy."})]})}),a.jsxs("div",{className:"container mx-auto max-w-7xl p-6",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex flex-wrap gap-2 justify-center md:justify-start",children:[a.jsx(_e,{variant:v==="all"?"default":"outline",size:"sm",onClick:()=>{w("all"),A(Lm),window.scrollTo({top:0,behavior:"smooth"})},className:"rounded-full",children:"All"}),s.map(V=>a.jsx(_e,{variant:v===V.id?"default":"outline",size:"sm",onClick:()=>G(V.id),className:"rounded-full",children:V.name},V.id))]})}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-semibold",children:"Available Classes"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(_e,{variant:C==="grid"?"default":"outline",size:"sm",onClick:()=>E("grid"),children:[a.jsx(bY,{className:"w-4 h-4 mr-2"}),"Grid"]}),a.jsxs(_e,{variant:C==="calendar"?"default":"outline",size:"sm",onClick:()=>E("calendar"),children:[a.jsx(yg,{className:"w-4 h-4 mr-2"}),"See Calendar"]})]})]}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative max-w-md",children:[a.jsx(jN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),a.jsx(jt,{placeholder:"Search classes...",value:h,onChange:V=>{g(V.target.value),A(Lm)},className:"pl-10"})]})}),C==="calendar"?a.jsx(L$,{sessions:n.map(V=>({id:V.id,name:V.name,instructor:V.instructor,start_time:V.start_time,end_time:V.end_time,capacity:V.capacity})),onDateClick:V=>{F(V)},onSessionClick:V=>{const K=n.find(q=>q.id===V.id);K?.class_id&&t(`/classes/${K.class_id}`)},selectedDate:I,viewMode:P,onViewModeChange:k}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4 text-sm text-muted-foreground",children:["Showing ",R.length," of ",D.length," classes"]}),D.length===0?a.jsx(qe,{children:a.jsx(ze,{className:"p-12 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:h||v!=="all"?"No classes match your filters. Try adjusting your search.":"No classes available at the moment. Check back soon!"})})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:R.map(V=>{const K=V.image_url||V.class_categories?.image_url,q=V.class_categories?.name||V.category;return a.jsx(Rce,{id:V.id,name:V.name,description:V.description,imageUrl:K,categoryName:q,onClick:()=>W(V.id)},V.id)})}),$&&a.jsx("div",{className:"flex justify-center mt-8",children:a.jsx(_e,{onClick:z,variant:"outline",size:"lg",className:"min-w-[200px]",children:"Load More"})})]})]})]})]})},Rs=cO,Ty=uU,Dce=uO,B$=N.forwardRef(({className:t,...e},r)=>a.jsx(Ng,{ref:r,className:Re("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));B$.displayName=Ng.displayName;const ps=N.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(Dce,{children:[a.jsx(B$,{}),a.jsxs(Og,{ref:n,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,a.jsxs(ux,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(Ju,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ps.displayName=Og.displayName;const gs=({className:t,...e})=>a.jsx("div",{className:Re("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});gs.displayName="DialogHeader";const ia=({className:t,...e})=>a.jsx("div",{className:Re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});ia.displayName="DialogFooter";const vs=N.forwardRef(({className:t,...e},r)=>a.jsx(Tg,{ref:r,className:Re("text-lg font-semibold leading-none tracking-tight",t),...e}));vs.displayName=Tg.displayName;const Ms=N.forwardRef(({className:t,...e},r)=>a.jsx(kg,{ref:r,className:Re("text-sm text-muted-foreground",t),...e}));Ms.displayName=kg.displayName;const F$=t=>{const{user:e}=Vo(),[r,n]=N.useState([]),[i,s]=N.useState(!0),[o,c]=N.useState(null),u=N.useCallback(async C=>{try{s(!0),c(null);const E=C||e?.id;if(!E){n([]),s(!1);return}const{data:P,error:k}=await ye.from("class_bookings").select(`
          *,
          class_sessions(
            id,
            name,
            instructor,
            start_time,
            end_time,
            capacity
          )
        `).eq("user_id",E).order("created_at",{ascending:!1});if(k)throw k;n(P||[])}catch(E){console.error("Error fetching bookings:",E),c(E.message||"Failed to fetch bookings"),n([])}finally{s(!1)}},[e?.id]);N.useEffect(()=>{const C=e?.id;if(!C||C.trim()===""){s(!1);return}const E=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,P=C.trim();if(!E.test(P)){console.error("Invalid user ID format for bookings subscription:",P),s(!1);return}u(P);let k=null,I=!0;return(async()=>{const{data:{session:M}}=await ye.auth.getSession();if(!M||!I){console.log("No session available for bookings subscription");return}k=ye.channel(`bookings-changes-${P}`).on("postgres_changes",{event:"*",schema:"public",table:"class_bookings",filter:`user_id=eq.${P}`},D=>{console.log("Booking change detected:",D),I&&u(P)}).subscribe(D=>{D==="SUBSCRIBED"?console.log("Bookings subscription active"):D==="CHANNEL_ERROR"&&console.error("Bookings subscription error")})})(),()=>{I=!1,k&&ye.removeChannel(k)}},[t,e?.id,u]);const h=N.useCallback(async()=>{if(!e?.id)return!1;try{const{data:C,error:E}=await ye.rpc("has_valid_membership",{_user_id:e.id});return E?(console.error("Error checking membership:",E),!1):C===!0}catch(C){return console.error("Error checking membership:",C),!1}},[e?.id]),g=N.useCallback(async C=>{try{const{count:E,error:P}=await ye.from("class_bookings").select("*",{count:"exact",head:!0}).eq("class_id",C).eq("status","booked");return P?(console.error("Error getting booking count:",P),0):E||0}catch(E){return console.error("Error getting booking count:",E),0}},[]),v=N.useCallback(async C=>{if(!e?.id)return!1;try{const{data:E,error:P}=await ye.from("class_bookings").select("id").eq("user_id",e.id).eq("class_id",C).in("status",["booked","confirmed"]).limit(1).maybeSingle();return P&&P.code!=="PGRST116"?(console.error("Error checking existing booking:",P),!1):E!==null}catch(E){return console.error("Error checking existing booking:",E),!1}},[e?.id]),w=N.useCallback(async C=>{if(!e?.id)return{success:!1,error:"User not authenticated"};try{if(!await h())return{success:!1,error:"You need an active membership to book classes"};if(await v(C))return{success:!1,error:"You already have a booking for this class"};const{data:k,error:I}=await ye.from("class_sessions").select("capacity, start_time").eq("id",C).single();if(I||!k)return{success:!1,error:"Class session not found"};if(k.start_time&&new Date(k.start_time)<new Date)return{success:!1,error:"Cannot book a class that has already started"};if(k.capacity&&await g(C)>=k.capacity)return{success:!1,error:"This class is fully booked"};const{data:F,error:M}=await ye.from("class_bookings").insert({user_id:e.id,class_id:C,status:"booked"}).select("*, class_sessions(id, name, instructor, start_time, end_time, capacity)").single();if(M)throw M;return n(D=>[F,...D]),{success:!0}}catch(E){return console.error("Error creating booking:",E),{success:!1,error:E.message||"Failed to create booking"}}},[e?.id,h,v,g]),b=N.useCallback(async C=>{if(!e?.id)return{success:!1,error:"User not authenticated"};try{const{data:E,error:P}=await ye.from("class_bookings").select("*, class_sessions(start_time)").eq("id",C).eq("user_id",e.id).single();if(P||!E)return{success:!1,error:"Booking not found"};if(E.status==="cancelled")return{success:!1,error:"Booking is already cancelled"};if(E.class_sessions?.start_time){const I=new Date(E.class_sessions.start_time),F=new Date,M=(I.getTime()-F.getTime())/(1e3*60*60);if(M<24&&M>0)return{success:!1,error:"Cannot cancel booking within 24 hours of class start time"};if(M<=0)return{success:!1,error:"Cannot cancel a class that has already started"}}const{error:k}=await ye.from("class_bookings").update({status:"cancelled"}).eq("id",C).eq("user_id",e.id);if(k)throw k;return n(I=>I.map(F=>F.id===C?{...F,status:"cancelled"}:F)),{success:!0}}catch(E){return console.error("Error cancelling booking:",E),{success:!1,error:E.message||"Failed to cancel booking"}}},[e?.id]),A=N.useCallback(async()=>{await u(e?.id)},[t,e?.id,u]);return{bookings:r,loading:i,error:o,createBooking:w,cancelBooking:b,refreshBookings:A}},Lce=()=>{const{classId:t}=BJ(),e=Kn(),[r,n]=N.useState(null),[i,s]=N.useState([]),[o,c]=N.useState(!0),[u,h]=N.useState(null),[g,v]=N.useState(!1),[w,b]=N.useState(!1),[A,C]=N.useState("list"),[E,P]=N.useState("weekly"),[k,I]=N.useState(null),[F,M]=N.useState(!1),{toast:D}=Gn(),{bookings:R,createBooking:$,refreshBookings:z}=F$();N.useEffect(()=>{t&&G()},[t]);const G=async()=>{if(t)try{c(!0);const Q=new Date().toISOString(),{data:ue,error:ae}=await ye.from("classes").select(`
          id,
          name,
          description,
          image_url,
          category_id,
          category,
          class_categories (
            id,
            name,
            image_url
          )
        `).eq("id",t).eq("is_active",!0).single();if(ae)throw ae;if(!ue){Et({title:"Class Not Found",description:"This class does not exist or is no longer available."}),e("/classes");return}n(ue);const{data:se,error:me}=await ye.from("class_sessions").select("*").eq("class_id",t).gte("start_time",Q).order("start_time",{ascending:!0});if(me)throw me;s(se||[])}catch(Q){Et({title:"Error",description:Q.message||"Failed to fetch class data"}),e("/classes")}finally{c(!1)}},W=N.useMemo(()=>i.map(Q=>{const ae=R.filter(Se=>Se.class_id===Q.id&&(Se.status==="booked"||Se.status==="confirmed")).length,se=Q.capacity||0,me=Math.max(0,se-ae),Ue=R.filter(Se=>Se.class_id===Q.id&&(Se.status==="booked"||Se.status==="confirmed")).length>0,Pe=BO(Vt(Q.start_time),new Date);return{...Q,bookedCount:ae,availableSpots:me,isBooked:Ue,isPast:Pe}}),[i,R]),V=5,K=F?W:W.slice(0,V),q=W.length>V,Y=Q=>{if(Q.isBooked){D(Ta.alreadyBooked());return}if(Q.availableSpots===0){D(Ta.classFull());return}if(Q.isPast){Et({title:"Cannot Book",description:"This class has already started."});return}h(Q),v(!0)},J=async()=>{if(u){b(!0);try{const Q=await $(u.id);Q.success?(D(Ta.bookingCreated(u.name)),v(!1),h(null),await z()):D(Ta.bookingFailed(Q.error))}catch(Q){D({variant:"destructive",title:"Error",description:Q.message||"An error occurred while booking."})}finally{b(!1)}}};if(o)return a.jsx("div",{className:"min-h-screen bg-background p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[a.jsx(Dr,{className:"h-10 w-64"}),a.jsx(Dr,{className:"h-64 w-full"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Dr,{className:"h-24 w-full"}),a.jsx(Dr,{className:"h-24 w-full"}),a.jsx(Dr,{className:"h-24 w-full"})]})]})});if(!r)return a.jsx("div",{className:"min-h-screen bg-background p-6",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsx(qe,{children:a.jsxs(ze,{className:"p-12 text-center",children:[a.jsx("p",{className:"text-muted-foreground",children:"Class not found."}),a.jsx(_e,{onClick:()=>e("/classes"),className:"mt-4",children:"Back to Classes"})]})})})});const ne=r.image_url||r.class_categories?.image_url,te=r.class_categories?.name||r.category;return a.jsx("div",{className:"min-h-screen bg-background",children:a.jsxs("div",{className:"container mx-auto max-w-7xl p-6",children:[a.jsxs(_e,{variant:"ghost",onClick:()=>e("/classes"),className:"mb-6",children:[a.jsx(eA,{className:"w-4 h-4 mr-2"}),"Back to Classes"]}),a.jsxs("div",{className:"mb-8",children:[ne&&a.jsxs("div",{className:"relative w-full h-96 rounded-lg overflow-hidden bg-muted mb-6",children:[a.jsx("img",{src:ne,alt:r.name,className:"w-full h-full object-cover"}),te&&a.jsx("div",{className:"absolute top-4 left-4",children:a.jsx(Qt,{variant:"secondary",className:"backdrop-blur-sm bg-secondary/90",children:te})})]}),a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:r.name}),r.description&&a.jsx("p",{className:"text-lg text-muted-foreground max-w-3xl",children:r.description})]}),a.jsxs(_e,{variant:A==="calendar"?"default":"outline",onClick:()=>C(A==="calendar"?"list":"calendar"),className:"shrink-0",children:[a.jsx(yg,{className:"w-4 h-4 mr-2"}),A==="calendar"?"See List":"See Calendar"]})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-semibold",children:A==="calendar"?"Class Schedule":"Upcoming Classes"}),A==="list"&&q&&!F&&a.jsx(_e,{variant:"outline",onClick:()=>M(!0),children:"View Full Timetable"})]}),A==="calendar"?a.jsx(L$,{sessions:W.map(Q=>({id:Q.id,name:Q.name,instructor:Q.instructor,start_time:Q.start_time,end_time:Q.end_time,capacity:Q.capacity,bookedCount:Q.bookedCount,availableSpots:Q.availableSpots,isBooked:Q.isBooked})),onDateClick:Q=>{I(Q)},onSessionClick:Q=>{const ue=W.find(ae=>ae.id===Q.id);ue&&Y(ue)},selectedDate:k,viewMode:E,onViewModeChange:P}):a.jsx(a.Fragment,{children:W.length===0?a.jsx(qe,{children:a.jsx(ze,{className:"p-12 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"No upcoming classes scheduled for this class type. Check back soon!"})})}):a.jsxs("div",{className:"space-y-4",children:[K.map(Q=>a.jsx(Bce,{session:Q,onBookClick:Y},Q.id)),F&&q&&a.jsx("div",{className:"text-center pt-4",children:a.jsx(_e,{variant:"outline",onClick:()=>M(!1),children:"Show Less"})})]})})]}),a.jsx(Rs,{open:g,onOpenChange:v,children:a.jsxs(ps,{children:[a.jsxs(gs,{children:[a.jsx(vs,{children:"Confirm Booking"}),a.jsx(Ms,{children:"Are you sure you want to book this class?"})]}),u&&a.jsxs("div",{className:"space-y-2 py-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Class:"}),a.jsx("span",{className:"text-sm",children:u.name})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Instructor:"}),a.jsx("span",{className:"text-sm",children:u.instructor||"TBA"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Date & Time:"}),a.jsx("span",{className:"text-sm",children:We(Vt(u.start_time),"MMM d, yyyy 'at' h:mm a")})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Duration:"}),a.jsxs("span",{className:"text-sm",children:[Math.round((Vt(u.end_time).getTime()-Vt(u.start_time).getTime())/6e4)," ","minutes"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Available Spots:"}),a.jsxs("span",{className:"text-sm",children:[u.availableSpots," of ",u.capacity||0]})]})]}),a.jsxs(ia,{children:[a.jsx(_e,{variant:"outline",onClick:()=>{v(!1),h(null)},disabled:w,children:"Cancel"}),a.jsx(_e,{onClick:J,disabled:w,children:w?a.jsxs(a.Fragment,{children:[a.jsx(Wn,{className:"w-4 h-4 mr-2 animate-spin"}),"Booking..."]}):"Confirm Booking"})]})]})})]})})},Bce=({session:t,onBookClick:e})=>{const r=Vt(t.start_time),n=Vt(t.end_time),i=Math.round((n.getTime()-r.getTime())/6e4),s=t.availableSpots===0,o=t.availableSpots>0&&t.availableSpots<=3;return a.jsx(qe,{className:"hover:shadow-md transition-shadow",children:a.jsx(ze,{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(_t,{className:"text-xl",children:t.name}),s&&a.jsx(Qt,{variant:"destructive",children:"Full"}),o&&!s&&a.jsx(Qt,{variant:"secondary",children:"Few Spots Left"}),t.isBooked&&a.jsx(Qt,{variant:"default",children:"Booked"})]}),t.instructor&&a.jsxs(cr,{className:"text-base",children:["with ",t.instructor]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Lo,{className:"w-4 h-4"}),a.jsx("span",{children:We(r,"MMM d, yyyy 'at' h:mm a")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Lo,{className:"w-4 h-4"}),a.jsxs("span",{children:[i," minutes"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Rl,{className:"w-4 h-4"}),a.jsxs("span",{children:[t.availableSpots," of ",t.capacity||0," spots available"]})]})]})]}),a.jsx(_e,{onClick:()=>e(t),disabled:t.isBooked||s||t.isPast,variant:t.isBooked?"secondary":"default",className:"shrink-0",children:t.isBooked?"Booked":s?"Full":t.isPast?"Past":"Book this class"})]})})})};var px="Tabs",[Fce]=ls(px,[tx]),U$=tx(),[Uce,qO]=Fce(px),$$=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:c,activationMode:u="automatic",...h}=t,g=J1(c),[v,w]=lo({prop:n,onChange:i,defaultProp:s??"",caller:px});return a.jsx(Uce,{scope:r,baseId:Pa(),value:v,onValueChange:w,orientation:o,dir:g,activationMode:u,children:a.jsx(Mt.div,{dir:g,"data-orientation":o,...h,ref:e})})});$$.displayName=px;var V$="TabsList",q$=N.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,s=qO(V$,r),o=U$(r);return a.jsx(y9,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:a.jsx(Mt.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});q$.displayName=V$;var z$="TabsTrigger",W$=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=t,o=qO(z$,r),c=U$(r),u=K$(o.baseId,n),h=Y$(o.baseId,n),g=n===o.value;return a.jsx(x9,{asChild:!0,...c,focusable:!i,active:g,children:a.jsx(Mt.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":h,"data-state":g?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...s,ref:e,onMouseDown:ft(t.onMouseDown,v=>{!i&&v.button===0&&v.ctrlKey===!1?o.onValueChange(n):v.preventDefault()}),onKeyDown:ft(t.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&o.onValueChange(n)}),onFocus:ft(t.onFocus,()=>{const v=o.activationMode!=="manual";!g&&!i&&v&&o.onValueChange(n)})})})});W$.displayName=z$;var H$="TabsContent",G$=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...o}=t,c=qO(H$,r),u=K$(c.baseId,n),h=Y$(c.baseId,n),g=n===c.value,v=N.useRef(g);return N.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),a.jsx(Bs,{present:i||g,children:({present:w})=>a.jsx(Mt.div,{"data-state":g?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!w,id:h,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:v.current?"0s":void 0},children:w&&s})})});G$.displayName=H$;function K$(t,e){return`${t}-trigger-${e}`}function Y$(t,e){return`${t}-content-${e}`}var $ce=$$,X$=q$,Z$=W$,Q$=G$;const Lg=$ce,Dh=N.forwardRef(({className:t,...e},r)=>a.jsx(X$,{ref:r,className:Re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Dh.displayName=X$.displayName;const qi=N.forwardRef(({className:t,...e},r)=>a.jsx(Z$,{ref:r,className:Re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));qi.displayName=Z$.displayName;const zi=N.forwardRef(({className:t,...e},r)=>a.jsx(Q$,{ref:r,className:Re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));zi.displayName=Q$.displayName;var J$="AlertDialog",[Vce]=ls(J$,[KF]),Ml=KF(),eV=t=>{const{__scopeAlertDialog:e,...r}=t,n=Ml(e);return a.jsx(cO,{...n,...r,modal:!0})};eV.displayName=J$;var qce="AlertDialogTrigger",zce=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Ml(r);return a.jsx(uU,{...i,...n,ref:e})});zce.displayName=qce;var Wce="AlertDialogPortal",tV=t=>{const{__scopeAlertDialog:e,...r}=t,n=Ml(e);return a.jsx(uO,{...n,...r})};tV.displayName=Wce;var Hce="AlertDialogOverlay",rV=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Ml(r);return a.jsx(Ng,{...i,...n,ref:e})});rV.displayName=Hce;var Rf="AlertDialogContent",[Gce,Kce]=Vce(Rf),Yce=yB("AlertDialogContent"),nV=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,s=Ml(r),o=N.useRef(null),c=Nr(e,o),u=N.useRef(null);return a.jsx(Vre,{contentName:Rf,titleName:iV,docsSlug:"alert-dialog",children:a.jsx(Gce,{scope:r,cancelRef:u,children:a.jsxs(Og,{role:"alertdialog",...s,...i,ref:c,onOpenAutoFocus:ft(i.onOpenAutoFocus,h=>{h.preventDefault(),u.current?.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[a.jsx(Yce,{children:n}),a.jsx(Zce,{contentRef:o})]})})})});nV.displayName=Rf;var iV="AlertDialogTitle",sV=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Ml(r);return a.jsx(Tg,{...i,...n,ref:e})});sV.displayName=iV;var aV="AlertDialogDescription",oV=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Ml(r);return a.jsx(kg,{...i,...n,ref:e})});oV.displayName=aV;var Xce="AlertDialogAction",lV=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Ml(r);return a.jsx(ux,{...i,...n,ref:e})});lV.displayName=Xce;var cV="AlertDialogCancel",uV=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=Kce(cV,r),s=Ml(r),o=Nr(e,i);return a.jsx(ux,{...s,...n,ref:o})});uV.displayName=cV;var Zce=({contentRef:t})=>{const e=`\`${Rf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Rf}\` by passing a \`${aV}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Rf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return N.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Qce=eV,Jce=tV,dV=rV,fV=nV,hV=lV,mV=uV,pV=sV,gV=oV;const zO=Qce,eue=Jce,vV=N.forwardRef(({className:t,...e},r)=>a.jsx(dV,{className:Re("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));vV.displayName=dV.displayName;const gx=N.forwardRef(({className:t,...e},r)=>a.jsxs(eue,{children:[a.jsx(vV,{}),a.jsx(fV,{ref:r,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));gx.displayName=fV.displayName;const vx=({className:t,...e})=>a.jsx("div",{className:Re("flex flex-col space-y-2 text-center sm:text-left",t),...e});vx.displayName="AlertDialogHeader";const yx=({className:t,...e})=>a.jsx("div",{className:Re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});yx.displayName="AlertDialogFooter";const xx=N.forwardRef(({className:t,...e},r)=>a.jsx(pV,{ref:r,className:Re("text-lg font-semibold",t),...e}));xx.displayName=pV.displayName;const wx=N.forwardRef(({className:t,...e},r)=>a.jsx(gV,{ref:r,className:Re("text-sm text-muted-foreground",t),...e}));wx.displayName=gV.displayName;const bx=N.forwardRef(({className:t,...e},r)=>a.jsx(hV,{ref:r,className:Re(Cp(),t),...e}));bx.displayName=hV.displayName;const _x=N.forwardRef(({className:t,...e},r)=>a.jsx(mV,{ref:r,className:Re(Cp({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));_x.displayName=mV.displayName;const tue=()=>a.jsxs(qe,{children:[a.jsx(yt,{children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"space-y-2 flex-1",children:[a.jsx(Dr,{className:"h-6 w-3/4"}),a.jsx(Dr,{className:"h-4 w-1/2"})]}),a.jsx(Dr,{className:"h-6 w-16 rounded-full"})]})}),a.jsxs(ze,{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dr,{className:"h-4 w-4 rounded-full"}),a.jsx(Dr,{className:"h-4 w-32"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dr,{className:"h-4 w-4 rounded-full"}),a.jsx(Dr,{className:"h-4 w-40"})]}),a.jsx("div",{className:"flex gap-2 mt-4",children:a.jsx(Dr,{className:"h-9 w-20"})})]})]}),rue=({count:t=4})=>a.jsx("div",{className:"space-y-4",children:Array.from({length:t}).map((e,r)=>a.jsx(tue,{},r))}),nue=({bookings:t,onDateClick:e,onBookingClick:r,selectedDate:n,viewMode:i="weekly",onViewModeChange:s})=>{const[o,c]=N.useState(new Date),[u,h]=N.useState(new Date),[g,v]=N.useState(new Date),[w,b]=N.useState(!1),A=N.useMemo(()=>t.filter(W=>W.class_sessions!==null),[t]),C=N.useMemo(()=>{const W=new Map;return A.forEach(V=>{if(V.class_sessions?.start_time){const K=We(Vt(V.class_sessions.start_time),"yyyy-MM-dd");W.has(K)||W.set(K,[]),W.get(K).push(V)}}),W},[A]),E=W=>{const V=We(W,"yyyy-MM-dd");return C.get(V)||[]},P=Ei(o),k=Rh(o),I=kn(P),F=_s(k),M=Ra({start:I,end:F}),D=()=>{c(FO(o))},R=()=>{c(Hi(o,1))},$=W=>{i==="daily"?(v(W),b("day")):e?.(W)},z=()=>{h(UO(u))},G=()=>{h(Bc(u,1))};if(w==="day"&&i==="daily"){const W=E(g);return a.jsx(iue,{date:g,bookings:W,onBookingClick:r,onBack:()=>b(!1),onDateChange:V=>{v(V),h(V),c(V)}})}if(i==="daily"){const W=kn(g),V=_s(g),K=Ra({start:W,end:V});return a.jsxs(qe,{children:[a.jsx(yt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(_t,{className:"text-2xl font-bold",children:We(g,"EEEE, MMMM d, yyyy")}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_l,{viewMode:i,onViewModeChange:q=>{s?.(q),q!=="daily"&&b(!1)}}),a.jsx(_e,{variant:"outline",size:"icon",onClick:()=>{const q=new Date(g);q.setDate(q.getDate()-1),v(q)},children:a.jsx(Wi,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"outline",size:"icon",onClick:()=>{const q=new Date(g);q.setDate(q.getDate()+1),v(q)},children:a.jsx(bs,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"outline",onClick:()=>{v(new Date)},children:"Today"})]})]})}),a.jsx(ze,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex gap-2",children:K.map(q=>{const Y=Er(q,g),J=Er(q,new Date);return a.jsxs("button",{onClick:()=>v(q),className:Re("flex-1 p-3 rounded-lg border transition-colors text-center",Y&&"bg-primary text-primary-foreground border-primary",!Y&&"hover:bg-accent",J&&!Y&&"border-primary"),children:[a.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:We(q,"EEE")}),a.jsx("div",{className:"text-lg font-semibold",children:We(q,"d")})]},q.toISOString())})}),a.jsx("div",{className:"mt-6",children:a.jsxs("button",{onClick:()=>b("day"),className:"w-full p-4 rounded-lg border hover:bg-accent transition-colors text-left",children:[a.jsx("div",{className:"text-sm font-semibold mb-2",children:"Click to view detailed day schedule"}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[E(g).length," booking",E(g).length!==1?"s":""," on this day"]})]})})]})})]})}if(i==="weekly"){const W=kn(u),V=_s(u),K=Ra({start:W,end:V});return a.jsxs(qe,{children:[a.jsx(yt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(_t,{className:"text-2xl font-bold",children:[We(W,"MMM d")," - ",We(V,"MMM d, yyyy")]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_l,{viewMode:i,onViewModeChange:q=>{s?.(q),q==="daily"&&v(new Date)}}),a.jsx(_e,{variant:"outline",size:"icon",onClick:z,children:a.jsx(Wi,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"outline",size:"icon",onClick:G,children:a.jsx(bs,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"outline",onClick:()=>{h(new Date)},children:"Today"})]})]})}),a.jsx(ze,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-7 gap-1",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(q=>a.jsx("div",{className:"text-center text-sm font-medium text-muted-foreground py-2",children:q},q))}),a.jsx("div",{className:"border-t border-border"}),a.jsx("div",{className:"grid grid-cols-7 gap-1",children:K.map((q,Y)=>{const J=E(q),ne=Er(q,new Date),te=n&&Er(q,n);return a.jsxs("div",{className:Re("min-h-[200px] p-2 cursor-pointer transition-colors border rounded-lg",ne&&"bg-primary/5 border-primary",te&&!ne&&"bg-primary/10 border-primary/50","hover:bg-accent"),onClick:()=>$(q),children:[a.jsx("div",{className:Re("text-sm font-semibold mb-2",ne&&"text-primary",te&&"text-primary"),children:We(q,"d")}),a.jsx("div",{className:"space-y-1",children:J.map(Q=>Q.class_sessions?a.jsxs(Qt,{variant:Q.status==="cancelled"?"secondary":"default",className:Re("w-full text-xs truncate cursor-pointer block",Q.status==="cancelled"?"opacity-50 line-through":"hover:bg-primary hover:text-primary-foreground"),onClick:ue=>{ue.stopPropagation(),r?.(Q)},children:[We(Vt(Q.class_sessions.start_time),"h:mm a")," - ",Q.class_sessions.name]},Q.id):null)})]},Y)})})]})})]})}return a.jsxs(qe,{children:[a.jsx(yt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(_t,{className:"text-2xl font-bold",children:We(o,"MMMM yyyy")}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_l,{viewMode:i,onViewModeChange:W=>s?.(W)}),a.jsx(_e,{variant:"outline",size:"icon",onClick:D,children:a.jsx(Wi,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"outline",size:"icon",onClick:R,children:a.jsx(bs,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"outline",onClick:()=>c(new Date),children:"Today"})]})]})}),a.jsx(ze,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-7 gap-1",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(W=>a.jsx("div",{className:"text-center text-sm font-medium text-muted-foreground py-2",children:W},W))}),a.jsx("div",{className:"border-t border-border"}),a.jsx("div",{className:"space-y-0",children:Array.from({length:Math.ceil(M.length/7)},(W,V)=>{const K=V*7,q=M.slice(K,K+7);return a.jsxs("div",{children:[a.jsx("div",{className:"grid grid-cols-7",children:q.map((Y,J)=>{const ne=E(Y),te=Mh(Y,o),Q=Er(Y,new Date),ue=n&&Er(Y,n);return a.jsxs("div",{className:Re("min-h-[100px] p-2 cursor-pointer transition-colors",!te&&"opacity-40",Q&&"bg-primary/5",ue&&"bg-primary/10","hover:bg-accent"),onClick:()=>$(Y),children:[a.jsx("div",{className:Re("text-sm font-semibold mb-1",Q&&"text-primary",ue&&"text-primary"),children:We(Y,"d")}),a.jsxs("div",{className:"space-y-1",children:[ne.slice(0,3).map(ae=>ae.class_sessions?a.jsx(Qt,{variant:ae.status==="cancelled"?"secondary":"default",className:Re("w-full text-xs truncate cursor-pointer",ae.status==="cancelled"?"opacity-50 line-through":"hover:bg-primary hover:text-primary-foreground"),onClick:se=>{se.stopPropagation(),r?.(ae)},children:ae.class_sessions.name},ae.id):null),ne.length>3&&a.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",ne.length-3," more"]})]})]},J)})}),V<Math.ceil(M.length/7)-1&&a.jsx("div",{className:"border-t border-border my-0"})]},V)})})]})})]})},iue=({date:t,bookings:e,onBookingClick:r,onBack:n,onDateChange:i})=>{const s=kn(t),o=Ra({start:s,end:_s(t)}),c=N.useMemo(()=>[...e].filter(b=>b.class_sessions!==null).sort((b,A)=>{const C=b.class_sessions?.start_time?Vt(b.class_sessions.start_time).getTime():0,E=A.class_sessions?.start_time?Vt(A.class_sessions.start_time).getTime():0;return C-E}),[e]),u=N.useMemo(()=>{const b=new Map;return c.forEach(A=>{if(A.class_sessions?.start_time){const C=Vt(A.class_sessions.start_time).getHours();b.has(C)||b.set(C,[]),b.get(C).push(A)}}),b},[c]),h=Array.from({length:17},(b,A)=>A+6),g=()=>{const b=new Date(t);b.setDate(b.getDate()-1),i(b)},v=()=>{const b=new Date(t);b.setDate(b.getDate()+1),i(b)},w=b=>{switch(b.toLowerCase()){case"booked":case"confirmed":return a.jsx(Qt,{variant:"default",children:"Booked"});case"cancelled":return a.jsx(Qt,{variant:"secondary",children:"Cancelled"});case"attended":return a.jsx(Qt,{variant:"outline",children:"Attended"});case"no_show":return a.jsx(Qt,{variant:"destructive",children:"No Show"});default:return a.jsx(Qt,{variant:"secondary",children:b})}};return a.jsxs(qe,{children:[a.jsx(yt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(_e,{variant:"outline",size:"icon",onClick:n,children:a.jsx(Wi,{className:"h-4 w-4"})}),a.jsx(_t,{className:"text-2xl font-bold",children:We(t,"EEEE, MMMM d, yyyy")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_e,{variant:"outline",size:"icon",onClick:g,children:a.jsx(Wi,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"outline",size:"icon",onClick:v,children:a.jsx(bs,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"outline",onClick:()=>i(new Date),children:"Today"})]})]})}),a.jsx(ze,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex gap-2",children:o.map(b=>{const A=Er(b,t),C=Er(b,new Date);return a.jsxs("button",{onClick:()=>i(b),className:Re("flex-1 p-3 rounded-lg border transition-colors text-center",A&&"bg-primary text-primary-foreground border-primary",!A&&"hover:bg-accent",C&&!A&&"border-primary"),children:[a.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:We(b,"EEE")}),a.jsx("div",{className:"text-lg font-semibold",children:We(b,"d")})]},b.toISOString())})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"My Bookings"}),c.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(Fn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No bookings scheduled for this day"})]}):a.jsx("div",{className:"space-y-2",children:h.map(b=>{const A=u.get(b)||[];return A.length===0?null:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"w-16 text-sm text-muted-foreground pt-2",children:We(new Date().setHours(b,0,0,0),"h:mm a")}),a.jsx("div",{className:"flex-1 space-y-2",children:A.map(C=>{if(!C.class_sessions)return null;const E=Vt(C.class_sessions.start_time),P=Vt(C.class_sessions.end_time),k=(P.getTime()-E.getTime())/(1e3*60);return a.jsx("div",{onClick:()=>r?.(C),className:Re("p-4 rounded-lg border cursor-pointer transition-colors","hover:shadow-md hover:border-primary",C.status==="cancelled"&&"opacity-50",C.status==="booked"&&"bg-primary/5 border-primary/20"),children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h4",{className:"font-semibold",children:C.class_sessions.name}),w(C.status)]}),C.class_sessions.instructor&&a.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:["with ",C.class_sessions.instructor]}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[a.jsxs("span",{children:[We(E,"h:mm a")," - ",We(P,"h:mm a")]}),a.jsxs("span",{children:[k," min"]}),C.class_sessions.capacity&&a.jsxs("span",{children:["Capacity: ",C.class_sessions.capacity]})]})]})})},C.id)})})]},b)})})]})]})})]})},sue=()=>{const[t,e]=N.useState("calendar"),[r,n]=N.useState("weekly"),[i,s]=N.useState(null),[o,c]=N.useState(!1),[u,h]=N.useState(!1),[g,v]=N.useState(!1),[w,b]=N.useState(null),{toast:A}=Gn(),{bookings:C,loading:E,cancelBooking:P,refreshBookings:k}=F$(),{upcomingBookings:I,pastBookings:F}=N.useMemo(()=>{const V=new Date,K=[],q=[];return C.forEach(Y=>{if(Y.class_sessions?.start_time){const J=Vt(Y.class_sessions.start_time);Pp(J,V)||Er(J,V)?K.push(Y):q.push(Y)}else q.push(Y)}),K.sort((Y,J)=>{const ne=Y.class_sessions?.start_time?Vt(Y.class_sessions.start_time).getTime():0,te=J.class_sessions?.start_time?Vt(J.class_sessions.start_time).getTime():0;return ne-te}),q.sort((Y,J)=>{const ne=Y.class_sessions?.start_time?Vt(Y.class_sessions.start_time).getTime():0;return(J.class_sessions?.start_time?Vt(J.class_sessions.start_time).getTime():0)-ne}),{upcomingBookings:K,pastBookings:q}},[C]),M=V=>{s(V),c(!0)},D=V=>{b(V)},R=V=>{s(V),c(!0)},$=V=>{s(V),h(!0)},z=async()=>{if(i){v(!0);try{const V=await P(i.id);V.success?(A(Ta.bookingCancelled()),h(!1),s(null),await k()):A(Ta.cancellationFailed(V.error))}catch(V){Et({title:"Error",description:V.message||"An error occurred while cancelling the booking."})}finally{v(!1)}}},G=V=>{switch(V.toLowerCase()){case"booked":case"confirmed":return a.jsx(Qt,{variant:"default",children:"Booked"});case"cancelled":return a.jsx(Qt,{variant:"secondary",children:"Cancelled"});case"attended":return a.jsx(Qt,{variant:"outline",children:"Attended"});case"no_show":return a.jsx(Qt,{variant:"destructive",children:"No Show"});default:return a.jsx(Qt,{variant:"secondary",children:V})}},W=V=>{if(V.status==="cancelled"||!V.class_sessions?.start_time)return!1;const K=Vt(V.class_sessions.start_time),q=new Date;return(K.getTime()-q.getTime())/(1e3*60*60)>=24&&Pp(K,q)};return E?a.jsx("div",{className:"min-h-screen bg-background p-6",children:a.jsxs("div",{className:"container mx-auto max-w-7xl",children:[a.jsx(Dr,{className:"h-10 w-48 mb-8"}),a.jsxs("div",{className:"flex gap-4 mb-6",children:[a.jsx(Dr,{className:"h-10 w-32"}),a.jsx(Dr,{className:"h-10 w-32"})]}),a.jsx(rue,{count:4})]})}):a.jsx("div",{className:"min-h-screen bg-background p-6",children:a.jsxs("div",{className:"container mx-auto max-w-7xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"My Bookings"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(_e,{variant:t==="list"?"default":"outline",size:"sm",onClick:()=>e("list"),children:[a.jsx(SY,{className:"w-4 h-4 mr-2"}),"List"]}),a.jsxs(_e,{variant:t==="calendar"?"default":"outline",size:"sm",onClick:()=>e("calendar"),children:[a.jsx(yg,{className:"w-4 h-4 mr-2"}),"Calendar"]})]})]}),t==="list"?a.jsxs(Lg,{defaultValue:"upcoming",className:"w-full",children:[a.jsxs(Dh,{children:[a.jsxs(qi,{value:"upcoming",children:["Upcoming (",I.length,")"]}),a.jsxs(qi,{value:"past",children:["Past (",F.length,")"]})]}),a.jsx(zi,{value:"upcoming",className:"mt-6",children:I.length===0?a.jsx(qe,{children:a.jsx(ze,{className:"p-12 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"You don't have any upcoming bookings. Book a class to get started!"})})}):a.jsx("div",{className:"space-y-4",children:I.map(V=>a.jsx(XR,{booking:V,onViewDetails:R,onCancel:$,getStatusBadge:G,canCancel:W},V.id))})}),a.jsx(zi,{value:"past",className:"mt-6",children:F.length===0?a.jsx(qe,{children:a.jsx(ze,{className:"p-12 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"No past bookings."})})}):a.jsx("div",{className:"space-y-4",children:F.map(V=>a.jsx(XR,{booking:V,onViewDetails:R,onCancel:$,getStatusBadge:G,canCancel:W},V.id))})})]}):a.jsx(nue,{bookings:C,selectedDate:w,viewMode:r,onViewModeChange:n,onDateClick:D,onBookingClick:M}),a.jsx(Rs,{open:o,onOpenChange:c,children:a.jsxs(ps,{className:"max-w-2xl",children:[a.jsxs(gs,{children:[a.jsx(vs,{children:"Booking Details"}),a.jsx(Ms,{children:"View full details of your booking"})]}),i&&i.class_sessions&&a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Class Name"}),a.jsx("p",{className:"text-base",children:i.class_sessions.name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),a.jsx("div",{children:G(i.status)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Instructor"}),a.jsx("p",{className:"text-base",children:i.class_sessions.instructor||"TBA"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Capacity"}),a.jsxs("p",{className:"text-base",children:[i.class_sessions.capacity||"N/A"," participants"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Start Time"}),a.jsx("p",{className:"text-base",children:We(Vt(i.class_sessions.start_time),"MMM d, yyyy 'at' h:mm a")})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"End Time"}),a.jsx("p",{className:"text-base",children:We(Vt(i.class_sessions.end_time),"MMM d, yyyy 'at' h:mm a")})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Duration"}),a.jsxs("p",{className:"text-base",children:[Math.round((Vt(i.class_sessions.end_time).getTime()-Vt(i.class_sessions.start_time).getTime())/6e4)," ","minutes"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Booked On"}),a.jsx("p",{className:"text-base",children:We(Vt(i.created_at),"MMM d, yyyy 'at' h:mm a")})]})]})})]})}),a.jsx(zO,{open:u,onOpenChange:h,children:a.jsxs(gx,{children:[a.jsxs(vx,{children:[a.jsx(xx,{children:"Cancel Booking"}),a.jsxs(wx,{children:["Are you sure you want to cancel this booking? This action cannot be undone.",i?.class_sessions?.start_time&&a.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-md",children:[a.jsx("p",{className:"font-medium mb-2",children:i.class_sessions.name}),a.jsx("p",{className:"text-sm",children:We(Vt(i.class_sessions.start_time),"MMM d, yyyy 'at' h:mm a")})]})]})]}),a.jsxs(yx,{children:[a.jsx(_x,{disabled:g,children:"Keep Booking"}),a.jsx(bx,{onClick:z,disabled:g,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:g?a.jsxs(a.Fragment,{children:[a.jsx(Wn,{className:"w-4 h-4 mr-2 animate-spin"}),"Cancelling..."]}):"Cancel Booking"})]})]})})]})})},XR=({booking:t,onViewDetails:e,onCancel:r,getStatusBadge:n,canCancel:i})=>{if(!t.class_sessions)return null;const s=Vt(t.class_sessions.start_time),o=Vt(t.class_sessions.end_time),c=Math.round((o.getTime()-s.getTime())/6e4);return a.jsxs(qe,{className:"hover:shadow-md transition-shadow",children:[a.jsx(yt,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(_t,{className:"mb-1",children:t.class_sessions.name}),a.jsxs(cr,{children:["with ",t.class_sessions.instructor||"TBA"]})]}),n(t.status)]})}),a.jsxs(ze,{children:[a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Fn,{className:"w-4 h-4 text-muted-foreground"}),a.jsx("span",{children:We(s,"MMM d, yyyy")})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Lo,{className:"w-4 h-4 text-muted-foreground"}),a.jsxs("span",{children:[We(s,"h:mm a")," - ",We(o,"h:mm a")," (",c," min)"]})]}),t.class_sessions.capacity&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Rl,{className:"w-4 h-4 text-muted-foreground"}),a.jsxs("span",{children:["Capacity: ",t.class_sessions.capacity]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(_e,{variant:"outline",onClick:()=>e(t),className:"flex-1",children:"View Details"}),i(t)&&a.jsx(_e,{variant:"outline",onClick:()=>r(t),className:"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:"Cancel"})]})]})]})};var xt;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(xt||(xt={}));var ZR=new Map([[xt.QR_CODE,"QR_CODE"],[xt.AZTEC,"AZTEC"],[xt.CODABAR,"CODABAR"],[xt.CODE_39,"CODE_39"],[xt.CODE_93,"CODE_93"],[xt.CODE_128,"CODE_128"],[xt.DATA_MATRIX,"DATA_MATRIX"],[xt.MAXICODE,"MAXICODE"],[xt.ITF,"ITF"],[xt.EAN_13,"EAN_13"],[xt.EAN_8,"EAN_8"],[xt.PDF_417,"PDF_417"],[xt.RSS_14,"RSS_14"],[xt.RSS_EXPANDED,"RSS_EXPANDED"],[xt.UPC_A,"UPC_A"],[xt.UPC_E,"UPC_E"],[xt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),QR;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(QR||(QR={}));function aue(t){return Object.values(xt).includes(t)}var ky;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(ky||(ky={}));var oue=(function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[ky.SCAN_TYPE_CAMERA,ky.SCAN_TYPE_FILE],t})(),yV=(function(){function t(e,r){this.format=e,this.formatName=r}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!ZR.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,ZR.get(e))},t})(),JR=(function(){function t(){}return t.createFromText=function(e){var r={text:e};return{decodedText:e,result:r}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t})(),VA;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(VA||(VA={}));var lue=(function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:VA.UNKWOWN_ERROR}},t})(),cue=(function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,r){(this.verbose||r===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t})();function ul(t){return typeof t>"u"||t===null}var _f=(function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t})(),xV=(function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,r){if(typeof e!="object"){var n=typeof e;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),o=Object.keys(e),c=0,u=o;c<u.length;c++){var h=u[c];if(s.has(h))return r.logError("".concat(h," is not supported videoConstaints."),!0),!1}return!0},t})(),Jm={exports:{}},uue=Jm.exports,e4;function due(){return e4||(e4=1,(function(t,e){(function(r,n){n(e)})(uue,(function(r){function n(X){return X==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,l){X.__proto__=l}||function(X,l){for(var f in l)l.hasOwnProperty(f)&&(X[f]=l[f])};function s(X,l){i(X,l);function f(){this.constructor=X}X.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}function o(X,l){var f=Object.setPrototypeOf;f?f(X,l):X.__proto__=l}function c(X,l){l===void 0&&(l=X.constructor);var f=Error.captureStackTrace;f&&f(X,l)}var u=(function(X){s(l,X);function l(f){var m=this.constructor,y=X.call(this,f)||this;return Object.defineProperty(y,"name",{value:m.name,enumerable:!1}),o(y,m.prototype),c(y),y}return l})(Error);class h extends u{constructor(l=void 0){super(l),this.message=l}getKind(){return this.constructor.kind}}h.kind="Exception";class g extends h{}g.kind="ArgumentException";class v extends h{}v.kind="IllegalArgumentException";class w{constructor(l){if(this.binarizer=l,l===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(l,f){return this.binarizer.getBlackRow(l,f)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(l,f,m,y){const x=this.binarizer.getLuminanceSource().crop(l,f,m,y);return new w(this.binarizer.createBinarizer(x))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new w(this.binarizer.createBinarizer(l))}rotateCounterClockwise45(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new w(this.binarizer.createBinarizer(l))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class b extends h{static getChecksumInstance(){return new b}}b.kind="ChecksumException";class A{constructor(l){this.source=l}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class C{static arraycopy(l,f,m,y,x){for(;x--;)m[y++]=l[f++]}static currentTimeMillis(){return Date.now()}}class E extends h{}E.kind="IndexOutOfBoundsException";class P extends E{constructor(l=void 0,f=void 0){super(f),this.index=l,this.message=f}}P.kind="ArrayIndexOutOfBoundsException";class k{static fill(l,f){for(let m=0,y=l.length;m<y;m++)l[m]=f}static fillWithin(l,f,m,y){k.rangeCheck(l.length,f,m);for(let x=f;x<m;x++)l[x]=y}static rangeCheck(l,f,m){if(f>m)throw new v("fromIndex("+f+") > toIndex("+m+")");if(f<0)throw new P(f);if(m>l)throw new P(m)}static asList(...l){return l}static create(l,f,m){return Array.from({length:l}).map(x=>Array.from({length:f}).fill(m))}static createInt32Array(l,f,m){return Array.from({length:l}).map(x=>Int32Array.from({length:f}).fill(m))}static equals(l,f){if(!l||!f||!l.length||!f.length||l.length!==f.length)return!1;for(let m=0,y=l.length;m<y;m++)if(l[m]!==f[m])return!1;return!0}static hashCode(l){if(l===null)return 0;let f=1;for(const m of l)f=31*f+m;return f}static fillUint8Array(l,f){for(let m=0;m!==l.length;m++)l[m]=f}static copyOf(l,f){return l.slice(0,f)}static copyOfUint8Array(l,f){if(l.length<=f){const m=new Uint8Array(f);return m.set(l),m}return l.slice(0,f)}static copyOfRange(l,f,m){const y=m-f,x=new Int32Array(y);return C.arraycopy(l,f,x,0,y),x}static binarySearch(l,f,m){m===void 0&&(m=k.numberComparator);let y=0,x=l.length-1;for(;y<=x;){const _=x+y>>1,j=m(f,l[_]);if(j>0)y=_+1;else if(j<0)x=_-1;else return _}return-y-1}static numberComparator(l,f){return l-f}}class I{static numberOfTrailingZeros(l){let f;if(l===0)return 32;let m=31;return f=l<<16,f!==0&&(m-=16,l=f),f=l<<8,f!==0&&(m-=8,l=f),f=l<<4,f!==0&&(m-=4,l=f),f=l<<2,f!==0&&(m-=2,l=f),m-(l<<1>>>31)}static numberOfLeadingZeros(l){if(l===0)return 32;let f=1;return l>>>16||(f+=16,l<<=16),l>>>24||(f+=8,l<<=8),l>>>28||(f+=4,l<<=4),l>>>30||(f+=2,l<<=2),f-=l>>>31,f}static toHexString(l){return l.toString(16)}static toBinaryString(l){return String(parseInt(String(l),2))}static bitCount(l){return l=l-(l>>>1&1431655765),l=(l&858993459)+(l>>>2&858993459),l=l+(l>>>4)&252645135,l=l+(l>>>8),l=l+(l>>>16),l&63}static truncDivision(l,f){return Math.trunc(l/f)}static parseInt(l,f=void 0){return parseInt(l,f)}}I.MIN_VALUE_32_BITS=-2147483648,I.MAX_VALUE=Number.MAX_SAFE_INTEGER;class F{constructor(l,f){l===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=l,f==null?this.bits=F.makeArray(l):this.bits=f)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(l){if(l>this.bits.length*32){const f=F.makeArray(l);C.arraycopy(this.bits,0,f,0,this.bits.length),this.bits=f}}get(l){return(this.bits[Math.floor(l/32)]&1<<(l&31))!==0}set(l){this.bits[Math.floor(l/32)]|=1<<(l&31)}flip(l){this.bits[Math.floor(l/32)]^=1<<(l&31)}getNextSet(l){const f=this.size;if(l>=f)return f;const m=this.bits;let y=Math.floor(l/32),x=m[y];x&=~((1<<(l&31))-1);const _=m.length;for(;x===0;){if(++y===_)return f;x=m[y]}const j=y*32+I.numberOfTrailingZeros(x);return j>f?f:j}getNextUnset(l){const f=this.size;if(l>=f)return f;const m=this.bits;let y=Math.floor(l/32),x=~m[y];x&=~((1<<(l&31))-1);const _=m.length;for(;x===0;){if(++y===_)return f;x=~m[y]}const j=y*32+I.numberOfTrailingZeros(x);return j>f?f:j}setBulk(l,f){this.bits[Math.floor(l/32)]=f}setRange(l,f){if(f<l||l<0||f>this.size)throw new v;if(f===l)return;f--;const m=Math.floor(l/32),y=Math.floor(f/32),x=this.bits;for(let _=m;_<=y;_++){const j=_>m?0:l&31,L=(2<<(_<y?31:f&31))-(1<<j);x[_]|=L}}clear(){const l=this.bits.length,f=this.bits;for(let m=0;m<l;m++)f[m]=0}isRange(l,f,m){if(f<l||l<0||f>this.size)throw new v;if(f===l)return!0;f--;const y=Math.floor(l/32),x=Math.floor(f/32),_=this.bits;for(let j=y;j<=x;j++){const T=j>y?0:l&31,H=(2<<(j<x?31:f&31))-(1<<T)&4294967295;if((_[j]&H)!==(m?H:0))return!1}return!0}appendBit(l){this.ensureCapacity(this.size+1),l&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(l,f){if(f<0||f>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+f);for(let m=f;m>0;m--)this.appendBit((l>>m-1&1)===1)}appendBitArray(l){const f=l.size;this.ensureCapacity(this.size+f);for(let m=0;m<f;m++)this.appendBit(l.get(m))}xor(l){if(this.size!==l.size)throw new v("Sizes don't match");const f=this.bits;for(let m=0,y=f.length;m<y;m++)f[m]^=l.bits[m]}toBytes(l,f,m,y){for(let x=0;x<y;x++){let _=0;for(let j=0;j<8;j++)this.get(l)&&(_|=1<<7-j),l++;f[m+x]=_}}getBitArray(){return this.bits}reverse(){const l=new Int32Array(this.bits.length),f=Math.floor((this.size-1)/32),m=f+1,y=this.bits;for(let x=0;x<m;x++){let _=y[x];_=_>>1&1431655765|(_&1431655765)<<1,_=_>>2&858993459|(_&858993459)<<2,_=_>>4&252645135|(_&252645135)<<4,_=_>>8&16711935|(_&16711935)<<8,_=_>>16&65535|(_&65535)<<16,l[f-x]=_}if(this.size!==m*32){const x=m*32-this.size;let _=l[0]>>>x;for(let j=1;j<m;j++){const T=l[j];_|=T<<32-x,l[j-1]=_,_=T>>>x}l[m-1]=_}this.bits=l}static makeArray(l){return new Int32Array(Math.floor((l+31)/32))}equals(l){if(!(l instanceof F))return!1;const f=l;return this.size===f.size&&k.equals(this.bits,f.bits)}hashCode(){return 31*this.size+k.hashCode(this.bits)}toString(){let l="";for(let f=0,m=this.size;f<m;f++)(f&7)===0&&(l+=" "),l+=this.get(f)?"X":".";return l}clone(){return new F(this.size,this.bits.slice())}}var M;(function(X){X[X.OTHER=0]="OTHER",X[X.PURE_BARCODE=1]="PURE_BARCODE",X[X.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",X[X.TRY_HARDER=3]="TRY_HARDER",X[X.CHARACTER_SET=4]="CHARACTER_SET",X[X.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",X[X.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",X[X.ASSUME_GS1=7]="ASSUME_GS1",X[X.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",X[X.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",X[X.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(M||(M={}));var D=M;class R extends h{static getFormatInstance(){return new R}}R.kind="FormatException";var $;(function(X){X[X.Cp437=0]="Cp437",X[X.ISO8859_1=1]="ISO8859_1",X[X.ISO8859_2=2]="ISO8859_2",X[X.ISO8859_3=3]="ISO8859_3",X[X.ISO8859_4=4]="ISO8859_4",X[X.ISO8859_5=5]="ISO8859_5",X[X.ISO8859_6=6]="ISO8859_6",X[X.ISO8859_7=7]="ISO8859_7",X[X.ISO8859_8=8]="ISO8859_8",X[X.ISO8859_9=9]="ISO8859_9",X[X.ISO8859_10=10]="ISO8859_10",X[X.ISO8859_11=11]="ISO8859_11",X[X.ISO8859_13=12]="ISO8859_13",X[X.ISO8859_14=13]="ISO8859_14",X[X.ISO8859_15=14]="ISO8859_15",X[X.ISO8859_16=15]="ISO8859_16",X[X.SJIS=16]="SJIS",X[X.Cp1250=17]="Cp1250",X[X.Cp1251=18]="Cp1251",X[X.Cp1252=19]="Cp1252",X[X.Cp1256=20]="Cp1256",X[X.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",X[X.UTF8=22]="UTF8",X[X.ASCII=23]="ASCII",X[X.Big5=24]="Big5",X[X.GB18030=25]="GB18030",X[X.EUC_KR=26]="EUC_KR"})($||($={}));class z{constructor(l,f,m,...y){this.valueIdentifier=l,this.name=m,typeof f=="number"?this.values=Int32Array.from([f]):this.values=f,this.otherEncodingNames=y,z.VALUE_IDENTIFIER_TO_ECI.set(l,this),z.NAME_TO_ECI.set(m,this);const x=this.values;for(let _=0,j=x.length;_!==j;_++){const T=x[_];z.VALUES_TO_ECI.set(T,this)}for(const _ of y)z.NAME_TO_ECI.set(_,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(l){if(l<0||l>=900)throw new R("incorect value");const f=z.VALUES_TO_ECI.get(l);if(f===void 0)throw new R("incorect value");return f}static getCharacterSetECIByName(l){const f=z.NAME_TO_ECI.get(l);if(f===void 0)throw new R("incorect value");return f}equals(l){if(!(l instanceof z))return!1;const f=l;return this.getName()===f.getName()}}z.VALUE_IDENTIFIER_TO_ECI=new Map,z.VALUES_TO_ECI=new Map,z.NAME_TO_ECI=new Map,z.Cp437=new z($.Cp437,Int32Array.from([0,2]),"Cp437"),z.ISO8859_1=new z($.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),z.ISO8859_2=new z($.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),z.ISO8859_3=new z($.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),z.ISO8859_4=new z($.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),z.ISO8859_5=new z($.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),z.ISO8859_6=new z($.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),z.ISO8859_7=new z($.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),z.ISO8859_8=new z($.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),z.ISO8859_9=new z($.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),z.ISO8859_10=new z($.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),z.ISO8859_11=new z($.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),z.ISO8859_13=new z($.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),z.ISO8859_14=new z($.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),z.ISO8859_15=new z($.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),z.ISO8859_16=new z($.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),z.SJIS=new z($.SJIS,20,"SJIS","Shift_JIS"),z.Cp1250=new z($.Cp1250,21,"Cp1250","windows-1250"),z.Cp1251=new z($.Cp1251,22,"Cp1251","windows-1251"),z.Cp1252=new z($.Cp1252,23,"Cp1252","windows-1252"),z.Cp1256=new z($.Cp1256,24,"Cp1256","windows-1256"),z.UnicodeBigUnmarked=new z($.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),z.UTF8=new z($.UTF8,26,"UTF8","UTF-8"),z.ASCII=new z($.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),z.Big5=new z($.Big5,28,"Big5"),z.GB18030=new z($.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),z.EUC_KR=new z($.EUC_KR,30,"EUC_KR","EUC-KR");class G extends h{}G.kind="UnsupportedOperationException";class W{static decode(l,f){const m=this.encodingName(f);return this.customDecoder?this.customDecoder(l,m):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(m)?this.decodeFallback(l,m):new TextDecoder(m).decode(l)}static shouldDecodeOnFallback(l){return!W.isBrowser()&&l==="ISO-8859-1"}static encode(l,f){const m=this.encodingName(f);return this.customEncoder?this.customEncoder(l,m):typeof TextEncoder>"u"?this.encodeFallback(l):new TextEncoder().encode(l)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(l){return typeof l=="string"?l:l.getName()}static encodingCharacterSet(l){return l instanceof z?l:z.getCharacterSetECIByName(l)}static decodeFallback(l,f){const m=this.encodingCharacterSet(f);if(W.isDecodeFallbackSupported(m)){let y="";for(let x=0,_=l.length;x<_;x++){let j=l[x].toString(16);j.length<2&&(j="0"+j),y+="%"+j}return decodeURIComponent(y)}if(m.equals(z.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(l.buffer));throw new G(`Encoding ${this.encodingName(f)} not supported by fallback.`)}static isDecodeFallbackSupported(l){return l.equals(z.UTF8)||l.equals(z.ISO8859_1)||l.equals(z.ASCII)}static encodeFallback(l){const m=btoa(unescape(encodeURIComponent(l))).split(""),y=[];for(let x=0;x<m.length;x++)y.push(m[x].charCodeAt(0));return new Uint8Array(y)}}class V{static castAsNonUtf8Char(l,f=null){const m=f?f.getName():this.ISO88591;return W.decode(new Uint8Array([l]),m)}static guessEncoding(l,f){if(f!=null&&f.get(D.CHARACTER_SET)!==void 0)return f.get(D.CHARACTER_SET).toString();const m=l.length;let y=!0,x=!0,_=!0,j=0,T=0,L=0,H=0,Z=0,re=0,ce=0,pe=0,ve=0,Ae=0,Me=0;const nt=l.length>3&&l[0]===239&&l[1]===187&&l[2]===191;for(let it=0;it<m&&(y||x||_);it++){const Je=l[it]&255;_&&(j>0?(Je&128)===0?_=!1:j--:(Je&128)!==0&&((Je&64)===0?_=!1:(j++,(Je&32)===0?T++:(j++,(Je&16)===0?L++:(j++,(Je&8)===0?H++:_=!1))))),y&&(Je>127&&Je<160?y=!1:Je>159&&(Je<192||Je===215||Je===247)&&Me++),x&&(Z>0?Je<64||Je===127||Je>252?x=!1:Z--:Je===128||Je===160||Je>239?x=!1:Je>160&&Je<224?(re++,pe=0,ce++,ce>ve&&(ve=ce)):Je>127?(Z++,ce=0,pe++,pe>Ae&&(Ae=pe)):(ce=0,pe=0))}return _&&j>0&&(_=!1),x&&Z>0&&(x=!1),_&&(nt||T+L+H>0)?V.UTF8:x&&(V.ASSUME_SHIFT_JIS||ve>=3||Ae>=3)?V.SHIFT_JIS:y&&x?ve===2&&re===2||Me*10>=m?V.SHIFT_JIS:V.ISO88591:y?V.ISO88591:x?V.SHIFT_JIS:_?V.UTF8:V.PLATFORM_DEFAULT_ENCODING}static format(l,...f){let m=-1;function y(_,j,T,L,H,Z){if(_==="%%")return"%";if(f[++m]===void 0)return;_=L?parseInt(L.substr(1)):void 0;let re=H?parseInt(H.substr(1)):void 0,ce;switch(Z){case"s":ce=f[m];break;case"c":ce=f[m][0];break;case"f":ce=parseFloat(f[m]).toFixed(_);break;case"p":ce=parseFloat(f[m]).toPrecision(_);break;case"e":ce=parseFloat(f[m]).toExponential(_);break;case"x":ce=parseInt(f[m]).toString(re||16);break;case"d":ce=parseFloat(parseInt(f[m],re||10).toPrecision(_)).toFixed(0);break}ce=typeof ce=="object"?JSON.stringify(ce):(+ce).toString(re);let pe=parseInt(T),ve=T&&T[0]+""=="0"?"0":" ";for(;ce.length<pe;)ce=j!==void 0?ce+ve:ve+ce;return ce}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(x,y)}static getBytes(l,f){return W.encode(l,f)}static getCharCode(l,f=0){return l.charCodeAt(f)}static getCharAt(l){return String.fromCharCode(l)}}V.SHIFT_JIS=z.SJIS.getName(),V.GB2312="GB2312",V.ISO88591=z.ISO8859_1.getName(),V.EUC_JP="EUC_JP",V.UTF8=z.UTF8.getName(),V.PLATFORM_DEFAULT_ENCODING=V.UTF8,V.ASSUME_SHIFT_JIS=!1;class K{constructor(l=""){this.value=l}enableDecoding(l){return this.encoding=l,this}append(l){return typeof l=="string"?this.value+=l.toString():this.encoding?this.value+=V.castAsNonUtf8Char(l,this.encoding):this.value+=String.fromCharCode(l),this}appendChars(l,f,m){for(let y=f;f<f+m;y++)this.append(l[y]);return this}length(){return this.value.length}charAt(l){return this.value.charAt(l)}deleteCharAt(l){this.value=this.value.substr(0,l)+this.value.substring(l+1)}setCharAt(l,f){this.value=this.value.substr(0,l)+f+this.value.substr(l+1)}substring(l,f){return this.value.substring(l,f)}setLengthToZero(){this.value=""}toString(){return this.value}insert(l,f){this.value=this.value.substr(0,l)+f+this.value.substr(l+f.length)}}class q{constructor(l,f,m,y){if(this.width=l,this.height=f,this.rowSize=m,this.bits=y,f==null&&(f=l),this.height=f,l<1||f<1)throw new v("Both dimensions must be greater than 0");m==null&&(m=Math.floor((l+31)/32)),this.rowSize=m,y==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(l){const f=l.length,m=l[0].length,y=new q(m,f);for(let x=0;x<f;x++){const _=l[x];for(let j=0;j<m;j++)_[j]&&y.set(j,x)}return y}static parseFromString(l,f,m){if(l===null)throw new v("stringRepresentation cannot be null");const y=new Array(l.length);let x=0,_=0,j=-1,T=0,L=0;for(;L<l.length;)if(l.charAt(L)===`
`||l.charAt(L)==="\r"){if(x>_){if(j===-1)j=x-_;else if(x-_!==j)throw new v("row lengths do not match");_=x,T++}L++}else if(l.substring(L,L+f.length)===f)L+=f.length,y[x]=!0,x++;else if(l.substring(L,L+m.length)===m)L+=m.length,y[x]=!1,x++;else throw new v("illegal character encountered: "+l.substring(L));if(x>_){if(j===-1)j=x-_;else if(x-_!==j)throw new v("row lengths do not match");T++}const H=new q(j,T);for(let Z=0;Z<x;Z++)y[Z]&&H.set(Math.floor(Z%j),Math.floor(Z/j));return H}get(l,f){const m=f*this.rowSize+Math.floor(l/32);return(this.bits[m]>>>(l&31)&1)!==0}set(l,f){const m=f*this.rowSize+Math.floor(l/32);this.bits[m]|=1<<(l&31)&4294967295}unset(l,f){const m=f*this.rowSize+Math.floor(l/32);this.bits[m]&=~(1<<(l&31)&4294967295)}flip(l,f){const m=f*this.rowSize+Math.floor(l/32);this.bits[m]^=1<<(l&31)&4294967295}xor(l){if(this.width!==l.getWidth()||this.height!==l.getHeight()||this.rowSize!==l.getRowSize())throw new v("input matrix dimensions do not match");const f=new F(Math.floor(this.width/32)+1),m=this.rowSize,y=this.bits;for(let x=0,_=this.height;x<_;x++){const j=x*m,T=l.getRow(x,f).getBitArray();for(let L=0;L<m;L++)y[j+L]^=T[L]}}clear(){const l=this.bits,f=l.length;for(let m=0;m<f;m++)l[m]=0}setRegion(l,f,m,y){if(f<0||l<0)throw new v("Left and top must be nonnegative");if(y<1||m<1)throw new v("Height and width must be at least 1");const x=l+m,_=f+y;if(_>this.height||x>this.width)throw new v("The region must fit inside the matrix");const j=this.rowSize,T=this.bits;for(let L=f;L<_;L++){const H=L*j;for(let Z=l;Z<x;Z++)T[H+Math.floor(Z/32)]|=1<<(Z&31)&4294967295}}getRow(l,f){f==null||f.getSize()<this.width?f=new F(this.width):f.clear();const m=this.rowSize,y=this.bits,x=l*m;for(let _=0;_<m;_++)f.setBulk(_*32,y[x+_]);return f}setRow(l,f){C.arraycopy(f.getBitArray(),0,this.bits,l*this.rowSize,this.rowSize)}rotate180(){const l=this.getWidth(),f=this.getHeight();let m=new F(l),y=new F(l);for(let x=0,_=Math.floor((f+1)/2);x<_;x++)m=this.getRow(x,m),y=this.getRow(f-1-x,y),m.reverse(),y.reverse(),this.setRow(x,y),this.setRow(f-1-x,m)}getEnclosingRectangle(){const l=this.width,f=this.height,m=this.rowSize,y=this.bits;let x=l,_=f,j=-1,T=-1;for(let L=0;L<f;L++)for(let H=0;H<m;H++){const Z=y[L*m+H];if(Z!==0){if(L<_&&(_=L),L>T&&(T=L),H*32<x){let re=0;for(;(Z<<31-re&4294967295)===0;)re++;H*32+re<x&&(x=H*32+re)}if(H*32+31>j){let re=31;for(;!(Z>>>re);)re--;H*32+re>j&&(j=H*32+re)}}}return j<x||T<_?null:Int32Array.from([x,_,j-x+1,T-_+1])}getTopLeftOnBit(){const l=this.rowSize,f=this.bits;let m=0;for(;m<f.length&&f[m]===0;)m++;if(m===f.length)return null;const y=m/l;let x=m%l*32;const _=f[m];let j=0;for(;(_<<31-j&4294967295)===0;)j++;return x+=j,Int32Array.from([x,y])}getBottomRightOnBit(){const l=this.rowSize,f=this.bits;let m=f.length-1;for(;m>=0&&f[m]===0;)m--;if(m<0)return null;const y=Math.floor(m/l);let x=Math.floor(m%l)*32;const _=f[m];let j=31;for(;!(_>>>j);)j--;return x+=j,Int32Array.from([x,y])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(l){if(!(l instanceof q))return!1;const f=l;return this.width===f.width&&this.height===f.height&&this.rowSize===f.rowSize&&k.equals(this.bits,f.bits)}hashCode(){let l=this.width;return l=31*l+this.width,l=31*l+this.height,l=31*l+this.rowSize,l=31*l+k.hashCode(this.bits),l}toString(l="X ",f="  ",m=`
`){return this.buildToString(l,f,m)}buildToString(l,f,m){let y=new K;for(let x=0,_=this.height;x<_;x++){for(let j=0,T=this.width;j<T;j++)y.append(this.get(j,x)?l:f);y.append(m)}return y.toString()}clone(){return new q(this.width,this.height,this.rowSize,this.bits.slice())}}class Y extends h{static getNotFoundInstance(){return new Y}}Y.kind="NotFoundException";class J extends A{constructor(l){super(l),this.luminances=J.EMPTY,this.buckets=new Int32Array(J.LUMINANCE_BUCKETS)}getBlackRow(l,f){const m=this.getLuminanceSource(),y=m.getWidth();f==null||f.getSize()<y?f=new F(y):f.clear(),this.initArrays(y);const x=m.getRow(l,this.luminances),_=this.buckets;for(let T=0;T<y;T++)_[(x[T]&255)>>J.LUMINANCE_SHIFT]++;const j=J.estimateBlackPoint(_);if(y<3)for(let T=0;T<y;T++)(x[T]&255)<j&&f.set(T);else{let T=x[0]&255,L=x[1]&255;for(let H=1;H<y-1;H++){const Z=x[H+1]&255;(L*4-T-Z)/2<j&&f.set(H),T=L,L=Z}}return f}getBlackMatrix(){const l=this.getLuminanceSource(),f=l.getWidth(),m=l.getHeight(),y=new q(f,m);this.initArrays(f);const x=this.buckets;for(let T=1;T<5;T++){const L=Math.floor(m*T/5),H=l.getRow(L,this.luminances),Z=Math.floor(f*4/5);for(let re=Math.floor(f/5);re<Z;re++){const ce=H[re]&255;x[ce>>J.LUMINANCE_SHIFT]++}}const _=J.estimateBlackPoint(x),j=l.getMatrix();for(let T=0;T<m;T++){const L=T*f;for(let H=0;H<f;H++)(j[L+H]&255)<_&&y.set(H,T)}return y}createBinarizer(l){return new J(l)}initArrays(l){this.luminances.length<l&&(this.luminances=new Uint8ClampedArray(l));const f=this.buckets;for(let m=0;m<J.LUMINANCE_BUCKETS;m++)f[m]=0}static estimateBlackPoint(l){const f=l.length;let m=0,y=0,x=0;for(let H=0;H<f;H++)l[H]>x&&(y=H,x=l[H]),l[H]>m&&(m=l[H]);let _=0,j=0;for(let H=0;H<f;H++){const Z=H-y,re=l[H]*Z*Z;re>j&&(_=H,j=re)}if(y>_){const H=y;y=_,_=H}if(_-y<=f/16)throw new Y;let T=_-1,L=-1;for(let H=_-1;H>y;H--){const Z=H-y,re=Z*Z*(_-H)*(m-l[H]);re>L&&(T=H,L=re)}return T<<J.LUMINANCE_SHIFT}}J.LUMINANCE_BITS=5,J.LUMINANCE_SHIFT=8-J.LUMINANCE_BITS,J.LUMINANCE_BUCKETS=1<<J.LUMINANCE_BITS,J.EMPTY=Uint8ClampedArray.from([0]);class ne extends J{constructor(l){super(l),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const l=this.getLuminanceSource(),f=l.getWidth(),m=l.getHeight();if(f>=ne.MINIMUM_DIMENSION&&m>=ne.MINIMUM_DIMENSION){const y=l.getMatrix();let x=f>>ne.BLOCK_SIZE_POWER;(f&ne.BLOCK_SIZE_MASK)!==0&&x++;let _=m>>ne.BLOCK_SIZE_POWER;(m&ne.BLOCK_SIZE_MASK)!==0&&_++;const j=ne.calculateBlackPoints(y,x,_,f,m),T=new q(f,m);ne.calculateThresholdForBlock(y,x,_,f,m,j,T),this.matrix=T}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(l){return new ne(l)}static calculateThresholdForBlock(l,f,m,y,x,_,j){const T=x-ne.BLOCK_SIZE,L=y-ne.BLOCK_SIZE;for(let H=0;H<m;H++){let Z=H<<ne.BLOCK_SIZE_POWER;Z>T&&(Z=T);const re=ne.cap(H,2,m-3);for(let ce=0;ce<f;ce++){let pe=ce<<ne.BLOCK_SIZE_POWER;pe>L&&(pe=L);const ve=ne.cap(ce,2,f-3);let Ae=0;for(let nt=-2;nt<=2;nt++){const it=_[re+nt];Ae+=it[ve-2]+it[ve-1]+it[ve]+it[ve+1]+it[ve+2]}const Me=Ae/25;ne.thresholdBlock(l,pe,Z,Me,y,j)}}}static cap(l,f,m){return l<f?f:l>m?m:l}static thresholdBlock(l,f,m,y,x,_){for(let j=0,T=m*x+f;j<ne.BLOCK_SIZE;j++,T+=x)for(let L=0;L<ne.BLOCK_SIZE;L++)(l[T+L]&255)<=y&&_.set(f+L,m+j)}static calculateBlackPoints(l,f,m,y,x){const _=x-ne.BLOCK_SIZE,j=y-ne.BLOCK_SIZE,T=new Array(m);for(let L=0;L<m;L++){T[L]=new Int32Array(f);let H=L<<ne.BLOCK_SIZE_POWER;H>_&&(H=_);for(let Z=0;Z<f;Z++){let re=Z<<ne.BLOCK_SIZE_POWER;re>j&&(re=j);let ce=0,pe=255,ve=0;for(let Me=0,nt=H*y+re;Me<ne.BLOCK_SIZE;Me++,nt+=y){for(let it=0;it<ne.BLOCK_SIZE;it++){const Je=l[nt+it]&255;ce+=Je,Je<pe&&(pe=Je),Je>ve&&(ve=Je)}if(ve-pe>ne.MIN_DYNAMIC_RANGE)for(Me++,nt+=y;Me<ne.BLOCK_SIZE;Me++,nt+=y)for(let it=0;it<ne.BLOCK_SIZE;it++)ce+=l[nt+it]&255}let Ae=ce>>ne.BLOCK_SIZE_POWER*2;if(ve-pe<=ne.MIN_DYNAMIC_RANGE&&(Ae=pe/2,L>0&&Z>0)){const Me=(T[L-1][Z]+2*T[L][Z-1]+T[L-1][Z-1])/4;pe<Me&&(Ae=Me)}T[L][Z]=Ae}}return T}}ne.BLOCK_SIZE_POWER=3,ne.BLOCK_SIZE=1<<ne.BLOCK_SIZE_POWER,ne.BLOCK_SIZE_MASK=ne.BLOCK_SIZE-1,ne.MINIMUM_DIMENSION=ne.BLOCK_SIZE*5,ne.MIN_DYNAMIC_RANGE=24;class te{constructor(l,f){this.width=l,this.height=f}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(l,f,m,y){throw new G("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new G("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new G("This luminance source does not support rotation by 45 degrees.")}toString(){const l=new Uint8ClampedArray(this.width);let f=new K;for(let m=0;m<this.height;m++){const y=this.getRow(m,l);for(let x=0;x<this.width;x++){const _=y[x]&255;let j;_<64?j="#":_<128?j="+":_<192?j=".":j=" ",f.append(j)}f.append(`
`)}return f.toString()}}class Q extends te{constructor(l){super(l.getWidth(),l.getHeight()),this.delegate=l}getRow(l,f){const m=this.delegate.getRow(l,f),y=this.getWidth();for(let x=0;x<y;x++)m[x]=255-(m[x]&255);return m}getMatrix(){const l=this.delegate.getMatrix(),f=this.getWidth()*this.getHeight(),m=new Uint8ClampedArray(f);for(let y=0;y<f;y++)m[y]=255-(l[y]&255);return m}isCropSupported(){return this.delegate.isCropSupported()}crop(l,f,m,y){return new Q(this.delegate.crop(l,f,m,y))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Q(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Q(this.delegate.rotateCounterClockwise45())}}class ue extends te{constructor(l){super(l.width,l.height),this.canvas=l,this.tempCanvasElement=null,this.buffer=ue.makeBufferFromCanvasImageData(l)}static makeBufferFromCanvasImageData(l){const f=l.getContext("2d").getImageData(0,0,l.width,l.height);return ue.toGrayscaleBuffer(f.data,l.width,l.height)}static toGrayscaleBuffer(l,f,m){const y=new Uint8ClampedArray(f*m);for(let x=0,_=0,j=l.length;x<j;x+=4,_++){let T;if(l[x+3]===0)T=255;else{const H=l[x],Z=l[x+1],re=l[x+2];T=306*H+601*Z+117*re+512>>10}y[_]=T}return y}getRow(l,f){if(l<0||l>=this.getHeight())throw new v("Requested row is outside the image: "+l);const m=this.getWidth(),y=l*m;return f===null?f=this.buffer.slice(y,y+m):(f.length<m&&(f=new Uint8ClampedArray(m)),f.set(this.buffer.slice(y,y+m))),f}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(l,f,m,y){return super.crop(l,f,m,y),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const l=this.canvas.ownerDocument.createElement("canvas");l.width=this.canvas.width,l.height=this.canvas.height,this.tempCanvasElement=l}return this.tempCanvasElement}rotate(l){const f=this.getTempCanvasElement(),m=f.getContext("2d"),y=l*ue.DEGREE_TO_RADIANS,x=this.canvas.width,_=this.canvas.height,j=Math.ceil(Math.abs(Math.cos(y))*x+Math.abs(Math.sin(y))*_),T=Math.ceil(Math.abs(Math.sin(y))*x+Math.abs(Math.cos(y))*_);return f.width=j,f.height=T,m.translate(j/2,T/2),m.rotate(y),m.drawImage(this.canvas,x/-2,_/-2),this.buffer=ue.makeBufferFromCanvasImageData(f),this}invert(){return new Q(this)}}ue.DEGREE_TO_RADIANS=Math.PI/180;class ae{constructor(l,f,m){this.deviceId=l,this.label=f,this.kind="videoinput",this.groupId=m||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var se=(globalThis||_c||self||window||void 0)&&(globalThis||_c||self||window||void 0).__awaiter||function(X,l,f,m){function y(x){return x instanceof f?x:new f(function(_){_(x)})}return new(f||(f=Promise))(function(x,_){function j(H){try{L(m.next(H))}catch(Z){_(Z)}}function T(H){try{L(m.throw(H))}catch(Z){_(Z)}}function L(H){H.done?x(H.value):y(H.value).then(j,T)}L((m=m.apply(X,l||[])).next())})};class me{constructor(l,f=500,m){this.reader=l,this.timeBetweenScansMillis=f,this._hints=m,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(l){this._timeBetweenDecodingAttempts=l<0?0:l}set hints(l){this._hints=l||null}get hints(){return this._hints}listVideoInputDevices(){return se(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const l=yield navigator.mediaDevices.enumerateDevices(),f=[];for(const m of l){const y=m.kind==="video"?"videoinput":m.kind;if(y!=="videoinput")continue;const x=m.deviceId||m.id,_=m.label||`Video device ${f.length+1}`,j=m.groupId,T={deviceId:x,label:_,kind:y,groupId:j};f.push(T)}return f})}getVideoInputDevices(){return se(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(f=>new ae(f.deviceId,f.label))})}findDeviceById(l){return se(this,void 0,void 0,function*(){const f=yield this.listVideoInputDevices();return f?f.find(m=>m.deviceId===l):null})}decodeFromInputVideoDevice(l,f){return se(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(l,f)})}decodeOnceFromVideoDevice(l,f){return se(this,void 0,void 0,function*(){this.reset();let m;l?m={deviceId:{exact:l}}:m={facingMode:"environment"};const y={video:m};return yield this.decodeOnceFromConstraints(y,f)})}decodeOnceFromConstraints(l,f){return se(this,void 0,void 0,function*(){const m=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeOnceFromStream(m,f)})}decodeOnceFromStream(l,f){return se(this,void 0,void 0,function*(){this.reset();const m=yield this.attachStreamToVideo(l,f);return yield this.decodeOnce(m)})}decodeFromInputVideoDeviceContinuously(l,f,m){return se(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(l,f,m)})}decodeFromVideoDevice(l,f,m){return se(this,void 0,void 0,function*(){let y;l?y={deviceId:{exact:l}}:y={facingMode:"environment"};const x={video:y};return yield this.decodeFromConstraints(x,f,m)})}decodeFromConstraints(l,f,m){return se(this,void 0,void 0,function*(){const y=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeFromStream(y,f,m)})}decodeFromStream(l,f,m){return se(this,void 0,void 0,function*(){this.reset();const y=yield this.attachStreamToVideo(l,f);return yield this.decodeContinuously(y,m)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(l,f){return se(this,void 0,void 0,function*(){const m=this.prepareVideoElement(f);return this.addVideoSource(m,l),this.videoElement=m,this.stream=l,yield this.playVideoOnLoadAsync(m),m})}playVideoOnLoadAsync(l){return new Promise((f,m)=>this.playVideoOnLoad(l,()=>f()))}playVideoOnLoad(l,f){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(l),l.addEventListener("ended",this.videoEndedListener),l.addEventListener("canplay",this.videoCanPlayListener),l.addEventListener("playing",f),this.tryPlayVideo(l)}isVideoPlaying(l){return l.currentTime>0&&!l.paused&&!l.ended&&l.readyState>2}tryPlayVideo(l){return se(this,void 0,void 0,function*(){if(this.isVideoPlaying(l)){console.warn("Trying to play video that is already playing.");return}try{yield l.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(l,f){const m=document.getElementById(l);if(!m)throw new g(`element with id '${l}' not found`);if(m.nodeName.toLowerCase()!==f.toLowerCase())throw new g(`element with id '${l}' must be an ${f} element`);return m}decodeFromImage(l,f){if(!l&&!f)throw new g("either imageElement with a src set or an url must be provided");return f&&!l?this.decodeFromImageUrl(f):this.decodeFromImageElement(l)}decodeFromVideo(l,f){if(!l&&!f)throw new g("Either an element with a src set or an URL must be provided");return f&&!l?this.decodeFromVideoUrl(f):this.decodeFromVideoElement(l)}decodeFromVideoContinuously(l,f,m){if(l===void 0&&f===void 0)throw new g("Either an element with a src set or an URL must be provided");return f&&!l?this.decodeFromVideoUrlContinuously(f,m):this.decodeFromVideoElementContinuously(l,m)}decodeFromImageElement(l){if(!l)throw new g("An image element must be provided.");this.reset();const f=this.prepareImageElement(l);this.imageElement=f;let m;return this.isImageLoaded(f)?m=this.decodeOnce(f,!1,!0):m=this._decodeOnLoadImage(f),m}decodeFromVideoElement(l){const f=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideo(f)}decodeFromVideoElementContinuously(l,f){const m=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideoContinuously(m,f)}_decodeFromVideoElementSetup(l){if(!l)throw new g("A video element must be provided.");this.reset();const f=this.prepareVideoElement(l);return this.videoElement=f,f}decodeFromImageUrl(l){if(!l)throw new g("An URL must be provided.");this.reset();const f=this.prepareImageElement();this.imageElement=f;const m=this._decodeOnLoadImage(f);return f.src=l,m}decodeFromVideoUrl(l){if(!l)throw new g("An URL must be provided.");this.reset();const f=this.prepareVideoElement(),m=this.decodeFromVideoElement(f);return f.src=l,m}decodeFromVideoUrlContinuously(l,f){if(!l)throw new g("An URL must be provided.");this.reset();const m=this.prepareVideoElement(),y=this.decodeFromVideoElementContinuously(m,f);return m.src=l,y}_decodeOnLoadImage(l){return new Promise((f,m)=>{this.imageLoadedListener=()=>this.decodeOnce(l,!1,!0).then(f,m),l.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(l){return se(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(l),yield this.decodeOnce(l)})}_decodeOnLoadVideoContinuously(l,f){return se(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(l),this.decodeContinuously(l,f)})}isImageLoaded(l){return!(!l.complete||l.naturalWidth===0)}prepareImageElement(l){let f;return typeof l>"u"&&(f=document.createElement("img"),f.width=200,f.height=200),typeof l=="string"&&(f=this.getMediaElement(l,"img")),l instanceof HTMLImageElement&&(f=l),f}prepareVideoElement(l){let f;return!l&&typeof document<"u"&&(f=document.createElement("video"),f.width=200,f.height=200),typeof l=="string"&&(f=this.getMediaElement(l,"video")),l instanceof HTMLVideoElement&&(f=l),f.setAttribute("autoplay","true"),f.setAttribute("muted","true"),f.setAttribute("playsinline","true"),f}decodeOnce(l,f=!0,m=!0){this._stopAsyncDecode=!1;const y=(x,_)=>{if(this._stopAsyncDecode){_(new Y("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const j=this.decode(l);x(j)}catch(j){const T=f&&j instanceof Y,H=(j instanceof b||j instanceof R)&&m;if(T||H)return setTimeout(y,this._timeBetweenDecodingAttempts,x,_);_(j)}};return new Promise((x,_)=>y(x,_))}decodeContinuously(l,f){this._stopContinuousDecode=!1;const m=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const y=this.decode(l);f(y,null),setTimeout(m,this.timeBetweenScansMillis)}catch(y){f(null,y);const x=y instanceof b||y instanceof R,_=y instanceof Y;(x||_)&&setTimeout(m,this._timeBetweenDecodingAttempts)}};m()}decode(l){const f=this.createBinaryBitmap(l);return this.decodeBitmap(f)}_isHTMLVideoElement(l){return l.videoWidth!==0}drawFrameOnCanvas(l,f,m){f||(f={sx:0,sy:0,sWidth:l.videoWidth,sHeight:l.videoHeight,dx:0,dy:0,dWidth:l.videoWidth,dHeight:l.videoHeight}),m||(m=this.captureCanvasContext),m.drawImage(l,f.sx,f.sy,f.sWidth,f.sHeight,f.dx,f.dy,f.dWidth,f.dHeight)}drawImageOnCanvas(l,f,m=this.captureCanvasContext){f||(f={sx:0,sy:0,sWidth:l.naturalWidth,sHeight:l.naturalHeight,dx:0,dy:0,dWidth:l.naturalWidth,dHeight:l.naturalHeight}),m||(m=this.captureCanvasContext),m.drawImage(l,f.sx,f.sy,f.sWidth,f.sHeight,f.dx,f.dy,f.dWidth,f.dHeight)}createBinaryBitmap(l){this.getCaptureCanvasContext(l),this._isHTMLVideoElement(l)?this.drawFrameOnCanvas(l):this.drawImageOnCanvas(l);const f=this.getCaptureCanvas(l),m=new ue(f),y=new ne(m);return new w(y)}getCaptureCanvasContext(l){if(!this.captureCanvasContext){const m=this.getCaptureCanvas(l).getContext("2d");this.captureCanvasContext=m}return this.captureCanvasContext}getCaptureCanvas(l){if(!this.captureCanvas){const f=this.createCaptureCanvas(l);this.captureCanvas=f}return this.captureCanvas}decodeBitmap(l){return this.reader.decode(l,this._hints)}createCaptureCanvas(l){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const f=document.createElement("canvas");let m,y;return typeof l<"u"&&(l instanceof HTMLVideoElement?(m=l.videoWidth,y=l.videoHeight):l instanceof HTMLImageElement&&(m=l.naturalWidth||l.width,y=l.naturalHeight||l.height)),f.style.width=m+"px",f.style.height=y+"px",f.width=m,f.height=y,f}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(l=>l.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(l,f){try{l.srcObject=f}catch{l.src=URL.createObjectURL(f)}}cleanVideoSource(l){try{l.srcObject=null}catch{l.src=""}this.videoElement.removeAttribute("src")}}class xe{constructor(l,f,m=f==null?0:8*f.length,y,x,_=C.currentTimeMillis()){this.text=l,this.rawBytes=f,this.numBits=m,this.resultPoints=y,this.format=x,this.timestamp=_,this.text=l,this.rawBytes=f,m==null?this.numBits=f==null?0:8*f.length:this.numBits=m,this.resultPoints=y,this.format=x,this.resultMetadata=null,_==null?this.timestamp=C.currentTimeMillis():this.timestamp=_}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(l,f){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(l,f)}putAllMetadata(l){l!==null&&(this.resultMetadata===null?this.resultMetadata=l:this.resultMetadata=new Map(l))}addResultPoints(l){const f=this.resultPoints;if(f===null)this.resultPoints=l;else if(l!==null&&l.length>0){const m=new Array(f.length+l.length);C.arraycopy(f,0,m,0,f.length),C.arraycopy(l,0,m,f.length,l.length),this.resultPoints=m}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ue;(function(X){X[X.AZTEC=0]="AZTEC",X[X.CODABAR=1]="CODABAR",X[X.CODE_39=2]="CODE_39",X[X.CODE_93=3]="CODE_93",X[X.CODE_128=4]="CODE_128",X[X.DATA_MATRIX=5]="DATA_MATRIX",X[X.EAN_8=6]="EAN_8",X[X.EAN_13=7]="EAN_13",X[X.ITF=8]="ITF",X[X.MAXICODE=9]="MAXICODE",X[X.PDF_417=10]="PDF_417",X[X.QR_CODE=11]="QR_CODE",X[X.RSS_14=12]="RSS_14",X[X.RSS_EXPANDED=13]="RSS_EXPANDED",X[X.UPC_A=14]="UPC_A",X[X.UPC_E=15]="UPC_E",X[X.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ue||(Ue={}));var Pe=Ue,Se;(function(X){X[X.OTHER=0]="OTHER",X[X.ORIENTATION=1]="ORIENTATION",X[X.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",X[X.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",X[X.ISSUE_NUMBER=4]="ISSUE_NUMBER",X[X.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",X[X.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",X[X.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",X[X.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",X[X.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",X[X.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Se||(Se={}));var je=Se;class Ee{constructor(l,f,m,y,x=-1,_=-1){this.rawBytes=l,this.text=f,this.byteSegments=m,this.ecLevel=y,this.structuredAppendSequenceNumber=x,this.structuredAppendParity=_,this.numBits=l==null?0:8*l.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(l){this.numBits=l}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(l){this.errorsCorrected=l}getErasures(){return this.erasures}setErasures(l){this.erasures=l}getOther(){return this.other}setOther(l){this.other=l}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Fe{exp(l){return this.expTable[l]}log(l){if(l===0)throw new v;return this.logTable[l]}static addOrSubtract(l,f){return l^f}}class Ce{constructor(l,f){if(f.length===0)throw new v;this.field=l;const m=f.length;if(m>1&&f[0]===0){let y=1;for(;y<m&&f[y]===0;)y++;y===m?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(m-y),C.arraycopy(f,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=f}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);const f=this.coefficients;let m;if(l===1){m=0;for(let _=0,j=f.length;_!==j;_++){const T=f[_];m=Fe.addOrSubtract(m,T)}return m}m=f[0];const y=f.length,x=this.field;for(let _=1;_<y;_++)m=Fe.addOrSubtract(x.multiply(l,m),f[_]);return m}addOrSubtract(l){if(!this.field.equals(l.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return l;if(l.isZero())return this;let f=this.coefficients,m=l.coefficients;if(f.length>m.length){const _=f;f=m,m=_}let y=new Int32Array(m.length);const x=m.length-f.length;C.arraycopy(m,0,y,0,x);for(let _=x;_<m.length;_++)y[_]=Fe.addOrSubtract(f[_-x],m[_]);return new Ce(this.field,y)}multiply(l){if(!this.field.equals(l.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||l.isZero())return this.field.getZero();const f=this.coefficients,m=f.length,y=l.coefficients,x=y.length,_=new Int32Array(m+x-1),j=this.field;for(let T=0;T<m;T++){const L=f[T];for(let H=0;H<x;H++)_[T+H]=Fe.addOrSubtract(_[T+H],j.multiply(L,y[H]))}return new Ce(j,_)}multiplyScalar(l){if(l===0)return this.field.getZero();if(l===1)return this;const f=this.coefficients.length,m=this.field,y=new Int32Array(f),x=this.coefficients;for(let _=0;_<f;_++)y[_]=m.multiply(x[_],l);return new Ce(m,y)}multiplyByMonomial(l,f){if(l<0)throw new v;if(f===0)return this.field.getZero();const m=this.coefficients,y=m.length,x=new Int32Array(y+l),_=this.field;for(let j=0;j<y;j++)x[j]=_.multiply(m[j],f);return new Ce(_,x)}divide(l){if(!this.field.equals(l.field))throw new v("GenericGFPolys do not have same GenericGF field");if(l.isZero())throw new v("Divide by 0");const f=this.field;let m=f.getZero(),y=this;const x=l.getCoefficient(l.getDegree()),_=f.inverse(x);for(;y.getDegree()>=l.getDegree()&&!y.isZero();){const j=y.getDegree()-l.getDegree(),T=f.multiply(y.getCoefficient(y.getDegree()),_),L=l.multiplyByMonomial(j,T),H=f.buildMonomial(j,T);m=m.addOrSubtract(H),y=y.addOrSubtract(L)}return[m,y]}toString(){let l="";for(let f=this.getDegree();f>=0;f--){let m=this.getCoefficient(f);if(m!==0){if(m<0?(l+=" - ",m=-m):l.length>0&&(l+=" + "),f===0||m!==1){const y=this.field.log(m);y===0?l+="1":y===1?l+="a":(l+="a^",l+=y)}f!==0&&(f===1?l+="x":(l+="x^",l+=f))}}return l}}class be extends h{}be.kind="ArithmeticException";class He extends Fe{constructor(l,f,m){super(),this.primitive=l,this.size=f,this.generatorBase=m;const y=new Int32Array(f);let x=1;for(let j=0;j<f;j++)y[j]=x,x*=2,x>=f&&(x^=l,x&=f-1);this.expTable=y;const _=new Int32Array(f);for(let j=0;j<f-1;j++)_[y[j]]=j;this.logTable=_,this.zero=new Ce(this,Int32Array.from([0])),this.one=new Ce(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,f){if(l<0)throw new v;if(f===0)return this.zero;const m=new Int32Array(l+1);return m[0]=f,new Ce(this,m)}inverse(l){if(l===0)throw new be;return this.expTable[this.size-this.logTable[l]-1]}multiply(l,f){return l===0||f===0?0:this.expTable[(this.logTable[l]+this.logTable[f])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+I.toHexString(this.primitive)+","+this.size+")"}equals(l){return l===this}}He.AZTEC_DATA_12=new He(4201,4096,1),He.AZTEC_DATA_10=new He(1033,1024,1),He.AZTEC_DATA_6=new He(67,64,1),He.AZTEC_PARAM=new He(19,16,1),He.QR_CODE_FIELD_256=new He(285,256,0),He.DATA_MATRIX_FIELD_256=new He(301,256,1),He.AZTEC_DATA_8=He.DATA_MATRIX_FIELD_256,He.MAXICODE_FIELD_64=He.AZTEC_DATA_6;class Te extends h{}Te.kind="ReedSolomonException";class Ge extends h{}Ge.kind="IllegalStateException";class gt{constructor(l){this.field=l}decode(l,f){const m=this.field,y=new Ce(m,l),x=new Int32Array(f);let _=!0;for(let ce=0;ce<f;ce++){const pe=y.evaluateAt(m.exp(ce+m.getGeneratorBase()));x[x.length-1-ce]=pe,pe!==0&&(_=!1)}if(_)return;const j=new Ce(m,x),T=this.runEuclideanAlgorithm(m.buildMonomial(f,1),j,f),L=T[0],H=T[1],Z=this.findErrorLocations(L),re=this.findErrorMagnitudes(H,Z);for(let ce=0;ce<Z.length;ce++){const pe=l.length-1-m.log(Z[ce]);if(pe<0)throw new Te("Bad error location");l[pe]=He.addOrSubtract(l[pe],re[ce])}}runEuclideanAlgorithm(l,f,m){if(l.getDegree()<f.getDegree()){const ce=l;l=f,f=ce}const y=this.field;let x=l,_=f,j=y.getZero(),T=y.getOne();for(;_.getDegree()>=(m/2|0);){let ce=x,pe=j;if(x=_,j=T,x.isZero())throw new Te("r_{i-1} was zero");_=ce;let ve=y.getZero();const Ae=x.getCoefficient(x.getDegree()),Me=y.inverse(Ae);for(;_.getDegree()>=x.getDegree()&&!_.isZero();){const nt=_.getDegree()-x.getDegree(),it=y.multiply(_.getCoefficient(_.getDegree()),Me);ve=ve.addOrSubtract(y.buildMonomial(nt,it)),_=_.addOrSubtract(x.multiplyByMonomial(nt,it))}if(T=ve.multiply(j).addOrSubtract(pe),_.getDegree()>=x.getDegree())throw new Ge("Division algorithm failed to reduce polynomial?")}const L=T.getCoefficient(0);if(L===0)throw new Te("sigmaTilde(0) was zero");const H=y.inverse(L),Z=T.multiplyScalar(H),re=_.multiplyScalar(H);return[Z,re]}findErrorLocations(l){const f=l.getDegree();if(f===1)return Int32Array.from([l.getCoefficient(1)]);const m=new Int32Array(f);let y=0;const x=this.field;for(let _=1;_<x.getSize()&&y<f;_++)l.evaluateAt(_)===0&&(m[y]=x.inverse(_),y++);if(y!==f)throw new Te("Error locator degree does not match number of roots");return m}findErrorMagnitudes(l,f){const m=f.length,y=new Int32Array(m),x=this.field;for(let _=0;_<m;_++){const j=x.inverse(f[_]);let T=1;for(let L=0;L<m;L++)if(_!==L){const H=x.multiply(f[L],j),Z=(H&1)===0?H|1:H&-2;T=x.multiply(T,Z)}y[_]=x.multiply(l.evaluateAt(j),x.inverse(T)),x.getGeneratorBase()!==0&&(y[_]=x.multiply(y[_],j))}return y}}var lt;(function(X){X[X.UPPER=0]="UPPER",X[X.LOWER=1]="LOWER",X[X.MIXED=2]="MIXED",X[X.DIGIT=3]="DIGIT",X[X.PUNCT=4]="PUNCT",X[X.BINARY=5]="BINARY"})(lt||(lt={}));class Ct{decode(l){this.ddata=l;let f=l.getBits(),m=this.extractBits(f),y=this.correctBits(m),x=Ct.convertBoolArrayToByteArray(y),_=Ct.getEncodedData(y),j=new Ee(x,_,null,null);return j.setNumBits(y.length),j}static highLevelDecode(l){return this.getEncodedData(l)}static getEncodedData(l){let f=l.length,m=lt.UPPER,y=lt.UPPER,x="",_=0;for(;_<f;)if(y===lt.BINARY){if(f-_<5)break;let j=Ct.readCode(l,_,5);if(_+=5,j===0){if(f-_<11)break;j=Ct.readCode(l,_,11)+31,_+=11}for(let T=0;T<j;T++){if(f-_<8){_=f;break}const L=Ct.readCode(l,_,8);x+=V.castAsNonUtf8Char(L),_+=8}y=m}else{let j=y===lt.DIGIT?4:5;if(f-_<j)break;let T=Ct.readCode(l,_,j);_+=j;let L=Ct.getCharacter(y,T);L.startsWith("CTRL_")?(m=y,y=Ct.getTable(L.charAt(5)),L.charAt(6)==="L"&&(m=y)):(x+=L,y=m)}return x}static getTable(l){switch(l){case"L":return lt.LOWER;case"P":return lt.PUNCT;case"M":return lt.MIXED;case"D":return lt.DIGIT;case"B":return lt.BINARY;case"U":default:return lt.UPPER}}static getCharacter(l,f){switch(l){case lt.UPPER:return Ct.UPPER_TABLE[f];case lt.LOWER:return Ct.LOWER_TABLE[f];case lt.MIXED:return Ct.MIXED_TABLE[f];case lt.PUNCT:return Ct.PUNCT_TABLE[f];case lt.DIGIT:return Ct.DIGIT_TABLE[f];default:throw new Ge("Bad table")}}correctBits(l){let f,m;this.ddata.getNbLayers()<=2?(m=6,f=He.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(m=8,f=He.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(m=10,f=He.AZTEC_DATA_10):(m=12,f=He.AZTEC_DATA_12);let y=this.ddata.getNbDatablocks(),x=l.length/m;if(x<y)throw new R;let _=l.length%m,j=new Int32Array(x);for(let re=0;re<x;re++,_+=m)j[re]=Ct.readCode(l,_,m);try{new gt(f).decode(j,x-y)}catch(re){throw new R(re)}let T=(1<<m)-1,L=0;for(let re=0;re<y;re++){let ce=j[re];if(ce===0||ce===T)throw new R;(ce===1||ce===T-1)&&L++}let H=new Array(y*m-L),Z=0;for(let re=0;re<y;re++){let ce=j[re];if(ce===1||ce===T-1)H.fill(ce>1,Z,Z+m-1),Z+=m-1;else for(let pe=m-1;pe>=0;--pe)H[Z++]=(ce&1<<pe)!==0}return H}extractBits(l){let f=this.ddata.isCompact(),m=this.ddata.getNbLayers(),y=(f?11:14)+m*4,x=new Int32Array(y),_=new Array(this.totalBitsInLayer(m,f));if(f)for(let j=0;j<x.length;j++)x[j]=j;else{let j=y+1+2*I.truncDivision(I.truncDivision(y,2)-1,15),T=y/2,L=I.truncDivision(j,2);for(let H=0;H<T;H++){let Z=H+I.truncDivision(H,15);x[T-H-1]=L-Z-1,x[T+H]=L+Z+1}}for(let j=0,T=0;j<m;j++){let L=(m-j)*4+(f?9:12),H=j*2,Z=y-1-H;for(let re=0;re<L;re++){let ce=re*2;for(let pe=0;pe<2;pe++)_[T+ce+pe]=l.get(x[H+pe],x[H+re]),_[T+2*L+ce+pe]=l.get(x[H+re],x[Z-pe]),_[T+4*L+ce+pe]=l.get(x[Z-pe],x[Z-re]),_[T+6*L+ce+pe]=l.get(x[Z-re],x[H+pe])}T+=L*8}return _}static readCode(l,f,m){let y=0;for(let x=f;x<f+m;x++)y<<=1,l[x]&&(y|=1);return y}static readByte(l,f){let m=l.length-f;return m>=8?Ct.readCode(l,f,8):Ct.readCode(l,f,m)<<8-m}static convertBoolArrayToByteArray(l){let f=new Uint8Array((l.length+7)/8);for(let m=0;m<f.length;m++)f[m]=Ct.readByte(l,8*m);return f}totalBitsInLayer(l,f){return((f?88:112)+16*l)*l}}Ct.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ct.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ct.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ct.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ct.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class dt{constructor(){}static round(l){return l===NaN?0:l<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:l>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:l+(l<0?-.5:.5)|0}static distance(l,f,m,y){const x=l-m,_=f-y;return Math.sqrt(x*x+_*_)}static sum(l){let f=0;for(let m=0,y=l.length;m!==y;m++){const x=l[m];f+=x}return f}}class de{static floatToIntBits(l){return l}}de.MAX_VALUE=Number.MAX_SAFE_INTEGER;class he{constructor(l,f){this.x=l,this.y=f}getX(){return this.x}getY(){return this.y}equals(l){if(l instanceof he){const f=l;return this.x===f.x&&this.y===f.y}return!1}hashCode(){return 31*de.floatToIntBits(this.x)+de.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(l){const f=this.distance(l[0],l[1]),m=this.distance(l[1],l[2]),y=this.distance(l[0],l[2]);let x,_,j;if(m>=f&&m>=y?(_=l[0],x=l[1],j=l[2]):y>=m&&y>=f?(_=l[1],x=l[0],j=l[2]):(_=l[2],x=l[0],j=l[1]),this.crossProductZ(x,_,j)<0){const T=x;x=j,j=T}l[0]=x,l[1]=_,l[2]=j}static distance(l,f){return dt.distance(l.x,l.y,f.x,f.y)}static crossProductZ(l,f,m){const y=f.x,x=f.y;return(m.x-y)*(l.y-x)-(m.y-x)*(l.x-y)}}class Ie{constructor(l,f){this.bits=l,this.points=f}getBits(){return this.bits}getPoints(){return this.points}}class Qe extends Ie{constructor(l,f,m,y,x){super(l,f),this.compact=m,this.nbDatablocks=y,this.nbLayers=x}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ke{constructor(l,f,m,y){this.image=l,this.height=l.getHeight(),this.width=l.getWidth(),f==null&&(f=Ke.INIT_SIZE),m==null&&(m=l.getWidth()/2|0),y==null&&(y=l.getHeight()/2|0);const x=f/2|0;if(this.leftInit=m-x,this.rightInit=m+x,this.upInit=y-x,this.downInit=y+x,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Y}detect(){let l=this.leftInit,f=this.rightInit,m=this.upInit,y=this.downInit,x=!1,_=!0,j=!1,T=!1,L=!1,H=!1,Z=!1;const re=this.width,ce=this.height;for(;_;){_=!1;let pe=!0;for(;(pe||!T)&&f<re;)pe=this.containsBlackPoint(m,y,f,!1),pe?(f++,_=!0,T=!0):T||f++;if(f>=re){x=!0;break}let ve=!0;for(;(ve||!L)&&y<ce;)ve=this.containsBlackPoint(l,f,y,!0),ve?(y++,_=!0,L=!0):L||y++;if(y>=ce){x=!0;break}let Ae=!0;for(;(Ae||!H)&&l>=0;)Ae=this.containsBlackPoint(m,y,l,!1),Ae?(l--,_=!0,H=!0):H||l--;if(l<0){x=!0;break}let Me=!0;for(;(Me||!Z)&&m>=0;)Me=this.containsBlackPoint(l,f,m,!0),Me?(m--,_=!0,Z=!0):Z||m--;if(m<0){x=!0;break}_&&(j=!0)}if(!x&&j){const pe=f-l;let ve=null;for(let it=1;ve===null&&it<pe;it++)ve=this.getBlackPointOnSegment(l,y-it,l+it,y);if(ve==null)throw new Y;let Ae=null;for(let it=1;Ae===null&&it<pe;it++)Ae=this.getBlackPointOnSegment(l,m+it,l+it,m);if(Ae==null)throw new Y;let Me=null;for(let it=1;Me===null&&it<pe;it++)Me=this.getBlackPointOnSegment(f,m+it,f-it,m);if(Me==null)throw new Y;let nt=null;for(let it=1;nt===null&&it<pe;it++)nt=this.getBlackPointOnSegment(f,y-it,f-it,y);if(nt==null)throw new Y;return this.centerEdges(nt,ve,Me,Ae)}else throw new Y}getBlackPointOnSegment(l,f,m,y){const x=dt.round(dt.distance(l,f,m,y)),_=(m-l)/x,j=(y-f)/x,T=this.image;for(let L=0;L<x;L++){const H=dt.round(l+L*_),Z=dt.round(f+L*j);if(T.get(H,Z))return new he(H,Z)}return null}centerEdges(l,f,m,y){const x=l.getX(),_=l.getY(),j=f.getX(),T=f.getY(),L=m.getX(),H=m.getY(),Z=y.getX(),re=y.getY(),ce=Ke.CORR;return x<this.width/2?[new he(Z-ce,re+ce),new he(j+ce,T+ce),new he(L-ce,H-ce),new he(x+ce,_-ce)]:[new he(Z+ce,re+ce),new he(j+ce,T-ce),new he(L-ce,H+ce),new he(x-ce,_-ce)]}containsBlackPoint(l,f,m,y){const x=this.image;if(y){for(let _=l;_<=f;_++)if(x.get(_,m))return!0}else for(let _=l;_<=f;_++)if(x.get(m,_))return!0;return!1}}Ke.INIT_SIZE=10,Ke.CORR=1;class Ye{static checkAndNudgePoints(l,f){const m=l.getWidth(),y=l.getHeight();let x=!0;for(let _=0;_<f.length&&x;_+=2){const j=Math.floor(f[_]),T=Math.floor(f[_+1]);if(j<-1||j>m||T<-1||T>y)throw new Y;x=!1,j===-1?(f[_]=0,x=!0):j===m&&(f[_]=m-1,x=!0),T===-1?(f[_+1]=0,x=!0):T===y&&(f[_+1]=y-1,x=!0)}x=!0;for(let _=f.length-2;_>=0&&x;_-=2){const j=Math.floor(f[_]),T=Math.floor(f[_+1]);if(j<-1||j>m||T<-1||T>y)throw new Y;x=!1,j===-1?(f[_]=0,x=!0):j===m&&(f[_]=m-1,x=!0),T===-1?(f[_+1]=0,x=!0):T===y&&(f[_+1]=y-1,x=!0)}}}class Xe{constructor(l,f,m,y,x,_,j,T,L){this.a11=l,this.a21=f,this.a31=m,this.a12=y,this.a22=x,this.a32=_,this.a13=j,this.a23=T,this.a33=L}static quadrilateralToQuadrilateral(l,f,m,y,x,_,j,T,L,H,Z,re,ce,pe,ve,Ae){const Me=Xe.quadrilateralToSquare(l,f,m,y,x,_,j,T);return Xe.squareToQuadrilateral(L,H,Z,re,ce,pe,ve,Ae).times(Me)}transformPoints(l){const f=l.length,m=this.a11,y=this.a12,x=this.a13,_=this.a21,j=this.a22,T=this.a23,L=this.a31,H=this.a32,Z=this.a33;for(let re=0;re<f;re+=2){const ce=l[re],pe=l[re+1],ve=x*ce+T*pe+Z;l[re]=(m*ce+_*pe+L)/ve,l[re+1]=(y*ce+j*pe+H)/ve}}transformPointsWithValues(l,f){const m=this.a11,y=this.a12,x=this.a13,_=this.a21,j=this.a22,T=this.a23,L=this.a31,H=this.a32,Z=this.a33,re=l.length;for(let ce=0;ce<re;ce++){const pe=l[ce],ve=f[ce],Ae=x*pe+T*ve+Z;l[ce]=(m*pe+_*ve+L)/Ae,f[ce]=(y*pe+j*ve+H)/Ae}}static squareToQuadrilateral(l,f,m,y,x,_,j,T){const L=l-m+x-j,H=f-y+_-T;if(L===0&&H===0)return new Xe(m-l,x-m,l,y-f,_-y,f,0,0,1);{const Z=m-x,re=j-x,ce=y-_,pe=T-_,ve=Z*pe-re*ce,Ae=(L*pe-re*H)/ve,Me=(Z*H-L*ce)/ve;return new Xe(m-l+Ae*m,j-l+Me*j,l,y-f+Ae*y,T-f+Me*T,f,Ae,Me,1)}}static quadrilateralToSquare(l,f,m,y,x,_,j,T){return Xe.squareToQuadrilateral(l,f,m,y,x,_,j,T).buildAdjoint()}buildAdjoint(){return new Xe(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(l){return new Xe(this.a11*l.a11+this.a21*l.a12+this.a31*l.a13,this.a11*l.a21+this.a21*l.a22+this.a31*l.a23,this.a11*l.a31+this.a21*l.a32+this.a31*l.a33,this.a12*l.a11+this.a22*l.a12+this.a32*l.a13,this.a12*l.a21+this.a22*l.a22+this.a32*l.a23,this.a12*l.a31+this.a22*l.a32+this.a32*l.a33,this.a13*l.a11+this.a23*l.a12+this.a33*l.a13,this.a13*l.a21+this.a23*l.a22+this.a33*l.a23,this.a13*l.a31+this.a23*l.a32+this.a33*l.a33)}}class vt extends Ye{sampleGrid(l,f,m,y,x,_,j,T,L,H,Z,re,ce,pe,ve,Ae,Me,nt,it){const Je=Xe.quadrilateralToQuadrilateral(y,x,_,j,T,L,H,Z,re,ce,pe,ve,Ae,Me,nt,it);return this.sampleGridWithTransform(l,f,m,Je)}sampleGridWithTransform(l,f,m,y){if(f<=0||m<=0)throw new Y;const x=new q(f,m),_=new Float32Array(2*f);for(let j=0;j<m;j++){const T=_.length,L=j+.5;for(let H=0;H<T;H+=2)_[H]=H/2+.5,_[H+1]=L;y.transformPoints(_),Ye.checkAndNudgePoints(l,_);try{for(let H=0;H<T;H+=2)l.get(Math.floor(_[H]),Math.floor(_[H+1]))&&x.set(H/2,j)}catch{throw new Y}}return x}}class Ft{static setGridSampler(l){Ft.gridSampler=l}static getInstance(){return Ft.gridSampler}}Ft.gridSampler=new vt;class br{constructor(l,f){this.x=l,this.y=f}toResultPoint(){return new he(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class an{constructor(l){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=l}detect(){return this.detectMirror(!1)}detectMirror(l){let f=this.getMatrixCenter(),m=this.getBullsEyeCorners(f);if(l){let _=m[0];m[0]=m[2],m[2]=_}this.extractParameters(m);let y=this.sampleGrid(this.image,m[this.shift%4],m[(this.shift+1)%4],m[(this.shift+2)%4],m[(this.shift+3)%4]),x=this.getMatrixCornerPoints(m);return new Qe(y,x,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(l){if(!this.isValidPoint(l[0])||!this.isValidPoint(l[1])||!this.isValidPoint(l[2])||!this.isValidPoint(l[3]))throw new Y;let f=2*this.nbCenterLayers,m=new Int32Array([this.sampleLine(l[0],l[1],f),this.sampleLine(l[1],l[2],f),this.sampleLine(l[2],l[3],f),this.sampleLine(l[3],l[0],f)]);this.shift=this.getRotation(m,f);let y=0;for(let _=0;_<4;_++){let j=m[(this.shift+_)%4];this.compact?(y<<=7,y+=j>>1&127):(y<<=10,y+=(j>>2&992)+(j>>1&31))}let x=this.getCorrectedParameterData(y,this.compact);this.compact?(this.nbLayers=(x>>6)+1,this.nbDataBlocks=(x&63)+1):(this.nbLayers=(x>>11)+1,this.nbDataBlocks=(x&2047)+1)}getRotation(l,f){let m=0;l.forEach((y,x,_)=>{let j=(y>>f-2<<1)+(y&1);m=(m<<3)+j}),m=((m&1)<<11)+(m>>1);for(let y=0;y<4;y++)if(I.bitCount(m^this.EXPECTED_CORNER_BITS[y])<=2)return y;throw new Y}getCorrectedParameterData(l,f){let m,y;f?(m=7,y=2):(m=10,y=4);let x=m-y,_=new Int32Array(m);for(let T=m-1;T>=0;--T)_[T]=l&15,l>>=4;try{new gt(He.AZTEC_PARAM).decode(_,x)}catch{throw new Y}let j=0;for(let T=0;T<y;T++)j=(j<<4)+_[T];return j}getBullsEyeCorners(l){let f=l,m=l,y=l,x=l,_=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let Z=this.getFirstDifferent(f,_,1,-1),re=this.getFirstDifferent(m,_,1,1),ce=this.getFirstDifferent(y,_,-1,1),pe=this.getFirstDifferent(x,_,-1,-1);if(this.nbCenterLayers>2){let ve=this.distancePoint(pe,Z)*this.nbCenterLayers/(this.distancePoint(x,f)*(this.nbCenterLayers+2));if(ve<.75||ve>1.25||!this.isWhiteOrBlackRectangle(Z,re,ce,pe))break}f=Z,m=re,y=ce,x=pe,_=!_}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Y;this.compact=this.nbCenterLayers===5;let j=new he(f.getX()+.5,f.getY()-.5),T=new he(m.getX()+.5,m.getY()+.5),L=new he(y.getX()-.5,y.getY()+.5),H=new he(x.getX()-.5,x.getY()-.5);return this.expandSquare([j,T,L,H],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let l,f,m,y;try{let j=new Ke(this.image).detect();l=j[0],f=j[1],m=j[2],y=j[3]}catch{let T=this.image.getWidth()/2,L=this.image.getHeight()/2;l=this.getFirstDifferent(new br(T+7,L-7),!1,1,-1).toResultPoint(),f=this.getFirstDifferent(new br(T+7,L+7),!1,1,1).toResultPoint(),m=this.getFirstDifferent(new br(T-7,L+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new br(T-7,L-7),!1,-1,-1).toResultPoint()}let x=dt.round((l.getX()+y.getX()+f.getX()+m.getX())/4),_=dt.round((l.getY()+y.getY()+f.getY()+m.getY())/4);try{let j=new Ke(this.image,15,x,_).detect();l=j[0],f=j[1],m=j[2],y=j[3]}catch{l=this.getFirstDifferent(new br(x+7,_-7),!1,1,-1).toResultPoint(),f=this.getFirstDifferent(new br(x+7,_+7),!1,1,1).toResultPoint(),m=this.getFirstDifferent(new br(x-7,_+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new br(x-7,_-7),!1,-1,-1).toResultPoint()}return x=dt.round((l.getX()+y.getX()+f.getX()+m.getX())/4),_=dt.round((l.getY()+y.getY()+f.getY()+m.getY())/4),new br(x,_)}getMatrixCornerPoints(l){return this.expandSquare(l,2*this.nbCenterLayers,this.getDimension())}sampleGrid(l,f,m,y,x){let _=Ft.getInstance(),j=this.getDimension(),T=j/2-this.nbCenterLayers,L=j/2+this.nbCenterLayers;return _.sampleGrid(l,j,j,T,T,L,T,L,L,T,L,f.getX(),f.getY(),m.getX(),m.getY(),y.getX(),y.getY(),x.getX(),x.getY())}sampleLine(l,f,m){let y=0,x=this.distanceResultPoint(l,f),_=x/m,j=l.getX(),T=l.getY(),L=_*(f.getX()-l.getX())/x,H=_*(f.getY()-l.getY())/x;for(let Z=0;Z<m;Z++)this.image.get(dt.round(j+Z*L),dt.round(T+Z*H))&&(y|=1<<m-Z-1);return y}isWhiteOrBlackRectangle(l,f,m,y){let x=3;l=new br(l.getX()-x,l.getY()+x),f=new br(f.getX()-x,f.getY()-x),m=new br(m.getX()+x,m.getY()-x),y=new br(y.getX()+x,y.getY()+x);let _=this.getColor(y,l);if(_===0)return!1;let j=this.getColor(l,f);return j!==_||(j=this.getColor(f,m),j!==_)?!1:(j=this.getColor(m,y),j===_)}getColor(l,f){let m=this.distancePoint(l,f),y=(f.getX()-l.getX())/m,x=(f.getY()-l.getY())/m,_=0,j=l.getX(),T=l.getY(),L=this.image.get(l.getX(),l.getY()),H=Math.ceil(m);for(let re=0;re<H;re++)j+=y,T+=x,this.image.get(dt.round(j),dt.round(T))!==L&&_++;let Z=_/m;return Z>.1&&Z<.9?0:Z<=.1===L?1:-1}getFirstDifferent(l,f,m,y){let x=l.getX()+m,_=l.getY()+y;for(;this.isValid(x,_)&&this.image.get(x,_)===f;)x+=m,_+=y;for(x-=m,_-=y;this.isValid(x,_)&&this.image.get(x,_)===f;)x+=m;for(x-=m;this.isValid(x,_)&&this.image.get(x,_)===f;)_+=y;return _-=y,new br(x,_)}expandSquare(l,f,m){let y=m/(2*f),x=l[0].getX()-l[2].getX(),_=l[0].getY()-l[2].getY(),j=(l[0].getX()+l[2].getX())/2,T=(l[0].getY()+l[2].getY())/2,L=new he(j+y*x,T+y*_),H=new he(j-y*x,T-y*_);x=l[1].getX()-l[3].getX(),_=l[1].getY()-l[3].getY(),j=(l[1].getX()+l[3].getX())/2,T=(l[1].getY()+l[3].getY())/2;let Z=new he(j+y*x,T+y*_),re=new he(j-y*x,T-y*_);return[L,Z,H,re]}isValid(l,f){return l>=0&&l<this.image.getWidth()&&f>0&&f<this.image.getHeight()}isValidPoint(l){let f=dt.round(l.getX()),m=dt.round(l.getY());return this.isValid(f,m)}distancePoint(l,f){return dt.distance(l.getX(),l.getY(),f.getX(),f.getY())}distanceResultPoint(l,f){return dt.distance(l.getX(),l.getY(),f.getX(),f.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(I.truncDivision(this.nbLayers-4,8)+1)+15}}class tn{decode(l,f=null){let m=null,y=new an(l.getBlackMatrix()),x=null,_=null;try{let H=y.detectMirror(!1);x=H.getPoints(),this.reportFoundResultPoints(f,x),_=new Ct().decode(H)}catch(H){m=H}if(_==null)try{let H=y.detectMirror(!0);x=H.getPoints(),this.reportFoundResultPoints(f,x),_=new Ct().decode(H)}catch(H){throw m??H}let j=new xe(_.getText(),_.getRawBytes(),_.getNumBits(),x,Pe.AZTEC,C.currentTimeMillis()),T=_.getByteSegments();T!=null&&j.putMetadata(je.BYTE_SEGMENTS,T);let L=_.getECLevel();return L!=null&&j.putMetadata(je.ERROR_CORRECTION_LEVEL,L),j}reportFoundResultPoints(l,f){if(l!=null){let m=l.get(D.NEED_RESULT_POINT_CALLBACK);m!=null&&f.forEach((y,x,_)=>{m.foundPossibleResultPoint(y)})}}reset(){}}class Es extends me{constructor(l=500){super(new tn,l)}}class _r{decode(l,f){try{return this.doDecode(l,f)}catch{if(f&&f.get(D.TRY_HARDER)===!0&&l.isRotateSupported()){const x=l.rotateCounterClockwise(),_=this.doDecode(x,f),j=_.getResultMetadata();let T=270;j!==null&&j.get(je.ORIENTATION)===!0&&(T=T+j.get(je.ORIENTATION)%360),_.putMetadata(je.ORIENTATION,T);const L=_.getResultPoints();if(L!==null){const H=x.getHeight();for(let Z=0;Z<L.length;Z++)L[Z]=new he(H-L[Z].getY()-1,L[Z].getX())}return _}else throw new Y}}reset(){}doDecode(l,f){const m=l.getWidth(),y=l.getHeight();let x=new F(m);const _=f&&f.get(D.TRY_HARDER)===!0,j=Math.max(1,y>>(_?8:5));let T;_?T=y:T=15;const L=Math.trunc(y/2);for(let H=0;H<T;H++){const Z=Math.trunc((H+1)/2),re=(H&1)===0,ce=L+j*(re?Z:-Z);if(ce<0||ce>=y)break;try{x=l.getBlackRow(ce,x)}catch{continue}for(let pe=0;pe<2;pe++){if(pe===1&&(x.reverse(),f&&f.get(D.NEED_RESULT_POINT_CALLBACK)===!0)){const ve=new Map;f.forEach((Ae,Me)=>ve.set(Me,Ae)),ve.delete(D.NEED_RESULT_POINT_CALLBACK),f=ve}try{const ve=this.decodeRow(ce,x,f);if(pe===1){ve.putMetadata(je.ORIENTATION,180);const Ae=ve.getResultPoints();Ae!==null&&(Ae[0]=new he(m-Ae[0].getX()-1,Ae[0].getY()),Ae[1]=new he(m-Ae[1].getX()-1,Ae[1].getY()))}return ve}catch{}}}throw new Y}static recordPattern(l,f,m){const y=m.length;for(let L=0;L<y;L++)m[L]=0;const x=l.getSize();if(f>=x)throw new Y;let _=!l.get(f),j=0,T=f;for(;T<x;){if(l.get(T)!==_)m[j]++;else{if(++j===y)break;m[j]=1,_=!_}T++}if(!(j===y||j===y-1&&T===x))throw new Y}static recordPatternInReverse(l,f,m){let y=m.length,x=l.get(f);for(;f>0&&y>=0;)l.get(--f)!==x&&(y--,x=!x);if(y>=0)throw new Y;_r.recordPattern(l,f+1,m)}static patternMatchVariance(l,f,m){const y=l.length;let x=0,_=0;for(let L=0;L<y;L++)x+=l[L],_+=f[L];if(x<_)return Number.POSITIVE_INFINITY;const j=x/_;m*=j;let T=0;for(let L=0;L<y;L++){const H=l[L],Z=f[L]*j,re=H>Z?H-Z:Z-H;if(re>m)return Number.POSITIVE_INFINITY;T+=re}return T/x}}class tt extends _r{static findStartPattern(l){const f=l.getSize(),m=l.getNextSet(0);let y=0,x=Int32Array.from([0,0,0,0,0,0]),_=m,j=!1;const T=6;for(let L=m;L<f;L++)if(l.get(L)!==j)x[y]++;else{if(y===T-1){let H=tt.MAX_AVG_VARIANCE,Z=-1;for(let re=tt.CODE_START_A;re<=tt.CODE_START_C;re++){const ce=_r.patternMatchVariance(x,tt.CODE_PATTERNS[re],tt.MAX_INDIVIDUAL_VARIANCE);ce<H&&(H=ce,Z=re)}if(Z>=0&&l.isRange(Math.max(0,_-(L-_)/2),_,!1))return Int32Array.from([_,L,Z]);_+=x[0]+x[1],x=x.slice(2,x.length-1),x[y-1]=0,x[y]=0,y--}else y++;x[y]=1,j=!j}throw new Y}static decodeCode(l,f,m){_r.recordPattern(l,m,f);let y=tt.MAX_AVG_VARIANCE,x=-1;for(let _=0;_<tt.CODE_PATTERNS.length;_++){const j=tt.CODE_PATTERNS[_],T=this.patternMatchVariance(f,j,tt.MAX_INDIVIDUAL_VARIANCE);T<y&&(y=T,x=_)}if(x>=0)return x;throw new Y}decodeRow(l,f,m){const y=m&&m.get(D.ASSUME_GS1)===!0,x=tt.findStartPattern(f),_=x[2];let j=0;const T=new Uint8Array(20);T[j++]=_;let L;switch(_){case tt.CODE_START_A:L=tt.CODE_CODE_A;break;case tt.CODE_START_B:L=tt.CODE_CODE_B;break;case tt.CODE_START_C:L=tt.CODE_CODE_C;break;default:throw new R}let H=!1,Z=!1,re="",ce=x[0],pe=x[1];const ve=Int32Array.from([0,0,0,0,0,0]);let Ae=0,Me=0,nt=_,it=0,Je=!0,jr=!1,lr=!1;for(;!H;){const $a=Z;switch(Z=!1,Ae=Me,Me=tt.decodeCode(f,ve,pe),T[j++]=Me,Me!==tt.CODE_STOP&&(Je=!0),Me!==tt.CODE_STOP&&(it++,nt+=it*Me),ce=pe,pe+=ve.reduce((Yl,om)=>Yl+om,0),Me){case tt.CODE_START_A:case tt.CODE_START_B:case tt.CODE_START_C:throw new R}switch(L){case tt.CODE_CODE_A:if(Me<64)lr===jr?re+=String.fromCharCode(32+Me):re+=String.fromCharCode(32+Me+128),lr=!1;else if(Me<96)lr===jr?re+=String.fromCharCode(Me-64):re+=String.fromCharCode(Me+64),lr=!1;else switch(Me!==tt.CODE_STOP&&(Je=!1),Me){case tt.CODE_FNC_1:y&&(re.length===0?re+="]C1":re+="");break;case tt.CODE_FNC_2:case tt.CODE_FNC_3:break;case tt.CODE_FNC_4_A:!jr&&lr?(jr=!0,lr=!1):jr&&lr?(jr=!1,lr=!1):lr=!0;break;case tt.CODE_SHIFT:Z=!0,L=tt.CODE_CODE_B;break;case tt.CODE_CODE_B:L=tt.CODE_CODE_B;break;case tt.CODE_CODE_C:L=tt.CODE_CODE_C;break;case tt.CODE_STOP:H=!0;break}break;case tt.CODE_CODE_B:if(Me<96)lr===jr?re+=String.fromCharCode(32+Me):re+=String.fromCharCode(32+Me+128),lr=!1;else switch(Me!==tt.CODE_STOP&&(Je=!1),Me){case tt.CODE_FNC_1:y&&(re.length===0?re+="]C1":re+="");break;case tt.CODE_FNC_2:case tt.CODE_FNC_3:break;case tt.CODE_FNC_4_B:!jr&&lr?(jr=!0,lr=!1):jr&&lr?(jr=!1,lr=!1):lr=!0;break;case tt.CODE_SHIFT:Z=!0,L=tt.CODE_CODE_A;break;case tt.CODE_CODE_A:L=tt.CODE_CODE_A;break;case tt.CODE_CODE_C:L=tt.CODE_CODE_C;break;case tt.CODE_STOP:H=!0;break}break;case tt.CODE_CODE_C:if(Me<100)Me<10&&(re+="0"),re+=Me;else switch(Me!==tt.CODE_STOP&&(Je=!1),Me){case tt.CODE_FNC_1:y&&(re.length===0?re+="]C1":re+="");break;case tt.CODE_CODE_A:L=tt.CODE_CODE_A;break;case tt.CODE_CODE_B:L=tt.CODE_CODE_B;break;case tt.CODE_STOP:H=!0;break}break}$a&&(L=L===tt.CODE_CODE_A?tt.CODE_CODE_B:tt.CODE_CODE_A)}const Qi=pe-ce;if(pe=f.getNextUnset(pe),!f.isRange(pe,Math.min(f.getSize(),pe+(pe-ce)/2),!1))throw new Y;if(nt-=it*Ae,nt%103!==Ae)throw new b;const Ws=re.length;if(Ws===0)throw new Y;Ws>0&&Je&&(L===tt.CODE_CODE_C?re=re.substring(0,Ws-2):re=re.substring(0,Ws-1));const ei=(x[1]+x[0])/2,Hr=ce+Qi/2,Pn=T.length,Li=new Uint8Array(Pn);for(let $a=0;$a<Pn;$a++)Li[$a]=T[$a];const Xo=[new he(ei,l),new he(Hr,l)];return new xe(re,Li,0,Xo,Pe.CODE_128,new Date().getTime())}}tt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],tt.MAX_AVG_VARIANCE=.25,tt.MAX_INDIVIDUAL_VARIANCE=.7,tt.CODE_SHIFT=98,tt.CODE_CODE_C=99,tt.CODE_CODE_B=100,tt.CODE_CODE_A=101,tt.CODE_FNC_1=102,tt.CODE_FNC_2=97,tt.CODE_FNC_3=96,tt.CODE_FNC_4_A=101,tt.CODE_FNC_4_B=100,tt.CODE_START_A=103,tt.CODE_START_B=104,tt.CODE_START_C=105,tt.CODE_STOP=106;class Gr extends _r{constructor(l=!1,f=!1){super(),this.usingCheckDigit=l,this.extendedMode=f,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(l,f,m){let y=this.counters;y.fill(0),this.decodeRowResult="";let x=Gr.findAsteriskPattern(f,y),_=f.getNextSet(x[1]),j=f.getSize(),T,L;do{Gr.recordPattern(f,_,y);let ve=Gr.toNarrowWidePattern(y);if(ve<0)throw new Y;T=Gr.patternToChar(ve),this.decodeRowResult+=T,L=_;for(let Ae of y)_+=Ae;_=f.getNextSet(_)}while(T!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let H=0;for(let ve of y)H+=ve;let Z=_-L-H;if(_!==j&&Z*2<H)throw new Y;if(this.usingCheckDigit){let ve=this.decodeRowResult.length-1,Ae=0;for(let Me=0;Me<ve;Me++)Ae+=Gr.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Me));if(this.decodeRowResult.charAt(ve)!==Gr.ALPHABET_STRING.charAt(Ae%43))throw new b;this.decodeRowResult=this.decodeRowResult.substring(0,ve)}if(this.decodeRowResult.length===0)throw new Y;let re;this.extendedMode?re=Gr.decodeExtended(this.decodeRowResult):re=this.decodeRowResult;let ce=(x[1]+x[0])/2,pe=L+H/2;return new xe(re,null,0,[new he(ce,l),new he(pe,l)],Pe.CODE_39,new Date().getTime())}static findAsteriskPattern(l,f){let m=l.getSize(),y=l.getNextSet(0),x=0,_=y,j=!1,T=f.length;for(let L=y;L<m;L++)if(l.get(L)!==j)f[x]++;else{if(x===T-1){if(this.toNarrowWidePattern(f)===Gr.ASTERISK_ENCODING&&l.isRange(Math.max(0,_-Math.floor((L-_)/2)),_,!1))return[_,L];_+=f[0]+f[1],f.copyWithin(0,2,2+x-1),f[x-1]=0,f[x]=0,x--}else x++;f[x]=1,j=!j}throw new Y}static toNarrowWidePattern(l){let f=l.length,m=0,y;do{let x=2147483647;for(let T of l)T<x&&T>m&&(x=T);m=x,y=0;let _=0,j=0;for(let T=0;T<f;T++){let L=l[T];L>m&&(j|=1<<f-1-T,y++,_+=L)}if(y===3){for(let T=0;T<f&&y>0;T++){let L=l[T];if(L>m&&(y--,L*2>=_))return-1}return j}}while(y>3);return-1}static patternToChar(l){for(let f=0;f<Gr.CHARACTER_ENCODINGS.length;f++)if(Gr.CHARACTER_ENCODINGS[f]===l)return Gr.ALPHABET_STRING.charAt(f);if(l===Gr.ASTERISK_ENCODING)return"*";throw new Y}static decodeExtended(l){let f=l.length,m="";for(let y=0;y<f;y++){let x=l.charAt(y);if(x==="+"||x==="$"||x==="%"||x==="/"){let _=l.charAt(y+1),j="\0";switch(x){case"+":if(_>="A"&&_<="Z")j=String.fromCharCode(_.charCodeAt(0)+32);else throw new R;break;case"$":if(_>="A"&&_<="Z")j=String.fromCharCode(_.charCodeAt(0)-64);else throw new R;break;case"%":if(_>="A"&&_<="E")j=String.fromCharCode(_.charCodeAt(0)-38);else if(_>="F"&&_<="J")j=String.fromCharCode(_.charCodeAt(0)-11);else if(_>="K"&&_<="O")j=String.fromCharCode(_.charCodeAt(0)+16);else if(_>="P"&&_<="T")j=String.fromCharCode(_.charCodeAt(0)+43);else if(_==="U")j="\0";else if(_==="V")j="@";else if(_==="W")j="`";else if(_==="X"||_==="Y"||_==="Z")j="";else throw new R;break;case"/":if(_>="A"&&_<="O")j=String.fromCharCode(_.charCodeAt(0)-32);else if(_==="Z")j=":";else throw new R;break}m+=j,y++}else m+=x}return m}}Gr.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Gr.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Gr.ASTERISK_ENCODING=148;class gr extends _r{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(l,f,m){let y=this.decodeStart(f),x=this.decodeEnd(f),_=new K;gr.decodeMiddle(f,y[1],x[0],_);let j=_.toString(),T=null;m!=null&&(T=m.get(D.ALLOWED_LENGTHS)),T==null&&(T=gr.DEFAULT_ALLOWED_LENGTHS);let L=j.length,H=!1,Z=0;for(let pe of T){if(L===pe){H=!0;break}pe>Z&&(Z=pe)}if(!H&&L>Z&&(H=!0),!H)throw new R;const re=[new he(y[1],l),new he(x[0],l)];return new xe(j,null,0,re,Pe.ITF,new Date().getTime())}static decodeMiddle(l,f,m,y){let x=new Int32Array(10),_=new Int32Array(5),j=new Int32Array(5);for(x.fill(0),_.fill(0),j.fill(0);f<m;){_r.recordPattern(l,f,x);for(let L=0;L<5;L++){let H=2*L;_[L]=x[H],j[L]=x[H+1]}let T=gr.decodeDigit(_);y.append(T.toString()),T=this.decodeDigit(j),y.append(T.toString()),x.forEach(function(L){f+=L})}}decodeStart(l){let f=gr.skipWhiteSpace(l),m=gr.findGuardPattern(l,f,gr.START_PATTERN);return this.narrowLineWidth=(m[1]-m[0])/4,this.validateQuietZone(l,m[0]),m}validateQuietZone(l,f){let m=this.narrowLineWidth*10;m=m<f?m:f;for(let y=f-1;m>0&&y>=0&&!l.get(y);y--)m--;if(m!==0)throw new Y}static skipWhiteSpace(l){const f=l.getSize(),m=l.getNextSet(0);if(m===f)throw new Y;return m}decodeEnd(l){l.reverse();try{let f=gr.skipWhiteSpace(l),m;try{m=gr.findGuardPattern(l,f,gr.END_PATTERN_REVERSED[0])}catch(x){x instanceof Y&&(m=gr.findGuardPattern(l,f,gr.END_PATTERN_REVERSED[1]))}this.validateQuietZone(l,m[0]);let y=m[0];return m[0]=l.getSize()-m[1],m[1]=l.getSize()-y,m}finally{l.reverse()}}static findGuardPattern(l,f,m){let y=m.length,x=new Int32Array(y),_=l.getSize(),j=!1,T=0,L=f;x.fill(0);for(let H=f;H<_;H++)if(l.get(H)!==j)x[T]++;else{if(T===y-1){if(_r.patternMatchVariance(x,m,gr.MAX_INDIVIDUAL_VARIANCE)<gr.MAX_AVG_VARIANCE)return[L,H];L+=x[0]+x[1],C.arraycopy(x,2,x,0,T-1),x[T-1]=0,x[T]=0,T--}else T++;x[T]=1,j=!j}throw new Y}static decodeDigit(l){let f=gr.MAX_AVG_VARIANCE,m=-1,y=gr.PATTERNS.length;for(let x=0;x<y;x++){let _=gr.PATTERNS[x],j=_r.patternMatchVariance(l,_,gr.MAX_INDIVIDUAL_VARIANCE);j<f?(f=j,m=x):j===f&&(m=-1)}if(m>=0)return m%10;throw new Y}}gr.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],gr.MAX_AVG_VARIANCE=.38,gr.MAX_INDIVIDUAL_VARIANCE=.5,gr.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],gr.START_PATTERN=Int32Array.from([1,1,1,1]),gr.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Lr extends _r{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(l){let f=!1,m,y=0,x=Int32Array.from([0,0,0]);for(;!f;){x=Int32Array.from([0,0,0]),m=Lr.findGuardPattern(l,y,!1,this.START_END_PATTERN,x);let _=m[0];y=m[1];let j=_-(y-_);j>=0&&(f=l.isRange(j,_,!1))}return m}static checkChecksum(l){return Lr.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let f=l.length;if(f===0)return!1;let m=parseInt(l.charAt(f-1),10);return Lr.getStandardUPCEANChecksum(l.substring(0,f-1))===m}static getStandardUPCEANChecksum(l){let f=l.length,m=0;for(let y=f-1;y>=0;y-=2){let x=l.charAt(y).charCodeAt(0)-48;if(x<0||x>9)throw new R;m+=x}m*=3;for(let y=f-2;y>=0;y-=2){let x=l.charAt(y).charCodeAt(0)-48;if(x<0||x>9)throw new R;m+=x}return(1e3-m)%10}static decodeEnd(l,f){return Lr.findGuardPattern(l,f,!1,Lr.START_END_PATTERN,new Int32Array(Lr.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(l,f,m,y){return this.findGuardPattern(l,f,m,y,new Int32Array(y.length))}static findGuardPattern(l,f,m,y,x){let _=l.getSize();f=m?l.getNextUnset(f):l.getNextSet(f);let j=0,T=f,L=y.length,H=m;for(let Z=f;Z<_;Z++)if(l.get(Z)!==H)x[j]++;else{if(j===L-1){if(_r.patternMatchVariance(x,y,Lr.MAX_INDIVIDUAL_VARIANCE)<Lr.MAX_AVG_VARIANCE)return Int32Array.from([T,Z]);T+=x[0]+x[1];let re=x.slice(2,x.length-1);for(let ce=0;ce<j-1;ce++)x[ce]=re[ce];x[j-1]=0,x[j]=0,j--}else j++;x[j]=1,H=!H}throw new Y}static decodeDigit(l,f,m,y){this.recordPattern(l,m,f);let x=this.MAX_AVG_VARIANCE,_=-1,j=y.length;for(let T=0;T<j;T++){let L=y[T],H=_r.patternMatchVariance(f,L,Lr.MAX_INDIVIDUAL_VARIANCE);H<x&&(x=H,_=T)}if(_>=0)return _;throw new Y}}Lr.MAX_AVG_VARIANCE=.48,Lr.MAX_INDIVIDUAL_VARIANCE=.7,Lr.START_END_PATTERN=Int32Array.from([1,1,1]),Lr.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Lr.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Lr.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Gi{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,f,m){let y=this.decodeRowStringBuffer,x=this.decodeMiddle(f,m,y),_=y.toString(),j=Gi.parseExtensionString(_),T=[new he((m[0]+m[1])/2,l),new he(x,l)],L=new xe(_,null,0,T,Pe.UPC_EAN_EXTENSION,new Date().getTime());return j!=null&&L.putAllMetadata(j),L}decodeMiddle(l,f,m){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let x=l.getSize(),_=f[1],j=0;for(let L=0;L<5&&_<x;L++){let H=Lr.decodeDigit(l,y,_,Lr.L_AND_G_PATTERNS);m+=String.fromCharCode(48+H%10);for(let Z of y)_+=Z;H>=10&&(j|=1<<4-L),L!==4&&(_=l.getNextSet(_),_=l.getNextUnset(_))}if(m.length!==5)throw new Y;let T=this.determineCheckDigit(j);if(Gi.extensionChecksum(m.toString())!==T)throw new Y;return _}static extensionChecksum(l){let f=l.length,m=0;for(let y=f-2;y>=0;y-=2)m+=l.charAt(y).charCodeAt(0)-48;m*=3;for(let y=f-1;y>=0;y-=2)m+=l.charAt(y).charCodeAt(0)-48;return m*=3,m%10}determineCheckDigit(l){for(let f=0;f<10;f++)if(l===this.CHECK_DIGIT_ENCODINGS[f])return f;throw new Y}static parseExtensionString(l){if(l.length!==5)return null;let f=Gi.parseExtension5String(l);return f==null?null:new Map([[je.SUGGESTED_PRICE,f]])}static parseExtension5String(l){let f;switch(l.charAt(0)){case"0":f="";break;case"5":f="$";break;case"9":switch(l){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}f="";break;default:f="";break}let m=parseInt(l.substring(1)),y=(m/100).toString(),x=m%100,_=x<10?"0"+x:x.toString();return f+y+"."+_}}class cs{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,f,m){let y=this.decodeRowStringBuffer,x=this.decodeMiddle(f,m,y),_=y.toString(),j=cs.parseExtensionString(_),T=[new he((m[0]+m[1])/2,l),new he(x,l)],L=new xe(_,null,0,T,Pe.UPC_EAN_EXTENSION,new Date().getTime());return j!=null&&L.putAllMetadata(j),L}decodeMiddle(l,f,m){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let x=l.getSize(),_=f[1],j=0;for(let T=0;T<2&&_<x;T++){let L=Lr.decodeDigit(l,y,_,Lr.L_AND_G_PATTERNS);m+=String.fromCharCode(48+L%10);for(let H of y)_+=H;L>=10&&(j|=1<<1-T),T!==1&&(_=l.getNextSet(_),_=l.getNextUnset(_))}if(m.length!==2)throw new Y;if(parseInt(m.toString())%4!==j)throw new Y;return _}static parseExtensionString(l){return l.length!==2?null:new Map([[je.ISSUE_NUMBER,parseInt(l)]])}}class fa{static decodeRow(l,f,m){let y=Lr.findGuardPattern(f,m,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Gi().decodeRow(l,f,y)}catch{return new cs().decodeRow(l,f,y)}}}fa.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class vr extends Lr{constructor(){super(),this.decodeRowStringBuffer="",vr.L_AND_G_PATTERNS=vr.L_PATTERNS.map(l=>Int32Array.from(l));for(let l=10;l<20;l++){let f=vr.L_PATTERNS[l-10],m=new Int32Array(f.length);for(let y=0;y<f.length;y++)m[y]=f[f.length-y-1];vr.L_AND_G_PATTERNS[l]=m}}decodeRow(l,f,m){let y=vr.findStartGuardPattern(f),x=m==null?null:m.get(D.NEED_RESULT_POINT_CALLBACK);if(x!=null){const Je=new he((y[0]+y[1])/2,l);x.foundPossibleResultPoint(Je)}let _=this.decodeMiddle(f,y,this.decodeRowStringBuffer),j=_.rowOffset,T=_.resultString;if(x!=null){const Je=new he(j,l);x.foundPossibleResultPoint(Je)}let L=this.decodeEnd(f,j);if(x!=null){const Je=new he((L[0]+L[1])/2,l);x.foundPossibleResultPoint(Je)}let H=L[1],Z=H+(H-L[0]);if(Z>=f.getSize()||!f.isRange(H,Z,!1))throw new Y;let re=T.toString();if(re.length<8)throw new R;if(!vr.checkChecksum(re))throw new b;let ce=(y[1]+y[0])/2,pe=(L[1]+L[0])/2,ve=this.getBarcodeFormat(),Ae=[new he(ce,l),new he(pe,l)],Me=new xe(re,null,0,Ae,ve,new Date().getTime()),nt=0;try{let Je=fa.decodeRow(l,f,L[1]);Me.putMetadata(je.UPC_EAN_EXTENSION,Je.getText()),Me.putAllMetadata(Je.getResultMetadata()),Me.addResultPoints(Je.getResultPoints()),nt=Je.getText().length}catch{}let it=m==null?null:m.get(D.ALLOWED_EAN_EXTENSIONS);if(it!=null){let Je=!1;for(let jr in it)if(nt.toString()===jr){Je=!0;break}if(!Je)throw new Y}return Me}decodeEnd(l,f){return vr.findGuardPattern(l,f,!1,vr.START_END_PATTERN,new Int32Array(vr.START_END_PATTERN.length).fill(0))}static checkChecksum(l){return vr.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let f=l.length;if(f===0)return!1;let m=parseInt(l.charAt(f-1),10);return vr.getStandardUPCEANChecksum(l.substring(0,f-1))===m}static getStandardUPCEANChecksum(l){let f=l.length,m=0;for(let y=f-1;y>=0;y-=2){let x=l.charAt(y).charCodeAt(0)-48;if(x<0||x>9)throw new R;m+=x}m*=3;for(let y=f-2;y>=0;y-=2){let x=l.charAt(y).charCodeAt(0)-48;if(x<0||x>9)throw new R;m+=x}return(1e3-m)%10}}class Yn extends vr{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,f,m){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let x=l.getSize(),_=f[1],j=0;for(let L=0;L<6&&_<x;L++){let H=vr.decodeDigit(l,y,_,vr.L_AND_G_PATTERNS);m+=String.fromCharCode(48+H%10);for(let Z of y)_+=Z;H>=10&&(j|=1<<5-L)}m=Yn.determineFirstDigit(m,j),_=vr.findGuardPattern(l,_,!0,vr.MIDDLE_PATTERN,new Int32Array(vr.MIDDLE_PATTERN.length).fill(0))[1];for(let L=0;L<6&&_<x;L++){let H=vr.decodeDigit(l,y,_,vr.L_PATTERNS);m+=String.fromCharCode(48+H);for(let Z of y)_+=Z}return{rowOffset:_,resultString:m}}getBarcodeFormat(){return Pe.EAN_13}static determineFirstDigit(l,f){for(let m=0;m<10;m++)if(f===this.FIRST_DIGIT_ENCODINGS[m])return l=String.fromCharCode(48+m)+l,l;throw new Y}}Yn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ki extends vr{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,f,m){const y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let x=l.getSize(),_=f[1];for(let T=0;T<4&&_<x;T++){let L=vr.decodeDigit(l,y,_,vr.L_PATTERNS);m+=String.fromCharCode(48+L);for(let H of y)_+=H}_=vr.findGuardPattern(l,_,!0,vr.MIDDLE_PATTERN,new Int32Array(vr.MIDDLE_PATTERN.length).fill(0))[1];for(let T=0;T<4&&_<x;T++){let L=vr.decodeDigit(l,y,_,vr.L_PATTERNS);m+=String.fromCharCode(48+L);for(let H of y)_+=H}return{rowOffset:_,resultString:m}}getBarcodeFormat(){return Pe.EAN_8}}class Wo extends vr{constructor(){super(...arguments),this.ean13Reader=new Yn}getBarcodeFormat(){return Pe.UPC_A}decode(l,f){return this.maybeReturnResult(this.ean13Reader.decode(l))}decodeRow(l,f,m){return this.maybeReturnResult(this.ean13Reader.decodeRow(l,f,m))}decodeMiddle(l,f,m){return this.ean13Reader.decodeMiddle(l,f,m)}maybeReturnResult(l){let f=l.getText();if(f.charAt(0)==="0"){let m=new xe(f.substring(1),null,null,l.getResultPoints(),Pe.UPC_A);return l.getResultMetadata()!=null&&m.putAllMetadata(l.getResultMetadata()),m}else throw new Y}reset(){this.ean13Reader.reset()}}class kt extends vr{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(l,f,m){const y=this.decodeMiddleCounters.map(L=>L);y[0]=0,y[1]=0,y[2]=0,y[3]=0;const x=l.getSize();let _=f[1],j=0;for(let L=0;L<6&&_<x;L++){const H=kt.decodeDigit(l,y,_,kt.L_AND_G_PATTERNS);m+=String.fromCharCode(48+H%10);for(let Z of y)_+=Z;H>=10&&(j|=1<<5-L)}let T=kt.determineNumSysAndCheckDigit(m,j);return{rowOffset:_,resultString:T}}decodeEnd(l,f){return kt.findGuardPatternWithoutCounters(l,f,!0,kt.MIDDLE_END_PATTERN)}checkChecksum(l){return vr.checkChecksum(kt.convertUPCEtoUPCA(l))}static determineNumSysAndCheckDigit(l,f){for(let m=0;m<=1;m++)for(let y=0;y<10;y++)if(f===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[m][y]){let x=String.fromCharCode(48+m),_=String.fromCharCode(48+y);return x+l+_}throw Y.getNotFoundInstance()}getBarcodeFormat(){return Pe.UPC_E}static convertUPCEtoUPCA(l){const f=l.slice(1,7).split("").map(x=>x.charCodeAt(0)),m=new K;m.append(l.charAt(0));let y=f[5];switch(y){case 0:case 1:case 2:m.appendChars(f,0,2),m.append(y),m.append("0000"),m.appendChars(f,2,3);break;case 3:m.appendChars(f,0,3),m.append("00000"),m.appendChars(f,3,2);break;case 4:m.appendChars(f,0,4),m.append("00000"),m.append(f[4]);break;default:m.appendChars(f,0,5),m.append("0000"),m.append(y);break}return l.length>=8&&m.append(l.charAt(7)),m.toString()}}kt.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),kt.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class kr extends _r{constructor(l){super();let f=l==null?null:l.get(D.POSSIBLE_FORMATS),m=[];n(f)?(m.push(new Yn),m.push(new Wo),m.push(new Ki),m.push(new kt)):(f.indexOf(Pe.EAN_13)>-1&&m.push(new Yn),f.indexOf(Pe.UPC_A)>-1&&m.push(new Wo),f.indexOf(Pe.EAN_8)>-1&&m.push(new Ki),f.indexOf(Pe.UPC_E)>-1&&m.push(new kt)),this.readers=m}decodeRow(l,f,m){for(let y of this.readers)try{const x=y.decodeRow(l,f,m),_=x.getBarcodeFormat()===Pe.EAN_13&&x.getText().charAt(0)==="0",j=m==null?null:m.get(D.POSSIBLE_FORMATS),T=j==null||j.includes(Pe.UPC_A);if(_&&T){const L=x.getRawBytes(),H=new xe(x.getText().substring(1),L,L?L.length:null,x.getResultPoints(),Pe.UPC_A);return H.putAllMetadata(x.getResultMetadata()),H}return x}catch{}throw new Y}reset(){for(let l of this.readers)l.reset()}}class ar extends _r{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(l,f){for(let m=0;m<f.length;m++)if(_r.patternMatchVariance(l,f[m],ar.MAX_INDIVIDUAL_VARIANCE)<ar.MAX_AVG_VARIANCE)return m;throw new Y}static count(l){return dt.sum(new Int32Array(l))}static increment(l,f){let m=0,y=f[0];for(let x=1;x<l.length;x++)f[x]>y&&(y=f[x],m=x);l[m]++}static decrement(l,f){let m=0,y=f[0];for(let x=1;x<l.length;x++)f[x]<y&&(y=f[x],m=x);l[m]--}static isFinderPattern(l){let f=l[0]+l[1],m=f+l[2]+l[3],y=f/m;if(y>=ar.MIN_FINDER_PATTERN_RATIO&&y<=ar.MAX_FINDER_PATTERN_RATIO){let x=Number.MAX_SAFE_INTEGER,_=Number.MIN_SAFE_INTEGER;for(let j of l)j>_&&(_=j),j<x&&(x=j);return _<10*x}return!1}}ar.MAX_AVG_VARIANCE=.2,ar.MAX_INDIVIDUAL_VARIANCE=.45,ar.MIN_FINDER_PATTERN_RATIO=9.5/12,ar.MAX_FINDER_PATTERN_RATIO=12.5/14;class wn{constructor(l,f){this.value=l,this.checksumPortion=f}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(l){if(!(l instanceof wn))return!1;const f=l;return this.value===f.value&&this.checksumPortion===f.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Xn{constructor(l,f,m,y,x){this.value=l,this.startEnd=f,this.value=l,this.startEnd=f,this.resultPoints=new Array,this.resultPoints.push(new he(m,x)),this.resultPoints.push(new he(y,x))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(l){if(!(l instanceof Xn))return!1;const f=l;return this.value===f.value}hashCode(){return this.value}}class rn{constructor(){}static getRSSvalue(l,f,m){let y=0;for(let T of l)y+=T;let x=0,_=0,j=l.length;for(let T=0;T<j-1;T++){let L;for(L=1,_|=1<<T;L<l[T];L++,_&=~(1<<T)){let H=rn.combins(y-L-1,j-T-2);if(m&&_===0&&y-L-(j-T-1)>=j-T-1&&(H-=rn.combins(y-L-(j-T),j-T-2)),j-T-1>1){let Z=0;for(let re=y-L-(j-T-2);re>f;re--)Z+=rn.combins(y-L-re-1,j-T-3);H-=Z*(j-1-T)}else y-L>f&&H--;x+=H}y-=L}return x}static combins(l,f){let m,y;l-f>f?(y=f,m=l-f):(y=l-f,m=f);let x=1,_=1;for(let j=l;j>m;j--)x*=j,_<=y&&(x/=_,_++);for(;_<=y;)x/=_,_++;return x}}class Yi{static buildBitArray(l){let f=l.length*2-1;l[l.length-1].getRightChar()==null&&(f-=1);let m=12*f,y=new F(m),x=0,j=l[0].getRightChar().getValue();for(let T=11;T>=0;--T)(j&1<<T)!=0&&y.set(x),x++;for(let T=1;T<l.length;++T){let L=l[T],H=L.getLeftChar().getValue();for(let Z=11;Z>=0;--Z)(H&1<<Z)!=0&&y.set(x),x++;if(L.getRightChar()!=null){let Z=L.getRightChar().getValue();for(let re=11;re>=0;--re)(Z&1<<re)!=0&&y.set(x),x++}}return y}}class oe{constructor(l,f){f?this.decodedInformation=null:(this.finished=l,this.decodedInformation=f)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Be{constructor(l){this.newPosition=l}getNewPosition(){return this.newPosition}}class ut extends Be{constructor(l,f){super(l),this.value=f}getValue(){return this.value}isFNC1(){return this.value===ut.FNC1}}ut.FNC1="$";class Dt extends Be{constructor(l,f,m){super(l),m?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=f}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class yr extends Be{constructor(l,f,m){if(super(l),f<0||f>10||m<0||m>10)throw new R;this.firstDigit=f,this.secondDigit=m}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===yr.FNC1}isSecondDigitFNC1(){return this.secondDigit===yr.FNC1}isAnyFNC1(){return this.firstDigit===yr.FNC1||this.secondDigit===yr.FNC1}}yr.FNC1=10;class at{constructor(){}static parseFieldsInGeneralPurpose(l){if(!l)return null;if(l.length<2)throw new Y;let f=l.substring(0,2);for(let x of at.TWO_DIGIT_DATA_LENGTH)if(x[0]===f)return x[1]===at.VARIABLE_LENGTH?at.processVariableAI(2,x[2],l):at.processFixedAI(2,x[1],l);if(l.length<3)throw new Y;let m=l.substring(0,3);for(let x of at.THREE_DIGIT_DATA_LENGTH)if(x[0]===m)return x[1]===at.VARIABLE_LENGTH?at.processVariableAI(3,x[2],l):at.processFixedAI(3,x[1],l);for(let x of at.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(x[0]===m)return x[1]===at.VARIABLE_LENGTH?at.processVariableAI(4,x[2],l):at.processFixedAI(4,x[1],l);if(l.length<4)throw new Y;let y=l.substring(0,4);for(let x of at.FOUR_DIGIT_DATA_LENGTH)if(x[0]===y)return x[1]===at.VARIABLE_LENGTH?at.processVariableAI(4,x[2],l):at.processFixedAI(4,x[1],l);throw new Y}static processFixedAI(l,f,m){if(m.length<l)throw new Y;let y=m.substring(0,l);if(m.length<l+f)throw new Y;let x=m.substring(l,l+f),_=m.substring(l+f),j="("+y+")"+x,T=at.parseFieldsInGeneralPurpose(_);return T==null?j:j+T}static processVariableAI(l,f,m){let y=m.substring(0,l),x;m.length<l+f?x=m.length:x=l+f;let _=m.substring(l,x),j=m.substring(x),T="("+y+")"+_,L=at.parseFieldsInGeneralPurpose(j);return L==null?T:T+L}}at.VARIABLE_LENGTH=[],at.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",at.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",at.VARIABLE_LENGTH,20],["22",at.VARIABLE_LENGTH,29],["30",at.VARIABLE_LENGTH,8],["37",at.VARIABLE_LENGTH,8],["90",at.VARIABLE_LENGTH,30],["91",at.VARIABLE_LENGTH,30],["92",at.VARIABLE_LENGTH,30],["93",at.VARIABLE_LENGTH,30],["94",at.VARIABLE_LENGTH,30],["95",at.VARIABLE_LENGTH,30],["96",at.VARIABLE_LENGTH,30],["97",at.VARIABLE_LENGTH,3],["98",at.VARIABLE_LENGTH,30],["99",at.VARIABLE_LENGTH,30]],at.THREE_DIGIT_DATA_LENGTH=[["240",at.VARIABLE_LENGTH,30],["241",at.VARIABLE_LENGTH,30],["242",at.VARIABLE_LENGTH,6],["250",at.VARIABLE_LENGTH,30],["251",at.VARIABLE_LENGTH,30],["253",at.VARIABLE_LENGTH,17],["254",at.VARIABLE_LENGTH,20],["400",at.VARIABLE_LENGTH,30],["401",at.VARIABLE_LENGTH,30],["402",17],["403",at.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",at.VARIABLE_LENGTH,20],["421",at.VARIABLE_LENGTH,15],["422",3],["423",at.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],at.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",at.VARIABLE_LENGTH,15],["391",at.VARIABLE_LENGTH,18],["392",at.VARIABLE_LENGTH,15],["393",at.VARIABLE_LENGTH,18],["703",at.VARIABLE_LENGTH,30]],at.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",at.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",at.VARIABLE_LENGTH,20],["8003",at.VARIABLE_LENGTH,30],["8004",at.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",at.VARIABLE_LENGTH,30],["8008",at.VARIABLE_LENGTH,12],["8018",18],["8020",at.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",at.VARIABLE_LENGTH,70],["8200",at.VARIABLE_LENGTH,70]];class Wr{constructor(l){this.buffer=new K,this.information=l}decodeAllCodes(l,f){let m=f,y=null;do{let x=this.decodeGeneralPurposeField(m,y),_=at.parseFieldsInGeneralPurpose(x.getNewString());if(_!=null&&l.append(_),x.isRemaining()?y=""+x.getRemainingValue():y=null,m===x.getNewPosition())break;m=x.getNewPosition()}while(!0);return l.toString()}isStillNumeric(l){if(l+7>this.information.getSize())return l+4<=this.information.getSize();for(let f=l;f<l+3;++f)if(this.information.get(f))return!0;return this.information.get(l+3)}decodeNumeric(l){if(l+7>this.information.getSize()){let x=this.extractNumericValueFromBitArray(l,4);return x===0?new yr(this.information.getSize(),yr.FNC1,yr.FNC1):new yr(this.information.getSize(),x-1,yr.FNC1)}let f=this.extractNumericValueFromBitArray(l,7),m=(f-8)/11,y=(f-8)%11;return new yr(l+7,m,y)}extractNumericValueFromBitArray(l,f){return Wr.extractNumericValueFromBitArray(this.information,l,f)}static extractNumericValueFromBitArray(l,f,m){let y=0;for(let x=0;x<m;++x)l.get(f+x)&&(y|=1<<m-x-1);return y}decodeGeneralPurposeField(l,f){this.buffer.setLengthToZero(),f!=null&&this.buffer.append(f),this.current.setPosition(l);let m=this.parseBlocks();return m!=null&&m.isRemaining()?new Dt(this.current.getPosition(),this.buffer.toString(),m.getRemainingValue()):new Dt(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let l,f;do{let m=this.current.getPosition();if(this.current.isAlpha()?(f=this.parseAlphaBlock(),l=f.isFinished()):this.current.isIsoIec646()?(f=this.parseIsoIec646Block(),l=f.isFinished()):(f=this.parseNumericBlock(),l=f.isFinished()),!(m!==this.current.getPosition())&&!l)break}while(!l);return f.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let l=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFirstDigitFNC1()){let f;return l.isSecondDigitFNC1()?f=new Dt(this.current.getPosition(),this.buffer.toString()):f=new Dt(this.current.getPosition(),this.buffer.toString(),l.getSecondDigit()),new oe(!0,f)}if(this.buffer.append(l.getFirstDigit()),l.isSecondDigitFNC1()){let f=new Dt(this.current.getPosition(),this.buffer.toString());return new oe(!0,f)}this.buffer.append(l.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new oe(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let l=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let f=new Dt(this.current.getPosition(),this.buffer.toString());return new oe(!0,f)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new oe(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let l=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let f=new Dt(this.current.getPosition(),this.buffer.toString());return new oe(!0,f)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new oe(!1)}isStillIsoIec646(l){if(l+5>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(l,5);if(f>=5&&f<16)return!0;if(l+7>this.information.getSize())return!1;let m=this.extractNumericValueFromBitArray(l,7);if(m>=64&&m<116)return!0;if(l+8>this.information.getSize())return!1;let y=this.extractNumericValueFromBitArray(l,8);return y>=232&&y<253}decodeIsoIec646(l){let f=this.extractNumericValueFromBitArray(l,5);if(f===15)return new ut(l+5,ut.FNC1);if(f>=5&&f<15)return new ut(l+5,"0"+(f-5));let m=this.extractNumericValueFromBitArray(l,7);if(m>=64&&m<90)return new ut(l+7,""+(m+1));if(m>=90&&m<116)return new ut(l+7,""+(m+7));let y=this.extractNumericValueFromBitArray(l,8),x;switch(y){case 232:x="!";break;case 233:x='"';break;case 234:x="%";break;case 235:x="&";break;case 236:x="'";break;case 237:x="(";break;case 238:x=")";break;case 239:x="*";break;case 240:x="+";break;case 241:x=",";break;case 242:x="-";break;case 243:x=".";break;case 244:x="/";break;case 245:x=":";break;case 246:x=";";break;case 247:x="<";break;case 248:x="=";break;case 249:x=">";break;case 250:x="?";break;case 251:x="_";break;case 252:x=" ";break;default:throw new R}return new ut(l+8,x)}isStillAlpha(l){if(l+5>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(l,5);if(f>=5&&f<16)return!0;if(l+6>this.information.getSize())return!1;let m=this.extractNumericValueFromBitArray(l,6);return m>=16&&m<63}decodeAlphanumeric(l){let f=this.extractNumericValueFromBitArray(l,5);if(f===15)return new ut(l+5,ut.FNC1);if(f>=5&&f<15)return new ut(l+5,"0"+(f-5));let m=this.extractNumericValueFromBitArray(l,6);if(m>=32&&m<58)return new ut(l+6,""+(m+33));let y;switch(m){case 58:y="*";break;case 59:y=",";break;case 60:y="-";break;case 61:y=".";break;case 62:y="/";break;default:throw new Ge("Decoding invalid alphanumeric value: "+m)}return new ut(l+6,y)}isAlphaTo646ToAlphaLatch(l){if(l+1>this.information.getSize())return!1;for(let f=0;f<5&&f+l<this.information.getSize();++f)if(f===2){if(!this.information.get(l+2))return!1}else if(this.information.get(l+f))return!1;return!0}isAlphaOr646ToNumericLatch(l){if(l+3>this.information.getSize())return!1;for(let f=l;f<l+3;++f)if(this.information.get(f))return!1;return!0}isNumericToAlphaNumericLatch(l){if(l+1>this.information.getSize())return!1;for(let f=0;f<4&&f+l<this.information.getSize();++f)if(this.information.get(l+f))return!1;return!0}}class Zn{constructor(l){this.information=l,this.generalDecoder=new Wr(l)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Un extends Zn{constructor(l){super(l)}encodeCompressedGtin(l,f){l.append("(01)");let m=l.length();l.append("9"),this.encodeCompressedGtinWithoutAI(l,f,m)}encodeCompressedGtinWithoutAI(l,f,m){for(let y=0;y<4;++y){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(f+10*y,10);x/100===0&&l.append("0"),x/10===0&&l.append("0"),l.append(x)}Un.appendCheckDigit(l,m)}static appendCheckDigit(l,f){let m=0;for(let y=0;y<13;y++){let x=l.charAt(y+f).charCodeAt(0)-48;m+=(y&1)===0?3*x:x}m=10-m%10,m===10&&(m=0),l.append(m)}}Un.GTIN_SIZE=40;class Xi extends Un{constructor(l){super(l)}parseInformation(){let l=new K;l.append("(01)");let f=l.length(),m=this.getGeneralDecoder().extractNumericValueFromBitArray(Xi.HEADER_SIZE,4);return l.append(m),this.encodeCompressedGtinWithoutAI(l,Xi.HEADER_SIZE+4,f),this.getGeneralDecoder().decodeAllCodes(l,Xi.HEADER_SIZE+44)}}Xi.HEADER_SIZE=4;class eu extends Zn{constructor(l){super(l)}parseInformation(){let l=new K;return this.getGeneralDecoder().decodeAllCodes(l,eu.HEADER_SIZE)}}eu.HEADER_SIZE=5;class tu extends Un{constructor(l){super(l)}encodeCompressedWeight(l,f,m){let y=this.getGeneralDecoder().extractNumericValueFromBitArray(f,m);this.addWeightCode(l,y);let x=this.checkWeight(y),_=1e5;for(let j=0;j<5;++j)x/_===0&&l.append("0"),_/=10;l.append(x)}}class ha extends tu{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()!=ha.HEADER_SIZE+tu.GTIN_SIZE+ha.WEIGHT_SIZE)throw new Y;let l=new K;return this.encodeCompressedGtin(l,ha.HEADER_SIZE),this.encodeCompressedWeight(l,ha.HEADER_SIZE+tu.GTIN_SIZE,ha.WEIGHT_SIZE),l.toString()}}ha.HEADER_SIZE=5,ha.WEIGHT_SIZE=15;class Xg extends ha{constructor(l){super(l)}addWeightCode(l,f){l.append("(3103)")}checkWeight(l){return l}}class Zg extends ha{constructor(l){super(l)}addWeightCode(l,f){f<1e4?l.append("(3202)"):l.append("(3203)")}checkWeight(l){return l<1e4?l:l-1e4}}class Us extends Un{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<Us.HEADER_SIZE+Un.GTIN_SIZE)throw new Y;let l=new K;this.encodeCompressedGtin(l,Us.HEADER_SIZE);let f=this.getGeneralDecoder().extractNumericValueFromBitArray(Us.HEADER_SIZE+Un.GTIN_SIZE,Us.LAST_DIGIT_SIZE);l.append("(392"),l.append(f),l.append(")");let m=this.getGeneralDecoder().decodeGeneralPurposeField(Us.HEADER_SIZE+Un.GTIN_SIZE+Us.LAST_DIGIT_SIZE,null);return l.append(m.getNewString()),l.toString()}}Us.HEADER_SIZE=8,Us.LAST_DIGIT_SIZE=2;class ji extends Un{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<ji.HEADER_SIZE+Un.GTIN_SIZE)throw new Y;let l=new K;this.encodeCompressedGtin(l,ji.HEADER_SIZE);let f=this.getGeneralDecoder().extractNumericValueFromBitArray(ji.HEADER_SIZE+Un.GTIN_SIZE,ji.LAST_DIGIT_SIZE);l.append("(393"),l.append(f),l.append(")");let m=this.getGeneralDecoder().extractNumericValueFromBitArray(ji.HEADER_SIZE+Un.GTIN_SIZE+ji.LAST_DIGIT_SIZE,ji.FIRST_THREE_DIGITS_SIZE);m/100==0&&l.append("0"),m/10==0&&l.append("0"),l.append(m);let y=this.getGeneralDecoder().decodeGeneralPurposeField(ji.HEADER_SIZE+Un.GTIN_SIZE+ji.LAST_DIGIT_SIZE+ji.FIRST_THREE_DIGITS_SIZE,null);return l.append(y.getNewString()),l.toString()}}ji.HEADER_SIZE=8,ji.LAST_DIGIT_SIZE=2,ji.FIRST_THREE_DIGITS_SIZE=10;class un extends tu{constructor(l,f,m){super(l),this.dateCode=m,this.firstAIdigits=f}parseInformation(){if(this.getInformation().getSize()!=un.HEADER_SIZE+un.GTIN_SIZE+un.WEIGHT_SIZE+un.DATE_SIZE)throw new Y;let l=new K;return this.encodeCompressedGtin(l,un.HEADER_SIZE),this.encodeCompressedWeight(l,un.HEADER_SIZE+un.GTIN_SIZE,un.WEIGHT_SIZE),this.encodeCompressedDate(l,un.HEADER_SIZE+un.GTIN_SIZE+un.WEIGHT_SIZE),l.toString()}encodeCompressedDate(l,f){let m=this.getGeneralDecoder().extractNumericValueFromBitArray(f,un.DATE_SIZE);if(m==38400)return;l.append("("),l.append(this.dateCode),l.append(")");let y=m%32;m/=32;let x=m%12+1;m/=12;let _=m;_/10==0&&l.append("0"),l.append(_),x/10==0&&l.append("0"),l.append(x),y/10==0&&l.append("0"),l.append(y)}addWeightCode(l,f){l.append("("),l.append(this.firstAIdigits),l.append(f/1e5),l.append(")")}checkWeight(l){return l%1e5}}un.HEADER_SIZE=8,un.WEIGHT_SIZE=20,un.DATE_SIZE=16;function Qg(X){try{if(X.get(1))return new Xi(X);if(!X.get(2))return new eu(X);switch(Wr.extractNumericValueFromBitArray(X,1,4)){case 4:return new Xg(X);case 5:return new Zg(X)}switch(Wr.extractNumericValueFromBitArray(X,1,5)){case 12:return new Us(X);case 13:return new ji(X)}switch(Wr.extractNumericValueFromBitArray(X,1,7)){case 56:return new un(X,"310","11");case 57:return new un(X,"320","11");case 58:return new un(X,"310","13");case 59:return new un(X,"320","13");case 60:return new un(X,"310","15");case 61:return new un(X,"320","15");case 62:return new un(X,"310","17");case 63:return new un(X,"320","17")}}catch(l){throw console.log(l),new Ge("unknown decoder: "+X)}}class Kr{constructor(l,f,m,y){this.leftchar=l,this.rightchar=f,this.finderpattern=m,this.maybeLast=y}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(l,f){return l instanceof Kr?Kr.equalsOrNull(l.leftchar,f.leftchar)&&Kr.equalsOrNull(l.rightchar,f.rightchar)&&Kr.equalsOrNull(l.finderpattern,f.finderpattern):!1}static equalsOrNull(l,f){return l===null?f===null:Kr.equals(l,f)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Hh{constructor(l,f,m){this.pairs=l,this.rowNumber=f,this.wasReversed=m}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(l){return this.checkEqualitity(this,l)}toString(){return"{ "+this.pairs+" }"}equals(l,f){return l instanceof Hh?this.checkEqualitity(l,f)&&l.wasReversed===f.wasReversed:!1}checkEqualitity(l,f){if(!l||!f)return;let m;return l.forEach((y,x)=>{f.forEach(_=>{y.getLeftChar().getValue()===_.getLeftChar().getValue()&&y.getRightChar().getValue()===_.getRightChar().getValue()&&y.getFinderPatter().getValue()===_.getFinderPatter().getValue()&&(m=!0)})}),m}}class Ve extends ar{constructor(l){super(...arguments),this.pairs=new Array(Ve.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=l===!0}decodeRow(l,f,m){this.pairs.length=0,this.startFromEven=!1;try{return Ve.constructResult(this.decodeRow2pairs(l,f))}catch(y){this.verbose&&console.log(y)}return this.pairs.length=0,this.startFromEven=!0,Ve.constructResult(this.decodeRow2pairs(l,f))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(l,f){let m=!1;for(;!m;)try{this.pairs.push(this.retrieveNextPair(f,this.pairs,l))}catch(x){if(x instanceof Y){if(!this.pairs.length)throw new Y;m=!0}}if(this.checkChecksum())return this.pairs;let y;if(this.rows.length?y=!0:y=!1,this.storeRow(l,!1),y){let x=this.checkRowsBoolean(!1);if(x!=null||(x=this.checkRowsBoolean(!0),x!=null))return x}throw new Y}checkRowsBoolean(l){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,l&&(this.rows=this.rows.reverse());let f=null;try{f=this.checkRows(new Array,0)}catch(m){this.verbose&&console.log(m)}return l&&(this.rows=this.rows.reverse()),f}checkRows(l,f){for(let m=f;m<this.rows.length;m++){let y=this.rows[m];this.pairs.length=0;for(let _ of l)this.pairs.push(_.getPairs());if(this.pairs.push(y.getPairs()),!Ve.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let x=new Array(l);x.push(y);try{return this.checkRows(x,m+1)}catch(_){this.verbose&&console.log(_)}}throw new Y}static isValidSequence(l){for(let f of Ve.FINDER_PATTERN_SEQUENCES){if(l.length>f.length)continue;let m=!0;for(let y=0;y<l.length;y++)if(l[y].getFinderPattern().getValue()!=f[y]){m=!1;break}if(m)return!0}return!1}storeRow(l,f){let m=0,y=!1,x=!1;for(;m<this.rows.length;){let _=this.rows[m];if(_.getRowNumber()>l){x=_.isEquivalent(this.pairs);break}y=_.isEquivalent(this.pairs),m++}x||y||Ve.isPartialRow(this.pairs,this.rows)||(this.rows.push(m,new Hh(this.pairs,l,f)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(l,f){for(let m of f)if(m.getPairs().length!==l.length){for(let y of m.getPairs())for(let x of l)if(Kr.equals(y,x))break}}static isPartialRow(l,f){for(let m of f){let y=!0;for(let x of l){let _=!1;for(let j of m.getPairs())if(x.equals(j)){_=!0;break}if(!_){y=!1;break}}if(y)return!0}return!1}getRows(){return this.rows}static constructResult(l){let f=Yi.buildBitArray(l),y=Qg(f).parseInformation(),x=l[0].getFinderPattern().getResultPoints(),_=l[l.length-1].getFinderPattern().getResultPoints(),j=[x[0],x[1],_[0],_[1]];return new xe(y,null,null,j,Pe.RSS_EXPANDED,null)}checkChecksum(){let l=this.pairs.get(0),f=l.getLeftChar(),m=l.getRightChar();if(m==null)return!1;let y=m.getChecksumPortion(),x=2;for(let j=1;j<this.pairs.size();++j){let T=this.pairs.get(j);y+=T.getLeftChar().getChecksumPortion(),x++;let L=T.getRightChar();L!=null&&(y+=L.getChecksumPortion(),x++)}return y%=211,211*(x-4)+y==f.getValue()}static getNextSecondBar(l,f){let m;return l.get(f)?(m=l.getNextUnset(f),m=l.getNextSet(m)):(m=l.getNextSet(f),m=l.getNextUnset(m)),m}retrieveNextPair(l,f,m){let y=f.length%2==0;this.startFromEven&&(y=!y);let x,_=!0,j=-1;do this.findNextPair(l,f,j),x=this.parseFoundFinderPattern(l,m,y),x==null?j=Ve.getNextSecondBar(l,this.startEnd[0]):_=!1;while(_);let T=this.decodeDataCharacter(l,x,y,!0);if(!this.isEmptyPair(f)&&f[f.length-1].mustBeLast())throw new Y;let L;try{L=this.decodeDataCharacter(l,x,y,!1)}catch(H){L=null,this.verbose&&console.log(H)}return new Kr(T,L,x,!0)}isEmptyPair(l){return l.length===0}findNextPair(l,f,m){let y=this.getDecodeFinderCounters();y[0]=0,y[1]=0,y[2]=0,y[3]=0;let x=l.getSize(),_;m>=0?_=m:this.isEmptyPair(f)?_=0:_=f[f.length-1].getFinderPattern().getStartEnd()[1];let j=f.length%2!=0;this.startFromEven&&(j=!j);let T=!1;for(;_<x&&(T=!l.get(_),!!T);)_++;let L=0,H=_;for(let Z=_;Z<x;Z++)if(l.get(Z)!=T)y[L]++;else{if(L==3){if(j&&Ve.reverseCounters(y),Ve.isFinderPattern(y)){this.startEnd[0]=H,this.startEnd[1]=Z;return}j&&Ve.reverseCounters(y),H+=y[0]+y[1],y[0]=y[2],y[1]=y[3],y[2]=0,y[3]=0,L--}else L++;y[L]=1,T=!T}throw new Y}static reverseCounters(l){let f=l.length;for(let m=0;m<f/2;++m){let y=l[m];l[m]=l[f-m-1],l[f-m-1]=y}}parseFoundFinderPattern(l,f,m){let y,x,_;if(m){let L=this.startEnd[0]-1;for(;L>=0&&!l.get(L);)L--;L++,y=this.startEnd[0]-L,x=L,_=this.startEnd[1]}else x=this.startEnd[0],_=l.getNextUnset(this.startEnd[1]+1),y=_-this.startEnd[1];let j=this.getDecodeFinderCounters();C.arraycopy(j,0,j,1,j.length-1),j[0]=y;let T;try{T=this.parseFinderValue(j,Ve.FINDER_PATTERNS)}catch{return null}return new Xn(T,[x,_],x,_,f)}decodeDataCharacter(l,f,m,y){let x=this.getDataCharacterCounters();for(let Hr=0;Hr<x.length;Hr++)x[Hr]=0;if(y)Ve.recordPatternInReverse(l,f.getStartEnd()[0],x);else{Ve.recordPattern(l,f.getStartEnd()[1],x);for(let Hr=0,Pn=x.length-1;Hr<Pn;Hr++,Pn--){let Li=x[Hr];x[Hr]=x[Pn],x[Pn]=Li}}let _=17,j=dt.sum(new Int32Array(x))/_,T=(f.getStartEnd()[1]-f.getStartEnd()[0])/15;if(Math.abs(j-T)/T>.3)throw new Y;let L=this.getOddCounts(),H=this.getEvenCounts(),Z=this.getOddRoundingErrors(),re=this.getEvenRoundingErrors();for(let Hr=0;Hr<x.length;Hr++){let Pn=1*x[Hr]/j,Li=Pn+.5;if(Li<1){if(Pn<.3)throw new Y;Li=1}else if(Li>8){if(Pn>8.7)throw new Y;Li=8}let Xo=Hr/2;(Hr&1)==0?(L[Xo]=Li,Z[Xo]=Pn-Li):(H[Xo]=Li,re[Xo]=Pn-Li)}this.adjustOddEvenCounts(_);let ce=4*f.getValue()+(m?0:2)+(y?0:1)-1,pe=0,ve=0;for(let Hr=L.length-1;Hr>=0;Hr--){if(Ve.isNotA1left(f,m,y)){let Pn=Ve.WEIGHTS[ce][2*Hr];ve+=L[Hr]*Pn}pe+=L[Hr]}let Ae=0;for(let Hr=H.length-1;Hr>=0;Hr--)if(Ve.isNotA1left(f,m,y)){let Pn=Ve.WEIGHTS[ce][2*Hr+1];Ae+=H[Hr]*Pn}let Me=ve+Ae;if((pe&1)!=0||pe>13||pe<4)throw new Y;let nt=(13-pe)/2,it=Ve.SYMBOL_WIDEST[nt],Je=9-it,jr=rn.getRSSvalue(L,it,!0),lr=rn.getRSSvalue(H,Je,!1),Qi=Ve.EVEN_TOTAL_SUBSET[nt],Ws=Ve.GSUM[nt],ei=jr*Qi+lr+Ws;return new wn(ei,Me)}static isNotA1left(l,f,m){return!(l.getValue()==0&&f&&m)}adjustOddEvenCounts(l){let f=dt.sum(new Int32Array(this.getOddCounts())),m=dt.sum(new Int32Array(this.getEvenCounts())),y=!1,x=!1;f>13?x=!0:f<4&&(y=!0);let _=!1,j=!1;m>13?j=!0:m<4&&(_=!0);let T=f+m-l,L=(f&1)==1,H=(m&1)==0;if(T==1)if(L){if(H)throw new Y;x=!0}else{if(!H)throw new Y;j=!0}else if(T==-1)if(L){if(H)throw new Y;y=!0}else{if(!H)throw new Y;_=!0}else if(T==0){if(L){if(!H)throw new Y;f<m?(y=!0,j=!0):(x=!0,_=!0)}else if(H)throw new Y}else throw new Y;if(y){if(x)throw new Y;Ve.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&Ve.decrement(this.getOddCounts(),this.getOddRoundingErrors()),_){if(j)throw new Y;Ve.increment(this.getEvenCounts(),this.getOddRoundingErrors())}j&&Ve.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ve.SYMBOL_WIDEST=[7,5,4,3,1],Ve.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ve.GSUM=[0,348,1388,2948,3988],Ve.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ve.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ve.FINDER_PAT_A=0,Ve.FINDER_PAT_B=1,Ve.FINDER_PAT_C=2,Ve.FINDER_PAT_D=3,Ve.FINDER_PAT_E=4,Ve.FINDER_PAT_F=5,Ve.FINDER_PATTERN_SEQUENCES=[[Ve.FINDER_PAT_A,Ve.FINDER_PAT_A],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_B,Ve.FINDER_PAT_B],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_C,Ve.FINDER_PAT_B,Ve.FINDER_PAT_D],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_E,Ve.FINDER_PAT_B,Ve.FINDER_PAT_D,Ve.FINDER_PAT_C],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_E,Ve.FINDER_PAT_B,Ve.FINDER_PAT_D,Ve.FINDER_PAT_D,Ve.FINDER_PAT_F],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_E,Ve.FINDER_PAT_B,Ve.FINDER_PAT_D,Ve.FINDER_PAT_E,Ve.FINDER_PAT_F,Ve.FINDER_PAT_F],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_A,Ve.FINDER_PAT_B,Ve.FINDER_PAT_B,Ve.FINDER_PAT_C,Ve.FINDER_PAT_C,Ve.FINDER_PAT_D,Ve.FINDER_PAT_D],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_A,Ve.FINDER_PAT_B,Ve.FINDER_PAT_B,Ve.FINDER_PAT_C,Ve.FINDER_PAT_C,Ve.FINDER_PAT_D,Ve.FINDER_PAT_E,Ve.FINDER_PAT_E],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_A,Ve.FINDER_PAT_B,Ve.FINDER_PAT_B,Ve.FINDER_PAT_C,Ve.FINDER_PAT_C,Ve.FINDER_PAT_D,Ve.FINDER_PAT_E,Ve.FINDER_PAT_F,Ve.FINDER_PAT_F],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_A,Ve.FINDER_PAT_B,Ve.FINDER_PAT_B,Ve.FINDER_PAT_C,Ve.FINDER_PAT_D,Ve.FINDER_PAT_D,Ve.FINDER_PAT_E,Ve.FINDER_PAT_E,Ve.FINDER_PAT_F,Ve.FINDER_PAT_F]],Ve.MAX_PAIRS=11;class Jg extends wn{constructor(l,f,m){super(l,f),this.count=0,this.finderPattern=m}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class on extends ar{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(l,f,m){const y=this.decodePair(f,!1,l,m);on.addOrTally(this.possibleLeftPairs,y),f.reverse();let x=this.decodePair(f,!0,l,m);on.addOrTally(this.possibleRightPairs,x),f.reverse();for(let _ of this.possibleLeftPairs)if(_.getCount()>1){for(let j of this.possibleRightPairs)if(j.getCount()>1&&on.checkChecksum(_,j))return on.constructResult(_,j)}throw new Y}static addOrTally(l,f){if(f==null)return;let m=!1;for(let y of l)if(y.getValue()===f.getValue()){y.incrementCount(),m=!0;break}m||l.push(f)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(l,f){let m=4537077*l.getValue()+f.getValue(),y=new String(m).toString(),x=new K;for(let L=13-y.length;L>0;L--)x.append("0");x.append(y);let _=0;for(let L=0;L<13;L++){let H=x.charAt(L).charCodeAt(0)-48;_+=(L&1)===0?3*H:H}_=10-_%10,_===10&&(_=0),x.append(_.toString());let j=l.getFinderPattern().getResultPoints(),T=f.getFinderPattern().getResultPoints();return new xe(x.toString(),null,0,[j[0],j[1],T[0],T[1]],Pe.RSS_14,new Date().getTime())}static checkChecksum(l,f){let m=(l.getChecksumPortion()+16*f.getChecksumPortion())%79,y=9*l.getFinderPattern().getValue()+f.getFinderPattern().getValue();return y>72&&y--,y>8&&y--,m===y}decodePair(l,f,m,y){try{let x=this.findFinderPattern(l,f),_=this.parseFoundFinderPattern(l,m,f,x),j=y==null?null:y.get(D.NEED_RESULT_POINT_CALLBACK);if(j!=null){let H=(x[0]+x[1])/2;f&&(H=l.getSize()-1-H),j.foundPossibleResultPoint(new he(H,m))}let T=this.decodeDataCharacter(l,_,!0),L=this.decodeDataCharacter(l,_,!1);return new Jg(1597*T.getValue()+L.getValue(),T.getChecksumPortion()+4*L.getChecksumPortion(),_)}catch{return null}}decodeDataCharacter(l,f,m){let y=this.getDataCharacterCounters();for(let Ae=0;Ae<y.length;Ae++)y[Ae]=0;if(m)_r.recordPatternInReverse(l,f.getStartEnd()[0],y);else{_r.recordPattern(l,f.getStartEnd()[1]+1,y);for(let Ae=0,Me=y.length-1;Ae<Me;Ae++,Me--){let nt=y[Ae];y[Ae]=y[Me],y[Me]=nt}}let x=m?16:15,_=dt.sum(new Int32Array(y))/x,j=this.getOddCounts(),T=this.getEvenCounts(),L=this.getOddRoundingErrors(),H=this.getEvenRoundingErrors();for(let Ae=0;Ae<y.length;Ae++){let Me=y[Ae]/_,nt=Math.floor(Me+.5);nt<1?nt=1:nt>8&&(nt=8);let it=Math.floor(Ae/2);(Ae&1)===0?(j[it]=nt,L[it]=Me-nt):(T[it]=nt,H[it]=Me-nt)}this.adjustOddEvenCounts(m,x);let Z=0,re=0;for(let Ae=j.length-1;Ae>=0;Ae--)re*=9,re+=j[Ae],Z+=j[Ae];let ce=0,pe=0;for(let Ae=T.length-1;Ae>=0;Ae--)ce*=9,ce+=T[Ae],pe+=T[Ae];let ve=re+3*ce;if(m){if((Z&1)!==0||Z>12||Z<4)throw new Y;let Ae=(12-Z)/2,Me=on.OUTSIDE_ODD_WIDEST[Ae],nt=9-Me,it=rn.getRSSvalue(j,Me,!1),Je=rn.getRSSvalue(T,nt,!0),jr=on.OUTSIDE_EVEN_TOTAL_SUBSET[Ae],lr=on.OUTSIDE_GSUM[Ae];return new wn(it*jr+Je+lr,ve)}else{if((pe&1)!==0||pe>10||pe<4)throw new Y;let Ae=(10-pe)/2,Me=on.INSIDE_ODD_WIDEST[Ae],nt=9-Me,it=rn.getRSSvalue(j,Me,!0),Je=rn.getRSSvalue(T,nt,!1),jr=on.INSIDE_ODD_TOTAL_SUBSET[Ae],lr=on.INSIDE_GSUM[Ae];return new wn(Je*jr+it+lr,ve)}}findFinderPattern(l,f){let m=this.getDecodeFinderCounters();m[0]=0,m[1]=0,m[2]=0,m[3]=0;let y=l.getSize(),x=!1,_=0;for(;_<y&&(x=!l.get(_),f!==x);)_++;let j=0,T=_;for(let L=_;L<y;L++)if(l.get(L)!==x)m[j]++;else{if(j===3){if(ar.isFinderPattern(m))return[T,L];T+=m[0]+m[1],m[0]=m[2],m[1]=m[3],m[2]=0,m[3]=0,j--}else j++;m[j]=1,x=!x}throw new Y}parseFoundFinderPattern(l,f,m,y){let x=l.get(y[0]),_=y[0]-1;for(;_>=0&&x!==l.get(_);)_--;_++;const j=y[0]-_,T=this.getDecodeFinderCounters(),L=new Int32Array(T.length);C.arraycopy(T,0,L,1,T.length-1),L[0]=j;const H=this.parseFinderValue(L,on.FINDER_PATTERNS);let Z=_,re=y[1];return m&&(Z=l.getSize()-1-Z,re=l.getSize()-1-re),new Xn(H,[_,y[1]],Z,re,f)}adjustOddEvenCounts(l,f){let m=dt.sum(new Int32Array(this.getOddCounts())),y=dt.sum(new Int32Array(this.getEvenCounts())),x=!1,_=!1,j=!1,T=!1;l?(m>12?_=!0:m<4&&(x=!0),y>12?T=!0:y<4&&(j=!0)):(m>11?_=!0:m<5&&(x=!0),y>10?T=!0:y<4&&(j=!0));let L=m+y-f,H=(m&1)===(l?1:0),Z=(y&1)===1;if(L===1)if(H){if(Z)throw new Y;_=!0}else{if(!Z)throw new Y;T=!0}else if(L===-1)if(H){if(Z)throw new Y;x=!0}else{if(!Z)throw new Y;j=!0}else if(L===0){if(H){if(!Z)throw new Y;m<y?(x=!0,T=!0):(_=!0,j=!0)}else if(Z)throw new Y}else throw new Y;if(x){if(_)throw new Y;ar.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(_&&ar.decrement(this.getOddCounts(),this.getOddRoundingErrors()),j){if(T)throw new Y;ar.increment(this.getEvenCounts(),this.getOddRoundingErrors())}T&&ar.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}on.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],on.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],on.OUTSIDE_GSUM=[0,161,961,2015,2715],on.INSIDE_GSUM=[0,336,1036,1516],on.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],on.INSIDE_ODD_WIDEST=[2,4,6,8],on.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ul extends _r{constructor(l,f){super(),this.readers=[],this.verbose=f===!0;const m=l?l.get(D.POSSIBLE_FORMATS):null,y=l&&l.get(D.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;m?((m.includes(Pe.EAN_13)||m.includes(Pe.UPC_A)||m.includes(Pe.EAN_8)||m.includes(Pe.UPC_E))&&this.readers.push(new kr(l)),m.includes(Pe.CODE_39)&&this.readers.push(new Gr(y)),m.includes(Pe.CODE_128)&&this.readers.push(new tt),m.includes(Pe.ITF)&&this.readers.push(new gr),m.includes(Pe.RSS_14)&&this.readers.push(new on),m.includes(Pe.RSS_EXPANDED)&&this.readers.push(new Ve(this.verbose))):(this.readers.push(new kr(l)),this.readers.push(new Gr),this.readers.push(new kr(l)),this.readers.push(new tt),this.readers.push(new gr),this.readers.push(new on),this.readers.push(new Ve(this.verbose)))}decodeRow(l,f,m){for(let y=0;y<this.readers.length;y++)try{return this.readers[y].decodeRow(l,f,m)}catch{}throw new Y}reset(){this.readers.forEach(l=>l.reset())}}class e0 extends me{constructor(l=500,f){super(new Ul(f),l,f)}}class Mr{constructor(l,f,m){this.ecCodewords=l,this.ecBlocks=[f],m&&this.ecBlocks.push(m)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class xr{constructor(l,f){this.count=l,this.dataCodewords=f}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Pr{constructor(l,f,m,y,x,_){this.versionNumber=l,this.symbolSizeRows=f,this.symbolSizeColumns=m,this.dataRegionSizeRows=y,this.dataRegionSizeColumns=x,this.ecBlocks=_;let j=0;const T=_.getECCodewords(),L=_.getECBlocks();for(let H of L)j+=H.getCount()*(H.getDataCodewords()+T);this.totalCodewords=j}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(l,f){if((l&1)!==0||(f&1)!==0)throw new R;for(let m of Pr.VERSIONS)if(m.symbolSizeRows===l&&m.symbolSizeColumns===f)return m;throw new R}toString(){return""+this.versionNumber}static buildVersions(){return[new Pr(1,10,10,8,8,new Mr(5,new xr(1,3))),new Pr(2,12,12,10,10,new Mr(7,new xr(1,5))),new Pr(3,14,14,12,12,new Mr(10,new xr(1,8))),new Pr(4,16,16,14,14,new Mr(12,new xr(1,12))),new Pr(5,18,18,16,16,new Mr(14,new xr(1,18))),new Pr(6,20,20,18,18,new Mr(18,new xr(1,22))),new Pr(7,22,22,20,20,new Mr(20,new xr(1,30))),new Pr(8,24,24,22,22,new Mr(24,new xr(1,36))),new Pr(9,26,26,24,24,new Mr(28,new xr(1,44))),new Pr(10,32,32,14,14,new Mr(36,new xr(1,62))),new Pr(11,36,36,16,16,new Mr(42,new xr(1,86))),new Pr(12,40,40,18,18,new Mr(48,new xr(1,114))),new Pr(13,44,44,20,20,new Mr(56,new xr(1,144))),new Pr(14,48,48,22,22,new Mr(68,new xr(1,174))),new Pr(15,52,52,24,24,new Mr(42,new xr(2,102))),new Pr(16,64,64,14,14,new Mr(56,new xr(2,140))),new Pr(17,72,72,16,16,new Mr(36,new xr(4,92))),new Pr(18,80,80,18,18,new Mr(48,new xr(4,114))),new Pr(19,88,88,20,20,new Mr(56,new xr(4,144))),new Pr(20,96,96,22,22,new Mr(68,new xr(4,174))),new Pr(21,104,104,24,24,new Mr(56,new xr(6,136))),new Pr(22,120,120,18,18,new Mr(68,new xr(6,175))),new Pr(23,132,132,20,20,new Mr(62,new xr(8,163))),new Pr(24,144,144,22,22,new Mr(62,new xr(8,156),new xr(2,155))),new Pr(25,8,18,6,16,new Mr(7,new xr(1,5))),new Pr(26,8,32,6,14,new Mr(11,new xr(1,10))),new Pr(27,12,26,10,24,new Mr(14,new xr(1,16))),new Pr(28,12,36,10,16,new Mr(18,new xr(1,22))),new Pr(29,16,36,14,16,new Mr(24,new xr(1,32))),new Pr(30,16,48,14,22,new Mr(28,new xr(1,49)))]}}Pr.VERSIONS=Pr.buildVersions();class us{constructor(l){const f=l.getHeight();if(f<8||f>144||(f&1)!==0)throw new R;this.version=us.readVersion(l),this.mappingBitMatrix=this.extractDataRegion(l),this.readMappingMatrix=new q(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(l){const f=l.getHeight(),m=l.getWidth();return Pr.getVersionForDimensions(f,m)}readCodewords(){const l=new Int8Array(this.version.getTotalCodewords());let f=0,m=4,y=0;const x=this.mappingBitMatrix.getHeight(),_=this.mappingBitMatrix.getWidth();let j=!1,T=!1,L=!1,H=!1;do if(m===x&&y===0&&!j)l[f++]=this.readCorner1(x,_)&255,m-=2,y+=2,j=!0;else if(m===x-2&&y===0&&(_&3)!==0&&!T)l[f++]=this.readCorner2(x,_)&255,m-=2,y+=2,T=!0;else if(m===x+4&&y===2&&(_&7)===0&&!L)l[f++]=this.readCorner3(x,_)&255,m-=2,y+=2,L=!0;else if(m===x-2&&y===0&&(_&7)===4&&!H)l[f++]=this.readCorner4(x,_)&255,m-=2,y+=2,H=!0;else{do m<x&&y>=0&&!this.readMappingMatrix.get(y,m)&&(l[f++]=this.readUtah(m,y,x,_)&255),m-=2,y+=2;while(m>=0&&y<_);m+=1,y+=3;do m>=0&&y<_&&!this.readMappingMatrix.get(y,m)&&(l[f++]=this.readUtah(m,y,x,_)&255),m+=2,y-=2;while(m<x&&y>=0);m+=3,y+=1}while(m<x||y<_);if(f!==this.version.getTotalCodewords())throw new R;return l}readModule(l,f,m,y){return l<0&&(l+=m,f+=4-(m+4&7)),f<0&&(f+=y,l+=4-(y+4&7)),this.readMappingMatrix.set(f,l),this.mappingBitMatrix.get(f,l)}readUtah(l,f,m,y){let x=0;return this.readModule(l-2,f-2,m,y)&&(x|=1),x<<=1,this.readModule(l-2,f-1,m,y)&&(x|=1),x<<=1,this.readModule(l-1,f-2,m,y)&&(x|=1),x<<=1,this.readModule(l-1,f-1,m,y)&&(x|=1),x<<=1,this.readModule(l-1,f,m,y)&&(x|=1),x<<=1,this.readModule(l,f-2,m,y)&&(x|=1),x<<=1,this.readModule(l,f-1,m,y)&&(x|=1),x<<=1,this.readModule(l,f,m,y)&&(x|=1),x}readCorner1(l,f){let m=0;return this.readModule(l-1,0,l,f)&&(m|=1),m<<=1,this.readModule(l-1,1,l,f)&&(m|=1),m<<=1,this.readModule(l-1,2,l,f)&&(m|=1),m<<=1,this.readModule(0,f-2,l,f)&&(m|=1),m<<=1,this.readModule(0,f-1,l,f)&&(m|=1),m<<=1,this.readModule(1,f-1,l,f)&&(m|=1),m<<=1,this.readModule(2,f-1,l,f)&&(m|=1),m<<=1,this.readModule(3,f-1,l,f)&&(m|=1),m}readCorner2(l,f){let m=0;return this.readModule(l-3,0,l,f)&&(m|=1),m<<=1,this.readModule(l-2,0,l,f)&&(m|=1),m<<=1,this.readModule(l-1,0,l,f)&&(m|=1),m<<=1,this.readModule(0,f-4,l,f)&&(m|=1),m<<=1,this.readModule(0,f-3,l,f)&&(m|=1),m<<=1,this.readModule(0,f-2,l,f)&&(m|=1),m<<=1,this.readModule(0,f-1,l,f)&&(m|=1),m<<=1,this.readModule(1,f-1,l,f)&&(m|=1),m}readCorner3(l,f){let m=0;return this.readModule(l-1,0,l,f)&&(m|=1),m<<=1,this.readModule(l-1,f-1,l,f)&&(m|=1),m<<=1,this.readModule(0,f-3,l,f)&&(m|=1),m<<=1,this.readModule(0,f-2,l,f)&&(m|=1),m<<=1,this.readModule(0,f-1,l,f)&&(m|=1),m<<=1,this.readModule(1,f-3,l,f)&&(m|=1),m<<=1,this.readModule(1,f-2,l,f)&&(m|=1),m<<=1,this.readModule(1,f-1,l,f)&&(m|=1),m}readCorner4(l,f){let m=0;return this.readModule(l-3,0,l,f)&&(m|=1),m<<=1,this.readModule(l-2,0,l,f)&&(m|=1),m<<=1,this.readModule(l-1,0,l,f)&&(m|=1),m<<=1,this.readModule(0,f-2,l,f)&&(m|=1),m<<=1,this.readModule(0,f-1,l,f)&&(m|=1),m<<=1,this.readModule(1,f-1,l,f)&&(m|=1),m<<=1,this.readModule(2,f-1,l,f)&&(m|=1),m<<=1,this.readModule(3,f-1,l,f)&&(m|=1),m}extractDataRegion(l){const f=this.version.getSymbolSizeRows(),m=this.version.getSymbolSizeColumns();if(l.getHeight()!==f)throw new v("Dimension of bitMatrix must match the version size");const y=this.version.getDataRegionSizeRows(),x=this.version.getDataRegionSizeColumns(),_=f/y|0,j=m/x|0,T=_*y,L=j*x,H=new q(L,T);for(let Z=0;Z<_;++Z){const re=Z*y;for(let ce=0;ce<j;++ce){const pe=ce*x;for(let ve=0;ve<y;++ve){const Ae=Z*(y+2)+1+ve,Me=re+ve;for(let nt=0;nt<x;++nt){const it=ce*(x+2)+1+nt;if(l.get(it,Ae)){const Je=pe+nt;H.set(Je,Me)}}}}}return H}}class Gh{constructor(l,f){this.numDataCodewords=l,this.codewords=f}static getDataBlocks(l,f){const m=f.getECBlocks();let y=0;const x=m.getECBlocks();for(let ve of x)y+=ve.getCount();const _=new Array(y);let j=0;for(let ve of x)for(let Ae=0;Ae<ve.getCount();Ae++){const Me=ve.getDataCodewords(),nt=m.getECCodewords()+Me;_[j++]=new Gh(Me,new Uint8Array(nt))}const L=_[0].codewords.length-m.getECCodewords(),H=L-1;let Z=0;for(let ve=0;ve<H;ve++)for(let Ae=0;Ae<j;Ae++)_[Ae].codewords[ve]=l[Z++];const re=f.getVersionNumber()===24,ce=re?8:j;for(let ve=0;ve<ce;ve++)_[ve].codewords[L-1]=l[Z++];const pe=_[0].codewords.length;for(let ve=L;ve<pe;ve++)for(let Ae=0;Ae<j;Ae++){const Me=re?(Ae+8)%j:Ae,nt=re&&Me>7?ve-1:ve;_[Me].codewords[nt]=l[Z++]}if(Z!==l.length)throw new v;return _}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Kh{constructor(l){this.bytes=l,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(l){if(l<1||l>32||l>this.available())throw new v(""+l);let f=0,m=this.bitOffset,y=this.byteOffset;const x=this.bytes;if(m>0){const _=8-m,j=l<_?l:_,T=_-j,L=255>>8-j<<T;f=(x[y]&L)>>T,l-=j,m+=j,m===8&&(m=0,y++)}if(l>0){for(;l>=8;)f=f<<8|x[y]&255,y++,l-=8;if(l>0){const _=8-l,j=255>>_<<_;f=f<<l|(x[y]&j)>>_,m+=l}}return this.bitOffset=m,this.byteOffset=y,f}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Qn;(function(X){X[X.PAD_ENCODE=0]="PAD_ENCODE",X[X.ASCII_ENCODE=1]="ASCII_ENCODE",X[X.C40_ENCODE=2]="C40_ENCODE",X[X.TEXT_ENCODE=3]="TEXT_ENCODE",X[X.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",X[X.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",X[X.BASE256_ENCODE=6]="BASE256_ENCODE"})(Qn||(Qn={}));class $s{static decode(l){const f=new Kh(l),m=new K,y=new K,x=new Array;let _=Qn.ASCII_ENCODE;do if(_===Qn.ASCII_ENCODE)_=this.decodeAsciiSegment(f,m,y);else{switch(_){case Qn.C40_ENCODE:this.decodeC40Segment(f,m);break;case Qn.TEXT_ENCODE:this.decodeTextSegment(f,m);break;case Qn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(f,m);break;case Qn.EDIFACT_ENCODE:this.decodeEdifactSegment(f,m);break;case Qn.BASE256_ENCODE:this.decodeBase256Segment(f,m,x);break;default:throw new R}_=Qn.ASCII_ENCODE}while(_!==Qn.PAD_ENCODE&&f.available()>0);return y.length()>0&&m.append(y.toString()),new Ee(l,m.toString(),x.length===0?null:x,null)}static decodeAsciiSegment(l,f,m){let y=!1;do{let x=l.readBits(8);if(x===0)throw new R;if(x<=128)return y&&(x+=128),f.append(String.fromCharCode(x-1)),Qn.ASCII_ENCODE;if(x===129)return Qn.PAD_ENCODE;if(x<=229){const _=x-130;_<10&&f.append("0"),f.append(""+_)}else switch(x){case 230:return Qn.C40_ENCODE;case 231:return Qn.BASE256_ENCODE;case 232:f.append("");break;case 233:case 234:break;case 235:y=!0;break;case 236:f.append("[)>05"),m.insert(0,"");break;case 237:f.append("[)>06"),m.insert(0,"");break;case 238:return Qn.ANSIX12_ENCODE;case 239:return Qn.TEXT_ENCODE;case 240:return Qn.EDIFACT_ENCODE;case 241:break;default:if(x!==254||l.available()!==0)throw new R;break}}while(l.available()>0);return Qn.ASCII_ENCODE}static decodeC40Segment(l,f){let m=!1;const y=[];let x=0;do{if(l.available()===8)return;const _=l.readBits(8);if(_===254)return;this.parseTwoBytes(_,l.readBits(8),y);for(let j=0;j<3;j++){const T=y[j];switch(x){case 0:if(T<3)x=T+1;else if(T<this.C40_BASIC_SET_CHARS.length){const L=this.C40_BASIC_SET_CHARS[T];m?(f.append(String.fromCharCode(L.charCodeAt(0)+128)),m=!1):f.append(L)}else throw new R;break;case 1:m?(f.append(String.fromCharCode(T+128)),m=!1):f.append(String.fromCharCode(T)),x=0;break;case 2:if(T<this.C40_SHIFT2_SET_CHARS.length){const L=this.C40_SHIFT2_SET_CHARS[T];m?(f.append(String.fromCharCode(L.charCodeAt(0)+128)),m=!1):f.append(L)}else switch(T){case 27:f.append("");break;case 30:m=!0;break;default:throw new R}x=0;break;case 3:m?(f.append(String.fromCharCode(T+224)),m=!1):f.append(String.fromCharCode(T+96)),x=0;break;default:throw new R}}}while(l.available()>0)}static decodeTextSegment(l,f){let m=!1,y=[],x=0;do{if(l.available()===8)return;const _=l.readBits(8);if(_===254)return;this.parseTwoBytes(_,l.readBits(8),y);for(let j=0;j<3;j++){const T=y[j];switch(x){case 0:if(T<3)x=T+1;else if(T<this.TEXT_BASIC_SET_CHARS.length){const L=this.TEXT_BASIC_SET_CHARS[T];m?(f.append(String.fromCharCode(L.charCodeAt(0)+128)),m=!1):f.append(L)}else throw new R;break;case 1:m?(f.append(String.fromCharCode(T+128)),m=!1):f.append(String.fromCharCode(T)),x=0;break;case 2:if(T<this.TEXT_SHIFT2_SET_CHARS.length){const L=this.TEXT_SHIFT2_SET_CHARS[T];m?(f.append(String.fromCharCode(L.charCodeAt(0)+128)),m=!1):f.append(L)}else switch(T){case 27:f.append("");break;case 30:m=!0;break;default:throw new R}x=0;break;case 3:if(T<this.TEXT_SHIFT3_SET_CHARS.length){const L=this.TEXT_SHIFT3_SET_CHARS[T];m?(f.append(String.fromCharCode(L.charCodeAt(0)+128)),m=!1):f.append(L),x=0}else throw new R;break;default:throw new R}}}while(l.available()>0)}static decodeAnsiX12Segment(l,f){const m=[];do{if(l.available()===8)return;const y=l.readBits(8);if(y===254)return;this.parseTwoBytes(y,l.readBits(8),m);for(let x=0;x<3;x++){const _=m[x];switch(_){case 0:f.append("\r");break;case 1:f.append("*");break;case 2:f.append(">");break;case 3:f.append(" ");break;default:if(_<14)f.append(String.fromCharCode(_+44));else if(_<40)f.append(String.fromCharCode(_+51));else throw new R;break}}}while(l.available()>0)}static parseTwoBytes(l,f,m){let y=(l<<8)+f-1,x=Math.floor(y/1600);m[0]=x,y-=x*1600,x=Math.floor(y/40),m[1]=x,m[2]=y-x*40}static decodeEdifactSegment(l,f){do{if(l.available()<=16)return;for(let m=0;m<4;m++){let y=l.readBits(6);if(y===31){const x=8-l.getBitOffset();x!==8&&l.readBits(x);return}(y&32)===0&&(y|=64),f.append(String.fromCharCode(y))}}while(l.available()>0)}static decodeBase256Segment(l,f,m){let y=1+l.getByteOffset();const x=this.unrandomize255State(l.readBits(8),y++);let _;if(x===0?_=l.available()/8|0:x<250?_=x:_=250*(x-249)+this.unrandomize255State(l.readBits(8),y++),_<0)throw new R;const j=new Uint8Array(_);for(let T=0;T<_;T++){if(l.available()<8)throw new R;j[T]=this.unrandomize255State(l.readBits(8),y++)}m.push(j);try{f.append(W.decode(j,V.ISO88591))}catch(T){throw new Ge("Platform does not support required encoding: "+T.message)}}static unrandomize255State(l,f){const m=149*f%255+1,y=l-m;return y>=0?y:y+256}}$s.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],$s.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],$s.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],$s.TEXT_SHIFT2_SET_CHARS=$s.C40_SHIFT2_SET_CHARS,$s.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Td{constructor(){this.rsDecoder=new gt(He.DATA_MATRIX_FIELD_256)}decode(l){const f=new us(l),m=f.getVersion(),y=f.readCodewords(),x=Gh.getDataBlocks(y,m);let _=0;for(let L of x)_+=L.getNumDataCodewords();const j=new Uint8Array(_),T=x.length;for(let L=0;L<T;L++){const H=x[L],Z=H.getCodewords(),re=H.getNumDataCodewords();this.correctErrors(Z,re);for(let ce=0;ce<re;ce++)j[ce*T+L]=Z[ce]}return $s.decode(j)}correctErrors(l,f){const m=new Int32Array(l);try{this.rsDecoder.decode(m,l.length-f)}catch{throw new b}for(let y=0;y<f;y++)l[y]=m[y]}}class ln{constructor(l){this.image=l,this.rectangleDetector=new Ke(this.image)}detect(){const l=this.rectangleDetector.detect();let f=this.detectSolid1(l);if(f=this.detectSolid2(f),f[3]=this.correctTopRight(f),!f[3])throw new Y;f=this.shiftToModuleCenter(f);const m=f[0],y=f[1],x=f[2],_=f[3];let j=this.transitionsBetween(m,_)+1,T=this.transitionsBetween(x,_)+1;(j&1)===1&&(j+=1),(T&1)===1&&(T+=1),4*j<7*T&&4*T<7*j&&(j=T=Math.max(j,T));let L=ln.sampleGrid(this.image,m,y,x,_,j,T);return new Ie(L,[m,y,x,_])}static shiftPoint(l,f,m){let y=(f.getX()-l.getX())/(m+1),x=(f.getY()-l.getY())/(m+1);return new he(l.getX()+y,l.getY()+x)}static moveAway(l,f,m){let y=l.getX(),x=l.getY();return y<f?y-=1:y+=1,x<m?x-=1:x+=1,new he(y,x)}detectSolid1(l){let f=l[0],m=l[1],y=l[3],x=l[2],_=this.transitionsBetween(f,m),j=this.transitionsBetween(m,y),T=this.transitionsBetween(y,x),L=this.transitionsBetween(x,f),H=_,Z=[x,f,m,y];return H>j&&(H=j,Z[0]=f,Z[1]=m,Z[2]=y,Z[3]=x),H>T&&(H=T,Z[0]=m,Z[1]=y,Z[2]=x,Z[3]=f),H>L&&(Z[0]=y,Z[1]=x,Z[2]=f,Z[3]=m),Z}detectSolid2(l){let f=l[0],m=l[1],y=l[2],x=l[3],_=this.transitionsBetween(f,x),j=ln.shiftPoint(m,y,(_+1)*4),T=ln.shiftPoint(y,m,(_+1)*4),L=this.transitionsBetween(j,f),H=this.transitionsBetween(T,x);return L<H?(l[0]=f,l[1]=m,l[2]=y,l[3]=x):(l[0]=m,l[1]=y,l[2]=x,l[3]=f),l}correctTopRight(l){let f=l[0],m=l[1],y=l[2],x=l[3],_=this.transitionsBetween(f,x),j=this.transitionsBetween(m,x),T=ln.shiftPoint(f,m,(j+1)*4),L=ln.shiftPoint(y,m,(_+1)*4);_=this.transitionsBetween(T,x),j=this.transitionsBetween(L,x);let H=new he(x.getX()+(y.getX()-m.getX())/(_+1),x.getY()+(y.getY()-m.getY())/(_+1)),Z=new he(x.getX()+(f.getX()-m.getX())/(j+1),x.getY()+(f.getY()-m.getY())/(j+1));if(!this.isValid(H))return this.isValid(Z)?Z:null;if(!this.isValid(Z))return H;let re=this.transitionsBetween(T,H)+this.transitionsBetween(L,H),ce=this.transitionsBetween(T,Z)+this.transitionsBetween(L,Z);return re>ce?H:Z}shiftToModuleCenter(l){let f=l[0],m=l[1],y=l[2],x=l[3],_=this.transitionsBetween(f,x)+1,j=this.transitionsBetween(y,x)+1,T=ln.shiftPoint(f,m,j*4),L=ln.shiftPoint(y,m,_*4);_=this.transitionsBetween(T,x)+1,j=this.transitionsBetween(L,x)+1,(_&1)===1&&(_+=1),(j&1)===1&&(j+=1);let H=(f.getX()+m.getX()+y.getX()+x.getX())/4,Z=(f.getY()+m.getY()+y.getY()+x.getY())/4;f=ln.moveAway(f,H,Z),m=ln.moveAway(m,H,Z),y=ln.moveAway(y,H,Z),x=ln.moveAway(x,H,Z);let re,ce;return T=ln.shiftPoint(f,m,j*4),T=ln.shiftPoint(T,x,_*4),re=ln.shiftPoint(m,f,j*4),re=ln.shiftPoint(re,y,_*4),L=ln.shiftPoint(y,x,j*4),L=ln.shiftPoint(L,m,_*4),ce=ln.shiftPoint(x,y,j*4),ce=ln.shiftPoint(ce,f,_*4),[T,re,L,ce]}isValid(l){return l.getX()>=0&&l.getX()<this.image.getWidth()&&l.getY()>0&&l.getY()<this.image.getHeight()}static sampleGrid(l,f,m,y,x,_,j){return Ft.getInstance().sampleGrid(l,_,j,.5,.5,_-.5,.5,_-.5,j-.5,.5,j-.5,f.getX(),f.getY(),x.getX(),x.getY(),y.getX(),y.getY(),m.getX(),m.getY())}transitionsBetween(l,f){let m=Math.trunc(l.getX()),y=Math.trunc(l.getY()),x=Math.trunc(f.getX()),_=Math.trunc(f.getY()),j=Math.abs(_-y)>Math.abs(x-m);if(j){let ve=m;m=y,y=ve,ve=x,x=_,_=ve}let T=Math.abs(x-m),L=Math.abs(_-y),H=-T/2,Z=y<_?1:-1,re=m<x?1:-1,ce=0,pe=this.image.get(j?y:m,j?m:y);for(let ve=m,Ae=y;ve!==x;ve+=re){let Me=this.image.get(j?Ae:ve,j?ve:Ae);if(Me!==pe&&(ce++,pe=Me),H+=L,H>0){if(Ae===_)break;Ae+=Z,H-=T}}return ce}}class Vs{constructor(){this.decoder=new Td}decode(l,f=null){let m,y;if(f!=null&&f.has(D.PURE_BARCODE)){const L=Vs.extractPureBits(l.getBlackMatrix());m=this.decoder.decode(L),y=Vs.NO_POINTS}else{const L=new ln(l.getBlackMatrix()).detect();m=this.decoder.decode(L.getBits()),y=L.getPoints()}const x=m.getRawBytes(),_=new xe(m.getText(),x,8*x.length,y,Pe.DATA_MATRIX,C.currentTimeMillis()),j=m.getByteSegments();j!=null&&_.putMetadata(je.BYTE_SEGMENTS,j);const T=m.getECLevel();return T!=null&&_.putMetadata(je.ERROR_CORRECTION_LEVEL,T),_}reset(){}static extractPureBits(l){const f=l.getTopLeftOnBit(),m=l.getBottomRightOnBit();if(f==null||m==null)throw new Y;const y=this.moduleSize(f,l);let x=f[1];const _=m[1];let j=f[0];const L=(m[0]-j+1)/y,H=(_-x+1)/y;if(L<=0||H<=0)throw new Y;const Z=y/2;x+=Z,j+=Z;const re=new q(L,H);for(let ce=0;ce<H;ce++){const pe=x+ce*y;for(let ve=0;ve<L;ve++)l.get(j+ve*y,pe)&&re.set(ve,ce)}return re}static moduleSize(l,f){const m=f.getWidth();let y=l[0];const x=l[1];for(;y<m&&f.get(y,x);)y++;if(y===m)throw new Y;const _=y-l[0];if(_===0)throw new Y;return _}}Vs.NO_POINTS=[];class fw extends me{constructor(l=500){super(new Vs,l)}}var $l;(function(X){X[X.L=0]="L",X[X.M=1]="M",X[X.Q=2]="Q",X[X.H=3]="H"})($l||($l={}));class Yr{constructor(l,f,m){this.value=l,this.stringValue=f,this.bits=m,Yr.FOR_BITS.set(m,this),Yr.FOR_VALUE.set(l,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(l){switch(l){case"L":return Yr.L;case"M":return Yr.M;case"Q":return Yr.Q;case"H":return Yr.H;default:throw new g(l+"not available")}}toString(){return this.stringValue}equals(l){if(!(l instanceof Yr))return!1;const f=l;return this.value===f.value}static forBits(l){if(l<0||l>=Yr.FOR_BITS.size)throw new v;return Yr.FOR_BITS.get(l)}}Yr.FOR_BITS=new Map,Yr.FOR_VALUE=new Map,Yr.L=new Yr($l.L,"L",1),Yr.M=new Yr($l.M,"M",0),Yr.Q=new Yr($l.Q,"Q",3),Yr.H=new Yr($l.H,"H",2);class hi{constructor(l){this.errorCorrectionLevel=Yr.forBits(l>>3&3),this.dataMask=l&7}static numBitsDiffering(l,f){return I.bitCount(l^f)}static decodeFormatInformation(l,f){const m=hi.doDecodeFormatInformation(l,f);return m!==null?m:hi.doDecodeFormatInformation(l^hi.FORMAT_INFO_MASK_QR,f^hi.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(l,f){let m=Number.MAX_SAFE_INTEGER,y=0;for(const x of hi.FORMAT_INFO_DECODE_LOOKUP){const _=x[0];if(_===l||_===f)return new hi(x[1]);let j=hi.numBitsDiffering(l,_);j<m&&(y=x[1],m=j),l!==f&&(j=hi.numBitsDiffering(f,_),j<m&&(y=x[1],m=j))}return m<=3?new hi(y):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(l){if(!(l instanceof hi))return!1;const f=l;return this.errorCorrectionLevel===f.errorCorrectionLevel&&this.dataMask===f.dataMask}}hi.FORMAT_INFO_MASK_QR=21522,hi.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Ne{constructor(l,...f){this.ecCodewordsPerBlock=l,this.ecBlocks=f}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let l=0;const f=this.ecBlocks;for(const m of f)l+=m.getCount();return l}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class le{constructor(l,f){this.count=l,this.dataCodewords=f}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Lt{constructor(l,f,...m){this.versionNumber=l,this.alignmentPatternCenters=f,this.ecBlocks=m;let y=0;const x=m[0].getECCodewordsPerBlock(),_=m[0].getECBlocks();for(const j of _)y+=j.getCount()*(j.getDataCodewords()+x);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(l){return this.ecBlocks[l.getValue()]}static getProvisionalVersionForDimension(l){if(l%4!==1)throw new R;try{return this.getVersionForNumber((l-17)/4)}catch{throw new R}}static getVersionForNumber(l){if(l<1||l>40)throw new v;return Lt.VERSIONS[l-1]}static decodeVersionInformation(l){let f=Number.MAX_SAFE_INTEGER,m=0;for(let y=0;y<Lt.VERSION_DECODE_INFO.length;y++){const x=Lt.VERSION_DECODE_INFO[y];if(x===l)return Lt.getVersionForNumber(y+7);const _=hi.numBitsDiffering(l,x);_<f&&(m=y+7,f=_)}return f<=3?Lt.getVersionForNumber(m):null}buildFunctionPattern(){const l=this.getDimensionForVersion(),f=new q(l);f.setRegion(0,0,9,9),f.setRegion(l-8,0,8,9),f.setRegion(0,l-8,9,8);const m=this.alignmentPatternCenters.length;for(let y=0;y<m;y++){const x=this.alignmentPatternCenters[y]-2;for(let _=0;_<m;_++)y===0&&(_===0||_===m-1)||y===m-1&&_===0||f.setRegion(this.alignmentPatternCenters[_]-2,x,5,5)}return f.setRegion(6,9,1,l-17),f.setRegion(9,6,l-17,1),this.versionNumber>6&&(f.setRegion(l-11,0,3,6),f.setRegion(0,l-11,6,3)),f}toString(){return""+this.versionNumber}}Lt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Lt.VERSIONS=[new Lt(1,new Int32Array(0),new Ne(7,new le(1,19)),new Ne(10,new le(1,16)),new Ne(13,new le(1,13)),new Ne(17,new le(1,9))),new Lt(2,Int32Array.from([6,18]),new Ne(10,new le(1,34)),new Ne(16,new le(1,28)),new Ne(22,new le(1,22)),new Ne(28,new le(1,16))),new Lt(3,Int32Array.from([6,22]),new Ne(15,new le(1,55)),new Ne(26,new le(1,44)),new Ne(18,new le(2,17)),new Ne(22,new le(2,13))),new Lt(4,Int32Array.from([6,26]),new Ne(20,new le(1,80)),new Ne(18,new le(2,32)),new Ne(26,new le(2,24)),new Ne(16,new le(4,9))),new Lt(5,Int32Array.from([6,30]),new Ne(26,new le(1,108)),new Ne(24,new le(2,43)),new Ne(18,new le(2,15),new le(2,16)),new Ne(22,new le(2,11),new le(2,12))),new Lt(6,Int32Array.from([6,34]),new Ne(18,new le(2,68)),new Ne(16,new le(4,27)),new Ne(24,new le(4,19)),new Ne(28,new le(4,15))),new Lt(7,Int32Array.from([6,22,38]),new Ne(20,new le(2,78)),new Ne(18,new le(4,31)),new Ne(18,new le(2,14),new le(4,15)),new Ne(26,new le(4,13),new le(1,14))),new Lt(8,Int32Array.from([6,24,42]),new Ne(24,new le(2,97)),new Ne(22,new le(2,38),new le(2,39)),new Ne(22,new le(4,18),new le(2,19)),new Ne(26,new le(4,14),new le(2,15))),new Lt(9,Int32Array.from([6,26,46]),new Ne(30,new le(2,116)),new Ne(22,new le(3,36),new le(2,37)),new Ne(20,new le(4,16),new le(4,17)),new Ne(24,new le(4,12),new le(4,13))),new Lt(10,Int32Array.from([6,28,50]),new Ne(18,new le(2,68),new le(2,69)),new Ne(26,new le(4,43),new le(1,44)),new Ne(24,new le(6,19),new le(2,20)),new Ne(28,new le(6,15),new le(2,16))),new Lt(11,Int32Array.from([6,30,54]),new Ne(20,new le(4,81)),new Ne(30,new le(1,50),new le(4,51)),new Ne(28,new le(4,22),new le(4,23)),new Ne(24,new le(3,12),new le(8,13))),new Lt(12,Int32Array.from([6,32,58]),new Ne(24,new le(2,92),new le(2,93)),new Ne(22,new le(6,36),new le(2,37)),new Ne(26,new le(4,20),new le(6,21)),new Ne(28,new le(7,14),new le(4,15))),new Lt(13,Int32Array.from([6,34,62]),new Ne(26,new le(4,107)),new Ne(22,new le(8,37),new le(1,38)),new Ne(24,new le(8,20),new le(4,21)),new Ne(22,new le(12,11),new le(4,12))),new Lt(14,Int32Array.from([6,26,46,66]),new Ne(30,new le(3,115),new le(1,116)),new Ne(24,new le(4,40),new le(5,41)),new Ne(20,new le(11,16),new le(5,17)),new Ne(24,new le(11,12),new le(5,13))),new Lt(15,Int32Array.from([6,26,48,70]),new Ne(22,new le(5,87),new le(1,88)),new Ne(24,new le(5,41),new le(5,42)),new Ne(30,new le(5,24),new le(7,25)),new Ne(24,new le(11,12),new le(7,13))),new Lt(16,Int32Array.from([6,26,50,74]),new Ne(24,new le(5,98),new le(1,99)),new Ne(28,new le(7,45),new le(3,46)),new Ne(24,new le(15,19),new le(2,20)),new Ne(30,new le(3,15),new le(13,16))),new Lt(17,Int32Array.from([6,30,54,78]),new Ne(28,new le(1,107),new le(5,108)),new Ne(28,new le(10,46),new le(1,47)),new Ne(28,new le(1,22),new le(15,23)),new Ne(28,new le(2,14),new le(17,15))),new Lt(18,Int32Array.from([6,30,56,82]),new Ne(30,new le(5,120),new le(1,121)),new Ne(26,new le(9,43),new le(4,44)),new Ne(28,new le(17,22),new le(1,23)),new Ne(28,new le(2,14),new le(19,15))),new Lt(19,Int32Array.from([6,30,58,86]),new Ne(28,new le(3,113),new le(4,114)),new Ne(26,new le(3,44),new le(11,45)),new Ne(26,new le(17,21),new le(4,22)),new Ne(26,new le(9,13),new le(16,14))),new Lt(20,Int32Array.from([6,34,62,90]),new Ne(28,new le(3,107),new le(5,108)),new Ne(26,new le(3,41),new le(13,42)),new Ne(30,new le(15,24),new le(5,25)),new Ne(28,new le(15,15),new le(10,16))),new Lt(21,Int32Array.from([6,28,50,72,94]),new Ne(28,new le(4,116),new le(4,117)),new Ne(26,new le(17,42)),new Ne(28,new le(17,22),new le(6,23)),new Ne(30,new le(19,16),new le(6,17))),new Lt(22,Int32Array.from([6,26,50,74,98]),new Ne(28,new le(2,111),new le(7,112)),new Ne(28,new le(17,46)),new Ne(30,new le(7,24),new le(16,25)),new Ne(24,new le(34,13))),new Lt(23,Int32Array.from([6,30,54,78,102]),new Ne(30,new le(4,121),new le(5,122)),new Ne(28,new le(4,47),new le(14,48)),new Ne(30,new le(11,24),new le(14,25)),new Ne(30,new le(16,15),new le(14,16))),new Lt(24,Int32Array.from([6,28,54,80,106]),new Ne(30,new le(6,117),new le(4,118)),new Ne(28,new le(6,45),new le(14,46)),new Ne(30,new le(11,24),new le(16,25)),new Ne(30,new le(30,16),new le(2,17))),new Lt(25,Int32Array.from([6,32,58,84,110]),new Ne(26,new le(8,106),new le(4,107)),new Ne(28,new le(8,47),new le(13,48)),new Ne(30,new le(7,24),new le(22,25)),new Ne(30,new le(22,15),new le(13,16))),new Lt(26,Int32Array.from([6,30,58,86,114]),new Ne(28,new le(10,114),new le(2,115)),new Ne(28,new le(19,46),new le(4,47)),new Ne(28,new le(28,22),new le(6,23)),new Ne(30,new le(33,16),new le(4,17))),new Lt(27,Int32Array.from([6,34,62,90,118]),new Ne(30,new le(8,122),new le(4,123)),new Ne(28,new le(22,45),new le(3,46)),new Ne(30,new le(8,23),new le(26,24)),new Ne(30,new le(12,15),new le(28,16))),new Lt(28,Int32Array.from([6,26,50,74,98,122]),new Ne(30,new le(3,117),new le(10,118)),new Ne(28,new le(3,45),new le(23,46)),new Ne(30,new le(4,24),new le(31,25)),new Ne(30,new le(11,15),new le(31,16))),new Lt(29,Int32Array.from([6,30,54,78,102,126]),new Ne(30,new le(7,116),new le(7,117)),new Ne(28,new le(21,45),new le(7,46)),new Ne(30,new le(1,23),new le(37,24)),new Ne(30,new le(19,15),new le(26,16))),new Lt(30,Int32Array.from([6,26,52,78,104,130]),new Ne(30,new le(5,115),new le(10,116)),new Ne(28,new le(19,47),new le(10,48)),new Ne(30,new le(15,24),new le(25,25)),new Ne(30,new le(23,15),new le(25,16))),new Lt(31,Int32Array.from([6,30,56,82,108,134]),new Ne(30,new le(13,115),new le(3,116)),new Ne(28,new le(2,46),new le(29,47)),new Ne(30,new le(42,24),new le(1,25)),new Ne(30,new le(23,15),new le(28,16))),new Lt(32,Int32Array.from([6,34,60,86,112,138]),new Ne(30,new le(17,115)),new Ne(28,new le(10,46),new le(23,47)),new Ne(30,new le(10,24),new le(35,25)),new Ne(30,new le(19,15),new le(35,16))),new Lt(33,Int32Array.from([6,30,58,86,114,142]),new Ne(30,new le(17,115),new le(1,116)),new Ne(28,new le(14,46),new le(21,47)),new Ne(30,new le(29,24),new le(19,25)),new Ne(30,new le(11,15),new le(46,16))),new Lt(34,Int32Array.from([6,34,62,90,118,146]),new Ne(30,new le(13,115),new le(6,116)),new Ne(28,new le(14,46),new le(23,47)),new Ne(30,new le(44,24),new le(7,25)),new Ne(30,new le(59,16),new le(1,17))),new Lt(35,Int32Array.from([6,30,54,78,102,126,150]),new Ne(30,new le(12,121),new le(7,122)),new Ne(28,new le(12,47),new le(26,48)),new Ne(30,new le(39,24),new le(14,25)),new Ne(30,new le(22,15),new le(41,16))),new Lt(36,Int32Array.from([6,24,50,76,102,128,154]),new Ne(30,new le(6,121),new le(14,122)),new Ne(28,new le(6,47),new le(34,48)),new Ne(30,new le(46,24),new le(10,25)),new Ne(30,new le(2,15),new le(64,16))),new Lt(37,Int32Array.from([6,28,54,80,106,132,158]),new Ne(30,new le(17,122),new le(4,123)),new Ne(28,new le(29,46),new le(14,47)),new Ne(30,new le(49,24),new le(10,25)),new Ne(30,new le(24,15),new le(46,16))),new Lt(38,Int32Array.from([6,32,58,84,110,136,162]),new Ne(30,new le(4,122),new le(18,123)),new Ne(28,new le(13,46),new le(32,47)),new Ne(30,new le(48,24),new le(14,25)),new Ne(30,new le(42,15),new le(32,16))),new Lt(39,Int32Array.from([6,26,54,82,110,138,166]),new Ne(30,new le(20,117),new le(4,118)),new Ne(28,new le(40,47),new le(7,48)),new Ne(30,new le(43,24),new le(22,25)),new Ne(30,new le(10,15),new le(67,16))),new Lt(40,Int32Array.from([6,30,58,86,114,142,170]),new Ne(30,new le(19,118),new le(6,119)),new Ne(28,new le(18,47),new le(31,48)),new Ne(30,new le(34,24),new le(34,25)),new Ne(30,new le(20,15),new le(61,16)))];var $n;(function(X){X[X.DATA_MASK_000=0]="DATA_MASK_000",X[X.DATA_MASK_001=1]="DATA_MASK_001",X[X.DATA_MASK_010=2]="DATA_MASK_010",X[X.DATA_MASK_011=3]="DATA_MASK_011",X[X.DATA_MASK_100=4]="DATA_MASK_100",X[X.DATA_MASK_101=5]="DATA_MASK_101",X[X.DATA_MASK_110=6]="DATA_MASK_110",X[X.DATA_MASK_111=7]="DATA_MASK_111"})($n||($n={}));class wr{constructor(l,f){this.value=l,this.isMasked=f}unmaskBitMatrix(l,f){for(let m=0;m<f;m++)for(let y=0;y<f;y++)this.isMasked(m,y)&&l.flip(y,m)}}wr.values=new Map([[$n.DATA_MASK_000,new wr($n.DATA_MASK_000,(X,l)=>(X+l&1)===0)],[$n.DATA_MASK_001,new wr($n.DATA_MASK_001,(X,l)=>(X&1)===0)],[$n.DATA_MASK_010,new wr($n.DATA_MASK_010,(X,l)=>l%3===0)],[$n.DATA_MASK_011,new wr($n.DATA_MASK_011,(X,l)=>(X+l)%3===0)],[$n.DATA_MASK_100,new wr($n.DATA_MASK_100,(X,l)=>(Math.floor(X/2)+Math.floor(l/3)&1)===0)],[$n.DATA_MASK_101,new wr($n.DATA_MASK_101,(X,l)=>X*l%6===0)],[$n.DATA_MASK_110,new wr($n.DATA_MASK_110,(X,l)=>X*l%6<3)],[$n.DATA_MASK_111,new wr($n.DATA_MASK_111,(X,l)=>(X+l+X*l%3&1)===0)]]);class t0{constructor(l){const f=l.getHeight();if(f<21||(f&3)!==1)throw new R;this.bitMatrix=l}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let l=0;for(let x=0;x<6;x++)l=this.copyBit(x,8,l);l=this.copyBit(7,8,l),l=this.copyBit(8,8,l),l=this.copyBit(8,7,l);for(let x=5;x>=0;x--)l=this.copyBit(8,x,l);const f=this.bitMatrix.getHeight();let m=0;const y=f-7;for(let x=f-1;x>=y;x--)m=this.copyBit(8,x,m);for(let x=f-8;x<f;x++)m=this.copyBit(x,8,m);if(this.parsedFormatInfo=hi.decodeFormatInformation(l,m),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new R}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const l=this.bitMatrix.getHeight(),f=Math.floor((l-17)/4);if(f<=6)return Lt.getVersionForNumber(f);let m=0;const y=l-11;for(let _=5;_>=0;_--)for(let j=l-9;j>=y;j--)m=this.copyBit(j,_,m);let x=Lt.decodeVersionInformation(m);if(x!==null&&x.getDimensionForVersion()===l)return this.parsedVersion=x,x;m=0;for(let _=5;_>=0;_--)for(let j=l-9;j>=y;j--)m=this.copyBit(_,j,m);if(x=Lt.decodeVersionInformation(m),x!==null&&x.getDimensionForVersion()===l)return this.parsedVersion=x,x;throw new R}copyBit(l,f,m){return(this.isMirror?this.bitMatrix.get(f,l):this.bitMatrix.get(l,f))?m<<1|1:m<<1}readCodewords(){const l=this.readFormatInformation(),f=this.readVersion(),m=wr.values.get(l.getDataMask()),y=this.bitMatrix.getHeight();m.unmaskBitMatrix(this.bitMatrix,y);const x=f.buildFunctionPattern();let _=!0;const j=new Uint8Array(f.getTotalCodewords());let T=0,L=0,H=0;for(let Z=y-1;Z>0;Z-=2){Z===6&&Z--;for(let re=0;re<y;re++){const ce=_?y-1-re:re;for(let pe=0;pe<2;pe++)x.get(Z-pe,ce)||(H++,L<<=1,this.bitMatrix.get(Z-pe,ce)&&(L|=1),H===8&&(j[T++]=L,H=0,L=0))}_=!_}if(T!==f.getTotalCodewords())throw new R;return j}remask(){if(this.parsedFormatInfo===null)return;const l=wr.values[this.parsedFormatInfo.getDataMask()],f=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,f)}setMirror(l){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=l}mirror(){const l=this.bitMatrix;for(let f=0,m=l.getWidth();f<m;f++)for(let y=f+1,x=l.getHeight();y<x;y++)l.get(f,y)!==l.get(y,f)&&(l.flip(y,f),l.flip(f,y))}}class kd{constructor(l,f){this.numDataCodewords=l,this.codewords=f}static getDataBlocks(l,f,m){if(l.length!==f.getTotalCodewords())throw new v;const y=f.getECBlocksForLevel(m);let x=0;const _=y.getECBlocks();for(const pe of _)x+=pe.getCount();const j=new Array(x);let T=0;for(const pe of _)for(let ve=0;ve<pe.getCount();ve++){const Ae=pe.getDataCodewords(),Me=y.getECCodewordsPerBlock()+Ae;j[T++]=new kd(Ae,new Uint8Array(Me))}const L=j[0].codewords.length;let H=j.length-1;for(;H>=0&&j[H].codewords.length!==L;)H--;H++;const Z=L-y.getECCodewordsPerBlock();let re=0;for(let pe=0;pe<Z;pe++)for(let ve=0;ve<T;ve++)j[ve].codewords[pe]=l[re++];for(let pe=H;pe<T;pe++)j[pe].codewords[Z]=l[re++];const ce=j[0].codewords.length;for(let pe=Z;pe<ce;pe++)for(let ve=0;ve<T;ve++){const Ae=ve<H?pe:pe+1;j[ve].codewords[Ae]=l[re++]}return j}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Zi;(function(X){X[X.TERMINATOR=0]="TERMINATOR",X[X.NUMERIC=1]="NUMERIC",X[X.ALPHANUMERIC=2]="ALPHANUMERIC",X[X.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",X[X.BYTE=4]="BYTE",X[X.ECI=5]="ECI",X[X.KANJI=6]="KANJI",X[X.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",X[X.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",X[X.HANZI=9]="HANZI"})(Zi||(Zi={}));class Ut{constructor(l,f,m,y){this.value=l,this.stringValue=f,this.characterCountBitsForVersions=m,this.bits=y,Ut.FOR_BITS.set(y,this),Ut.FOR_VALUE.set(l,this)}static forBits(l){const f=Ut.FOR_BITS.get(l);if(f===void 0)throw new v;return f}getCharacterCountBits(l){const f=l.getVersionNumber();let m;return f<=9?m=0:f<=26?m=1:m=2,this.characterCountBitsForVersions[m]}getValue(){return this.value}getBits(){return this.bits}equals(l){if(!(l instanceof Ut))return!1;const f=l;return this.value===f.value}toString(){return this.stringValue}}Ut.FOR_BITS=new Map,Ut.FOR_VALUE=new Map,Ut.TERMINATOR=new Ut(Zi.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ut.NUMERIC=new Ut(Zi.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ut.ALPHANUMERIC=new Ut(Zi.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ut.STRUCTURED_APPEND=new Ut(Zi.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ut.BYTE=new Ut(Zi.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ut.ECI=new Ut(Zi.ECI,"ECI",Int32Array.from([0,0,0]),7),Ut.KANJI=new Ut(Zi.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ut.FNC1_FIRST_POSITION=new Ut(Zi.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ut.FNC1_SECOND_POSITION=new Ut(Zi.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ut.HANZI=new Ut(Zi.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class dn{static decode(l,f,m,y){const x=new Kh(l);let _=new K;const j=new Array;let T=-1,L=-1;try{let H=null,Z=!1,re;do{if(x.available()<4)re=Ut.TERMINATOR;else{const ce=x.readBits(4);re=Ut.forBits(ce)}switch(re){case Ut.TERMINATOR:break;case Ut.FNC1_FIRST_POSITION:case Ut.FNC1_SECOND_POSITION:Z=!0;break;case Ut.STRUCTURED_APPEND:if(x.available()<16)throw new R;T=x.readBits(8),L=x.readBits(8);break;case Ut.ECI:const ce=dn.parseECIValue(x);if(H=z.getCharacterSetECIByValue(ce),H===null)throw new R;break;case Ut.HANZI:const pe=x.readBits(4),ve=x.readBits(re.getCharacterCountBits(f));pe===dn.GB2312_SUBSET&&dn.decodeHanziSegment(x,_,ve);break;default:const Ae=x.readBits(re.getCharacterCountBits(f));switch(re){case Ut.NUMERIC:dn.decodeNumericSegment(x,_,Ae);break;case Ut.ALPHANUMERIC:dn.decodeAlphanumericSegment(x,_,Ae,Z);break;case Ut.BYTE:dn.decodeByteSegment(x,_,Ae,H,j,y);break;case Ut.KANJI:dn.decodeKanjiSegment(x,_,Ae);break;default:throw new R}break}}while(re!==Ut.TERMINATOR)}catch{throw new R}return new Ee(l,_.toString(),j.length===0?null:j,m===null?null:m.toString(),T,L)}static decodeHanziSegment(l,f,m){if(m*13>l.available())throw new R;const y=new Uint8Array(2*m);let x=0;for(;m>0;){const _=l.readBits(13);let j=_/96<<8&4294967295|_%96;j<959?j+=41377:j+=42657,y[x]=j>>8&255,y[x+1]=j&255,x+=2,m--}try{f.append(W.decode(y,V.GB2312))}catch(_){throw new R(_)}}static decodeKanjiSegment(l,f,m){if(m*13>l.available())throw new R;const y=new Uint8Array(2*m);let x=0;for(;m>0;){const _=l.readBits(13);let j=_/192<<8&4294967295|_%192;j<7936?j+=33088:j+=49472,y[x]=j>>8,y[x+1]=j,x+=2,m--}try{f.append(W.decode(y,V.SHIFT_JIS))}catch(_){throw new R(_)}}static decodeByteSegment(l,f,m,y,x,_){if(8*m>l.available())throw new R;const j=new Uint8Array(m);for(let L=0;L<m;L++)j[L]=l.readBits(8);let T;y===null?T=V.guessEncoding(j,_):T=y.getName();try{f.append(W.decode(j,T))}catch(L){throw new R(L)}x.push(j)}static toAlphaNumericChar(l){if(l>=dn.ALPHANUMERIC_CHARS.length)throw new R;return dn.ALPHANUMERIC_CHARS[l]}static decodeAlphanumericSegment(l,f,m,y){const x=f.length();for(;m>1;){if(l.available()<11)throw new R;const _=l.readBits(11);f.append(dn.toAlphaNumericChar(Math.floor(_/45))),f.append(dn.toAlphaNumericChar(_%45)),m-=2}if(m===1){if(l.available()<6)throw new R;f.append(dn.toAlphaNumericChar(l.readBits(6)))}if(y)for(let _=x;_<f.length();_++)f.charAt(_)==="%"&&(_<f.length()-1&&f.charAt(_+1)==="%"?f.deleteCharAt(_+1):f.setCharAt(_,""))}static decodeNumericSegment(l,f,m){for(;m>=3;){if(l.available()<10)throw new R;const y=l.readBits(10);if(y>=1e3)throw new R;f.append(dn.toAlphaNumericChar(Math.floor(y/100))),f.append(dn.toAlphaNumericChar(Math.floor(y/10)%10)),f.append(dn.toAlphaNumericChar(y%10)),m-=3}if(m===2){if(l.available()<7)throw new R;const y=l.readBits(7);if(y>=100)throw new R;f.append(dn.toAlphaNumericChar(Math.floor(y/10))),f.append(dn.toAlphaNumericChar(y%10))}else if(m===1){if(l.available()<4)throw new R;const y=l.readBits(4);if(y>=10)throw new R;f.append(dn.toAlphaNumericChar(y))}}static parseECIValue(l){const f=l.readBits(8);if((f&128)===0)return f&127;if((f&192)===128){const m=l.readBits(8);return(f&63)<<8&4294967295|m}if((f&224)===192){const m=l.readBits(16);return(f&31)<<16&4294967295|m}throw new R}}dn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",dn.GB2312_SUBSET=1;class Yh{constructor(l){this.mirrored=l}isMirrored(){return this.mirrored}applyMirroredCorrection(l){if(!this.mirrored||l===null||l.length<3)return;const f=l[0];l[0]=l[2],l[2]=f}}class Xh{constructor(){this.rsDecoder=new gt(He.QR_CODE_FIELD_256)}decodeBooleanArray(l,f){return this.decodeBitMatrix(q.parseFromBooleanArray(l),f)}decodeBitMatrix(l,f){const m=new t0(l);let y=null;try{return this.decodeBitMatrixParser(m,f)}catch(x){y=x}try{m.remask(),m.setMirror(!0),m.readVersion(),m.readFormatInformation(),m.mirror();const x=this.decodeBitMatrixParser(m,f);return x.setOther(new Yh(!0)),x}catch(x){throw y!==null?y:x}}decodeBitMatrixParser(l,f){const m=l.readVersion(),y=l.readFormatInformation().getErrorCorrectionLevel(),x=l.readCodewords(),_=kd.getDataBlocks(x,m,y);let j=0;for(const H of _)j+=H.getNumDataCodewords();const T=new Uint8Array(j);let L=0;for(const H of _){const Z=H.getCodewords(),re=H.getNumDataCodewords();this.correctErrors(Z,re);for(let ce=0;ce<re;ce++)T[L++]=Z[ce]}return dn.decode(T,m,y,f)}correctErrors(l,f){const m=new Int32Array(l);try{this.rsDecoder.decode(m,l.length-f)}catch{throw new b}for(let y=0;y<f;y++)l[y]=m[y]}}class Vl extends he{constructor(l,f,m){super(l,f),this.estimatedModuleSize=m}aboutEquals(l,f,m){if(Math.abs(f-this.getY())<=l&&Math.abs(m-this.getX())<=l){const y=Math.abs(l-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(l,f,m){const y=(this.getX()+f)/2,x=(this.getY()+l)/2,_=(this.estimatedModuleSize+m)/2;return new Vl(y,x,_)}}class qs{constructor(l,f,m,y,x,_,j){this.image=l,this.startX=f,this.startY=m,this.width=y,this.height=x,this.moduleSize=_,this.resultPointCallback=j,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const l=this.startX,f=this.height,m=this.width,y=l+m,x=this.startY+f/2,_=new Int32Array(3),j=this.image;for(let T=0;T<f;T++){const L=x+((T&1)===0?Math.floor((T+1)/2):-Math.floor((T+1)/2));_[0]=0,_[1]=0,_[2]=0;let H=l;for(;H<y&&!j.get(H,L);)H++;let Z=0;for(;H<y;){if(j.get(H,L))if(Z===1)_[1]++;else if(Z===2){if(this.foundPatternCross(_)){const re=this.handlePossibleCenter(_,L,H);if(re!==null)return re}_[0]=_[2],_[1]=1,_[2]=0,Z=1}else _[++Z]++;else Z===1&&Z++,_[Z]++;H++}if(this.foundPatternCross(_)){const re=this.handlePossibleCenter(_,L,y);if(re!==null)return re}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Y}static centerFromEnd(l,f){return f-l[2]-l[1]/2}foundPatternCross(l){const f=this.moduleSize,m=f/2;for(let y=0;y<3;y++)if(Math.abs(f-l[y])>=m)return!1;return!0}crossCheckVertical(l,f,m,y){const x=this.image,_=x.getHeight(),j=this.crossCheckStateCount;j[0]=0,j[1]=0,j[2]=0;let T=l;for(;T>=0&&x.get(f,T)&&j[1]<=m;)j[1]++,T--;if(T<0||j[1]>m)return NaN;for(;T>=0&&!x.get(f,T)&&j[0]<=m;)j[0]++,T--;if(j[0]>m)return NaN;for(T=l+1;T<_&&x.get(f,T)&&j[1]<=m;)j[1]++,T++;if(T===_||j[1]>m)return NaN;for(;T<_&&!x.get(f,T)&&j[2]<=m;)j[2]++,T++;if(j[2]>m)return NaN;const L=j[0]+j[1]+j[2];return 5*Math.abs(L-y)>=2*y?NaN:this.foundPatternCross(j)?qs.centerFromEnd(j,T):NaN}handlePossibleCenter(l,f,m){const y=l[0]+l[1]+l[2],x=qs.centerFromEnd(l,m),_=this.crossCheckVertical(f,x,2*l[1],y);if(!isNaN(_)){const j=(l[0]+l[1]+l[2])/3;for(const L of this.possibleCenters)if(L.aboutEquals(j,_,x))return L.combineEstimate(_,x,j);const T=new Vl(x,_,j);this.possibleCenters.push(T),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(T)}return null}}class ma extends he{constructor(l,f,m,y){super(l,f),this.estimatedModuleSize=m,this.count=y,y===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(l,f,m){if(Math.abs(f-this.getY())<=l&&Math.abs(m-this.getX())<=l){const y=Math.abs(l-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(l,f,m){const y=this.count+1,x=(this.count*this.getX()+f)/y,_=(this.count*this.getY()+l)/y,j=(this.count*this.estimatedModuleSize+m)/y;return new ma(x,_,j,y)}}class vo{constructor(l){this.bottomLeft=l[0],this.topLeft=l[1],this.topRight=l[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class An{constructor(l,f){this.image=l,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=f}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(l){const f=l!=null&&l.get(D.TRY_HARDER)!==void 0,m=l!=null&&l.get(D.PURE_BARCODE)!==void 0,y=this.image,x=y.getHeight(),_=y.getWidth();let j=Math.floor(3*x/(4*An.MAX_MODULES));(j<An.MIN_SKIP||f)&&(j=An.MIN_SKIP);let T=!1;const L=new Int32Array(5);for(let Z=j-1;Z<x&&!T;Z+=j){L[0]=0,L[1]=0,L[2]=0,L[3]=0,L[4]=0;let re=0;for(let ce=0;ce<_;ce++)if(y.get(ce,Z))(re&1)===1&&re++,L[re]++;else if((re&1)===0)if(re===4)if(An.foundPatternCross(L)){if(this.handlePossibleCenter(L,Z,ce,m)===!0)if(j=2,this.hasSkipped===!0)T=this.haveMultiplyConfirmedCenters();else{const ve=this.findRowSkip();ve>L[2]&&(Z+=ve-L[2]-j,ce=_-1)}else{L[0]=L[2],L[1]=L[3],L[2]=L[4],L[3]=1,L[4]=0,re=3;continue}re=0,L[0]=0,L[1]=0,L[2]=0,L[3]=0,L[4]=0}else L[0]=L[2],L[1]=L[3],L[2]=L[4],L[3]=1,L[4]=0,re=3;else L[++re]++;else L[re]++;An.foundPatternCross(L)&&this.handlePossibleCenter(L,Z,_,m)===!0&&(j=L[0],this.hasSkipped&&(T=this.haveMultiplyConfirmedCenters()))}const H=this.selectBestPatterns();return he.orderBestPatterns(H),new vo(H)}static centerFromEnd(l,f){return f-l[4]-l[3]-l[2]/2}static foundPatternCross(l){let f=0;for(let x=0;x<5;x++){const _=l[x];if(_===0)return!1;f+=_}if(f<7)return!1;const m=f/7,y=m/2;return Math.abs(m-l[0])<y&&Math.abs(m-l[1])<y&&Math.abs(3*m-l[2])<3*y&&Math.abs(m-l[3])<y&&Math.abs(m-l[4])<y}getCrossCheckStateCount(){const l=this.crossCheckStateCount;return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l}crossCheckDiagonal(l,f,m,y){const x=this.getCrossCheckStateCount();let _=0;const j=this.image;for(;l>=_&&f>=_&&j.get(f-_,l-_);)x[2]++,_++;if(l<_||f<_)return!1;for(;l>=_&&f>=_&&!j.get(f-_,l-_)&&x[1]<=m;)x[1]++,_++;if(l<_||f<_||x[1]>m)return!1;for(;l>=_&&f>=_&&j.get(f-_,l-_)&&x[0]<=m;)x[0]++,_++;if(x[0]>m)return!1;const T=j.getHeight(),L=j.getWidth();for(_=1;l+_<T&&f+_<L&&j.get(f+_,l+_);)x[2]++,_++;if(l+_>=T||f+_>=L)return!1;for(;l+_<T&&f+_<L&&!j.get(f+_,l+_)&&x[3]<m;)x[3]++,_++;if(l+_>=T||f+_>=L||x[3]>=m)return!1;for(;l+_<T&&f+_<L&&j.get(f+_,l+_)&&x[4]<m;)x[4]++,_++;if(x[4]>=m)return!1;const H=x[0]+x[1]+x[2]+x[3]+x[4];return Math.abs(H-y)<2*y&&An.foundPatternCross(x)}crossCheckVertical(l,f,m,y){const x=this.image,_=x.getHeight(),j=this.getCrossCheckStateCount();let T=l;for(;T>=0&&x.get(f,T);)j[2]++,T--;if(T<0)return NaN;for(;T>=0&&!x.get(f,T)&&j[1]<=m;)j[1]++,T--;if(T<0||j[1]>m)return NaN;for(;T>=0&&x.get(f,T)&&j[0]<=m;)j[0]++,T--;if(j[0]>m)return NaN;for(T=l+1;T<_&&x.get(f,T);)j[2]++,T++;if(T===_)return NaN;for(;T<_&&!x.get(f,T)&&j[3]<m;)j[3]++,T++;if(T===_||j[3]>=m)return NaN;for(;T<_&&x.get(f,T)&&j[4]<m;)j[4]++,T++;if(j[4]>=m)return NaN;const L=j[0]+j[1]+j[2]+j[3]+j[4];return 5*Math.abs(L-y)>=2*y?NaN:An.foundPatternCross(j)?An.centerFromEnd(j,T):NaN}crossCheckHorizontal(l,f,m,y){const x=this.image,_=x.getWidth(),j=this.getCrossCheckStateCount();let T=l;for(;T>=0&&x.get(T,f);)j[2]++,T--;if(T<0)return NaN;for(;T>=0&&!x.get(T,f)&&j[1]<=m;)j[1]++,T--;if(T<0||j[1]>m)return NaN;for(;T>=0&&x.get(T,f)&&j[0]<=m;)j[0]++,T--;if(j[0]>m)return NaN;for(T=l+1;T<_&&x.get(T,f);)j[2]++,T++;if(T===_)return NaN;for(;T<_&&!x.get(T,f)&&j[3]<m;)j[3]++,T++;if(T===_||j[3]>=m)return NaN;for(;T<_&&x.get(T,f)&&j[4]<m;)j[4]++,T++;if(j[4]>=m)return NaN;const L=j[0]+j[1]+j[2]+j[3]+j[4];return 5*Math.abs(L-y)>=y?NaN:An.foundPatternCross(j)?An.centerFromEnd(j,T):NaN}handlePossibleCenter(l,f,m,y){const x=l[0]+l[1]+l[2]+l[3]+l[4];let _=An.centerFromEnd(l,m),j=this.crossCheckVertical(f,Math.floor(_),l[2],x);if(!isNaN(j)&&(_=this.crossCheckHorizontal(Math.floor(_),Math.floor(j),l[2],x),!isNaN(_)&&(!y||this.crossCheckDiagonal(Math.floor(j),Math.floor(_),l[2],x)))){const T=x/7;let L=!1;const H=this.possibleCenters;for(let Z=0,re=H.length;Z<re;Z++){const ce=H[Z];if(ce.aboutEquals(T,j,_)){H[Z]=ce.combineEstimate(j,_,T),L=!0;break}}if(!L){const Z=new ma(_,j,T);H.push(Z),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(Z)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let f=null;for(const m of this.possibleCenters)if(m.getCount()>=An.CENTER_QUORUM)if(f==null)f=m;else return this.hasSkipped=!0,Math.floor((Math.abs(f.getX()-m.getX())-Math.abs(f.getY()-m.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let l=0,f=0;const m=this.possibleCenters.length;for(const _ of this.possibleCenters)_.getCount()>=An.CENTER_QUORUM&&(l++,f+=_.getEstimatedModuleSize());if(l<3)return!1;const y=f/m;let x=0;for(const _ of this.possibleCenters)x+=Math.abs(_.getEstimatedModuleSize()-y);return x<=.05*f}selectBestPatterns(){const l=this.possibleCenters.length;if(l<3)throw new Y;const f=this.possibleCenters;let m;if(l>3){let y=0,x=0;for(const T of this.possibleCenters){const L=T.getEstimatedModuleSize();y+=L,x+=L*L}m=y/l;let _=Math.sqrt(x/l-m*m);f.sort((T,L)=>{const H=Math.abs(L.getEstimatedModuleSize()-m),Z=Math.abs(T.getEstimatedModuleSize()-m);return H<Z?-1:H>Z?1:0});const j=Math.max(.2*m,_);for(let T=0;T<f.length&&f.length>3;T++){const L=f[T];Math.abs(L.getEstimatedModuleSize()-m)>j&&(f.splice(T,1),T--)}}if(f.length>3){let y=0;for(const x of f)y+=x.getEstimatedModuleSize();m=y/f.length,f.sort((x,_)=>{if(_.getCount()===x.getCount()){const j=Math.abs(_.getEstimatedModuleSize()-m),T=Math.abs(x.getEstimatedModuleSize()-m);return j<T?1:j>T?-1:0}else return _.getCount()-x.getCount()}),f.splice(3)}return[f[0],f[1],f[2]]}}An.CENTER_QUORUM=2,An.MIN_SKIP=3,An.MAX_MODULES=57;class Ba{constructor(l){this.image=l}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(l){this.resultPointCallback=l==null?null:l.get(D.NEED_RESULT_POINT_CALLBACK);const m=new An(this.image,this.resultPointCallback).find(l);return this.processFinderPatternInfo(m)}processFinderPatternInfo(l){const f=l.getTopLeft(),m=l.getTopRight(),y=l.getBottomLeft(),x=this.calculateModuleSize(f,m,y);if(x<1)throw new Y("No pattern found in proccess finder.");const _=Ba.computeDimension(f,m,y,x),j=Lt.getProvisionalVersionForDimension(_),T=j.getDimensionForVersion()-7;let L=null;if(j.getAlignmentPatternCenters().length>0){const ce=m.getX()-f.getX()+y.getX(),pe=m.getY()-f.getY()+y.getY(),ve=1-3/T,Ae=Math.floor(f.getX()+ve*(ce-f.getX())),Me=Math.floor(f.getY()+ve*(pe-f.getY()));for(let nt=4;nt<=16;nt<<=1)try{L=this.findAlignmentInRegion(x,Ae,Me,nt);break}catch(it){if(!(it instanceof Y))throw it}}const H=Ba.createTransform(f,m,y,L,_),Z=Ba.sampleGrid(this.image,H,_);let re;return L===null?re=[y,f,m]:re=[y,f,m,L],new Ie(Z,re)}static createTransform(l,f,m,y,x){const _=x-3.5;let j,T,L,H;return y!==null?(j=y.getX(),T=y.getY(),L=_-3,H=L):(j=f.getX()-l.getX()+m.getX(),T=f.getY()-l.getY()+m.getY(),L=_,H=_),Xe.quadrilateralToQuadrilateral(3.5,3.5,_,3.5,L,H,3.5,_,l.getX(),l.getY(),f.getX(),f.getY(),j,T,m.getX(),m.getY())}static sampleGrid(l,f,m){return Ft.getInstance().sampleGridWithTransform(l,m,m,f)}static computeDimension(l,f,m,y){const x=dt.round(he.distance(l,f)/y),_=dt.round(he.distance(l,m)/y);let j=Math.floor((x+_)/2)+7;switch(j&3){case 0:j++;break;case 2:j--;break;case 3:throw new Y("Dimensions could be not found.")}return j}calculateModuleSize(l,f,m){return(this.calculateModuleSizeOneWay(l,f)+this.calculateModuleSizeOneWay(l,m))/2}calculateModuleSizeOneWay(l,f){const m=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(f.getX()),Math.floor(f.getY())),y=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(f.getX()),Math.floor(f.getY()),Math.floor(l.getX()),Math.floor(l.getY()));return isNaN(m)?y/7:isNaN(y)?m/7:(m+y)/14}sizeOfBlackWhiteBlackRunBothWays(l,f,m,y){let x=this.sizeOfBlackWhiteBlackRun(l,f,m,y),_=1,j=l-(m-l);j<0?(_=l/(l-j),j=0):j>=this.image.getWidth()&&(_=(this.image.getWidth()-1-l)/(j-l),j=this.image.getWidth()-1);let T=Math.floor(f-(y-f)*_);return _=1,T<0?(_=f/(f-T),T=0):T>=this.image.getHeight()&&(_=(this.image.getHeight()-1-f)/(T-f),T=this.image.getHeight()-1),j=Math.floor(l+(j-l)*_),x+=this.sizeOfBlackWhiteBlackRun(l,f,j,T),x-1}sizeOfBlackWhiteBlackRun(l,f,m,y){const x=Math.abs(y-f)>Math.abs(m-l);if(x){let ce=l;l=f,f=ce,ce=m,m=y,y=ce}const _=Math.abs(m-l),j=Math.abs(y-f);let T=-_/2;const L=l<m?1:-1,H=f<y?1:-1;let Z=0;const re=m+L;for(let ce=l,pe=f;ce!==re;ce+=L){const ve=x?pe:ce,Ae=x?ce:pe;if(Z===1===this.image.get(ve,Ae)){if(Z===2)return dt.distance(ce,pe,l,f);Z++}if(T+=j,T>0){if(pe===y)break;pe+=H,T-=_}}return Z===2?dt.distance(m+L,y,l,f):NaN}findAlignmentInRegion(l,f,m,y){const x=Math.floor(y*l),_=Math.max(0,f-x),j=Math.min(this.image.getWidth()-1,f+x);if(j-_<l*3)throw new Y("Alignment top exceeds estimated module size.");const T=Math.max(0,m-x),L=Math.min(this.image.getHeight()-1,m+x);if(L-T<l*3)throw new Y("Alignment bottom exceeds estimated module size.");return new qs(this.image,_,T,j-_,L-T,l,this.resultPointCallback).find()}}class Mi{constructor(){this.decoder=new Xh}getDecoder(){return this.decoder}decode(l,f){let m,y;if(f!=null&&f.get(D.PURE_BARCODE)!==void 0){const T=Mi.extractPureBits(l.getBlackMatrix());m=this.decoder.decodeBitMatrix(T,f),y=Mi.NO_POINTS}else{const T=new Ba(l.getBlackMatrix()).detect(f);m=this.decoder.decodeBitMatrix(T.getBits(),f),y=T.getPoints()}m.getOther()instanceof Yh&&m.getOther().applyMirroredCorrection(y);const x=new xe(m.getText(),m.getRawBytes(),void 0,y,Pe.QR_CODE,void 0),_=m.getByteSegments();_!==null&&x.putMetadata(je.BYTE_SEGMENTS,_);const j=m.getECLevel();return j!==null&&x.putMetadata(je.ERROR_CORRECTION_LEVEL,j),m.hasStructuredAppend()&&(x.putMetadata(je.STRUCTURED_APPEND_SEQUENCE,m.getStructuredAppendSequenceNumber()),x.putMetadata(je.STRUCTURED_APPEND_PARITY,m.getStructuredAppendParity())),x}reset(){}static extractPureBits(l){const f=l.getTopLeftOnBit(),m=l.getBottomRightOnBit();if(f===null||m===null)throw new Y;const y=this.moduleSize(f,l);let x=f[1],_=m[1],j=f[0],T=m[0];if(j>=T||x>=_)throw new Y;if(_-x!==T-j&&(T=j+(_-x),T>=l.getWidth()))throw new Y;const L=Math.round((T-j+1)/y),H=Math.round((_-x+1)/y);if(L<=0||H<=0)throw new Y;if(H!==L)throw new Y;const Z=Math.floor(y/2);x+=Z,j+=Z;const re=j+Math.floor((L-1)*y)-T;if(re>0){if(re>Z)throw new Y;j-=re}const ce=x+Math.floor((H-1)*y)-_;if(ce>0){if(ce>Z)throw new Y;x-=ce}const pe=new q(L,H);for(let ve=0;ve<H;ve++){const Ae=x+Math.floor(ve*y);for(let Me=0;Me<L;Me++)l.get(j+Math.floor(Me*y),Ae)&&pe.set(Me,ve)}return pe}static moduleSize(l,f){const m=f.getHeight(),y=f.getWidth();let x=l[0],_=l[1],j=!0,T=0;for(;x<y&&_<m;){if(j!==f.get(x,_)){if(++T===5)break;j=!j}x++,_++}if(x===y||_===m)throw new Y;return(x-l[0])/7}}Mi.NO_POINTS=new Array;class Ht{PDF417Common(){}static getBitCountSum(l){return dt.sum(l)}static toIntArray(l){if(l==null||!l.length)return Ht.EMPTY_INT_ARRAY;const f=new Int32Array(l.length);let m=0;for(const y of l)f[m++]=y;return f}static getCodeword(l){const f=k.binarySearch(Ht.SYMBOL_TABLE,l&262143);return f<0?-1:(Ht.CODEWORD_TABLE[f]-1)%Ht.NUMBER_OF_CODEWORDS}}Ht.NUMBER_OF_CODEWORDS=929,Ht.MAX_CODEWORDS_IN_BARCODE=Ht.NUMBER_OF_CODEWORDS-1,Ht.MIN_ROWS_IN_BARCODE=3,Ht.MAX_ROWS_IN_BARCODE=90,Ht.MODULES_IN_CODEWORD=17,Ht.MODULES_IN_STOP_PATTERN=18,Ht.BARS_IN_MODULE=8,Ht.EMPTY_INT_ARRAY=new Int32Array([]),Ht.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ht.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class r0{constructor(l,f){this.bits=l,this.points=f}getBits(){return this.bits}getPoints(){return this.points}}class or{static detectMultiple(l,f,m){let y=l.getBlackMatrix(),x=or.detect(m,y);return x.length||(y=y.clone(),y.rotate180(),x=or.detect(m,y)),new r0(y,x)}static detect(l,f){const m=new Array;let y=0,x=0,_=!1;for(;y<f.getHeight();){const j=or.findVertices(f,y,x);if(j[0]==null&&j[3]==null){if(!_)break;_=!1,x=0;for(const T of m)T[1]!=null&&(y=Math.trunc(Math.max(y,T[1].getY()))),T[3]!=null&&(y=Math.max(y,Math.trunc(T[3].getY())));y+=or.ROW_STEP;continue}if(_=!0,m.push(j),!l)break;j[2]!=null?(x=Math.trunc(j[2].getX()),y=Math.trunc(j[2].getY())):(x=Math.trunc(j[4].getX()),y=Math.trunc(j[4].getY()))}return m}static findVertices(l,f,m){const y=l.getHeight(),x=l.getWidth(),_=new Array(8);return or.copyToResult(_,or.findRowsWithPattern(l,y,x,f,m,or.START_PATTERN),or.INDEXES_START_PATTERN),_[4]!=null&&(m=Math.trunc(_[4].getX()),f=Math.trunc(_[4].getY())),or.copyToResult(_,or.findRowsWithPattern(l,y,x,f,m,or.STOP_PATTERN),or.INDEXES_STOP_PATTERN),_}static copyToResult(l,f,m){for(let y=0;y<m.length;y++)l[m[y]]=f[y]}static findRowsWithPattern(l,f,m,y,x,_){const j=new Array(4);let T=!1;const L=new Int32Array(_.length);for(;y<f;y+=or.ROW_STEP){let Z=or.findGuardPattern(l,x,y,m,!1,_,L);if(Z!=null){for(;y>0;){const re=or.findGuardPattern(l,x,--y,m,!1,_,L);if(re!=null)Z=re;else{y++;break}}j[0]=new he(Z[0],y),j[1]=new he(Z[1],y),T=!0;break}}let H=y+1;if(T){let Z=0,re=Int32Array.from([Math.trunc(j[0].getX()),Math.trunc(j[1].getX())]);for(;H<f;H++){const ce=or.findGuardPattern(l,re[0],H,m,!1,_,L);if(ce!=null&&Math.abs(re[0]-ce[0])<or.MAX_PATTERN_DRIFT&&Math.abs(re[1]-ce[1])<or.MAX_PATTERN_DRIFT)re=ce,Z=0;else{if(Z>or.SKIPPED_ROW_COUNT_MAX)break;Z++}}H-=Z+1,j[2]=new he(re[0],H),j[3]=new he(re[1],H)}return H-y<or.BARCODE_MIN_HEIGHT&&k.fill(j,null),j}static findGuardPattern(l,f,m,y,x,_,j){k.fillWithin(j,0,j.length,0);let T=f,L=0;for(;l.get(T,m)&&T>0&&L++<or.MAX_PIXEL_DRIFT;)T--;let H=T,Z=0,re=_.length;for(let ce=x;H<y;H++)if(l.get(H,m)!==ce)j[Z]++;else{if(Z===re-1){if(or.patternMatchVariance(j,_,or.MAX_INDIVIDUAL_VARIANCE)<or.MAX_AVG_VARIANCE)return new Int32Array([T,H]);T+=j[0]+j[1],C.arraycopy(j,2,j,0,Z-1),j[Z-1]=0,j[Z]=0,Z--}else Z++;j[Z]=1,ce=!ce}return Z===re-1&&or.patternMatchVariance(j,_,or.MAX_INDIVIDUAL_VARIANCE)<or.MAX_AVG_VARIANCE?new Int32Array([T,H-1]):null}static patternMatchVariance(l,f,m){let y=l.length,x=0,_=0;for(let L=0;L<y;L++)x+=l[L],_+=f[L];if(x<_)return 1/0;let j=x/_;m*=j;let T=0;for(let L=0;L<y;L++){let H=l[L],Z=f[L]*j,re=H>Z?H-Z:Z-H;if(re>m)return 1/0;T+=re}return T/x}}or.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),or.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),or.MAX_AVG_VARIANCE=.42,or.MAX_INDIVIDUAL_VARIANCE=.8,or.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),or.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),or.MAX_PIXEL_DRIFT=3,or.MAX_PATTERN_DRIFT=5,or.SKIPPED_ROW_COUNT_MAX=25,or.ROW_STEP=5,or.BARCODE_MIN_HEIGHT=10;class mi{constructor(l,f){if(f.length===0)throw new v;this.field=l;let m=f.length;if(m>1&&f[0]===0){let y=1;for(;y<m&&f[y]===0;)y++;y===m?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(m-y),C.arraycopy(f,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=f}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);if(l===1){let y=0;for(let x of this.coefficients)y=this.field.add(y,x);return y}let f=this.coefficients[0],m=this.coefficients.length;for(let y=1;y<m;y++)f=this.field.add(this.field.multiply(l,f),this.coefficients[y]);return f}add(l){if(!this.field.equals(l.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return l;if(l.isZero())return this;let f=this.coefficients,m=l.coefficients;if(f.length>m.length){let _=f;f=m,m=_}let y=new Int32Array(m.length),x=m.length-f.length;C.arraycopy(m,0,y,0,x);for(let _=x;_<m.length;_++)y[_]=this.field.add(f[_-x],m[_]);return new mi(this.field,y)}subtract(l){if(!this.field.equals(l.field))throw new v("ModulusPolys do not have same ModulusGF field");return l.isZero()?this:this.add(l.negative())}multiply(l){return l instanceof mi?this.multiplyOther(l):this.multiplyScalar(l)}multiplyOther(l){if(!this.field.equals(l.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||l.isZero())return new mi(this.field,new Int32Array([0]));let f=this.coefficients,m=f.length,y=l.coefficients,x=y.length,_=new Int32Array(m+x-1);for(let j=0;j<m;j++){let T=f[j];for(let L=0;L<x;L++)_[j+L]=this.field.add(_[j+L],this.field.multiply(T,y[L]))}return new mi(this.field,_)}negative(){let l=this.coefficients.length,f=new Int32Array(l);for(let m=0;m<l;m++)f[m]=this.field.subtract(0,this.coefficients[m]);return new mi(this.field,f)}multiplyScalar(l){if(l===0)return new mi(this.field,new Int32Array([0]));if(l===1)return this;let f=this.coefficients.length,m=new Int32Array(f);for(let y=0;y<f;y++)m[y]=this.field.multiply(this.coefficients[y],l);return new mi(this.field,m)}multiplyByMonomial(l,f){if(l<0)throw new v;if(f===0)return new mi(this.field,new Int32Array([0]));let m=this.coefficients.length,y=new Int32Array(m+l);for(let x=0;x<m;x++)y[x]=this.field.multiply(this.coefficients[x],f);return new mi(this.field,y)}toString(){let l=new K;for(let f=this.getDegree();f>=0;f--){let m=this.getCoefficient(f);m!==0&&(m<0?(l.append(" - "),m=-m):l.length()>0&&l.append(" + "),(f===0||m!==1)&&l.append(m),f!==0&&(f===1?l.append("x"):(l.append("x^"),l.append(f))))}return l.toString()}}class n0{add(l,f){return(l+f)%this.modulus}subtract(l,f){return(this.modulus+l-f)%this.modulus}exp(l){return this.expTable[l]}log(l){if(l===0)throw new v;return this.logTable[l]}inverse(l){if(l===0)throw new be;return this.expTable[this.modulus-this.logTable[l]-1]}multiply(l,f){return l===0||f===0?0:this.expTable[(this.logTable[l]+this.logTable[f])%(this.modulus-1)]}getSize(){return this.modulus}equals(l){return l===this}}class ql extends n0{constructor(l,f){super(),this.modulus=l,this.expTable=new Int32Array(l),this.logTable=new Int32Array(l);let m=1;for(let y=0;y<l;y++)this.expTable[y]=m,m=m*f%l;for(let y=0;y<l-1;y++)this.logTable[this.expTable[y]]=y;this.zero=new mi(this,new Int32Array([0])),this.one=new mi(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,f){if(l<0)throw new v;if(f===0)return this.zero;let m=new Int32Array(l+1);return m[0]=f,new mi(this,m)}}ql.PDF417_GF=new ql(Ht.NUMBER_OF_CODEWORDS,3);class Zh{constructor(){this.field=ql.PDF417_GF}decode(l,f,m){let y=new mi(this.field,l),x=new Int32Array(f),_=!1;for(let pe=f;pe>0;pe--){let ve=y.evaluateAt(this.field.exp(pe));x[f-pe]=ve,ve!==0&&(_=!0)}if(!_)return 0;let j=this.field.getOne();if(m!=null)for(const pe of m){let ve=this.field.exp(l.length-1-pe),Ae=new mi(this.field,new Int32Array([this.field.subtract(0,ve),1]));j=j.multiply(Ae)}let T=new mi(this.field,x),L=this.runEuclideanAlgorithm(this.field.buildMonomial(f,1),T,f),H=L[0],Z=L[1],re=this.findErrorLocations(H),ce=this.findErrorMagnitudes(Z,H,re);for(let pe=0;pe<re.length;pe++){let ve=l.length-1-this.field.log(re[pe]);if(ve<0)throw b.getChecksumInstance();l[ve]=this.field.subtract(l[ve],ce[pe])}return re.length}runEuclideanAlgorithm(l,f,m){if(l.getDegree()<f.getDegree()){let re=l;l=f,f=re}let y=l,x=f,_=this.field.getZero(),j=this.field.getOne();for(;x.getDegree()>=Math.round(m/2);){let re=y,ce=_;if(y=x,_=j,y.isZero())throw b.getChecksumInstance();x=re;let pe=this.field.getZero(),ve=y.getCoefficient(y.getDegree()),Ae=this.field.inverse(ve);for(;x.getDegree()>=y.getDegree()&&!x.isZero();){let Me=x.getDegree()-y.getDegree(),nt=this.field.multiply(x.getCoefficient(x.getDegree()),Ae);pe=pe.add(this.field.buildMonomial(Me,nt)),x=x.subtract(y.multiplyByMonomial(Me,nt))}j=pe.multiply(_).subtract(ce).negative()}let T=j.getCoefficient(0);if(T===0)throw b.getChecksumInstance();let L=this.field.inverse(T),H=j.multiply(L),Z=x.multiply(L);return[H,Z]}findErrorLocations(l){let f=l.getDegree(),m=new Int32Array(f),y=0;for(let x=1;x<this.field.getSize()&&y<f;x++)l.evaluateAt(x)===0&&(m[y]=this.field.inverse(x),y++);if(y!==f)throw b.getChecksumInstance();return m}findErrorMagnitudes(l,f,m){let y=f.getDegree(),x=new Int32Array(y);for(let L=1;L<=y;L++)x[y-L]=this.field.multiply(L,f.getCoefficient(L));let _=new mi(this.field,x),j=m.length,T=new Int32Array(j);for(let L=0;L<j;L++){let H=this.field.inverse(m[L]),Z=this.field.subtract(0,l.evaluateAt(H)),re=this.field.inverse(_.evaluateAt(H));T[L]=this.field.multiply(Z,re)}return T}}class Ho{constructor(l,f,m,y,x){l instanceof Ho?this.constructor_2(l):this.constructor_1(l,f,m,y,x)}constructor_1(l,f,m,y,x){const _=f==null||m==null,j=y==null||x==null;if(_&&j)throw new Y;_?(f=new he(0,y.getY()),m=new he(0,x.getY())):j&&(y=new he(l.getWidth()-1,f.getY()),x=new he(l.getWidth()-1,m.getY())),this.image=l,this.topLeft=f,this.bottomLeft=m,this.topRight=y,this.bottomRight=x,this.minX=Math.trunc(Math.min(f.getX(),m.getX())),this.maxX=Math.trunc(Math.max(y.getX(),x.getX())),this.minY=Math.trunc(Math.min(f.getY(),y.getY())),this.maxY=Math.trunc(Math.max(m.getY(),x.getY()))}constructor_2(l){this.image=l.image,this.topLeft=l.getTopLeft(),this.bottomLeft=l.getBottomLeft(),this.topRight=l.getTopRight(),this.bottomRight=l.getBottomRight(),this.minX=l.getMinX(),this.maxX=l.getMaxX(),this.minY=l.getMinY(),this.maxY=l.getMaxY()}static merge(l,f){return l==null?f:f==null?l:new Ho(l.image,l.topLeft,l.bottomLeft,f.topRight,f.bottomRight)}addMissingRows(l,f,m){let y=this.topLeft,x=this.bottomLeft,_=this.topRight,j=this.bottomRight;if(l>0){let T=m?this.topLeft:this.topRight,L=Math.trunc(T.getY()-l);L<0&&(L=0);let H=new he(T.getX(),L);m?y=H:_=H}if(f>0){let T=m?this.bottomLeft:this.bottomRight,L=Math.trunc(T.getY()+f);L>=this.image.getHeight()&&(L=this.image.getHeight()-1);let H=new he(T.getX(),L);m?x=H:j=H}return new Ho(this.image,y,x,_,j)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ru{constructor(l,f,m,y){this.columnCount=l,this.errorCorrectionLevel=y,this.rowCountUpperPart=f,this.rowCountLowerPart=m,this.rowCount=f+m}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Fa{constructor(){this.buffer=""}static form(l,f){let m=-1;function y(_,j,T,L,H,Z){if(_==="%%")return"%";if(f[++m]===void 0)return;_=L?parseInt(L.substr(1)):void 0;let re=H?parseInt(H.substr(1)):void 0,ce;switch(Z){case"s":ce=f[m];break;case"c":ce=f[m][0];break;case"f":ce=parseFloat(f[m]).toFixed(_);break;case"p":ce=parseFloat(f[m]).toPrecision(_);break;case"e":ce=parseFloat(f[m]).toExponential(_);break;case"x":ce=parseInt(f[m]).toString(re||16);break;case"d":ce=parseFloat(parseInt(f[m],re||10).toPrecision(_)).toFixed(0);break}ce=typeof ce=="object"?JSON.stringify(ce):(+ce).toString(re);let pe=parseInt(T),ve=T&&T[0]+""=="0"?"0":" ";for(;ce.length<pe;)ce=j!==void 0?ce+ve:ve+ce;return ce}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(x,y)}format(l,...f){this.buffer+=Fa.form(l,f)}toString(){return this.buffer}}class pa{constructor(l){this.boundingBox=new Ho(l),this.codewords=new Array(l.getMaxY()-l.getMinY()+1)}getCodewordNearby(l){let f=this.getCodeword(l);if(f!=null)return f;for(let m=1;m<pa.MAX_NEARBY_DISTANCE;m++){let y=this.imageRowToCodewordIndex(l)-m;if(y>=0&&(f=this.codewords[y],f!=null)||(y=this.imageRowToCodewordIndex(l)+m,y<this.codewords.length&&(f=this.codewords[y],f!=null)))return f}return null}imageRowToCodewordIndex(l){return l-this.boundingBox.getMinY()}setCodeword(l,f){this.codewords[this.imageRowToCodewordIndex(l)]=f}getCodeword(l){return this.codewords[this.imageRowToCodewordIndex(l)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const l=new Fa;let f=0;for(const m of this.codewords){if(m==null){l.format("%3d:    |   %n",f++);continue}l.format("%3d: %3d|%3d%n",f++,m.getRowNumber(),m.getValue())}return l.toString()}}pa.MAX_NEARBY_DISTANCE=5;class yo{constructor(){this.values=new Map}setValue(l){l=Math.trunc(l);let f=this.values.get(l);f==null&&(f=0),f++,this.values.set(l,f)}getValue(){let l=-1,f=new Array;for(const[m,y]of this.values.entries()){const x={getKey:()=>m,getValue:()=>y};x.getValue()>l?(l=x.getValue(),f=[],f.push(x.getKey())):x.getValue()===l&&f.push(x.getKey())}return Ht.toIntArray(f)}getConfidence(l){return this.values.get(l)}}class i0 extends pa{constructor(l,f){super(l),this._isLeft=f}setRowNumbers(){for(let l of this.getCodewords())l?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(l){let f=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(f,l);let m=this.getBoundingBox(),y=this._isLeft?m.getTopLeft():m.getTopRight(),x=this._isLeft?m.getBottomLeft():m.getBottomRight(),_=this.imageRowToCodewordIndex(Math.trunc(y.getY())),j=this.imageRowToCodewordIndex(Math.trunc(x.getY())),T=-1,L=1,H=0;for(let Z=_;Z<j;Z++){if(f[Z]==null)continue;let re=f[Z],ce=re.getRowNumber()-T;if(ce===0)H++;else if(ce===1)L=Math.max(L,H),H=1,T=re.getRowNumber();else if(ce<0||re.getRowNumber()>=l.getRowCount()||ce>Z)f[Z]=null;else{let pe;L>2?pe=(L-2)*ce:pe=ce;let ve=pe>=Z;for(let Ae=1;Ae<=pe&&!ve;Ae++)ve=f[Z-Ae]!=null;ve?f[Z]=null:(T=re.getRowNumber(),H=1)}}}getRowHeights(){let l=this.getBarcodeMetadata();if(l==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(l);let f=new Int32Array(l.getRowCount());for(let m of this.getCodewords())if(m!=null){let y=m.getRowNumber();if(y>=f.length)continue;f[y]++}return f}adjustIncompleteIndicatorColumnRowNumbers(l){let f=this.getBoundingBox(),m=this._isLeft?f.getTopLeft():f.getTopRight(),y=this._isLeft?f.getBottomLeft():f.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(m.getY())),_=this.imageRowToCodewordIndex(Math.trunc(y.getY())),j=this.getCodewords(),T=-1;for(let L=x;L<_;L++){if(j[L]==null)continue;let H=j[L];H.setRowNumberAsRowIndicatorColumn();let Z=H.getRowNumber()-T;Z===0||(Z===1?T=H.getRowNumber():H.getRowNumber()>=l.getRowCount()?j[L]=null:T=H.getRowNumber())}}getBarcodeMetadata(){let l=this.getCodewords(),f=new yo,m=new yo,y=new yo,x=new yo;for(let j of l){if(j==null)continue;j.setRowNumberAsRowIndicatorColumn();let T=j.getValue()%30,L=j.getRowNumber();switch(this._isLeft||(L+=2),L%3){case 0:m.setValue(T*3+1);break;case 1:x.setValue(T/3),y.setValue(T%3);break;case 2:f.setValue(T+1);break}}if(f.getValue().length===0||m.getValue().length===0||y.getValue().length===0||x.getValue().length===0||f.getValue()[0]<1||m.getValue()[0]+y.getValue()[0]<Ht.MIN_ROWS_IN_BARCODE||m.getValue()[0]+y.getValue()[0]>Ht.MAX_ROWS_IN_BARCODE)return null;let _=new ru(f.getValue()[0],m.getValue()[0],y.getValue()[0],x.getValue()[0]);return this.removeIncorrectCodewords(l,_),_}removeIncorrectCodewords(l,f){for(let m=0;m<l.length;m++){let y=l[m];if(l[m]==null)continue;let x=y.getValue()%30,_=y.getRowNumber();if(_>f.getRowCount()){l[m]=null;continue}switch(this._isLeft||(_+=2),_%3){case 0:x*3+1!==f.getRowCountUpperPart()&&(l[m]=null);break;case 1:(Math.trunc(x/3)!==f.getErrorCorrectionLevel()||x%3!==f.getRowCountLowerPart())&&(l[m]=null);break;case 2:x+1!==f.getColumnCount()&&(l[m]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class nu{constructor(l,f){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=l,this.barcodeColumnCount=l.getColumnCount(),this.boundingBox=f,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let l=Ht.MAX_CODEWORDS_IN_BARCODE,f;do f=l,l=this.adjustRowNumbersAndGetCount();while(l>0&&l<f);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(l){l?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let l=this.adjustRowNumbersByRow();if(l===0)return 0;for(let f=1;f<this.barcodeColumnCount+1;f++){let m=this.detectionResultColumns[f].getCodewords();for(let y=0;y<m.length;y++)m[y]!=null&&(m[y].hasValidRowNumber()||this.adjustRowNumbers(f,y,m))}return l}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let l=this.detectionResultColumns[0].getCodewords(),f=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let m=0;m<l.length;m++)if(l[m]!=null&&f[m]!=null&&l[m].getRowNumber()===f[m].getRowNumber())for(let y=1;y<=this.barcodeColumnCount;y++){let x=this.detectionResultColumns[y].getCodewords()[m];x!=null&&(x.setRowNumber(l[m].getRowNumber()),x.hasValidRowNumber()||(this.detectionResultColumns[y].getCodewords()[m]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let l=0,f=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let m=0;m<f.length;m++){if(f[m]==null)continue;let y=f[m].getRowNumber(),x=0;for(let _=this.barcodeColumnCount+1;_>0&&x<this.ADJUST_ROW_NUMBER_SKIP;_--){let j=this.detectionResultColumns[_].getCodewords()[m];j!=null&&(x=nu.adjustRowNumberIfValid(y,x,j),j.hasValidRowNumber()||l++)}}return l}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let l=0,f=this.detectionResultColumns[0].getCodewords();for(let m=0;m<f.length;m++){if(f[m]==null)continue;let y=f[m].getRowNumber(),x=0;for(let _=1;_<this.barcodeColumnCount+1&&x<this.ADJUST_ROW_NUMBER_SKIP;_++){let j=this.detectionResultColumns[_].getCodewords()[m];j!=null&&(x=nu.adjustRowNumberIfValid(y,x,j),j.hasValidRowNumber()||l++)}}return l}static adjustRowNumberIfValid(l,f,m){return m==null||m.hasValidRowNumber()||(m.isValidRowNumber(l)?(m.setRowNumber(l),f=0):++f),f}adjustRowNumbers(l,f,m){if(!this.detectionResultColumns[l-1])return;let y=m[f],x=this.detectionResultColumns[l-1].getCodewords(),_=x;this.detectionResultColumns[l+1]!=null&&(_=this.detectionResultColumns[l+1].getCodewords());let j=new Array(14);j[2]=x[f],j[3]=_[f],f>0&&(j[0]=m[f-1],j[4]=x[f-1],j[5]=_[f-1]),f>1&&(j[8]=m[f-2],j[10]=x[f-2],j[11]=_[f-2]),f<m.length-1&&(j[1]=m[f+1],j[6]=x[f+1],j[7]=_[f+1]),f<m.length-2&&(j[9]=m[f+2],j[12]=x[f+2],j[13]=_[f+2]);for(let T of j)if(nu.adjustRowNumber(y,T))return}static adjustRowNumber(l,f){return f==null?!1:f.hasValidRowNumber()&&f.getBucket()===l.getBucket()?(l.setRowNumber(f.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(l){this.boundingBox=l}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(l,f){this.detectionResultColumns[l]=f}getDetectionResultColumn(l){return this.detectionResultColumns[l]}toString(){let l=this.detectionResultColumns[0];l==null&&(l=this.detectionResultColumns[this.barcodeColumnCount+1]);let f=new Fa;for(let m=0;m<l.getCodewords().length;m++){f.format("CW %3d:",m);for(let y=0;y<this.barcodeColumnCount+2;y++){if(this.detectionResultColumns[y]==null){f.format("    |   ");continue}let x=this.detectionResultColumns[y].getCodewords()[m];if(x==null){f.format("    |   ");continue}f.format(" %3d|%3d",x.getRowNumber(),x.getValue())}f.format("%n")}return f.toString()}}class Go{constructor(l,f,m,y){this.rowNumber=Go.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(l),this.endX=Math.trunc(f),this.bucket=Math.trunc(m),this.value=Math.trunc(y)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(l){return l!==Go.BARCODE_ROW_UNKNOWN&&this.bucket===l%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(l){this.rowNumber=l}toString(){return this.rowNumber+"|"+this.value}}Go.BARCODE_ROW_UNKNOWN=-1;class pi{static initialize(){for(let l=0;l<Ht.SYMBOL_TABLE.length;l++){let f=Ht.SYMBOL_TABLE[l],m=f&1;for(let y=0;y<Ht.BARS_IN_MODULE;y++){let x=0;for(;(f&1)===m;)x+=1,f>>=1;m=f&1,pi.RATIOS_TABLE[l]||(pi.RATIOS_TABLE[l]=new Array(Ht.BARS_IN_MODULE)),pi.RATIOS_TABLE[l][Ht.BARS_IN_MODULE-y-1]=Math.fround(x/Ht.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(l){let f=pi.getDecodedCodewordValue(pi.sampleBitCounts(l));return f!==-1?f:pi.getClosestDecodedValue(l)}static sampleBitCounts(l){let f=dt.sum(l),m=new Int32Array(Ht.BARS_IN_MODULE),y=0,x=0;for(let _=0;_<Ht.MODULES_IN_CODEWORD;_++){let j=f/(2*Ht.MODULES_IN_CODEWORD)+_*f/Ht.MODULES_IN_CODEWORD;x+l[y]<=j&&(x+=l[y],y++),m[y]++}return m}static getDecodedCodewordValue(l){let f=pi.getBitValue(l);return Ht.getCodeword(f)===-1?-1:f}static getBitValue(l){let f=0;for(let m=0;m<l.length;m++)for(let y=0;y<l[m];y++)f=f<<1|(m%2===0?1:0);return Math.trunc(f)}static getClosestDecodedValue(l){let f=dt.sum(l),m=new Array(Ht.BARS_IN_MODULE);if(f>1)for(let _=0;_<m.length;_++)m[_]=Math.fround(l[_]/f);let y=de.MAX_VALUE,x=-1;this.bSymbolTableReady||pi.initialize();for(let _=0;_<pi.RATIOS_TABLE.length;_++){let j=0,T=pi.RATIOS_TABLE[_];for(let L=0;L<Ht.BARS_IN_MODULE;L++){let H=Math.fround(T[L]-m[L]);if(j+=Math.fround(H*H),j>=y)break}j<y&&(y=j,x=Ht.SYMBOL_TABLE[_])}return x}}pi.bSymbolTableReady=!1,pi.RATIOS_TABLE=new Array(Ht.SYMBOL_TABLE.length).map(X=>new Array(Ht.BARS_IN_MODULE));class Pd{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(l){this.segmentIndex=l}getFileId(){return this.fileId}setFileId(l){this.fileId=l}getOptionalData(){return this.optionalData}setOptionalData(l){this.optionalData=l}isLastSegment(){return this.lastSegment}setLastSegment(l){this.lastSegment=l}getSegmentCount(){return this.segmentCount}setSegmentCount(l){this.segmentCount=l}getSender(){return this.sender||null}setSender(l){this.sender=l}getAddressee(){return this.addressee||null}setAddressee(l){this.addressee=l}getFileName(){return this.fileName}setFileName(l){this.fileName=l}getFileSize(){return this.fileSize}setFileSize(l){this.fileSize=l}getChecksum(){return this.checksum}setChecksum(l){this.checksum=l}getTimestamp(){return this.timestamp}setTimestamp(l){this.timestamp=l}}class Qh{static parseLong(l,f=void 0){return parseInt(l,f)}}class Ua extends h{}Ua.kind="NullPointerException";class Jh{writeBytes(l){this.writeBytesOffset(l,0,l.length)}writeBytesOffset(l,f,m){if(l==null)throw new Ua;if(f<0||f>l.length||m<0||f+m>l.length||f+m<0)throw new E;if(m===0)return;for(let y=0;y<m;y++)this.write(l[f+y])}flush(){}close(){}}class Id extends h{}class s0 extends Jh{constructor(l=32){if(super(),this.count=0,l<0)throw new v("Negative initial size: "+l);this.buf=new Uint8Array(l)}ensureCapacity(l){l-this.buf.length>0&&this.grow(l)}grow(l){let m=this.buf.length<<1;if(m-l<0&&(m=l),m<0){if(l<0)throw new Id;m=I.MAX_VALUE}this.buf=k.copyOfUint8Array(this.buf,m)}write(l){this.ensureCapacity(this.count+1),this.buf[this.count]=l,this.count+=1}writeBytesOffset(l,f,m){if(f<0||f>l.length||m<0||f+m-l.length>0)throw new E;this.ensureCapacity(this.count+m),C.arraycopy(l,f,this.buf,this.count,m),this.count+=m}writeTo(l){l.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return k.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(l){return l?typeof l=="string"?this.toString_string(l):this.toString_number(l):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(l){return new String(this.buf).toString()}toString_number(l){return new String(this.buf).toString()}close(){}}var Br;(function(X){X[X.ALPHA=0]="ALPHA",X[X.LOWER=1]="LOWER",X[X.MIXED=2]="MIXED",X[X.PUNCT=3]="PUNCT",X[X.ALPHA_SHIFT=4]="ALPHA_SHIFT",X[X.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Br||(Br={}));function iu(){if(typeof window<"u")return window.BigInt||null;if(typeof _c<"u")return _c.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let su;function Vn(X){if(typeof su>"u"&&(su=iu()),su===null)throw new Error("BigInt is not supported!");return su(X)}function zl(){let X=[];X[0]=Vn(1);let l=Vn(900);X[1]=l;for(let f=2;f<16;f++)X[f]=X[f-1]*l;return X}class De{static decode(l,f){let m=new K(""),y=z.ISO8859_1;m.enableDecoding(y);let x=1,_=l[x++],j=new Pd;for(;x<l[0];){switch(_){case De.TEXT_COMPACTION_MODE_LATCH:x=De.textCompaction(l,x,m);break;case De.BYTE_COMPACTION_MODE_LATCH:case De.BYTE_COMPACTION_MODE_LATCH_6:x=De.byteCompaction(_,l,y,x,m);break;case De.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(l[x++]);break;case De.NUMERIC_COMPACTION_MODE_LATCH:x=De.numericCompaction(l,x,m);break;case De.ECI_CHARSET:z.getCharacterSetECIByValue(l[x++]);break;case De.ECI_GENERAL_PURPOSE:x+=2;break;case De.ECI_USER_DEFINED:x++;break;case De.BEGIN_MACRO_PDF417_CONTROL_BLOCK:x=De.decodeMacroBlock(l,x,j);break;case De.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case De.MACRO_PDF417_TERMINATOR:throw new R;default:x--,x=De.textCompaction(l,x,m);break}if(x<l.length)_=l[x++];else throw R.getFormatInstance()}if(m.length()===0)throw R.getFormatInstance();let T=new Ee(null,m.toString(),null,f);return T.setOther(j),T}static decodeMacroBlock(l,f,m){if(f+De.NUMBER_OF_SEQUENCE_CODEWORDS>l[0])throw R.getFormatInstance();let y=new Int32Array(De.NUMBER_OF_SEQUENCE_CODEWORDS);for(let j=0;j<De.NUMBER_OF_SEQUENCE_CODEWORDS;j++,f++)y[j]=l[f];m.setSegmentIndex(I.parseInt(De.decodeBase900toBase10(y,De.NUMBER_OF_SEQUENCE_CODEWORDS)));let x=new K;f=De.textCompaction(l,f,x),m.setFileId(x.toString());let _=-1;for(l[f]===De.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(_=f+1);f<l[0];)switch(l[f]){case De.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(f++,l[f]){case De.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let j=new K;f=De.textCompaction(l,f+1,j),m.setFileName(j.toString());break;case De.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let T=new K;f=De.textCompaction(l,f+1,T),m.setSender(T.toString());break;case De.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let L=new K;f=De.textCompaction(l,f+1,L),m.setAddressee(L.toString());break;case De.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let H=new K;f=De.numericCompaction(l,f+1,H),m.setSegmentCount(I.parseInt(H.toString()));break;case De.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let Z=new K;f=De.numericCompaction(l,f+1,Z),m.setTimestamp(Qh.parseLong(Z.toString()));break;case De.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let re=new K;f=De.numericCompaction(l,f+1,re),m.setChecksum(I.parseInt(re.toString()));break;case De.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ce=new K;f=De.numericCompaction(l,f+1,ce),m.setFileSize(Qh.parseLong(ce.toString()));break;default:throw R.getFormatInstance()}break;case De.MACRO_PDF417_TERMINATOR:f++,m.setLastSegment(!0);break;default:throw R.getFormatInstance()}if(_!==-1){let j=f-_;m.isLastSegment()&&j--,m.setOptionalData(k.copyOfRange(l,_,_+j))}return f}static textCompaction(l,f,m){let y=new Int32Array((l[0]-f)*2),x=new Int32Array((l[0]-f)*2),_=0,j=!1;for(;f<l[0]&&!j;){let T=l[f++];if(T<De.TEXT_COMPACTION_MODE_LATCH)y[_]=T/30,y[_+1]=T%30,_+=2;else switch(T){case De.TEXT_COMPACTION_MODE_LATCH:y[_++]=De.TEXT_COMPACTION_MODE_LATCH;break;case De.BYTE_COMPACTION_MODE_LATCH:case De.BYTE_COMPACTION_MODE_LATCH_6:case De.NUMERIC_COMPACTION_MODE_LATCH:case De.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case De.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case De.MACRO_PDF417_TERMINATOR:f--,j=!0;break;case De.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y[_]=De.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,T=l[f++],x[_]=T,_++;break}}return De.decodeTextCompaction(y,x,_,m),f}static decodeTextCompaction(l,f,m,y){let x=Br.ALPHA,_=Br.ALPHA,j=0;for(;j<m;){let T=l[j],L="";switch(x){case Br.ALPHA:if(T<26)L=String.fromCharCode(65+T);else switch(T){case 26:L=" ";break;case De.LL:x=Br.LOWER;break;case De.ML:x=Br.MIXED;break;case De.PS:_=x,x=Br.PUNCT_SHIFT;break;case De.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(f[j]);break;case De.TEXT_COMPACTION_MODE_LATCH:x=Br.ALPHA;break}break;case Br.LOWER:if(T<26)L=String.fromCharCode(97+T);else switch(T){case 26:L=" ";break;case De.AS:_=x,x=Br.ALPHA_SHIFT;break;case De.ML:x=Br.MIXED;break;case De.PS:_=x,x=Br.PUNCT_SHIFT;break;case De.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(f[j]);break;case De.TEXT_COMPACTION_MODE_LATCH:x=Br.ALPHA;break}break;case Br.MIXED:if(T<De.PL)L=De.MIXED_CHARS[T];else switch(T){case De.PL:x=Br.PUNCT;break;case 26:L=" ";break;case De.LL:x=Br.LOWER;break;case De.AL:x=Br.ALPHA;break;case De.PS:_=x,x=Br.PUNCT_SHIFT;break;case De.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(f[j]);break;case De.TEXT_COMPACTION_MODE_LATCH:x=Br.ALPHA;break}break;case Br.PUNCT:if(T<De.PAL)L=De.PUNCT_CHARS[T];else switch(T){case De.PAL:x=Br.ALPHA;break;case De.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(f[j]);break;case De.TEXT_COMPACTION_MODE_LATCH:x=Br.ALPHA;break}break;case Br.ALPHA_SHIFT:if(x=_,T<26)L=String.fromCharCode(65+T);else switch(T){case 26:L=" ";break;case De.TEXT_COMPACTION_MODE_LATCH:x=Br.ALPHA;break}break;case Br.PUNCT_SHIFT:if(x=_,T<De.PAL)L=De.PUNCT_CHARS[T];else switch(T){case De.PAL:x=Br.ALPHA;break;case De.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(f[j]);break;case De.TEXT_COMPACTION_MODE_LATCH:x=Br.ALPHA;break}break}L!==""&&y.append(L),j++}}static byteCompaction(l,f,m,y,x){let _=new s0,j=0,T=0,L=!1;switch(l){case De.BYTE_COMPACTION_MODE_LATCH:let H=new Int32Array(6),Z=f[y++];for(;y<f[0]&&!L;)switch(H[j++]=Z,T=900*T+Z,Z=f[y++],Z){case De.TEXT_COMPACTION_MODE_LATCH:case De.BYTE_COMPACTION_MODE_LATCH:case De.NUMERIC_COMPACTION_MODE_LATCH:case De.BYTE_COMPACTION_MODE_LATCH_6:case De.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case De.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case De.MACRO_PDF417_TERMINATOR:y--,L=!0;break;default:if(j%5===0&&j>0){for(let re=0;re<6;++re)_.write(Number(Vn(T)>>Vn(8*(5-re))));T=0,j=0}break}y===f[0]&&Z<De.TEXT_COMPACTION_MODE_LATCH&&(H[j++]=Z);for(let re=0;re<j;re++)_.write(H[re]);break;case De.BYTE_COMPACTION_MODE_LATCH_6:for(;y<f[0]&&!L;){let re=f[y++];if(re<De.TEXT_COMPACTION_MODE_LATCH)j++,T=900*T+re;else switch(re){case De.TEXT_COMPACTION_MODE_LATCH:case De.BYTE_COMPACTION_MODE_LATCH:case De.NUMERIC_COMPACTION_MODE_LATCH:case De.BYTE_COMPACTION_MODE_LATCH_6:case De.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case De.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case De.MACRO_PDF417_TERMINATOR:y--,L=!0;break}if(j%5===0&&j>0){for(let ce=0;ce<6;++ce)_.write(Number(Vn(T)>>Vn(8*(5-ce))));T=0,j=0}}break}return x.append(W.decode(_.toByteArray(),m)),y}static numericCompaction(l,f,m){let y=0,x=!1,_=new Int32Array(De.MAX_NUMERIC_CODEWORDS);for(;f<l[0]&&!x;){let j=l[f++];if(f===l[0]&&(x=!0),j<De.TEXT_COMPACTION_MODE_LATCH)_[y]=j,y++;else switch(j){case De.TEXT_COMPACTION_MODE_LATCH:case De.BYTE_COMPACTION_MODE_LATCH:case De.BYTE_COMPACTION_MODE_LATCH_6:case De.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case De.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case De.MACRO_PDF417_TERMINATOR:f--,x=!0;break}(y%De.MAX_NUMERIC_CODEWORDS===0||j===De.NUMERIC_COMPACTION_MODE_LATCH||x)&&y>0&&(m.append(De.decodeBase900toBase10(_,y)),y=0)}return f}static decodeBase900toBase10(l,f){let m=Vn(0);for(let x=0;x<f;x++)m+=De.EXP900[f-x-1]*Vn(l[x]);let y=m.toString();if(y.charAt(0)!=="1")throw new R;return y.substring(1)}}De.TEXT_COMPACTION_MODE_LATCH=900,De.BYTE_COMPACTION_MODE_LATCH=901,De.NUMERIC_COMPACTION_MODE_LATCH=902,De.BYTE_COMPACTION_MODE_LATCH_6=924,De.ECI_USER_DEFINED=925,De.ECI_GENERAL_PURPOSE=926,De.ECI_CHARSET=927,De.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,De.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,De.MACRO_PDF417_TERMINATOR=922,De.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,De.MAX_NUMERIC_CODEWORDS=15,De.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,De.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,De.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,De.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,De.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,De.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,De.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,De.PL=25,De.LL=27,De.AS=27,De.ML=28,De.AL=28,De.PS=29,De.PAL=29,De.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,De.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",De.EXP900=iu()?zl():[],De.NUMBER_OF_SEQUENCE_CODEWORDS=2;class dr{constructor(){}static decode(l,f,m,y,x,_,j){let T=new Ho(l,f,m,y,x),L=null,H=null,Z;for(let pe=!0;;pe=!1){if(f!=null&&(L=dr.getRowIndicatorColumn(l,T,f,!0,_,j)),y!=null&&(H=dr.getRowIndicatorColumn(l,T,y,!1,_,j)),Z=dr.merge(L,H),Z==null)throw Y.getNotFoundInstance();let ve=Z.getBoundingBox();if(pe&&ve!=null&&(ve.getMinY()<T.getMinY()||ve.getMaxY()>T.getMaxY()))T=ve;else break}Z.setBoundingBox(T);let re=Z.getBarcodeColumnCount()+1;Z.setDetectionResultColumn(0,L),Z.setDetectionResultColumn(re,H);let ce=L!=null;for(let pe=1;pe<=re;pe++){let ve=ce?pe:re-pe;if(Z.getDetectionResultColumn(ve)!==void 0)continue;let Ae;ve===0||ve===re?Ae=new i0(T,ve===0):Ae=new pa(T),Z.setDetectionResultColumn(ve,Ae);let Me=-1,nt=Me;for(let it=T.getMinY();it<=T.getMaxY();it++){if(Me=dr.getStartColumn(Z,ve,it,ce),Me<0||Me>T.getMaxX()){if(nt===-1)continue;Me=nt}let Je=dr.detectCodeword(l,T.getMinX(),T.getMaxX(),ce,Me,it,_,j);Je!=null&&(Ae.setCodeword(it,Je),nt=Me,_=Math.min(_,Je.getWidth()),j=Math.max(j,Je.getWidth()))}}return dr.createDecoderResult(Z)}static merge(l,f){if(l==null&&f==null)return null;let m=dr.getBarcodeMetadata(l,f);if(m==null)return null;let y=Ho.merge(dr.adjustBoundingBox(l),dr.adjustBoundingBox(f));return new nu(m,y)}static adjustBoundingBox(l){if(l==null)return null;let f=l.getRowHeights();if(f==null)return null;let m=dr.getMax(f),y=0;for(let j of f)if(y+=m-j,j>0)break;let x=l.getCodewords();for(let j=0;y>0&&x[j]==null;j++)y--;let _=0;for(let j=f.length-1;j>=0&&(_+=m-f[j],!(f[j]>0));j--);for(let j=x.length-1;_>0&&x[j]==null;j--)_--;return l.getBoundingBox().addMissingRows(y,_,l.isLeft())}static getMax(l){let f=-1;for(let m of l)f=Math.max(f,m);return f}static getBarcodeMetadata(l,f){let m;if(l==null||(m=l.getBarcodeMetadata())==null)return f==null?null:f.getBarcodeMetadata();let y;return f==null||(y=f.getBarcodeMetadata())==null?m:m.getColumnCount()!==y.getColumnCount()&&m.getErrorCorrectionLevel()!==y.getErrorCorrectionLevel()&&m.getRowCount()!==y.getRowCount()?null:m}static getRowIndicatorColumn(l,f,m,y,x,_){let j=new i0(f,y);for(let T=0;T<2;T++){let L=T===0?1:-1,H=Math.trunc(Math.trunc(m.getX()));for(let Z=Math.trunc(Math.trunc(m.getY()));Z<=f.getMaxY()&&Z>=f.getMinY();Z+=L){let re=dr.detectCodeword(l,0,l.getWidth(),y,H,Z,x,_);re!=null&&(j.setCodeword(Z,re),y?H=re.getStartX():H=re.getEndX())}}return j}static adjustCodewordCount(l,f){let m=f[0][1],y=m.getValue(),x=l.getBarcodeColumnCount()*l.getBarcodeRowCount()-dr.getNumberOfECCodeWords(l.getBarcodeECLevel());if(y.length===0){if(x<1||x>Ht.MAX_CODEWORDS_IN_BARCODE)throw Y.getNotFoundInstance();m.setValue(x)}else y[0]!==x&&m.setValue(x)}static createDecoderResult(l){let f=dr.createBarcodeMatrix(l);dr.adjustCodewordCount(l,f);let m=new Array,y=new Int32Array(l.getBarcodeRowCount()*l.getBarcodeColumnCount()),x=[],_=new Array;for(let T=0;T<l.getBarcodeRowCount();T++)for(let L=0;L<l.getBarcodeColumnCount();L++){let H=f[T][L+1].getValue(),Z=T*l.getBarcodeColumnCount()+L;H.length===0?m.push(Z):H.length===1?y[Z]=H[0]:(_.push(Z),x.push(H))}let j=new Array(x.length);for(let T=0;T<j.length;T++)j[T]=x[T];return dr.createDecoderResultFromAmbiguousValues(l.getBarcodeECLevel(),y,Ht.toIntArray(m),Ht.toIntArray(_),j)}static createDecoderResultFromAmbiguousValues(l,f,m,y,x){let _=new Int32Array(y.length),j=100;for(;j-- >0;){for(let T=0;T<_.length;T++)f[y[T]]=x[T][_[T]];try{return dr.decodeCodewords(f,l,m)}catch(T){if(!(T instanceof b))throw T}if(_.length===0)throw b.getChecksumInstance();for(let T=0;T<_.length;T++)if(_[T]<x[T].length-1){_[T]++;break}else if(_[T]=0,T===_.length-1)throw b.getChecksumInstance()}throw b.getChecksumInstance()}static createBarcodeMatrix(l){let f=Array.from({length:l.getBarcodeRowCount()},()=>new Array(l.getBarcodeColumnCount()+2));for(let y=0;y<f.length;y++)for(let x=0;x<f[y].length;x++)f[y][x]=new yo;let m=0;for(let y of l.getDetectionResultColumns()){if(y!=null){for(let x of y.getCodewords())if(x!=null){let _=x.getRowNumber();if(_>=0){if(_>=f.length)continue;f[_][m].setValue(x.getValue())}}}m++}return f}static isValidBarcodeColumn(l,f){return f>=0&&f<=l.getBarcodeColumnCount()+1}static getStartColumn(l,f,m,y){let x=y?1:-1,_=null;if(dr.isValidBarcodeColumn(l,f-x)&&(_=l.getDetectionResultColumn(f-x).getCodeword(m)),_!=null)return y?_.getEndX():_.getStartX();if(_=l.getDetectionResultColumn(f).getCodewordNearby(m),_!=null)return y?_.getStartX():_.getEndX();if(dr.isValidBarcodeColumn(l,f-x)&&(_=l.getDetectionResultColumn(f-x).getCodewordNearby(m)),_!=null)return y?_.getEndX():_.getStartX();let j=0;for(;dr.isValidBarcodeColumn(l,f-x);){f-=x;for(let T of l.getDetectionResultColumn(f).getCodewords())if(T!=null)return(y?T.getEndX():T.getStartX())+x*j*(T.getEndX()-T.getStartX());j++}return y?l.getBoundingBox().getMinX():l.getBoundingBox().getMaxX()}static detectCodeword(l,f,m,y,x,_,j,T){x=dr.adjustCodewordStartColumn(l,f,m,y,x,_);let L=dr.getModuleBitCount(l,f,m,y,x,_);if(L==null)return null;let H,Z=dt.sum(L);if(y)H=x+Z;else{for(let pe=0;pe<L.length/2;pe++){let ve=L[pe];L[pe]=L[L.length-1-pe],L[L.length-1-pe]=ve}H=x,x=H-Z}if(!dr.checkCodewordSkew(Z,j,T))return null;let re=pi.getDecodedValue(L),ce=Ht.getCodeword(re);return ce===-1?null:new Go(x,H,dr.getCodewordBucketNumber(re),ce)}static getModuleBitCount(l,f,m,y,x,_){let j=x,T=new Int32Array(8),L=0,H=y?1:-1,Z=y;for(;(y?j<m:j>=f)&&L<T.length;)l.get(j,_)===Z?(T[L]++,j+=H):(L++,Z=!Z);return L===T.length||j===(y?m:f)&&L===T.length-1?T:null}static getNumberOfECCodeWords(l){return 2<<l}static adjustCodewordStartColumn(l,f,m,y,x,_){let j=x,T=y?-1:1;for(let L=0;L<2;L++){for(;(y?j>=f:j<m)&&y===l.get(j,_);){if(Math.abs(x-j)>dr.CODEWORD_SKEW_SIZE)return x;j+=T}T=-T,y=!y}return j}static checkCodewordSkew(l,f,m){return f-dr.CODEWORD_SKEW_SIZE<=l&&l<=m+dr.CODEWORD_SKEW_SIZE}static decodeCodewords(l,f,m){if(l.length===0)throw R.getFormatInstance();let y=1<<f+1,x=dr.correctErrors(l,m,y);dr.verifyCodewordCount(l,y);let _=De.decode(l,""+f);return _.setErrorsCorrected(x),_.setErasures(m.length),_}static correctErrors(l,f,m){if(f!=null&&f.length>m/2+dr.MAX_ERRORS||m<0||m>dr.MAX_EC_CODEWORDS)throw b.getChecksumInstance();return dr.errorCorrection.decode(l,m,f)}static verifyCodewordCount(l,f){if(l.length<4)throw R.getFormatInstance();let m=l[0];if(m>l.length)throw R.getFormatInstance();if(m===0)if(f<l.length)l[0]=l.length-f;else throw R.getFormatInstance()}static getBitCountForCodeword(l){let f=new Int32Array(8),m=0,y=f.length-1;for(;!((l&1)!==m&&(m=l&1,y--,y<0));)f[y]++,l>>=1;return f}static getCodewordBucketNumber(l){return l instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(l):this.getCodewordBucketNumber_number(l)}static getCodewordBucketNumber_number(l){return dr.getCodewordBucketNumber(dr.getBitCountForCodeword(l))}static getCodewordBucketNumber_Int32Array(l){return(l[0]-l[2]+l[4]-l[6]+9)%9}static toString(l){let f=new Fa;for(let m=0;m<l.length;m++){f.format("Row %2d: ",m);for(let y=0;y<l[m].length;y++){let x=l[m][y];x.getValue().length===0?f.format("        ",null):f.format("%4d(%2d)",x.getValue()[0],x.getConfidence(x.getValue()[0]))}f.format("%n")}return f.toString()}}dr.CODEWORD_SKEW_SIZE=2,dr.MAX_ERRORS=3,dr.MAX_EC_CODEWORDS=512,dr.errorCorrection=new Zh;class gi{decode(l,f=null){let m=gi.decode(l,f,!1);if(m==null||m.length===0||m[0]==null)throw Y.getNotFoundInstance();return m[0]}decodeMultiple(l,f=null){try{return gi.decode(l,f,!0)}catch(m){throw m instanceof R||m instanceof b?Y.getNotFoundInstance():m}}static decode(l,f,m){const y=new Array,x=or.detectMultiple(l,f,m);for(const _ of x.getPoints()){const j=dr.decode(x.getBits(),_[4],_[5],_[6],_[7],gi.getMinCodewordWidth(_),gi.getMaxCodewordWidth(_)),T=new xe(j.getText(),j.getRawBytes(),void 0,_,Pe.PDF_417);T.putMetadata(je.ERROR_CORRECTION_LEVEL,j.getECLevel());const L=j.getOther();L!=null&&T.putMetadata(je.PDF417_EXTRA_METADATA,L),y.push(T)}return y.map(_=>_)}static getMaxWidth(l,f){return l==null||f==null?0:Math.trunc(Math.abs(l.getX()-f.getX()))}static getMinWidth(l,f){return l==null||f==null?I.MAX_VALUE:Math.trunc(Math.abs(l.getX()-f.getX()))}static getMaxCodewordWidth(l){return Math.floor(Math.max(Math.max(gi.getMaxWidth(l[0],l[4]),gi.getMaxWidth(l[6],l[2])*Ht.MODULES_IN_CODEWORD/Ht.MODULES_IN_STOP_PATTERN),Math.max(gi.getMaxWidth(l[1],l[5]),gi.getMaxWidth(l[7],l[3])*Ht.MODULES_IN_CODEWORD/Ht.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(l){return Math.floor(Math.min(Math.min(gi.getMinWidth(l[0],l[4]),gi.getMinWidth(l[6],l[2])*Ht.MODULES_IN_CODEWORD/Ht.MODULES_IN_STOP_PATTERN),Math.min(gi.getMinWidth(l[1],l[5]),gi.getMinWidth(l[7],l[3])*Ht.MODULES_IN_CODEWORD/Ht.MODULES_IN_STOP_PATTERN)))}reset(){}}class Wl extends h{}Wl.kind="ReaderException";class Rd{constructor(l,f){this.verbose=l===!0,f&&this.setHints(f)}decode(l,f){return f&&this.setHints(f),this.decodeInternal(l)}decodeWithState(l){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(l)}setHints(l){this.hints=l;const f=!n(l)&&l.get(D.TRY_HARDER)===!0,m=n(l)?null:l.get(D.POSSIBLE_FORMATS),y=new Array;if(!n(m)){const x=m.some(_=>_===Pe.UPC_A||_===Pe.UPC_E||_===Pe.EAN_13||_===Pe.EAN_8||_===Pe.CODABAR||_===Pe.CODE_39||_===Pe.CODE_93||_===Pe.CODE_128||_===Pe.ITF||_===Pe.RSS_14||_===Pe.RSS_EXPANDED);x&&!f&&y.push(new Ul(l,this.verbose)),m.includes(Pe.QR_CODE)&&y.push(new Mi),m.includes(Pe.DATA_MATRIX)&&y.push(new Vs),m.includes(Pe.AZTEC)&&y.push(new tn),m.includes(Pe.PDF_417)&&y.push(new gi),x&&f&&y.push(new Ul(l,this.verbose))}y.length===0&&(f||y.push(new Ul(l,this.verbose)),y.push(new Mi),y.push(new Vs),y.push(new tn),y.push(new gi),f&&y.push(new Ul(l,this.verbose))),this.readers=y}reset(){if(this.readers!==null)for(const l of this.readers)l.reset()}decodeInternal(l){if(this.readers===null)throw new Wl("No readers where selected, nothing can be read.");for(const f of this.readers)try{return f.decode(l,this.hints)}catch(m){if(m instanceof Wl)continue}throw new Y("No MultiFormat Readers were able to detect the code.")}}class au extends me{constructor(l=null,f=500){const m=new Rd;m.setHints(l),super(m,f)}decodeBitmap(l){return this.reader.decodeWithState(l)}}class Md extends me{constructor(l=500){super(new gi,l)}}class a0 extends me{constructor(l=500){super(new Mi,l)}}var em;(function(X){X[X.ERROR_CORRECTION=0]="ERROR_CORRECTION",X[X.CHARACTER_SET=1]="CHARACTER_SET",X[X.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",X[X.MIN_SIZE=3]="MIN_SIZE",X[X.MAX_SIZE=4]="MAX_SIZE",X[X.MARGIN=5]="MARGIN",X[X.PDF417_COMPACT=6]="PDF417_COMPACT",X[X.PDF417_COMPACTION=7]="PDF417_COMPACTION",X[X.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",X[X.AZTEC_LAYERS=9]="AZTEC_LAYERS",X[X.QR_VERSION=10]="QR_VERSION"})(em||(em={}));var Jn=em;class tm{constructor(l){this.field=l,this.cachedGenerators=[],this.cachedGenerators.push(new Ce(l,Int32Array.from([1])))}buildGenerator(l){const f=this.cachedGenerators;if(l>=f.length){let m=f[f.length-1];const y=this.field;for(let x=f.length;x<=l;x++){const _=m.multiply(new Ce(y,Int32Array.from([1,y.exp(x-1+y.getGeneratorBase())])));f.push(_),m=_}}return f[l]}encode(l,f){if(f===0)throw new v("No error correction bytes");const m=l.length-f;if(m<=0)throw new v("No data bytes provided");const y=this.buildGenerator(f),x=new Int32Array(m);C.arraycopy(l,0,x,0,m);let _=new Ce(this.field,x);_=_.multiplyByMonomial(f,1);const T=_.divide(y)[1].getCoefficients(),L=f-T.length;for(let H=0;H<L;H++)l[m+H]=0;C.arraycopy(T,0,l,m+L,T.length)}}class fn{constructor(){}static applyMaskPenaltyRule1(l){return fn.applyMaskPenaltyRule1Internal(l,!0)+fn.applyMaskPenaltyRule1Internal(l,!1)}static applyMaskPenaltyRule2(l){let f=0;const m=l.getArray(),y=l.getWidth(),x=l.getHeight();for(let _=0;_<x-1;_++){const j=m[_];for(let T=0;T<y-1;T++){const L=j[T];L===j[T+1]&&L===m[_+1][T]&&L===m[_+1][T+1]&&f++}}return fn.N2*f}static applyMaskPenaltyRule3(l){let f=0;const m=l.getArray(),y=l.getWidth(),x=l.getHeight();for(let _=0;_<x;_++)for(let j=0;j<y;j++){const T=m[_];j+6<y&&T[j]===1&&T[j+1]===0&&T[j+2]===1&&T[j+3]===1&&T[j+4]===1&&T[j+5]===0&&T[j+6]===1&&(fn.isWhiteHorizontal(T,j-4,j)||fn.isWhiteHorizontal(T,j+7,j+11))&&f++,_+6<x&&m[_][j]===1&&m[_+1][j]===0&&m[_+2][j]===1&&m[_+3][j]===1&&m[_+4][j]===1&&m[_+5][j]===0&&m[_+6][j]===1&&(fn.isWhiteVertical(m,j,_-4,_)||fn.isWhiteVertical(m,j,_+7,_+11))&&f++}return f*fn.N3}static isWhiteHorizontal(l,f,m){f=Math.max(f,0),m=Math.min(m,l.length);for(let y=f;y<m;y++)if(l[y]===1)return!1;return!0}static isWhiteVertical(l,f,m,y){m=Math.max(m,0),y=Math.min(y,l.length);for(let x=m;x<y;x++)if(l[x][f]===1)return!1;return!0}static applyMaskPenaltyRule4(l){let f=0;const m=l.getArray(),y=l.getWidth(),x=l.getHeight();for(let T=0;T<x;T++){const L=m[T];for(let H=0;H<y;H++)L[H]===1&&f++}const _=l.getHeight()*l.getWidth();return Math.floor(Math.abs(f*2-_)*10/_)*fn.N4}static getDataMaskBit(l,f,m){let y,x;switch(l){case 0:y=m+f&1;break;case 1:y=m&1;break;case 2:y=f%3;break;case 3:y=(m+f)%3;break;case 4:y=Math.floor(m/2)+Math.floor(f/3)&1;break;case 5:x=m*f,y=(x&1)+x%3;break;case 6:x=m*f,y=(x&1)+x%3&1;break;case 7:x=m*f,y=x%3+(m+f&1)&1;break;default:throw new v("Invalid mask pattern: "+l)}return y===0}static applyMaskPenaltyRule1Internal(l,f){let m=0;const y=f?l.getHeight():l.getWidth(),x=f?l.getWidth():l.getHeight(),_=l.getArray();for(let j=0;j<y;j++){let T=0,L=-1;for(let H=0;H<x;H++){const Z=f?_[j][H]:_[H][j];Z===L?T++:(T>=5&&(m+=fn.N1+(T-5)),T=1,L=Z)}T>=5&&(m+=fn.N1+(T-5))}return m}}fn.N1=3,fn.N2=3,fn.N3=40,fn.N4=10;class Dd{constructor(l,f){this.width=l,this.height=f;const m=new Array(f);for(let y=0;y!==f;y++)m[y]=new Uint8Array(l);this.bytes=m}getHeight(){return this.height}getWidth(){return this.width}get(l,f){return this.bytes[f][l]}getArray(){return this.bytes}setNumber(l,f,m){this.bytes[f][l]=m}setBoolean(l,f,m){this.bytes[f][l]=m?1:0}clear(l){for(const f of this.bytes)k.fill(f,l)}equals(l){if(!(l instanceof Dd))return!1;const f=l;if(this.width!==f.width||this.height!==f.height)return!1;for(let m=0,y=this.height;m<y;++m){const x=this.bytes[m],_=f.bytes[m];for(let j=0,T=this.width;j<T;++j)if(x[j]!==_[j])return!1}return!0}toString(){const l=new K;for(let f=0,m=this.height;f<m;++f){const y=this.bytes[f];for(let x=0,_=this.width;x<_;++x)switch(y[x]){case 0:l.append(" 0");break;case 1:l.append(" 1");break;default:l.append("  ");break}l.append(`
`)}return l.toString()}}class Ko{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const l=new K;return l.append(`<<
`),l.append(" mode: "),l.append(this.mode?this.mode.toString():"null"),l.append(`
 ecLevel: `),l.append(this.ecLevel?this.ecLevel.toString():"null"),l.append(`
 version: `),l.append(this.version?this.version.toString():"null"),l.append(`
 maskPattern: `),l.append(this.maskPattern.toString()),this.matrix?(l.append(`
 matrix:
`),l.append(this.matrix.toString())):l.append(`
 matrix: null
`),l.append(`>>
`),l.toString()}setMode(l){this.mode=l}setECLevel(l){this.ecLevel=l}setVersion(l){this.version=l}setMaskPattern(l){this.maskPattern=l}setMatrix(l){this.matrix=l}static isValidMaskPattern(l){return l>=0&&l<Ko.NUM_MASK_PATTERNS}}Ko.NUM_MASK_PATTERNS=8;class Qr extends h{}Qr.kind="WriterException";class qt{constructor(){}static clearMatrix(l){l.clear(255)}static buildMatrix(l,f,m,y,x){qt.clearMatrix(x),qt.embedBasicPatterns(m,x),qt.embedTypeInfo(f,y,x),qt.maybeEmbedVersionInfo(m,x),qt.embedDataBits(l,y,x)}static embedBasicPatterns(l,f){qt.embedPositionDetectionPatternsAndSeparators(f),qt.embedDarkDotAtLeftBottomCorner(f),qt.maybeEmbedPositionAdjustmentPatterns(l,f),qt.embedTimingPatterns(f)}static embedTypeInfo(l,f,m){const y=new F;qt.makeTypeInfoBits(l,f,y);for(let x=0,_=y.getSize();x<_;++x){const j=y.get(y.getSize()-1-x),T=qt.TYPE_INFO_COORDINATES[x],L=T[0],H=T[1];if(m.setBoolean(L,H,j),x<8){const Z=m.getWidth()-x-1;m.setBoolean(Z,8,j)}else{const re=m.getHeight()-7+(x-8);m.setBoolean(8,re,j)}}}static maybeEmbedVersionInfo(l,f){if(l.getVersionNumber()<7)return;const m=new F;qt.makeVersionInfoBits(l,m);let y=17;for(let x=0;x<6;++x)for(let _=0;_<3;++_){const j=m.get(y);y--,f.setBoolean(x,f.getHeight()-11+_,j),f.setBoolean(f.getHeight()-11+_,x,j)}}static embedDataBits(l,f,m){let y=0,x=-1,_=m.getWidth()-1,j=m.getHeight()-1;for(;_>0;){for(_===6&&(_-=1);j>=0&&j<m.getHeight();){for(let T=0;T<2;++T){const L=_-T;if(!qt.isEmpty(m.get(L,j)))continue;let H;y<l.getSize()?(H=l.get(y),++y):H=!1,f!==255&&fn.getDataMaskBit(f,L,j)&&(H=!H),m.setBoolean(L,j,H)}j+=x}x=-x,j+=x,_-=2}if(y!==l.getSize())throw new Qr("Not all bits consumed: "+y+"/"+l.getSize())}static findMSBSet(l){return 32-I.numberOfLeadingZeros(l)}static calculateBCHCode(l,f){if(f===0)throw new v("0 polynomial");const m=qt.findMSBSet(f);for(l<<=m-1;qt.findMSBSet(l)>=m;)l^=f<<qt.findMSBSet(l)-m;return l}static makeTypeInfoBits(l,f,m){if(!Ko.isValidMaskPattern(f))throw new Qr("Invalid mask pattern");const y=l.getBits()<<3|f;m.appendBits(y,5);const x=qt.calculateBCHCode(y,qt.TYPE_INFO_POLY);m.appendBits(x,10);const _=new F;if(_.appendBits(qt.TYPE_INFO_MASK_PATTERN,15),m.xor(_),m.getSize()!==15)throw new Qr("should not happen but we got: "+m.getSize())}static makeVersionInfoBits(l,f){f.appendBits(l.getVersionNumber(),6);const m=qt.calculateBCHCode(l.getVersionNumber(),qt.VERSION_INFO_POLY);if(f.appendBits(m,12),f.getSize()!==18)throw new Qr("should not happen but we got: "+f.getSize())}static isEmpty(l){return l===255}static embedTimingPatterns(l){for(let f=8;f<l.getWidth()-8;++f){const m=(f+1)%2;qt.isEmpty(l.get(f,6))&&l.setNumber(f,6,m),qt.isEmpty(l.get(6,f))&&l.setNumber(6,f,m)}}static embedDarkDotAtLeftBottomCorner(l){if(l.get(8,l.getHeight()-8)===0)throw new Qr;l.setNumber(8,l.getHeight()-8,1)}static embedHorizontalSeparationPattern(l,f,m){for(let y=0;y<8;++y){if(!qt.isEmpty(m.get(l+y,f)))throw new Qr;m.setNumber(l+y,f,0)}}static embedVerticalSeparationPattern(l,f,m){for(let y=0;y<7;++y){if(!qt.isEmpty(m.get(l,f+y)))throw new Qr;m.setNumber(l,f+y,0)}}static embedPositionAdjustmentPattern(l,f,m){for(let y=0;y<5;++y){const x=qt.POSITION_ADJUSTMENT_PATTERN[y];for(let _=0;_<5;++_)m.setNumber(l+_,f+y,x[_])}}static embedPositionDetectionPattern(l,f,m){for(let y=0;y<7;++y){const x=qt.POSITION_DETECTION_PATTERN[y];for(let _=0;_<7;++_)m.setNumber(l+_,f+y,x[_])}}static embedPositionDetectionPatternsAndSeparators(l){const f=qt.POSITION_DETECTION_PATTERN[0].length;qt.embedPositionDetectionPattern(0,0,l),qt.embedPositionDetectionPattern(l.getWidth()-f,0,l),qt.embedPositionDetectionPattern(0,l.getWidth()-f,l);const m=8;qt.embedHorizontalSeparationPattern(0,m-1,l),qt.embedHorizontalSeparationPattern(l.getWidth()-m,m-1,l),qt.embedHorizontalSeparationPattern(0,l.getWidth()-m,l);const y=7;qt.embedVerticalSeparationPattern(y,0,l),qt.embedVerticalSeparationPattern(l.getHeight()-y-1,0,l),qt.embedVerticalSeparationPattern(y,l.getHeight()-y,l)}static maybeEmbedPositionAdjustmentPatterns(l,f){if(l.getVersionNumber()<2)return;const m=l.getVersionNumber()-1,y=qt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[m];for(let x=0,_=y.length;x!==_;x++){const j=y[x];if(j>=0)for(let T=0;T!==_;T++){const L=y[T];L>=0&&qt.isEmpty(f.get(L,j))&&qt.embedPositionAdjustmentPattern(L-2,j-2,f)}}}}qt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),qt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),qt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),qt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),qt.VERSION_INFO_POLY=7973,qt.TYPE_INFO_POLY=1335,qt.TYPE_INFO_MASK_PATTERN=21522;class hw{constructor(l,f){this.dataBytes=l,this.errorCorrectionBytes=f}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class nn{constructor(){}static calculateMaskPenalty(l){return fn.applyMaskPenaltyRule1(l)+fn.applyMaskPenaltyRule2(l)+fn.applyMaskPenaltyRule3(l)+fn.applyMaskPenaltyRule4(l)}static encode(l,f,m=null){let y=nn.DEFAULT_BYTE_MODE_ENCODING;const x=m!==null&&m.get(Jn.CHARACTER_SET)!==void 0;x&&(y=m.get(Jn.CHARACTER_SET).toString());const _=this.chooseMode(l,y),j=new F;if(_===Ut.BYTE&&(x||nn.DEFAULT_BYTE_MODE_ENCODING!==y)){const it=z.getCharacterSetECIByName(y);it!==void 0&&this.appendECI(it,j)}this.appendModeInfo(_,j);const T=new F;this.appendBytes(l,_,T,y);let L;if(m!==null&&m.get(Jn.QR_VERSION)!==void 0){const it=Number.parseInt(m.get(Jn.QR_VERSION).toString(),10);L=Lt.getVersionForNumber(it);const Je=this.calculateBitsNeeded(_,j,T,L);if(!this.willFit(Je,L,f))throw new Qr("Data too big for requested version")}else L=this.recommendVersion(f,_,j,T);const H=new F;H.appendBitArray(j);const Z=_===Ut.BYTE?T.getSizeInBytes():l.length;this.appendLengthInfo(Z,L,_,H),H.appendBitArray(T);const re=L.getECBlocksForLevel(f),ce=L.getTotalCodewords()-re.getTotalECCodewords();this.terminateBits(ce,H);const pe=this.interleaveWithECBytes(H,L.getTotalCodewords(),ce,re.getNumBlocks()),ve=new Ko;ve.setECLevel(f),ve.setMode(_),ve.setVersion(L);const Ae=L.getDimensionForVersion(),Me=new Dd(Ae,Ae),nt=this.chooseMaskPattern(pe,f,L,Me);return ve.setMaskPattern(nt),qt.buildMatrix(pe,f,L,nt,Me),ve.setMatrix(Me),ve}static recommendVersion(l,f,m,y){const x=this.calculateBitsNeeded(f,m,y,Lt.getVersionForNumber(1)),_=this.chooseVersion(x,l),j=this.calculateBitsNeeded(f,m,y,_);return this.chooseVersion(j,l)}static calculateBitsNeeded(l,f,m,y){return f.getSize()+l.getCharacterCountBits(y)+m.getSize()}static getAlphanumericCode(l){return l<nn.ALPHANUMERIC_TABLE.length?nn.ALPHANUMERIC_TABLE[l]:-1}static chooseMode(l,f=null){if(z.SJIS.getName()===f&&this.isOnlyDoubleByteKanji(l))return Ut.KANJI;let m=!1,y=!1;for(let x=0,_=l.length;x<_;++x){const j=l.charAt(x);if(nn.isDigit(j))m=!0;else if(this.getAlphanumericCode(j.charCodeAt(0))!==-1)y=!0;else return Ut.BYTE}return y?Ut.ALPHANUMERIC:m?Ut.NUMERIC:Ut.BYTE}static isOnlyDoubleByteKanji(l){let f;try{f=W.encode(l,z.SJIS)}catch{return!1}const m=f.length;if(m%2!==0)return!1;for(let y=0;y<m;y+=2){const x=f[y]&255;if((x<129||x>159)&&(x<224||x>235))return!1}return!0}static chooseMaskPattern(l,f,m,y){let x=Number.MAX_SAFE_INTEGER,_=-1;for(let j=0;j<Ko.NUM_MASK_PATTERNS;j++){qt.buildMatrix(l,f,m,j,y);let T=this.calculateMaskPenalty(y);T<x&&(x=T,_=j)}return _}static chooseVersion(l,f){for(let m=1;m<=40;m++){const y=Lt.getVersionForNumber(m);if(nn.willFit(l,y,f))return y}throw new Qr("Data too big")}static willFit(l,f,m){const y=f.getTotalCodewords(),_=f.getECBlocksForLevel(m).getTotalECCodewords(),j=y-_,T=(l+7)/8;return j>=T}static terminateBits(l,f){const m=l*8;if(f.getSize()>m)throw new Qr("data bits cannot fit in the QR Code"+f.getSize()+" > "+m);for(let _=0;_<4&&f.getSize()<m;++_)f.appendBit(!1);const y=f.getSize()&7;if(y>0)for(let _=y;_<8;_++)f.appendBit(!1);const x=l-f.getSizeInBytes();for(let _=0;_<x;++_)f.appendBits((_&1)===0?236:17,8);if(f.getSize()!==m)throw new Qr("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(l,f,m,y,x,_){if(y>=m)throw new Qr("Block ID too large");const j=l%m,T=m-j,L=Math.floor(l/m),H=L+1,Z=Math.floor(f/m),re=Z+1,ce=L-Z,pe=H-re;if(ce!==pe)throw new Qr("EC bytes mismatch");if(m!==T+j)throw new Qr("RS blocks mismatch");if(l!==(Z+ce)*T+(re+pe)*j)throw new Qr("Total bytes mismatch");y<T?(x[0]=Z,_[0]=ce):(x[0]=re,_[0]=pe)}static interleaveWithECBytes(l,f,m,y){if(l.getSizeInBytes()!==m)throw new Qr("Number of bits and data bytes does not match");let x=0,_=0,j=0;const T=new Array;for(let H=0;H<y;++H){const Z=new Int32Array(1),re=new Int32Array(1);nn.getNumDataBytesAndNumECBytesForBlockID(f,m,y,H,Z,re);const ce=Z[0],pe=new Uint8Array(ce);l.toBytes(8*x,pe,0,ce);const ve=nn.generateECBytes(pe,re[0]);T.push(new hw(pe,ve)),_=Math.max(_,ce),j=Math.max(j,ve.length),x+=Z[0]}if(m!==x)throw new Qr("Data bytes does not match offset");const L=new F;for(let H=0;H<_;++H)for(const Z of T){const re=Z.getDataBytes();H<re.length&&L.appendBits(re[H],8)}for(let H=0;H<j;++H)for(const Z of T){const re=Z.getErrorCorrectionBytes();H<re.length&&L.appendBits(re[H],8)}if(f!==L.getSizeInBytes())throw new Qr("Interleaving error: "+f+" and "+L.getSizeInBytes()+" differ.");return L}static generateECBytes(l,f){const m=l.length,y=new Int32Array(m+f);for(let _=0;_<m;_++)y[_]=l[_]&255;new tm(He.QR_CODE_FIELD_256).encode(y,f);const x=new Uint8Array(f);for(let _=0;_<f;_++)x[_]=y[m+_];return x}static appendModeInfo(l,f){f.appendBits(l.getBits(),4)}static appendLengthInfo(l,f,m,y){const x=m.getCharacterCountBits(f);if(l>=1<<x)throw new Qr(l+" is bigger than "+((1<<x)-1));y.appendBits(l,x)}static appendBytes(l,f,m,y){switch(f){case Ut.NUMERIC:nn.appendNumericBytes(l,m);break;case Ut.ALPHANUMERIC:nn.appendAlphanumericBytes(l,m);break;case Ut.BYTE:nn.append8BitBytes(l,m,y);break;case Ut.KANJI:nn.appendKanjiBytes(l,m);break;default:throw new Qr("Invalid mode: "+f)}}static getDigit(l){return l.charCodeAt(0)-48}static isDigit(l){const f=nn.getDigit(l);return f>=0&&f<=9}static appendNumericBytes(l,f){const m=l.length;let y=0;for(;y<m;){const x=nn.getDigit(l.charAt(y));if(y+2<m){const _=nn.getDigit(l.charAt(y+1)),j=nn.getDigit(l.charAt(y+2));f.appendBits(x*100+_*10+j,10),y+=3}else if(y+1<m){const _=nn.getDigit(l.charAt(y+1));f.appendBits(x*10+_,7),y+=2}else f.appendBits(x,4),y++}}static appendAlphanumericBytes(l,f){const m=l.length;let y=0;for(;y<m;){const x=nn.getAlphanumericCode(l.charCodeAt(y));if(x===-1)throw new Qr;if(y+1<m){const _=nn.getAlphanumericCode(l.charCodeAt(y+1));if(_===-1)throw new Qr;f.appendBits(x*45+_,11),y+=2}else f.appendBits(x,6),y++}}static append8BitBytes(l,f,m){let y;try{y=W.encode(l,m)}catch(x){throw new Qr(x)}for(let x=0,_=y.length;x!==_;x++){const j=y[x];f.appendBits(j,8)}}static appendKanjiBytes(l,f){let m;try{m=W.encode(l,z.SJIS)}catch(x){throw new Qr(x)}const y=m.length;for(let x=0;x<y;x+=2){const _=m[x]&255,j=m[x+1]&255,T=_<<8&4294967295|j;let L=-1;if(T>=33088&&T<=40956?L=T-33088:T>=57408&&T<=60351&&(L=T-49472),L===-1)throw new Qr("Invalid byte sequence");const H=(L>>8)*192+(L&255);f.appendBits(H,13)}}static appendECI(l,f){f.appendBits(Ut.ECI.getBits(),4),f.appendBits(l.getValue(),8)}}nn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),nn.DEFAULT_BYTE_MODE_ENCODING=z.UTF8.getName();class Yo{write(l,f,m,y=null){if(l.length===0)throw new v("Found empty contents");if(f<0||m<0)throw new v("Requested dimensions are too small: "+f+"x"+m);let x=Yr.L,_=Yo.QUIET_ZONE_SIZE;y!==null&&(y.get(Jn.ERROR_CORRECTION)!==void 0&&(x=Yr.fromString(y.get(Jn.ERROR_CORRECTION).toString())),y.get(Jn.MARGIN)!==void 0&&(_=Number.parseInt(y.get(Jn.MARGIN).toString(),10)));const j=nn.encode(l,x,y);return this.renderResult(j,f,m,_)}writeToDom(l,f,m,y,x=null){typeof l=="string"&&(l=document.querySelector(l));const _=this.write(f,m,y,x);l&&l.appendChild(_)}renderResult(l,f,m,y){const x=l.getMatrix();if(x===null)throw new Ge;const _=x.getWidth(),j=x.getHeight(),T=_+y*2,L=j+y*2,H=Math.max(f,T),Z=Math.max(m,L),re=Math.min(Math.floor(H/T),Math.floor(Z/L)),ce=Math.floor((H-_*re)/2),pe=Math.floor((Z-j*re)/2),ve=this.createSVGElement(H,Z);for(let Ae=0,Me=pe;Ae<j;Ae++,Me+=re)for(let nt=0,it=ce;nt<_;nt++,it+=re)if(x.get(nt,Ae)===1){const Je=this.createSvgRectElement(it,Me,re,re);ve.appendChild(Je)}return ve}createSVGElement(l,f){const m=document.createElementNS(Yo.SVG_NS,"svg");return m.setAttributeNS(null,"height",l.toString()),m.setAttributeNS(null,"width",f.toString()),m}createSvgRectElement(l,f,m,y){const x=document.createElementNS(Yo.SVG_NS,"rect");return x.setAttributeNS(null,"x",l.toString()),x.setAttributeNS(null,"y",f.toString()),x.setAttributeNS(null,"height",m.toString()),x.setAttributeNS(null,"width",y.toString()),x.setAttributeNS(null,"fill","#000000"),x}}Yo.QUIET_ZONE_SIZE=4,Yo.SVG_NS="http://www.w3.org/2000/svg";class Hl{encode(l,f,m,y,x){if(l.length===0)throw new v("Found empty contents");if(f!==Pe.QR_CODE)throw new v("Can only encode QR_CODE, but got "+f);if(m<0||y<0)throw new v(`Requested dimensions are too small: ${m}x${y}`);let _=Yr.L,j=Hl.QUIET_ZONE_SIZE;x!==null&&(x.get(Jn.ERROR_CORRECTION)!==void 0&&(_=Yr.fromString(x.get(Jn.ERROR_CORRECTION).toString())),x.get(Jn.MARGIN)!==void 0&&(j=Number.parseInt(x.get(Jn.MARGIN).toString(),10)));const T=nn.encode(l,_,x);return Hl.renderResult(T,m,y,j)}static renderResult(l,f,m,y){const x=l.getMatrix();if(x===null)throw new Ge;const _=x.getWidth(),j=x.getHeight(),T=_+y*2,L=j+y*2,H=Math.max(f,T),Z=Math.max(m,L),re=Math.min(Math.floor(H/T),Math.floor(Z/L)),ce=Math.floor((H-_*re)/2),pe=Math.floor((Z-j*re)/2),ve=new q(H,Z);for(let Ae=0,Me=pe;Ae<j;Ae++,Me+=re)for(let nt=0,it=ce;nt<_;nt++,it+=re)x.get(nt,Ae)===1&&ve.setRegion(it,Me,re,re);return ve}}Hl.QUIET_ZONE_SIZE=4;class mw{encode(l,f,m,y,x){let _;switch(f){case Pe.QR_CODE:_=new Hl;break;default:throw new v("No encoder available for format "+f)}return _.encode(l,f,m,y,x)}}class ga extends te{constructor(l,f,m,y,x,_,j,T){if(super(_,j),this.yuvData=l,this.dataWidth=f,this.dataHeight=m,this.left=y,this.top=x,y+_>f||x+j>m)throw new v("Crop rectangle does not fit within image data.");T&&this.reverseHorizontal(_,j)}getRow(l,f){if(l<0||l>=this.getHeight())throw new v("Requested row is outside the image: "+l);const m=this.getWidth();(f==null||f.length<m)&&(f=new Uint8ClampedArray(m));const y=(l+this.top)*this.dataWidth+this.left;return C.arraycopy(this.yuvData,y,f,0,m),f}getMatrix(){const l=this.getWidth(),f=this.getHeight();if(l===this.dataWidth&&f===this.dataHeight)return this.yuvData;const m=l*f,y=new Uint8ClampedArray(m);let x=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return C.arraycopy(this.yuvData,x,y,0,m),y;for(let _=0;_<f;_++){const j=_*l;C.arraycopy(this.yuvData,x,y,j,l),x+=this.dataWidth}return y}isCropSupported(){return!0}crop(l,f,m,y){return new ga(this.yuvData,this.dataWidth,this.dataHeight,this.left+l,this.top+f,m,y,!1)}renderThumbnail(){const l=this.getWidth()/ga.THUMBNAIL_SCALE_FACTOR,f=this.getHeight()/ga.THUMBNAIL_SCALE_FACTOR,m=new Int32Array(l*f),y=this.yuvData;let x=this.top*this.dataWidth+this.left;for(let _=0;_<f;_++){const j=_*l;for(let T=0;T<l;T++){const L=y[x+T*ga.THUMBNAIL_SCALE_FACTOR]&255;m[j+T]=4278190080|L*65793}x+=this.dataWidth*ga.THUMBNAIL_SCALE_FACTOR}return m}getThumbnailWidth(){return this.getWidth()/ga.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/ga.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(l,f){const m=this.yuvData;for(let y=0,x=this.top*this.dataWidth+this.left;y<f;y++,x+=this.dataWidth){const _=x+l/2;for(let j=x,T=x+l-1;j<_;j++,T--){const L=m[j];m[j]=m[T],m[T]=L}}}invert(){return new Q(this)}}ga.THUMBNAIL_SCALE_FACTOR=2;class ou extends te{constructor(l,f,m,y,x,_,j){if(super(f,m),this.dataWidth=y,this.dataHeight=x,this.left=_,this.top=j,l.BYTES_PER_ELEMENT===4){const T=f*m,L=new Uint8ClampedArray(T);for(let H=0;H<T;H++){const Z=l[H],re=Z>>16&255,ce=Z>>7&510,pe=Z&255;L[H]=(re+ce+pe)/4&255}this.luminances=L}else this.luminances=l;if(y===void 0&&(this.dataWidth=f),x===void 0&&(this.dataHeight=m),_===void 0&&(this.left=0),j===void 0&&(this.top=0),this.left+f>this.dataWidth||this.top+m>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(l,f){if(l<0||l>=this.getHeight())throw new v("Requested row is outside the image: "+l);const m=this.getWidth();(f==null||f.length<m)&&(f=new Uint8ClampedArray(m));const y=(l+this.top)*this.dataWidth+this.left;return C.arraycopy(this.luminances,y,f,0,m),f}getMatrix(){const l=this.getWidth(),f=this.getHeight();if(l===this.dataWidth&&f===this.dataHeight)return this.luminances;const m=l*f,y=new Uint8ClampedArray(m);let x=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return C.arraycopy(this.luminances,x,y,0,m),y;for(let _=0;_<f;_++){const j=_*l;C.arraycopy(this.luminances,x,y,j,l),x+=this.dataWidth}return y}isCropSupported(){return!0}crop(l,f,m,y){return new ou(this.luminances,m,y,this.dataWidth,this.dataHeight,this.left+l,this.top+f)}invert(){return new Q(this)}}class o0 extends z{static forName(l){return this.getCharacterSetECIByName(l)}}class rm{}rm.ISO_8859_1=z.ISO8859_1;class l0{isCompact(){return this.compact}setCompact(l){this.compact=l}getSize(){return this.size}setSize(l){this.size=l}getLayers(){return this.layers}setLayers(l){this.layers=l}getCodeWords(){return this.codeWords}setCodeWords(l){this.codeWords=l}getMatrix(){return this.matrix}setMatrix(l){this.matrix=l}}class nm{static singletonList(l){return[l]}static min(l,f){return l.sort(f)[0]}}class pw{constructor(l){this.previous=l}getPrevious(){return this.previous}}class Gl extends pw{constructor(l,f,m){super(l),this.value=f,this.bitCount=m}appendTo(l,f){l.appendBits(this.value,this.bitCount)}add(l,f){return new Gl(this,l,f)}addBinaryShift(l,f){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Gl(this,l,f)}toString(){let l=this.value&(1<<this.bitCount)-1;return l|=1<<this.bitCount,"<"+I.toBinaryString(l|1<<this.bitCount).substring(1)+">"}}class im extends Gl{constructor(l,f,m){super(l,0,0),this.binaryShiftStart=f,this.binaryShiftByteCount=m}appendTo(l,f){for(let m=0;m<this.binaryShiftByteCount;m++)(m===0||m===31&&this.binaryShiftByteCount<=62)&&(l.appendBits(31,5),this.binaryShiftByteCount>62?l.appendBits(this.binaryShiftByteCount-31,16):m===0?l.appendBits(Math.min(this.binaryShiftByteCount,31),5):l.appendBits(this.binaryShiftByteCount-31,5)),l.appendBits(f[this.binaryShiftStart+m],8)}addBinaryShift(l,f){return new im(this,l,f)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function gw(X,l,f){return new im(X,l,f)}function lu(X,l,f){return new Gl(X,l,f)}const vw=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],xo=0,Kl=1,Ni=2,c0=3,zs=4,u0=new Gl(null,0,0),Ld=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function d0(X){for(let l of X)k.fill(l,-1);return X[xo][zs]=0,X[Kl][zs]=0,X[Kl][xo]=28,X[c0][zs]=0,X[Ni][zs]=0,X[Ni][xo]=15,X}const sm=d0(k.createInt32Array(6,6));class Di{constructor(l,f,m,y){this.token=l,this.mode=f,this.binaryShiftByteCount=m,this.bitCount=y}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(l,f){let m=this.bitCount,y=this.token;if(l!==this.mode){let _=Ld[this.mode][l];y=lu(y,_&65535,_>>16),m+=_>>16}let x=l===Ni?4:5;return y=lu(y,f,x),new Di(y,l,0,m+x)}shiftAndAppend(l,f){let m=this.token,y=this.mode===Ni?4:5;return m=lu(m,sm[this.mode][l],y),m=lu(m,f,5),new Di(m,this.mode,0,this.bitCount+y+5)}addBinaryShiftChar(l){let f=this.token,m=this.mode,y=this.bitCount;if(this.mode===zs||this.mode===Ni){let j=Ld[m][xo];f=lu(f,j&65535,j>>16),y+=j>>16,m=xo}let x=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,_=new Di(f,m,this.binaryShiftByteCount+1,y+x);return _.binaryShiftByteCount===2078&&(_=_.endBinaryShift(l+1)),_}endBinaryShift(l){if(this.binaryShiftByteCount===0)return this;let f=this.token;return f=gw(f,l-this.binaryShiftByteCount,this.binaryShiftByteCount),new Di(f,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(l){let f=this.bitCount+(Ld[this.mode][l.mode]>>16);return this.binaryShiftByteCount<l.binaryShiftByteCount?f+=Di.calculateBinaryShiftCost(l)-Di.calculateBinaryShiftCost(this):this.binaryShiftByteCount>l.binaryShiftByteCount&&l.binaryShiftByteCount>0&&(f+=10),f<=l.bitCount}toBitArray(l){let f=[];for(let y=this.endBinaryShift(l.length).token;y!==null;y=y.getPrevious())f.unshift(y);let m=new F;for(const y of f)y.appendTo(m,l);return m}toString(){return V.format("%s bits=%d bytes=%d",vw[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(l){return l.binaryShiftByteCount>62?21:l.binaryShiftByteCount>31?20:l.binaryShiftByteCount>0?10:0}}Di.INITIAL_STATE=new Di(u0,xo,0,0);function yw(X){const l=V.getCharCode(" "),f=V.getCharCode("."),m=V.getCharCode(",");X[xo][l]=1;const y=V.getCharCode("Z"),x=V.getCharCode("A");for(let re=x;re<=y;re++)X[xo][re]=re-x+2;X[Kl][l]=1;const _=V.getCharCode("z"),j=V.getCharCode("a");for(let re=j;re<=_;re++)X[Kl][re]=re-j+2;X[Ni][l]=1;const T=V.getCharCode("9"),L=V.getCharCode("0");for(let re=L;re<=T;re++)X[Ni][re]=re-L+2;X[Ni][m]=12,X[Ni][f]=13;const H=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let re=0;re<H.length;re++)X[c0][V.getCharCode(H[re])]=re;const Z=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let re=0;re<Z.length;re++)V.getCharCode(Z[re])>0&&(X[zs][V.getCharCode(Z[re])]=re);return X}const am=yw(k.createInt32Array(5,256));class cu{constructor(l){this.text=l}encode(){const l=V.getCharCode(" "),f=V.getCharCode(`
`);let m=nm.singletonList(Di.INITIAL_STATE);for(let x=0;x<this.text.length;x++){let _,j=x+1<this.text.length?this.text[x+1]:0;switch(this.text[x]){case V.getCharCode("\r"):_=j===f?2:0;break;case V.getCharCode("."):_=j===l?3:0;break;case V.getCharCode(","):_=j===l?4:0;break;case V.getCharCode(":"):_=j===l?5:0;break;default:_=0}_>0?(m=cu.updateStateListForPair(m,x,_),x++):m=this.updateStateListForChar(m,x)}return nm.min(m,(x,_)=>x.getBitCount()-_.getBitCount()).toBitArray(this.text)}updateStateListForChar(l,f){const m=[];for(let y of l)this.updateStateForChar(y,f,m);return cu.simplifyStates(m)}updateStateForChar(l,f,m){let y=this.text[f]&255,x=am[l.getMode()][y]>0,_=null;for(let j=0;j<=zs;j++){let T=am[j][y];if(T>0){if(_==null&&(_=l.endBinaryShift(f)),!x||j===l.getMode()||j===Ni){const L=_.latchAndAppend(j,T);m.push(L)}if(!x&&sm[l.getMode()][j]>=0){const L=_.shiftAndAppend(j,T);m.push(L)}}}if(l.getBinaryShiftByteCount()>0||am[l.getMode()][y]===0){let j=l.addBinaryShiftChar(f);m.push(j)}}static updateStateListForPair(l,f,m){const y=[];for(let x of l)this.updateStateForPair(x,f,m,y);return this.simplifyStates(y)}static updateStateForPair(l,f,m,y){let x=l.endBinaryShift(f);if(y.push(x.latchAndAppend(zs,m)),l.getMode()!==zs&&y.push(x.shiftAndAppend(zs,m)),m===3||m===4){let _=x.latchAndAppend(Ni,16-m).latchAndAppend(Ni,1);y.push(_)}if(l.getBinaryShiftByteCount()>0){let _=l.addBinaryShiftChar(f).addBinaryShiftChar(f+1);y.push(_)}}static simplifyStates(l){let f=[];for(const m of l){let y=!0;for(const x of f){if(x.isBetterThanOrEqualTo(m)){y=!1;break}m.isBetterThanOrEqualTo(x)&&(f=f.filter(_=>_!==x))}y&&f.push(m)}return f}}class Rr{constructor(){}static encodeBytes(l){return Rr.encode(l,Rr.DEFAULT_EC_PERCENT,Rr.DEFAULT_AZTEC_LAYERS)}static encode(l,f,m){let y=new cu(l).encode(),x=I.truncDivision(y.getSize()*f,100)+11,_=y.getSize()+x,j,T,L,H,Z;if(m!==Rr.DEFAULT_AZTEC_LAYERS){if(j=m<0,T=Math.abs(m),T>(j?Rr.MAX_NB_BITS_COMPACT:Rr.MAX_NB_BITS))throw new v(V.format("Illegal value %s for layers",m));L=Rr.totalBitsInLayer(T,j),H=Rr.WORD_SIZE[T];let Je=L-L%H;if(Z=Rr.stuffBits(y,H),Z.getSize()+x>Je)throw new v("Data to large for user specified layer");if(j&&Z.getSize()>H*64)throw new v("Data to large for user specified layer")}else{H=0,Z=null;for(let Je=0;;Je++){if(Je>Rr.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(j=Je<=3,T=j?Je+1:Je,L=Rr.totalBitsInLayer(T,j),_>L)continue;(Z==null||H!==Rr.WORD_SIZE[T])&&(H=Rr.WORD_SIZE[T],Z=Rr.stuffBits(y,H));let jr=L-L%H;if(!(j&&Z.getSize()>H*64)&&Z.getSize()+x<=jr)break}}let re=Rr.generateCheckWords(Z,L,H),ce=Z.getSize()/H,pe=Rr.generateModeMessage(j,T,ce),ve=(j?11:14)+T*4,Ae=new Int32Array(ve),Me;if(j){Me=ve;for(let Je=0;Je<Ae.length;Je++)Ae[Je]=Je}else{Me=ve+1+2*I.truncDivision(I.truncDivision(ve,2)-1,15);let Je=I.truncDivision(ve,2),jr=I.truncDivision(Me,2);for(let lr=0;lr<Je;lr++){let Qi=lr+I.truncDivision(lr,15);Ae[Je-lr-1]=jr-Qi-1,Ae[Je+lr]=jr+Qi+1}}let nt=new q(Me);for(let Je=0,jr=0;Je<T;Je++){let lr=(T-Je)*4+(j?9:12);for(let Qi=0;Qi<lr;Qi++){let Ws=Qi*2;for(let ei=0;ei<2;ei++)re.get(jr+Ws+ei)&&nt.set(Ae[Je*2+ei],Ae[Je*2+Qi]),re.get(jr+lr*2+Ws+ei)&&nt.set(Ae[Je*2+Qi],Ae[ve-1-Je*2-ei]),re.get(jr+lr*4+Ws+ei)&&nt.set(Ae[ve-1-Je*2-ei],Ae[ve-1-Je*2-Qi]),re.get(jr+lr*6+Ws+ei)&&nt.set(Ae[ve-1-Je*2-Qi],Ae[Je*2+ei])}jr+=lr*8}if(Rr.drawModeMessage(nt,j,Me,pe),j)Rr.drawBullsEye(nt,I.truncDivision(Me,2),5);else{Rr.drawBullsEye(nt,I.truncDivision(Me,2),7);for(let Je=0,jr=0;Je<I.truncDivision(ve,2)-1;Je+=15,jr+=16)for(let lr=I.truncDivision(Me,2)&1;lr<Me;lr+=2)nt.set(I.truncDivision(Me,2)-jr,lr),nt.set(I.truncDivision(Me,2)+jr,lr),nt.set(lr,I.truncDivision(Me,2)-jr),nt.set(lr,I.truncDivision(Me,2)+jr)}let it=new l0;return it.setCompact(j),it.setSize(Me),it.setLayers(T),it.setCodeWords(ce),it.setMatrix(nt),it}static drawBullsEye(l,f,m){for(let y=0;y<m;y+=2)for(let x=f-y;x<=f+y;x++)l.set(x,f-y),l.set(x,f+y),l.set(f-y,x),l.set(f+y,x);l.set(f-m,f-m),l.set(f-m+1,f-m),l.set(f-m,f-m+1),l.set(f+m,f-m),l.set(f+m,f-m+1),l.set(f+m,f+m-1)}static generateModeMessage(l,f,m){let y=new F;return l?(y.appendBits(f-1,2),y.appendBits(m-1,6),y=Rr.generateCheckWords(y,28,4)):(y.appendBits(f-1,5),y.appendBits(m-1,11),y=Rr.generateCheckWords(y,40,4)),y}static drawModeMessage(l,f,m,y){let x=I.truncDivision(m,2);if(f)for(let _=0;_<7;_++){let j=x-3+_;y.get(_)&&l.set(j,x-5),y.get(_+7)&&l.set(x+5,j),y.get(20-_)&&l.set(j,x+5),y.get(27-_)&&l.set(x-5,j)}else for(let _=0;_<10;_++){let j=x-5+_+I.truncDivision(_,5);y.get(_)&&l.set(j,x-7),y.get(_+10)&&l.set(x+7,j),y.get(29-_)&&l.set(j,x+7),y.get(39-_)&&l.set(x-7,j)}}static generateCheckWords(l,f,m){let y=l.getSize()/m,x=new tm(Rr.getGF(m)),_=I.truncDivision(f,m),j=Rr.bitsToWords(l,m,_);x.encode(j,_-y);let T=f%m,L=new F;L.appendBits(0,T);for(const H of Array.from(j))L.appendBits(H,m);return L}static bitsToWords(l,f,m){let y=new Int32Array(m),x,_;for(x=0,_=l.getSize()/f;x<_;x++){let j=0;for(let T=0;T<f;T++)j|=l.get(x*f+T)?1<<f-T-1:0;y[x]=j}return y}static getGF(l){switch(l){case 4:return He.AZTEC_PARAM;case 6:return He.AZTEC_DATA_6;case 8:return He.AZTEC_DATA_8;case 10:return He.AZTEC_DATA_10;case 12:return He.AZTEC_DATA_12;default:throw new v("Unsupported word size "+l)}}static stuffBits(l,f){let m=new F,y=l.getSize(),x=(1<<f)-2;for(let _=0;_<y;_+=f){let j=0;for(let T=0;T<f;T++)(_+T>=y||l.get(_+T))&&(j|=1<<f-1-T);(j&x)===x?(m.appendBits(j&x,f),_--):(j&x)===0?(m.appendBits(j|1,f),_--):m.appendBits(j,f)}return m}static totalBitsInLayer(l,f){return((f?88:112)+16*l)*l}}Rr.DEFAULT_EC_PERCENT=33,Rr.DEFAULT_AZTEC_LAYERS=0,Rr.MAX_NB_BITS=32,Rr.MAX_NB_BITS_COMPACT=4,Rr.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class uu{encode(l,f,m,y){return this.encodeWithHints(l,f,m,y,null)}encodeWithHints(l,f,m,y,x){let _=rm.ISO_8859_1,j=Rr.DEFAULT_EC_PERCENT,T=Rr.DEFAULT_AZTEC_LAYERS;return x!=null&&(x.has(Jn.CHARACTER_SET)&&(_=o0.forName(x.get(Jn.CHARACTER_SET).toString())),x.has(Jn.ERROR_CORRECTION)&&(j=I.parseInt(x.get(Jn.ERROR_CORRECTION).toString())),x.has(Jn.AZTEC_LAYERS)&&(T=I.parseInt(x.get(Jn.AZTEC_LAYERS).toString()))),uu.encodeLayers(l,f,m,y,_,j,T)}static encodeLayers(l,f,m,y,x,_,j){if(f!==Pe.AZTEC)throw new v("Can only encode AZTEC, but got "+f);let T=Rr.encode(V.getBytes(l,x),_,j);return uu.renderResult(T,m,y)}static renderResult(l,f,m){let y=l.getMatrix();if(y==null)throw new Ge;let x=y.getWidth(),_=y.getHeight(),j=Math.max(f,x),T=Math.max(m,_),L=Math.min(j/x,T/_),H=(j-x*L)/2,Z=(T-_*L)/2,re=new q(j,T);for(let ce=0,pe=Z;ce<_;ce++,pe+=L)for(let ve=0,Ae=H;ve<x;ve++,Ae+=L)y.get(ve,ce)&&re.setRegion(Ae,pe,L,L);return re}}r.AbstractExpandedDecoder=Zn,r.ArgumentException=g,r.ArithmeticException=be,r.AztecCode=l0,r.AztecCodeReader=tn,r.AztecCodeWriter=uu,r.AztecDecoder=Ct,r.AztecDetector=an,r.AztecDetectorResult=Qe,r.AztecEncoder=Rr,r.AztecHighLevelEncoder=cu,r.AztecPoint=br,r.BarcodeFormat=Pe,r.Binarizer=A,r.BinaryBitmap=w,r.BitArray=F,r.BitMatrix=q,r.BitSource=Kh,r.BrowserAztecCodeReader=Es,r.BrowserBarcodeReader=e0,r.BrowserCodeReader=me,r.BrowserDatamatrixCodeReader=fw,r.BrowserMultiFormatReader=au,r.BrowserPDF417Reader=Md,r.BrowserQRCodeReader=a0,r.BrowserQRCodeSvgWriter=Yo,r.CharacterSetECI=z,r.ChecksumException=b,r.Code128Reader=tt,r.Code39Reader=Gr,r.DataMatrixDecodedBitStreamParser=$s,r.DataMatrixReader=Vs,r.DecodeHintType=D,r.DecoderResult=Ee,r.DefaultGridSampler=vt,r.DetectorResult=Ie,r.EAN13Reader=Yn,r.EncodeHintType=Jn,r.Exception=h,r.FormatException=R,r.GenericGF=He,r.GenericGFPoly=Ce,r.GlobalHistogramBinarizer=J,r.GridSampler=Ye,r.GridSamplerInstance=Ft,r.HTMLCanvasElementLuminanceSource=ue,r.HybridBinarizer=ne,r.ITFReader=gr,r.IllegalArgumentException=v,r.IllegalStateException=Ge,r.InvertedLuminanceSource=Q,r.LuminanceSource=te,r.MathUtils=dt,r.MultiFormatOneDReader=Ul,r.MultiFormatReader=Rd,r.MultiFormatWriter=mw,r.NotFoundException=Y,r.OneDReader=_r,r.PDF417DecodedBitStreamParser=De,r.PDF417DecoderErrorCorrection=Zh,r.PDF417Reader=gi,r.PDF417ResultMetadata=Pd,r.PerspectiveTransform=Xe,r.PlanarYUVLuminanceSource=ga,r.QRCodeByteMatrix=Dd,r.QRCodeDataMask=wr,r.QRCodeDecodedBitStreamParser=dn,r.QRCodeDecoderErrorCorrectionLevel=Yr,r.QRCodeDecoderFormatInformation=hi,r.QRCodeEncoder=nn,r.QRCodeEncoderQRCode=Ko,r.QRCodeMaskUtil=fn,r.QRCodeMatrixUtil=qt,r.QRCodeMode=Ut,r.QRCodeReader=Mi,r.QRCodeVersion=Lt,r.QRCodeWriter=Hl,r.RGBLuminanceSource=ou,r.RSS14Reader=on,r.RSSExpandedReader=Ve,r.ReaderException=Wl,r.ReedSolomonDecoder=gt,r.ReedSolomonEncoder=tm,r.ReedSolomonException=Te,r.Result=xe,r.ResultMetadataType=je,r.ResultPoint=he,r.StringUtils=V,r.UnsupportedOperationException=G,r.VideoInputDevice=ae,r.WhiteRectangleDetector=Ke,r.WriterException=Qr,r.ZXingArrays=k,r.ZXingCharset=o0,r.ZXingInteger=I,r.ZXingStandardCharsets=rm,r.ZXingStringBuilder=K,r.ZXingStringEncoding=W,r.ZXingSystem=C,r.createAbstractExpandedDecoder=Qg,Object.defineProperty(r,"__esModule",{value:!0})}))})(Jm,Jm.exports)),Jm.exports}var Cn=due();const fue=Ur(Cn),hue=vN({__proto__:null,default:fue},[Cn]);var t4=(function(){function t(e,r,n){if(this.formatMap=new Map([[xt.QR_CODE,Cn.BarcodeFormat.QR_CODE],[xt.AZTEC,Cn.BarcodeFormat.AZTEC],[xt.CODABAR,Cn.BarcodeFormat.CODABAR],[xt.CODE_39,Cn.BarcodeFormat.CODE_39],[xt.CODE_93,Cn.BarcodeFormat.CODE_93],[xt.CODE_128,Cn.BarcodeFormat.CODE_128],[xt.DATA_MATRIX,Cn.BarcodeFormat.DATA_MATRIX],[xt.MAXICODE,Cn.BarcodeFormat.MAXICODE],[xt.ITF,Cn.BarcodeFormat.ITF],[xt.EAN_13,Cn.BarcodeFormat.EAN_13],[xt.EAN_8,Cn.BarcodeFormat.EAN_8],[xt.PDF_417,Cn.BarcodeFormat.PDF_417],[xt.RSS_14,Cn.BarcodeFormat.RSS_14],[xt.RSS_EXPANDED,Cn.BarcodeFormat.RSS_EXPANDED],[xt.UPC_A,Cn.BarcodeFormat.UPC_A],[xt.UPC_E,Cn.BarcodeFormat.UPC_E],[xt.UPC_EAN_EXTENSION,Cn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!hue)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(e),s=new Map;s.set(Cn.DecodeHintType.POSSIBLE_FORMATS,i),s.set(Cn.DecodeHintType.TRY_HARDER,!1),this.hints=s}return t.prototype.decodeAsync=function(e){var r=this;return new Promise(function(n,i){try{n(r.decode(e))}catch(s){i(s)}})},t.prototype.decode=function(e){var r=new Cn.MultiFormatReader(this.verbose,this.hints),n=new Cn.HTMLCanvasElementLuminanceSource(e),i=new Cn.BinaryBitmap(new Cn.HybridBinarizer(n)),s=r.decode(i);return{text:s.text,format:yV.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,i){e.set(r,n)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var r=[],n=0,i=e;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return r},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t})(),mue=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function c(g){try{h(n.next(g))}catch(v){o(v)}}function u(g){try{h(n.throw(g))}catch(v){o(v)}}function h(g){g.done?s(g.value):i(g.value).then(c,u)}h((n=n.apply(t,e||[])).next())})},pue=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(h){return function(g){return u([h,g])}}function u(h){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(g){h=[6,g],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},r4=(function(){function t(e,r,n){if(this.formatMap=new Map([[xt.QR_CODE,"qr_code"],[xt.AZTEC,"aztec"],[xt.CODABAR,"codabar"],[xt.CODE_39,"code_39"],[xt.CODE_93,"code_93"],[xt.CODE_128,"code_128"],[xt.DATA_MATRIX,"data_matrix"],[xt.ITF,"itf"],[xt.EAN_13,"ean_13"],[xt.EAN_8,"ean_8"],[xt.PDF_417,"pdf417"],[xt.UPC_A,"upc_a"],[xt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return mue(this,void 0,void 0,function(){var r,n;return pue(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:yV.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var r=null,n=0,i=0,s=e;i<s.length;i++){var o=s[i],c=o.boundingBox.width*o.boundingBox.height;c>n&&(n=c,r=o)}if(!r)throw"No largest barcode found";return r},t.prototype.createBarcodeDetectorFormats=function(e){for(var r=[],n=0,i=e;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,i){e.set(r,n)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t})(),n4=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function c(g){try{h(n.next(g))}catch(v){o(v)}}function u(g){try{h(n.throw(g))}catch(v){o(v)}}function h(g){g.done?s(g.value):i(g.value).then(c,u)}h((n=n.apply(t,e||[])).next())})},i4=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(h){return function(g){return u([h,g])}}function u(h){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(g){h=[6,g],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},gue=(function(){function t(e,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&r4.isSupported()?(this.primaryDecoder=new r4(e,n,i),this.secondaryDecoder=new t4(e,n,i)):this.primaryDecoder=new t4(e,n,i)}return t.prototype.decodeAsync=function(e){return n4(this,void 0,void 0,function(){var r;return i4(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return n4(this,void 0,void 0,function(){var r,n;return i4(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var r=performance.now()-e;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];e+=i}var s=e/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t})(),WO=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Py=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function c(g){try{h(n.next(g))}catch(v){o(v)}}function u(g){try{h(n.throw(g))}catch(v){o(v)}}function h(g){g.done?s(g.value):i(g.value).then(c,u)}h((n=n.apply(t,e||[])).next())})},Iy=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(h){return function(g){return u([h,g])}}function u(h){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(g){h=[6,g],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},wV=(function(){function t(e,r){this.name=e,this.track=r}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var r={};r[this.name]=e;var n={advanced:[r]};return this.track.applyConstraints(n)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var r=e[this.name];return r}return null},t})(),vue=(function(t){WO(e,t);function e(r,n){return t.call(this,r,n)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(wV),yue=(function(t){WO(e,t);function e(r){return t.call(this,"zoom",r)||this}return e})(vue),xue=(function(t){WO(e,t);function e(r){return t.call(this,"torch",r)||this}return e})(wV),wue=(function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new yue(this.track)},t.prototype.torchFeature=function(){return new xue(this.track)},t})(),bue=(function(){function t(e,r,n){this.isClosed=!1,this.parentElement=e,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var r=document.createElement("video");return r.style.width="".concat(e,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(n,i),e.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,r,n,i){return Py(this,void 0,void 0,function(){var s,o;return Iy(this,function(c){switch(c.label){case 0:return s=new t(e,r,i),n.aspectRatio?(o={aspectRatio:n.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:c.sent(),c.label=2;case 2:return s.setupSurface(),[2,s]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var r=this,n=function(){setTimeout(e,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return Py(this,void 0,void 0,function(){return Iy(this,function(r){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(r,n){var i=e.mediaStream.getVideoTracks(),s=i.length,o=0;e.mediaStream.getVideoTracks().forEach(function(c){e.mediaStream.removeTrack(c),c.stop(),++o,o>=s&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),r())})})},t.prototype.getCapabilities=function(){return new wue(this.getFirstTrackOrFail())},t})(),_ue=(function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,r,n){return Py(this,void 0,void 0,function(){return Iy(this,function(i){return[2,bue.create(e,this.mediaStream,r,n)]})})},t.create=function(e){return Py(this,void 0,void 0,function(){var r,n;return Iy(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new t(n)]}})})},t})(),s4=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function c(g){try{h(n.next(g))}catch(v){o(v)}}function u(g){try{h(n.throw(g))}catch(v){o(v)}}function h(g){g.done?s(g.value):i(g.value).then(c,u)}h((n=n.apply(t,e||[])).next())})},a4=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(h){return function(g){return u([h,g])}}function u(h){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(g){h=[6,g],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Sue=(function(){function t(){}return t.failIfNotSupported=function(){return s4(this,void 0,void 0,function(){return a4(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return s4(this,void 0,void 0,function(){return a4(this,function(r){return[2,_ue.create(e)]})})},t})(),Cue=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function c(g){try{h(n.next(g))}catch(v){o(v)}}function u(g){try{h(n.throw(g))}catch(v){o(v)}}function h(g){g.done?s(g.value):i(g.value).then(c,u)}h((n=n.apply(t,e||[])).next())})},Eue=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(h){return function(g){return u([h,g])}}function u(h){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(g){h=[6,g],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Aue=(function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=_f.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=_f.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return Cue(this,void 0,void 0,function(){var e,r,n,i,s,o,c;return Eue(this,function(u){switch(u.label){case 0:return e=function(h){for(var g=h.getVideoTracks(),v=0,w=g;v<w.length;v++){var b=w[v];b.enabled=!1,b.stop(),h.removeTrack(b)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=u.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=u.sent(),i=[],s=0,o=n;s<o.length;s++)c=o[s],c.kind==="videoinput"&&i.push({id:c.deviceId,label:c.label});return e(r),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,r){var n=function(s){for(var o=[],c=0,u=s;c<u.length;c++){var h=u[c];h.kind==="video"&&o.push({id:h.id,label:h.label})}e(o)},i=MediaStreamTrack;i.getSources(n)})},t})(),zn;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(zn||(zn={}));var jue=(function(){function t(){this.state=zn.NOT_STARTED,this.onGoingTransactionNewState=zn.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===zn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=zn.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===zn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=zn.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==zn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case zn.UNKNOWN:throw"Transition from unknown is not allowed";case zn.NOT_STARTED:this.failIfNewStateIs(e,[zn.PAUSED]);break;case zn.SCANNING:break;case zn.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,r){for(var n=0,i=r;n<i.length;n++){var s=i[n];if(e===s)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t})(),Nue=(function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===zn.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==zn.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===zn.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===zn.PAUSED},t})(),Oue=(function(){function t(){}return t.create=function(){return new Nue(new jue)},t})(),Tue=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Xs=(function(t){Tue(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(oue),kue=(function(){function t(e,r){this.logger=r,this.fps=Xs.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Xs.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?xV.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!ul(this.qrbox)},t.create=function(e,r){return new t(e,r)},t})(),Pue=(function(){function t(e,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new cue(this.verbose),this.qrcode=new gue(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Oue.create()}return t.prototype.start=function(e,r,n,i){var s=this;if(!e)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;i?o=i:o=this.verbose?this.logger.log:function(){};var c=kue.create(r,this.logger);this.clearElement();var u=!1;c.videoConstraints&&(c.isMediaStreamConstraintsValid()?u=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var h=u,g=document.getElementById(this.elementId);g.clientWidth?g.clientWidth:Xs.DEFAULT_WIDTH,g.style.position="relative",this.shouldScan=!0,this.element=g;var v=this,w=this.stateManagerProxy.startTransition(zn.SCANNING);return new Promise(function(b,A){var C=h?c.videoConstraints:v.createVideoConstraints(e);if(!C){w.cancel(),A("videoConstraints should be defined");return}var E={};(!h||c.aspectRatio)&&(E.aspectRatio=c.aspectRatio);var P={onRenderSurfaceReady:function(k,I){v.setupUi(k,I,c),v.isScanning=!0,v.foreverScan(c,n,o)}};Sue.failIfNotSupported().then(function(k){k.create(C).then(function(I){return I.render(s.element,E,P).then(function(F){v.renderedCamera=F,w.execute(),b(null)}).catch(function(F){w.cancel(),A(F)})}).catch(function(I){w.cancel(),A(_f.errorGettingUserMedia(I))})}).catch(function(k){w.cancel(),A(_f.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(zn.PAUSED),this.showPausedState(),(ul(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,r=function(){e.stateManagerProxy.directTransition(zn.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(zn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(e.element){var s=document.getElementById(Xs.SHADED_REGION_ELEMENT_ID);s&&e.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,r){return this.scanFileV2(e,r).then(function(n){return n.decodedText})},t.prototype.scanFileV2=function(e,r){var n=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ul(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(e);var o=new Image;o.onload=function(){var c=o.width,u=o.height,h=document.getElementById(n.elementId),g=h.clientWidth?h.clientWidth:Xs.DEFAULT_WIDTH,v=Math.max(h.clientHeight?h.clientHeight:u,Xs.FILE_SCAN_MIN_HEIGHT),w=n.computeCanvasDrawConfig(c,u,g,v);if(r){var b=n.createCanvasElement(g,v,"qr-canvas-visible");b.style.display="inline-block",h.appendChild(b);var A=b.getContext("2d");if(!A)throw"Unable to get 2d context from canvas";A.canvas.width=g,A.canvas.height=v,A.drawImage(o,0,0,c,u,w.x,w.y,w.width,w.height)}var C=Xs.FILE_SCAN_HIDDEN_CANVAS_PADDING,E=Math.max(o.width,w.width),P=Math.max(o.height,w.height),k=E+2*C,I=P+2*C,F=n.createCanvasElement(k,I);h.appendChild(F);var M=F.getContext("2d");if(!M)throw"Unable to get 2d context from canvas";M.canvas.width=k,M.canvas.height=I,M.drawImage(o,0,0,c,u,C,C,E,P);try{n.qrcode.decodeRobustlyAsync(F).then(function(D){i(JR.createFromQrcodeResult(D))}).catch(s)}catch(D){s("QR code parse error, error = ".concat(D))}},o.onerror=s,o.onabort=s,o.onstalled=s,o.onsuspend=s,o.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return Aue.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!xV.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var r=[xt.QR_CODE,xt.AZTEC,xt.CODABAR,xt.CODE_39,xt.CODE_93,xt.CODE_128,xt.DATA_MATRIX,xt.MAXICODE,xt.ITF,xt.EAN_13,xt.EAN_8,xt.PDF_417,xt.RSS_14,xt.RSS_EXPANDED,xt.UPC_A,xt.UPC_E,xt.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return r;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,s=e.formatsToSupport;i<s.length;i++){var o=s[i];aue(o)?n.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(ul(e))return!0;if(!ul(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(ul(e.experimentalFeatures))return!0;var r=e.experimentalFeatures;return ul(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,r,n){var i=this,s=n.qrbox;this.validateQrboxConfig(s);var o=this.toQrdimensions(e,r,s),c=function(h){if(h<Xs.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Xs.MIN_QR_BOX_SIZE,"px.")},u=function(h){return h>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),h=e),h};c(o.width),c(o.height),o.width=u(o.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(e,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},t.prototype.setupUi=function(e,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(e,r,n);var i=ul(n.qrbox)?{width:e,height:r}:n.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(e,r,i);s.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=n.isShadedBoxEnabled()&&s.height<=r,c={x:0,y:0,width:e,height:r},u=o?this.getShadedRegionBounds(e,r,s):c,h=this.createCanvasElement(u.width,u.height),g={willReadFrequently:!0},v=h.getContext("2d",g);v.canvas.width=u.width,v.canvas.height=u.height,this.element.append(h),o&&this.possiblyInsertShadingElement(this.element,e,r,s),this.createScannerPausedUiElement(this.element),this.qrRegion=u,this.context=v,this.canvasElement=h},t.prototype.createScannerPausedUiElement=function(e){var r=document.createElement("div");r.innerText=_f.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",e.appendChild(r),this.scannerPausedUiElement=r},t.prototype.scanContext=function(e,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,JR.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var s=_f.codeParseError(i);return r(s,lue.createFrom(s)),!1})},t.prototype.foreverScan=function(e,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),o=s.videoWidth/s.clientWidth,c=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var u=this.qrRegion.width*o,h=this.qrRegion.height*c,g=this.qrRegion.x*o,v=this.qrRegion.y*c;this.context.drawImage(s,g,v,u,h,0,0,this.qrRegion.width,this.qrRegion.height);var w=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,r,n)},i.getTimeoutFps(e.fps))};this.scanContext(r,n).then(function(b){!b&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){w()})):w()}).catch(function(b){i.logger.logError("Error happend while scanning context",b),w()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},s="exact",o=function(A){if(A in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(A,"'")},c=Object.keys(e);if(c.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(c.length," keys");var u=Object.keys(e)[0];if(u!==r&&u!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(u===r){var h=e.facingMode;if(typeof h=="string"){if(o(h))return{facingMode:h}}else if(typeof h=="object")if(s in h){if(o(h["".concat(s)]))return{facingMode:{exact:h["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var g=typeof h;throw"Invalid type of 'facingMode' = ".concat(g)}}else{var v=e.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(s in v)return{deviceId:{exact:v["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var w=typeof v;throw"Invalid type of 'deviceId' = ".concat(w)}}}var b=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(b)},t.prototype.computeCanvasDrawConfig=function(e,r,n,i){if(e<=n&&r<=i){var s=(n-e)/2,o=(i-r)/2;return{x:s,y:o,width:e,height:r}}else{var c=e,u=r;return e>n&&(r=n/e*r,e=n),r>i&&(e=i/r*e,r=i),this.logger.log("Image downsampled from "+"".concat(c,"X").concat(u)+" to ".concat(e,"X").concat(r,".")),this.computeCanvasDrawConfig(e,r,n,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=e?Xs.BORDER_SHADER_MATCH_COLOR:Xs.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,r,n){var i=e,s=r,o=document.createElement("canvas");return o.style.width="".concat(i,"px"),o.style.height="".concat(s,"px"),o.style.display="none",o.id=ul(n)?"qr-canvas":n,o},t.prototype.getShadedRegionBounds=function(e,r,n){if(n.width>e||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},t.prototype.possiblyInsertShadingElement=function(e,r,n,i){if(!(r-i.width<1||n-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var o=(r-i.width)/2,c=(n-i.height)/2;if(s.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(Xs.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var u=5,h=40;this.insertShaderBorders(s,h,u,-u,null,0,!0),this.insertShaderBorders(s,h,u,-u,null,0,!1),this.insertShaderBorders(s,h,u,null,-u,0,!0),this.insertShaderBorders(s,h,u,null,-u,0,!1),this.insertShaderBorders(s,u,h+u,-u,null,-u,!0),this.insertShaderBorders(s,u,h+u,null,-u,-u,!0),this.insertShaderBorders(s,u,h+u,-u,null,-u,!1),this.insertShaderBorders(s,u,h+u,null,-u,-u,!1),this.hasBorderShaders=!0}e.append(s)}},t.prototype.insertShaderBorders=function(e,r,n,i,s,o,c){var u=document.createElement("div");u.style.position="absolute",u.style.backgroundColor=Xs.BORDER_SHADER_DEFAULT_COLOR,u.style.width="".concat(r,"px"),u.style.height="".concat(n,"px"),i!==null&&(u.style.top="".concat(i,"px")),s!==null&&(u.style.bottom="".concat(s,"px")),c?u.style.left="".concat(o,"px"):u.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(u),e.appendChild(u)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t})(),o4;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(o4||(o4={}));const bV=({onScan:t,onError:e,className:r,showCamera:n=!0})=>{const[i,s]=N.useState(!1),[o,c]=N.useState(null),u=N.useRef(null),h="qr-scanner",g=async()=>{try{c(null);const b=new Pue(h);u.current=b,await b.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},A=>{try{const C=$R(A);C&&jy(C)?(t(C),v()):(c("Invalid or expired QR code"),e?.("Invalid or expired QR code"))}catch(C){c("Failed to decode QR code: "+C.message),e?.(C.message)}},A=>{}),s(!0)}catch(b){let A="Failed to start camera: "+b.message;b.name==="NotAllowedError"?A="Camera permission denied. Please enable camera access in your browser settings.":b.name==="NotFoundError"?A="No camera found on this device.":b.name==="NotReadableError"&&(A="Camera is already in use by another application."),c(A),e?.(A),s(!1)}},v=async()=>{if(u.current&&i){try{await u.current.stop(),u.current.clear()}catch{}u.current=null}s(!1)};N.useEffect(()=>()=>{v()},[]);const w=()=>{const b=prompt("Enter QR code data (JSON string):");if(b)try{const A=$R(b);A&&jy(A)?t(A):(c("Invalid or expired QR code"),e?.("Invalid or expired QR code"))}catch(A){c("Failed to decode QR code: "+A.message),e?.(A.message)}};return a.jsx(qe,{className:Re("w-full",r),children:a.jsxs(ze,{className:"p-6 space-y-4",children:[o&&a.jsxs(sd,{variant:"destructive",children:[a.jsx(Al,{className:"h-4 w-4"}),a.jsx(ad,{children:o})]}),n&&a.jsxs("div",{className:"relative aspect-square bg-muted rounded-lg overflow-hidden",children:[a.jsx("div",{id:h,className:"w-full h-full"}),!i&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 z-10",children:a.jsxs("div",{className:"text-center text-white",children:[a.jsx(vI,{className:"w-12 h-12 mx-auto mb-2"}),a.jsx("p",{className:"text-sm",children:"Camera not active"})]})})]}),a.jsxs("div",{className:"flex gap-2",children:[i?a.jsxs(_e,{onClick:v,variant:"destructive",className:"flex-1",children:[a.jsx(Ju,{className:"w-4 h-4 mr-2"}),"Stop Scanning"]}):a.jsxs(_e,{onClick:g,className:"flex-1",children:[a.jsx(vI,{className:"w-4 h-4 mr-2"}),"Start Scanning"]}),a.jsx(_e,{onClick:w,variant:"outline",children:"Manual Entry"})]}),a.jsx("p",{className:"text-xs text-muted-foreground text-center",children:i?"Point your camera at a QR code":'Click "Start Scanning" to begin'})]})})},Iue=51.4881,Rue=-.03,Mue=100,Bm="Grinstead Rd, London SE8 5FE, United Kingdom",Due=(t,e,r,n)=>{const s=t*Math.PI/180,o=r*Math.PI/180,c=(r-t)*Math.PI/180,u=(n-e)*Math.PI/180,h=Math.sin(c/2)*Math.sin(c/2)+Math.cos(s)*Math.cos(o)*Math.sin(u/2)*Math.sin(u/2);return 6371e3*(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)))},Lue=()=>{const[t,e]=N.useState("checking"),[r,n]=N.useState(!1),[i,s]=N.useState(null),[o,c]=N.useState(!0),[u,h]=N.useState(!1),[g,v]=N.useState(null),[w,b]=N.useState(!0),{toast:A}=Gn(),{user:C}=Vo(),E=g===!1,P=g===!0;N.useEffect(()=>{k(),I()},[]);const k=async()=>{try{const{data:{user:R}}=await ye.auth.getUser();if(!R){s(!1),c(!1);return}const{data:$,error:z}=await ye.rpc("has_valid_membership",{_user_id:R.id});if(z)throw z;s($)}catch(R){console.error("Error checking membership:",R),s(!1)}finally{c(!1)}},I=async()=>{try{b(!0);const{data:{user:R}}=await ye.auth.getUser();if(!R){v(!1),b(!1);return}const{data:$,error:z}=await ye.from("check_ins").select("id").eq("user_id",R.id).is("check_out_time",null).order("check_in_time",{ascending:!1}).limit(1);if(z)throw z;v($&&$.length>0)}catch(R){console.error("Error checking active check-in:",R),v(!1)}finally{b(!1)}};N.useEffect(()=>{let R=!0;return(()=>{if(!navigator.geolocation){R&&(e("invalid"),Et({title:"Location not supported",description:"Your device doesn't support geolocation."}));return}navigator.geolocation.getCurrentPosition(z=>{if(!R)return;Due(z.coords.latitude,z.coords.longitude,Iue,Rue)<=Mue?e("valid"):(e("invalid"),Et({title:"Location Error",description:`You must be at ${Bm} to check in/out.`}))},z=>{R&&(e("invalid"),Et({title:"Location Access Denied",description:"Please enable location services to check in/out."}))})})(),()=>{R=!1}},[]);const F=async()=>{if(!i){Et({title:"No Valid Membership",description:"You need an active paid membership to check in."});return}if(t!=="valid"){Et({title:"Cannot Check In",description:`You must be at ${Bm} to check in.`});return}n(!0);try{const{data:{user:R}}=await ye.auth.getUser();if(!R)throw new Error("Not authenticated");const{error:$}=await ye.from("check_ins").insert([{user_id:R.id,check_in_time:new Date().toISOString(),location:Bm}]);if($)throw $;A(Ta.bookingCreated("Check-in")),await I()}catch(R){Et({title:"Error",description:R.message})}finally{setTimeout(()=>n(!1),1e3)}},M=async()=>{if(!i){Et({title:"No Valid Membership",description:"You need an active paid membership to check out."});return}if(t!=="valid"){Et({title:"Cannot Check Out",description:`You must be at ${Bm} to check out.`});return}n(!0);try{const{data:{user:R}}=await ye.auth.getUser();if(!R)throw new Error("Not authenticated");const{data:$,error:z}=await ye.from("check_ins").select("id").eq("user_id",R.id).is("check_out_time",null).order("check_in_time",{ascending:!1}).limit(1);if(z)throw z;if(!$||$.length===0){Et({title:"No Check-In Found",description:"You don't have an active check-in to check out from."});return}const{error:G}=await ye.from("check_ins").update({check_out_time:new Date().toISOString()}).eq("id",$[0].id);if(G)throw G;A(Ta.bookingCancelled()),await I()}catch(R){Et({title:"Error",description:R.message})}finally{setTimeout(()=>n(!1),1e3)}},D=R=>{if(!jy(R)){Et({title:"QR Code Expired",description:"This QR code has expired. Please generate a new one."});return}if(E&&R.action!=="entry"){Et({title:"Invalid QR Code",description:"This QR code is for check-out, not check-in."});return}if(P&&R.action!=="exit"){Et({title:"Invalid QR Code",description:"This QR code is for check-in, not check-out."});return}R.action==="entry"?F():M(),h(!1)};return w||o?a.jsx("div",{className:"min-h-screen bg-gradient-hero flex items-center justify-center p-6",children:a.jsx(qe,{className:"w-full max-w-md shadow-lg",children:a.jsx(ze,{className:"p-6 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})})}):a.jsx("div",{className:"min-h-screen bg-gradient-hero flex items-center justify-center p-6",children:a.jsxs(qe,{className:"w-full max-w-md shadow-lg",children:[!o&&!i&&a.jsxs(sd,{variant:"destructive",className:"m-4",children:[a.jsx(Al,{className:"h-4 w-4"}),a.jsx(ad,{children:"You need an active paid membership to check in/out. Please contact admin."})]}),a.jsxs(yt,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:`p-4 rounded-full ${E?"bg-gradient-secondary":"bg-gradient-accent"}`,children:a.jsx(gp,{className:`w-12 h-12 ${E?"text-secondary-foreground":"text-accent-foreground"}`})})}),a.jsx(_t,{className:"text-2xl",children:E?"Check In":"Check Out"}),a.jsx(cr,{children:E?"Scan your QR code to enter the gym":"Scan your QR code to exit the gym"}),a.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4",children:[a.jsx(GB,{className:`w-4 h-4 ${t==="valid"?"text-green-500":t==="invalid"?"text-red-500":"text-muted-foreground"}`}),a.jsxs("span",{className:`text-sm ${t==="valid"?"text-green-500":t==="invalid"?"text-red-500":"text-muted-foreground"}`,children:[t==="checking"&&"Checking location...",t==="valid"&&"Location verified",t==="invalid"&&`Must be at ${Bm}`]})]})]}),a.jsx(ze,{className:"space-y-6",children:u?a.jsx(bV,{onScan:D,onError:R=>{Et({title:"Scanning Error",description:R})}}):a.jsxs(a.Fragment,{children:[C&&a.jsx(IO,{userId:C.id,action:E?"entry":"exit",size:250,className:"max-w-sm mx-auto"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(_e,{className:`flex-1 ${E?"bg-secondary hover:bg-secondary/90":"bg-accent hover:bg-accent/90"}`,size:"lg",onClick:()=>h(!0),disabled:!i||o,children:[a.jsx(gp,{className:"w-5 h-5 mr-2"}),"Scan QR Code"]}),a.jsx(_e,{variant:"outline",className:"flex-1",size:"lg",onClick:E?F:M,disabled:t!=="valid"||r||!i||o,children:E?a.jsxs(a.Fragment,{children:[a.jsx(HB,{className:"w-5 h-5 mr-2"}),"Manual Check In"]}):a.jsxs(a.Fragment,{children:[a.jsx(AN,{className:"w-5 h-5 mr-2"}),"Manual Check Out"]})})]}),P&&a.jsxs(sd,{className:"mt-4",children:[a.jsx(Al,{className:"h-4 w-4"}),a.jsx(ad,{children:"You have an active check-in. Scan the exit QR code or use manual check-out to exit."})]})]})})]})})},_V=t=>{const[e,r]=N.useState(null),[n,i]=N.useState(!0),[s,o]=N.useState(null),[c,u]=N.useState([]),[h,g]=N.useState(null),v=N.useCallback(()=>{const R=new Date,$=new Date;return $.setDate($.getDate()-30),{startDate:$,endDate:R}},[]),w=N.useMemo(()=>t?.dateRange?t.dateRange:v(),[t?.dateRange?.startDate?.getTime()??null,t?.dateRange?.endDate?.getTime()??null,v]),b=N.useCallback(async()=>{try{const{count:R,error:$}=await ye.from("profiles").select("*",{count:"exact",head:!0});if($)throw $;const{data:z,error:G}=await ye.from("user_memberships").select("user_id").eq("status","active").eq("payment_status","paid").gte("end_date",new Date().toISOString());if(G)throw G;const V=new Set(z?.map(ae=>ae.user_id)||[]).size,K=new Date;K.setDate(1),K.setHours(0,0,0,0);const{count:q,error:Y}=await ye.from("profiles").select("*",{count:"exact",head:!0}).gte("created_at",K.toISOString());if(Y)throw Y;const J=new Date(K);J.setMonth(J.getMonth()-1);const ne=new Date(K);ne.setMilliseconds(ne.getMilliseconds()-1);const{count:te,error:Q}=await ye.from("profiles").select("*",{count:"exact",head:!0}).gte("created_at",J.toISOString()).lte("created_at",ne.toISOString());if(Q)throw Q;const ue=te&&te>0?((q||0)-te)/te*100:0;return{totalMembers:R||0,activeMembers:V,growthThisMonth:q||0,growthPercentage:Math.round(ue*10)/10}}catch(R){throw console.error("Error fetching member growth:",R),R}},[]),A=N.useCallback(async()=>{try{const{startDate:R,endDate:$}=w,{data:z,error:G}=await ye.from("class_bookings").select("*, class_sessions(start_time, end_time)").gte("created_at",R.toISOString()).lte("created_at",$.toISOString()).in("status",["booked","confirmed"]);if(G)throw G;if(!z||z.length===0)return 0;const W=new Date,V=z.filter(ne=>{const te=ne.class_sessions;return te?.start_time?new Date(te.start_time)<W:!1});if(V.length===0)return 0;const{data:K,error:q}=await ye.from("class_bookings").select("id").in("id",V.map(ne=>ne.id)).eq("status","attended");if(q)throw q;const J=(K?.length||0)/V.length*100;return Math.round(J*10)/10}catch(R){return console.error("Error fetching class attendance:",R),0}},[w]),C=N.useCallback(async()=>{try{const R=new Date,$=new Date(R);$.setDate($.getDate()-7);const{data:z,error:G}=await ye.from("check_ins").select("user_id").gte("check_in_time",$.toISOString());if(G)throw G;const V=new Set(z?.map(se=>se.user_id)||[]).size,K=new Date(R);K.setMonth(K.getMonth()-1);const{data:q,error:Y}=await ye.from("check_ins").select("user_id").gte("check_in_time",K.toISOString());if(Y)throw Y;const ne=new Set(q?.map(se=>se.user_id)||[]).size,{data:te,error:Q}=await ye.from("user_memberships").select("user_id").eq("status","active").eq("payment_status","paid").gte("end_date",R.toISOString());if(Q)throw Q;const ae=new Set(te?.map(se=>se.user_id)||[]).size;return{thisWeek:V,thisMonth:ne,total:ae}}catch(R){throw console.error("Error fetching active users:",R),R}},[]),E=N.useCallback(async()=>{try{const{startDate:R,endDate:$}=w,{data:z,error:G}=await ye.from("check_ins").select("check_in_time, user_id").gte("check_in_time",R.toISOString()).lte("check_in_time",$.toISOString()).order("check_in_time",{ascending:!0});if(G)throw G;if(!z||z.length===0)return[];const W=new Map;return z.forEach(K=>{const q=new Date(K.check_in_time).toISOString().split("T")[0];W.has(q)||W.set(q,{visitCount:0,uniqueVisitors:new Set});const Y=W.get(q);Y.visitCount++,Y.uniqueVisitors.add(K.user_id)}),Array.from(W.entries()).map(([K,q])=>({date:K,visit_count:q.visitCount,unique_visitors:q.uniqueVisitors.size})).sort((K,q)=>K.date.localeCompare(q.date))}catch(R){return console.error("Error fetching visit trends:",R),[]}},[w]),P=N.useCallback(async()=>{try{const{startDate:R,endDate:$}=w,{data:z,error:G}=await ye.from("class_bookings").select("*, class_sessions(id, name, class_id, start_time)").gte("created_at",R.toISOString()).lte("created_at",$.toISOString()).in("status",["booked","confirmed","attended"]);if(G)throw G;if(!z||z.length===0)return[];const W=new Map;z.forEach(q=>{const Y=q.class_sessions,J=Y?.class_id||Y?.id||"unknown",ne=Y?.name||"Unknown Class";W.has(J)||W.set(J,{classId:J,className:ne,totalBookings:0,attendedCount:0,category:"General"});const te=W.get(J);te.totalBookings++,q.status==="attended"&&te.attendedCount++});const V=Array.from(W.keys()).filter(q=>q!=="unknown");if(V.length>0){const{data:q,error:Y}=await ye.from("classes").select("id, category").in("id",V);!Y&&q&&q.forEach(J=>{const ne=W.get(J.id);ne&&(ne.category=J.category||"General")})}return Array.from(W.values()).map(q=>({class_id:q.classId,class_name:q.className,total_bookings:q.totalBookings,attendance_rate:q.totalBookings>0?Math.round(q.attendedCount/q.totalBookings*100*10)/10:0,category:q.category})).sort((q,Y)=>Y.total_bookings-q.total_bookings)}catch(R){return console.error("Error fetching class popularity:",R),[]}},[w]),k=N.useCallback(async()=>{try{const{startDate:R,endDate:$}=w,{data:z,error:G}=await ye.from("user_memberships").select("*, memberships(price)").eq("payment_status","paid").gte("created_at",R.toISOString()).lte("created_at",$.toISOString());if(G)throw G;if(!z||z.length===0)return[];const W=new Map;return z.forEach(K=>{const q=new Date(K.created_at),Y=`${q.getFullYear()}-${String(q.getMonth()+1).padStart(2,"0")}`;W.has(Y)||W.set(Y,{revenue:0,newMembers:0,renewals:0});const J=W.get(Y),ne=K.memberships?.price||0;J.revenue+=Number(ne),J.newMembers++}),Array.from(W.entries()).map(([K,q])=>({period:K,revenue:Math.round(q.revenue*100)/100,new_members:q.newMembers,renewals:q.renewals})).sort((K,q)=>K.period.localeCompare(q.period))}catch(R){return console.error("Error fetching revenue data:",R),[]}},[w]),I=N.useCallback(async()=>{try{const R=new Date().toISOString(),{count:$,error:z}=await ye.from("user_memberships").select("*",{count:"exact",head:!0}).eq("status","active").eq("payment_status","paid").gte("end_date",R);if(z)throw z;const{count:G,error:W}=await ye.from("user_memberships").select("*",{count:"exact",head:!0}).eq("status","expired").or("end_date.lt."+R);if(W)throw W;const{count:V,error:K}=await ye.from("user_memberships").select("*",{count:"exact",head:!0}).eq("status","cancelled");if(K)throw K;return{active:$||0,inactive:G||0,suspended:V||0}}catch(R){return console.error("Error fetching membership breakdown:",R),{active:0,inactive:0,suspended:0}}},[]),F=N.useCallback(async()=>{try{const{count:R,error:$}=await ye.from("reward_claims").select("*",{count:"exact",head:!0});if($)throw $;return R||0}catch(R){return console.error("Error fetching rewards claimed:",R),0}},[]),M=N.useCallback(async()=>{try{i(!0),o(null);const[R,$,z,G,W,V,K,q]=await Promise.all([b(),A(),C(),E(),P(),I(),k(),F()]),Y=new Date;Y.setHours(0,0,0,0);const J=new Date(Y);J.setDate(J.getDate()+1);const{count:ne,error:te}=await ye.from("check_ins").select("*",{count:"exact",head:!0}).gte("check_in_time",Y.toISOString()).lt("check_in_time",J.toISOString());if(te)throw te;const{count:Q,error:ue}=await ye.from("class_bookings").select("*",{count:"exact",head:!0}).in("status",["booked","confirmed"]);if(ue)throw ue;const ae={total_members:R.totalMembers,active_members:R.activeMembers,total_visits_today:ne||0,total_bookings:Q||0,total_rewards_claimed:q,popular_classes:W,visit_trends:G,membership_breakdown:V};r(ae),u(K),g(R)}catch(R){console.error("Error fetching analytics:",R),o(R.message||"Failed to fetch analytics data"),r(null)}finally{i(!1)}},[b,A,C,E,P,I,k,F]);N.useEffect(()=>{M()},[M]);const D=N.useCallback(()=>{M()},[M]);return{data:e,revenueData:c,memberGrowth:h,loading:n,error:s,refresh:D,fetchMemberGrowth:b,fetchClassAttendance:A,fetchActiveUsers:C,fetchVisitTrends:E,fetchClassPopularity:P,fetchRevenueData:k,fetchMembershipBreakdown:I}},Bue=()=>{const{data:t,memberGrowth:e,revenueData:r,loading:n,refresh:i}=_V(),[s,o]=N.useState([]),[c,u]=N.useState([]),[h,g]=N.useState(0),[v,w]=N.useState(!0);return N.useEffect(()=>{(async()=>{try{w(!0);const{data:A,error:C}=await ye.from("check_ins").select("*, profiles(full_name)").order("check_in_time",{ascending:!1}).limit(5);if(C)throw C;const{data:E,error:P}=await ye.from("class_bookings").select("*, class_sessions(name, start_time), profiles(full_name)").order("created_at",{ascending:!1}).limit(5);if(P)throw P;o(A||[]),u(E||[])}catch(A){console.error("Error fetching recent activity:",A)}finally{w(!1)}})()},[]),N.useEffect(()=>{if(r&&r.length>0){const b=We(new Date,"yyyy-MM"),A=r.find(C=>C.period===b);g(A?.revenue||0)}},[r]),n?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(oa,{size:"lg",text:"Loading dashboard..."})}):a.jsx("div",{className:"min-h-screen bg-background p-6",children:a.jsxs("div",{className:"container mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),a.jsxs(_e,{onClick:i,variant:"outline",size:"sm",disabled:n,children:[n?a.jsx(Wn,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Qu,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6 mb-8",children:[a.jsx(Fm,{title:"Total Members",value:t?.total_members?.toString()||"0",icon:a.jsx(Rl,{className:"w-5 h-5 text-primary"}),trend:e?`${e.growthThisMonth} new this month`:"Loading..."}),a.jsx(Fm,{title:"Active Bookings",value:t?.total_bookings?.toString()||"0",icon:a.jsx(Fn,{className:"w-5 h-5 text-secondary"}),trend:"Active bookings"}),a.jsx(Fm,{title:"Monthly Revenue",value:`${h.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:a.jsx(yY,{className:"w-5 h-5 text-success"}),trend:We(new Date,"MMMM yyyy")}),a.jsx(Fm,{title:"Visits Today",value:t?.total_visits_today?.toString()||"0",icon:a.jsx(Bf,{className:"w-5 h-5 text-accent"}),trend:"Check-ins today"}),a.jsx(Fm,{title:"Rewards Claimed",value:t?.total_rewards_claimed?.toString()||"0",icon:a.jsx(U1,{className:"w-5 h-5 text-primary"}),trend:"Total claimed"})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[a.jsxs(qe,{children:[a.jsx(yt,{children:a.jsx(_t,{children:"Recent Activity"})}),a.jsx(ze,{children:v?a.jsx("p",{className:"text-muted-foreground",children:"Loading activity..."}):s.length===0&&c.length===0?a.jsx("p",{className:"text-muted-foreground",children:"No recent activity"}):a.jsxs("div",{className:"space-y-3",children:[s.map(b=>a.jsx("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted",children:a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium",children:[b.profiles?.full_name||"User"," checked in"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:We(new Date(b.check_in_time),"MMM d, yyyy 'at' h:mm a")})]})},b.id)),c.map(b=>a.jsx("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted",children:a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium",children:[b.profiles?.full_name||"User"," booked ",b.class_sessions?.name||"a class"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:We(new Date(b.created_at),"MMM d, yyyy 'at' h:mm a")})]})},b.id))]})})]}),a.jsxs(qe,{children:[a.jsx(yt,{children:a.jsx(_t,{children:"Popular Classes"})}),a.jsx(ze,{children:!t?.popular_classes||t.popular_classes.length===0?a.jsx("p",{className:"text-muted-foreground",children:"No class data available"}):a.jsx("div",{className:"space-y-2",children:t.popular_classes.slice(0,5).map((b,A)=>a.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:["#",A+1]}),a.jsx("span",{className:"text-sm font-medium",children:b.class_name})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:[b.total_bookings," bookings"]}),a.jsxs("span",{className:"text-sm font-semibold",children:[b.attendance_rate,"% attendance"]})]})]},b.class_id))})})]})]})]})})},Fm=({title:t,value:e,icon:r,trend:n})=>a.jsx(qe,{children:a.jsxs(ze,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:t}),r]}),a.jsx("div",{className:"text-2xl font-bold mb-1",children:e}),a.jsx("p",{className:"text-xs text-muted-foreground",children:n})]})}),Fc=N.forwardRef(({className:t,...e},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:Re("w-full caption-bottom text-sm",t),...e})}));Fc.displayName="Table";const Uc=N.forwardRef(({className:t,...e},r)=>a.jsx("thead",{ref:r,className:Re("[&_tr]:border-b",t),...e}));Uc.displayName="TableHeader";const $c=N.forwardRef(({className:t,...e},r)=>a.jsx("tbody",{ref:r,className:Re("[&_tr:last-child]:border-0",t),...e}));$c.displayName="TableBody";const Fue=N.forwardRef(({className:t,...e},r)=>a.jsx("tfoot",{ref:r,className:Re("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Fue.displayName="TableFooter";const os=N.forwardRef(({className:t,...e},r)=>a.jsx("tr",{ref:r,className:Re("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));os.displayName="TableRow";const Yt=N.forwardRef(({className:t,...e},r)=>a.jsx("th",{ref:r,className:Re("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Yt.displayName="TableHead";const Gt=N.forwardRef(({className:t,...e},r)=>a.jsx("td",{ref:r,className:Re("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Gt.displayName="TableCell";const Uue=N.forwardRef(({className:t,...e},r)=>a.jsx("caption",{ref:r,className:Re("mt-4 text-sm text-muted-foreground",t),...e}));Uue.displayName="TableCaption";function l4(t,[e,r]){return Math.min(r,Math.max(e,t))}function HO(t){const e=N.useRef({value:t,previous:t});return N.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var $ue=[" ","Enter","ArrowUp","ArrowDown"],Vue=[" ","Enter"],ld="Select",[Sx,Cx,que]=L1(ld),[Lh]=ls(ld,[que,Vc]),Ex=Vc(),[zue,Hc]=Lh(ld),[Wue,Hue]=Lh(ld),SV=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:o,defaultValue:c,onValueChange:u,dir:h,name:g,autoComplete:v,disabled:w,required:b,form:A}=t,C=Ex(e),[E,P]=N.useState(null),[k,I]=N.useState(null),[F,M]=N.useState(!1),D=J1(h),[R,$]=lo({prop:n,defaultProp:i??!1,onChange:s,caller:ld}),[z,G]=lo({prop:o,defaultProp:c,onChange:u,caller:ld}),W=N.useRef(null),V=E?A||!!E.closest("form"):!0,[K,q]=N.useState(new Set),Y=Array.from(K).map(J=>J.props.value).join(";");return a.jsx(z1,{...C,children:a.jsxs(zue,{required:b,scope:e,trigger:E,onTriggerChange:P,valueNode:k,onValueNodeChange:I,valueNodeHasChildren:F,onValueNodeHasChildrenChange:M,contentId:Pa(),value:z,onValueChange:G,open:R,onOpenChange:$,dir:D,triggerPointerDownPosRef:W,disabled:w,children:[a.jsx(Sx.Provider,{scope:e,children:a.jsx(Wue,{scope:t.__scopeSelect,onNativeOptionAdd:N.useCallback(J=>{q(ne=>new Set(ne).add(J))},[]),onNativeOptionRemove:N.useCallback(J=>{q(ne=>{const te=new Set(ne);return te.delete(J),te})},[]),children:r})}),V?a.jsxs(GV,{"aria-hidden":!0,required:b,tabIndex:-1,name:g,autoComplete:v,value:z,onChange:J=>G(J.target.value),disabled:w,form:A,children:[z===void 0?a.jsx("option",{value:""}):null,Array.from(K)]},Y):null]})})};SV.displayName=ld;var CV="SelectTrigger",EV=N.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=Ex(r),o=Hc(CV,r),c=o.disabled||n,u=Nr(e,o.onTriggerChange),h=Cx(r),g=N.useRef("touch"),[v,w,b]=YV(C=>{const E=h().filter(I=>!I.disabled),P=E.find(I=>I.value===o.value),k=XV(E,C,P);k!==void 0&&o.onValueChange(k.value)}),A=C=>{c||(o.onOpenChange(!0),b()),C&&(o.triggerPointerDownPosRef.current={x:Math.round(C.pageX),y:Math.round(C.pageY)})};return a.jsx(wg,{asChild:!0,...s,children:a.jsx(Mt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":KV(o.value)?"":void 0,...i,ref:u,onClick:ft(i.onClick,C=>{C.currentTarget.focus(),g.current!=="mouse"&&A(C)}),onPointerDown:ft(i.onPointerDown,C=>{g.current=C.pointerType;const E=C.target;E.hasPointerCapture(C.pointerId)&&E.releasePointerCapture(C.pointerId),C.button===0&&C.ctrlKey===!1&&C.pointerType==="mouse"&&(A(C),C.preventDefault())}),onKeyDown:ft(i.onKeyDown,C=>{const E=v.current!=="";!(C.ctrlKey||C.altKey||C.metaKey)&&C.key.length===1&&w(C.key),!(E&&C.key===" ")&&$ue.includes(C.key)&&(A(),C.preventDefault())})})})});EV.displayName=CV;var AV="SelectValue",jV=N.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:o="",...c}=t,u=Hc(AV,r),{onValueNodeHasChildrenChange:h}=u,g=s!==void 0,v=Nr(e,u.onValueNodeChange);return fi(()=>{h(g)},[h,g]),a.jsx(Mt.span,{...c,ref:v,style:{pointerEvents:"none"},children:KV(u.value)?a.jsx(a.Fragment,{children:o}):s})});jV.displayName=AV;var Gue="SelectIcon",NV=N.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return a.jsx(Mt.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});NV.displayName=Gue;var Kue="SelectPortal",OV=t=>a.jsx(jh,{asChild:!0,...t});OV.displayName=Kue;var cd="SelectContent",TV=N.forwardRef((t,e)=>{const r=Hc(cd,t.__scopeSelect),[n,i]=N.useState();if(fi(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?Ah.createPortal(a.jsx(kV,{scope:t.__scopeSelect,children:a.jsx(Sx.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),s):null}return a.jsx(PV,{...t,ref:e})});TV.displayName=cd;var Za=10,[kV,Gc]=Lh(cd),Yue="SelectContentImpl",Xue=Pc("SelectContent.RemoveScroll"),PV=N.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:c,sideOffset:u,align:h,alignOffset:g,arrowPadding:v,collisionBoundary:w,collisionPadding:b,sticky:A,hideWhenDetached:C,avoidCollisions:E,...P}=t,k=Hc(cd,r),[I,F]=N.useState(null),[M,D]=N.useState(null),R=Nr(e,Se=>F(Se)),[$,z]=N.useState(null),[G,W]=N.useState(null),V=Cx(r),[K,q]=N.useState(!1),Y=N.useRef(!1);N.useEffect(()=>{if(I)return rx(I)},[I]),ex();const J=N.useCallback(Se=>{const[je,...Ee]=V().map(be=>be.ref.current),[Fe]=Ee.slice(-1),Ce=document.activeElement;for(const be of Se)if(be===Ce||(be?.scrollIntoView({block:"nearest"}),be===je&&M&&(M.scrollTop=0),be===Fe&&M&&(M.scrollTop=M.scrollHeight),be?.focus(),document.activeElement!==Ce))return},[V,M]),ne=N.useCallback(()=>J([$,I]),[J,$,I]);N.useEffect(()=>{K&&ne()},[K,ne]);const{onOpenChange:te,triggerPointerDownPosRef:Q}=k;N.useEffect(()=>{if(I){let Se={x:0,y:0};const je=Fe=>{Se={x:Math.abs(Math.round(Fe.pageX)-(Q.current?.x??0)),y:Math.abs(Math.round(Fe.pageY)-(Q.current?.y??0))}},Ee=Fe=>{Se.x<=10&&Se.y<=10?Fe.preventDefault():I.contains(Fe.target)||te(!1),document.removeEventListener("pointermove",je),Q.current=null};return Q.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",Ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",Ee,{capture:!0})}}},[I,te,Q]),N.useEffect(()=>{const Se=()=>te(!1);return window.addEventListener("blur",Se),window.addEventListener("resize",Se),()=>{window.removeEventListener("blur",Se),window.removeEventListener("resize",Se)}},[te]);const[ue,ae]=YV(Se=>{const je=V().filter(Ce=>!Ce.disabled),Ee=je.find(Ce=>Ce.ref.current===document.activeElement),Fe=XV(je,Se,Ee);Fe&&setTimeout(()=>Fe.ref.current.focus())}),se=N.useCallback((Se,je,Ee)=>{const Fe=!Y.current&&!Ee;(k.value!==void 0&&k.value===je||Fe)&&(z(Se),Fe&&(Y.current=!0))},[k.value]),me=N.useCallback(()=>I?.focus(),[I]),xe=N.useCallback((Se,je,Ee)=>{const Fe=!Y.current&&!Ee;(k.value!==void 0&&k.value===je||Fe)&&W(Se)},[k.value]),Ue=n==="popper"?qA:IV,Pe=Ue===qA?{side:c,sideOffset:u,align:h,alignOffset:g,arrowPadding:v,collisionBoundary:w,collisionPadding:b,sticky:A,hideWhenDetached:C,avoidCollisions:E}:{};return a.jsx(kV,{scope:r,content:I,viewport:M,onViewportChange:D,itemRefCallback:se,selectedItem:$,onItemLeave:me,itemTextRefCallback:xe,focusSelectedItem:ne,selectedItemText:G,position:n,isPositioned:K,searchRef:ue,children:a.jsx(Eg,{as:Xue,allowPinchZoom:!0,children:a.jsx(Sg,{asChild:!0,trapped:k.open,onMountAutoFocus:Se=>{Se.preventDefault()},onUnmountAutoFocus:ft(i,Se=>{k.trigger?.focus({preventScroll:!0}),Se.preventDefault()}),children:a.jsx(yd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:Se=>Se.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:a.jsx(Ue,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:Se=>Se.preventDefault(),...P,...Pe,onPlaced:()=>q(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...P.style},onKeyDown:ft(P.onKeyDown,Se=>{const je=Se.ctrlKey||Se.altKey||Se.metaKey;if(Se.key==="Tab"&&Se.preventDefault(),!je&&Se.key.length===1&&ae(Se.key),["ArrowUp","ArrowDown","Home","End"].includes(Se.key)){let Fe=V().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(Se.key)&&(Fe=Fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Se.key)){const Ce=Se.target,be=Fe.indexOf(Ce);Fe=Fe.slice(be+1)}setTimeout(()=>J(Fe)),Se.preventDefault()}})})})})})})});PV.displayName=Yue;var Zue="SelectItemAlignedPosition",IV=N.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=Hc(cd,r),o=Gc(cd,r),[c,u]=N.useState(null),[h,g]=N.useState(null),v=Nr(e,R=>g(R)),w=Cx(r),b=N.useRef(!1),A=N.useRef(!0),{viewport:C,selectedItem:E,selectedItemText:P,focusSelectedItem:k}=o,I=N.useCallback(()=>{if(s.trigger&&s.valueNode&&c&&h&&C&&E&&P){const R=s.trigger.getBoundingClientRect(),$=h.getBoundingClientRect(),z=s.valueNode.getBoundingClientRect(),G=P.getBoundingClientRect();if(s.dir!=="rtl"){const Ce=G.left-$.left,be=z.left-Ce,He=R.left-be,Te=R.width+He,Ge=Math.max(Te,$.width),gt=window.innerWidth-Za,lt=l4(be,[Za,Math.max(Za,gt-Ge)]);c.style.minWidth=Te+"px",c.style.left=lt+"px"}else{const Ce=$.right-G.right,be=window.innerWidth-z.right-Ce,He=window.innerWidth-R.right-be,Te=R.width+He,Ge=Math.max(Te,$.width),gt=window.innerWidth-Za,lt=l4(be,[Za,Math.max(Za,gt-Ge)]);c.style.minWidth=Te+"px",c.style.right=lt+"px"}const W=w(),V=window.innerHeight-Za*2,K=C.scrollHeight,q=window.getComputedStyle(h),Y=parseInt(q.borderTopWidth,10),J=parseInt(q.paddingTop,10),ne=parseInt(q.borderBottomWidth,10),te=parseInt(q.paddingBottom,10),Q=Y+J+K+te+ne,ue=Math.min(E.offsetHeight*5,Q),ae=window.getComputedStyle(C),se=parseInt(ae.paddingTop,10),me=parseInt(ae.paddingBottom,10),xe=R.top+R.height/2-Za,Ue=V-xe,Pe=E.offsetHeight/2,Se=E.offsetTop+Pe,je=Y+J+Se,Ee=Q-je;if(je<=xe){const Ce=W.length>0&&E===W[W.length-1].ref.current;c.style.bottom="0px";const be=h.clientHeight-C.offsetTop-C.offsetHeight,He=Math.max(Ue,Pe+(Ce?me:0)+be+ne),Te=je+He;c.style.height=Te+"px"}else{const Ce=W.length>0&&E===W[0].ref.current;c.style.top="0px";const He=Math.max(xe,Y+C.offsetTop+(Ce?se:0)+Pe)+Ee;c.style.height=He+"px",C.scrollTop=je-xe+C.offsetTop}c.style.margin=`${Za}px 0`,c.style.minHeight=ue+"px",c.style.maxHeight=V+"px",n?.(),requestAnimationFrame(()=>b.current=!0)}},[w,s.trigger,s.valueNode,c,h,C,E,P,s.dir,n]);fi(()=>I(),[I]);const[F,M]=N.useState();fi(()=>{h&&M(window.getComputedStyle(h).zIndex)},[h]);const D=N.useCallback(R=>{R&&A.current===!0&&(I(),k?.(),A.current=!1)},[I,k]);return a.jsx(Jue,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:b,onScrollButtonChange:D,children:a.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:F},children:a.jsx(Mt.div,{...i,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});IV.displayName=Zue;var Que="SelectPopperPosition",qA=N.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Za,...s}=t,o=Ex(r);return a.jsx(W1,{...o,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});qA.displayName=Que;var[Jue,GO]=Lh(cd,{}),zA="SelectViewport",RV=N.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=Gc(zA,r),o=GO(zA,r),c=Nr(e,s.onViewportChange),u=N.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Sx.Slot,{scope:r,children:a.jsx(Mt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ft(i.onScroll,h=>{const g=h.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:w}=o;if(w?.current&&v){const b=Math.abs(u.current-g.scrollTop);if(b>0){const A=window.innerHeight-Za*2,C=parseFloat(v.style.minHeight),E=parseFloat(v.style.height),P=Math.max(C,E);if(P<A){const k=P+b,I=Math.min(A,k),F=k-I;v.style.height=I+"px",v.style.bottom==="0px"&&(g.scrollTop=F>0?F:0,v.style.justifyContent="flex-end")}}}u.current=g.scrollTop})})})]})});RV.displayName=zA;var MV="SelectGroup",[ede,tde]=Lh(MV),rde=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Pa();return a.jsx(ede,{scope:r,id:i,children:a.jsx(Mt.div,{role:"group","aria-labelledby":i,...n,ref:e})})});rde.displayName=MV;var DV="SelectLabel",LV=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=tde(DV,r);return a.jsx(Mt.div,{id:i.id,...n,ref:e})});LV.displayName=DV;var Ry="SelectItem",[nde,BV]=Lh(Ry),FV=N.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...o}=t,c=Hc(Ry,r),u=Gc(Ry,r),h=c.value===n,[g,v]=N.useState(s??""),[w,b]=N.useState(!1),A=Nr(e,k=>u.itemRefCallback?.(k,n,i)),C=Pa(),E=N.useRef("touch"),P=()=>{i||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(nde,{scope:r,value:n,disabled:i,textId:C,isSelected:h,onItemTextChange:N.useCallback(k=>{v(I=>I||(k?.textContent??"").trim())},[]),children:a.jsx(Sx.ItemSlot,{scope:r,value:n,disabled:i,textValue:g,children:a.jsx(Mt.div,{role:"option","aria-labelledby":C,"data-highlighted":w?"":void 0,"aria-selected":h&&w,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:A,onFocus:ft(o.onFocus,()=>b(!0)),onBlur:ft(o.onBlur,()=>b(!1)),onClick:ft(o.onClick,()=>{E.current!=="mouse"&&P()}),onPointerUp:ft(o.onPointerUp,()=>{E.current==="mouse"&&P()}),onPointerDown:ft(o.onPointerDown,k=>{E.current=k.pointerType}),onPointerMove:ft(o.onPointerMove,k=>{E.current=k.pointerType,i?u.onItemLeave?.():E.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ft(o.onPointerLeave,k=>{k.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:ft(o.onKeyDown,k=>{u.searchRef?.current!==""&&k.key===" "||(Vue.includes(k.key)&&P(),k.key===" "&&k.preventDefault())})})})})});FV.displayName=Ry;var ep="SelectItemText",UV=N.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,o=Hc(ep,r),c=Gc(ep,r),u=BV(ep,r),h=Hue(ep,r),[g,v]=N.useState(null),w=Nr(e,P=>v(P),u.onItemTextChange,P=>c.itemTextRefCallback?.(P,u.value,u.disabled)),b=g?.textContent,A=N.useMemo(()=>a.jsx("option",{value:u.value,disabled:u.disabled,children:b},u.value),[u.disabled,u.value,b]),{onNativeOptionAdd:C,onNativeOptionRemove:E}=h;return fi(()=>(C(A),()=>E(A)),[C,E,A]),a.jsxs(a.Fragment,{children:[a.jsx(Mt.span,{id:u.textId,...s,ref:w}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ah.createPortal(s.children,o.valueNode):null]})});UV.displayName=ep;var $V="SelectItemIndicator",VV=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return BV($V,r).isSelected?a.jsx(Mt.span,{"aria-hidden":!0,...n,ref:e}):null});VV.displayName=$V;var WA="SelectScrollUpButton",qV=N.forwardRef((t,e)=>{const r=Gc(WA,t.__scopeSelect),n=GO(WA,t.__scopeSelect),[i,s]=N.useState(!1),o=Nr(e,n.onScrollButtonChange);return fi(()=>{if(r.viewport&&r.isPositioned){let c=function(){const h=u.scrollTop>0;s(h)};const u=r.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),i?a.jsx(WV,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=r;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}}):null});qV.displayName=WA;var HA="SelectScrollDownButton",zV=N.forwardRef((t,e)=>{const r=Gc(HA,t.__scopeSelect),n=GO(HA,t.__scopeSelect),[i,s]=N.useState(!1),o=Nr(e,n.onScrollButtonChange);return fi(()=>{if(r.viewport&&r.isPositioned){let c=function(){const h=u.scrollHeight-u.clientHeight,g=Math.ceil(u.scrollTop)<h;s(g)};const u=r.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),i?a.jsx(WV,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=r;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}}):null});zV.displayName=HA;var WV=N.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=Gc("SelectScrollButton",r),o=N.useRef(null),c=Cx(r),u=N.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return N.useEffect(()=>()=>u(),[u]),fi(()=>{c().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),a.jsx(Mt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ft(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:ft(i.onPointerMove,()=>{s.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:ft(i.onPointerLeave,()=>{u()})})}),ide="SelectSeparator",HV=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return a.jsx(Mt.div,{"aria-hidden":!0,...n,ref:e})});HV.displayName=ide;var GA="SelectArrow",sde=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Ex(r),s=Hc(GA,r),o=Gc(GA,r);return s.open&&o.position==="popper"?a.jsx(H1,{...i,...n,ref:e}):null});sde.displayName=GA;var ade="SelectBubbleInput",GV=N.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=N.useRef(null),s=Nr(n,i),o=HO(e);return N.useEffect(()=>{const c=i.current;if(!c)return;const u=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==e&&g){const v=new Event("change",{bubbles:!0});g.call(c,e),c.dispatchEvent(v)}},[o,e]),a.jsx(Mt.select,{...r,style:{..._B,...r.style},ref:s,defaultValue:e})});GV.displayName=ade;function KV(t){return t===""||t===void 0}function YV(t){const e=Ss(t),r=N.useRef(""),n=N.useRef(0),i=N.useCallback(o=>{const c=r.current+o;e(c),(function u(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>u(""),1e3))})(c)},[e]),s=N.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function XV(t,e,r){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=ode(t,Math.max(s,0));i.length===1&&(o=o.filter(h=>h!==r));const u=o.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==r?u:void 0}function ode(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var lde=SV,ZV=EV,cde=jV,ude=NV,dde=OV,QV=TV,fde=RV,JV=LV,eq=FV,hde=UV,mde=VV,tq=qV,rq=zV,nq=HV;const Ln=lde,Bn=cde,Nn=N.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(ZV,{ref:n,className:Re("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,a.jsx(ude,{asChild:!0,children:a.jsx(EN,{className:"h-4 w-4 opacity-50"})})]}));Nn.displayName=ZV.displayName;const iq=N.forwardRef(({className:t,...e},r)=>a.jsx(tq,{ref:r,className:Re("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(gY,{className:"h-4 w-4"})}));iq.displayName=tq.displayName;const sq=N.forwardRef(({className:t,...e},r)=>a.jsx(rq,{ref:r,className:Re("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(EN,{className:"h-4 w-4"})}));sq.displayName=rq.displayName;const On=N.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>a.jsx(dde,{children:a.jsxs(QV,{ref:i,className:Re("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[a.jsx(iq,{}),a.jsx(fde,{className:Re("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(sq,{})]})}));On.displayName=QV.displayName;const pde=N.forwardRef(({className:t,...e},r)=>a.jsx(JV,{ref:r,className:Re("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));pde.displayName=JV.displayName;const Ot=N.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(eq,{ref:n,className:Re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(mde,{children:a.jsx(CN,{className:"h-4 w-4"})})}),a.jsx(hde,{children:e})]}));Ot.displayName=eq.displayName;const gde=N.forwardRef(({className:t,...e},r)=>a.jsx(nq,{ref:r,className:Re("-mx-1 my-1 h-px bg-muted",t),...e}));gde.displayName=nq.displayName;var Ax="Checkbox",[vde]=ls(Ax),[yde,KO]=vde(Ax);function xde(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:i,disabled:s,form:o,name:c,onCheckedChange:u,required:h,value:g="on",internal_do_not_use_render:v}=t,[w,b]=lo({prop:r,defaultProp:i??!1,onChange:u,caller:Ax}),[A,C]=N.useState(null),[E,P]=N.useState(null),k=N.useRef(!1),I=A?!!o||!!A.closest("form"):!0,F={checked:w,disabled:s,setChecked:b,control:A,setControl:C,name:c,form:o,value:g,hasConsumerStoppedPropagationRef:k,required:h,defaultChecked:Nc(i)?!1:i,isFormControl:I,bubbleInput:E,setBubbleInput:P};return a.jsx(yde,{scope:e,...F,children:wde(v)?v(F):n})}var aq="CheckboxTrigger",oq=N.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},i)=>{const{control:s,value:o,disabled:c,checked:u,required:h,setControl:g,setChecked:v,hasConsumerStoppedPropagationRef:w,isFormControl:b,bubbleInput:A}=KO(aq,t),C=Nr(i,g),E=N.useRef(u);return N.useEffect(()=>{const P=s?.form;if(P){const k=()=>v(E.current);return P.addEventListener("reset",k),()=>P.removeEventListener("reset",k)}},[s,v]),a.jsx(Mt.button,{type:"button",role:"checkbox","aria-checked":Nc(u)?"mixed":u,"aria-required":h,"data-state":fq(u),"data-disabled":c?"":void 0,disabled:c,value:o,...n,ref:C,onKeyDown:ft(e,P=>{P.key==="Enter"&&P.preventDefault()}),onClick:ft(r,P=>{v(k=>Nc(k)?!0:!k),A&&b&&(w.current=P.isPropagationStopped(),w.current||P.stopPropagation())})})});oq.displayName=aq;var YO=N.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:o,disabled:c,value:u,onCheckedChange:h,form:g,...v}=t;return a.jsx(xde,{__scopeCheckbox:r,checked:i,defaultChecked:s,disabled:c,required:o,onCheckedChange:h,name:n,form:g,value:u,internal_do_not_use_render:({isFormControl:w})=>a.jsxs(a.Fragment,{children:[a.jsx(oq,{...v,ref:e,__scopeCheckbox:r}),w&&a.jsx(dq,{__scopeCheckbox:r})]})})});YO.displayName=Ax;var lq="CheckboxIndicator",cq=N.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,s=KO(lq,r);return a.jsx(Bs,{present:n||Nc(s.checked)||s.checked===!0,children:a.jsx(Mt.span,{"data-state":fq(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});cq.displayName=lq;var uq="CheckboxBubbleInput",dq=N.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:c,disabled:u,name:h,value:g,form:v,bubbleInput:w,setBubbleInput:b}=KO(uq,t),A=Nr(r,b),C=HO(s),E=LN(n);N.useEffect(()=>{const k=w;if(!k)return;const I=window.HTMLInputElement.prototype,M=Object.getOwnPropertyDescriptor(I,"checked").set,D=!i.current;if(C!==s&&M){const R=new Event("click",{bubbles:D});k.indeterminate=Nc(s),M.call(k,Nc(s)?!1:s),k.dispatchEvent(R)}},[w,C,s,i]);const P=N.useRef(Nc(s)?!1:s);return a.jsx(Mt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??P.current,required:c,disabled:u,name:h,value:g,form:v,...e,tabIndex:-1,ref:A,style:{...e.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});dq.displayName=uq;function wde(t){return typeof t=="function"}function Nc(t){return t==="indeterminate"}function fq(t){return Nc(t)?"indeterminate":t?"checked":"unchecked"}const KA=N.forwardRef(({className:t,...e},r)=>a.jsx(YO,{ref:r,className:Re("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:a.jsx(cq,{className:Re("flex items-center justify-center text-current"),children:a.jsx(CN,{className:"h-4 w-4"})})}));KA.displayName=YO.displayName;const bde=()=>{const{isAdmin:t,isLoading:e}=$U(),r=Kn();Gn();const[n,i]=N.useState([]),[s,o]=N.useState(!0),[c,u]=N.useState(""),[h,g]=N.useState("all"),[v,w]=N.useState("all"),[b,A]=N.useState(new Set),[C,E]=N.useState(!1),[P,k]=N.useState(null),[I,F]=N.useState("member"),[M,D]=N.useState(!1),[R,$]=N.useState(null),[z,G]=N.useState([]);N.useEffect(()=>{!e&&!t&&r("/admin")},[t,e,r]),N.useEffect(()=>{t&&W()},[t]);const W=async()=>{try{o(!0);const{data:Q,error:ue}=await ye.from("profiles").select("*").order("created_at",{ascending:!1});if(ue)throw ue;const{data:ae,error:se}=await ye.from("user_roles").select("user_id, role");if(se)throw se;const{data:me,error:xe}=await ye.from("user_memberships").select("user_id, status, end_date").order("created_at",{ascending:!1});if(xe)throw xe;const{data:Ue,error:Pe}=await ye.from("check_ins").select("user_id, check_in_time").order("check_in_time",{ascending:!1});if(Pe)throw Pe;const{data:Se,error:je}=await ye.from("class_bookings").select("user_id, created_at").order("created_at",{ascending:!1});if(je)throw je;const Ee=Q.map(Fe=>{const Ce=ae.find(lt=>lt.user_id===Fe.id)?.role||"member",be=me?.find(lt=>lt.user_id===Fe.id),He=Ue?.filter(lt=>lt.user_id===Fe.id)[0],Te=Se?.filter(lt=>lt.user_id===Fe.id)[0],Ge=He||Te?new Date(He&&Te?new Date(He.check_in_time)>new Date(Te.created_at)?He.check_in_time:Te.created_at:He?.check_in_time||Te?.created_at||"").toISOString():void 0;let gt="none";return be&&(be.status==="active"&&new Date(be.end_date)>new Date?gt="active":gt="expired"),{...Fe,role:Ce,membership_status:gt,last_activity:Ge,total_visits:Ue?.filter(lt=>lt.user_id===Fe.id).length||0,total_bookings:Se?.filter(lt=>lt.user_id===Fe.id).length||0}});i(Ee)}catch(Q){console.error("Error fetching users:",Q),Et({title:"Error loading users",description:Q.message})}finally{o(!1)}},V=N.useMemo(()=>n.filter(Q=>{const ue=c===""||Q.full_name?.toLowerCase().includes(c.toLowerCase())||Q.id.toLowerCase().includes(c.toLowerCase())||Q.phone?.toLowerCase().includes(c.toLowerCase()),ae=h==="all"||Q.role===h,se=v==="all"||Q.membership_status===v;return ue&&ae&&se}),[n,c,h,v]),K=Q=>{const ue=new Set(b);ue.has(Q)?ue.delete(Q):ue.add(Q),A(ue)},q=()=>{b.size===V.length?A(new Set):A(new Set(V.map(Q=>Q.id)))},Y=async(Q,ue)=>{try{const{data:ae}=await ye.from("user_roles").select("id").eq("user_id",Q).single();if(ae){const{error:se}=await ye.from("user_roles").update({role:ue}).eq("user_id",Q);if(se)throw se}else{const{error:se}=await ye.from("user_roles").insert([{user_id:Q,role:ue}]);if(se)throw se}Dn(`User role updated to ${ue}`),await W(),E(!1),k(null)}catch(ae){console.error("Error updating role:",ae),Et({title:"Error updating role",description:ae.message})}},J=async Q=>{try{const ue=Array.from(b).map(async ae=>{const{data:se}=await ye.from("user_roles").select("id").eq("user_id",ae).single();return se?ye.from("user_roles").update({role:Q}).eq("user_id",ae):ye.from("user_roles").insert([{user_id:ae,role:Q}])});await Promise.all(ue),Dn(`Updated ${b.size} user(s) to ${Q}`),A(new Set),await W()}catch(ue){console.error("Error bulk updating roles:",ue),Et({title:"Error updating roles",description:ue.message})}},ne=async Q=>{try{Et({title:"Not implemented",description:"User suspension feature requires additional database fields."})}catch(ue){console.error("Error suspending user:",ue),Et({title:"Error suspending user",description:ue.message})}},te=async Q=>{$(Q),D(!0);try{const[ue,ae]=await Promise.all([ye.from("check_ins").select("check_in_time, check_out_time, location").eq("user_id",Q.id).order("check_in_time",{ascending:!1}).limit(20),ye.from("class_bookings").select("*, class_sessions(name, start_time)").eq("user_id",Q.id).order("created_at",{ascending:!1}).limit(20)]);if(ue.error)throw ue.error;if(ae.error)throw ae.error;const se=[...(ue.data||[]).map(me=>({type:"check-in",date:me.check_in_time,description:`Checked in at ${me.location||"Main Gym"}`})),...(ae.data||[]).map(me=>({type:"booking",date:me.created_at,description:`Booked ${me.class_sessions?.name||"Class"}`}))].sort((me,xe)=>new Date(xe.date).getTime()-new Date(me.date).getTime());G(se)}catch(ue){console.error("Error fetching activity:",ue),Et({title:"Error loading activity",description:ue.message})}};return e||!t?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx(oa,{size:"lg",text:"Loading..."})}):s?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx(oa,{size:"lg",text:"Loading users..."})}):a.jsx("div",{className:"min-h-screen bg-background p-6",children:a.jsxs("div",{className:"container mx-auto max-w-7xl",children:[a.jsx("div",{className:"flex items-center justify-between mb-8",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"User Management"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage users, roles, and permissions"})]})}),a.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-6",children:[a.jsx(qe,{className:"md:col-span-2",children:a.jsx(ze,{className:"p-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(jN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(jt,{placeholder:"Search by name, ID, or phone...",className:"pl-10",value:c,onChange:Q=>u(Q.target.value)})]})})}),a.jsx(qe,{children:a.jsx(ze,{className:"p-4",children:a.jsxs(Ln,{value:h,onValueChange:g,children:[a.jsx(Nn,{children:a.jsx(Bn,{placeholder:"Filter by role"})}),a.jsxs(On,{children:[a.jsx(Ot,{value:"all",children:"All Roles"}),a.jsx(Ot,{value:"admin",children:"Admin"}),a.jsx(Ot,{value:"staff",children:"Staff"}),a.jsx(Ot,{value:"member",children:"Member"})]})]})})}),a.jsx(qe,{children:a.jsx(ze,{className:"p-4",children:a.jsxs(Ln,{value:v,onValueChange:w,children:[a.jsx(Nn,{children:a.jsx(Bn,{placeholder:"Filter by status"})}),a.jsxs(On,{children:[a.jsx(Ot,{value:"all",children:"All Status"}),a.jsx(Ot,{value:"active",children:"Active Membership"}),a.jsx(Ot,{value:"expired",children:"Expired Membership"}),a.jsx(Ot,{value:"none",children:"No Membership"})]})]})})})]}),b.size>0&&a.jsx(qe,{className:"mb-6",children:a.jsx(ze,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"text-sm font-medium",children:[b.size," user(s) selected"]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(Ln,{value:"",onValueChange:Q=>{Q&&J(Q)},children:[a.jsx(Nn,{className:"w-[180px]",children:a.jsx(Bn,{placeholder:"Change role..."})}),a.jsxs(On,{children:[a.jsx(Ot,{value:"admin",children:"Set as Admin"}),a.jsx(Ot,{value:"staff",children:"Set as Staff"}),a.jsx(Ot,{value:"member",children:"Set as Member"})]})]})})]}),a.jsx(_e,{variant:"outline",size:"sm",onClick:()=>A(new Set),children:"Clear Selection"})]})})}),a.jsxs(qe,{children:[a.jsx(yt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(_t,{children:["All Users (",V.length,")"]}),a.jsx(cr,{children:b.size>0&&`${b.size} selected`})]}),a.jsx(_e,{variant:"outline",size:"sm",onClick:q,children:b.size===V.length?a.jsxs(a.Fragment,{children:[a.jsx(TY,{className:"w-4 h-4 mr-2"}),"Deselect All"]}):a.jsxs(a.Fragment,{children:[a.jsx(kY,{className:"w-4 h-4 mr-2"}),"Select All"]})})]})}),a.jsx(ze,{children:V.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"No users found"})}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Fc,{children:[a.jsx(Uc,{children:a.jsxs(os,{children:[a.jsx(Yt,{className:"w-12",children:a.jsx(KA,{checked:b.size===V.length&&V.length>0,onCheckedChange:q})}),a.jsx(Yt,{children:"User"}),a.jsx(Yt,{children:"Role"}),a.jsx(Yt,{children:"Membership"}),a.jsx(Yt,{children:"Activity"}),a.jsx(Yt,{children:"Stats"}),a.jsx(Yt,{className:"text-right",children:"Actions"})]})}),a.jsx($c,{children:V.map(Q=>a.jsxs(os,{children:[a.jsx(Gt,{children:a.jsx(KA,{checked:b.has(Q.id),onCheckedChange:()=>K(Q.id)})}),a.jsx(Gt,{children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:Q.full_name||"No name"}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",Q.id.slice(0,8),"..."]}),Q.phone&&a.jsx("div",{className:"text-xs text-muted-foreground",children:Q.phone})]})}),a.jsx(Gt,{children:a.jsxs(Qt,{variant:Q.role==="admin"?"destructive":Q.role==="staff"?"default":"secondary",children:[Q.role==="admin"&&a.jsx(KB,{className:"w-3 h-3 mr-1"}),Q.role==="staff"&&a.jsx(Of,{className:"w-3 h-3 mr-1"}),Q.role==="member"&&a.jsx(Of,{className:"w-3 h-3 mr-1"}),Q.role]})}),a.jsx(Gt,{children:a.jsx(Qt,{variant:Q.membership_status==="active"?"default":Q.membership_status==="expired"?"destructive":"secondary",children:Q.membership_status||"none"})}),a.jsx(Gt,{children:Q.last_activity?a.jsx("div",{className:"text-sm",children:a.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[a.jsx(Lo,{className:"w-3 h-3"}),We(new Date(Q.last_activity),"MMM d, yyyy")]})}):a.jsx("span",{className:"text-sm text-muted-foreground",children:"No activity"})}),a.jsx(Gt,{children:a.jsxs("div",{className:"text-sm space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(gI,{className:"w-3 h-3 text-muted-foreground"}),a.jsxs("span",{children:[Q.total_visits||0," visits"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Fn,{className:"w-3 h-3 text-muted-foreground"}),a.jsxs("span",{children:[Q.total_bookings||0," bookings"]})]})]})}),a.jsx(Gt,{className:"text-right",children:a.jsxs(nO,{children:[a.jsx(iO,{asChild:!0,children:a.jsx(_e,{variant:"ghost",size:"sm",children:a.jsx(wY,{className:"w-4 h-4"})})}),a.jsxs(lx,{align:"end",children:[a.jsx(sO,{children:"Actions"}),a.jsxs(Cc,{onClick:()=>te(Q),children:[a.jsx(gI,{className:"w-4 h-4 mr-2"}),"View Activity"]}),a.jsxs(Cc,{onClick:()=>{k(Q),F(Q.role),E(!0)},children:[a.jsx(Nh,{className:"w-4 h-4 mr-2"}),"Edit Role"]}),a.jsx(dy,{}),a.jsxs(Cc,{onClick:()=>r(`/profile?id=${Q.id}`),children:[a.jsx(Of,{className:"w-4 h-4 mr-2"}),"View Profile"]}),a.jsxs(Cc,{onClick:()=>ne(Q.id),className:"text-destructive",children:[a.jsx(LY,{className:"w-4 h-4 mr-2"}),"Suspend User"]})]})]})})]},Q.id))})]})})})]}),a.jsx(Rs,{open:C,onOpenChange:E,children:a.jsxs(ps,{children:[a.jsxs(gs,{children:[a.jsx(vs,{children:"Edit User Role"}),a.jsxs(Ms,{children:["Change the role for ",P?.full_name||`User ${P?.id.slice(0,8)}`]})]}),a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Role"}),a.jsxs(Ln,{value:I,onValueChange:Q=>F(Q),children:[a.jsx(Nn,{className:"mt-2",children:a.jsx(Bn,{})}),a.jsxs(On,{children:[a.jsx(Ot,{value:"member",children:"Member"}),a.jsx(Ot,{value:"staff",children:"Staff"}),a.jsx(Ot,{value:"admin",children:"Admin"})]})]})]})}),a.jsxs(ia,{children:[a.jsx(_e,{variant:"outline",onClick:()=>E(!1),children:"Cancel"}),a.jsx(_e,{onClick:()=>P&&Y(P.id,I),children:"Save Changes"})]})]})}),a.jsx(Rs,{open:M,onOpenChange:D,children:a.jsxs(ps,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(gs,{children:[a.jsxs(vs,{children:["Activity History - ",R?.full_name||`User ${R?.id.slice(0,8)}`]}),a.jsx(Ms,{children:"Recent check-ins and bookings"})]}),a.jsx("div",{className:"space-y-4 py-4",children:z.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No activity found"}):a.jsx("div",{className:"space-y-2",children:z.map((Q,ue)=>a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border bg-muted/30",children:[a.jsx("div",{className:`p-2 rounded-full ${Q.type==="check-in"?"bg-success/20":"bg-primary/20"}`,children:Q.type==="check-in"?a.jsx(MY,{className:"w-4 h-4 text-success"}):a.jsx(Fn,{className:"w-4 h-4 text-primary"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm",children:Q.description}),a.jsx("p",{className:"text-xs text-muted-foreground",children:We(new Date(Q.date),"MMM d, yyyy 'at' h:mm a")})]})]},ue))})}),a.jsx(ia,{children:a.jsx(_e,{onClick:()=>D(!1),children:"Close"})})]})})]})})};var nr=function(){return nr=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},nr.apply(this,arguments)};function _de(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function hq(t,e,r){for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function Bg(t){return t.mode==="multiple"}function Fg(t){return t.mode==="range"}function jx(t){return t.mode==="single"}var Sde={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Cde(t,e){return We(t,"LLLL y",e)}function Ede(t,e){return We(t,"d",e)}function Ade(t,e){return We(t,"LLLL",e)}function jde(t){return"".concat(t)}function Nde(t,e){return We(t,"cccccc",e)}function Ode(t,e){return We(t,"yyyy",e)}var Tde=Object.freeze({__proto__:null,formatCaption:Cde,formatDay:Ede,formatMonthCaption:Ade,formatWeekNumber:jde,formatWeekdayName:Nde,formatYearCaption:Ode}),kde=function(t,e,r){return We(t,"do MMMM (EEEE)",r)},Pde=function(){return"Month: "},Ide=function(){return"Go to next month"},Rde=function(){return"Go to previous month"},Mde=function(t,e){return We(t,"cccc",e)},Dde=function(t){return"Week n. ".concat(t)},Lde=function(){return"Year: "},Bde=Object.freeze({__proto__:null,labelDay:kde,labelMonthDropdown:Pde,labelNext:Ide,labelPrevious:Rde,labelWeekNumber:Dde,labelWeekday:Mde,labelYearDropdown:Lde});function Fde(){var t="buttons",e=Sde,r=A$,n={},i={},s=1,o={},c=new Date;return{captionLayout:t,classNames:e,formatters:Tde,labels:Bde,locale:r,modifiersClassNames:n,modifiers:i,numberOfMonths:s,styles:o,today:c,mode:"default"}}function Ude(t){var e=t.fromYear,r=t.toYear,n=t.fromMonth,i=t.toMonth,s=t.fromDate,o=t.toDate;return n?s=Ei(n):e&&(s=new Date(e,0,1)),i?o=Rh(i):r&&(o=new Date(r,11,31)),{fromDate:s?Kf(s):void 0,toDate:o?Kf(o):void 0}}var mq=N.createContext(void 0);function $de(t){var e,r=t.initialProps,n=Fde(),i=Ude(r),s=i.fromDate,o=i.toDate,c=(e=r.captionLayout)!==null&&e!==void 0?e:n.captionLayout;c!=="buttons"&&(!s||!o)&&(c="buttons");var u;(jx(r)||Bg(r)||Fg(r))&&(u=r.onSelect);var h=nr(nr(nr({},n),r),{captionLayout:c,classNames:nr(nr({},n.classNames),r.classNames),components:nr({},r.components),formatters:nr(nr({},n.formatters),r.formatters),fromDate:s,labels:nr(nr({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:nr(nr({},n.modifiers),r.modifiers),modifiersClassNames:nr(nr({},n.modifiersClassNames),r.modifiersClassNames),onSelect:u,styles:nr(nr({},n.styles),r.styles),toDate:o});return a.jsx(mq.Provider,{value:h,children:t.children})}function xn(){var t=N.useContext(mq);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function pq(t){var e=xn(),r=e.locale,n=e.classNames,i=e.styles,s=e.formatters.formatCaption;return a.jsx("div",{className:n.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:s(t.displayMonth,{locale:r})})}function Vde(t){return a.jsx("svg",nr({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function gq(t){var e,r,n=t.onChange,i=t.value,s=t.children,o=t.caption,c=t.className,u=t.style,h=xn(),g=(r=(e=h.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:Vde;return a.jsxs("div",{className:c,style:u,children:[a.jsx("span",{className:h.classNames.vhidden,children:t["aria-label"]}),a.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:h.classNames.dropdown,style:h.styles.dropdown,value:i,onChange:n,children:s}),a.jsxs("div",{className:h.classNames.caption_label,style:h.styles.caption_label,"aria-hidden":"true",children:[o,a.jsx(g,{className:h.classNames.dropdown_icon,style:h.styles.dropdown_icon})]})]})}function qde(t){var e,r=xn(),n=r.fromDate,i=r.toDate,s=r.styles,o=r.locale,c=r.formatters.formatMonthCaption,u=r.classNames,h=r.components,g=r.labels.labelMonthDropdown;if(!n)return a.jsx(a.Fragment,{});if(!i)return a.jsx(a.Fragment,{});var v=[];if(tce(n,i))for(var w=Ei(n),b=n.getMonth();b<=i.getMonth();b++)v.push($_(w,b));else for(var w=Ei(new Date),b=0;b<=11;b++)v.push($_(w,b));var A=function(E){var P=Number(E.target.value),k=$_(Ei(t.displayMonth),P);t.onChange(k)},C=(e=h?.Dropdown)!==null&&e!==void 0?e:gq;return a.jsx(C,{name:"months","aria-label":g(),className:u.dropdown_month,style:s.dropdown_month,onChange:A,value:t.displayMonth.getMonth(),caption:c(t.displayMonth,{locale:o}),children:v.map(function(E){return a.jsx("option",{value:E.getMonth(),children:c(E,{locale:o})},E.getMonth())})})}function zde(t){var e,r=t.displayMonth,n=xn(),i=n.fromDate,s=n.toDate,o=n.locale,c=n.styles,u=n.classNames,h=n.components,g=n.formatters.formatYearCaption,v=n.labels.labelYearDropdown,w=[];if(!i)return a.jsx(a.Fragment,{});if(!s)return a.jsx(a.Fragment,{});for(var b=i.getFullYear(),A=s.getFullYear(),C=b;C<=A;C++)w.push(GR(C$(new Date),C));var E=function(k){var I=GR(Ei(r),Number(k.target.value));t.onChange(I)},P=(e=h?.Dropdown)!==null&&e!==void 0?e:gq;return a.jsx(P,{name:"years","aria-label":v(),className:u.dropdown_year,style:c.dropdown_year,onChange:E,value:r.getFullYear(),caption:g(r,{locale:o}),children:w.map(function(k){return a.jsx("option",{value:k.getFullYear(),children:g(k,{locale:o})},k.getFullYear())})})}function Wde(t,e){var r=N.useState(t),n=r[0],i=r[1],s=e===void 0?n:e;return[s,i]}function Hde(t){var e=t.month,r=t.defaultMonth,n=t.today,i=e||r||n||new Date,s=t.toDate,o=t.fromDate,c=t.numberOfMonths,u=c===void 0?1:c;if(s&&kp(s,i)<0){var h=-1*(u-1);i=Hi(s,h)}return o&&kp(i,o)<0&&(i=o),Ei(i)}function Gde(){var t=xn(),e=Hde(t),r=Wde(e,t.month),n=r[0],i=r[1],s=function(o){var c;if(!t.disableNavigation){var u=Ei(o);i(u),(c=t.onMonthChange)===null||c===void 0||c.call(t,u)}};return[n,s]}function Kde(t,e){for(var r=e.reverseMonths,n=e.numberOfMonths,i=Ei(t),s=Ei(Hi(i,n)),o=kp(s,i),c=[],u=0;u<o;u++){var h=Hi(i,u);c.push(h)}return r&&(c=c.reverse()),c}function Yde(t,e){if(!e.disableNavigation){var r=e.toDate,n=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,o=n?s:1,c=Ei(t);if(!r)return Hi(c,o);var u=kp(r,t);if(!(u<s))return Hi(c,o)}}function Xde(t,e){if(!e.disableNavigation){var r=e.fromDate,n=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,o=n?s:1,c=Ei(t);if(!r)return Hi(c,-o);var u=kp(c,r);if(!(u<=0))return Hi(c,-o)}}var vq=N.createContext(void 0);function Zde(t){var e=xn(),r=Gde(),n=r[0],i=r[1],s=Kde(n,e),o=Yde(n,e),c=Xde(n,e),u=function(v){return s.some(function(w){return Mh(v,w)})},h=function(v,w){u(v)||(w&&BO(v,w)?i(Hi(v,1+e.numberOfMonths*-1)):i(v))},g={currentMonth:n,displayMonths:s,goToMonth:i,goToDate:h,previousMonth:c,nextMonth:o,isDateDisplayed:u};return a.jsx(vq.Provider,{value:g,children:t.children})}function Ug(){var t=N.useContext(vq);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function c4(t){var e,r=xn(),n=r.classNames,i=r.styles,s=r.components,o=Ug().goToMonth,c=function(g){o(Hi(g,t.displayIndex?-t.displayIndex:0))},u=(e=s?.CaptionLabel)!==null&&e!==void 0?e:pq,h=a.jsx(u,{id:t.id,displayMonth:t.displayMonth});return a.jsxs("div",{className:n.caption_dropdowns,style:i.caption_dropdowns,children:[a.jsx("div",{className:n.vhidden,children:h}),a.jsx(qde,{onChange:c,displayMonth:t.displayMonth}),a.jsx(zde,{onChange:c,displayMonth:t.displayMonth})]})}function Qde(t){return a.jsx("svg",nr({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Jde(t){return a.jsx("svg",nr({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var My=N.forwardRef(function(t,e){var r=xn(),n=r.classNames,i=r.styles,s=[n.button_reset,n.button];t.className&&s.push(t.className);var o=s.join(" "),c=nr(nr({},i.button_reset),i.button);return t.style&&Object.assign(c,t.style),a.jsx("button",nr({},t,{ref:e,type:"button",className:o,style:c}))});function efe(t){var e,r,n=xn(),i=n.dir,s=n.locale,o=n.classNames,c=n.styles,u=n.labels,h=u.labelPrevious,g=u.labelNext,v=n.components;if(!t.nextMonth&&!t.previousMonth)return a.jsx(a.Fragment,{});var w=h(t.previousMonth,{locale:s}),b=[o.nav_button,o.nav_button_previous].join(" "),A=g(t.nextMonth,{locale:s}),C=[o.nav_button,o.nav_button_next].join(" "),E=(e=v?.IconRight)!==null&&e!==void 0?e:Jde,P=(r=v?.IconLeft)!==null&&r!==void 0?r:Qde;return a.jsxs("div",{className:o.nav,style:c.nav,children:[!t.hidePrevious&&a.jsx(My,{name:"previous-month","aria-label":w,className:b,style:c.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?a.jsx(E,{className:o.nav_icon,style:c.nav_icon}):a.jsx(P,{className:o.nav_icon,style:c.nav_icon})}),!t.hideNext&&a.jsx(My,{name:"next-month","aria-label":A,className:C,style:c.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?a.jsx(P,{className:o.nav_icon,style:c.nav_icon}):a.jsx(E,{className:o.nav_icon,style:c.nav_icon})})]})}function u4(t){var e=xn().numberOfMonths,r=Ug(),n=r.previousMonth,i=r.nextMonth,s=r.goToMonth,o=r.displayMonths,c=o.findIndex(function(A){return Mh(t.displayMonth,A)}),u=c===0,h=c===o.length-1,g=e>1&&(u||!h),v=e>1&&(h||!u),w=function(){n&&s(n)},b=function(){i&&s(i)};return a.jsx(efe,{displayMonth:t.displayMonth,hideNext:g,hidePrevious:v,nextMonth:i,previousMonth:n,onPreviousClick:w,onNextClick:b})}function tfe(t){var e,r=xn(),n=r.classNames,i=r.disableNavigation,s=r.styles,o=r.captionLayout,c=r.components,u=(e=c?.CaptionLabel)!==null&&e!==void 0?e:pq,h;return i?h=a.jsx(u,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?h=a.jsx(c4,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?h=a.jsxs(a.Fragment,{children:[a.jsx(c4,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),a.jsx(u4,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):h=a.jsxs(a.Fragment,{children:[a.jsx(u,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),a.jsx(u4,{displayMonth:t.displayMonth,id:t.id})]}),a.jsx("div",{className:n.caption,style:s.caption,children:h})}function rfe(t){var e=xn(),r=e.footer,n=e.styles,i=e.classNames.tfoot;return r?a.jsx("tfoot",{className:i,style:n.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:r})})}):a.jsx(a.Fragment,{})}function nfe(t,e,r){for(var n=r?od(new Date):kn(new Date,{locale:t,weekStartsOn:e}),i=[],s=0;s<7;s++){var o=Vi(n,s);i.push(o)}return i}function ife(){var t=xn(),e=t.classNames,r=t.styles,n=t.showWeekNumber,i=t.locale,s=t.weekStartsOn,o=t.ISOWeek,c=t.formatters.formatWeekdayName,u=t.labels.labelWeekday,h=nfe(i,s,o);return a.jsxs("tr",{style:r.head_row,className:e.head_row,children:[n&&a.jsx("td",{style:r.head_cell,className:e.head_cell}),h.map(function(g,v){return a.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":u(g,{locale:i}),children:c(g,{locale:i})},v)})]})}function sfe(){var t,e=xn(),r=e.classNames,n=e.styles,i=e.components,s=(t=i?.HeadRow)!==null&&t!==void 0?t:ife;return a.jsx("thead",{style:n.head,className:r.head,children:a.jsx(s,{})})}function afe(t){var e=xn(),r=e.locale,n=e.formatters.formatDay;return a.jsx(a.Fragment,{children:n(t.date,{locale:r})})}var XO=N.createContext(void 0);function ofe(t){if(!Bg(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return a.jsx(XO.Provider,{value:e,children:t.children})}return a.jsx(lfe,{initialProps:t.initialProps,children:t.children})}function lfe(t){var e=t.initialProps,r=t.children,n=e.selected,i=e.min,s=e.max,o=function(h,g,v){var w,b;(w=e.onDayClick)===null||w===void 0||w.call(e,h,g,v);var A=!!(g.selected&&i&&n?.length===i);if(!A){var C=!!(!g.selected&&s&&n?.length===s);if(!C){var E=n?hq([],n):[];if(g.selected){var P=E.findIndex(function(k){return Er(h,k)});E.splice(P,1)}else E.push(h);(b=e.onSelect)===null||b===void 0||b.call(e,E,h,g,v)}}},c={disabled:[]};n&&c.disabled.push(function(h){var g=s&&n.length>s-1,v=n.some(function(w){return Er(w,h)});return!!(g&&!v)});var u={selected:n,onDayClick:o,modifiers:c};return a.jsx(XO.Provider,{value:u,children:r})}function ZO(){var t=N.useContext(XO);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function cfe(t,e){var r=e||{},n=r.from,i=r.to;return n&&i?Er(i,t)&&Er(n,t)?void 0:Er(i,t)?{from:i,to:void 0}:Er(n,t)?void 0:Pp(n,t)?{from:t,to:i}:{from:n,to:t}:i?Pp(t,i)?{from:i,to:t}:{from:t,to:i}:n?BO(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var QO=N.createContext(void 0);function ufe(t){if(!Fg(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(QO.Provider,{value:e,children:t.children})}return a.jsx(dfe,{initialProps:t.initialProps,children:t.children})}function dfe(t){var e=t.initialProps,r=t.children,n=e.selected,i=n||{},s=i.from,o=i.to,c=e.min,u=e.max,h=function(b,A,C){var E,P;(E=e.onDayClick)===null||E===void 0||E.call(e,b,A,C);var k=cfe(b,n);(P=e.onSelect)===null||P===void 0||P.call(e,k,b,A,C)},g={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(g.range_start=[s],o?(g.range_end=[o],Er(s,o)||(g.range_middle=[{after:s,before:o}])):g.range_end=[s]):o&&(g.range_start=[o],g.range_end=[o]),c&&(s&&!o&&g.disabled.push({after:wc(s,c-1),before:Vi(s,c-1)}),s&&o&&g.disabled.push({after:s,before:Vi(s,c-1)}),!s&&o&&g.disabled.push({after:wc(o,c-1),before:Vi(o,c-1)})),u){if(s&&!o&&(g.disabled.push({before:Vi(s,-u+1)}),g.disabled.push({after:Vi(s,u-1)})),s&&o){var v=ao(o,s)+1,w=u-v;g.disabled.push({before:wc(s,w)}),g.disabled.push({after:Vi(o,w)})}!s&&o&&(g.disabled.push({before:Vi(o,-u+1)}),g.disabled.push({after:Vi(o,u-1)}))}return a.jsx(QO.Provider,{value:{selected:n,onDayClick:h,modifiers:g},children:r})}function JO(){var t=N.useContext(QO);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Qv(t){return Array.isArray(t)?hq([],t):t!==void 0?[t]:[]}function ffe(t){var e={};return Object.entries(t).forEach(function(r){var n=r[0],i=r[1];e[n]=Qv(i)}),e}var ho;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(ho||(ho={}));var hfe=ho.Selected,ol=ho.Disabled,mfe=ho.Hidden,pfe=ho.Today,q_=ho.RangeEnd,z_=ho.RangeMiddle,W_=ho.RangeStart,gfe=ho.Outside;function vfe(t,e,r){var n,i=(n={},n[hfe]=Qv(t.selected),n[ol]=Qv(t.disabled),n[mfe]=Qv(t.hidden),n[pfe]=[t.today],n[q_]=[],n[z_]=[],n[W_]=[],n[gfe]=[],n);return t.fromDate&&i[ol].push({before:t.fromDate}),t.toDate&&i[ol].push({after:t.toDate}),Bg(t)?i[ol]=i[ol].concat(e.modifiers[ol]):Fg(t)&&(i[ol]=i[ol].concat(r.modifiers[ol]),i[W_]=r.modifiers[W_],i[z_]=r.modifiers[z_],i[q_]=r.modifiers[q_]),i}var yq=N.createContext(void 0);function yfe(t){var e=xn(),r=ZO(),n=JO(),i=vfe(e,r,n),s=ffe(e.modifiers),o=nr(nr({},i),s);return a.jsx(yq.Provider,{value:o,children:t.children})}function xq(){var t=N.useContext(yq);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function xfe(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function wfe(t){return!!(t&&typeof t=="object"&&"from"in t)}function bfe(t){return!!(t&&typeof t=="object"&&"after"in t)}function _fe(t){return!!(t&&typeof t=="object"&&"before"in t)}function Sfe(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Cfe(t,e){var r,n=e.from,i=e.to;if(n&&i){var s=ao(i,n)<0;s&&(r=[i,n],n=r[0],i=r[1]);var o=ao(t,n)>=0&&ao(i,t)>=0;return o}return i?Er(i,t):n?Er(n,t):!1}function Efe(t){return LO(t)}function Afe(t){return Array.isArray(t)&&t.every(LO)}function jfe(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if(Efe(r))return Er(t,r);if(Afe(r))return r.includes(t);if(wfe(r))return Cfe(t,r);if(Sfe(r))return r.dayOfWeek.includes(t.getDay());if(xfe(r)){var n=ao(r.before,t),i=ao(r.after,t),s=n>0,o=i<0,c=Pp(r.before,r.after);return c?o&&s:s||o}return bfe(r)?ao(t,r.after)>0:_fe(r)?ao(r.before,t)>0:typeof r=="function"?r(t):!1})}function eT(t,e,r){var n=Object.keys(e).reduce(function(s,o){var c=e[o];return jfe(t,c)&&s.push(o),s},[]),i={};return n.forEach(function(s){return i[s]=!0}),r&&!Mh(t,r)&&(i.outside=!0),i}function Nfe(t,e){for(var r=Ei(t[0]),n=Rh(t[t.length-1]),i,s,o=r;o<=n;){var c=eT(o,e),u=!c.disabled&&!c.hidden;if(!u){o=Vi(o,1);continue}if(c.selected)return o;c.today&&!s&&(s=o),i||(i=o),o=Vi(o,1)}return s||i}var Ofe=365;function wq(t,e){var r=e.moveBy,n=e.direction,i=e.context,s=e.modifiers,o=e.retry,c=o===void 0?{count:0,lastFocused:t}:o,u=i.weekStartsOn,h=i.fromDate,g=i.toDate,v=i.locale,w={day:Vi,week:Bc,month:Hi,year:Goe,startOfWeek:function(E){return i.ISOWeek?od(E):kn(E,{locale:v,weekStartsOn:u})},endOfWeek:function(E){return i.ISOWeek?E$(E):_s(E,{locale:v,weekStartsOn:u})}},b=w[r](t,n==="after"?1:-1);n==="before"&&h?b=Koe([h,b]):n==="after"&&g&&(b=Yoe([g,b]));var A=!0;if(s){var C=eT(b,s);A=!C.disabled&&!C.hidden}return A?b:c.count>Ofe?c.lastFocused:wq(b,{moveBy:r,direction:n,context:i,modifiers:s,retry:nr(nr({},c),{count:c.count+1})})}var bq=N.createContext(void 0);function Tfe(t){var e=Ug(),r=xq(),n=N.useState(),i=n[0],s=n[1],o=N.useState(),c=o[0],u=o[1],h=Nfe(e.displayMonths,r),g=i??(c&&e.isDateDisplayed(c))?c:h,v=function(){u(i),s(void 0)},w=function(E){s(E)},b=xn(),A=function(E,P){if(i){var k=wq(i,{moveBy:E,direction:P,context:b,modifiers:r});Er(i,k)||(e.goToDate(k,i),w(k))}},C={focusedDay:i,focusTarget:g,blur:v,focus:w,focusDayAfter:function(){return A("day","after")},focusDayBefore:function(){return A("day","before")},focusWeekAfter:function(){return A("week","after")},focusWeekBefore:function(){return A("week","before")},focusMonthBefore:function(){return A("month","before")},focusMonthAfter:function(){return A("month","after")},focusYearBefore:function(){return A("year","before")},focusYearAfter:function(){return A("year","after")},focusStartOfWeek:function(){return A("startOfWeek","before")},focusEndOfWeek:function(){return A("endOfWeek","after")}};return a.jsx(bq.Provider,{value:C,children:t.children})}function tT(){var t=N.useContext(bq);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function kfe(t,e){var r=xq(),n=eT(t,r,e);return n}var rT=N.createContext(void 0);function Pfe(t){if(!jx(t.initialProps)){var e={selected:void 0};return a.jsx(rT.Provider,{value:e,children:t.children})}return a.jsx(Ife,{initialProps:t.initialProps,children:t.children})}function Ife(t){var e=t.initialProps,r=t.children,n=function(s,o,c){var u,h,g;if((u=e.onDayClick)===null||u===void 0||u.call(e,s,o,c),o.selected&&!e.required){(h=e.onSelect)===null||h===void 0||h.call(e,void 0,s,o,c);return}(g=e.onSelect)===null||g===void 0||g.call(e,s,s,o,c)},i={selected:e.selected,onDayClick:n};return a.jsx(rT.Provider,{value:i,children:r})}function _q(){var t=N.useContext(rT);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function Rfe(t,e){var r=xn(),n=_q(),i=ZO(),s=JO(),o=tT(),c=o.focusDayAfter,u=o.focusDayBefore,h=o.focusWeekAfter,g=o.focusWeekBefore,v=o.blur,w=o.focus,b=o.focusMonthBefore,A=o.focusMonthAfter,C=o.focusYearBefore,E=o.focusYearAfter,P=o.focusStartOfWeek,k=o.focusEndOfWeek,I=function(ne){var te,Q,ue,ae;jx(r)?(te=n.onDayClick)===null||te===void 0||te.call(n,t,e,ne):Bg(r)?(Q=i.onDayClick)===null||Q===void 0||Q.call(i,t,e,ne):Fg(r)?(ue=s.onDayClick)===null||ue===void 0||ue.call(s,t,e,ne):(ae=r.onDayClick)===null||ae===void 0||ae.call(r,t,e,ne)},F=function(ne){var te;w(t),(te=r.onDayFocus)===null||te===void 0||te.call(r,t,e,ne)},M=function(ne){var te;v(),(te=r.onDayBlur)===null||te===void 0||te.call(r,t,e,ne)},D=function(ne){var te;(te=r.onDayMouseEnter)===null||te===void 0||te.call(r,t,e,ne)},R=function(ne){var te;(te=r.onDayMouseLeave)===null||te===void 0||te.call(r,t,e,ne)},$=function(ne){var te;(te=r.onDayPointerEnter)===null||te===void 0||te.call(r,t,e,ne)},z=function(ne){var te;(te=r.onDayPointerLeave)===null||te===void 0||te.call(r,t,e,ne)},G=function(ne){var te;(te=r.onDayTouchCancel)===null||te===void 0||te.call(r,t,e,ne)},W=function(ne){var te;(te=r.onDayTouchEnd)===null||te===void 0||te.call(r,t,e,ne)},V=function(ne){var te;(te=r.onDayTouchMove)===null||te===void 0||te.call(r,t,e,ne)},K=function(ne){var te;(te=r.onDayTouchStart)===null||te===void 0||te.call(r,t,e,ne)},q=function(ne){var te;(te=r.onDayKeyUp)===null||te===void 0||te.call(r,t,e,ne)},Y=function(ne){var te;switch(ne.key){case"ArrowLeft":ne.preventDefault(),ne.stopPropagation(),r.dir==="rtl"?c():u();break;case"ArrowRight":ne.preventDefault(),ne.stopPropagation(),r.dir==="rtl"?u():c();break;case"ArrowDown":ne.preventDefault(),ne.stopPropagation(),h();break;case"ArrowUp":ne.preventDefault(),ne.stopPropagation(),g();break;case"PageUp":ne.preventDefault(),ne.stopPropagation(),ne.shiftKey?C():b();break;case"PageDown":ne.preventDefault(),ne.stopPropagation(),ne.shiftKey?E():A();break;case"Home":ne.preventDefault(),ne.stopPropagation(),P();break;case"End":ne.preventDefault(),ne.stopPropagation(),k();break}(te=r.onDayKeyDown)===null||te===void 0||te.call(r,t,e,ne)},J={onClick:I,onFocus:F,onBlur:M,onKeyDown:Y,onKeyUp:q,onMouseEnter:D,onMouseLeave:R,onPointerEnter:$,onPointerLeave:z,onTouchCancel:G,onTouchEnd:W,onTouchMove:V,onTouchStart:K};return J}function Mfe(){var t=xn(),e=_q(),r=ZO(),n=JO(),i=jx(t)?e.selected:Bg(t)?r.selected:Fg(t)?n.selected:void 0;return i}function Dfe(t){return Object.values(ho).includes(t)}function Lfe(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(n){var i=t.modifiersClassNames[n];if(i)r.push(i);else if(Dfe(n)){var s=t.classNames["day_".concat(n)];s&&r.push(s)}}),r}function Bfe(t,e){var r=nr({},t.styles.day);return Object.keys(e).forEach(function(n){var i;r=nr(nr({},r),(i=t.modifiersStyles)===null||i===void 0?void 0:i[n])}),r}function Ffe(t,e,r){var n,i,s,o=xn(),c=tT(),u=kfe(t,e),h=Rfe(t,u),g=Mfe(),v=!!(o.onDayClick||o.mode!=="default");N.useEffect(function(){var D;u.outside||c.focusedDay&&v&&Er(c.focusedDay,t)&&((D=r.current)===null||D===void 0||D.focus())},[c.focusedDay,t,r,v,u.outside]);var w=Lfe(o,u).join(" "),b=Bfe(o,u),A=!!(u.outside&&!o.showOutsideDays||u.hidden),C=(s=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:afe,E=a.jsx(C,{date:t,displayMonth:e,activeModifiers:u}),P={style:b,className:w,children:E,role:"gridcell"},k=c.focusTarget&&Er(c.focusTarget,t)&&!u.outside,I=c.focusedDay&&Er(c.focusedDay,t),F=nr(nr(nr({},P),(n={disabled:u.disabled,role:"gridcell"},n["aria-selected"]=u.selected,n.tabIndex=I||k?0:-1,n)),h),M={isButton:v,isHidden:A,activeModifiers:u,selectedDays:g,buttonProps:F,divProps:P};return M}function Ufe(t){var e=N.useRef(null),r=Ffe(t.date,t.displayMonth,e);return r.isHidden?a.jsx("div",{role:"gridcell"}):r.isButton?a.jsx(My,nr({name:"day",ref:e},r.buttonProps)):a.jsx("div",nr({},r.divProps))}function $fe(t){var e=t.number,r=t.dates,n=xn(),i=n.onWeekNumberClick,s=n.styles,o=n.classNames,c=n.locale,u=n.labels.labelWeekNumber,h=n.formatters.formatWeekNumber,g=h(Number(e),{locale:c});if(!i)return a.jsx("span",{className:o.weeknumber,style:s.weeknumber,children:g});var v=u(Number(e),{locale:c}),w=function(b){i(e,r,b)};return a.jsx(My,{name:"week-number","aria-label":v,className:o.weeknumber,style:s.weeknumber,onClick:w,children:g})}function Vfe(t){var e,r,n=xn(),i=n.styles,s=n.classNames,o=n.showWeekNumber,c=n.components,u=(e=c?.Day)!==null&&e!==void 0?e:Ufe,h=(r=c?.WeekNumber)!==null&&r!==void 0?r:$fe,g;return o&&(g=a.jsx("td",{className:s.cell,style:i.cell,children:a.jsx(h,{number:t.weekNumber,dates:t.dates})})),a.jsxs("tr",{className:s.row,style:i.row,children:[g,t.dates.map(function(v){return a.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:a.jsx(u,{displayMonth:t.displayMonth,date:v})},Zle(v))})]})}function d4(t,e,r){for(var n=r?.ISOWeek?E$(e):_s(e,r),i=r?.ISOWeek?od(t):kn(t,r),s=ao(n,i),o=[],c=0;c<=s;c++)o.push(Vi(i,c));var u=o.reduce(function(h,g){var v=r?.ISOWeek?j$(g):O$(g,r),w=h.find(function(b){return b.weekNumber===v});return w?(w.dates.push(g),h):(h.push({weekNumber:v,dates:[g]}),h)},[]);return u}function qfe(t,e){var r=d4(Ei(t),Rh(t),e);if(e?.useFixedWeeks){var n=Jle(t,e);if(n<6){var i=r[r.length-1],s=i.dates[i.dates.length-1],o=Bc(s,6-n),c=d4(Bc(s,1),o,e);r.push.apply(r,c)}}return r}function zfe(t){var e,r,n,i=xn(),s=i.locale,o=i.classNames,c=i.styles,u=i.hideHead,h=i.fixedWeeks,g=i.components,v=i.weekStartsOn,w=i.firstWeekContainsDate,b=i.ISOWeek,A=qfe(t.displayMonth,{useFixedWeeks:!!h,ISOWeek:b,locale:s,weekStartsOn:v,firstWeekContainsDate:w}),C=(e=g?.Head)!==null&&e!==void 0?e:sfe,E=(r=g?.Row)!==null&&r!==void 0?r:Vfe,P=(n=g?.Footer)!==null&&n!==void 0?n:rfe;return a.jsxs("table",{id:t.id,className:o.table,style:c.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!u&&a.jsx(C,{}),a.jsx("tbody",{className:o.tbody,style:c.tbody,children:A.map(function(k){return a.jsx(E,{displayMonth:t.displayMonth,dates:k.dates,weekNumber:k.weekNumber},k.weekNumber)})}),a.jsx(P,{displayMonth:t.displayMonth})]})}function Wfe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Hfe=Wfe()?N.useLayoutEffect:N.useEffect,H_=!1,Gfe=0;function f4(){return"react-day-picker-".concat(++Gfe)}function Kfe(t){var e,r=t??(H_?f4():null),n=N.useState(r),i=n[0],s=n[1];return Hfe(function(){i===null&&s(f4())},[]),N.useEffect(function(){H_===!1&&(H_=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function Yfe(t){var e,r,n=xn(),i=n.dir,s=n.classNames,o=n.styles,c=n.components,u=Ug().displayMonths,h=Kfe(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),g=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,v=[s.month],w=o.month,b=t.displayIndex===0,A=t.displayIndex===u.length-1,C=!b&&!A;i==="rtl"&&(e=[b,A],A=e[0],b=e[1]),b&&(v.push(s.caption_start),w=nr(nr({},w),o.caption_start)),A&&(v.push(s.caption_end),w=nr(nr({},w),o.caption_end)),C&&(v.push(s.caption_between),w=nr(nr({},w),o.caption_between));var E=(r=c?.Caption)!==null&&r!==void 0?r:tfe;return a.jsxs("div",{className:v.join(" "),style:w,children:[a.jsx(E,{id:h,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),a.jsx(zfe,{id:g,"aria-labelledby":h,displayMonth:t.displayMonth})]},t.displayIndex)}function Xfe(t){var e=xn(),r=e.classNames,n=e.styles;return a.jsx("div",{className:r.months,style:n.months,children:t.children})}function Zfe(t){var e,r,n=t.initialProps,i=xn(),s=tT(),o=Ug(),c=N.useState(!1),u=c[0],h=c[1];N.useEffect(function(){i.initialFocus&&s.focusTarget&&(u||(s.focus(s.focusTarget),h(!0)))},[i.initialFocus,u,s.focus,s.focusTarget,s]);var g=[i.classNames.root,i.className];i.numberOfMonths>1&&g.push(i.classNames.multiple_months),i.showWeekNumber&&g.push(i.classNames.with_weeknumber);var v=nr(nr({},i.styles.root),i.style),w=Object.keys(n).filter(function(A){return A.startsWith("data-")}).reduce(function(A,C){var E;return nr(nr({},A),(E={},E[C]=n[C],E))},{}),b=(r=(e=n.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:Xfe;return a.jsx("div",nr({className:g.join(" "),style:v,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},w,{children:a.jsx(b,{children:o.displayMonths.map(function(A,C){return a.jsx(Yfe,{displayIndex:C,displayMonth:A},C)})})}))}function Qfe(t){var e=t.children,r=_de(t,["children"]);return a.jsx($de,{initialProps:r,children:a.jsx(Zde,{children:a.jsx(Pfe,{initialProps:r,children:a.jsx(ofe,{initialProps:r,children:a.jsx(ufe,{initialProps:r,children:a.jsx(yfe,{children:a.jsx(Tfe,{children:e})})})})})})})}function Jfe(t){return a.jsx(Qfe,nr({},t,{children:a.jsx(Zfe,{initialProps:t})}))}function Yf({className:t,classNames:e,showOutsideDays:r=!0,...n}){return a.jsx(Jfe,{showOutsideDays:r,className:Re("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Re(Cp({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Re(Cp({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...i})=>a.jsx(Wi,{className:"h-4 w-4"}),IconRight:({...i})=>a.jsx(bs,{className:"h-4 w-4"})},...n})}Yf.displayName="Calendar";var Nx="Popover",[Sq]=ls(Nx,[Vc]),$g=Vc(),[ehe,Kc]=Sq(Nx),Cq=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!1}=t,c=$g(e),u=N.useRef(null),[h,g]=N.useState(!1),[v,w]=lo({prop:n,defaultProp:i??!1,onChange:s,caller:Nx});return a.jsx(z1,{...c,children:a.jsx(ehe,{scope:e,contentId:Pa(),triggerRef:u,open:v,onOpenChange:w,onOpenToggle:N.useCallback(()=>w(b=>!b),[w]),hasCustomAnchor:h,onCustomAnchorAdd:N.useCallback(()=>g(!0),[]),onCustomAnchorRemove:N.useCallback(()=>g(!1),[]),modal:o,children:r})})};Cq.displayName=Nx;var Eq="PopoverAnchor",the=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Kc(Eq,r),s=$g(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:c}=i;return N.useEffect(()=>(o(),()=>c()),[o,c]),a.jsx(wg,{...s,...n,ref:e})});the.displayName=Eq;var Aq="PopoverTrigger",jq=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Kc(Aq,r),s=$g(r),o=Nr(e,i.triggerRef),c=a.jsx(Mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Pq(i.open),...n,ref:o,onClick:ft(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?c:a.jsx(wg,{asChild:!0,...s,children:c})});jq.displayName=Aq;var nT="PopoverPortal",[rhe,nhe]=Sq(nT,{forceMount:void 0}),Nq=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,s=Kc(nT,e);return a.jsx(rhe,{scope:e,forceMount:r,children:a.jsx(Bs,{present:r||s.open,children:a.jsx(jh,{asChild:!0,container:i,children:n})})})};Nq.displayName=nT;var Xf="PopoverContent",Oq=N.forwardRef((t,e)=>{const r=nhe(Xf,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,s=Kc(Xf,t.__scopePopover);return a.jsx(Bs,{present:n||s.open,children:s.modal?a.jsx(she,{...i,ref:e}):a.jsx(ahe,{...i,ref:e})})});Oq.displayName=Xf;var ihe=Pc("PopoverContent.RemoveScroll"),she=N.forwardRef((t,e)=>{const r=Kc(Xf,t.__scopePopover),n=N.useRef(null),i=Nr(e,n),s=N.useRef(!1);return N.useEffect(()=>{const o=n.current;if(o)return rx(o)},[]),a.jsx(Eg,{as:ihe,allowPinchZoom:!0,children:a.jsx(Tq,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ft(t.onCloseAutoFocus,o=>{o.preventDefault(),s.current||r.triggerRef.current?.focus()}),onPointerDownOutside:ft(t.onPointerDownOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;s.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:ft(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),ahe=N.forwardRef((t,e)=>{const r=Kc(Xf,t.__scopePopover),n=N.useRef(!1),i=N.useRef(!1);return a.jsx(Tq,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||r.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;r.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Tq=N.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:g,...v}=t,w=Kc(Xf,r),b=$g(r);return ex(),a.jsx(Sg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(yd,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:g,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onDismiss:()=>w.onOpenChange(!1),children:a.jsx(W1,{"data-state":Pq(w.open),role:"dialog",id:w.contentId,...b,...v,ref:e,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),kq="PopoverClose",ohe=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Kc(kq,r);return a.jsx(Mt.button,{type:"button",...n,ref:e,onClick:ft(t.onClick,()=>i.onOpenChange(!1))})});ohe.displayName=kq;var lhe="PopoverArrow",che=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=$g(r);return a.jsx(H1,{...i,...n,ref:e})});che.displayName=lhe;function Pq(t){return t?"open":"closed"}var uhe=Cq,dhe=jq,fhe=Nq,Iq=Oq;const Rp=uhe,Mp=dhe,Zf=N.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>a.jsx(fhe,{children:a.jsx(Iq,{ref:i,align:e,sideOffset:r,className:Re("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Zf.displayName=Iq.displayName;const hhe=()=>a.jsxs(qe,{children:[a.jsxs(yt,{children:[a.jsx(Dr,{className:"h-6 w-48"}),a.jsx(Dr,{className:"h-4 w-32 mt-2"})]}),a.jsx(ze,{children:a.jsx(Dr,{className:"h-64 w-full"})})]}),mhe=({count:t=2})=>a.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:Array.from({length:t}).map((e,r)=>a.jsx(hhe,{},r))});var G_,h4;function Fs(){if(h4)return G_;h4=1;var t=Array.isArray;return G_=t,G_}var K_,m4;function Rq(){if(m4)return K_;m4=1;var t=typeof _c=="object"&&_c&&_c.Object===Object&&_c;return K_=t,K_}var Y_,p4;function qo(){if(p4)return Y_;p4=1;var t=Rq(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Y_=r,Y_}var X_,g4;function Vg(){if(g4)return X_;g4=1;var t=qo(),e=t.Symbol;return X_=e,X_}var Z_,v4;function phe(){if(v4)return Z_;v4=1;var t=Vg(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function s(o){var c=r.call(o,i),u=o[i];try{o[i]=void 0;var h=!0}catch{}var g=n.call(o);return h&&(c?o[i]=u:delete o[i]),g}return Z_=s,Z_}var Q_,y4;function ghe(){if(y4)return Q_;y4=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Q_=r,Q_}var J_,x4;function Dl(){if(x4)return J_;x4=1;var t=Vg(),e=phe(),r=ghe(),n="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(c){return c==null?c===void 0?i:n:s&&s in Object(c)?e(c):r(c)}return J_=o,J_}var e2,w4;function Ll(){if(w4)return e2;w4=1;function t(e){return e!=null&&typeof e=="object"}return e2=t,e2}var t2,b4;function Bh(){if(b4)return t2;b4=1;var t=Dl(),e=Ll(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return t2=n,t2}var r2,_4;function iT(){if(_4)return r2;_4=1;var t=Fs(),e=Bh(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,o){if(t(s))return!1;var c=typeof s;return c=="number"||c=="symbol"||c=="boolean"||s==null||e(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return r2=i,r2}var n2,S4;function Yc(){if(S4)return n2;S4=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return n2=t,n2}var i2,C4;function sT(){if(C4)return i2;C4=1;var t=Dl(),e=Yc(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(c){if(!e(c))return!1;var u=t(c);return u==n||u==i||u==r||u==s}return i2=o,i2}var s2,E4;function vhe(){if(E4)return s2;E4=1;var t=qo(),e=t["__core-js_shared__"];return s2=e,s2}var a2,A4;function yhe(){if(A4)return a2;A4=1;var t=vhe(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return a2=r,a2}var o2,j4;function Mq(){if(j4)return o2;j4=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return o2=r,o2}var l2,N4;function xhe(){if(N4)return l2;N4=1;var t=sT(),e=yhe(),r=Yc(),n=Mq(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,c=Object.prototype,u=o.toString,h=c.hasOwnProperty,g=RegExp("^"+u.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(w){if(!r(w)||e(w))return!1;var b=t(w)?g:s;return b.test(n(w))}return l2=v,l2}var c2,O4;function whe(){if(O4)return c2;O4=1;function t(e,r){return e?.[r]}return c2=t,c2}var u2,T4;function Cd(){if(T4)return u2;T4=1;var t=xhe(),e=whe();function r(n,i){var s=e(n,i);return t(s)?s:void 0}return u2=r,u2}var d2,k4;function Ox(){if(k4)return d2;k4=1;var t=Cd(),e=t(Object,"create");return d2=e,d2}var f2,P4;function bhe(){if(P4)return f2;P4=1;var t=Ox();function e(){this.__data__=t?t(null):{},this.size=0}return f2=e,f2}var h2,I4;function _he(){if(I4)return h2;I4=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return h2=t,h2}var m2,R4;function She(){if(R4)return m2;R4=1;var t=Ox(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var o=this.__data__;if(t){var c=o[s];return c===e?void 0:c}return n.call(o,s)?o[s]:void 0}return m2=i,m2}var p2,M4;function Che(){if(M4)return p2;M4=1;var t=Ox(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var s=this.__data__;return t?s[i]!==void 0:r.call(s,i)}return p2=n,p2}var g2,D4;function Ehe(){if(D4)return g2;D4=1;var t=Ox(),e="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&i===void 0?e:i,this}return g2=r,g2}var v2,L4;function Ahe(){if(L4)return v2;L4=1;var t=bhe(),e=_he(),r=She(),n=Che(),i=Ehe();function s(o){var c=-1,u=o==null?0:o.length;for(this.clear();++c<u;){var h=o[c];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,v2=s,v2}var y2,B4;function jhe(){if(B4)return y2;B4=1;function t(){this.__data__=[],this.size=0}return y2=t,y2}var x2,F4;function aT(){if(F4)return x2;F4=1;function t(e,r){return e===r||e!==e&&r!==r}return x2=t,x2}var w2,U4;function Tx(){if(U4)return w2;U4=1;var t=aT();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return w2=e,w2}var b2,$4;function Nhe(){if($4)return b2;$4=1;var t=Tx(),e=Array.prototype,r=e.splice;function n(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var c=s.length-1;return o==c?s.pop():r.call(s,o,1),--this.size,!0}return b2=n,b2}var _2,V4;function Ohe(){if(V4)return _2;V4=1;var t=Tx();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return _2=e,_2}var S2,q4;function The(){if(q4)return S2;q4=1;var t=Tx();function e(r){return t(this.__data__,r)>-1}return S2=e,S2}var C2,z4;function khe(){if(z4)return C2;z4=1;var t=Tx();function e(r,n){var i=this.__data__,s=t(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return C2=e,C2}var E2,W4;function kx(){if(W4)return E2;W4=1;var t=jhe(),e=Nhe(),r=Ohe(),n=The(),i=khe();function s(o){var c=-1,u=o==null?0:o.length;for(this.clear();++c<u;){var h=o[c];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,E2=s,E2}var A2,H4;function oT(){if(H4)return A2;H4=1;var t=Cd(),e=qo(),r=t(e,"Map");return A2=r,A2}var j2,G4;function Phe(){if(G4)return j2;G4=1;var t=Ahe(),e=kx(),r=oT();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return j2=n,j2}var N2,K4;function Ihe(){if(K4)return N2;K4=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return N2=t,N2}var O2,Y4;function Px(){if(Y4)return O2;Y4=1;var t=Ihe();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return O2=e,O2}var T2,X4;function Rhe(){if(X4)return T2;X4=1;var t=Px();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return T2=e,T2}var k2,Z4;function Mhe(){if(Z4)return k2;Z4=1;var t=Px();function e(r){return t(this,r).get(r)}return k2=e,k2}var P2,Q4;function Dhe(){if(Q4)return P2;Q4=1;var t=Px();function e(r){return t(this,r).has(r)}return P2=e,P2}var I2,J4;function Lhe(){if(J4)return I2;J4=1;var t=Px();function e(r,n){var i=t(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return I2=e,I2}var R2,eM;function lT(){if(eM)return R2;eM=1;var t=Phe(),e=Rhe(),r=Mhe(),n=Dhe(),i=Lhe();function s(o){var c=-1,u=o==null?0:o.length;for(this.clear();++c<u;){var h=o[c];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,R2=s,R2}var M2,tM;function Dq(){if(tM)return M2;tM=1;var t=lT(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var o=arguments,c=i?i.apply(this,o):o[0],u=s.cache;if(u.has(c))return u.get(c);var h=n.apply(this,o);return s.cache=u.set(c,h)||u,h};return s.cache=new(r.Cache||t),s}return r.Cache=t,M2=r,M2}var D2,rM;function Bhe(){if(rM)return D2;rM=1;var t=Dq(),e=500;function r(n){var i=t(n,function(o){return s.size===e&&s.clear(),o}),s=i.cache;return i}return D2=r,D2}var L2,nM;function Fhe(){if(nM)return L2;nM=1;var t=Bhe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(o,c,u,h){s.push(u?h.replace(r,"$1"):c||o)}),s});return L2=n,L2}var B2,iM;function cT(){if(iM)return B2;iM=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=Array(i);++n<i;)s[n]=r(e[n],n,e);return s}return B2=t,B2}var F2,sM;function Uhe(){if(sM)return F2;sM=1;var t=Vg(),e=cT(),r=Fs(),n=Bh(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function o(c){if(typeof c=="string")return c;if(r(c))return e(c,o)+"";if(n(c))return s?s.call(c):"";var u=c+"";return u=="0"&&1/c==-1/0?"-0":u}return F2=o,F2}var U2,aM;function Lq(){if(aM)return U2;aM=1;var t=Uhe();function e(r){return r==null?"":t(r)}return U2=e,U2}var $2,oM;function Bq(){if(oM)return $2;oM=1;var t=Fs(),e=iT(),r=Fhe(),n=Lq();function i(s,o){return t(s)?s:e(s,o)?[s]:r(n(s))}return $2=i,$2}var V2,lM;function Ix(){if(lM)return V2;lM=1;var t=Bh();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return V2=e,V2}var q2,cM;function uT(){if(cM)return q2;cM=1;var t=Bq(),e=Ix();function r(n,i){i=t(i,n);for(var s=0,o=i.length;n!=null&&s<o;)n=n[e(i[s++])];return s&&s==o?n:void 0}return q2=r,q2}var z2,uM;function Fq(){if(uM)return z2;uM=1;var t=uT();function e(r,n,i){var s=r==null?void 0:t(r,n);return s===void 0?i:s}return z2=e,z2}var $he=Fq();const la=Ur($he);var W2,dM;function Vhe(){if(dM)return W2;dM=1;function t(e){return e==null}return W2=t,W2}var qhe=Vhe();const ur=Ur(qhe);var H2,fM;function zhe(){if(fM)return H2;fM=1;var t=Dl(),e=Fs(),r=Ll(),n="[object String]";function i(s){return typeof s=="string"||!e(s)&&r(s)&&t(s)==n}return H2=i,H2}var Whe=zhe();const ud=Ur(Whe);var Hhe=sT();const Zt=Ur(Hhe);var Ghe=Yc();const Fh=Ur(Ghe);var G2={exports:{}},Xr={};var hM;function Khe(){if(hM)return Xr;hM=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),A;A=Symbol.for("react.module.reference");function C(E){if(typeof E=="object"&&E!==null){var P=E.$$typeof;switch(P){case t:switch(E=E.type,E){case r:case i:case n:case h:case g:return E;default:switch(E=E&&E.$$typeof,E){case c:case o:case u:case w:case v:case s:return E;default:return P}}case e:return P}}}return Xr.ContextConsumer=o,Xr.ContextProvider=s,Xr.Element=t,Xr.ForwardRef=u,Xr.Fragment=r,Xr.Lazy=w,Xr.Memo=v,Xr.Portal=e,Xr.Profiler=i,Xr.StrictMode=n,Xr.Suspense=h,Xr.SuspenseList=g,Xr.isAsyncMode=function(){return!1},Xr.isConcurrentMode=function(){return!1},Xr.isContextConsumer=function(E){return C(E)===o},Xr.isContextProvider=function(E){return C(E)===s},Xr.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},Xr.isForwardRef=function(E){return C(E)===u},Xr.isFragment=function(E){return C(E)===r},Xr.isLazy=function(E){return C(E)===w},Xr.isMemo=function(E){return C(E)===v},Xr.isPortal=function(E){return C(E)===e},Xr.isProfiler=function(E){return C(E)===i},Xr.isStrictMode=function(E){return C(E)===n},Xr.isSuspense=function(E){return C(E)===h},Xr.isSuspenseList=function(E){return C(E)===g},Xr.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===r||E===i||E===n||E===h||E===g||E===b||typeof E=="object"&&E!==null&&(E.$$typeof===w||E.$$typeof===v||E.$$typeof===s||E.$$typeof===o||E.$$typeof===u||E.$$typeof===A||E.getModuleId!==void 0)},Xr.typeOf=C,Xr}var mM;function Yhe(){return mM||(mM=1,G2.exports=Khe()),G2.exports}var Xhe=Yhe(),K2,pM;function Uq(){if(pM)return K2;pM=1;var t=Dl(),e=Ll(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return K2=n,K2}var Y2,gM;function Zhe(){if(gM)return Y2;gM=1;var t=Uq();function e(r){return t(r)&&r!=+r}return Y2=e,Y2}var Qhe=Zhe();const Uh=Ur(Qhe);var Jhe=Uq();const eme=Ur(Jhe);var ys=function(e){return e===0?0:e>0?1:-1},$u=function(e){return ud(e)&&e.indexOf("%")===e.length-1},st=function(e){return eme(e)&&!Uh(e)},tme=function(e){return ur(e)},Ci=function(e){return st(e)||ud(e)},rme=0,Ed=function(e){var r=++rme;return"".concat(e||"").concat(r)},xs=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!st(e)&&!ud(e))return n;var s;if($u(e)){var o=e.indexOf("%");s=r*parseFloat(e.slice(0,o))/100}else s=+e;return Uh(s)&&(s=n),i&&s>r&&(s=r),s},bc=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},nme=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Si=function(e,r){return st(e)&&st(r)?function(n){return e+n*(r-e)}:function(){return r}};function Dy(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):la(n,e))===r})}var ime=function(e,r){return st(e)&&st(r)?e-r:ud(e)&&ud(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Mf(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function YA(t){"@babel/helpers - typeof";return YA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YA(t)}var sme=["viewBox","children"],ame=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],vM=["points","pathLength"],X2={svg:sme,polygon:vM,polyline:vM},dT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ly=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(N.isValidElement(e)&&(n=e.props),!Fh(n))return null;var i={};return Object.keys(n).forEach(function(s){dT.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},ome=function(e,r,n){return function(i){return e(r,n,i),null}},dd=function(e,r,n){if(!Fh(e)||YA(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];dT.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=ome(o,r,n))}),i},lme=["children"],cme=["children"];function yM(t,e){if(t==null)return{};var r=ume(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ume(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function XA(t){"@babel/helpers - typeof";return XA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XA(t)}var xM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Sl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},wM=null,Z2=null,fT=function t(e){if(e===wM&&Array.isArray(Z2))return Z2;var r=[];return N.Children.forEach(e,function(n){ur(n)||(Xhe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Z2=r,wM=e,r};function ca(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Sl(i)}):n=[Sl(e)],fT(t).forEach(function(i){var s=la(i,"type.displayName")||la(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function Qs(t,e){var r=ca(t,e);return r&&r[0]}var bM=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!st(n)||n<=0||!st(i)||i<=0)},dme=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],fme=function(e){return e&&e.type&&ud(e.type)&&dme.indexOf(e.type)>=0},$q=function(e){return e&&XA(e)==="object"&&"clipDot"in e},hme=function(e,r,n,i){var s,o=(s=X2?.[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Zt(e)&&(i&&o.includes(r)||ame.includes(r))||n&&dT.includes(r)},Bt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(N.isValidElement(e)&&(i=e.props),!Fh(i))return null;var s={};return Object.keys(i).forEach(function(o){var c;hme((c=i)===null||c===void 0?void 0:c[o],o,r,n)&&(s[o]=i[o])}),s},ZA=function t(e,r){if(e===r)return!0;var n=N.Children.count(e);if(n!==N.Children.count(r))return!1;if(n===0)return!0;if(n===1)return _M(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=e[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!_M(s,o))return!1}return!0},_M=function(e,r){if(ur(e)&&ur(r))return!0;if(!ur(e)&&!ur(r)){var n=e.props||{},i=n.children,s=yM(n,lme),o=r.props||{},c=o.children,u=yM(o,cme);return i&&c?Mf(s,u)&&ZA(i,c):!i&&!c?Mf(s,u):!1}return!1},SM=function(e,r){var n=[],i={};return fT(e).forEach(function(s,o){if(fme(s))n.push(s);else if(s){var c=Sl(s.type),u=r[c]||{},h=u.handler,g=u.once;if(h&&(!g||!i[c])){var v=h(s,c,o);n.push(v),i[c]=!0}}}),n},mme=function(e){var r=e&&e.type;return r&&xM[r]?xM[r]:null},pme=function(e,r){return fT(r).indexOf(e)},gme=["children","width","height","viewBox","className","style","title","desc"];function QA(){return QA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QA.apply(this,arguments)}function vme(t,e){if(t==null)return{};var r=yme(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function JA(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,s=t.className,o=t.style,c=t.title,u=t.desc,h=vme(t,gme),g=i||{width:r,height:n,x:0,y:0},v=hr("recharts-surface",s);return ie.createElement("svg",QA({},Bt(h,!0,"svg"),{className:v,width:r,height:n,style:o,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height)}),ie.createElement("title",null,c),ie.createElement("desc",null,u),e)}var xme=["children","className"];function ej(){return ej=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ej.apply(this,arguments)}function wme(t,e){if(t==null)return{};var r=bme(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ir=ie.forwardRef(function(t,e){var r=t.children,n=t.className,i=wme(t,xme),s=hr("recharts-layer",n);return ie.createElement("g",ej({className:s},Bt(i,!0),{ref:e}),r)}),oo=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},Q2,CM;function _me(){if(CM)return Q2;CM=1;function t(e,r,n){var i=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(s);++i<s;)o[i]=e[i+r];return o}return Q2=t,Q2}var J2,EM;function Sme(){if(EM)return J2;EM=1;var t=_me();function e(r,n,i){var s=r.length;return i=i===void 0?s:i,!n&&i>=s?r:t(r,n,i)}return J2=e,J2}var eS,AM;function Vq(){if(AM)return eS;AM=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",c=RegExp("["+o+t+i+s+"]");function u(h){return c.test(h)}return eS=u,eS}var tS,jM;function Cme(){if(jM)return tS;jM=1;function t(e){return e.split("")}return tS=t,tS}var rS,NM;function Eme(){if(NM)return rS;NM=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="["+t+"]",c="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",h="(?:"+c+"|"+u+")",g="[^"+t+"]",v="(?:\\ud83c[\\udde6-\\uddff]){2}",w="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",A=h+"?",C="["+s+"]?",E="(?:"+b+"(?:"+[g,v,w].join("|")+")"+C+A+")*",P=C+A+E,k="(?:"+[g+c+"?",c,v,w,o].join("|")+")",I=RegExp(u+"(?="+u+")|"+k+P,"g");function F(M){return M.match(I)||[]}return rS=F,rS}var nS,OM;function Ame(){if(OM)return nS;OM=1;var t=Cme(),e=Vq(),r=Eme();function n(i){return e(i)?r(i):t(i)}return nS=n,nS}var iS,TM;function jme(){if(TM)return iS;TM=1;var t=Sme(),e=Vq(),r=Ame(),n=Lq();function i(s){return function(o){o=n(o);var c=e(o)?r(o):void 0,u=c?c[0]:o.charAt(0),h=c?t(c,1).join(""):o.slice(1);return u[s]()+h}}return iS=i,iS}var sS,kM;function Nme(){if(kM)return sS;kM=1;var t=jme(),e=t("toUpperCase");return sS=e,sS}var Ome=Nme();const Rx=Ur(Ome);function vn(t){return function(){return t}}const qq=Math.cos,By=Math.sin,go=Math.sqrt,Fy=Math.PI,Mx=2*Fy,tj=Math.PI,rj=2*tj,Pu=1e-6,Tme=rj-Pu;function zq(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function kme(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return zq;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Pme{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?zq:kme(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,c=this._y1,u=n-e,h=i-r,g=o-e,v=c-r,w=g*g+v*v;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(w>Pu)if(!(Math.abs(v*u-h*g)>Pu)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let b=n-o,A=i-c,C=u*u+h*h,E=b*b+A*A,P=Math.sqrt(C),k=Math.sqrt(w),I=s*Math.tan((tj-Math.acos((C+w-E)/(2*P*k)))/2),F=I/k,M=I/P;Math.abs(F-1)>Pu&&this._append`L${e+F*g},${r+F*v}`,this._append`A${s},${s},0,0,${+(v*b>g*A)},${this._x1=e+M*u},${this._y1=r+M*h}`}}arc(e,r,n,i,s,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(i),u=n*Math.sin(i),h=e+c,g=r+u,v=1^o,w=o?i-s:s-i;this._x1===null?this._append`M${h},${g}`:(Math.abs(this._x1-h)>Pu||Math.abs(this._y1-g)>Pu)&&this._append`L${h},${g}`,n&&(w<0&&(w=w%rj+rj),w>Tme?this._append`A${n},${n},0,1,${v},${e-c},${r-u}A${n},${n},0,1,${v},${this._x1=h},${this._y1=g}`:w>Pu&&this._append`A${n},${n},0,${+(w>=tj)},${v},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function hT(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Pme(e)}function mT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Wq(t){this._context=t}Wq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Dx(t){return new Wq(t)}function Hq(t){return t[0]}function Gq(t){return t[1]}function Kq(t,e){var r=vn(!0),n=null,i=Dx,s=null,o=hT(c);t=typeof t=="function"?t:t===void 0?Hq:vn(t),e=typeof e=="function"?e:e===void 0?Gq:vn(e);function c(u){var h,g=(u=mT(u)).length,v,w=!1,b;for(n==null&&(s=i(b=o())),h=0;h<=g;++h)!(h<g&&r(v=u[h],h,u))===w&&((w=!w)?s.lineStart():s.lineEnd()),w&&s.point(+t(v,h,u),+e(v,h,u));if(b)return s=null,b+""||null}return c.x=function(u){return arguments.length?(t=typeof u=="function"?u:vn(+u),c):t},c.y=function(u){return arguments.length?(e=typeof u=="function"?u:vn(+u),c):e},c.defined=function(u){return arguments.length?(r=typeof u=="function"?u:vn(!!u),c):r},c.curve=function(u){return arguments.length?(i=u,n!=null&&(s=i(n)),c):i},c.context=function(u){return arguments.length?(u==null?n=s=null:s=i(n=u),c):n},c}function Cv(t,e,r){var n=null,i=vn(!0),s=null,o=Dx,c=null,u=hT(h);t=typeof t=="function"?t:t===void 0?Hq:vn(+t),e=typeof e=="function"?e:vn(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Gq:vn(+r);function h(v){var w,b,A,C=(v=mT(v)).length,E,P=!1,k,I=new Array(C),F=new Array(C);for(s==null&&(c=o(k=u())),w=0;w<=C;++w){if(!(w<C&&i(E=v[w],w,v))===P)if(P=!P)b=w,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),A=w-1;A>=b;--A)c.point(I[A],F[A]);c.lineEnd(),c.areaEnd()}P&&(I[w]=+t(E,w,v),F[w]=+e(E,w,v),c.point(n?+n(E,w,v):I[w],r?+r(E,w,v):F[w]))}if(k)return c=null,k+""||null}function g(){return Kq().defined(i).curve(o).context(s)}return h.x=function(v){return arguments.length?(t=typeof v=="function"?v:vn(+v),n=null,h):t},h.x0=function(v){return arguments.length?(t=typeof v=="function"?v:vn(+v),h):t},h.x1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:vn(+v),h):n},h.y=function(v){return arguments.length?(e=typeof v=="function"?v:vn(+v),r=null,h):e},h.y0=function(v){return arguments.length?(e=typeof v=="function"?v:vn(+v),h):e},h.y1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:vn(+v),h):r},h.lineX0=h.lineY0=function(){return g().x(t).y(e)},h.lineY1=function(){return g().x(t).y(r)},h.lineX1=function(){return g().x(n).y(e)},h.defined=function(v){return arguments.length?(i=typeof v=="function"?v:vn(!!v),h):i},h.curve=function(v){return arguments.length?(o=v,s!=null&&(c=o(s)),h):o},h.context=function(v){return arguments.length?(v==null?s=c=null:c=o(s=v),h):s},h}class Yq{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Ime(t){return new Yq(t,!0)}function Rme(t){return new Yq(t,!1)}const pT={draw(t,e){const r=go(e/Fy);t.moveTo(r,0),t.arc(0,0,r,0,Mx)}},Mme={draw(t,e){const r=go(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},Xq=go(1/3),Dme=Xq*2,Lme={draw(t,e){const r=go(e/Dme),n=r*Xq;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Bme={draw(t,e){const r=go(e),n=-r/2;t.rect(n,n,r,r)}},Fme=.8908130915292852,Zq=By(Fy/10)/By(7*Fy/10),Ume=By(Mx/10)*Zq,$me=-qq(Mx/10)*Zq,Vme={draw(t,e){const r=go(e*Fme),n=Ume*r,i=$me*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const o=Mx*s/5,c=qq(o),u=By(o);t.lineTo(u*r,-c*r),t.lineTo(c*n-u*i,u*n+c*i)}t.closePath()}},aS=go(3),qme={draw(t,e){const r=-go(e/(aS*3));t.moveTo(0,r*2),t.lineTo(-aS*r,-r),t.lineTo(aS*r,-r),t.closePath()}},Sa=-.5,Ca=go(3)/2,nj=1/go(12),zme=(nj/2+1)*3,Wme={draw(t,e){const r=go(e/zme),n=r/2,i=r*nj,s=n,o=r*nj+r,c=-s,u=o;t.moveTo(n,i),t.lineTo(s,o),t.lineTo(c,u),t.lineTo(Sa*n-Ca*i,Ca*n+Sa*i),t.lineTo(Sa*s-Ca*o,Ca*s+Sa*o),t.lineTo(Sa*c-Ca*u,Ca*c+Sa*u),t.lineTo(Sa*n+Ca*i,Sa*i-Ca*n),t.lineTo(Sa*s+Ca*o,Sa*o-Ca*s),t.lineTo(Sa*c+Ca*u,Sa*u-Ca*c),t.closePath()}};function Hme(t,e){let r=null,n=hT(i);t=typeof t=="function"?t:vn(t||pT),e=typeof e=="function"?e:vn(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:vn(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:vn(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Uy(){}function $y(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function Qq(t){this._context=t}Qq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$y(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$y(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Gme(t){return new Qq(t)}function Jq(t){this._context=t}Jq.prototype={areaStart:Uy,areaEnd:Uy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:$y(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Kme(t){return new Jq(t)}function ez(t){this._context=t}ez.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:$y(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Yme(t){return new ez(t)}function tz(t){this._context=t}tz.prototype={areaStart:Uy,areaEnd:Uy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Xme(t){return new tz(t)}function PM(t){return t<0?-1:1}function IM(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),c=(s*i+o*n)/(n+i);return(PM(s)+PM(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(c))||0}function RM(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function oS(t,e,r){var n=t._x0,i=t._y0,s=t._x1,o=t._y1,c=(s-n)/3;t._context.bezierCurveTo(n+c,i+c*e,s-c,o-c*r,s,o)}function Vy(t){this._context=t}Vy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:oS(this,this._t0,RM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,oS(this,RM(this,r=IM(this,t,e)),r);break;default:oS(this,this._t0,r=IM(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function rz(t){this._context=new nz(t)}(rz.prototype=Object.create(Vy.prototype)).point=function(t,e){Vy.prototype.point.call(this,e,t)};function nz(t){this._context=t}nz.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function Zme(t){return new Vy(t)}function Qme(t){return new rz(t)}function iz(t){this._context=t}iz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=MM(t),i=MM(e),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function MM(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Jme(t){return new iz(t)}function Lx(t,e){this._context=t,this._t=e}Lx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function epe(t){return new Lx(t,.5)}function tpe(t){return new Lx(t,0)}function rpe(t){return new Lx(t,1)}function Qf(t,e){if((o=t.length)>1)for(var r=1,n,i,s=t[e[0]],o,c=s.length;r<o;++r)for(i=s,s=t[e[r]],n=0;n<c;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function ij(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function npe(t,e){return t[e]}function ipe(t){const e=[];return e.key=t,e}function spe(){var t=vn([]),e=ij,r=Qf,n=npe;function i(s){var o=Array.from(t.apply(this,arguments),ipe),c,u=o.length,h=-1,g;for(const v of s)for(c=0,++h;c<u;++c)(o[c][h]=[0,+n(v,o[c].key,h,s)]).data=v;for(c=0,g=mT(e(o));c<u;++c)o[g[c]].index=c;return r(o,g),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:vn(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:vn(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?ij:typeof s=="function"?s:vn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??Qf,i):r},i}function ape(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}Qf(t,e)}}function ope(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var o=0,c=0;o<i;++o)c+=t[o][r][1]||0;n[r][1]+=n[r][0]=-c/2}Qf(t,e)}}function lpe(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var c=0,u=0,h=0;c<o;++c){for(var g=t[e[c]],v=g[n][1]||0,w=g[n-1][1]||0,b=(v-w)/2,A=0;A<c;++A){var C=t[e[A]],E=C[n][1]||0,P=C[n-1][1]||0;b+=E-P}u+=v,h+=b*v}i[n-1][1]+=i[n-1][0]=r,u&&(r-=h/u)}i[n-1][1]+=i[n-1][0]=r,Qf(t,e)}}function Dp(t){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(t)}var cpe=["type","size","sizeType"];function sj(){return sj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sj.apply(this,arguments)}function DM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(r),!0).forEach(function(n){upe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function upe(t,e,r){return e=dpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dpe(t){var e=fpe(t,"string");return Dp(e)=="symbol"?e:e+""}function fpe(t,e){if(Dp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hpe(t,e){if(t==null)return{};var r=mpe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var sz={symbolCircle:pT,symbolCross:Mme,symbolDiamond:Lme,symbolSquare:Bme,symbolStar:Vme,symbolTriangle:qme,symbolWye:Wme},ppe=Math.PI/180,gpe=function(e){var r="symbol".concat(Rx(e));return sz[r]||pT},vpe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*ppe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},ype=function(e,r){sz["symbol".concat(Rx(e))]=r},gT=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,s=i===void 0?64:i,o=e.sizeType,c=o===void 0?"area":o,u=hpe(e,cpe),h=LM(LM({},u),{},{type:n,size:s,sizeType:c}),g=function(){var E=gpe(n),P=Hme().type(E).size(vpe(s,c,n));return P()},v=h.className,w=h.cx,b=h.cy,A=Bt(h,!0);return w===+w&&b===+b&&s===+s?ie.createElement("path",sj({},A,{className:hr("recharts-symbols",v),transform:"translate(".concat(w,", ").concat(b,")"),d:g()})):null};gT.registerSymbol=ype;function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function aj(){return aj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aj.apply(this,arguments)}function BM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xpe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(r),!0).forEach(function(n){Lp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bpe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oz(n.key),n)}}function _pe(t,e,r){return e&&bpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Spe(t,e,r){return e=qy(e),Cpe(t,az()?Reflect.construct(e,r||[],qy(t).constructor):e.apply(t,r))}function Cpe(t,e){if(e&&(Jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Epe(t)}function Epe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function az(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(az=function(){return!!t})()}function qy(t){return qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qy(t)}function Ape(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oj(t,e)}function oj(t,e){return oj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oj(t,e)}function Lp(t,e,r){return e=oz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oz(t){var e=jpe(t,"string");return Jf(e)=="symbol"?e:e+""}function jpe(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ea=32,vT=(function(t){function e(){return wpe(this,e),Spe(this,e,arguments)}return Ape(e,t),_pe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=Ea/2,o=Ea/6,c=Ea/3,u=n.inactive?i:n.color;if(n.type==="plainline")return ie.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Ea,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return ie.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(s,"h").concat(c,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*c,",").concat(s,`
            H`).concat(Ea,"M").concat(2*c,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(c,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return ie.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Ea/8,"h").concat(Ea,"v").concat(Ea*3/4,"h").concat(-Ea,"z"),className:"recharts-legend-icon"});if(ie.isValidElement(n.legendIcon)){var h=xpe({},n);return delete h.legendIcon,ie.cloneElement(n.legendIcon,h)}return ie.createElement(gT,{fill:u,cx:s,cy:s,size:Ea,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,c=i.layout,u=i.formatter,h=i.inactiveColor,g={x:0,y:0,width:Ea,height:Ea},v={display:c==="horizontal"?"inline-block":"block",marginRight:10},w={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(b,A){var C=b.formatter||u,E=hr(Lp(Lp({"recharts-legend-item":!0},"legend-item-".concat(A),!0),"inactive",b.inactive));if(b.type==="none")return null;var P=Zt(b.value)?null:b.value;oo(!Zt(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var k=b.inactive?h:b.color;return ie.createElement("li",aj({className:E,style:v,key:"legend-item-".concat(A)},dd(n.props,b,A)),ie.createElement(JA,{width:o,height:o,viewBox:g,style:w},n.renderIcon(b)),ie.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},C?C(P,b,A):P))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var c={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return ie.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])})(N.PureComponent);Lp(vT,"displayName","Legend");Lp(vT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var lS,FM;function Npe(){if(FM)return lS;FM=1;var t=kx();function e(){this.__data__=new t,this.size=0}return lS=e,lS}var cS,UM;function Ope(){if(UM)return cS;UM=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return cS=t,cS}var uS,$M;function Tpe(){if($M)return uS;$M=1;function t(e){return this.__data__.get(e)}return uS=t,uS}var dS,VM;function kpe(){if(VM)return dS;VM=1;function t(e){return this.__data__.has(e)}return dS=t,dS}var fS,qM;function Ppe(){if(qM)return fS;qM=1;var t=kx(),e=oT(),r=lT(),n=200;function i(s,o){var c=this.__data__;if(c instanceof t){var u=c.__data__;if(!e||u.length<n-1)return u.push([s,o]),this.size=++c.size,this;c=this.__data__=new r(u)}return c.set(s,o),this.size=c.size,this}return fS=i,fS}var hS,zM;function lz(){if(zM)return hS;zM=1;var t=kx(),e=Npe(),r=Ope(),n=Tpe(),i=kpe(),s=Ppe();function o(c){var u=this.__data__=new t(c);this.size=u.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=s,hS=o,hS}var mS,WM;function Ipe(){if(WM)return mS;WM=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return mS=e,mS}var pS,HM;function Rpe(){if(HM)return pS;HM=1;function t(e){return this.__data__.has(e)}return pS=t,pS}var gS,GM;function cz(){if(GM)return gS;GM=1;var t=lT(),e=Ipe(),r=Rpe();function n(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,gS=n,gS}var vS,KM;function uz(){if(KM)return vS;KM=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return vS=t,vS}var yS,YM;function dz(){if(YM)return yS;YM=1;function t(e,r){return e.has(r)}return yS=t,yS}var xS,XM;function fz(){if(XM)return xS;XM=1;var t=cz(),e=uz(),r=dz(),n=1,i=2;function s(o,c,u,h,g,v){var w=u&n,b=o.length,A=c.length;if(b!=A&&!(w&&A>b))return!1;var C=v.get(o),E=v.get(c);if(C&&E)return C==c&&E==o;var P=-1,k=!0,I=u&i?new t:void 0;for(v.set(o,c),v.set(c,o);++P<b;){var F=o[P],M=c[P];if(h)var D=w?h(M,F,P,c,o,v):h(F,M,P,o,c,v);if(D!==void 0){if(D)continue;k=!1;break}if(I){if(!e(c,function(R,$){if(!r(I,$)&&(F===R||g(F,R,u,h,v)))return I.push($)})){k=!1;break}}else if(!(F===M||g(F,M,u,h,v))){k=!1;break}}return v.delete(o),v.delete(c),k}return xS=s,xS}var wS,ZM;function Mpe(){if(ZM)return wS;ZM=1;var t=qo(),e=t.Uint8Array;return wS=e,wS}var bS,QM;function Dpe(){if(QM)return bS;QM=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,s){n[++r]=[s,i]}),n}return bS=t,bS}var _S,JM;function yT(){if(JM)return _S;JM=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return _S=t,_S}var SS,eD;function Lpe(){if(eD)return SS;eD=1;var t=Vg(),e=Mpe(),r=aT(),n=fz(),i=Dpe(),s=yT(),o=1,c=2,u="[object Boolean]",h="[object Date]",g="[object Error]",v="[object Map]",w="[object Number]",b="[object RegExp]",A="[object Set]",C="[object String]",E="[object Symbol]",P="[object ArrayBuffer]",k="[object DataView]",I=t?t.prototype:void 0,F=I?I.valueOf:void 0;function M(D,R,$,z,G,W,V){switch($){case k:if(D.byteLength!=R.byteLength||D.byteOffset!=R.byteOffset)return!1;D=D.buffer,R=R.buffer;case P:return!(D.byteLength!=R.byteLength||!W(new e(D),new e(R)));case u:case h:case w:return r(+D,+R);case g:return D.name==R.name&&D.message==R.message;case b:case C:return D==R+"";case v:var K=i;case A:var q=z&o;if(K||(K=s),D.size!=R.size&&!q)return!1;var Y=V.get(D);if(Y)return Y==R;z|=c,V.set(D,R);var J=n(K(D),K(R),z,G,W,V);return V.delete(D),J;case E:if(F)return F.call(D)==F.call(R)}return!1}return SS=M,SS}var CS,tD;function hz(){if(tD)return CS;tD=1;function t(e,r){for(var n=-1,i=r.length,s=e.length;++n<i;)e[s+n]=r[n];return e}return CS=t,CS}var ES,rD;function Bpe(){if(rD)return ES;rD=1;var t=hz(),e=Fs();function r(n,i,s){var o=i(n);return e(n)?o:t(o,s(n))}return ES=r,ES}var AS,nD;function Fpe(){if(nD)return AS;nD=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=0,o=[];++n<i;){var c=e[n];r(c,n,e)&&(o[s++]=c)}return o}return AS=t,AS}var jS,iD;function Upe(){if(iD)return jS;iD=1;function t(){return[]}return jS=t,jS}var NS,sD;function $pe(){if(sD)return NS;sD=1;var t=Fpe(),e=Upe(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(c){return n.call(o,c)}))}:e;return NS=s,NS}var OS,aD;function Vpe(){if(aD)return OS;aD=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return OS=t,OS}var TS,oD;function qpe(){if(oD)return TS;oD=1;var t=Dl(),e=Ll(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return TS=n,TS}var kS,lD;function xT(){if(lD)return kS;lD=1;var t=qpe(),e=Ll(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return kS=s,kS}var tp={exports:{}},PS,cD;function zpe(){if(cD)return PS;cD=1;function t(){return!1}return PS=t,PS}tp.exports;var uD;function mz(){return uD||(uD=1,(function(t,e){var r=qo(),n=zpe(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,c=o?r.Buffer:void 0,u=c?c.isBuffer:void 0,h=u||n;t.exports=h})(tp,tp.exports)),tp.exports}var IS,dD;function wT(){if(dD)return IS;dD=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return IS=r,IS}var RS,fD;function bT(){if(fD)return RS;fD=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return RS=e,RS}var MS,hD;function Wpe(){if(hD)return MS;hD=1;var t=Dl(),e=bT(),r=Ll(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",c="[object Error]",u="[object Function]",h="[object Map]",g="[object Number]",v="[object Object]",w="[object RegExp]",b="[object Set]",A="[object String]",C="[object WeakMap]",E="[object ArrayBuffer]",P="[object DataView]",k="[object Float32Array]",I="[object Float64Array]",F="[object Int8Array]",M="[object Int16Array]",D="[object Int32Array]",R="[object Uint8Array]",$="[object Uint8ClampedArray]",z="[object Uint16Array]",G="[object Uint32Array]",W={};W[k]=W[I]=W[F]=W[M]=W[D]=W[R]=W[$]=W[z]=W[G]=!0,W[n]=W[i]=W[E]=W[s]=W[P]=W[o]=W[c]=W[u]=W[h]=W[g]=W[v]=W[w]=W[b]=W[A]=W[C]=!1;function V(K){return r(K)&&e(K.length)&&!!W[t(K)]}return MS=V,MS}var DS,mD;function pz(){if(mD)return DS;mD=1;function t(e){return function(r){return e(r)}}return DS=t,DS}var rp={exports:{}};rp.exports;var pD;function Hpe(){return pD||(pD=1,(function(t,e){var r=Rq(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,o=s&&r.process,c=(function(){try{var u=i&&i.require&&i.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}})();t.exports=c})(rp,rp.exports)),rp.exports}var LS,gD;function gz(){if(gD)return LS;gD=1;var t=Wpe(),e=pz(),r=Hpe(),n=r&&r.isTypedArray,i=n?e(n):t;return LS=i,LS}var BS,vD;function Gpe(){if(vD)return BS;vD=1;var t=Vpe(),e=xT(),r=Fs(),n=mz(),i=wT(),s=gz(),o=Object.prototype,c=o.hasOwnProperty;function u(h,g){var v=r(h),w=!v&&e(h),b=!v&&!w&&n(h),A=!v&&!w&&!b&&s(h),C=v||w||b||A,E=C?t(h.length,String):[],P=E.length;for(var k in h)(g||c.call(h,k))&&!(C&&(k=="length"||b&&(k=="offset"||k=="parent")||A&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||i(k,P)))&&E.push(k);return E}return BS=u,BS}var FS,yD;function Kpe(){if(yD)return FS;yD=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return FS=e,FS}var US,xD;function vz(){if(xD)return US;xD=1;function t(e,r){return function(n){return e(r(n))}}return US=t,US}var $S,wD;function Ype(){if(wD)return $S;wD=1;var t=vz(),e=t(Object.keys,Object);return $S=e,$S}var VS,bD;function Xpe(){if(bD)return VS;bD=1;var t=Kpe(),e=Ype(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var c in Object(s))n.call(s,c)&&c!="constructor"&&o.push(c);return o}return VS=i,VS}var qS,_D;function qg(){if(_D)return qS;_D=1;var t=sT(),e=bT();function r(n){return n!=null&&e(n.length)&&!t(n)}return qS=r,qS}var zS,SD;function Bx(){if(SD)return zS;SD=1;var t=Gpe(),e=Xpe(),r=qg();function n(i){return r(i)?t(i):e(i)}return zS=n,zS}var WS,CD;function Zpe(){if(CD)return WS;CD=1;var t=Bpe(),e=$pe(),r=Bx();function n(i){return t(i,r,e)}return WS=n,WS}var HS,ED;function Qpe(){if(ED)return HS;ED=1;var t=Zpe(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,o,c,u,h,g){var v=c&e,w=t(s),b=w.length,A=t(o),C=A.length;if(b!=C&&!v)return!1;for(var E=b;E--;){var P=w[E];if(!(v?P in o:n.call(o,P)))return!1}var k=g.get(s),I=g.get(o);if(k&&I)return k==o&&I==s;var F=!0;g.set(s,o),g.set(o,s);for(var M=v;++E<b;){P=w[E];var D=s[P],R=o[P];if(u)var $=v?u(R,D,P,o,s,g):u(D,R,P,s,o,g);if(!($===void 0?D===R||h(D,R,c,u,g):$)){F=!1;break}M||(M=P=="constructor")}if(F&&!M){var z=s.constructor,G=o.constructor;z!=G&&"constructor"in s&&"constructor"in o&&!(typeof z=="function"&&z instanceof z&&typeof G=="function"&&G instanceof G)&&(F=!1)}return g.delete(s),g.delete(o),F}return HS=i,HS}var GS,AD;function Jpe(){if(AD)return GS;AD=1;var t=Cd(),e=qo(),r=t(e,"DataView");return GS=r,GS}var KS,jD;function ege(){if(jD)return KS;jD=1;var t=Cd(),e=qo(),r=t(e,"Promise");return KS=r,KS}var YS,ND;function yz(){if(ND)return YS;ND=1;var t=Cd(),e=qo(),r=t(e,"Set");return YS=r,YS}var XS,OD;function tge(){if(OD)return XS;OD=1;var t=Cd(),e=qo(),r=t(e,"WeakMap");return XS=r,XS}var ZS,TD;function rge(){if(TD)return ZS;TD=1;var t=Jpe(),e=oT(),r=ege(),n=yz(),i=tge(),s=Dl(),o=Mq(),c="[object Map]",u="[object Object]",h="[object Promise]",g="[object Set]",v="[object WeakMap]",w="[object DataView]",b=o(t),A=o(e),C=o(r),E=o(n),P=o(i),k=s;return(t&&k(new t(new ArrayBuffer(1)))!=w||e&&k(new e)!=c||r&&k(r.resolve())!=h||n&&k(new n)!=g||i&&k(new i)!=v)&&(k=function(I){var F=s(I),M=F==u?I.constructor:void 0,D=M?o(M):"";if(D)switch(D){case b:return w;case A:return c;case C:return h;case E:return g;case P:return v}return F}),ZS=k,ZS}var QS,kD;function nge(){if(kD)return QS;kD=1;var t=lz(),e=fz(),r=Lpe(),n=Qpe(),i=rge(),s=Fs(),o=mz(),c=gz(),u=1,h="[object Arguments]",g="[object Array]",v="[object Object]",w=Object.prototype,b=w.hasOwnProperty;function A(C,E,P,k,I,F){var M=s(C),D=s(E),R=M?g:i(C),$=D?g:i(E);R=R==h?v:R,$=$==h?v:$;var z=R==v,G=$==v,W=R==$;if(W&&o(C)){if(!o(E))return!1;M=!0,z=!1}if(W&&!z)return F||(F=new t),M||c(C)?e(C,E,P,k,I,F):r(C,E,R,P,k,I,F);if(!(P&u)){var V=z&&b.call(C,"__wrapped__"),K=G&&b.call(E,"__wrapped__");if(V||K){var q=V?C.value():C,Y=K?E.value():E;return F||(F=new t),I(q,Y,P,k,F)}}return W?(F||(F=new t),n(C,E,P,k,I,F)):!1}return QS=A,QS}var JS,PD;function _T(){if(PD)return JS;PD=1;var t=nge(),e=Ll();function r(n,i,s,o,c){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,s,o,r,c)}return JS=r,JS}var eC,ID;function ige(){if(ID)return eC;ID=1;var t=lz(),e=_T(),r=1,n=2;function i(s,o,c,u){var h=c.length,g=h,v=!u;if(s==null)return!g;for(s=Object(s);h--;){var w=c[h];if(v&&w[2]?w[1]!==s[w[0]]:!(w[0]in s))return!1}for(;++h<g;){w=c[h];var b=w[0],A=s[b],C=w[1];if(v&&w[2]){if(A===void 0&&!(b in s))return!1}else{var E=new t;if(u)var P=u(A,C,b,s,o,E);if(!(P===void 0?e(C,A,r|n,u,E):P))return!1}}return!0}return eC=i,eC}var tC,RD;function xz(){if(RD)return tC;RD=1;var t=Yc();function e(r){return r===r&&!t(r)}return tC=e,tC}var rC,MD;function sge(){if(MD)return rC;MD=1;var t=xz(),e=Bx();function r(n){for(var i=e(n),s=i.length;s--;){var o=i[s],c=n[o];i[s]=[o,c,t(c)]}return i}return rC=r,rC}var nC,DD;function wz(){if(DD)return nC;DD=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return nC=t,nC}var iC,LD;function age(){if(LD)return iC;LD=1;var t=ige(),e=sge(),r=wz();function n(i){var s=e(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===i||t(o,i,s)}}return iC=n,iC}var sC,BD;function oge(){if(BD)return sC;BD=1;function t(e,r){return e!=null&&r in Object(e)}return sC=t,sC}var aC,FD;function lge(){if(FD)return aC;FD=1;var t=Bq(),e=xT(),r=Fs(),n=wT(),i=bT(),s=Ix();function o(c,u,h){u=t(u,c);for(var g=-1,v=u.length,w=!1;++g<v;){var b=s(u[g]);if(!(w=c!=null&&h(c,b)))break;c=c[b]}return w||++g!=v?w:(v=c==null?0:c.length,!!v&&i(v)&&n(b,v)&&(r(c)||e(c)))}return aC=o,aC}var oC,UD;function cge(){if(UD)return oC;UD=1;var t=oge(),e=lge();function r(n,i){return n!=null&&e(n,i,t)}return oC=r,oC}var lC,$D;function uge(){if($D)return lC;$D=1;var t=_T(),e=Fq(),r=cge(),n=iT(),i=xz(),s=wz(),o=Ix(),c=1,u=2;function h(g,v){return n(g)&&i(v)?s(o(g),v):function(w){var b=e(w,g);return b===void 0&&b===v?r(w,g):t(v,b,c|u)}}return lC=h,lC}var cC,VD;function $h(){if(VD)return cC;VD=1;function t(e){return e}return cC=t,cC}var uC,qD;function dge(){if(qD)return uC;qD=1;function t(e){return function(r){return r?.[e]}}return uC=t,uC}var dC,zD;function fge(){if(zD)return dC;zD=1;var t=uT();function e(r){return function(n){return t(n,r)}}return dC=e,dC}var fC,WD;function hge(){if(WD)return fC;WD=1;var t=dge(),e=fge(),r=iT(),n=Ix();function i(s){return r(s)?t(n(s)):e(s)}return fC=i,fC}var hC,HD;function zo(){if(HD)return hC;HD=1;var t=age(),e=uge(),r=$h(),n=Fs(),i=hge();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return hC=s,hC}var mC,GD;function bz(){if(GD)return mC;GD=1;function t(e,r,n,i){for(var s=e.length,o=n+(i?1:-1);i?o--:++o<s;)if(r(e[o],o,e))return o;return-1}return mC=t,mC}var pC,KD;function mge(){if(KD)return pC;KD=1;function t(e){return e!==e}return pC=t,pC}var gC,YD;function pge(){if(YD)return gC;YD=1;function t(e,r,n){for(var i=n-1,s=e.length;++i<s;)if(e[i]===r)return i;return-1}return gC=t,gC}var vC,XD;function gge(){if(XD)return vC;XD=1;var t=bz(),e=mge(),r=pge();function n(i,s,o){return s===s?r(i,s,o):t(i,e,o)}return vC=n,vC}var yC,ZD;function vge(){if(ZD)return yC;ZD=1;var t=gge();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return yC=e,yC}var xC,QD;function yge(){if(QD)return xC;QD=1;function t(e,r,n){for(var i=-1,s=e==null?0:e.length;++i<s;)if(n(r,e[i]))return!0;return!1}return xC=t,xC}var wC,JD;function xge(){if(JD)return wC;JD=1;function t(){}return wC=t,wC}var bC,e8;function wge(){if(e8)return bC;e8=1;var t=yz(),e=xge(),r=yT(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(s){return new t(s)}:e;return bC=i,bC}var _C,t8;function bge(){if(t8)return _C;t8=1;var t=cz(),e=vge(),r=yge(),n=dz(),i=wge(),s=yT(),o=200;function c(u,h,g){var v=-1,w=e,b=u.length,A=!0,C=[],E=C;if(g)A=!1,w=r;else if(b>=o){var P=h?null:i(u);if(P)return s(P);A=!1,w=n,E=new t}else E=h?[]:C;e:for(;++v<b;){var k=u[v],I=h?h(k):k;if(k=g||k!==0?k:0,A&&I===I){for(var F=E.length;F--;)if(E[F]===I)continue e;h&&E.push(I),C.push(k)}else w(E,I,g)||(E!==C&&E.push(I),C.push(k))}return C}return _C=c,_C}var SC,r8;function _ge(){if(r8)return SC;r8=1;var t=zo(),e=bge();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return SC=r,SC}var Sge=_ge();const n8=Ur(Sge);function _z(t,e,r){return e===!0?n8(t,r):Zt(e)?n8(t,e):t}function eh(t){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}var Cge=["ref"];function i8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ll(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i8(Object(r),!0).forEach(function(n){Fx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ege(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Cz(n.key),n)}}function Age(t,e,r){return e&&s8(t.prototype,e),r&&s8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function jge(t,e,r){return e=zy(e),Nge(t,Sz()?Reflect.construct(e,r||[],zy(t).constructor):e.apply(t,r))}function Nge(t,e){if(e&&(eh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oge(t)}function Oge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sz=function(){return!!t})()}function zy(t){return zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zy(t)}function Tge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lj(t,e)}function lj(t,e){return lj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lj(t,e)}function Fx(t,e,r){return e=Cz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cz(t){var e=kge(t,"string");return eh(e)=="symbol"?e:e+""}function kge(t,e){if(eh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Pge(t,e){if(t==null)return{};var r=Ige(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ige(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Rge(t){return t.value}function Mge(t,e){if(ie.isValidElement(t))return ie.cloneElement(t,e);if(typeof t=="function")return ie.createElement(t,e);e.ref;var r=Pge(e,Cge);return ie.createElement(vT,r)}var a8=1,Cl=(function(t){function e(){var r;Ege(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=jge(this,e,[].concat(i)),Fx(r,"lastBoundingBox",{width:-1,height:-1}),r}return Tge(e,t),Age(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>a8||Math.abs(i.height-this.lastBoundingBox.height)>a8)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ll({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,c=i.verticalAlign,u=i.margin,h=i.chartWidth,g=i.chartHeight,v,w;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var b=this.getBBoxSnapshot();v={left:((h||0)-b.width)/2}}else v=o==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(c==="middle"){var A=this.getBBoxSnapshot();w={top:((g||0)-A.height)/2}}else w=c==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return ll(ll({},v),w)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,c=i.height,u=i.wrapperStyle,h=i.payloadUniqBy,g=i.payload,v=ll(ll({position:"absolute",width:o||"auto",height:c||"auto"},this.getDefaultPosition(u)),u);return ie.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:function(b){n.wrapperNode=b}},Mge(s,ll(ll({},this.props),{},{payload:_z(g,h,Rge)})))}}],[{key:"getWithHeight",value:function(n,i){var s=ll(ll({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&st(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])})(N.PureComponent);Fx(Cl,"displayName","Legend");Fx(Cl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var CC,o8;function Dge(){if(o8)return CC;o8=1;var t=Vg(),e=xT(),r=Fs(),n=t?t.isConcatSpreadable:void 0;function i(s){return r(s)||e(s)||!!(n&&s&&s[n])}return CC=i,CC}var EC,l8;function Ez(){if(l8)return EC;l8=1;var t=hz(),e=Dge();function r(n,i,s,o,c){var u=-1,h=n.length;for(s||(s=e),c||(c=[]);++u<h;){var g=n[u];i>0&&s(g)?i>1?r(g,i-1,s,o,c):t(c,g):o||(c[c.length]=g)}return c}return EC=r,EC}var AC,c8;function Lge(){if(c8)return AC;c8=1;function t(e){return function(r,n,i){for(var s=-1,o=Object(r),c=i(r),u=c.length;u--;){var h=c[e?u:++s];if(n(o[h],h,o)===!1)break}return r}}return AC=t,AC}var jC,u8;function Bge(){if(u8)return jC;u8=1;var t=Lge(),e=t();return jC=e,jC}var NC,d8;function Az(){if(d8)return NC;d8=1;var t=Bge(),e=Bx();function r(n,i){return n&&t(n,i,e)}return NC=r,NC}var OC,f8;function Fge(){if(f8)return OC;f8=1;var t=qg();function e(r,n){return function(i,s){if(i==null)return i;if(!t(i))return r(i,s);for(var o=i.length,c=n?o:-1,u=Object(i);(n?c--:++c<o)&&s(u[c],c,u)!==!1;);return i}}return OC=e,OC}var TC,h8;function ST(){if(h8)return TC;h8=1;var t=Az(),e=Fge(),r=e(t);return TC=r,TC}var kC,m8;function jz(){if(m8)return kC;m8=1;var t=ST(),e=qg();function r(n,i){var s=-1,o=e(n)?Array(n.length):[];return t(n,function(c,u,h){o[++s]=i(c,u,h)}),o}return kC=r,kC}var PC,p8;function Uge(){if(p8)return PC;p8=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return PC=t,PC}var IC,g8;function $ge(){if(g8)return IC;g8=1;var t=Bh();function e(r,n){if(r!==n){var i=r!==void 0,s=r===null,o=r===r,c=t(r),u=n!==void 0,h=n===null,g=n===n,v=t(n);if(!h&&!v&&!c&&r>n||c&&u&&g&&!h&&!v||s&&u&&g||!i&&g||!o)return 1;if(!s&&!c&&!v&&r<n||v&&i&&o&&!s&&!c||h&&i&&o||!u&&o||!g)return-1}return 0}return IC=e,IC}var RC,v8;function Vge(){if(v8)return RC;v8=1;var t=$ge();function e(r,n,i){for(var s=-1,o=r.criteria,c=n.criteria,u=o.length,h=i.length;++s<u;){var g=t(o[s],c[s]);if(g){if(s>=h)return g;var v=i[s];return g*(v=="desc"?-1:1)}}return r.index-n.index}return RC=e,RC}var MC,y8;function qge(){if(y8)return MC;y8=1;var t=cT(),e=uT(),r=zo(),n=jz(),i=Uge(),s=pz(),o=Vge(),c=$h(),u=Fs();function h(g,v,w){v.length?v=t(v,function(C){return u(C)?function(E){return e(E,C.length===1?C[0]:C)}:C}):v=[c];var b=-1;v=t(v,s(r));var A=n(g,function(C,E,P){var k=t(v,function(I){return I(C)});return{criteria:k,index:++b,value:C}});return i(A,function(C,E){return o(C,E,w)})}return MC=h,MC}var DC,x8;function zge(){if(x8)return DC;x8=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return DC=t,DC}var LC,w8;function Wge(){if(w8)return LC;w8=1;var t=zge(),e=Math.max;function r(n,i,s){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,c=-1,u=e(o.length-i,0),h=Array(u);++c<u;)h[c]=o[i+c];c=-1;for(var g=Array(i+1);++c<i;)g[c]=o[c];return g[i]=s(h),t(n,this,g)}}return LC=r,LC}var BC,b8;function Hge(){if(b8)return BC;b8=1;function t(e){return function(){return e}}return BC=t,BC}var FC,_8;function Nz(){if(_8)return FC;_8=1;var t=Cd(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return FC=e,FC}var UC,S8;function Gge(){if(S8)return UC;S8=1;var t=Hge(),e=Nz(),r=$h(),n=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:r;return UC=n,UC}var $C,C8;function Kge(){if(C8)return $C;C8=1;var t=800,e=16,r=Date.now;function n(i){var s=0,o=0;return function(){var c=r(),u=e-(c-o);if(o=c,u>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return $C=n,$C}var VC,E8;function Yge(){if(E8)return VC;E8=1;var t=Gge(),e=Kge(),r=e(t);return VC=r,VC}var qC,A8;function Xge(){if(A8)return qC;A8=1;var t=$h(),e=Wge(),r=Yge();function n(i,s){return r(e(i,s,t),i+"")}return qC=n,qC}var zC,j8;function Ux(){if(j8)return zC;j8=1;var t=aT(),e=qg(),r=wT(),n=Yc();function i(s,o,c){if(!n(c))return!1;var u=typeof o;return(u=="number"?e(c)&&r(o,c.length):u=="string"&&o in c)?t(c[o],s):!1}return zC=i,zC}var WC,N8;function Zge(){if(N8)return WC;N8=1;var t=Ez(),e=qge(),r=Xge(),n=Ux(),i=r(function(s,o){if(s==null)return[];var c=o.length;return c>1&&n(s,o[0],o[1])?o=[]:c>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(s,t(o,1),[])});return WC=i,WC}var Qge=Zge();const CT=Ur(Qge);function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function cj(){return cj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cj.apply(this,arguments)}function Jge(t,e){return n0e(t)||r0e(t,e)||t0e(t,e)||e0e()}function e0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t0e(t,e){if(t){if(typeof t=="string")return O8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O8(t,e)}}function O8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function r0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],u=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function n0e(t){if(Array.isArray(t))return t}function T8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T8(Object(r),!0).forEach(function(n){i0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function i0e(t,e,r){return e=s0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s0e(t){var e=a0e(t,"string");return Bp(e)=="symbol"?e:e+""}function a0e(t,e){if(Bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o0e(t){return Array.isArray(t)&&Ci(t[0])&&Ci(t[1])?t.join(" ~ "):t}var l0e=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,c=o===void 0?{}:o,u=e.labelStyle,h=u===void 0?{}:u,g=e.payload,v=e.formatter,w=e.itemSorter,b=e.wrapperClassName,A=e.labelClassName,C=e.label,E=e.labelFormatter,P=e.accessibilityLayer,k=P===void 0?!1:P,I=function(){if(g&&g.length){var V={padding:0,margin:0},K=(w?CT(g,w):g).map(function(q,Y){if(q.type==="none")return null;var J=HC({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},c),ne=q.formatter||v||o0e,te=q.value,Q=q.name,ue=te,ae=Q;if(ne&&ue!=null&&ae!=null){var se=ne(te,Q,q,Y,g);if(Array.isArray(se)){var me=Jge(se,2);ue=me[0],ae=me[1]}else ue=se}return ie.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:J},Ci(ae)?ie.createElement("span",{className:"recharts-tooltip-item-name"},ae):null,Ci(ae)?ie.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ie.createElement("span",{className:"recharts-tooltip-item-value"},ue),ie.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return ie.createElement("ul",{className:"recharts-tooltip-item-list",style:V},K)}return null},F=HC({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),M=HC({margin:0},h),D=!ur(C),R=D?C:"",$=hr("recharts-default-tooltip",b),z=hr("recharts-tooltip-label",A);D&&E&&g!==void 0&&g!==null&&(R=E(C,g));var G=k?{role:"status","aria-live":"assertive"}:{};return ie.createElement("div",cj({className:$,style:F},G),ie.createElement("p",{className:z,style:M},ie.isValidElement(R)?R:"".concat(R)),I())};function Fp(t){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(t)}function Ev(t,e,r){return e=c0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c0e(t){var e=u0e(t,"string");return Fp(e)=="symbol"?e:e+""}function u0e(t,e){if(Fp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Um="recharts-tooltip-wrapper",d0e={visibility:"hidden"};function f0e(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return hr(Um,Ev(Ev(Ev(Ev({},"".concat(Um,"-right"),st(r)&&e&&st(e.x)&&r>=e.x),"".concat(Um,"-left"),st(r)&&e&&st(e.x)&&r<e.x),"".concat(Um,"-bottom"),st(n)&&e&&st(e.y)&&n>=e.y),"".concat(Um,"-top"),st(n)&&e&&st(e.y)&&n<e.y))}function k8(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,c=t.tooltipDimension,u=t.viewBox,h=t.viewBoxDimension;if(s&&st(s[n]))return s[n];var g=r[n]-c-i,v=r[n]+i;if(e[n])return o[n]?g:v;if(o[n]){var w=g,b=u[n];return w<b?Math.max(v,u[n]):Math.max(g,u[n])}var A=v+c,C=u[n]+h;return A>C?Math.max(g,u[n]):Math.max(v,u[n])}function h0e(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function m0e(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,c=t.useTranslate3d,u=t.viewBox,h,g,v;return o.height>0&&o.width>0&&r?(g=k8({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),v=k8({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),h=h0e({translateX:g,translateY:v,useTranslate3d:c})):h=d0e,{cssProperties:h,cssClasses:f0e({translateX:g,translateY:v,coordinate:r})}}function th(t){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(t)}function P8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function I8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P8(Object(r),!0).forEach(function(n){dj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function p0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Tz(n.key),n)}}function v0e(t,e,r){return e&&g0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function y0e(t,e,r){return e=Wy(e),x0e(t,Oz()?Reflect.construct(e,r||[],Wy(t).constructor):e.apply(t,r))}function x0e(t,e){if(e&&(th(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w0e(t)}function w0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oz=function(){return!!t})()}function Wy(t){return Wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wy(t)}function b0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uj(t,e)}function uj(t,e){return uj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uj(t,e)}function dj(t,e,r){return e=Tz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tz(t){var e=_0e(t,"string");return th(e)=="symbol"?e:e+""}function _0e(t,e){if(th(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var R8=1,S0e=(function(t){function e(){var r;p0e(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=y0e(this,e,[].concat(i)),dj(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),dj(r,"handleKeyDown",function(o){if(o.key==="Escape"){var c,u,h,g;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&c!==void 0?c:0,y:(h=(g=r.props.coordinate)===null||g===void 0?void 0:g.y)!==null&&h!==void 0?h:0}})}}),r}return b0e(e,t),v0e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>R8||Math.abs(n.height-this.state.lastBoundingBox.height)>R8)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,c=i.animationDuration,u=i.animationEasing,h=i.children,g=i.coordinate,v=i.hasPayload,w=i.isAnimationActive,b=i.offset,A=i.position,C=i.reverseDirection,E=i.useTranslate3d,P=i.viewBox,k=i.wrapperStyle,I=m0e({allowEscapeViewBox:o,coordinate:g,offsetTopLeft:b,position:A,reverseDirection:C,tooltipBox:this.state.lastBoundingBox,useTranslate3d:E,viewBox:P}),F=I.cssClasses,M=I.cssProperties,D=I8(I8({transition:w&&s?"transform ".concat(c,"ms ").concat(u):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&v?"visible":"hidden",position:"absolute",top:0,left:0},k);return ie.createElement("div",{tabIndex:-1,className:F,style:D,ref:function($){n.wrapperNode=$}},h)}}])})(N.PureComponent),C0e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Xc={isSsr:C0e()};function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}function M8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function D8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M8(Object(r),!0).forEach(function(n){ET(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function E0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pz(n.key),n)}}function j0e(t,e,r){return e&&A0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function N0e(t,e,r){return e=Hy(e),O0e(t,kz()?Reflect.construct(e,r||[],Hy(t).constructor):e.apply(t,r))}function O0e(t,e){if(e&&(rh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T0e(t)}function T0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kz=function(){return!!t})()}function Hy(t){return Hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hy(t)}function k0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fj(t,e)}function fj(t,e){return fj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fj(t,e)}function ET(t,e,r){return e=Pz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pz(t){var e=P0e(t,"string");return rh(e)=="symbol"?e:e+""}function P0e(t,e){if(rh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function I0e(t){return t.dataKey}function R0e(t,e){return ie.isValidElement(t)?ie.cloneElement(t,e):typeof t=="function"?ie.createElement(t,e):ie.createElement(l0e,e)}var ea=(function(t){function e(){return E0e(this,e),N0e(this,e,arguments)}return k0e(e,t),j0e(e,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,c=i.animationDuration,u=i.animationEasing,h=i.content,g=i.coordinate,v=i.filterNull,w=i.isAnimationActive,b=i.offset,A=i.payload,C=i.payloadUniqBy,E=i.position,P=i.reverseDirection,k=i.useTranslate3d,I=i.viewBox,F=i.wrapperStyle,M=A??[];v&&M.length&&(M=_z(A.filter(function(R){return R.value!=null&&(R.hide!==!0||n.props.includeHidden)}),C,I0e));var D=M.length>0;return ie.createElement(S0e,{allowEscapeViewBox:o,animationDuration:c,animationEasing:u,isAnimationActive:w,active:s,coordinate:g,hasPayload:D,offset:b,position:E,reverseDirection:P,useTranslate3d:k,viewBox:I,wrapperStyle:F},R0e(h,D8(D8({},this.props),{},{payload:M})))}}])})(N.PureComponent);ET(ea,"displayName","Tooltip");ET(ea,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Xc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var GC,L8;function M0e(){if(L8)return GC;L8=1;var t=qo(),e=function(){return t.Date.now()};return GC=e,GC}var KC,B8;function D0e(){if(B8)return KC;B8=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return KC=e,KC}var YC,F8;function L0e(){if(F8)return YC;F8=1;var t=D0e(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return YC=r,YC}var XC,U8;function Iz(){if(U8)return XC;U8=1;var t=L0e(),e=Yc(),r=Bh(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,c=parseInt;function u(h){if(typeof h=="number")return h;if(r(h))return n;if(e(h)){var g=typeof h.valueOf=="function"?h.valueOf():h;h=e(g)?g+"":g}if(typeof h!="string")return h===0?h:+h;h=t(h);var v=s.test(h);return v||o.test(h)?c(h.slice(2),v?2:8):i.test(h)?n:+h}return XC=u,XC}var ZC,$8;function B0e(){if($8)return ZC;$8=1;var t=Yc(),e=M0e(),r=Iz(),n="Expected a function",i=Math.max,s=Math.min;function o(c,u,h){var g,v,w,b,A,C,E=0,P=!1,k=!1,I=!0;if(typeof c!="function")throw new TypeError(n);u=r(u)||0,t(h)&&(P=!!h.leading,k="maxWait"in h,w=k?i(r(h.maxWait)||0,u):w,I="trailing"in h?!!h.trailing:I);function F(K){var q=g,Y=v;return g=v=void 0,E=K,b=c.apply(Y,q),b}function M(K){return E=K,A=setTimeout($,u),P?F(K):b}function D(K){var q=K-C,Y=K-E,J=u-q;return k?s(J,w-Y):J}function R(K){var q=K-C,Y=K-E;return C===void 0||q>=u||q<0||k&&Y>=w}function $(){var K=e();if(R(K))return z(K);A=setTimeout($,D(K))}function z(K){return A=void 0,I&&g?F(K):(g=v=void 0,b)}function G(){A!==void 0&&clearTimeout(A),E=0,g=C=v=A=void 0}function W(){return A===void 0?b:z(e())}function V(){var K=e(),q=R(K);if(g=arguments,v=this,C=K,q){if(A===void 0)return M(C);if(k)return clearTimeout(A),A=setTimeout($,u),F(C)}return A===void 0&&(A=setTimeout($,u)),b}return V.cancel=G,V.flush=W,V}return ZC=o,ZC}var QC,V8;function F0e(){if(V8)return QC;V8=1;var t=B0e(),e=Yc(),r="Expected a function";function n(i,s,o){var c=!0,u=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(c="leading"in o?!!o.leading:c,u="trailing"in o?!!o.trailing:u),t(i,s,{leading:c,maxWait:s,trailing:u})}return QC=n,QC}var U0e=F0e();const Rz=Ur(U0e);function Up(t){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}function q8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Av(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q8(Object(r),!0).forEach(function(n){$0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $0e(t,e,r){return e=V0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V0e(t){var e=q0e(t,"string");return Up(e)=="symbol"?e:e+""}function q0e(t,e){if(Up(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z0e(t,e){return K0e(t)||G0e(t,e)||H0e(t,e)||W0e()}function W0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H0e(t,e){if(t){if(typeof t=="string")return z8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z8(t,e)}}function z8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function G0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],u=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function K0e(t){if(Array.isArray(t))return t}var jv=N.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=t.width,o=s===void 0?"100%":s,c=t.height,u=c===void 0?"100%":c,h=t.minWidth,g=h===void 0?0:h,v=t.minHeight,w=t.maxHeight,b=t.children,A=t.debounce,C=A===void 0?0:A,E=t.id,P=t.className,k=t.onResize,I=t.style,F=I===void 0?{}:I,M=N.useRef(null),D=N.useRef();D.current=k,N.useImperativeHandle(e,function(){return Object.defineProperty(M.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),M.current},configurable:!0})});var R=N.useState({containerWidth:i.width,containerHeight:i.height}),$=z0e(R,2),z=$[0],G=$[1],W=N.useCallback(function(K,q){G(function(Y){var J=Math.round(K),ne=Math.round(q);return Y.containerWidth===J&&Y.containerHeight===ne?Y:{containerWidth:J,containerHeight:ne}})},[]);N.useEffect(function(){var K=function(Q){var ue,ae=Q[0].contentRect,se=ae.width,me=ae.height;W(se,me),(ue=D.current)===null||ue===void 0||ue.call(D,se,me)};C>0&&(K=Rz(K,C,{trailing:!0,leading:!1}));var q=new ResizeObserver(K),Y=M.current.getBoundingClientRect(),J=Y.width,ne=Y.height;return W(J,ne),q.observe(M.current),function(){q.disconnect()}},[W,C]);var V=N.useMemo(function(){var K=z.containerWidth,q=z.containerHeight;if(K<0||q<0)return null;oo($u(o)||$u(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,u),oo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Y=$u(o)?K:o,J=$u(u)?q:u;r&&r>0&&(Y?J=Y/r:J&&(Y=J*r),w&&J>w&&(J=w)),oo(Y>0||J>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,J,o,u,g,v,r);var ne=!Array.isArray(b)&&Sl(b.type).endsWith("Chart");return ie.Children.map(b,function(te){return ie.isValidElement(te)?N.cloneElement(te,Av({width:Y,height:J},ne?{style:Av({height:"100%",width:"100%",maxHeight:J,maxWidth:Y},te.props.style)}:{})):te})},[r,b,u,w,v,g,z,o]);return ie.createElement("div",{id:E?"".concat(E):void 0,className:hr("recharts-responsive-container",P),style:Av(Av({},F),{},{width:o,height:u,minWidth:g,minHeight:v,maxHeight:w}),ref:M},V)}),$x=function(e){return null};$x.displayName="Cell";function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function W8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W8(Object(r),!0).forEach(function(n){Y0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y0e(t,e,r){return e=X0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X0e(t){var e=Z0e(t,"string");return $p(e)=="symbol"?e:e+""}function Z0e(t,e){if($p(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hf={widthCache:{},cacheCount:0},Q0e=2e3,J0e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},H8="recharts_measurement_span";function eve(t){var e=hj({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var lp=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Xc.isSsr)return{width:0,height:0};var n=eve(r),i=JSON.stringify({text:e,copyStyle:n});if(hf.widthCache[i])return hf.widthCache[i];try{var s=document.getElementById(H8);s||(s=document.createElement("span"),s.setAttribute("id",H8),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=hj(hj({},J0e),n);Object.assign(s.style,o),s.textContent="".concat(e);var c=s.getBoundingClientRect(),u={width:c.width,height:c.height};return hf.widthCache[i]=u,++hf.cacheCount>Q0e&&(hf.cacheCount=0,hf.widthCache={}),u}catch{return{width:0,height:0}}},tve=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function Gy(t,e){return sve(t)||ive(t,e)||nve(t,e)||rve()}function rve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nve(t,e){if(t){if(typeof t=="string")return G8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G8(t,e)}}function G8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ive(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],u=!0,h=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function sve(t){if(Array.isArray(t))return t}function ave(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lve(n.key),n)}}function ove(t,e,r){return e&&K8(t.prototype,e),r&&K8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lve(t){var e=cve(t,"string");return Vp(e)=="symbol"?e:e+""}function cve(t,e){if(Vp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Y8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,X8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uve=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,dve=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Mz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},fve=Object.keys(Mz),Sf="NaN";function hve(t,e){return t*Mz[e]}var Nv=(function(){function t(e,r){ave(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!uve.test(r)&&(this.num=NaN,this.unit=""),fve.includes(r)&&(this.num=hve(e,r),this.unit="px")}return ove(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=dve.exec(r))!==null&&n!==void 0?n:[],s=Gy(i,3),o=s[1],c=s[2];return new t(parseFloat(o),c??"")}}])})();function Dz(t){if(t.includes(Sf))return Sf;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=Y8.exec(e))!==null&&r!==void 0?r:[],i=Gy(n,4),s=i[1],o=i[2],c=i[3],u=Nv.parse(s??""),h=Nv.parse(c??""),g=o==="*"?u.multiply(h):u.divide(h);if(g.isNaN())return Sf;e=e.replace(Y8,g.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var v,w=(v=X8.exec(e))!==null&&v!==void 0?v:[],b=Gy(w,4),A=b[1],C=b[2],E=b[3],P=Nv.parse(A??""),k=Nv.parse(E??""),I=C==="+"?P.add(k):P.subtract(k);if(I.isNaN())return Sf;e=e.replace(X8,I.toString())}return e}var Z8=/\(([^()]*)\)/;function mve(t){for(var e=t;e.includes("(");){var r=Z8.exec(e),n=Gy(r,2),i=n[1];e=e.replace(Z8,Dz(i))}return e}function pve(t){var e=t.replace(/\s+/g,"");return e=mve(e),e=Dz(e),e}function gve(t){try{return pve(t)}catch{return Sf}}function JC(t){var e=gve(t.slice(5,-1));return e===Sf?"":e}var vve=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],yve=["dx","dy","angle","className","breakAll"];function mj(){return mj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mj.apply(this,arguments)}function Q8(t,e){if(t==null)return{};var r=xve(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xve(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function J8(t,e){return Sve(t)||_ve(t,e)||bve(t,e)||wve()}function wve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bve(t,e){if(t){if(typeof t=="string")return e6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e6(t,e)}}function e6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _ve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],u=!0,h=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function Sve(t){if(Array.isArray(t))return t}var Lz=/[ \f\n\r\t\v\u2028\u2029]+/,Bz=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var s=[];ur(r)||(n?s=r.toString().split(""):s=r.toString().split(Lz));var o=s.map(function(u){return{word:u,width:lp(u,i).width}}),c=n?0:lp("",i).width;return{wordsWithComputedWidth:o,spaceWidth:c}}catch{return null}},Cve=function(e,r,n,i,s){var o=e.maxLines,c=e.children,u=e.style,h=e.breakAll,g=st(o),v=c,w=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y.reduce(function(J,ne){var te=ne.word,Q=ne.width,ue=J[J.length-1];if(ue&&(i==null||s||ue.width+Q+n<Number(i)))ue.words.push(te),ue.width+=Q+n;else{var ae={words:[te],width:Q};J.push(ae)}return J},[])},b=w(r),A=function(Y){return Y.reduce(function(J,ne){return J.width>ne.width?J:ne})};if(!g)return b;for(var C="",E=function(Y){var J=v.slice(0,Y),ne=Bz({breakAll:h,style:u,children:J+C}).wordsWithComputedWidth,te=w(ne),Q=te.length>o||A(te).width>Number(i);return[Q,te]},P=0,k=v.length-1,I=0,F;P<=k&&I<=v.length-1;){var M=Math.floor((P+k)/2),D=M-1,R=E(D),$=J8(R,2),z=$[0],G=$[1],W=E(M),V=J8(W,1),K=V[0];if(!z&&!K&&(P=M+1),z&&K&&(k=M-1),!z&&K){F=G;break}I++}return F||b},t6=function(e){var r=ur(e)?[]:e.toString().split(Lz);return[{words:r}]},Eve=function(e){var r=e.width,n=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,c=e.maxLines;if((r||n)&&!Xc.isSsr){var u,h,g=Bz({breakAll:o,children:i,style:s});if(g){var v=g.wordsWithComputedWidth,w=g.spaceWidth;u=v,h=w}else return t6(i);return Cve({breakAll:o,children:i,maxLines:c,style:s},u,h,r,n)}return t6(i)},r6="#808080",fd=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.lineHeight,c=o===void 0?"1em":o,u=e.capHeight,h=u===void 0?"0.71em":u,g=e.scaleToFit,v=g===void 0?!1:g,w=e.textAnchor,b=w===void 0?"start":w,A=e.verticalAnchor,C=A===void 0?"end":A,E=e.fill,P=E===void 0?r6:E,k=Q8(e,vve),I=N.useMemo(function(){return Eve({breakAll:k.breakAll,children:k.children,maxLines:k.maxLines,scaleToFit:v,style:k.style,width:k.width})},[k.breakAll,k.children,k.maxLines,v,k.style,k.width]),F=k.dx,M=k.dy,D=k.angle,R=k.className,$=k.breakAll,z=Q8(k,yve);if(!Ci(n)||!Ci(s))return null;var G=n+(st(F)?F:0),W=s+(st(M)?M:0),V;switch(C){case"start":V=JC("calc(".concat(h,")"));break;case"middle":V=JC("calc(".concat((I.length-1)/2," * -").concat(c," + (").concat(h," / 2))"));break;default:V=JC("calc(".concat(I.length-1," * -").concat(c,")"));break}var K=[];if(v){var q=I[0].width,Y=k.width;K.push("scale(".concat((st(Y)?Y/q:1)/q,")"))}return D&&K.push("rotate(".concat(D,", ").concat(G,", ").concat(W,")")),K.length&&(z.transform=K.join(" ")),ie.createElement("text",mj({},Bt(z,!0),{x:G,y:W,className:hr("recharts-text",R),textAnchor:b,fill:P.includes("url")?r6:P}),I.map(function(J,ne){var te=J.words.join($?"":" ");return ie.createElement("tspan",{x:G,dy:ne===0?V:c,key:"".concat(te,"-").concat(ne)},te)}))};function Oc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ave(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function AT(t){let e,r,n;t.length!==2?(e=Oc,r=(c,u)=>Oc(t(c),u),n=(c,u)=>t(c)-u):(e=t===Oc||t===Ave?t:jve,r=t,n=t);function i(c,u,h=0,g=c.length){if(h<g){if(e(u,u)!==0)return g;do{const v=h+g>>>1;r(c[v],u)<0?h=v+1:g=v}while(h<g)}return h}function s(c,u,h=0,g=c.length){if(h<g){if(e(u,u)!==0)return g;do{const v=h+g>>>1;r(c[v],u)<=0?h=v+1:g=v}while(h<g)}return h}function o(c,u,h=0,g=c.length){const v=i(c,u,h,g-1);return v>h&&n(c[v-1],u)>-n(c[v],u)?v-1:v}return{left:i,center:o,right:s}}function jve(){return 0}function Fz(t){return t===null?NaN:+t}function*Nve(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Ove=AT(Oc),zg=Ove.right;AT(Fz).center;class n6 extends Map{constructor(e,r=Pve){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(i6(this,e))}has(e){return super.has(i6(this,e))}set(e,r){return super.set(Tve(this,e),r)}delete(e){return super.delete(kve(this,e))}}function i6({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Tve({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function kve({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Pve(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ive(t=Oc){if(t===Oc)return Uz;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function Uz(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Rve=Math.sqrt(50),Mve=Math.sqrt(10),Dve=Math.sqrt(2);function Ky(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=Rve?10:s>=Mve?5:s>=Dve?2:1;let c,u,h;return i<0?(h=Math.pow(10,-i)/o,c=Math.round(t*h),u=Math.round(e*h),c/h<t&&++c,u/h>e&&--u,h=-h):(h=Math.pow(10,i)*o,c=Math.round(t/h),u=Math.round(e/h),c*h<t&&++c,u*h>e&&--u),u<c&&.5<=r&&r<2?Ky(t,e,r*2):[c,u,h]}function pj(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,o]=n?Ky(e,t,r):Ky(t,e,r);if(!(s>=i))return[];const c=s-i+1,u=new Array(c);if(n)if(o<0)for(let h=0;h<c;++h)u[h]=(s-h)/-o;else for(let h=0;h<c;++h)u[h]=(s-h)*o;else if(o<0)for(let h=0;h<c;++h)u[h]=(i+h)/-o;else for(let h=0;h<c;++h)u[h]=(i+h)*o;return u}function gj(t,e,r){return e=+e,t=+t,r=+r,Ky(t,e,r)[2]}function vj(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?gj(e,t,r):gj(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function s6(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function a6(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function $z(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?Uz:Ive(i);n>r;){if(n-r>600){const u=n-r+1,h=e-r+1,g=Math.log(u),v=.5*Math.exp(2*g/3),w=.5*Math.sqrt(g*v*(u-v)/u)*(h-u/2<0?-1:1),b=Math.max(r,Math.floor(e-h*v/u+w)),A=Math.min(n,Math.floor(e+(u-h)*v/u+w));$z(t,e,b,A,i)}const s=t[e];let o=r,c=n;for($m(t,r,e),i(t[n],s)>0&&$m(t,r,n);o<c;){for($m(t,o,c),++o,--c;i(t[o],s)<0;)++o;for(;i(t[c],s)>0;)--c}i(t[r],s)===0?$m(t,r,c):(++c,$m(t,c,n)),c<=e&&(r=c+1),e<=c&&(n=c-1)}return t}function $m(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Lve(t,e,r){if(t=Float64Array.from(Nve(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return a6(t);if(e>=1)return s6(t);var n,i=(n-1)*e,s=Math.floor(i),o=s6($z(t,s).subarray(0,s+1)),c=a6(t.subarray(s+1));return o+(c-o)*(i-s)}}function Bve(t,e,r=Fz){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),o=+r(t[s],s,t),c=+r(t[s+1],s+1,t);return o+(c-o)*(i-s)}}function Fve(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function La(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Bl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const yj=Symbol("implicit");function jT(){var t=new n6,e=[],r=[],n=yj;function i(s){let o=t.get(s);if(o===void 0){if(n!==yj)return n;t.set(s,o=e.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new n6;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return jT(e,r).unknown(n)},La.apply(i,arguments),i}function qp(){var t=jT().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,o,c=!1,u=0,h=0,g=.5;delete t.unknown;function v(){var w=e().length,b=i<n,A=b?i:n,C=b?n:i;s=(C-A)/Math.max(1,w-u+h*2),c&&(s=Math.floor(s)),A+=(C-A-s*(w-u))*g,o=s*(1-u),c&&(A=Math.round(A),o=Math.round(o));var E=Fve(w).map(function(P){return A+s*P});return r(b?E.reverse():E)}return t.domain=function(w){return arguments.length?(e(w),v()):e()},t.range=function(w){return arguments.length?([n,i]=w,n=+n,i=+i,v()):[n,i]},t.rangeRound=function(w){return[n,i]=w,n=+n,i=+i,c=!0,v()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(w){return arguments.length?(c=!!w,v()):c},t.padding=function(w){return arguments.length?(u=Math.min(1,h=+w),v()):u},t.paddingInner=function(w){return arguments.length?(u=Math.min(1,w),v()):u},t.paddingOuter=function(w){return arguments.length?(h=+w,v()):h},t.align=function(w){return arguments.length?(g=Math.max(0,Math.min(1,w)),v()):g},t.copy=function(){return qp(e(),[n,i]).round(c).paddingInner(u).paddingOuter(h).align(g)},La.apply(v(),arguments)}function Vz(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Vz(e())},t}function cp(){return Vz(qp.apply(null,arguments).paddingInner(1))}function NT(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function qz(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Wg(){}var zp=.7,Yy=1/zp,Df="\\s*([+-]?\\d+)\\s*",Wp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Io="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Uve=/^#([0-9a-f]{3,8})$/,$ve=new RegExp(`^rgb\\(${Df},${Df},${Df}\\)$`),Vve=new RegExp(`^rgb\\(${Io},${Io},${Io}\\)$`),qve=new RegExp(`^rgba\\(${Df},${Df},${Df},${Wp}\\)$`),zve=new RegExp(`^rgba\\(${Io},${Io},${Io},${Wp}\\)$`),Wve=new RegExp(`^hsl\\(${Wp},${Io},${Io}\\)$`),Hve=new RegExp(`^hsla\\(${Wp},${Io},${Io},${Wp}\\)$`),o6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};NT(Wg,Hp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:l6,formatHex:l6,formatHex8:Gve,formatHsl:Kve,formatRgb:c6,toString:c6});function l6(){return this.rgb().formatHex()}function Gve(){return this.rgb().formatHex8()}function Kve(){return zz(this).formatHsl()}function c6(){return this.rgb().formatRgb()}function Hp(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Uve.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?u6(e):r===3?new Ds(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Ov(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Ov(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=$ve.exec(t))?new Ds(e[1],e[2],e[3],1):(e=Vve.exec(t))?new Ds(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=qve.exec(t))?Ov(e[1],e[2],e[3],e[4]):(e=zve.exec(t))?Ov(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Wve.exec(t))?h6(e[1],e[2]/100,e[3]/100,1):(e=Hve.exec(t))?h6(e[1],e[2]/100,e[3]/100,e[4]):o6.hasOwnProperty(t)?u6(o6[t]):t==="transparent"?new Ds(NaN,NaN,NaN,0):null}function u6(t){return new Ds(t>>16&255,t>>8&255,t&255,1)}function Ov(t,e,r,n){return n<=0&&(t=e=r=NaN),new Ds(t,e,r,n)}function Yve(t){return t instanceof Wg||(t=Hp(t)),t?(t=t.rgb(),new Ds(t.r,t.g,t.b,t.opacity)):new Ds}function xj(t,e,r,n){return arguments.length===1?Yve(t):new Ds(t,e,r,n??1)}function Ds(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}NT(Ds,xj,qz(Wg,{brighter(t){return t=t==null?Yy:Math.pow(Yy,t),new Ds(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?zp:Math.pow(zp,t),new Ds(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ds(Yu(this.r),Yu(this.g),Yu(this.b),Xy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:d6,formatHex:d6,formatHex8:Xve,formatRgb:f6,toString:f6}));function d6(){return`#${Vu(this.r)}${Vu(this.g)}${Vu(this.b)}`}function Xve(){return`#${Vu(this.r)}${Vu(this.g)}${Vu(this.b)}${Vu((isNaN(this.opacity)?1:this.opacity)*255)}`}function f6(){const t=Xy(this.opacity);return`${t===1?"rgb(":"rgba("}${Yu(this.r)}, ${Yu(this.g)}, ${Yu(this.b)}${t===1?")":`, ${t})`}`}function Xy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Yu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Vu(t){return t=Yu(t),(t<16?"0":"")+t.toString(16)}function h6(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new io(t,e,r,n)}function zz(t){if(t instanceof io)return new io(t.h,t.s,t.l,t.opacity);if(t instanceof Wg||(t=Hp(t)),!t)return new io;if(t instanceof io)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=NaN,c=s-i,u=(s+i)/2;return c?(e===s?o=(r-n)/c+(r<n)*6:r===s?o=(n-e)/c+2:o=(e-r)/c+4,c/=u<.5?s+i:2-s-i,o*=60):c=u>0&&u<1?0:o,new io(o,c,u,t.opacity)}function Zve(t,e,r,n){return arguments.length===1?zz(t):new io(t,e,r,n??1)}function io(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}NT(io,Zve,qz(Wg,{brighter(t){return t=t==null?Yy:Math.pow(Yy,t),new io(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?zp:Math.pow(zp,t),new io(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Ds(eE(t>=240?t-240:t+120,i,n),eE(t,i,n),eE(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new io(m6(this.h),Tv(this.s),Tv(this.l),Xy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Xy(this.opacity);return`${t===1?"hsl(":"hsla("}${m6(this.h)}, ${Tv(this.s)*100}%, ${Tv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function m6(t){return t=(t||0)%360,t<0?t+360:t}function Tv(t){return Math.max(0,Math.min(1,t||0))}function eE(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const OT=t=>()=>t;function Qve(t,e){return function(r){return t+r*e}}function Jve(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function eye(t){return(t=+t)==1?Wz:function(e,r){return r-e?Jve(e,r,t):OT(isNaN(e)?r:e)}}function Wz(t,e){var r=e-t;return r?Qve(t,r):OT(isNaN(t)?e:t)}const p6=(function t(e){var r=eye(e);function n(i,s){var o=r((i=xj(i)).r,(s=xj(s)).r),c=r(i.g,s.g),u=r(i.b,s.b),h=Wz(i.opacity,s.opacity);return function(g){return i.r=o(g),i.g=c(g),i.b=u(g),i.opacity=h(g),i+""}}return n.gamma=t,n})(1);function tye(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function rye(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function nye(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=Vh(t[o],e[o]);for(;o<r;++o)s[o]=e[o];return function(c){for(o=0;o<n;++o)s[o]=i[o](c);return s}}function iye(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Zy(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function sye(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Vh(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var wj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tE=new RegExp(wj.source,"g");function aye(t){return function(){return t}}function oye(t){return function(e){return t(e)+""}}function lye(t,e){var r=wj.lastIndex=tE.lastIndex=0,n,i,s,o=-1,c=[],u=[];for(t=t+"",e=e+"";(n=wj.exec(t))&&(i=tE.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),c[o]?c[o]+=s:c[++o]=s),(n=n[0])===(i=i[0])?c[o]?c[o]+=i:c[++o]=i:(c[++o]=null,u.push({i:o,x:Zy(n,i)})),r=tE.lastIndex;return r<e.length&&(s=e.slice(r),c[o]?c[o]+=s:c[++o]=s),c.length<2?u[0]?oye(u[0].x):aye(e):(e=u.length,function(h){for(var g=0,v;g<e;++g)c[(v=u[g]).i]=v.x(h);return c.join("")})}function Vh(t,e){var r=typeof e,n;return e==null||r==="boolean"?OT(e):(r==="number"?Zy:r==="string"?(n=Hp(e))?(e=n,p6):lye:e instanceof Hp?p6:e instanceof Date?iye:rye(e)?tye:Array.isArray(e)?nye:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?sye:Zy)(t,e)}function TT(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function cye(t,e){e===void 0&&(e=t,t=Vh);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(o){var c=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[c](o-c)}}function uye(t){return function(){return t}}function Qy(t){return+t}var g6=[0,1];function ws(t){return t}function bj(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:uye(isNaN(e)?NaN:.5)}function dye(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function fye(t,e,r){var n=t[0],i=t[1],s=e[0],o=e[1];return i<n?(n=bj(i,n),s=r(o,s)):(n=bj(n,i),s=r(s,o)),function(c){return s(n(c))}}function hye(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=bj(t[o],t[o+1]),s[o]=r(e[o],e[o+1]);return function(c){var u=zg(t,c,1,n)-1;return s[u](i[u](c))}}function Hg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Vx(){var t=g6,e=g6,r=Vh,n,i,s,o=ws,c,u,h;function g(){var w=Math.min(t.length,e.length);return o!==ws&&(o=dye(t[0],t[w-1])),c=w>2?hye:fye,u=h=null,v}function v(w){return w==null||isNaN(w=+w)?s:(u||(u=c(t.map(n),e,r)))(n(o(w)))}return v.invert=function(w){return o(i((h||(h=c(e,t.map(n),Zy)))(w)))},v.domain=function(w){return arguments.length?(t=Array.from(w,Qy),g()):t.slice()},v.range=function(w){return arguments.length?(e=Array.from(w),g()):e.slice()},v.rangeRound=function(w){return e=Array.from(w),r=TT,g()},v.clamp=function(w){return arguments.length?(o=w?!0:ws,g()):o!==ws},v.interpolate=function(w){return arguments.length?(r=w,g()):r},v.unknown=function(w){return arguments.length?(s=w,v):s},function(w,b){return n=w,i=b,g()}}function kT(){return Vx()(ws,ws)}function mye(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Jy(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function nh(t){return t=Jy(Math.abs(t)),t?t[1]:NaN}function pye(t,e){return function(r,n){for(var i=r.length,s=[],o=0,c=t[0],u=0;i>0&&c>0&&(u+c+1>n&&(c=Math.max(1,n-u)),s.push(r.substring(i-=c,i+c)),!((u+=c+1)>n));)c=t[o=(o+1)%t.length];return s.reverse().join(e)}}function gye(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var vye=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gp(t){if(!(e=vye.exec(t)))throw new Error("invalid format: "+t);var e;return new PT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Gp.prototype=PT.prototype;function PT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}PT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yye(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Hz;function xye(t,e){var r=Jy(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(Hz=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Jy(t,Math.max(0,e+s-1))[0]}function v6(t,e){var r=Jy(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const y6={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:mye,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>v6(t*100,e),r:v6,s:xye,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function x6(t){return t}var w6=Array.prototype.map,b6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function wye(t){var e=t.grouping===void 0||t.thousands===void 0?x6:pye(w6.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?x6:gye(w6.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function h(v){v=Gp(v);var w=v.fill,b=v.align,A=v.sign,C=v.symbol,E=v.zero,P=v.width,k=v.comma,I=v.precision,F=v.trim,M=v.type;M==="n"?(k=!0,M="g"):y6[M]||(I===void 0&&(I=12),F=!0,M="g"),(E||w==="0"&&b==="=")&&(E=!0,w="0",b="=");var D=C==="$"?r:C==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",R=C==="$"?n:/[%p]/.test(M)?o:"",$=y6[M],z=/[defgprs%]/.test(M);I=I===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function G(W){var V=D,K=R,q,Y,J;if(M==="c")K=$(W)+K,W="";else{W=+W;var ne=W<0||1/W<0;if(W=isNaN(W)?u:$(Math.abs(W),I),F&&(W=yye(W)),ne&&+W==0&&A!=="+"&&(ne=!1),V=(ne?A==="("?A:c:A==="-"||A==="("?"":A)+V,K=(M==="s"?b6[8+Hz/3]:"")+K+(ne&&A==="("?")":""),z){for(q=-1,Y=W.length;++q<Y;)if(J=W.charCodeAt(q),48>J||J>57){K=(J===46?i+W.slice(q+1):W.slice(q))+K,W=W.slice(0,q);break}}}k&&!E&&(W=e(W,1/0));var te=V.length+W.length+K.length,Q=te<P?new Array(P-te+1).join(w):"";switch(k&&E&&(W=e(Q+W,Q.length?P-K.length:1/0),Q=""),b){case"<":W=V+W+K+Q;break;case"=":W=V+Q+W+K;break;case"^":W=Q.slice(0,te=Q.length>>1)+V+W+K+Q.slice(te);break;default:W=Q+V+W+K;break}return s(W)}return G.toString=function(){return v+""},G}function g(v,w){var b=h((v=Gp(v),v.type="f",v)),A=Math.max(-8,Math.min(8,Math.floor(nh(w)/3)))*3,C=Math.pow(10,-A),E=b6[8+A/3];return function(P){return b(C*P)+E}}return{format:h,formatPrefix:g}}var kv,IT,Gz;bye({thousands:",",grouping:[3],currency:["$",""]});function bye(t){return kv=wye(t),IT=kv.format,Gz=kv.formatPrefix,kv}function _ye(t){return Math.max(0,-nh(Math.abs(t)))}function Sye(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nh(e)/3)))*3-nh(Math.abs(t)))}function Cye(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,nh(e)-nh(t))+1}function Kz(t,e,r,n){var i=vj(t,e,r),s;switch(n=Gp(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=Sye(i,o))&&(n.precision=s),Gz(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Cye(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=_ye(i))&&(n.precision=s-(n.type==="%")*2);break}}return IT(n)}function Zc(t){var e=t.domain;return t.ticks=function(r){var n=e();return pj(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return Kz(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,o=n[i],c=n[s],u,h,g=10;for(c<o&&(h=o,o=c,c=h,h=i,i=s,s=h);g-- >0;){if(h=gj(o,c,r),h===u)return n[i]=o,n[s]=c,e(n);if(h>0)o=Math.floor(o/h)*h,c=Math.ceil(c/h)*h;else if(h<0)o=Math.ceil(o*h)/h,c=Math.floor(c*h)/h;else break;u=h}return t},t}function e1(){var t=kT();return t.copy=function(){return Hg(t,e1())},La.apply(t,arguments),Zc(t)}function Yz(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Qy),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return Yz(t).unknown(e)},t=arguments.length?Array.from(t,Qy):[0,1],Zc(r)}function Xz(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),t[r]=e.floor(i),t[n]=e.ceil(s),t}function _6(t){return Math.log(t)}function S6(t){return Math.exp(t)}function Eye(t){return-Math.log(-t)}function Aye(t){return-Math.exp(-t)}function jye(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Nye(t){return t===10?jye:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Oye(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function C6(t){return(e,r)=>-t(-e,r)}function RT(t){const e=t(_6,S6),r=e.domain;let n=10,i,s;function o(){return i=Oye(n),s=Nye(n),r()[0]<0?(i=C6(i),s=C6(s),t(Eye,Aye)):t(_6,S6),e}return e.base=function(c){return arguments.length?(n=+c,o()):n},e.domain=function(c){return arguments.length?(r(c),o()):r()},e.ticks=c=>{const u=r();let h=u[0],g=u[u.length-1];const v=g<h;v&&([h,g]=[g,h]);let w=i(h),b=i(g),A,C;const E=c==null?10:+c;let P=[];if(!(n%1)&&b-w<E){if(w=Math.floor(w),b=Math.ceil(b),h>0){for(;w<=b;++w)for(A=1;A<n;++A)if(C=w<0?A/s(-w):A*s(w),!(C<h)){if(C>g)break;P.push(C)}}else for(;w<=b;++w)for(A=n-1;A>=1;--A)if(C=w>0?A/s(-w):A*s(w),!(C<h)){if(C>g)break;P.push(C)}P.length*2<E&&(P=pj(h,g,E))}else P=pj(w,b,Math.min(b-w,E)).map(s);return v?P.reverse():P},e.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=Gp(u)).precision==null&&(u.trim=!0),u=IT(u)),c===1/0)return u;const h=Math.max(1,n*c/e.ticks().length);return g=>{let v=g/s(Math.round(i(g)));return v*n<n-.5&&(v*=n),v<=h?u(g):""}},e.nice=()=>r(Xz(r(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),e}function Zz(){const t=RT(Vx()).domain([1,10]);return t.copy=()=>Hg(t,Zz()).base(t.base()),La.apply(t,arguments),t}function E6(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function A6(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function MT(t){var e=1,r=t(E6(e),A6(e));return r.constant=function(n){return arguments.length?t(E6(e=+n),A6(e)):e},Zc(r)}function Qz(){var t=MT(Vx());return t.copy=function(){return Hg(t,Qz()).constant(t.constant())},La.apply(t,arguments)}function j6(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Tye(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function kye(t){return t<0?-t*t:t*t}function DT(t){var e=t(ws,ws),r=1;function n(){return r===1?t(ws,ws):r===.5?t(Tye,kye):t(j6(r),j6(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Zc(e)}function LT(){var t=DT(Vx());return t.copy=function(){return Hg(t,LT()).exponent(t.exponent())},La.apply(t,arguments),t}function Pye(){return LT.apply(null,arguments).exponent(.5)}function N6(t){return Math.sign(t)*t*t}function Iye(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Jz(){var t=kT(),e=[0,1],r=!1,n;function i(s){var o=Iye(t(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return t.invert(N6(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Qy)).map(N6)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Jz(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},La.apply(i,arguments),Zc(i)}function eW(){var t=[],e=[],r=[],n;function i(){var o=0,c=Math.max(1,e.length);for(r=new Array(c-1);++o<c;)r[o-1]=Bve(t,o/c);return s}function s(o){return o==null||isNaN(o=+o)?n:e[zg(r,o)]}return s.invertExtent=function(o){var c=e.indexOf(o);return c<0?[NaN,NaN]:[c>0?r[c-1]:t[0],c<r.length?r[c]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let c of o)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Oc),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return eW().domain(t).range(e).unknown(n)},La.apply(s,arguments)}function tW(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function o(u){return u!=null&&u<=u?i[zg(n,u,0,r)]:s}function c(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*e-(u-r)*t)/(r+1);return o}return o.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,c()):[t,e]},o.range=function(u){return arguments.length?(r=(i=Array.from(u)).length-1,c()):i.slice()},o.invertExtent=function(u){var h=i.indexOf(u);return h<0?[NaN,NaN]:h<1?[t,n[0]]:h>=r?[n[r-1],e]:[n[h-1],n[h]]},o.unknown=function(u){return arguments.length&&(s=u),o},o.thresholds=function(){return n.slice()},o.copy=function(){return tW().domain([t,e]).range(i).unknown(s)},La.apply(Zc(o),arguments)}function rW(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[zg(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return rW().domain(t).range(e).unknown(r)},La.apply(i,arguments)}const rE=new Date,nE=new Date;function Ai(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),c=i.ceil(s);return s-o<c-s?o:c},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,c)=>{const u=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<o)||!(c>0))return u;let h;do u.push(h=new Date(+s)),e(s,c),t(s);while(h<s&&s<o);return u},i.filter=s=>Ai(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;e(o,-1),!s(o););else for(;--c>=0;)for(;e(o,1),!s(o););}),r&&(i.count=(s,o)=>(rE.setTime(+s),nE.setTime(+o),t(rE),t(nE),Math.floor(r(rE,nE))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const t1=Ai(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);t1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ai(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):t1);t1.range;const pl=1e3,ka=pl*60,gl=ka*60,Tl=gl*24,BT=Tl*7,O6=Tl*30,iE=Tl*365,qu=Ai(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*pl)},(t,e)=>(e-t)/pl,t=>t.getUTCSeconds());qu.range;const FT=Ai(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*pl)},(t,e)=>{t.setTime(+t+e*ka)},(t,e)=>(e-t)/ka,t=>t.getMinutes());FT.range;const UT=Ai(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ka)},(t,e)=>(e-t)/ka,t=>t.getUTCMinutes());UT.range;const $T=Ai(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*pl-t.getMinutes()*ka)},(t,e)=>{t.setTime(+t+e*gl)},(t,e)=>(e-t)/gl,t=>t.getHours());$T.range;const VT=Ai(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*gl)},(t,e)=>(e-t)/gl,t=>t.getUTCHours());VT.range;const Gg=Ai(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ka)/Tl,t=>t.getDate()-1);Gg.range;const qx=Ai(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Tl,t=>t.getUTCDate()-1);qx.range;const nW=Ai(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Tl,t=>Math.floor(t/Tl));nW.range;function Ad(t){return Ai(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*ka)/BT)}const zx=Ad(0),r1=Ad(1),Rye=Ad(2),Mye=Ad(3),ih=Ad(4),Dye=Ad(5),Lye=Ad(6);zx.range;r1.range;Rye.range;Mye.range;ih.range;Dye.range;Lye.range;function jd(t){return Ai(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/BT)}const Wx=jd(0),n1=jd(1),Bye=jd(2),Fye=jd(3),sh=jd(4),Uye=jd(5),$ye=jd(6);Wx.range;n1.range;Bye.range;Fye.range;sh.range;Uye.range;$ye.range;const qT=Ai(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());qT.range;const zT=Ai(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());zT.range;const kl=Ai(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());kl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ai(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});kl.range;const Pl=Ai(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Pl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ai(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Pl.range;function iW(t,e,r,n,i,s){const o=[[qu,1,pl],[qu,5,5*pl],[qu,15,15*pl],[qu,30,30*pl],[s,1,ka],[s,5,5*ka],[s,15,15*ka],[s,30,30*ka],[i,1,gl],[i,3,3*gl],[i,6,6*gl],[i,12,12*gl],[n,1,Tl],[n,2,2*Tl],[r,1,BT],[e,1,O6],[e,3,3*O6],[t,1,iE]];function c(h,g,v){const w=g<h;w&&([h,g]=[g,h]);const b=v&&typeof v.range=="function"?v:u(h,g,v),A=b?b.range(h,+g+1):[];return w?A.reverse():A}function u(h,g,v){const w=Math.abs(g-h)/v,b=AT(([,,E])=>E).right(o,w);if(b===o.length)return t.every(vj(h/iE,g/iE,v));if(b===0)return t1.every(Math.max(vj(h,g,v),1));const[A,C]=o[w/o[b-1][2]<o[b][2]/w?b-1:b];return A.every(C)}return[c,u]}const[Vye,qye]=iW(Pl,zT,Wx,nW,VT,UT),[zye,Wye]=iW(kl,qT,zx,Gg,$T,FT);function sE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function aE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Vm(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Hye(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,o=t.shortDays,c=t.months,u=t.shortMonths,h=qm(i),g=zm(i),v=qm(s),w=zm(s),b=qm(o),A=zm(o),C=qm(c),E=zm(c),P=qm(u),k=zm(u),I={a:ne,A:te,b:Q,B:ue,c:null,d:M6,e:M6,f:p1e,g:E1e,G:j1e,H:f1e,I:h1e,j:m1e,L:sW,m:g1e,M:v1e,p:ae,q:se,Q:B6,s:F6,S:y1e,u:x1e,U:w1e,V:b1e,w:_1e,W:S1e,x:null,X:null,y:C1e,Y:A1e,Z:N1e,"%":L6},F={a:me,A:xe,b:Ue,B:Pe,c:null,d:D6,e:D6,f:P1e,g:V1e,G:z1e,H:O1e,I:T1e,j:k1e,L:oW,m:I1e,M:R1e,p:Se,q:je,Q:B6,s:F6,S:M1e,u:D1e,U:L1e,V:B1e,w:F1e,W:U1e,x:null,X:null,y:$1e,Y:q1e,Z:W1e,"%":L6},M={a:G,A:W,b:V,B:K,c:q,d:I6,e:I6,f:l1e,g:P6,G:k6,H:R6,I:R6,j:i1e,L:o1e,m:n1e,M:s1e,p:z,q:r1e,Q:u1e,s:d1e,S:a1e,u:Zye,U:Qye,V:Jye,w:Xye,W:e1e,x:Y,X:J,y:P6,Y:k6,Z:t1e,"%":c1e};I.x=D(r,I),I.X=D(n,I),I.c=D(e,I),F.x=D(r,F),F.X=D(n,F),F.c=D(e,F);function D(Ee,Fe){return function(Ce){var be=[],He=-1,Te=0,Ge=Ee.length,gt,lt,Ct;for(Ce instanceof Date||(Ce=new Date(+Ce));++He<Ge;)Ee.charCodeAt(He)===37&&(be.push(Ee.slice(Te,He)),(lt=T6[gt=Ee.charAt(++He)])!=null?gt=Ee.charAt(++He):lt=gt==="e"?" ":"0",(Ct=Fe[gt])&&(gt=Ct(Ce,lt)),be.push(gt),Te=He+1);return be.push(Ee.slice(Te,He)),be.join("")}}function R(Ee,Fe){return function(Ce){var be=Vm(1900,void 0,1),He=$(be,Ee,Ce+="",0),Te,Ge;if(He!=Ce.length)return null;if("Q"in be)return new Date(be.Q);if("s"in be)return new Date(be.s*1e3+("L"in be?be.L:0));if(Fe&&!("Z"in be)&&(be.Z=0),"p"in be&&(be.H=be.H%12+be.p*12),be.m===void 0&&(be.m="q"in be?be.q:0),"V"in be){if(be.V<1||be.V>53)return null;"w"in be||(be.w=1),"Z"in be?(Te=aE(Vm(be.y,0,1)),Ge=Te.getUTCDay(),Te=Ge>4||Ge===0?n1.ceil(Te):n1(Te),Te=qx.offset(Te,(be.V-1)*7),be.y=Te.getUTCFullYear(),be.m=Te.getUTCMonth(),be.d=Te.getUTCDate()+(be.w+6)%7):(Te=sE(Vm(be.y,0,1)),Ge=Te.getDay(),Te=Ge>4||Ge===0?r1.ceil(Te):r1(Te),Te=Gg.offset(Te,(be.V-1)*7),be.y=Te.getFullYear(),be.m=Te.getMonth(),be.d=Te.getDate()+(be.w+6)%7)}else("W"in be||"U"in be)&&("w"in be||(be.w="u"in be?be.u%7:"W"in be?1:0),Ge="Z"in be?aE(Vm(be.y,0,1)).getUTCDay():sE(Vm(be.y,0,1)).getDay(),be.m=0,be.d="W"in be?(be.w+6)%7+be.W*7-(Ge+5)%7:be.w+be.U*7-(Ge+6)%7);return"Z"in be?(be.H+=be.Z/100|0,be.M+=be.Z%100,aE(be)):sE(be)}}function $(Ee,Fe,Ce,be){for(var He=0,Te=Fe.length,Ge=Ce.length,gt,lt;He<Te;){if(be>=Ge)return-1;if(gt=Fe.charCodeAt(He++),gt===37){if(gt=Fe.charAt(He++),lt=M[gt in T6?Fe.charAt(He++):gt],!lt||(be=lt(Ee,Ce,be))<0)return-1}else if(gt!=Ce.charCodeAt(be++))return-1}return be}function z(Ee,Fe,Ce){var be=h.exec(Fe.slice(Ce));return be?(Ee.p=g.get(be[0].toLowerCase()),Ce+be[0].length):-1}function G(Ee,Fe,Ce){var be=b.exec(Fe.slice(Ce));return be?(Ee.w=A.get(be[0].toLowerCase()),Ce+be[0].length):-1}function W(Ee,Fe,Ce){var be=v.exec(Fe.slice(Ce));return be?(Ee.w=w.get(be[0].toLowerCase()),Ce+be[0].length):-1}function V(Ee,Fe,Ce){var be=P.exec(Fe.slice(Ce));return be?(Ee.m=k.get(be[0].toLowerCase()),Ce+be[0].length):-1}function K(Ee,Fe,Ce){var be=C.exec(Fe.slice(Ce));return be?(Ee.m=E.get(be[0].toLowerCase()),Ce+be[0].length):-1}function q(Ee,Fe,Ce){return $(Ee,e,Fe,Ce)}function Y(Ee,Fe,Ce){return $(Ee,r,Fe,Ce)}function J(Ee,Fe,Ce){return $(Ee,n,Fe,Ce)}function ne(Ee){return o[Ee.getDay()]}function te(Ee){return s[Ee.getDay()]}function Q(Ee){return u[Ee.getMonth()]}function ue(Ee){return c[Ee.getMonth()]}function ae(Ee){return i[+(Ee.getHours()>=12)]}function se(Ee){return 1+~~(Ee.getMonth()/3)}function me(Ee){return o[Ee.getUTCDay()]}function xe(Ee){return s[Ee.getUTCDay()]}function Ue(Ee){return u[Ee.getUTCMonth()]}function Pe(Ee){return c[Ee.getUTCMonth()]}function Se(Ee){return i[+(Ee.getUTCHours()>=12)]}function je(Ee){return 1+~~(Ee.getUTCMonth()/3)}return{format:function(Ee){var Fe=D(Ee+="",I);return Fe.toString=function(){return Ee},Fe},parse:function(Ee){var Fe=R(Ee+="",!1);return Fe.toString=function(){return Ee},Fe},utcFormat:function(Ee){var Fe=D(Ee+="",F);return Fe.toString=function(){return Ee},Fe},utcParse:function(Ee){var Fe=R(Ee+="",!0);return Fe.toString=function(){return Ee},Fe}}}var T6={"-":"",_:" ",0:"0"},Ri=/^\s*\d+/,Gye=/^%/,Kye=/[\\^$*+?|[\]().{}]/g;function zr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function Yye(t){return t.replace(Kye,"\\$&")}function qm(t){return new RegExp("^(?:"+t.map(Yye).join("|")+")","i")}function zm(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Xye(t,e,r){var n=Ri.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Zye(t,e,r){var n=Ri.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Qye(t,e,r){var n=Ri.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Jye(t,e,r){var n=Ri.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function e1e(t,e,r){var n=Ri.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function k6(t,e,r){var n=Ri.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function P6(t,e,r){var n=Ri.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function t1e(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function r1e(t,e,r){var n=Ri.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function n1e(t,e,r){var n=Ri.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function I6(t,e,r){var n=Ri.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function i1e(t,e,r){var n=Ri.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function R6(t,e,r){var n=Ri.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function s1e(t,e,r){var n=Ri.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function a1e(t,e,r){var n=Ri.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function o1e(t,e,r){var n=Ri.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function l1e(t,e,r){var n=Ri.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function c1e(t,e,r){var n=Gye.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function u1e(t,e,r){var n=Ri.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function d1e(t,e,r){var n=Ri.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function M6(t,e){return zr(t.getDate(),e,2)}function f1e(t,e){return zr(t.getHours(),e,2)}function h1e(t,e){return zr(t.getHours()%12||12,e,2)}function m1e(t,e){return zr(1+Gg.count(kl(t),t),e,3)}function sW(t,e){return zr(t.getMilliseconds(),e,3)}function p1e(t,e){return sW(t,e)+"000"}function g1e(t,e){return zr(t.getMonth()+1,e,2)}function v1e(t,e){return zr(t.getMinutes(),e,2)}function y1e(t,e){return zr(t.getSeconds(),e,2)}function x1e(t){var e=t.getDay();return e===0?7:e}function w1e(t,e){return zr(zx.count(kl(t)-1,t),e,2)}function aW(t){var e=t.getDay();return e>=4||e===0?ih(t):ih.ceil(t)}function b1e(t,e){return t=aW(t),zr(ih.count(kl(t),t)+(kl(t).getDay()===4),e,2)}function _1e(t){return t.getDay()}function S1e(t,e){return zr(r1.count(kl(t)-1,t),e,2)}function C1e(t,e){return zr(t.getFullYear()%100,e,2)}function E1e(t,e){return t=aW(t),zr(t.getFullYear()%100,e,2)}function A1e(t,e){return zr(t.getFullYear()%1e4,e,4)}function j1e(t,e){var r=t.getDay();return t=r>=4||r===0?ih(t):ih.ceil(t),zr(t.getFullYear()%1e4,e,4)}function N1e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+zr(e/60|0,"0",2)+zr(e%60,"0",2)}function D6(t,e){return zr(t.getUTCDate(),e,2)}function O1e(t,e){return zr(t.getUTCHours(),e,2)}function T1e(t,e){return zr(t.getUTCHours()%12||12,e,2)}function k1e(t,e){return zr(1+qx.count(Pl(t),t),e,3)}function oW(t,e){return zr(t.getUTCMilliseconds(),e,3)}function P1e(t,e){return oW(t,e)+"000"}function I1e(t,e){return zr(t.getUTCMonth()+1,e,2)}function R1e(t,e){return zr(t.getUTCMinutes(),e,2)}function M1e(t,e){return zr(t.getUTCSeconds(),e,2)}function D1e(t){var e=t.getUTCDay();return e===0?7:e}function L1e(t,e){return zr(Wx.count(Pl(t)-1,t),e,2)}function lW(t){var e=t.getUTCDay();return e>=4||e===0?sh(t):sh.ceil(t)}function B1e(t,e){return t=lW(t),zr(sh.count(Pl(t),t)+(Pl(t).getUTCDay()===4),e,2)}function F1e(t){return t.getUTCDay()}function U1e(t,e){return zr(n1.count(Pl(t)-1,t),e,2)}function $1e(t,e){return zr(t.getUTCFullYear()%100,e,2)}function V1e(t,e){return t=lW(t),zr(t.getUTCFullYear()%100,e,2)}function q1e(t,e){return zr(t.getUTCFullYear()%1e4,e,4)}function z1e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?sh(t):sh.ceil(t),zr(t.getUTCFullYear()%1e4,e,4)}function W1e(){return"+0000"}function L6(){return"%"}function B6(t){return+t}function F6(t){return Math.floor(+t/1e3)}var mf,cW,uW;H1e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function H1e(t){return mf=Hye(t),cW=mf.format,mf.parse,uW=mf.utcFormat,mf.utcParse,mf}function G1e(t){return new Date(t)}function K1e(t){return t instanceof Date?+t:+new Date(+t)}function WT(t,e,r,n,i,s,o,c,u,h){var g=kT(),v=g.invert,w=g.domain,b=h(".%L"),A=h(":%S"),C=h("%I:%M"),E=h("%I %p"),P=h("%a %d"),k=h("%b %d"),I=h("%B"),F=h("%Y");function M(D){return(u(D)<D?b:c(D)<D?A:o(D)<D?C:s(D)<D?E:n(D)<D?i(D)<D?P:k:r(D)<D?I:F)(D)}return g.invert=function(D){return new Date(v(D))},g.domain=function(D){return arguments.length?w(Array.from(D,K1e)):w().map(G1e)},g.ticks=function(D){var R=w();return t(R[0],R[R.length-1],D??10)},g.tickFormat=function(D,R){return R==null?M:h(R)},g.nice=function(D){var R=w();return(!D||typeof D.range!="function")&&(D=e(R[0],R[R.length-1],D??10)),D?w(Xz(R,D)):g},g.copy=function(){return Hg(g,WT(t,e,r,n,i,s,o,c,u,h))},g}function Y1e(){return La.apply(WT(zye,Wye,kl,qT,zx,Gg,$T,FT,qu,cW).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function X1e(){return La.apply(WT(Vye,qye,Pl,zT,Wx,qx,VT,UT,qu,uW).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Hx(){var t=0,e=1,r,n,i,s,o=ws,c=!1,u;function h(v){return v==null||isNaN(v=+v)?u:o(i===0?.5:(v=(s(v)-r)*i,c?Math.max(0,Math.min(1,v)):v))}h.domain=function(v){return arguments.length?([t,e]=v,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),h):[t,e]},h.clamp=function(v){return arguments.length?(c=!!v,h):c},h.interpolator=function(v){return arguments.length?(o=v,h):o};function g(v){return function(w){var b,A;return arguments.length?([b,A]=w,o=v(b,A),h):[o(0),o(1)]}}return h.range=g(Vh),h.rangeRound=g(TT),h.unknown=function(v){return arguments.length?(u=v,h):u},function(v){return s=v,r=v(t),n=v(e),i=r===n?0:1/(n-r),h}}function Qc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function dW(){var t=Zc(Hx()(ws));return t.copy=function(){return Qc(t,dW())},Bl.apply(t,arguments)}function fW(){var t=RT(Hx()).domain([1,10]);return t.copy=function(){return Qc(t,fW()).base(t.base())},Bl.apply(t,arguments)}function hW(){var t=MT(Hx());return t.copy=function(){return Qc(t,hW()).constant(t.constant())},Bl.apply(t,arguments)}function HT(){var t=DT(Hx());return t.copy=function(){return Qc(t,HT()).exponent(t.exponent())},Bl.apply(t,arguments)}function Z1e(){return HT.apply(null,arguments).exponent(.5)}function mW(){var t=[],e=ws;function r(n){if(n!=null&&!isNaN(n=+n))return e((zg(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Oc),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>Lve(t,s/n))},r.copy=function(){return mW(e).domain(t)},Bl.apply(r,arguments)}function Gx(){var t=0,e=.5,r=1,n=1,i,s,o,c,u,h=ws,g,v=!1,w;function b(C){return isNaN(C=+C)?w:(C=.5+((C=+g(C))-s)*(n*C<n*s?c:u),h(v?Math.max(0,Math.min(1,C)):C))}b.domain=function(C){return arguments.length?([t,e,r]=C,i=g(t=+t),s=g(e=+e),o=g(r=+r),c=i===s?0:.5/(s-i),u=s===o?0:.5/(o-s),n=s<i?-1:1,b):[t,e,r]},b.clamp=function(C){return arguments.length?(v=!!C,b):v},b.interpolator=function(C){return arguments.length?(h=C,b):h};function A(C){return function(E){var P,k,I;return arguments.length?([P,k,I]=E,h=cye(C,[P,k,I]),b):[h(0),h(.5),h(1)]}}return b.range=A(Vh),b.rangeRound=A(TT),b.unknown=function(C){return arguments.length?(w=C,b):w},function(C){return g=C,i=C(t),s=C(e),o=C(r),c=i===s?0:.5/(s-i),u=s===o?0:.5/(o-s),n=s<i?-1:1,b}}function pW(){var t=Zc(Gx()(ws));return t.copy=function(){return Qc(t,pW())},Bl.apply(t,arguments)}function gW(){var t=RT(Gx()).domain([.1,1,10]);return t.copy=function(){return Qc(t,gW()).base(t.base())},Bl.apply(t,arguments)}function vW(){var t=MT(Gx());return t.copy=function(){return Qc(t,vW()).constant(t.constant())},Bl.apply(t,arguments)}function GT(){var t=DT(Gx());return t.copy=function(){return Qc(t,GT()).exponent(t.exponent())},Bl.apply(t,arguments)}function Q1e(){return GT.apply(null,arguments).exponent(.5)}const U6=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:qp,scaleDiverging:pW,scaleDivergingLog:gW,scaleDivergingPow:GT,scaleDivergingSqrt:Q1e,scaleDivergingSymlog:vW,scaleIdentity:Yz,scaleImplicit:yj,scaleLinear:e1,scaleLog:Zz,scaleOrdinal:jT,scalePoint:cp,scalePow:LT,scaleQuantile:eW,scaleQuantize:tW,scaleRadial:Jz,scaleSequential:dW,scaleSequentialLog:fW,scaleSequentialPow:HT,scaleSequentialQuantile:mW,scaleSequentialSqrt:Z1e,scaleSequentialSymlog:hW,scaleSqrt:Pye,scaleSymlog:Qz,scaleThreshold:rW,scaleTime:Y1e,scaleUtc:X1e,tickFormat:Kz},Symbol.toStringTag,{value:"Module"}));var oE,$6;function Kx(){if($6)return oE;$6=1;var t=Bh();function e(r,n,i){for(var s=-1,o=r.length;++s<o;){var c=r[s],u=n(c);if(u!=null&&(h===void 0?u===u&&!t(u):i(u,h)))var h=u,g=c}return g}return oE=e,oE}var lE,V6;function yW(){if(V6)return lE;V6=1;function t(e,r){return e>r}return lE=t,lE}var cE,q6;function J1e(){if(q6)return cE;q6=1;var t=Kx(),e=yW(),r=$h();function n(i){return i&&i.length?t(i,r,e):void 0}return cE=n,cE}var exe=J1e();const Ec=Ur(exe);var uE,z6;function xW(){if(z6)return uE;z6=1;function t(e,r){return e<r}return uE=t,uE}var dE,W6;function txe(){if(W6)return dE;W6=1;var t=Kx(),e=xW(),r=$h();function n(i){return i&&i.length?t(i,r,e):void 0}return dE=n,dE}var rxe=txe();const Yx=Ur(rxe);var fE,H6;function nxe(){if(H6)return fE;H6=1;var t=cT(),e=zo(),r=jz(),n=Fs();function i(s,o){var c=n(s)?t:r;return c(s,e(o,3))}return fE=i,fE}var hE,G6;function ixe(){if(G6)return hE;G6=1;var t=Ez(),e=nxe();function r(n,i){return t(e(n,i),1)}return hE=r,hE}var sxe=ixe();const axe=Ur(sxe);var mE,K6;function oxe(){if(K6)return mE;K6=1;var t=_T();function e(r,n){return t(r,n)}return mE=e,mE}var lxe=oxe();const hd=Ur(lxe);var qh=1e9,cxe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},YT,Tn=!0,Ma="[DecimalError] ",Xu=Ma+"Invalid argument: ",KT=Ma+"Exponent out of range: ",zh=Math.floor,Iu=Math.pow,uxe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sa,Pi=1e7,En=7,wW=9007199254740991,i1=zh(wW/En),St={};St.absoluteValue=St.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};St.comparedTo=St.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};St.decimalPlaces=St.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*En;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};St.dividedBy=St.div=function(t){return El(this,new this.constructor(t))};St.dividedToIntegerBy=St.idiv=function(t){var e=this,r=e.constructor;return cn(El(e,new r(t),0,1),r.precision)};St.equals=St.eq=function(t){return!this.cmp(t)};St.exponent=function(){return di(this)};St.greaterThan=St.gt=function(t){return this.cmp(t)>0};St.greaterThanOrEqualTo=St.gte=function(t){return this.cmp(t)>=0};St.isInteger=St.isint=function(){return this.e>this.d.length-2};St.isNegative=St.isneg=function(){return this.s<0};St.isPositive=St.ispos=function(){return this.s>0};St.isZero=function(){return this.s===0};St.lessThan=St.lt=function(t){return this.cmp(t)<0};St.lessThanOrEqualTo=St.lte=function(t){return this.cmp(t)<1};St.logarithm=St.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(sa))throw Error(Ma+"NaN");if(r.s<1)throw Error(Ma+(r.s?"NaN":"-Infinity"));return r.eq(sa)?new n(0):(Tn=!1,e=El(Kp(r,s),Kp(t,s),s),Tn=!0,cn(e,i))};St.minus=St.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?SW(e,t):bW(e,(t.s=-t.s,t))};St.modulo=St.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Ma+"NaN");return r.s?(Tn=!1,e=El(r,t,0,1).times(t),Tn=!0,r.minus(e)):cn(new n(r),i)};St.naturalExponential=St.exp=function(){return _W(this)};St.naturalLogarithm=St.ln=function(){return Kp(this)};St.negated=St.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};St.plus=St.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?bW(e,t):SW(e,(t.s=-t.s,t))};St.precision=St.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Xu+t);if(e=di(i)+1,n=i.d.length-1,r=n*En+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};St.squareRoot=St.sqrt=function(){var t,e,r,n,i,s,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(Ma+"NaN")}for(t=di(c),Tn=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=Oo(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=zh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new u(e)):n=new u(i.toString()),r=u.precision,i=o=r+3;;)if(s=n,n=s.plus(El(c,s,o+2)).times(.5),Oo(s.d).slice(0,o)===(e=Oo(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(cn(s,r+1,0),s.times(s).eq(c)){n=s;break}}else if(e!="9999")break;o+=4}return Tn=!0,cn(n,r)};St.times=St.mul=function(t){var e,r,n,i,s,o,c,u,h,g=this,v=g.constructor,w=g.d,b=(t=new v(t)).d;if(!g.s||!t.s)return new v(0);for(t.s*=g.s,r=g.e+t.e,u=w.length,h=b.length,u<h&&(s=w,w=b,b=s,o=u,u=h,h=o),s=[],o=u+h,n=o;n--;)s.push(0);for(n=h;--n>=0;){for(e=0,i=u+n;i>n;)c=s[i]+b[n]*w[i-n-1]+e,s[i--]=c%Pi|0,e=c/Pi|0;s[i]=(s[i]+e)%Pi|0}for(;!s[--o];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Tn?cn(t,v.precision):t};St.toDecimalPlaces=St.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Fo(t,0,qh),e===void 0?e=n.rounding:Fo(e,0,8),cn(r,t+di(r)+1,e))};St.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=md(n,!0):(Fo(t,0,qh),e===void 0?e=i.rounding:Fo(e,0,8),n=cn(new i(n),t+1,e),r=md(n,!0,t+1)),r};St.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?md(i):(Fo(t,0,qh),e===void 0?e=s.rounding:Fo(e,0,8),n=cn(new s(i),t+di(i)+1,e),r=md(n.abs(),!1,t+di(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};St.toInteger=St.toint=function(){var t=this,e=t.constructor;return cn(new e(t),di(t)+1,e.rounding)};St.toNumber=function(){return+this};St.toPower=St.pow=function(t){var e,r,n,i,s,o,c=this,u=c.constructor,h=12,g=+(t=new u(t));if(!t.s)return new u(sa);if(c=new u(c),!c.s){if(t.s<1)throw Error(Ma+"Infinity");return c}if(c.eq(sa))return c;if(n=u.precision,t.eq(sa))return cn(c,n);if(e=t.e,r=t.d.length-1,o=e>=r,s=c.s,o){if((r=g<0?-g:g)<=wW){for(i=new u(sa),e=Math.ceil(n/En+4),Tn=!1;r%2&&(i=i.times(c),X6(i.d,e)),r=zh(r/2),r!==0;)c=c.times(c),X6(c.d,e);return Tn=!0,t.s<0?new u(sa).div(i):cn(i,n)}}else if(s<0)throw Error(Ma+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,c.s=1,Tn=!1,i=t.times(Kp(c,n+h)),Tn=!0,i=_W(i),i.s=s,i};St.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=di(i),n=md(i,r<=s.toExpNeg||r>=s.toExpPos)):(Fo(t,1,qh),e===void 0?e=s.rounding:Fo(e,0,8),i=cn(new s(i),t,e),r=di(i),n=md(i,t<=r||r<=s.toExpNeg,t)),n};St.toSignificantDigits=St.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Fo(t,1,qh),e===void 0?e=n.rounding:Fo(e,0,8)),cn(new n(r),t,e)};St.toString=St.valueOf=St.val=St.toJSON=St[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=di(t),r=t.constructor;return md(t,e<=r.toExpNeg||e>=r.toExpPos)};function bW(t,e){var r,n,i,s,o,c,u,h,g=t.constructor,v=g.precision;if(!t.s||!e.s)return e.s||(e=new g(t)),Tn?cn(e,v):e;if(u=t.d,h=e.d,o=t.e,i=e.e,u=u.slice(),s=o-i,s){for(s<0?(n=u,s=-s,c=h.length):(n=h,i=o,c=u.length),o=Math.ceil(v/En),c=o>c?o+1:c+1,s>c&&(s=c,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(c=u.length,s=h.length,c-s<0&&(s=c,n=h,h=u,u=n),r=0;s;)r=(u[--s]=u[s]+h[s]+r)/Pi|0,u[s]%=Pi;for(r&&(u.unshift(r),++i),c=u.length;u[--c]==0;)u.pop();return e.d=u,e.e=i,Tn?cn(e,v):e}function Fo(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Xu+t)}function Oo(t){var e,r,n,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)n=t[e]+"",r=En-n.length,r&&(s+=yc(r)),s+=n;o=t[e],n=o+"",r=En-n.length,r&&(s+=yc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var El=(function(){function t(n,i){var s,o=0,c=n.length;for(n=n.slice();c--;)s=n[c]*i+o,n[c]=s%Pi|0,o=s/Pi|0;return o&&n.unshift(o),n}function e(n,i,s,o){var c,u;if(s!=o)u=s>o?1:-1;else for(c=u=0;c<s;c++)if(n[c]!=i[c]){u=n[c]>i[c]?1:-1;break}return u}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*Pi+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var c,u,h,g,v,w,b,A,C,E,P,k,I,F,M,D,R,$,z=n.constructor,G=n.s==i.s?1:-1,W=n.d,V=i.d;if(!n.s)return new z(n);if(!i.s)throw Error(Ma+"Division by zero");for(u=n.e-i.e,R=V.length,M=W.length,b=new z(G),A=b.d=[],h=0;V[h]==(W[h]||0);)++h;if(V[h]>(W[h]||0)&&--u,s==null?k=s=z.precision:o?k=s+(di(n)-di(i))+1:k=s,k<0)return new z(0);if(k=k/En+2|0,h=0,R==1)for(g=0,V=V[0],k++;(h<M||g)&&k--;h++)I=g*Pi+(W[h]||0),A[h]=I/V|0,g=I%V|0;else{for(g=Pi/(V[0]+1)|0,g>1&&(V=t(V,g),W=t(W,g),R=V.length,M=W.length),F=R,C=W.slice(0,R),E=C.length;E<R;)C[E++]=0;$=V.slice(),$.unshift(0),D=V[0],V[1]>=Pi/2&&++D;do g=0,c=e(V,C,R,E),c<0?(P=C[0],R!=E&&(P=P*Pi+(C[1]||0)),g=P/D|0,g>1?(g>=Pi&&(g=Pi-1),v=t(V,g),w=v.length,E=C.length,c=e(v,C,w,E),c==1&&(g--,r(v,R<w?$:V,w))):(g==0&&(c=g=1),v=V.slice()),w=v.length,w<E&&v.unshift(0),r(C,v,E),c==-1&&(E=C.length,c=e(V,C,R,E),c<1&&(g++,r(C,R<E?$:V,E))),E=C.length):c===0&&(g++,C=[0]),A[h++]=g,c&&C[0]?C[E++]=W[F]||0:(C=[W[F]],E=1);while((F++<M||C[0]!==void 0)&&k--)}return A[0]||A.shift(),b.e=u,cn(b,o?s+di(b)+1:s)}})();function _W(t,e){var r,n,i,s,o,c,u=0,h=0,g=t.constructor,v=g.precision;if(di(t)>16)throw Error(KT+di(t));if(!t.s)return new g(sa);for(Tn=!1,c=v,o=new g(.03125);t.abs().gte(.1);)t=t.times(o),h+=5;for(n=Math.log(Iu(2,h))/Math.LN10*2+5|0,c+=n,r=i=s=new g(sa),g.precision=c;;){if(i=cn(i.times(t),c),r=r.times(++u),o=s.plus(El(i,r,c)),Oo(o.d).slice(0,c)===Oo(s.d).slice(0,c)){for(;h--;)s=cn(s.times(s),c);return g.precision=v,e==null?(Tn=!0,cn(s,v)):s}s=o}}function di(t){for(var e=t.e*En,r=t.d[0];r>=10;r/=10)e++;return e}function pE(t,e,r){if(e>t.LN10.sd())throw Tn=!0,r&&(t.precision=r),Error(Ma+"LN10 precision limit exceeded");return cn(new t(t.LN10),e)}function yc(t){for(var e="";t--;)e+="0";return e}function Kp(t,e){var r,n,i,s,o,c,u,h,g,v=1,w=10,b=t,A=b.d,C=b.constructor,E=C.precision;if(b.s<1)throw Error(Ma+(b.s?"NaN":"-Infinity"));if(b.eq(sa))return new C(0);if(e==null?(Tn=!1,h=E):h=e,b.eq(10))return e==null&&(Tn=!0),pE(C,h);if(h+=w,C.precision=h,r=Oo(A),n=r.charAt(0),s=di(b),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(t),r=Oo(b.d),n=r.charAt(0),v++;s=di(b),n>1?(b=new C("0."+r),s++):b=new C(n+"."+r.slice(1))}else return u=pE(C,h+2,E).times(s+""),b=Kp(new C(n+"."+r.slice(1)),h-w).plus(u),C.precision=E,e==null?(Tn=!0,cn(b,E)):b;for(c=o=b=El(b.minus(sa),b.plus(sa),h),g=cn(b.times(b),h),i=3;;){if(o=cn(o.times(g),h),u=c.plus(El(o,new C(i),h)),Oo(u.d).slice(0,h)===Oo(c.d).slice(0,h))return c=c.times(2),s!==0&&(c=c.plus(pE(C,h+2,E).times(s+""))),c=El(c,new C(v),h),C.precision=E,e==null?(Tn=!0,cn(c,E)):c;c=u,i+=2}}function Y6(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=zh(r/En),t.d=[],n=(r+1)%En,r<0&&(n+=En),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=En;n<i;)t.d.push(+e.slice(n,n+=En));e=e.slice(n),n=En-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Tn&&(t.e>i1||t.e<-i1))throw Error(KT+r)}else t.s=0,t.e=0,t.d=[0];return t}function cn(t,e,r){var n,i,s,o,c,u,h,g,v=t.d;for(o=1,s=v[0];s>=10;s/=10)o++;if(n=e-o,n<0)n+=En,i=e,h=v[g=0];else{if(g=Math.ceil((n+1)/En),s=v.length,g>=s)return t;for(h=s=v[g],o=1;s>=10;s/=10)o++;n%=En,i=n-En+o}if(r!==void 0&&(s=Iu(10,o-i-1),c=h/s%10|0,u=e<0||v[g+1]!==void 0||h%s,u=r<4?(c||u)&&(r==0||r==(t.s<0?3:2)):c>5||c==5&&(r==4||u||r==6&&(n>0?i>0?h/Iu(10,o-i):0:v[g-1])%10&1||r==(t.s<0?8:7))),e<1||!v[0])return u?(s=di(t),v.length=1,e=e-s-1,v[0]=Iu(10,(En-e%En)%En),t.e=zh(-e/En)||0):(v.length=1,v[0]=t.e=t.s=0),t;if(n==0?(v.length=g,s=1,g--):(v.length=g+1,s=Iu(10,En-n),v[g]=i>0?(h/Iu(10,o-i)%Iu(10,i)|0)*s:0),u)for(;;)if(g==0){(v[0]+=s)==Pi&&(v[0]=1,++t.e);break}else{if(v[g]+=s,v[g]!=Pi)break;v[g--]=0,s=1}for(n=v.length;v[--n]===0;)v.pop();if(Tn&&(t.e>i1||t.e<-i1))throw Error(KT+di(t));return t}function SW(t,e){var r,n,i,s,o,c,u,h,g,v,w=t.constructor,b=w.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new w(t),Tn?cn(e,b):e;if(u=t.d,v=e.d,n=e.e,h=t.e,u=u.slice(),o=h-n,o){for(g=o<0,g?(r=u,o=-o,c=v.length):(r=v,n=h,c=u.length),i=Math.max(Math.ceil(b/En),c)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=u.length,c=v.length,g=i<c,g&&(c=i),i=0;i<c;i++)if(u[i]!=v[i]){g=u[i]<v[i];break}o=0}for(g&&(r=u,u=v,v=r,e.s=-e.s),c=u.length,i=v.length-c;i>0;--i)u[c++]=0;for(i=v.length;i>o;){if(u[--i]<v[i]){for(s=i;s&&u[--s]===0;)u[s]=Pi-1;--u[s],u[i]+=Pi}u[i]-=v[i]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(e.d=u,e.e=n,Tn?cn(e,b):e):new w(0)}function md(t,e,r){var n,i=di(t),s=Oo(t.d),o=s.length;return e?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+yc(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+yc(-i-1)+s,r&&(n=r-o)>0&&(s+=yc(n))):i>=o?(s+=yc(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+yc(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=yc(n))),t.s<0?"-"+s:s}function X6(t,e){if(t.length>e)return t.length=e,!0}function CW(t){var e,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Xu+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return Y6(o,s.toString())}else if(typeof s!="string")throw Error(Xu+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,uxe.test(s))Y6(o,s);else throw Error(Xu+s)}if(i.prototype=St,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=CW,i.config=i.set=dxe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function dxe(t){if(!t||typeof t!="object")throw Error(Ma+"Object expected");var e,r,n,i=["precision",1,qh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(zh(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Xu+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Xu+r+": "+n);return this}var YT=CW(cxe);sa=new YT(1);const sn=YT;function fxe(t){return gxe(t)||pxe(t)||mxe(t)||hxe()}function hxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mxe(t,e){if(t){if(typeof t=="string")return _j(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _j(t,e)}}function pxe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function gxe(t){if(Array.isArray(t))return _j(t)}function _j(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var vxe=function(e){return e},EW={},AW=function(e){return e===EW},Z6=function(e){return function r(){return arguments.length===0||arguments.length===1&&AW(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},yxe=function t(e,r){return e===1?r:Z6(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(c){return c!==EW}).length;return o>=e?r.apply(void 0,i):t(e-o,Z6(function(){for(var c=arguments.length,u=new Array(c),h=0;h<c;h++)u[h]=arguments[h];var g=i.map(function(v){return AW(v)?u.shift():v});return r.apply(void 0,fxe(g).concat(u))}))})},Xx=function(e){return yxe(e.length,e)},Sj=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},xxe=Xx(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),wxe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return vxe;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(c,u){return u(c)},s.apply(void 0,arguments))}},Cj=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},jW=function(e){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(c,u){return c===r[u]})||(r=s,n=e.apply(void 0,s)),n}};function bxe(t){var e;return t===0?e=1:e=Math.floor(new sn(t).abs().log(10).toNumber())+1,e}function _xe(t,e,r){for(var n=new sn(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var Sxe=Xx(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Cxe=Xx(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Exe=Xx(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Zx={rangeStep:_xe,getDigitCount:bxe,interpolateNumber:Sxe,uninterpolateNumber:Cxe,uninterpolateTruncation:Exe};function Ej(t){return Nxe(t)||jxe(t)||NW(t)||Axe()}function Axe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jxe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Nxe(t){if(Array.isArray(t))return Aj(t)}function Yp(t,e){return kxe(t)||Txe(t,e)||NW(t,e)||Oxe()}function Oxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NW(t,e){if(t){if(typeof t=="string")return Aj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Aj(t,e)}}function Aj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Txe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),c;!(n=(c=o.next()).done)&&(r.push(c.value),!(e&&r.length===e));n=!0);}catch(u){i=!0,s=u}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function kxe(t){if(Array.isArray(t))return t}function OW(t){var e=Yp(t,2),r=e[0],n=e[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function TW(t,e,r){if(t.lte(0))return new sn(0);var n=Zx.getDigitCount(t.toNumber()),i=new sn(10).pow(n),s=t.div(i),o=n!==1?.05:.1,c=new sn(Math.ceil(s.div(o).toNumber())).add(r).mul(o),u=c.mul(i);return e?u:new sn(Math.ceil(u))}function Pxe(t,e,r){var n=1,i=new sn(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new sn(10).pow(Zx.getDigitCount(t)-1),i=new sn(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new sn(Math.floor(t)))}else t===0?i=new sn(Math.floor((e-1)/2)):r||(i=new sn(Math.floor(t)));var o=Math.floor((e-1)/2),c=wxe(xxe(function(u){return i.add(new sn(u-o).mul(n)).toNumber()}),Sj);return c(0,e)}function kW(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new sn(0),tickMin:new sn(0),tickMax:new sn(0)};var s=TW(new sn(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new sn(0):(o=new sn(t).add(e).div(2),o=o.sub(new sn(o).mod(s)));var c=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new sn(e).sub(o).div(s).toNumber()),h=c+u+1;return h>r?kW(t,e,r,n,i+1):(h<r&&(u=e>0?u+(r-h):u,c=e>0?c:c+(r-h)),{step:s,tickMin:o.sub(new sn(c).mul(s)),tickMax:o.add(new sn(u).mul(s))})}function Ixe(t){var e=Yp(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),c=OW([r,n]),u=Yp(c,2),h=u[0],g=u[1];if(h===-1/0||g===1/0){var v=g===1/0?[h].concat(Ej(Sj(0,i-1).map(function(){return 1/0}))):[].concat(Ej(Sj(0,i-1).map(function(){return-1/0})),[g]);return r>n?Cj(v):v}if(h===g)return Pxe(h,i,s);var w=kW(h,g,o,s),b=w.step,A=w.tickMin,C=w.tickMax,E=Zx.rangeStep(A,C.add(new sn(.1).mul(b)),b);return r>n?Cj(E):E}function Rxe(t,e){var r=Yp(t,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=OW([n,i]),c=Yp(o,2),u=c[0],h=c[1];if(u===-1/0||h===1/0)return[n,i];if(u===h)return[u];var g=Math.max(e,2),v=TW(new sn(h).sub(u).div(g-1),s,0),w=[].concat(Ej(Zx.rangeStep(new sn(u),new sn(h).sub(new sn(.99).mul(v)),v)),[h]);return n>i?Cj(w):w}var Mxe=jW(Ixe),Dxe=jW(Rxe),Lxe="Invariant failed";function pd(t,e){throw new Error(Lxe)}var Bxe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function s1(){return s1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s1.apply(this,arguments)}function Fxe(t,e){return qxe(t)||Vxe(t,e)||$xe(t,e)||Uxe()}function Uxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $xe(t,e){if(t){if(typeof t=="string")return Q6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q6(t,e)}}function Q6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vxe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],u=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function qxe(t){if(Array.isArray(t))return t}function zxe(t,e){if(t==null)return{};var r=Wxe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Hxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gxe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RW(n.key),n)}}function Kxe(t,e,r){return e&&Gxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yxe(t,e,r){return e=a1(e),Xxe(t,PW()?Reflect.construct(e,r||[],a1(t).constructor):e.apply(t,r))}function Xxe(t,e){if(e&&(ah(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zxe(t)}function Zxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PW=function(){return!!t})()}function a1(t){return a1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},a1(t)}function Qxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jj(t,e)}function jj(t,e){return jj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jj(t,e)}function IW(t,e,r){return e=RW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RW(t){var e=Jxe(t,"string");return ah(e)=="symbol"?e:e+""}function Jxe(t,e){if(ah(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kg=(function(t){function e(){return Hxe(this,e),Yxe(this,e,arguments)}return Qxe(e,t),Kxe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,c=n.dataKey,u=n.data,h=n.dataPointFormatter,g=n.xAxis,v=n.yAxis,w=zxe(n,Bxe),b=Bt(w,!1);this.props.direction==="x"&&g.type!=="number"&&pd();var A=u.map(function(C){var E=h(C,c),P=E.x,k=E.y,I=E.value,F=E.errorVal;if(!F)return null;var M=[],D,R;if(Array.isArray(F)){var $=Fxe(F,2);D=$[0],R=$[1]}else D=R=F;if(s==="vertical"){var z=g.scale,G=k+i,W=G+o,V=G-o,K=z(I-D),q=z(I+R);M.push({x1:q,y1:W,x2:q,y2:V}),M.push({x1:K,y1:G,x2:q,y2:G}),M.push({x1:K,y1:W,x2:K,y2:V})}else if(s==="horizontal"){var Y=v.scale,J=P+i,ne=J-o,te=J+o,Q=Y(I-D),ue=Y(I+R);M.push({x1:ne,y1:ue,x2:te,y2:ue}),M.push({x1:J,y1:Q,x2:J,y2:ue}),M.push({x1:ne,y1:Q,x2:te,y2:Q})}return ie.createElement(Ir,s1({className:"recharts-errorBar",key:"bar-".concat(M.map(function(ae){return"".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))},b),M.map(function(ae){return ie.createElement("line",s1({},ae,{key:"line-".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))}))});return ie.createElement(Ir,{className:"recharts-errorBars"},A)}}])})(ie.Component);IW(Kg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});IW(Kg,"displayName","ErrorBar");function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function J6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Eu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J6(Object(r),!0).forEach(function(n){ewe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ewe(t,e,r){return e=twe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function twe(t){var e=rwe(t,"string");return Xp(e)=="symbol"?e:e+""}function rwe(t,e){if(Xp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MW=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=Qs(r,Cl);if(!o)return null;var c=Cl.defaultProps,u=c!==void 0?Eu(Eu({},c),o.props):{},h;return o.props&&o.props.payload?h=o.props&&o.props.payload:s==="children"?h=(n||[]).reduce(function(g,v){var w=v.item,b=v.props,A=b.sectors||b.data||[];return g.concat(A.map(function(C){return{type:o.props.iconType||w.props.legendType,value:C.name,color:C.fill,payload:C}}))},[]):h=(n||[]).map(function(g){var v=g.item,w=v.type.defaultProps,b=w!==void 0?Eu(Eu({},w),v.props):{},A=b.dataKey,C=b.name,E=b.legendType,P=b.hide;return{inactive:P,dataKey:A,type:u.iconType||E||"square",color:XT(v),value:C||A,payload:b}}),Eu(Eu(Eu({},u),Cl.getWithHeight(o,i)),{},{payload:h,item:o})};function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function e5(t){return awe(t)||swe(t)||iwe(t)||nwe()}function nwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iwe(t,e){if(t){if(typeof t=="string")return Nj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nj(t,e)}}function swe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function awe(t){if(Array.isArray(t))return Nj(t)}function Nj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function t5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t5(Object(r),!0).forEach(function(n){Lf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lf(t,e,r){return e=owe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function owe(t){var e=lwe(t,"string");return Zp(e)=="symbol"?e:e+""}function lwe(t,e){if(Zp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ni(t,e,r){return ur(t)||ur(e)?r:Ci(e)?la(t,e,r):Zt(e)?e(t):r}function up(t,e,r,n){var i=axe(t,function(c){return ni(c,e)});if(r==="number"){var s=i.filter(function(c){return st(c)||parseFloat(c)});return s.length?[Yx(s),Ec(s)]:[1/0,-1/0]}var o=n?i.filter(function(c){return!ur(c)}):i;return o.map(function(c){return Ci(c)||c instanceof Date?c:""})}var cwe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,c=(r=n?.length)!==null&&r!==void 0?r:0;if(c<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var u=s.range,h=0;h<c;h++){var g=h>0?i[h-1].coordinate:i[c-1].coordinate,v=i[h].coordinate,w=h>=c-1?i[0].coordinate:i[h+1].coordinate,b=void 0;if(ys(v-g)!==ys(w-v)){var A=[];if(ys(w-v)===ys(u[1]-u[0])){b=w;var C=v+u[1]-u[0];A[0]=Math.min(C,(C+g)/2),A[1]=Math.max(C,(C+g)/2)}else{b=g;var E=w+u[1]-u[0];A[0]=Math.min(v,(E+v)/2),A[1]=Math.max(v,(E+v)/2)}var P=[Math.min(v,(b+v)/2),Math.max(v,(b+v)/2)];if(e>P[0]&&e<=P[1]||e>=A[0]&&e<=A[1]){o=i[h].index;break}}else{var k=Math.min(g,w),I=Math.max(g,w);if(e>(k+v)/2&&e<=(I+v)/2){o=i[h].index;break}}}else for(var F=0;F<c;F++)if(F===0&&e<=(n[F].coordinate+n[F+1].coordinate)/2||F>0&&F<c-1&&e>(n[F].coordinate+n[F-1].coordinate)/2&&e<=(n[F].coordinate+n[F+1].coordinate)/2||F===c-1&&e>(n[F].coordinate+n[F-1].coordinate)/2){o=n[F].index;break}return o},XT=function(e){var r,n=e,i=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Hn(Hn({},e.type.defaultProps),e.props):e.props,o=s.stroke,c=s.fill,u;switch(i){case"Line":u=o;break;case"Area":case"Radar":u=o&&o!=="none"?o:c;break;default:u=c;break}return u},uwe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},c=Object.keys(s),u=0,h=c.length;u<h;u++)for(var g=s[c[u]].stackGroups,v=Object.keys(g),w=0,b=v.length;w<b;w++){var A=g[v[w]],C=A.items,E=A.cateAxisId,P=C.filter(function(R){return Sl(R.type).indexOf("Bar")>=0});if(P&&P.length){var k=P[0].type.defaultProps,I=k!==void 0?Hn(Hn({},k),P[0].props):P[0].props,F=I.barSize,M=I[E];o[M]||(o[M]=[]);var D=ur(F)?r:F;o[M].push({item:P[0],stackList:P.slice(1),barSize:ur(D)?void 0:xs(D,n,0)})}}return o},dwe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,c=e.maxBarSize,u=o.length;if(u<1)return null;var h=xs(r,i,0,!0),g,v=[];if(o[0].barSize===+o[0].barSize){var w=!1,b=i/u,A=o.reduce(function(F,M){return F+M.barSize||0},0);A+=(u-1)*h,A>=i&&(A-=(u-1)*h,h=0),A>=i&&b>0&&(w=!0,b*=.9,A=u*b);var C=(i-A)/2>>0,E={offset:C-h,size:0};g=o.reduce(function(F,M){var D={item:M.item,position:{offset:E.offset+E.size+h,size:w?b:M.barSize}},R=[].concat(e5(F),[D]);return E=R[R.length-1].position,M.stackList&&M.stackList.length&&M.stackList.forEach(function($){R.push({item:$,position:E})}),R},v)}else{var P=xs(n,i,0,!0);i-2*P-(u-1)*h<=0&&(h=0);var k=(i-2*P-(u-1)*h)/u;k>1&&(k>>=0);var I=c===+c?Math.min(k,c):k;g=o.reduce(function(F,M,D){var R=[].concat(e5(F),[{item:M.item,position:{offset:P+(k+h)*D+(k-I)/2,size:I}}]);return M.stackList&&M.stackList.length&&M.stackList.forEach(function($){R.push({item:$,position:R[R.length-1].position})}),R},v)}return g},fwe=function(e,r,n,i){var s=n.children,o=n.width,c=n.margin,u=o-(c.left||0)-(c.right||0),h=MW({children:s,legendWidth:u});if(h){var g=i||{},v=g.width,w=g.height,b=h.align,A=h.verticalAlign,C=h.layout;if((C==="vertical"||C==="horizontal"&&A==="middle")&&b!=="center"&&st(e[b]))return Hn(Hn({},e),{},Lf({},b,e[b]+(v||0)));if((C==="horizontal"||C==="vertical"&&b==="center")&&A!=="middle"&&st(e[A]))return Hn(Hn({},e),{},Lf({},A,e[A]+(w||0)))}return e},hwe=function(e,r,n){return ur(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},DW=function(e,r,n,i,s){var o=r.props.children,c=ca(o,Kg).filter(function(h){return hwe(i,s,h.props.direction)});if(c&&c.length){var u=c.map(function(h){return h.props.dataKey});return e.reduce(function(h,g){var v=ni(g,n);if(ur(v))return h;var w=Array.isArray(v)?[Yx(v),Ec(v)]:[v,v],b=u.reduce(function(A,C){var E=ni(g,C,0),P=w[0]-Math.abs(Array.isArray(E)?E[0]:E),k=w[1]+Math.abs(Array.isArray(E)?E[1]:E);return[Math.min(P,A[0]),Math.max(k,A[1])]},[1/0,-1/0]);return[Math.min(b[0],h[0]),Math.max(b[1],h[1])]},[1/0,-1/0])}return null},mwe=function(e,r,n,i,s){var o=r.map(function(c){return DW(e,c,n,s,i)}).filter(function(c){return!ur(c)});return o&&o.length?o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]):null},LW=function(e,r,n,i,s){var o=r.map(function(u){var h=u.props.dataKey;return n==="number"&&h&&DW(e,u,h,i)||up(e,h,n,s)});if(n==="number")return o.reduce(function(u,h){return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);var c={};return o.reduce(function(u,h){for(var g=0,v=h.length;g<v;g++)c[h[g]]||(c[h[g]]=!0,u.push(h[g]));return u},[])},BW=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},FW=function(e,r,n,i){if(i)return e.map(function(u){return u.coordinate});var s,o,c=e.map(function(u){return u.coordinate===r&&(s=!0),u.coordinate===n&&(o=!0),u.coordinate});return s||c.push(r),o||c.push(n),c},vl=function(e,r,n){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,c=e.range,u=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/u:0;if(h=e.axisType==="angleAxis"&&c?.length>=2?ys(c[0]-c[1])*2*h:h,r&&(e.ticks||e.niceTicks)){var g=(e.ticks||e.niceTicks).map(function(v){var w=s?s.indexOf(v):v;return{coordinate:i(w)+h,value:v,offset:h}});return g.filter(function(v){return!Uh(v.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(v,w){return{coordinate:i(v)+h,value:v,index:w,offset:h}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(v){return{coordinate:i(v)+h,value:v,offset:h}}):i.domain().map(function(v,w){return{coordinate:i(v)+h,value:s?s[v]:v,index:w,offset:h}})},gE=new WeakMap,Pv=function(e,r){if(typeof r!="function")return e;gE.has(e)||gE.set(e,new WeakMap);var n=gE.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},UW=function(e,r,n){var i=e.scale,s=e.type,o=e.layout,c=e.axisType;if(i==="auto")return o==="radial"&&c==="radiusAxis"?{scale:qp(),realScaleType:"band"}:o==="radial"&&c==="angleAxis"?{scale:e1(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:cp(),realScaleType:"point"}:s==="category"?{scale:qp(),realScaleType:"band"}:{scale:e1(),realScaleType:"linear"};if(ud(i)){var u="scale".concat(Rx(i));return{scale:(U6[u]||cp)(),realScaleType:U6[u]?u:"point"}}return Zt(i)?{scale:i}:{scale:cp(),realScaleType:"point"}},r5=1e-4,$W=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),s=Math.min(i[0],i[1])-r5,o=Math.max(i[0],i[1])+r5,c=e(r[0]),u=e(r[n-1]);(c<s||c>o||u<s||u>o)&&e.domain([r[0],r[n-1]])}},pwe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},gwe=function(e,r){if(!r||r.length!==2||!st(r[0])||!st(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!st(e[0])||e[0]<n)&&(s[0]=n),(!st(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},vwe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0,c=0;c<r;++c){var u=Uh(e[c][n][1])?e[c][n][0]:e[c][n][1];u>=0?(e[c][n][0]=s,e[c][n][1]=s+u,s=e[c][n][1]):(e[c][n][0]=o,e[c][n][1]=o+u,o=e[c][n][1])}},ywe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var c=Uh(e[o][n][1])?e[o][n][0]:e[o][n][1];c>=0?(e[o][n][0]=s,e[o][n][1]=s+c,s=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},xwe={sign:vwe,expand:ape,none:Qf,silhouette:ope,wiggle:lpe,positive:ywe},wwe=function(e,r,n){var i=r.map(function(c){return c.props.dataKey}),s=xwe[n],o=spe().keys(i).value(function(c,u){return+ni(c,u,0)}).order(ij).offset(s);return o(e)},bwe=function(e,r,n,i,s,o){if(!e)return null;var c=o?r.reverse():r,u={},h=c.reduce(function(v,w){var b,A=(b=w.type)!==null&&b!==void 0&&b.defaultProps?Hn(Hn({},w.type.defaultProps),w.props):w.props,C=A.stackId,E=A.hide;if(E)return v;var P=A[n],k=v[P]||{hasStack:!1,stackGroups:{}};if(Ci(C)){var I=k.stackGroups[C]||{numericAxisId:n,cateAxisId:i,items:[]};I.items.push(w),k.hasStack=!0,k.stackGroups[C]=I}else k.stackGroups[Ed("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[w]};return Hn(Hn({},v),{},Lf({},P,k))},u),g={};return Object.keys(h).reduce(function(v,w){var b=h[w];if(b.hasStack){var A={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(C,E){var P=b.stackGroups[E];return Hn(Hn({},C),{},Lf({},E,{numericAxisId:n,cateAxisId:i,items:P.items,stackedData:wwe(e,P.items,s)}))},A)}return Hn(Hn({},v),{},Lf({},w,b))},g)},VW=function(e,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,c=r.allowDecimals,u=n||r.scale;if(u!=="auto"&&u!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var h=e.domain();if(!h.length)return null;var g=Mxe(h,s,c);return e.domain([Yx(g),Ec(g)]),{niceTicks:g}}if(s&&i==="number"){var v=e.domain(),w=Dxe(v,s,c);return{niceTicks:w}}return null};function o1(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ur(i[e.dataKey])){var c=Dy(r,"value",i[e.dataKey]);if(c)return c.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var u=ni(i,ur(o)?e.dataKey:o);return ur(u)?null:e.scale(u)}var n5=function(e){var r=e.axis,n=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,c=e.index;if(r.type==="category")return n[c]?n[c].coordinate+i:null;var u=ni(o,r.dataKey,r.domain[c]);return ur(u)?null:r.scale(u)-s/2+i},_we=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},Swe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Hn(Hn({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Ci(s)){var o=r[s];if(o){var c=o.items.indexOf(e);return c>=0?o.stackedData[c]:null}}return null},Cwe=function(e){return e.reduce(function(r,n){return[Yx(n.concat([r[0]]).filter(st)),Ec(n.concat([r[1]]).filter(st))]},[1/0,-1/0])},qW=function(e,r,n){return Object.keys(e).reduce(function(i,s){var o=e[s],c=o.stackedData,u=c.reduce(function(h,g){var v=Cwe(g.slice(r,n+1));return[Math.min(h[0],v[0]),Math.max(h[1],v[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},i5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,s5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Oj=function(e,r,n){if(Zt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(st(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(i5.test(e[0])){var s=+i5.exec(e[0])[1];i[0]=r[0]-s}else Zt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(st(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(s5.test(e[1])){var o=+s5.exec(e[1])[1];i[1]=r[1]+o}else Zt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},l1=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var s=CT(r,function(v){return v.coordinate}),o=1/0,c=1,u=s.length;c<u;c++){var h=s[c],g=s[c-1];o=Math.min((h.coordinate||0)-(g.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},a5=function(e,r,n){return!e||!e.length||hd(e,la(n,"type.defaultProps.domain"))?r:e},zW=function(e,r){var n=e.type.defaultProps?Hn(Hn({},e.type.defaultProps),e.props):e.props,i=n.dataKey,s=n.name,o=n.unit,c=n.formatter,u=n.tooltipType,h=n.chartType,g=n.hide;return Hn(Hn({},Bt(e,!1)),{},{dataKey:i,unit:o,formatter:c,name:s||i,color:XT(e),value:ni(r,i),type:u,payload:r,chartType:h,hide:g})};function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function o5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o5(Object(r),!0).forEach(function(n){WW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WW(t,e,r){return e=Ewe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ewe(t){var e=Awe(t,"string");return Qp(e)=="symbol"?e:e+""}function Awe(t,e){if(Qp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jwe(t,e){return kwe(t)||Twe(t,e)||Owe(t,e)||Nwe()}function Nwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Owe(t,e){if(t){if(typeof t=="string")return l5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l5(t,e)}}function l5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Twe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],u=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function kwe(t){if(Array.isArray(t))return t}var c1=Math.PI/180,Pwe=function(e){return e*180/Math.PI},yn=function(e,r,n,i){return{x:e+Math.cos(-c1*i)*n,y:r+Math.sin(-c1*i)*n}},HW=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Iwe=function(e,r,n,i,s){var o=e.width,c=e.height,u=e.startAngle,h=e.endAngle,g=xs(e.cx,o,o/2),v=xs(e.cy,c,c/2),w=HW(o,c,n),b=xs(e.innerRadius,w,0),A=xs(e.outerRadius,w,w*.8),C=Object.keys(r);return C.reduce(function(E,P){var k=r[P],I=k.domain,F=k.reversed,M;if(ur(k.range))i==="angleAxis"?M=[u,h]:i==="radiusAxis"&&(M=[b,A]),F&&(M=[M[1],M[0]]);else{M=k.range;var D=M,R=jwe(D,2);u=R[0],h=R[1]}var $=UW(k,s),z=$.realScaleType,G=$.scale;G.domain(I).range(M),$W(G);var W=VW(G,fl(fl({},k),{},{realScaleType:z})),V=fl(fl(fl({},k),W),{},{range:M,radius:A,realScaleType:z,scale:G,cx:g,cy:v,innerRadius:b,outerRadius:A,startAngle:u,endAngle:h});return fl(fl({},E),{},WW({},P,V))},{})},Rwe=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},Mwe=function(e,r){var n=e.x,i=e.y,s=r.cx,o=r.cy,c=Rwe({x:n,y:i},{x:s,y:o});if(c<=0)return{radius:c};var u=(n-s)/c,h=Math.acos(u);return i>o&&(h=2*Math.PI-h),{radius:c,angle:Pwe(h),angleInRadian:h}},Dwe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},Lwe=function(e,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),c=Math.min(s,o);return e+c*360},c5=function(e,r){var n=e.x,i=e.y,s=Mwe({x:n,y:i},r),o=s.radius,c=s.angle,u=r.innerRadius,h=r.outerRadius;if(o<u||o>h)return!1;if(o===0)return!0;var g=Dwe(r),v=g.startAngle,w=g.endAngle,b=c,A;if(v<=w){for(;b>w;)b-=360;for(;b<v;)b+=360;A=b>=v&&b<=w}else{for(;b>v;)b-=360;for(;b<w;)b+=360;A=b>=w&&b<=v}return A?fl(fl({},r),{},{radius:o,angle:Lwe(b,r)}):null},GW=function(e){return!N.isValidElement(e)&&!Zt(e)&&typeof e!="boolean"?e.className:""};function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}var Bwe=["offset"];function Fwe(t){return qwe(t)||Vwe(t)||$we(t)||Uwe()}function Uwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $we(t,e){if(t){if(typeof t=="string")return Tj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tj(t,e)}}function Vwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qwe(t){if(Array.isArray(t))return Tj(t)}function Tj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zwe(t,e){if(t==null)return{};var r=Wwe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wwe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function u5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u5(Object(r),!0).forEach(function(n){Hwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hwe(t,e,r){return e=Gwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gwe(t){var e=Kwe(t,"string");return Jp(e)=="symbol"?e:e+""}function Kwe(t,e){if(Jp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eg(){return eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eg.apply(this,arguments)}var Ywe=function(e){var r=e.value,n=e.formatter,i=ur(e.children)?r:e.children;return Zt(n)?n(i):i},Xwe=function(e,r){var n=ys(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Zwe=function(e,r,n){var i=e.position,s=e.viewBox,o=e.offset,c=e.className,u=s,h=u.cx,g=u.cy,v=u.innerRadius,w=u.outerRadius,b=u.startAngle,A=u.endAngle,C=u.clockWise,E=(v+w)/2,P=Xwe(b,A),k=P>=0?1:-1,I,F;i==="insideStart"?(I=b+k*o,F=C):i==="insideEnd"?(I=A-k*o,F=!C):i==="end"&&(I=A+k*o,F=C),F=P<=0?F:!F;var M=yn(h,g,E,I),D=yn(h,g,E,I+(F?1:-1)*359),R="M".concat(M.x,",").concat(M.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(F?0:1,`,
    `).concat(D.x,",").concat(D.y),$=ur(e.id)?Ed("recharts-radial-line-"):e.id;return ie.createElement("text",eg({},n,{dominantBaseline:"central",className:hr("recharts-radial-bar-label",c)}),ie.createElement("defs",null,ie.createElement("path",{id:$,d:R})),ie.createElement("textPath",{xlinkHref:"#".concat($)},r))},Qwe=function(e){var r=e.viewBox,n=e.offset,i=e.position,s=r,o=s.cx,c=s.cy,u=s.innerRadius,h=s.outerRadius,g=s.startAngle,v=s.endAngle,w=(g+v)/2;if(i==="outside"){var b=yn(o,c,h+n,w),A=b.x,C=b.y;return{x:A,y:C,textAnchor:A>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"end"};var E=(u+h)/2,P=yn(o,c,E,w),k=P.x,I=P.y;return{x:k,y:I,textAnchor:"middle",verticalAnchor:"middle"}},Jwe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,s=e.position,o=r,c=o.x,u=o.y,h=o.width,g=o.height,v=g>=0?1:-1,w=v*i,b=v>0?"end":"start",A=v>0?"start":"end",C=h>=0?1:-1,E=C*i,P=C>0?"end":"start",k=C>0?"start":"end";if(s==="top"){var I={x:c+h/2,y:u-v*i,textAnchor:"middle",verticalAnchor:b};return wi(wi({},I),n?{height:Math.max(u-n.y,0),width:h}:{})}if(s==="bottom"){var F={x:c+h/2,y:u+g+w,textAnchor:"middle",verticalAnchor:A};return wi(wi({},F),n?{height:Math.max(n.y+n.height-(u+g),0),width:h}:{})}if(s==="left"){var M={x:c-E,y:u+g/2,textAnchor:P,verticalAnchor:"middle"};return wi(wi({},M),n?{width:Math.max(M.x-n.x,0),height:g}:{})}if(s==="right"){var D={x:c+h+E,y:u+g/2,textAnchor:k,verticalAnchor:"middle"};return wi(wi({},D),n?{width:Math.max(n.x+n.width-D.x,0),height:g}:{})}var R=n?{width:h,height:g}:{};return s==="insideLeft"?wi({x:c+E,y:u+g/2,textAnchor:k,verticalAnchor:"middle"},R):s==="insideRight"?wi({x:c+h-E,y:u+g/2,textAnchor:P,verticalAnchor:"middle"},R):s==="insideTop"?wi({x:c+h/2,y:u+w,textAnchor:"middle",verticalAnchor:A},R):s==="insideBottom"?wi({x:c+h/2,y:u+g-w,textAnchor:"middle",verticalAnchor:b},R):s==="insideTopLeft"?wi({x:c+E,y:u+w,textAnchor:k,verticalAnchor:A},R):s==="insideTopRight"?wi({x:c+h-E,y:u+w,textAnchor:P,verticalAnchor:A},R):s==="insideBottomLeft"?wi({x:c+E,y:u+g-w,textAnchor:k,verticalAnchor:b},R):s==="insideBottomRight"?wi({x:c+h-E,y:u+g-w,textAnchor:P,verticalAnchor:b},R):Fh(s)&&(st(s.x)||$u(s.x))&&(st(s.y)||$u(s.y))?wi({x:c+xs(s.x,h),y:u+xs(s.y,g),textAnchor:"end",verticalAnchor:"end"},R):wi({x:c+h/2,y:u+g/2,textAnchor:"middle",verticalAnchor:"middle"},R)},ebe=function(e){return"cx"in e&&st(e.cx)};function Ii(t){var e=t.offset,r=e===void 0?5:e,n=zwe(t,Bwe),i=wi({offset:r},n),s=i.viewBox,o=i.position,c=i.value,u=i.children,h=i.content,g=i.className,v=g===void 0?"":g,w=i.textBreakAll;if(!s||ur(c)&&ur(u)&&!N.isValidElement(h)&&!Zt(h))return null;if(N.isValidElement(h))return N.cloneElement(h,i);var b;if(Zt(h)){if(b=N.createElement(h,i),N.isValidElement(b))return b}else b=Ywe(i);var A=ebe(s),C=Bt(i,!0);if(A&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Zwe(i,b,C);var E=A?Qwe(i):Jwe(i);return ie.createElement(fd,eg({className:hr("recharts-label",v)},C,E,{breakAll:w}),b)}Ii.displayName="Label";var KW=function(e){var r=e.cx,n=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,c=e.r,u=e.radius,h=e.innerRadius,g=e.outerRadius,v=e.x,w=e.y,b=e.top,A=e.left,C=e.width,E=e.height,P=e.clockWise,k=e.labelViewBox;if(k)return k;if(st(C)&&st(E)){if(st(v)&&st(w))return{x:v,y:w,width:C,height:E};if(st(b)&&st(A))return{x:b,y:A,width:C,height:E}}return st(v)&&st(w)?{x:v,y:w,width:0,height:0}:st(r)&&st(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:h||0,outerRadius:g||u||c||0,clockWise:P}:e.viewBox?e.viewBox:{}},tbe=function(e,r){return e?e===!0?ie.createElement(Ii,{key:"label-implicit",viewBox:r}):Ci(e)?ie.createElement(Ii,{key:"label-implicit",viewBox:r,value:e}):N.isValidElement(e)?e.type===Ii?N.cloneElement(e,{key:"label-implicit",viewBox:r}):ie.createElement(Ii,{key:"label-implicit",content:e,viewBox:r}):Zt(e)?ie.createElement(Ii,{key:"label-implicit",content:e,viewBox:r}):Fh(e)?ie.createElement(Ii,eg({viewBox:r},e,{key:"label-implicit"})):null:null},rbe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=KW(e),o=ca(i,Ii).map(function(u,h){return N.cloneElement(u,{viewBox:r||s,key:"label-".concat(h)})});if(!n)return o;var c=tbe(e.label,r||s);return[c].concat(Fwe(o))};Ii.parseViewBox=KW;Ii.renderCallByParent=rbe;var vE,d5;function nbe(){if(d5)return vE;d5=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return vE=t,vE}var ibe=nbe();const sbe=Ur(ibe);function tg(t){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(t)}var abe=["valueAccessor"],obe=["data","dataKey","clockWise","id","textBreakAll"];function lbe(t){return fbe(t)||dbe(t)||ube(t)||cbe()}function cbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ube(t,e){if(t){if(typeof t=="string")return kj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kj(t,e)}}function dbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fbe(t){if(Array.isArray(t))return kj(t)}function kj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u1(){return u1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u1.apply(this,arguments)}function f5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function h5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f5(Object(r),!0).forEach(function(n){hbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hbe(t,e,r){return e=mbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mbe(t){var e=pbe(t,"string");return tg(e)=="symbol"?e:e+""}function pbe(t,e){if(tg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m5(t,e){if(t==null)return{};var r=gbe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gbe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var vbe=function(e){return Array.isArray(e.value)?sbe(e.value):e.value};function Ro(t){var e=t.valueAccessor,r=e===void 0?vbe:e,n=m5(t,abe),i=n.data,s=n.dataKey,o=n.clockWise,c=n.id,u=n.textBreakAll,h=m5(n,obe);return!i||!i.length?null:ie.createElement(Ir,{className:"recharts-label-list"},i.map(function(g,v){var w=ur(s)?r(g,v):ni(g&&g.payload,s),b=ur(c)?{}:{id:"".concat(c,"-").concat(v)};return ie.createElement(Ii,u1({},Bt(g,!0),h,b,{parentViewBox:g.parentViewBox,value:w,textBreakAll:u,viewBox:Ii.parseViewBox(ur(o)?g:h5(h5({},g),{},{clockWise:o})),key:"label-".concat(v),index:v}))}))}Ro.displayName="LabelList";function ybe(t,e){return t?t===!0?ie.createElement(Ro,{key:"labelList-implicit",data:e}):ie.isValidElement(t)||Zt(t)?ie.createElement(Ro,{key:"labelList-implicit",data:e,content:t}):Fh(t)?ie.createElement(Ro,u1({data:e},t,{key:"labelList-implicit"})):null:null}function xbe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=ca(n,Ro).map(function(o,c){return N.cloneElement(o,{data:e,key:"labelList-".concat(c)})});if(!r)return i;var s=ybe(t.label,e);return[s].concat(lbe(i))}Ro.renderCallByParent=xbe;function rg(t){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(t)}function Pj(){return Pj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pj.apply(this,arguments)}function p5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function g5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p5(Object(r),!0).forEach(function(n){wbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wbe(t,e,r){return e=bbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bbe(t){var e=_be(t,"string");return rg(e)=="symbol"?e:e+""}function _be(t,e){if(rg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sbe=function(e,r){var n=ys(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Iv=function(e){var r=e.cx,n=e.cy,i=e.radius,s=e.angle,o=e.sign,c=e.isExternal,u=e.cornerRadius,h=e.cornerIsExternal,g=u*(c?1:-1)+i,v=Math.asin(u/g)/c1,w=h?s:s+o*v,b=yn(r,n,g,w),A=yn(r,n,i,w),C=h?s-o*v:s,E=yn(r,n,g*Math.cos(v*c1),C);return{center:b,circleTangency:A,lineTangency:E,theta:v}},YW=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,c=e.endAngle,u=Sbe(o,c),h=o+u,g=yn(r,n,s,o),v=yn(r,n,s,h),w="M ".concat(g.x,",").concat(g.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>h),`,
    `).concat(v.x,",").concat(v.y,`
  `);if(i>0){var b=yn(r,n,i,o),A=yn(r,n,i,h);w+="L ".concat(A.x,",").concat(A.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=h),`,
            `).concat(b.x,",").concat(b.y," Z")}else w+="L ".concat(r,",").concat(n," Z");return w},Cbe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,c=e.forceCornerRadius,u=e.cornerIsExternal,h=e.startAngle,g=e.endAngle,v=ys(g-h),w=Iv({cx:r,cy:n,radius:s,angle:h,sign:v,cornerRadius:o,cornerIsExternal:u}),b=w.circleTangency,A=w.lineTangency,C=w.theta,E=Iv({cx:r,cy:n,radius:s,angle:g,sign:-v,cornerRadius:o,cornerIsExternal:u}),P=E.circleTangency,k=E.lineTangency,I=E.theta,F=u?Math.abs(h-g):Math.abs(h-g)-C-I;if(F<0)return c?"M ".concat(A.x,",").concat(A.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):YW({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:h,endAngle:g});var M="M ".concat(A.x,",").concat(A.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(v<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(F>180),",").concat(+(v<0),",").concat(P.x,",").concat(P.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(v<0),",").concat(k.x,",").concat(k.y,`
  `);if(i>0){var D=Iv({cx:r,cy:n,radius:i,angle:h,sign:v,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),R=D.circleTangency,$=D.lineTangency,z=D.theta,G=Iv({cx:r,cy:n,radius:i,angle:g,sign:-v,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),W=G.circleTangency,V=G.lineTangency,K=G.theta,q=u?Math.abs(h-g):Math.abs(h-g)-z-K;if(q<0&&o===0)return"".concat(M,"L").concat(r,",").concat(n,"Z");M+="L".concat(V.x,",").concat(V.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(v<0),",").concat(W.x,",").concat(W.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(q>180),",").concat(+(v>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(v<0),",").concat($.x,",").concat($.y,"Z")}else M+="L".concat(r,",").concat(n,"Z");return M},Ebe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},XW=function(e){var r=g5(g5({},Ebe),e),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,c=r.cornerRadius,u=r.forceCornerRadius,h=r.cornerIsExternal,g=r.startAngle,v=r.endAngle,w=r.className;if(o<s||g===v)return null;var b=hr("recharts-sector",w),A=o-s,C=xs(c,A,0,!0),E;return C>0&&Math.abs(g-v)<360?E=Cbe({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(C,A/2),forceCornerRadius:u,cornerIsExternal:h,startAngle:g,endAngle:v}):E=YW({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:g,endAngle:v}),ie.createElement("path",Pj({},Bt(r,!0),{className:b,d:E,role:"img"}))};function ng(t){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ng(t)}function Ij(){return Ij=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ij.apply(this,arguments)}function v5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function y5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v5(Object(r),!0).forEach(function(n){Abe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Abe(t,e,r){return e=jbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jbe(t){var e=Nbe(t,"string");return ng(e)=="symbol"?e:e+""}function Nbe(t,e){if(ng(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ng(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x5={curveBasisClosed:Kme,curveBasisOpen:Yme,curveBasis:Gme,curveBumpX:Ime,curveBumpY:Rme,curveLinearClosed:Xme,curveLinear:Dx,curveMonotoneX:Zme,curveMonotoneY:Qme,curveNatural:Jme,curveStep:epe,curveStepAfter:rpe,curveStepBefore:tpe},Rv=function(e){return e.x===+e.x&&e.y===+e.y},Wm=function(e){return e.x},Hm=function(e){return e.y},Obe=function(e,r){if(Zt(e))return e;var n="curve".concat(Rx(e));return(n==="curveMonotone"||n==="curveBump")&&r?x5["".concat(n).concat(r==="vertical"?"Y":"X")]:x5[n]||Dx},Tbe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,s=i===void 0?[]:i,o=e.baseLine,c=e.layout,u=e.connectNulls,h=u===void 0?!1:u,g=Obe(n,c),v=h?s.filter(function(C){return Rv(C)}):s,w;if(Array.isArray(o)){var b=h?o.filter(function(C){return Rv(C)}):o,A=v.map(function(C,E){return y5(y5({},C),{},{base:b[E]})});return c==="vertical"?w=Cv().y(Hm).x1(Wm).x0(function(C){return C.base.x}):w=Cv().x(Wm).y1(Hm).y0(function(C){return C.base.y}),w.defined(Rv).curve(g),w(A)}return c==="vertical"&&st(o)?w=Cv().y(Hm).x1(Wm).x0(o):st(o)?w=Cv().x(Wm).y1(Hm).y0(o):w=Kq().x(Wm).y(Hm),w.defined(Rv).curve(g),w(v)},Zu=function(e){var r=e.className,n=e.points,i=e.path,s=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Tbe(e):i;return N.createElement("path",Ij({},Bt(e,!1),Ly(e),{className:hr("recharts-curve",r),d:o,ref:s}))},yE={exports:{}},xE,w5;function kbe(){if(w5)return xE;w5=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return xE=t,xE}var wE,b5;function Pbe(){if(b5)return wE;b5=1;var t=kbe();function e(){}function r(){}return r.resetWarningCache=e,wE=function(){function n(o,c,u,h,g,v){if(v!==t){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},wE}var _5;function Ibe(){return _5||(_5=1,yE.exports=Pbe()()),yE.exports}var Rbe=Ibe();const Zr=Ur(Rbe);var Mbe=Object.getOwnPropertyNames,Dbe=Object.getOwnPropertySymbols,Lbe=Object.prototype.hasOwnProperty;function S5(t,e){return function(n,i,s){return t(n,i,s)&&e(n,i,s)}}function Mv(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var s=i.cache,o=s.get(r),c=s.get(n);if(o&&c)return o===n&&c===r;s.set(r,n),s.set(n,r);var u=t(r,n,i);return s.delete(r),s.delete(n),u}}function C5(t){return Mbe(t).concat(Dbe(t))}var Bbe=Object.hasOwn||(function(t,e){return Lbe.call(t,e)});function Nd(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Fbe="__v",Ube="__o",$be="_owner",E5=Object.getOwnPropertyDescriptor,A5=Object.keys;function Vbe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function qbe(t,e){return Nd(t.getTime(),e.getTime())}function zbe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Wbe(t,e){return t===e}function j5(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.entries(),o,c,u=0;(o=s.next())&&!o.done;){for(var h=e.entries(),g=!1,v=0;(c=h.next())&&!c.done;){if(i[v]){v++;continue}var w=o.value,b=c.value;if(r.equals(w[0],b[0],u,v,t,e,r)&&r.equals(w[1],b[1],w[0],b[0],t,e,r)){g=i[v]=!0;break}v++}if(!g)return!1;u++}return!0}var Hbe=Nd;function Gbe(t,e,r){var n=A5(t),i=n.length;if(A5(e).length!==i)return!1;for(;i-- >0;)if(!ZW(t,e,r,n[i]))return!1;return!0}function Gm(t,e,r){var n=C5(t),i=n.length;if(C5(e).length!==i)return!1;for(var s,o,c;i-- >0;)if(s=n[i],!ZW(t,e,r,s)||(o=E5(t,s),c=E5(e,s),(o||c)&&(!o||!c||o.configurable!==c.configurable||o.enumerable!==c.enumerable||o.writable!==c.writable)))return!1;return!0}function Kbe(t,e){return Nd(t.valueOf(),e.valueOf())}function Ybe(t,e){return t.source===e.source&&t.flags===e.flags}function N5(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.values(),o,c;(o=s.next())&&!o.done;){for(var u=e.values(),h=!1,g=0;(c=u.next())&&!c.done;){if(!i[g]&&r.equals(o.value,c.value,o.value,c.value,t,e,r)){h=i[g]=!0;break}g++}if(!h)return!1}return!0}function Xbe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Zbe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function ZW(t,e,r,n){return(n===$be||n===Ube||n===Fbe)&&(t.$$typeof||e.$$typeof)?!0:Bbe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Qbe="[object Arguments]",Jbe="[object Boolean]",e_e="[object Date]",t_e="[object Error]",r_e="[object Map]",n_e="[object Number]",i_e="[object Object]",s_e="[object RegExp]",a_e="[object Set]",o_e="[object String]",l_e="[object URL]",c_e=Array.isArray,O5=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,T5=Object.assign,u_e=Object.prototype.toString.call.bind(Object.prototype.toString);function d_e(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,c=t.areObjectsEqual,u=t.arePrimitiveWrappersEqual,h=t.areRegExpsEqual,g=t.areSetsEqual,v=t.areTypedArraysEqual,w=t.areUrlsEqual;return function(A,C,E){if(A===C)return!0;if(A==null||C==null)return!1;var P=typeof A;if(P!==typeof C)return!1;if(P!=="object")return P==="number"?o(A,C,E):P==="function"?i(A,C,E):!1;var k=A.constructor;if(k!==C.constructor)return!1;if(k===Object)return c(A,C,E);if(c_e(A))return e(A,C,E);if(O5!=null&&O5(A))return v(A,C,E);if(k===Date)return r(A,C,E);if(k===RegExp)return h(A,C,E);if(k===Map)return s(A,C,E);if(k===Set)return g(A,C,E);var I=u_e(A);return I===e_e?r(A,C,E):I===s_e?h(A,C,E):I===r_e?s(A,C,E):I===a_e?g(A,C,E):I===i_e?typeof A.then!="function"&&typeof C.then!="function"&&c(A,C,E):I===l_e?w(A,C,E):I===t_e?n(A,C,E):I===Qbe?c(A,C,E):I===Jbe||I===n_e||I===o_e?u(A,C,E):!1}}function f_e(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Gm:Vbe,areDatesEqual:qbe,areErrorsEqual:zbe,areFunctionsEqual:Wbe,areMapsEqual:n?S5(j5,Gm):j5,areNumbersEqual:Hbe,areObjectsEqual:n?Gm:Gbe,arePrimitiveWrappersEqual:Kbe,areRegExpsEqual:Ybe,areSetsEqual:n?S5(N5,Gm):N5,areTypedArraysEqual:n?Gm:Xbe,areUrlsEqual:Zbe};if(r&&(i=T5({},i,r(i))),e){var s=Mv(i.areArraysEqual),o=Mv(i.areMapsEqual),c=Mv(i.areObjectsEqual),u=Mv(i.areSetsEqual);i=T5({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:c,areSetsEqual:u})}return i}function h_e(t){return function(e,r,n,i,s,o,c){return t(e,r,c)}}function m_e(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,s=t.strict;if(n)return function(u,h){var g=n(),v=g.cache,w=v===void 0?e?new WeakMap:void 0:v,b=g.meta;return r(u,h,{cache:w,equals:i,meta:b,strict:s})};if(e)return function(u,h){return r(u,h,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(u,h){return r(u,h,o)}}var p_e=Jc();Jc({strict:!0});Jc({circular:!0});Jc({circular:!0,strict:!0});Jc({createInternalComparator:function(){return Nd}});Jc({strict:!0,createInternalComparator:function(){return Nd}});Jc({circular:!0,createInternalComparator:function(){return Nd}});Jc({circular:!0,createInternalComparator:function(){return Nd},strict:!0});function Jc(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,c=f_e(t),u=d_e(c),h=n?n(u):h_e(u);return m_e({circular:r,comparator:u,createState:i,equals:h,strict:o})}function g_e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function k5(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>e?(t(s),r=-1):g_e(i)};requestAnimationFrame(n)}function Rj(t){"@babel/helpers - typeof";return Rj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rj(t)}function v_e(t){return b_e(t)||w_e(t)||x_e(t)||y_e()}function y_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x_e(t,e){if(t){if(typeof t=="string")return P5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P5(t,e)}}function P5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function w_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function b_e(t){if(Array.isArray(t))return t}function __e(){var t={},e=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,c=v_e(o),u=c[0],h=c.slice(1);if(typeof u=="number"){k5(i.bind(null,h),u);return}i(u),k5(i.bind(null,h));return}Rj(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function ig(t){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ig(t)}function I5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function R5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I5(Object(r),!0).forEach(function(n){QW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QW(t,e,r){return e=S_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S_e(t){var e=C_e(t,"string");return ig(e)==="symbol"?e:String(e)}function C_e(t,e){if(ig(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ig(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var E_e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},A_e=function(e){return e},j_e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},dp=function(e,r){return Object.keys(r).reduce(function(n,i){return R5(R5({},n),{},QW({},i,e(i,r[i])))},{})},M5=function(e,r,n){return e.map(function(i){return"".concat(j_e(i)," ").concat(r,"ms ").concat(n)}).join(",")};function N_e(t,e){return k_e(t)||T_e(t,e)||JW(t,e)||O_e()}function O_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],u=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function k_e(t){if(Array.isArray(t))return t}function P_e(t){return M_e(t)||R_e(t)||JW(t)||I_e()}function I_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JW(t,e){if(t){if(typeof t=="string")return Mj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mj(t,e)}}function R_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function M_e(t){if(Array.isArray(t))return Mj(t)}function Mj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var d1=1e-4,eH=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},tH=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},D5=function(e,r){return function(n){var i=eH(e,r);return tH(i,n)}},D_e=function(e,r){return function(n){var i=eH(e,r),s=[].concat(P_e(i.map(function(o,c){return o*c}).slice(1)),[0]);return tH(s,n)}},L5=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,c=1;break;case"ease":i=.25,s=.1,o=.25,c=1;break;case"ease-in":i=.42,s=0,o=1,c=1;break;case"ease-out":i=.42,s=0,o=.58,c=1;break;case"ease-in-out":i=0,s=0,o=.58,c=1;break;default:{var u=r[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var h=u[1].split(")")[0].split(",").map(function(E){return parseFloat(E)}),g=N_e(h,4);i=g[0],s=g[1],o=g[2],c=g[3]}}}var v=D5(i,o),w=D5(s,c),b=D_e(i,o),A=function(P){return P>1?1:P<0?0:P},C=function(P){for(var k=P>1?1:P,I=k,F=0;F<8;++F){var M=v(I)-k,D=b(I);if(Math.abs(M-k)<d1||D<d1)return w(I);I=A(I-M/D)}return w(I)};return C.isStepper=!1,C},L_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,s=i===void 0?8:i,o=e.dt,c=o===void 0?17:o,u=function(g,v,w){var b=-(g-v)*n,A=w*s,C=w+(b-A)*c/1e3,E=w*c/1e3+g;return Math.abs(E-v)<d1&&Math.abs(C)<d1?[v,0]:[E,C]};return u.isStepper=!0,u.dt=c,u},B_e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return L5(i);case"spring":return L_e();default:if(i.split("(")[0]==="cubic-bezier")return L5(i)}return typeof i=="function"?i:null};function sg(t){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sg(t)}function B5(t){return $_e(t)||U_e(t)||rH(t)||F_e()}function F_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $_e(t){if(Array.isArray(t))return Lj(t)}function F5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $i(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F5(Object(r),!0).forEach(function(n){Dj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dj(t,e,r){return e=V_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V_e(t){var e=q_e(t,"string");return sg(e)==="symbol"?e:String(e)}function q_e(t,e){if(sg(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z_e(t,e){return G_e(t)||H_e(t,e)||rH(t,e)||W_e()}function W_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rH(t,e){if(t){if(typeof t=="string")return Lj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lj(t,e)}}function Lj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function H_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],u=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function G_e(t){if(Array.isArray(t))return t}var f1=function(e,r,n){return e+(r-e)*n},Bj=function(e){var r=e.from,n=e.to;return r!==n},K_e=function t(e,r,n){var i=dp(function(s,o){if(Bj(o)){var c=e(o.from,o.to,o.velocity),u=z_e(c,2),h=u[0],g=u[1];return $i($i({},o),{},{from:h,velocity:g})}return o},r);return n<1?dp(function(s,o){return Bj(o)?$i($i({},o),{},{velocity:f1(o.velocity,i[s].velocity,n),from:f1(o.from,i[s].from,n)}):o},r):t(e,i,n-1)};const Y_e=(function(t,e,r,n,i){var s=E_e(t,e),o=s.reduce(function(E,P){return $i($i({},E),{},Dj({},P,[t[P],e[P]]))},{}),c=s.reduce(function(E,P){return $i($i({},E),{},Dj({},P,{from:t[P],velocity:0,to:e[P]}))},{}),u=-1,h,g,v=function(){return null},w=function(){return dp(function(P,k){return k.from},c)},b=function(){return!Object.values(c).filter(Bj).length},A=function(P){h||(h=P);var k=P-h,I=k/r.dt;c=K_e(r,c,I),i($i($i($i({},t),e),w())),h=P,b()||(u=requestAnimationFrame(v))},C=function(P){g||(g=P);var k=(P-g)/n,I=dp(function(M,D){return f1.apply(void 0,B5(D).concat([r(k)]))},o);if(i($i($i($i({},t),e),I)),k<1)u=requestAnimationFrame(v);else{var F=dp(function(M,D){return f1.apply(void 0,B5(D).concat([r(1)]))},o);i($i($i($i({},t),e),F))}};return v=r.isStepper?A:C,function(){return requestAnimationFrame(v),function(){cancelAnimationFrame(u)}}});function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}var X_e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Z_e(t,e){if(t==null)return{};var r=Q_e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Q_e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function bE(t){return r2e(t)||t2e(t)||e2e(t)||J_e()}function J_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e2e(t,e){if(t){if(typeof t=="string")return Fj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fj(t,e)}}function t2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function r2e(t){if(Array.isArray(t))return Fj(t)}function Fj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function U5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ka(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U5(Object(r),!0).forEach(function(n){np(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function np(t,e,r){return e=nH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i2e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nH(n.key),n)}}function s2e(t,e,r){return e&&i2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nH(t){var e=a2e(t,"string");return oh(e)==="symbol"?e:String(e)}function a2e(t,e){if(oh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uj(t,e)}function Uj(t,e){return Uj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Uj(t,e)}function l2e(t){var e=c2e();return function(){var n=h1(t),i;if(e){var s=h1(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return $j(this,i)}}function $j(t,e){if(e&&(oh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vj(t)}function Vj(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c2e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function h1(t){return h1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},h1(t)}var mo=(function(t){o2e(r,t);var e=l2e(r);function r(n,i){var s;n2e(this,r),s=e.call(this,n,i);var o=s.props,c=o.isActive,u=o.attributeName,h=o.from,g=o.to,v=o.steps,w=o.children,b=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(Vj(s)),s.changeStyle=s.changeStyle.bind(Vj(s)),!c||b<=0)return s.state={style:{}},typeof w=="function"&&(s.state={style:g}),$j(s);if(v&&v.length)s.state={style:v[0].style};else if(h){if(typeof w=="function")return s.state={style:h},$j(s);s.state={style:u?np({},u,h):h}}else s.state={style:{}};return s}return s2e(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,c=s.canBegin,u=s.attributeName,h=s.shouldReAnimate,g=s.to,v=s.from,w=this.state.style;if(c){if(!o){var b={style:u?np({},u,g):g};this.state&&w&&(u&&w[u]!==g||!u&&w!==g)&&this.setState(b);return}if(!(p_e(i.to,g)&&i.canBegin&&i.isActive)){var A=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var C=A||h?v:i.to;if(this.state&&w){var E={style:u?np({},u,C):C};(u&&w[u]!==C||!u&&w!==C)&&this.setState(E)}this.runAnimation(Ka(Ka({},this.props),{},{from:C,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,c=i.to,u=i.duration,h=i.easing,g=i.begin,v=i.onAnimationEnd,w=i.onAnimationStart,b=Y_e(o,c,B_e(h),u,this.changeStyle),A=function(){s.stopJSAnimation=b()};this.manager.start([w,g,A,u,v])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,c=i.begin,u=i.onAnimationStart,h=o[0],g=h.style,v=h.duration,w=v===void 0?0:v,b=function(C,E,P){if(P===0)return C;var k=E.duration,I=E.easing,F=I===void 0?"ease":I,M=E.style,D=E.properties,R=E.onAnimationEnd,$=P>0?o[P-1]:E,z=D||Object.keys(M);if(typeof F=="function"||F==="spring")return[].concat(bE(C),[s.runJSAnimation.bind(s,{from:$.style,to:M,duration:k,easing:F}),k]);var G=M5(z,k,F),W=Ka(Ka(Ka({},$.style),M),{},{transition:G});return[].concat(bE(C),[W,k,R]).filter(A_e)};return this.manager.start([u].concat(bE(o.reduce(b,[g,Math.max(w,c)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=__e());var s=i.begin,o=i.duration,c=i.attributeName,u=i.to,h=i.easing,g=i.onAnimationStart,v=i.onAnimationEnd,w=i.steps,b=i.children,A=this.manager;if(this.unSubscribe=A.subscribe(this.handleStyleChange),typeof h=="function"||typeof b=="function"||h==="spring"){this.runJSAnimation(i);return}if(w.length>1){this.runStepAnimation(i);return}var C=c?np({},c,u):u,E=M5(Object.keys(C),o,h);A.start([g,s,Ka(Ka({},C),{},{transition:E}),o,v])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var c=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var u=Z_e(i,X_e),h=N.Children.count(s),g=this.state.style;if(typeof s=="function")return s(g);if(!c||h===0||o<=0)return s;var v=function(b){var A=b.props,C=A.style,E=C===void 0?{}:C,P=A.className,k=N.cloneElement(b,Ka(Ka({},u),{},{style:Ka(Ka({},E),g),className:P}));return k};return h===1?v(N.Children.only(s)):ie.createElement("div",null,N.Children.map(s,function(w){return v(w)}))}}]),r})(N.PureComponent);mo.displayName="Animate";mo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};mo.propTypes={from:Zr.oneOfType([Zr.object,Zr.string]),to:Zr.oneOfType([Zr.object,Zr.string]),attributeName:Zr.string,duration:Zr.number,begin:Zr.number,easing:Zr.oneOfType([Zr.string,Zr.func]),steps:Zr.arrayOf(Zr.shape({duration:Zr.number.isRequired,style:Zr.object.isRequired,easing:Zr.oneOfType([Zr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Zr.func]),properties:Zr.arrayOf("string"),onAnimationEnd:Zr.func})),children:Zr.oneOfType([Zr.node,Zr.func]),isActive:Zr.bool,canBegin:Zr.bool,onAnimationEnd:Zr.func,shouldReAnimate:Zr.bool,onAnimationStart:Zr.func,onAnimationReStart:Zr.func};function ag(t){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ag(t)}function m1(){return m1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m1.apply(this,arguments)}function u2e(t,e){return m2e(t)||h2e(t,e)||f2e(t,e)||d2e()}function d2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f2e(t,e){if(t){if(typeof t=="string")return $5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $5(t,e)}}function $5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function h2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],u=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function m2e(t){if(Array.isArray(t))return t}function V5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function q5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V5(Object(r),!0).forEach(function(n){p2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function p2e(t,e,r){return e=g2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g2e(t){var e=v2e(t,"string");return ag(e)=="symbol"?e:e+""}function v2e(t,e){if(ag(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ag(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z5=function(e,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),c=i>=0?1:-1,u=n>=0?1:-1,h=i>=0&&n>=0||i<0&&n<0?1:0,g;if(o>0&&s instanceof Array){for(var v=[0,0,0,0],w=0,b=4;w<b;w++)v[w]=s[w]>o?o:s[w];g="M".concat(e,",").concat(r+c*v[0]),v[0]>0&&(g+="A ".concat(v[0],",").concat(v[0],",0,0,").concat(h,",").concat(e+u*v[0],",").concat(r)),g+="L ".concat(e+n-u*v[1],",").concat(r),v[1]>0&&(g+="A ".concat(v[1],",").concat(v[1],",0,0,").concat(h,`,
        `).concat(e+n,",").concat(r+c*v[1])),g+="L ".concat(e+n,",").concat(r+i-c*v[2]),v[2]>0&&(g+="A ".concat(v[2],",").concat(v[2],",0,0,").concat(h,`,
        `).concat(e+n-u*v[2],",").concat(r+i)),g+="L ".concat(e+u*v[3],",").concat(r+i),v[3]>0&&(g+="A ".concat(v[3],",").concat(v[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(r+i-c*v[3])),g+="Z"}else if(o>0&&s===+s&&s>0){var A=Math.min(o,s);g="M ".concat(e,",").concat(r+c*A,`
            A `).concat(A,",").concat(A,",0,0,").concat(h,",").concat(e+u*A,",").concat(r,`
            L `).concat(e+n-u*A,",").concat(r,`
            A `).concat(A,",").concat(A,",0,0,").concat(h,",").concat(e+n,",").concat(r+c*A,`
            L `).concat(e+n,",").concat(r+i-c*A,`
            A `).concat(A,",").concat(A,",0,0,").concat(h,",").concat(e+n-u*A,",").concat(r+i,`
            L `).concat(e+u*A,",").concat(r+i,`
            A `).concat(A,",").concat(A,",0,0,").concat(h,",").concat(e,",").concat(r+i-c*A," Z")}else g="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return g},y2e=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,s=r.x,o=r.y,c=r.width,u=r.height;if(Math.abs(c)>0&&Math.abs(u)>0){var h=Math.min(s,s+c),g=Math.max(s,s+c),v=Math.min(o,o+u),w=Math.max(o,o+u);return n>=h&&n<=g&&i>=v&&i<=w}return!1},x2e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZT=function(e){var r=q5(q5({},x2e),e),n=N.useRef(),i=N.useState(-1),s=u2e(i,2),o=s[0],c=s[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var F=n.current.getTotalLength();F&&c(F)}catch{}},[]);var u=r.x,h=r.y,g=r.width,v=r.height,w=r.radius,b=r.className,A=r.animationEasing,C=r.animationDuration,E=r.animationBegin,P=r.isAnimationActive,k=r.isUpdateAnimationActive;if(u!==+u||h!==+h||g!==+g||v!==+v||g===0||v===0)return null;var I=hr("recharts-rectangle",b);return k?ie.createElement(mo,{canBegin:o>0,from:{width:g,height:v,x:u,y:h},to:{width:g,height:v,x:u,y:h},duration:C,animationEasing:A,isActive:k},function(F){var M=F.width,D=F.height,R=F.x,$=F.y;return ie.createElement(mo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:E,duration:C,isActive:P,easing:A},ie.createElement("path",m1({},Bt(r,!0),{className:I,d:z5(R,$,M,D,w),ref:n})))}):ie.createElement("path",m1({},Bt(r,!0),{className:I,d:z5(u,h,g,v,w)}))},w2e=["points","className","baseLinePoints","connectNulls"];function Cf(){return Cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cf.apply(this,arguments)}function b2e(t,e){if(t==null)return{};var r=_2e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function W5(t){return A2e(t)||E2e(t)||C2e(t)||S2e()}function S2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C2e(t,e){if(t){if(typeof t=="string")return qj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qj(t,e)}}function E2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function A2e(t){if(Array.isArray(t))return qj(t)}function qj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var H5=function(e){return e&&e.x===+e.x&&e.y===+e.y},j2e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){H5(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),H5(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},fp=function(e,r){var n=j2e(e);r&&(n=[n.reduce(function(s,o){return[].concat(W5(s),W5(o))},[])]);var i=n.map(function(s){return s.reduce(function(o,c,u){return"".concat(o).concat(u===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},N2e=function(e,r,n){var i=fp(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(fp(r.reverse(),n).slice(1))},O2e=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,s=e.connectNulls,o=b2e(e,w2e);if(!r||!r.length)return null;var c=hr("recharts-polygon",n);if(i&&i.length){var u=o.stroke&&o.stroke!=="none",h=N2e(r,i,s);return ie.createElement("g",{className:c},ie.createElement("path",Cf({},Bt(o,!0),{fill:h.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:h})),u?ie.createElement("path",Cf({},Bt(o,!0),{fill:"none",d:fp(r,s)})):null,u?ie.createElement("path",Cf({},Bt(o,!0),{fill:"none",d:fp(i,s)})):null)}var g=fp(r,s);return ie.createElement("path",Cf({},Bt(o,!0),{fill:g.slice(-1)==="Z"?o.fill:"none",className:c,d:g}))};function zj(){return zj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zj.apply(this,arguments)}var Yg=function(e){var r=e.cx,n=e.cy,i=e.r,s=e.className,o=hr("recharts-dot",s);return r===+r&&n===+n&&i===+i?N.createElement("circle",zj({},Bt(e,!1),Ly(e),{className:o,cx:r,cy:n,r:i})):null};function og(t){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(t)}var T2e=["x","y","top","left","width","height","className"];function Wj(){return Wj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wj.apply(this,arguments)}function G5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function k2e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G5(Object(r),!0).forEach(function(n){P2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P2e(t,e,r){return e=I2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I2e(t){var e=R2e(t,"string");return og(e)=="symbol"?e:e+""}function R2e(t,e){if(og(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(og(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M2e(t,e){if(t==null)return{};var r=D2e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function D2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var L2e=function(e,r,n,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},B2e=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.top,c=o===void 0?0:o,u=e.left,h=u===void 0?0:u,g=e.width,v=g===void 0?0:g,w=e.height,b=w===void 0?0:w,A=e.className,C=M2e(e,T2e),E=k2e({x:n,y:s,top:c,left:h,width:v,height:b},C);return!st(n)||!st(s)||!st(v)||!st(b)||!st(c)||!st(h)?null:ie.createElement("path",Wj({},Bt(E,!0),{className:hr("recharts-cross",A),d:L2e(n,s,v,b,c,h)}))},_E,K5;function F2e(){if(K5)return _E;K5=1;var t=Kx(),e=yW(),r=zo();function n(i,s){return i&&i.length?t(i,r(s,2),e):void 0}return _E=n,_E}var U2e=F2e();const $2e=Ur(U2e);var SE,Y5;function V2e(){if(Y5)return SE;Y5=1;var t=Kx(),e=zo(),r=xW();function n(i,s){return i&&i.length?t(i,e(s,2),r):void 0}return SE=n,SE}var q2e=V2e();const z2e=Ur(q2e);var W2e=["cx","cy","angle","ticks","axisLine"],H2e=["ticks","tick","angle","tickFormatter","stroke"];function lh(t){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}function hp(){return hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hp.apply(this,arguments)}function X5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Au(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X5(Object(r),!0).forEach(function(n){Qx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z5(t,e){if(t==null)return{};var r=G2e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function G2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function K2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sH(n.key),n)}}function Y2e(t,e,r){return e&&Q5(t.prototype,e),r&&Q5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function X2e(t,e,r){return e=p1(e),Z2e(t,iH()?Reflect.construct(e,r||[],p1(t).constructor):e.apply(t,r))}function Z2e(t,e){if(e&&(lh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q2e(t)}function Q2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iH=function(){return!!t})()}function p1(t){return p1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p1(t)}function J2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hj(t,e)}function Hj(t,e){return Hj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hj(t,e)}function Qx(t,e,r){return e=sH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sH(t){var e=eSe(t,"string");return lh(e)=="symbol"?e:e+""}function eSe(t,e){if(lh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jx=(function(t){function e(){return K2e(this,e),X2e(this,e,arguments)}return J2e(e,t),Y2e(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,s=this.props,o=s.angle,c=s.cx,u=s.cy;return yn(c,u,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,c=n.ticks,u=$2e(c,function(g){return g.coordinate||0}),h=z2e(c,function(g){return g.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:h.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,c=n.ticks,u=n.axisLine,h=Z5(n,W2e),g=c.reduce(function(A,C){return[Math.min(A[0],C.coordinate),Math.max(A[1],C.coordinate)]},[1/0,-1/0]),v=yn(i,s,g[0],o),w=yn(i,s,g[1],o),b=Au(Au(Au({},Bt(h,!1)),{},{fill:"none"},Bt(u,!1)),{},{x1:v.x,y1:v.y,x2:w.x,y2:w.y});return ie.createElement("line",hp({className:"recharts-polar-radius-axis-line"},b))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,c=i.angle,u=i.tickFormatter,h=i.stroke,g=Z5(i,H2e),v=this.getTickTextAnchor(),w=Bt(g,!1),b=Bt(o,!1),A=s.map(function(C,E){var P=n.getTickValueCoord(C),k=Au(Au(Au(Au({textAnchor:v,transform:"rotate(".concat(90-c,", ").concat(P.x,", ").concat(P.y,")")},w),{},{stroke:"none",fill:h},b),{},{index:E},P),{},{payload:C});return ie.createElement(Ir,hp({className:hr("recharts-polar-radius-axis-tick",GW(o)),key:"tick-".concat(C.coordinate)},dd(n.props,C,E)),e.renderTickItem(o,k,u?u(C.value,E):C.value))});return ie.createElement(Ir,{className:"recharts-polar-radius-axis-ticks"},A)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.axisLine,o=n.tick;return!i||!i.length?null:ie.createElement(Ir,{className:hr("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),Ii.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,s){var o;return ie.isValidElement(n)?o=ie.cloneElement(n,i):Zt(n)?o=n(i):o=ie.createElement(fd,hp({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])})(N.PureComponent);Qx(Jx,"displayName","PolarRadiusAxis");Qx(Jx,"axisType","radiusAxis");Qx(Jx,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}function Lu(){return Lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lu.apply(this,arguments)}function J5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ju(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J5(Object(r),!0).forEach(function(n){ew(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oH(n.key),n)}}function rSe(t,e,r){return e&&eL(t.prototype,e),r&&eL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nSe(t,e,r){return e=g1(e),iSe(t,aH()?Reflect.construct(e,r||[],g1(t).constructor):e.apply(t,r))}function iSe(t,e){if(e&&(ch(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sSe(t)}function sSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aH=function(){return!!t})()}function g1(t){return g1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},g1(t)}function aSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gj(t,e)}function Gj(t,e){return Gj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gj(t,e)}function ew(t,e,r){return e=oH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oH(t){var e=oSe(t,"string");return ch(e)=="symbol"?e:e+""}function oSe(t,e){if(ch(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lSe=Math.PI/180,tL=1e-5,tw=(function(t){function e(){return tSe(this,e),nSe(this,e,arguments)}return aSe(e,t),rSe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.cx,o=i.cy,c=i.radius,u=i.orientation,h=i.tickSize,g=h||8,v=yn(s,o,c,n.coordinate),w=yn(s,o,c+(u==="inner"?-1:1)*g,n.coordinate);return{x1:v.x,y1:v.y,x2:w.x,y2:w.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,s=Math.cos(-n.coordinate*lSe),o;return s>tL?o=i==="outer"?"start":"end":s<-tL?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.radius,c=n.axisLine,u=n.axisLineType,h=ju(ju({},Bt(this.props,!1)),{},{fill:"none"},Bt(c,!1));if(u==="circle")return ie.createElement(Yg,Lu({className:"recharts-polar-angle-axis-line"},h,{cx:i,cy:s,r:o}));var g=this.props.ticks,v=g.map(function(w){return yn(i,s,o,w.coordinate)});return ie.createElement(O2e,Lu({className:"recharts-polar-angle-axis-line"},h,{points:v}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,c=i.tickLine,u=i.tickFormatter,h=i.stroke,g=Bt(this.props,!1),v=Bt(o,!1),w=ju(ju({},g),{},{fill:"none"},Bt(c,!1)),b=s.map(function(A,C){var E=n.getTickLineCoord(A),P=n.getTickTextAnchor(A),k=ju(ju(ju({textAnchor:P},g),{},{stroke:"none",fill:h},v),{},{index:C,payload:A,x:E.x2,y:E.y2});return ie.createElement(Ir,Lu({className:hr("recharts-polar-angle-axis-tick",GW(o)),key:"tick-".concat(A.coordinate)},dd(n.props,A,C)),c&&ie.createElement("line",Lu({className:"recharts-polar-angle-axis-tick-line"},w,E)),o&&e.renderTickItem(o,k,u?u(A.value,C):A.value))});return ie.createElement(Ir,{className:"recharts-polar-angle-axis-ticks"},b)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!i||!i.length?null:ie.createElement(Ir,{className:hr("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,s){var o;return ie.isValidElement(n)?o=ie.cloneElement(n,i):Zt(n)?o=n(i):o=ie.createElement(fd,Lu({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])})(N.PureComponent);ew(tw,"displayName","PolarAngleAxis");ew(tw,"axisType","angleAxis");ew(tw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var CE,rL;function cSe(){if(rL)return CE;rL=1;var t=vz(),e=t(Object.getPrototypeOf,Object);return CE=e,CE}var EE,nL;function uSe(){if(nL)return EE;nL=1;var t=Dl(),e=cSe(),r=Ll(),n="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,c=s.hasOwnProperty,u=o.call(Object);function h(g){if(!r(g)||t(g)!=n)return!1;var v=e(g);if(v===null)return!0;var w=c.call(v,"constructor")&&v.constructor;return typeof w=="function"&&w instanceof w&&o.call(w)==u}return EE=h,EE}var dSe=uSe();const fSe=Ur(dSe);var AE,iL;function hSe(){if(iL)return AE;iL=1;var t=Dl(),e=Ll(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return AE=n,AE}var mSe=hSe();const pSe=Ur(mSe);function lg(t){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lg(t)}function v1(){return v1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v1.apply(this,arguments)}function gSe(t,e){return wSe(t)||xSe(t,e)||ySe(t,e)||vSe()}function vSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ySe(t,e){if(t){if(typeof t=="string")return sL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sL(t,e)}}function sL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xSe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],u=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function wSe(t){if(Array.isArray(t))return t}function aL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aL(Object(r),!0).forEach(function(n){bSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bSe(t,e,r){return e=_Se(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Se(t){var e=SSe(t,"string");return lg(e)=="symbol"?e:e+""}function SSe(t,e){if(lg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lL=function(e,r,n,i,s){var o=n-i,c;return c="M ".concat(e,",").concat(r),c+="L ".concat(e+n,",").concat(r),c+="L ".concat(e+n-o/2,",").concat(r+s),c+="L ".concat(e+n-o/2-i,",").concat(r+s),c+="L ".concat(e,",").concat(r," Z"),c},CSe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ESe=function(e){var r=oL(oL({},CSe),e),n=N.useRef(),i=N.useState(-1),s=gSe(i,2),o=s[0],c=s[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&c(I)}catch{}},[]);var u=r.x,h=r.y,g=r.upperWidth,v=r.lowerWidth,w=r.height,b=r.className,A=r.animationEasing,C=r.animationDuration,E=r.animationBegin,P=r.isUpdateAnimationActive;if(u!==+u||h!==+h||g!==+g||v!==+v||w!==+w||g===0&&v===0||w===0)return null;var k=hr("recharts-trapezoid",b);return P?ie.createElement(mo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:w,x:u,y:h},to:{upperWidth:g,lowerWidth:v,height:w,x:u,y:h},duration:C,animationEasing:A,isActive:P},function(I){var F=I.upperWidth,M=I.lowerWidth,D=I.height,R=I.x,$=I.y;return ie.createElement(mo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:E,duration:C,easing:A},ie.createElement("path",v1({},Bt(r,!0),{className:k,d:lL(R,$,F,M,D),ref:n})))}):ie.createElement("g",null,ie.createElement("path",v1({},Bt(r,!0),{className:k,d:lL(u,h,g,v,w)})))},ASe=["option","shapeType","propTransformer","activeClassName","isActive"];function cg(t){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(t)}function jSe(t,e){if(t==null)return{};var r=NSe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function cL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function y1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cL(Object(r),!0).forEach(function(n){OSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OSe(t,e,r){return e=TSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TSe(t){var e=kSe(t,"string");return cg(e)=="symbol"?e:e+""}function kSe(t,e){if(cg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PSe(t,e){return y1(y1({},e),t)}function ISe(t,e){return t==="symbols"}function uL(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return ie.createElement(ZT,r);case"trapezoid":return ie.createElement(ESe,r);case"sector":return ie.createElement(XW,r);case"symbols":if(ISe(e))return ie.createElement(gT,r);break;default:return null}}function RSe(t){return N.isValidElement(t)?t.props:t}function lH(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?PSe:n,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,c=t.isActive,u=jSe(t,ASe),h;if(N.isValidElement(e))h=N.cloneElement(e,y1(y1({},u),RSe(e)));else if(Zt(e))h=e(u);else if(fSe(e)&&!pSe(e)){var g=i(e,u);h=ie.createElement(uL,{shapeType:r,elementProps:g})}else{var v=u;h=ie.createElement(uL,{shapeType:r,elementProps:v})}return c?ie.createElement(Ir,{className:o},h):h}function rw(t,e){return e!=null&&"trapezoids"in t.props}function nw(t,e){return e!=null&&"sectors"in t.props}function ug(t,e){return e!=null&&"points"in t.props}function MSe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&s}function DSe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function LSe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function BSe(t,e){var r;return rw(t,e)?r=MSe:nw(t,e)?r=DSe:ug(t,e)&&(r=LSe),r}function FSe(t,e){var r;return rw(t,e)?r="trapezoids":nw(t,e)?r="sectors":ug(t,e)&&(r="points"),r}function USe(t,e){if(rw(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(nw(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return ug(t,e)?e.payload:{}}function $Se(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=FSe(r,e),s=USe(r,e),o=n.filter(function(u,h){var g=hd(s,u),v=r.props[i].filter(function(A){var C=BSe(r,e);return C(A,e)}),w=r.props[i].indexOf(v[v.length-1]),b=h===w;return g&&b}),c=n.indexOf(o[o.length-1]);return c}var Jv;function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function Ef(){return Ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ef.apply(this,arguments)}function dL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dL(Object(r),!0).forEach(function(n){Oa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uH(n.key),n)}}function qSe(t,e,r){return e&&fL(t.prototype,e),r&&fL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zSe(t,e,r){return e=x1(e),WSe(t,cH()?Reflect.construct(e,r||[],x1(t).constructor):e.apply(t,r))}function WSe(t,e){if(e&&(uh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HSe(t)}function HSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cH=function(){return!!t})()}function x1(t){return x1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},x1(t)}function GSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kj(t,e)}function Kj(t,e){return Kj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Kj(t,e)}function Oa(t,e,r){return e=uH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uH(t){var e=KSe(t,"string");return uh(e)=="symbol"?e:e+""}function KSe(t,e){if(uh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fl=(function(t){function e(r){var n;return VSe(this,e),n=zSe(this,e,[r]),Oa(n,"pieRef",null),Oa(n,"sectorRefs",[]),Oa(n,"id",Ed("recharts-pie-")),Oa(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Zt(i)&&i()}),Oa(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Zt(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return GSe(e,t),qSe(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,c=s.labelLine,u=s.dataKey,h=s.valueKey,g=Bt(this.props,!1),v=Bt(o,!1),w=Bt(c,!1),b=o&&o.offsetRadius||20,A=n.map(function(C,E){var P=(C.startAngle+C.endAngle)/2,k=yn(C.cx,C.cy,C.outerRadius+b,P),I=gn(gn(gn(gn({},g),C),{},{stroke:"none"},v),{},{index:E,textAnchor:e.getTextAnchor(k.x,C.cx)},k),F=gn(gn(gn(gn({},g),C),{},{fill:"none",stroke:C.fill},w),{},{index:E,points:[yn(C.cx,C.cy,C.outerRadius,P),k]}),M=u;return ur(u)&&ur(h)?M="value":ur(u)&&(M=h),ie.createElement(Ir,{key:"label-".concat(C.startAngle,"-").concat(C.endAngle,"-").concat(C.midAngle,"-").concat(E)},c&&e.renderLabelLineItem(c,F,"line"),e.renderLabelItem(o,I,ni(C,M)))});return ie.createElement(Ir,{className:"recharts-pie-labels"},A)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,o=s.activeShape,c=s.blendStroke,u=s.inactiveShape;return n.map(function(h,g){if(h?.startAngle===0&&h?.endAngle===0&&n.length!==1)return null;var v=i.isActiveIndex(g),w=u&&i.hasActiveIndex()?u:null,b=v?o:w,A=gn(gn({},h),{},{stroke:c?h.fill:h.stroke,tabIndex:-1});return ie.createElement(Ir,Ef({ref:function(E){E&&!i.sectorRefs.includes(E)&&i.sectorRefs.push(E)},tabIndex:-1,className:"recharts-pie-sector"},dd(i.props,h,g),{key:"sector-".concat(h?.startAngle,"-").concat(h?.endAngle,"-").concat(h.midAngle,"-").concat(g)}),ie.createElement(lH,Ef({option:b,isActive:v,shapeType:"sector"},A)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,o=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,h=i.animationEasing,g=i.animationId,v=this.state,w=v.prevSectors,b=v.prevIsAnimationActive;return ie.createElement(mo,{begin:c,duration:u,isActive:o,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(g,"-").concat(b),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(A){var C=A.t,E=[],P=s&&s[0],k=P.startAngle;return s.forEach(function(I,F){var M=w&&w[F],D=F>0?la(I,"paddingAngle",0):0;if(M){var R=Si(M.endAngle-M.startAngle,I.endAngle-I.startAngle),$=gn(gn({},I),{},{startAngle:k+D,endAngle:k+R(C)+D});E.push($),k=$.endAngle}else{var z=I.endAngle,G=I.startAngle,W=Si(0,z-G),V=W(C),K=gn(gn({},I),{},{startAngle:k+D,endAngle:k+V+D});E.push(K),k=K.endAngle}}),ie.createElement(Ir,null,n.renderSectorsStatically(E))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var c=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[c].focus(),i.setState({sectorToFocus:c});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!hd(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,o=i.sectors,c=i.className,u=i.label,h=i.cx,g=i.cy,v=i.innerRadius,w=i.outerRadius,b=i.isAnimationActive,A=this.state.isAnimationFinished;if(s||!o||!o.length||!st(h)||!st(g)||!st(v)||!st(w))return null;var C=hr("recharts-pie",c);return ie.createElement(Ir,{tabIndex:this.props.rootTabIndex,className:C,ref:function(P){n.pieRef=P}},this.renderSectors(),u&&this.renderLabels(o),Ii.renderCallByParent(this.props,null,!1),(!b||A)&&Ro.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(ie.isValidElement(n))return ie.cloneElement(n,i);if(Zt(n))return n(i);var o=hr("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return ie.createElement(Zu,Ef({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,s){if(ie.isValidElement(n))return ie.cloneElement(n,i);var o=s;if(Zt(n)&&(o=n(i),ie.isValidElement(o)))return o;var c=hr("recharts-pie-label-text",typeof n!="boolean"&&!Zt(n)?n.className:"");return ie.createElement(fd,Ef({},i,{alignmentBaseline:"middle",className:c}),o)}}])})(N.PureComponent);Jv=Fl;Oa(Fl,"displayName","Pie");Oa(Fl,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Xc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Oa(Fl,"parseDeltaAngle",function(t,e){var r=ys(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Oa(Fl,"getRealPieData",function(t){var e=t.data,r=t.children,n=Bt(t,!1),i=ca(r,$x);return e&&e.length?e.map(function(s,o){return gn(gn(gn({payload:s},n),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return gn(gn({},n),s.props)}):[]});Oa(Fl,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,s=e.height,o=HW(i,s),c=n+xs(t.cx,i,i/2),u=r+xs(t.cy,s,s/2),h=xs(t.innerRadius,o,0),g=xs(t.outerRadius,o,o*.8),v=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:c,cy:u,innerRadius:h,outerRadius:g,maxRadius:v}});Oa(Fl,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?gn(gn({},e.type.defaultProps),e.props):e.props,i=Jv.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,o=n.startAngle,c=n.endAngle,u=n.paddingAngle,h=n.dataKey,g=n.nameKey,v=n.valueKey,w=n.tooltipType,b=Math.abs(n.minAngle),A=Jv.parseCoordinateOfPie(n,r),C=Jv.parseDeltaAngle(o,c),E=Math.abs(C),P=h;ur(h)&&ur(v)?(oo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),P="value"):ur(h)&&(oo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),P=v);var k=i.filter(function($){return ni($,P,0)!==0}).length,I=(E>=360?k:k-1)*u,F=E-k*b-I,M=i.reduce(function($,z){var G=ni(z,P,0);return $+(st(G)?G:0)},0),D;if(M>0){var R;D=i.map(function($,z){var G=ni($,P,0),W=ni($,g,z),V=(st(G)?G:0)/M,K;z?K=R.endAngle+ys(C)*u*(G!==0?1:0):K=o;var q=K+ys(C)*((G!==0?b:0)+V*F),Y=(K+q)/2,J=(A.innerRadius+A.outerRadius)/2,ne=[{name:W,value:G,payload:$,dataKey:P,type:w}],te=yn(A.cx,A.cy,J,Y);return R=gn(gn(gn({percent:V,cornerRadius:s,name:W,tooltipPayload:ne,midAngle:Y,middleRadius:J,tooltipPosition:te},$),A),{},{value:ni($,P),startAngle:K,endAngle:q,payload:$,paddingAngle:ys(C)*u}),R})}return gn(gn({},A),{},{sectors:D,data:i})});var jE,hL;function YSe(){if(hL)return jE;hL=1;var t=Math.ceil,e=Math.max;function r(n,i,s,o){for(var c=-1,u=e(t((i-n)/(s||1)),0),h=Array(u);u--;)h[o?u:++c]=n,n+=s;return h}return jE=r,jE}var NE,mL;function dH(){if(mL)return NE;mL=1;var t=Iz(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*r}return i===i?i:0}return NE=n,NE}var OE,pL;function XSe(){if(pL)return OE;pL=1;var t=YSe(),e=Ux(),r=dH();function n(i){return function(s,o,c){return c&&typeof c!="number"&&e(s,o,c)&&(o=c=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),c=c===void 0?s<o?1:-1:r(c),t(s,o,c,i)}}return OE=n,OE}var TE,gL;function ZSe(){if(gL)return TE;gL=1;var t=XSe(),e=t();return TE=e,TE}var QSe=ZSe();const w1=Ur(QSe);function dg(t){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(t)}function vL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vL(Object(r),!0).forEach(function(n){fH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fH(t,e,r){return e=JSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JSe(t){var e=eCe(t,"string");return dg(e)=="symbol"?e:e+""}function eCe(t,e){if(dg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tCe=["Webkit","Moz","O","ms"],rCe=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=tCe.reduce(function(s,o){return yL(yL({},s),{},fH({},o+n,r))},{});return i[e]=r,i};function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function b1(){return b1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b1.apply(this,arguments)}function xL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xL(Object(r),!0).forEach(function(n){Zs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mH(n.key),n)}}function iCe(t,e,r){return e&&wL(t.prototype,e),r&&wL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sCe(t,e,r){return e=_1(e),aCe(t,hH()?Reflect.construct(e,r||[],_1(t).constructor):e.apply(t,r))}function aCe(t,e){if(e&&(dh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oCe(t)}function oCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hH=function(){return!!t})()}function _1(t){return _1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_1(t)}function lCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yj(t,e)}function Yj(t,e){return Yj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Yj(t,e)}function Zs(t,e,r){return e=mH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mH(t){var e=cCe(t,"string");return dh(e)=="symbol"?e:e+""}function cCe(t,e){if(dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uCe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,s=e.x,o=e.width,c=e.travellerWidth;if(!r||!r.length)return{};var u=r.length,h=cp().domain(w1(0,u)).range([s,s+o-c]),g=h.domain().map(function(v){return h(v)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(n),endX:h(i),scale:h,scaleValues:g}},bL=function(e){return e.changedTouches&&!!e.changedTouches.length},fh=(function(t){function e(r){var n;return nCe(this,e),n=sCe(this,e,[r]),Zs(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Zs(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Zs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,c=i.startIndex;o?.({endIndex:s,startIndex:c})}),n.detachDragEndListener()}),Zs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Zs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Zs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Zs(n,"handleSlideDragStart",function(i){var s=bL(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return lCe(e,t),iCe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,c=this.props,u=c.gap,h=c.data,g=h.length-1,v=Math.min(i,s),w=Math.max(i,s),b=e.getIndexInRange(o,v),A=e.getIndexInRange(o,w);return{startIndex:b-b%u,endIndex:A===g?g:A-A%u}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,c=i.dataKey,u=ni(s[n],c,n);return Zt(o)?o(u,n):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,c=i.endX,u=this.props,h=u.x,g=u.width,v=u.travellerWidth,w=u.startIndex,b=u.endIndex,A=u.onChange,C=n.pageX-s;C>0?C=Math.min(C,h+g-v-c,h+g-v-o):C<0&&(C=Math.max(C,h-o,h-c));var E=this.getIndex({startX:o+C,endX:c+C});(E.startIndex!==w||E.endIndex!==b)&&A&&A(E),this.setState({startX:o+C,endX:c+C,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=bL(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,c=i.endX,u=i.startX,h=this.state[o],g=this.props,v=g.x,w=g.width,b=g.travellerWidth,A=g.onChange,C=g.gap,E=g.data,P={startX:this.state.startX,endX:this.state.endX},k=n.pageX-s;k>0?k=Math.min(k,v+w-b-h):k<0&&(k=Math.max(k,v-h)),P[o]=h+k;var I=this.getIndex(P),F=I.startIndex,M=I.endIndex,D=function(){var $=E.length-1;return o==="startX"&&(c>u?F%C===0:M%C===0)||c<u&&M===$||o==="endX"&&(c>u?M%C===0:F%C===0)||c>u&&M===$};this.setState(Zs(Zs({},o,h+k),"brushMoveStartX",n.pageX),function(){A&&D()&&A(I)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,c=o.scaleValues,u=o.startX,h=o.endX,g=this.state[i],v=c.indexOf(g);if(v!==-1){var w=v+n;if(!(w===-1||w>=c.length)){var b=c[w];i==="startX"&&b>=h||i==="endX"&&b<=u||this.setState(Zs({},i,b),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,c=n.height,u=n.fill,h=n.stroke;return ie.createElement("rect",{stroke:h,fill:u,x:i,y:s,width:o,height:c})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,c=n.height,u=n.data,h=n.children,g=n.padding,v=N.Children.only(h);return v?ie.cloneElement(v,{x:i,y:s,width:o,height:c,margin:g,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,c=this,u=this.props,h=u.y,g=u.travellerWidth,v=u.height,w=u.traveller,b=u.ariaLabel,A=u.data,C=u.startIndex,E=u.endIndex,P=Math.max(n,this.props.x),k=kE(kE({},Bt(this.props,!1)),{},{x:P,y:h,width:g,height:v}),I=b||"Min value: ".concat((s=A[C])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=A[E])===null||o===void 0?void 0:o.name);return ie.createElement(Ir,{tabIndex:0,role:"slider","aria-label":I,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(M){["ArrowLeft","ArrowRight"].includes(M.key)&&(M.preventDefault(),M.stopPropagation(),c.handleTravellerMoveKeyboard(M.key==="ArrowRight"?1:-1,i))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(w,k))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,c=s.height,u=s.stroke,h=s.travellerWidth,g=Math.min(n,i)+h,v=Math.max(Math.abs(i-n)-h,0);return ie.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:g,y:o,width:v,height:c})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,c=n.height,u=n.travellerWidth,h=n.stroke,g=this.state,v=g.startX,w=g.endX,b=5,A={pointerEvents:"none",fill:h};return ie.createElement(Ir,{className:"recharts-brush-texts"},ie.createElement(fd,b1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(v,w)-b,y:o+c/2},A),this.getTextOfTick(i)),ie.createElement(fd,b1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(v,w)+u+b,y:o+c/2},A),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,c=n.x,u=n.y,h=n.width,g=n.height,v=n.alwaysShowText,w=this.state,b=w.startX,A=w.endX,C=w.isTextActive,E=w.isSlideMoving,P=w.isTravellerMoving,k=w.isTravellerFocused;if(!i||!i.length||!st(c)||!st(u)||!st(h)||!st(g)||h<=0||g<=0)return null;var I=hr("recharts-brush",s),F=ie.Children.count(o)===1,M=rCe("userSelect","none");return ie.createElement(Ir,{className:I,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:M},this.renderBackground(),F&&this.renderPanorama(),this.renderSlide(b,A),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(A,"endX"),(C||E||P||k||v)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,c=n.height,u=n.stroke,h=Math.floor(s+c/2)-1;return ie.createElement(ie.Fragment,null,ie.createElement("rect",{x:i,y:s,width:o,height:c,fill:u,stroke:"none"}),ie.createElement("line",{x1:i+1,y1:h,x2:i+o-1,y2:h,fill:"none",stroke:"#fff"}),ie.createElement("line",{x1:i+1,y1:h+2,x2:i+o-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return ie.isValidElement(n)?s=ie.cloneElement(n,i):Zt(n)?s=n(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,c=n.x,u=n.travellerWidth,h=n.updateId,g=n.startIndex,v=n.endIndex;if(s!==i.prevData||h!==i.prevUpdateId)return kE({prevData:s,prevTravellerWidth:u,prevUpdateId:h,prevX:c,prevWidth:o},s&&s.length?uCe({data:s,width:o,x:c,travellerWidth:u,startIndex:g,endIndex:v}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||c!==i.prevX||u!==i.prevTravellerWidth)){i.scale.range([c,c+o-u]);var w=i.scale.domain().map(function(b){return i.scale(b)});return{prevData:s,prevTravellerWidth:u,prevUpdateId:h,prevX:c,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:w}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,c=s-1;c-o>1;){var u=Math.floor((o+c)/2);n[u]>i?c=u:o=u}return i>=n[c]?c:o}}])})(N.PureComponent);Zs(fh,"displayName","Brush");Zs(fh,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var PE,_L;function dCe(){if(_L)return PE;_L=1;var t=ST();function e(r,n){var i;return t(r,function(s,o,c){return i=n(s,o,c),!i}),!!i}return PE=e,PE}var IE,SL;function fCe(){if(SL)return IE;SL=1;var t=uz(),e=zo(),r=dCe(),n=Fs(),i=Ux();function s(o,c,u){var h=n(o)?t:r;return u&&i(o,c,u)&&(c=void 0),h(o,e(c,3))}return IE=s,IE}var hCe=fCe();const mCe=Ur(hCe);var Mo=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},RE,CL;function pCe(){if(CL)return RE;CL=1;var t=Nz();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return RE=e,RE}var ME,EL;function gCe(){if(EL)return ME;EL=1;var t=pCe(),e=Az(),r=zo();function n(i,s){var o={};return s=r(s,3),e(i,function(c,u,h){t(o,u,s(c,u,h))}),o}return ME=n,ME}var vCe=gCe();const yCe=Ur(vCe);var DE,AL;function xCe(){if(AL)return DE;AL=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return DE=t,DE}var LE,jL;function wCe(){if(jL)return LE;jL=1;var t=ST();function e(r,n){var i=!0;return t(r,function(s,o,c){return i=!!n(s,o,c),i}),i}return LE=e,LE}var BE,NL;function bCe(){if(NL)return BE;NL=1;var t=xCe(),e=wCe(),r=zo(),n=Fs(),i=Ux();function s(o,c,u){var h=n(o)?t:e;return u&&i(o,c,u)&&(c=void 0),h(o,r(c,3))}return BE=s,BE}var _Ce=bCe();const pH=Ur(_Ce);var SCe=["x","y"];function fg(t){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(t)}function Xj(){return Xj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xj.apply(this,arguments)}function OL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Km(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OL(Object(r),!0).forEach(function(n){CCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CCe(t,e,r){return e=ECe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ECe(t){var e=ACe(t,"string");return fg(e)=="symbol"?e:e+""}function ACe(t,e){if(fg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jCe(t,e){if(t==null)return{};var r=NCe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NCe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function OCe(t,e){var r=t.x,n=t.y,i=jCe(t,SCe),s="".concat(r),o=parseInt(s,10),c="".concat(n),u=parseInt(c,10),h="".concat(e.height||i.height),g=parseInt(h,10),v="".concat(e.width||i.width),w=parseInt(v,10);return Km(Km(Km(Km(Km({},e),i),o?{x:o}:{}),u?{y:u}:{}),{},{height:g,width:w,name:e.name,radius:e.radius})}function TL(t){return ie.createElement(lH,Xj({shapeType:"rectangle",propTransformer:OCe,activeClassName:"recharts-active-bar"},t))}var TCe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var s=st(n)||tme(n);return s?e(n,i):(s||pd(),r)}},kCe=["value","background"],gH;function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function PCe(t,e){if(t==null)return{};var r=ICe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ICe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function S1(){return S1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},S1.apply(this,arguments)}function kL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kL(Object(r),!0).forEach(function(n){Ac(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yH(n.key),n)}}function MCe(t,e,r){return e&&PL(t.prototype,e),r&&PL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function DCe(t,e,r){return e=C1(e),LCe(t,vH()?Reflect.construct(e,r||[],C1(t).constructor):e.apply(t,r))}function LCe(t,e){if(e&&(hh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BCe(t)}function BCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vH=function(){return!!t})()}function C1(t){return C1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},C1(t)}function FCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zj(t,e)}function Zj(t,e){return Zj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Zj(t,e)}function Ac(t,e,r){return e=yH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yH(t){var e=UCe(t,"string");return hh(e)=="symbol"?e:e+""}function UCe(t,e){if(hh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Od=(function(t){function e(){var r;RCe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=DCe(this,e,[].concat(i)),Ac(r,"state",{isAnimationFinished:!1}),Ac(r,"id",Ed("recharts-bar-")),Ac(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ac(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return FCe(e,t),MCe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,c=s.dataKey,u=s.activeIndex,h=s.activeBar,g=Bt(this.props,!1);return n&&n.map(function(v,w){var b=w===u,A=b?h:o,C=oi(oi(oi({},g),v),{},{isActive:b,option:A,index:w,dataKey:c,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ie.createElement(Ir,S1({className:"recharts-bar-rectangle"},dd(i.props,v,w),{key:"rectangle-".concat(v?.x,"-").concat(v?.y,"-").concat(v?.value,"-").concat(w)}),ie.createElement(TL,C))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,c=i.isAnimationActive,u=i.animationBegin,h=i.animationDuration,g=i.animationEasing,v=i.animationId,w=this.state.prevData;return ie.createElement(mo,{begin:u,duration:h,isActive:c,easing:g,from:{t:0},to:{t:1},key:"bar-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var A=b.t,C=s.map(function(E,P){var k=w&&w[P];if(k){var I=Si(k.x,E.x),F=Si(k.y,E.y),M=Si(k.width,E.width),D=Si(k.height,E.height);return oi(oi({},E),{},{x:I(A),y:F(A),width:M(A),height:D(A)})}if(o==="horizontal"){var R=Si(0,E.height),$=R(A);return oi(oi({},E),{},{y:E.y+E.height-$,height:$})}var z=Si(0,E.width),G=z(A);return oi(oi({},E),{},{width:G})});return ie.createElement(Ir,null,n.renderRectanglesStatically(C))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!hd(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,c=i.activeIndex,u=Bt(this.props.background,!1);return s.map(function(h,g){h.value;var v=h.background,w=PCe(h,kCe);if(!v)return null;var b=oi(oi(oi(oi(oi({},w),{},{fill:"#eee"},v),u),dd(n.props,h,g)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:g,className:"recharts-bar-background-rectangle"});return ie.createElement(TL,S1({key:"background-bar-".concat(g),option:n.props.background,isActive:g===c},b))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,c=s.xAxis,u=s.yAxis,h=s.layout,g=s.children,v=ca(g,Kg);if(!v)return null;var w=h==="vertical"?o[0].height/2:o[0].width/2,b=function(E,P){var k=Array.isArray(E.value)?E.value[1]:E.value;return{x:E.x,y:E.y,value:k,errorVal:ni(E,P)}},A={clipPath:n?"url(#clipPath-".concat(i,")"):null};return ie.createElement(Ir,A,v.map(function(C){return ie.cloneElement(C,{key:"error-bar-".concat(i,"-").concat(C.props.dataKey),data:o,xAxis:c,yAxis:u,layout:h,offset:w,dataPointFormatter:b})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,c=n.xAxis,u=n.yAxis,h=n.left,g=n.top,v=n.width,w=n.height,b=n.isAnimationActive,A=n.background,C=n.id;if(i||!s||!s.length)return null;var E=this.state.isAnimationFinished,P=hr("recharts-bar",o),k=c&&c.allowDataOverflow,I=u&&u.allowDataOverflow,F=k||I,M=ur(C)?this.id:C;return ie.createElement(Ir,{className:P},k||I?ie.createElement("defs",null,ie.createElement("clipPath",{id:"clipPath-".concat(M)},ie.createElement("rect",{x:k?h:h-v/2,y:I?g:g-w/2,width:k?v:v*2,height:I?w:w*2}))):null,ie.createElement(Ir,{className:"recharts-bar-rectangles",clipPath:F?"url(#clipPath-".concat(M,")"):null},A?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(F,M),(!b||E)&&Ro.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(N.PureComponent);gH=Od;Ac(Od,"displayName","Bar");Ac(Od,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Xc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ac(Od,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,c=t.xAxisTicks,u=t.yAxisTicks,h=t.stackedData,g=t.dataStartIndex,v=t.displayedData,w=t.offset,b=pwe(n,r);if(!b)return null;var A=e.layout,C=r.type.defaultProps,E=C!==void 0?oi(oi({},C),r.props):r.props,P=E.dataKey,k=E.children,I=E.minPointSize,F=A==="horizontal"?o:s,M=h?F.scale.domain():null,D=_we({numericAxis:F}),R=ca(k,$x),$=v.map(function(z,G){var W,V,K,q,Y,J;h?W=gwe(h[g+G],M):(W=ni(z,P),Array.isArray(W)||(W=[D,W]));var ne=TCe(I,gH.defaultProps.minPointSize)(W[1],G);if(A==="horizontal"){var te,Q=[o.scale(W[0]),o.scale(W[1])],ue=Q[0],ae=Q[1];V=n5({axis:s,ticks:c,bandSize:i,offset:b.offset,entry:z,index:G}),K=(te=ae??ue)!==null&&te!==void 0?te:void 0,q=b.size;var se=ue-ae;if(Y=Number.isNaN(se)?0:se,J={x:V,y:o.y,width:q,height:o.height},Math.abs(ne)>0&&Math.abs(Y)<Math.abs(ne)){var me=ys(Y||ne)*(Math.abs(ne)-Math.abs(Y));K-=me,Y+=me}}else{var xe=[s.scale(W[0]),s.scale(W[1])],Ue=xe[0],Pe=xe[1];if(V=Ue,K=n5({axis:o,ticks:u,bandSize:i,offset:b.offset,entry:z,index:G}),q=Pe-Ue,Y=b.size,J={x:s.x,y:K,width:s.width,height:Y},Math.abs(ne)>0&&Math.abs(q)<Math.abs(ne)){var Se=ys(q||ne)*(Math.abs(ne)-Math.abs(q));q+=Se}}return oi(oi(oi({},z),{},{x:V,y:K,width:q,height:Y,value:h?W:W[1],payload:z,background:J},R&&R[G]&&R[G].props),{},{tooltipPayload:[zW(r,z)],tooltipPosition:{x:V+q/2,y:K+Y/2}})});return oi({data:$,layout:A},w)});function hg(t){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(t)}function $Ce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xH(n.key),n)}}function VCe(t,e,r){return e&&IL(t.prototype,e),r&&IL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function RL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RL(Object(r),!0).forEach(function(n){iw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iw(t,e,r){return e=xH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xH(t){var e=qCe(t,"string");return hg(e)=="symbol"?e:e+""}function qCe(t,e){if(hg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QT=function(e,r,n,i,s){var o=e.width,c=e.height,u=e.layout,h=e.children,g=Object.keys(r),v={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:c-n.bottom,bottomMirror:c-n.bottom},w=!!Qs(h,Od);return g.reduce(function(b,A){var C=r[A],E=C.orientation,P=C.domain,k=C.padding,I=k===void 0?{}:k,F=C.mirror,M=C.reversed,D="".concat(E).concat(F?"Mirror":""),R,$,z,G,W;if(C.type==="number"&&(C.padding==="gap"||C.padding==="no-gap")){var V=P[1]-P[0],K=1/0,q=C.categoricalDomain.sort(ime);if(q.forEach(function(xe,Ue){Ue>0&&(K=Math.min((xe||0)-(q[Ue-1]||0),K))}),Number.isFinite(K)){var Y=K/V,J=C.layout==="vertical"?n.height:n.width;if(C.padding==="gap"&&(R=Y*J/2),C.padding==="no-gap"){var ne=xs(e.barCategoryGap,Y*J),te=Y*J/2;R=te-ne-(te-ne)/J*ne}}}i==="xAxis"?$=[n.left+(I.left||0)+(R||0),n.left+n.width-(I.right||0)-(R||0)]:i==="yAxis"?$=u==="horizontal"?[n.top+n.height-(I.bottom||0),n.top+(I.top||0)]:[n.top+(I.top||0)+(R||0),n.top+n.height-(I.bottom||0)-(R||0)]:$=C.range,M&&($=[$[1],$[0]]);var Q=UW(C,s,w),ue=Q.scale,ae=Q.realScaleType;ue.domain(P).range($),$W(ue);var se=VW(ue,eo(eo({},C),{},{realScaleType:ae}));i==="xAxis"?(W=E==="top"&&!F||E==="bottom"&&F,z=n.left,G=v[D]-W*C.height):i==="yAxis"&&(W=E==="left"&&!F||E==="right"&&F,z=v[D]-W*C.width,G=n.top);var me=eo(eo(eo({},C),se),{},{realScaleType:ae,x:z,y:G,scale:ue,width:i==="xAxis"?n.width:C.width,height:i==="yAxis"?n.height:C.height});return me.bandSize=l1(me,se),!C.hide&&i==="xAxis"?v[D]+=(W?-1:1)*me.height:C.hide||(v[D]+=(W?-1:1)*me.width),eo(eo({},b),{},iw({},A,me))},{})},wH=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},zCe=function(e){var r=e.x1,n=e.y1,i=e.x2,s=e.y2;return wH({x:r,y:n},{x:i,y:s})},bH=(function(){function t(e){$Ce(this,t),this.scale=e}return VCe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(r)+c}default:return this.scale(r)}if(i){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+u}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();iw(bH,"EPS",1e-4);var JT=function(e){var r=Object.keys(e).reduce(function(n,i){return eo(eo({},n),{},iw({},i,bH.create(e[i])))},{});return eo(eo({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,c=s.position;return yCe(i,function(u,h){return r[h].apply(u,{bandAware:o,position:c})})},isInRange:function(i){return pH(i,function(s,o){return r[o].isInRange(s)})}})};function WCe(t){return(t%180+180)%180}var HCe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=WCe(i),o=s*Math.PI/180,c=Math.atan(n/r),u=o>c&&o<Math.PI-c?n/Math.sin(o):r/Math.cos(o);return Math.abs(u)},FE,ML;function GCe(){if(ML)return FE;ML=1;var t=zo(),e=qg(),r=Bx();function n(i){return function(s,o,c){var u=Object(s);if(!e(s)){var h=t(o,3);s=r(s),o=function(v){return h(u[v],v,u)}}var g=i(s,o,c);return g>-1?u[h?s[g]:g]:void 0}}return FE=n,FE}var UE,DL;function KCe(){if(DL)return UE;DL=1;var t=dH();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return UE=e,UE}var $E,LL;function YCe(){if(LL)return $E;LL=1;var t=bz(),e=zo(),r=KCe(),n=Math.max;function i(s,o,c){var u=s==null?0:s.length;if(!u)return-1;var h=c==null?0:r(c);return h<0&&(h=n(u+h,0)),t(s,e(o,3),h)}return $E=i,$E}var VE,BL;function XCe(){if(BL)return VE;BL=1;var t=GCe(),e=YCe(),r=t(e);return VE=r,VE}var ZCe=XCe();const QCe=Ur(ZCe);var JCe=Dq();const eEe=Ur(JCe);var tEe=eEe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),ek=N.createContext(void 0),tk=N.createContext(void 0),_H=N.createContext(void 0),SH=N.createContext({}),CH=N.createContext(void 0),EH=N.createContext(0),AH=N.createContext(0),FL=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=e.clipPathId,c=e.children,u=e.width,h=e.height,g=tEe(s);return ie.createElement(ek.Provider,{value:n},ie.createElement(tk.Provider,{value:i},ie.createElement(SH.Provider,{value:s},ie.createElement(_H.Provider,{value:g},ie.createElement(CH.Provider,{value:o},ie.createElement(EH.Provider,{value:h},ie.createElement(AH.Provider,{value:u},c)))))))},rEe=function(){return N.useContext(CH)},jH=function(e){var r=N.useContext(ek);r==null&&pd();var n=r[e];return n==null&&pd(),n},nEe=function(){var e=N.useContext(ek);return bc(e)},iEe=function(){var e=N.useContext(tk),r=QCe(e,function(n){return pH(n.domain,Number.isFinite)});return r||bc(e)},NH=function(e){var r=N.useContext(tk);r==null&&pd();var n=r[e];return n==null&&pd(),n},sEe=function(){var e=N.useContext(_H);return e},aEe=function(){return N.useContext(SH)},rk=function(){return N.useContext(AH)},nk=function(){return N.useContext(EH)};function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function oEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lEe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TH(n.key),n)}}function cEe(t,e,r){return e&&lEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uEe(t,e,r){return e=E1(e),dEe(t,OH()?Reflect.construct(e,r||[],E1(t).constructor):e.apply(t,r))}function dEe(t,e){if(e&&(mh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fEe(t)}function fEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OH=function(){return!!t})()}function E1(t){return E1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},E1(t)}function hEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qj(t,e)}function Qj(t,e){return Qj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Qj(t,e)}function UL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $L(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UL(Object(r),!0).forEach(function(n){ik(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ik(t,e,r){return e=TH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TH(t){var e=mEe(t,"string");return mh(e)=="symbol"?e:e+""}function mEe(t,e){if(mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pEe(t,e){return xEe(t)||yEe(t,e)||vEe(t,e)||gEe()}function gEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vEe(t,e){if(t){if(typeof t=="string")return VL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VL(t,e)}}function VL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yEe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],u=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function xEe(t){if(Array.isArray(t))return t}function Jj(){return Jj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jj.apply(this,arguments)}var wEe=function(e,r){var n;return ie.isValidElement(e)?n=ie.cloneElement(e,r):Zt(e)?n=e(r):n=ie.createElement("line",Jj({},r,{className:"recharts-reference-line-line"})),n},bEe=function(e,r,n,i,s,o,c,u,h){var g=s.x,v=s.y,w=s.width,b=s.height;if(n){var A=h.y,C=e.y.apply(A,{position:o});if(Mo(h,"discard")&&!e.y.isInRange(C))return null;var E=[{x:g+w,y:C},{x:g,y:C}];return u==="left"?E.reverse():E}if(r){var P=h.x,k=e.x.apply(P,{position:o});if(Mo(h,"discard")&&!e.x.isInRange(k))return null;var I=[{x:k,y:v+b},{x:k,y:v}];return c==="top"?I.reverse():I}if(i){var F=h.segment,M=F.map(function(D){return e.apply(D,{position:o})});return Mo(h,"discard")&&mCe(M,function(D){return!e.isInRange(D)})?null:M}return null};function _Ee(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,c=t.className,u=t.alwaysShow,h=rEe(),g=jH(i),v=NH(s),w=sEe();if(!h||!w)return null;oo(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=JT({x:g.scale,y:v.scale}),A=Ci(e),C=Ci(r),E=n&&n.length===2,P=bEe(b,A,C,E,w,t.position,g.orientation,v.orientation,t);if(!P)return null;var k=pEe(P,2),I=k[0],F=I.x,M=I.y,D=k[1],R=D.x,$=D.y,z=Mo(t,"hidden")?"url(#".concat(h,")"):void 0,G=$L($L({clipPath:z},Bt(t,!0)),{},{x1:F,y1:M,x2:R,y2:$});return ie.createElement(Ir,{className:hr("recharts-reference-line",c)},wEe(o,G),Ii.renderCallByParent(t,zCe({x1:F,y1:M,x2:R,y2:$})))}var sk=(function(t){function e(){return oEe(this,e),uEe(this,e,arguments)}return hEe(e,t),cEe(e,[{key:"render",value:function(){return ie.createElement(_Ee,this.props)}}])})(ie.Component);ik(sk,"displayName","ReferenceLine");ik(sk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function eN(){return eN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eN.apply(this,arguments)}function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function qL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qL(Object(r),!0).forEach(function(n){sw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CEe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PH(n.key),n)}}function EEe(t,e,r){return e&&CEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AEe(t,e,r){return e=A1(e),jEe(t,kH()?Reflect.construct(e,r||[],A1(t).constructor):e.apply(t,r))}function jEe(t,e){if(e&&(ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NEe(t)}function NEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kH=function(){return!!t})()}function A1(t){return A1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},A1(t)}function OEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tN(t,e)}function tN(t,e){return tN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tN(t,e)}function sw(t,e,r){return e=PH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PH(t){var e=TEe(t,"string");return ph(e)=="symbol"?e:e+""}function TEe(t,e){if(ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kEe=function(e){var r=e.x,n=e.y,i=e.xAxis,s=e.yAxis,o=JT({x:i.scale,y:s.scale}),c=o.apply({x:r,y:n},{bandAware:!0});return Mo(e,"discard")&&!o.isInRange(c)?null:c},aw=(function(t){function e(){return SEe(this,e),AEe(this,e,arguments)}return OEe(e,t),EEe(e,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,c=n.alwaysShow,u=n.clipPathId,h=Ci(i),g=Ci(s);if(oo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!g)return null;var v=kEe(this.props);if(!v)return null;var w=v.x,b=v.y,A=this.props,C=A.shape,E=A.className,P=Mo(this.props,"hidden")?"url(#".concat(u,")"):void 0,k=zL(zL({clipPath:P},Bt(this.props,!0)),{},{cx:w,cy:b});return ie.createElement(Ir,{className:hr("recharts-reference-dot",E)},e.renderDot(C,k),Ii.renderCallByParent(this.props,{x:w-o,y:b-o,width:2*o,height:2*o}))}}])})(ie.Component);sw(aw,"displayName","ReferenceDot");sw(aw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});sw(aw,"renderDot",function(t,e){var r;return ie.isValidElement(t)?r=ie.cloneElement(t,e):Zt(t)?r=t(e):r=ie.createElement(Yg,eN({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function rN(){return rN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rN.apply(this,arguments)}function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function WL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WL(Object(r),!0).forEach(function(n){ow(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IEe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RH(n.key),n)}}function REe(t,e,r){return e&&IEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MEe(t,e,r){return e=j1(e),DEe(t,IH()?Reflect.construct(e,r||[],j1(t).constructor):e.apply(t,r))}function DEe(t,e){if(e&&(gh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LEe(t)}function LEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IH=function(){return!!t})()}function j1(t){return j1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},j1(t)}function BEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nN(t,e)}function nN(t,e){return nN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nN(t,e)}function ow(t,e,r){return e=RH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RH(t){var e=FEe(t,"string");return gh(e)=="symbol"?e:e+""}function FEe(t,e){if(gh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var UEe=function(e,r,n,i,s){var o=s.x1,c=s.x2,u=s.y1,h=s.y2,g=s.xAxis,v=s.yAxis;if(!g||!v)return null;var w=JT({x:g.scale,y:v.scale}),b={x:e?w.x.apply(o,{position:"start"}):w.x.rangeMin,y:n?w.y.apply(u,{position:"start"}):w.y.rangeMin},A={x:r?w.x.apply(c,{position:"end"}):w.x.rangeMax,y:i?w.y.apply(h,{position:"end"}):w.y.rangeMax};return Mo(s,"discard")&&(!w.isInRange(b)||!w.isInRange(A))?null:wH(b,A)},lw=(function(t){function e(){return PEe(this,e),MEe(this,e,arguments)}return BEe(e,t),REe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,c=n.y2,u=n.className,h=n.alwaysShow,g=n.clipPathId;oo(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=Ci(i),w=Ci(s),b=Ci(o),A=Ci(c),C=this.props.shape;if(!v&&!w&&!b&&!A&&!C)return null;var E=UEe(v,w,b,A,this.props);if(!E&&!C)return null;var P=Mo(this.props,"hidden")?"url(#".concat(g,")"):void 0;return ie.createElement(Ir,{className:hr("recharts-reference-area",u)},e.renderRect(C,HL(HL({clipPath:P},Bt(this.props,!0)),E)),Ii.renderCallByParent(this.props,E))}}])})(ie.Component);ow(lw,"displayName","ReferenceArea");ow(lw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ow(lw,"renderRect",function(t,e){var r;return ie.isValidElement(t)?r=ie.cloneElement(t,e):Zt(t)?r=t(e):r=ie.createElement(ZT,rN({},e,{className:"recharts-reference-area-rect"})),r});function MH(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function $Ee(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return HCe(n,r)}function VEe(t,e,r){var n=r==="width",i=t.x,s=t.y,o=t.width,c=t.height;return e===1?{start:n?i:s,end:n?i+o:s+c}:{start:n?i+o:s+c,end:n?i:s}}function N1(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function qEe(t,e){return MH(t,e+1)}function zEe(t,e,r,n,i){for(var s=(n||[]).slice(),o=e.start,c=e.end,u=0,h=1,g=o,v=function(){var A=n?.[u];if(A===void 0)return{v:MH(n,h)};var C=u,E,P=function(){return E===void 0&&(E=r(A,C)),E},k=A.coordinate,I=u===0||N1(t,k,P,g,c);I||(u=0,g=o,h+=1),I&&(g=k+t*(P()/2+i),u+=h)},w;h<=s.length;)if(w=v(),w)return w.v;return[]}function mg(t){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(t)}function GL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function is(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GL(Object(r),!0).forEach(function(n){WEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WEe(t,e,r){return e=HEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HEe(t){var e=GEe(t,"string");return mg(e)=="symbol"?e:e+""}function GEe(t,e){if(mg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KEe(t,e,r,n,i){for(var s=(n||[]).slice(),o=s.length,c=e.start,u=e.end,h=function(w){var b=s[w],A,C=function(){return A===void 0&&(A=r(b,w)),A};if(w===o-1){var E=t*(b.coordinate+t*C()/2-u);s[w]=b=is(is({},b),{},{tickCoord:E>0?b.coordinate-E*t:b.coordinate})}else s[w]=b=is(is({},b),{},{tickCoord:b.coordinate});var P=N1(t,b.tickCoord,C,c,u);P&&(u=b.tickCoord-t*(C()/2+i),s[w]=is(is({},b),{},{isShow:!0}))},g=o-1;g>=0;g--)h(g);return s}function YEe(t,e,r,n,i,s){var o=(n||[]).slice(),c=o.length,u=e.start,h=e.end;if(s){var g=n[c-1],v=r(g,c-1),w=t*(g.coordinate+t*v/2-h);o[c-1]=g=is(is({},g),{},{tickCoord:w>0?g.coordinate-w*t:g.coordinate});var b=N1(t,g.tickCoord,function(){return v},u,h);b&&(h=g.tickCoord-t*(v/2+i),o[c-1]=is(is({},g),{},{isShow:!0}))}for(var A=s?c-1:c,C=function(k){var I=o[k],F,M=function(){return F===void 0&&(F=r(I,k)),F};if(k===0){var D=t*(I.coordinate-t*M()/2-u);o[k]=I=is(is({},I),{},{tickCoord:D<0?I.coordinate-D*t:I.coordinate})}else o[k]=I=is(is({},I),{},{tickCoord:I.coordinate});var R=N1(t,I.tickCoord,M,u,h);R&&(u=I.tickCoord+t*(M()/2+i),o[k]=is(is({},I),{},{isShow:!0}))},E=0;E<A;E++)C(E);return o}function ak(t,e,r){var n=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,c=t.orientation,u=t.interval,h=t.tickFormatter,g=t.unit,v=t.angle;if(!i||!i.length||!n)return[];if(st(u)||Xc.isSsr)return qEe(i,typeof u=="number"&&st(u)?u:0);var w=[],b=c==="top"||c==="bottom"?"width":"height",A=g&&b==="width"?lp(g,{fontSize:e,letterSpacing:r}):{width:0,height:0},C=function(I,F){var M=Zt(h)?h(I.value,F):I.value;return b==="width"?$Ee(lp(M,{fontSize:e,letterSpacing:r}),A,v):lp(M,{fontSize:e,letterSpacing:r})[b]},E=i.length>=2?ys(i[1].coordinate-i[0].coordinate):1,P=VEe(s,E,b);return u==="equidistantPreserveStart"?zEe(E,P,C,i,o):(u==="preserveStart"||u==="preserveStartEnd"?w=YEe(E,P,C,i,o,u==="preserveStartEnd"):w=KEe(E,P,C,i,o),w.filter(function(k){return k.isShow}))}var XEe=["viewBox"],ZEe=["viewBox"],QEe=["ticks"];function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function Af(){return Af=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Af.apply(this,arguments)}function KL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(r),!0).forEach(function(n){ok(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qE(t,e){if(t==null)return{};var r=JEe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JEe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LH(n.key),n)}}function tAe(t,e,r){return e&&YL(t.prototype,e),r&&YL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rAe(t,e,r){return e=O1(e),nAe(t,DH()?Reflect.construct(e,r||[],O1(t).constructor):e.apply(t,r))}function nAe(t,e){if(e&&(vh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iAe(t)}function iAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DH=function(){return!!t})()}function O1(t){return O1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O1(t)}function sAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iN(t,e)}function iN(t,e){return iN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iN(t,e)}function ok(t,e,r){return e=LH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LH(t){var e=aAe(t,"string");return vh(e)=="symbol"?e:e+""}function aAe(t,e){if(vh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wh=(function(t){function e(r){var n;return eAe(this,e),n=rAe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return sAe(e,t),tAe(e,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=qE(n,XEe),c=this.props,u=c.viewBox,h=qE(c,ZEe);return!Mf(s,u)||!Mf(o,h)||!Mf(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,c=i.width,u=i.height,h=i.orientation,g=i.tickSize,v=i.mirror,w=i.tickMargin,b,A,C,E,P,k,I=v?-1:1,F=n.tickSize||g,M=st(n.tickCoord)?n.tickCoord:n.coordinate;switch(h){case"top":b=A=n.coordinate,E=o+ +!v*u,C=E-I*F,k=C-I*w,P=M;break;case"left":C=E=n.coordinate,A=s+ +!v*c,b=A-I*F,P=b-I*w,k=M;break;case"right":C=E=n.coordinate,A=s+ +v*c,b=A+I*F,P=b+I*w,k=M;break;default:b=A=n.coordinate,E=o+ +v*u,C=E+I*F,k=C+I*w,P=M;break}return{line:{x1:b,y1:C,x2:A,y2:E},tick:{x:P,y:k}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,c=n.height,u=n.orientation,h=n.mirror,g=n.axisLine,v=xi(xi(xi({},Bt(this.props,!1)),Bt(g,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var w=+(u==="top"&&!h||u==="bottom"&&h);v=xi(xi({},v),{},{x1:i,y1:s+w*c,x2:i+o,y2:s+w*c})}else{var b=+(u==="left"&&!h||u==="right"&&h);v=xi(xi({},v),{},{x1:i+b*o,y1:s,x2:i+b*o,y2:s+c})}return ie.createElement("line",Af({},v,{className:hr("recharts-cartesian-axis-line",la(g,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,c=this.props,u=c.tickLine,h=c.stroke,g=c.tick,v=c.tickFormatter,w=c.unit,b=ak(xi(xi({},this.props),{},{ticks:n}),i,s),A=this.getTickTextAnchor(),C=this.getTickVerticalAnchor(),E=Bt(this.props,!1),P=Bt(g,!1),k=xi(xi({},E),{},{fill:"none"},Bt(u,!1)),I=b.map(function(F,M){var D=o.getTickLineCoord(F),R=D.line,$=D.tick,z=xi(xi(xi(xi({textAnchor:A,verticalAnchor:C},E),{},{stroke:"none",fill:h},P),$),{},{index:M,payload:F,visibleTicksCount:b.length,tickFormatter:v});return ie.createElement(Ir,Af({className:"recharts-cartesian-axis-tick",key:"tick-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},dd(o.props,F,M)),u&&ie.createElement("line",Af({},k,R,{className:hr("recharts-cartesian-axis-tick-line",la(u,"className"))})),g&&e.renderTickItem(g,z,"".concat(Zt(v)?v(F.value,M):F.value).concat(w||"")))});return ie.createElement("g",{className:"recharts-cartesian-axis-ticks"},I)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,c=i.height,u=i.ticksGenerator,h=i.className,g=i.hide;if(g)return null;var v=this.props,w=v.ticks,b=qE(v,QEe),A=w;return Zt(u)&&(A=w&&w.length>0?u(this.props):u(b)),o<=0||c<=0||!A||!A.length?null:ie.createElement(Ir,{className:hr("recharts-cartesian-axis",h),ref:function(E){n.layerReference=E}},s&&this.renderAxisLine(),this.renderTicks(A,this.state.fontSize,this.state.letterSpacing),Ii.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o,c=hr(i.className,"recharts-cartesian-axis-tick-value");return ie.isValidElement(n)?o=ie.cloneElement(n,xi(xi({},i),{},{className:c})):Zt(n)?o=n(xi(xi({},i),{},{className:c})):o=ie.createElement(fd,Af({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])})(N.Component);ok(Wh,"displayName","CartesianAxis");ok(Wh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var oAe=["x1","y1","x2","y2","key"],lAe=["offset"];function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function XL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function as(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XL(Object(r),!0).forEach(function(n){cAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cAe(t,e,r){return e=uAe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uAe(t){var e=dAe(t,"string");return gd(e)=="symbol"?e:e+""}function dAe(t,e){if(gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zu(){return zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zu.apply(this,arguments)}function ZL(t,e){if(t==null)return{};var r=fAe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var hAe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,s=e.y,o=e.width,c=e.height,u=e.ry;return ie.createElement("rect",{x:i,y:s,ry:u,width:o,height:c,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function BH(t,e){var r;if(ie.isValidElement(t))r=ie.cloneElement(t,e);else if(Zt(t))r=t(e);else{var n=e.x1,i=e.y1,s=e.x2,o=e.y2,c=e.key,u=ZL(e,oAe),h=Bt(u,!1);h.offset;var g=ZL(h,lAe);r=ie.createElement("line",zu({},g,{x1:n,y1:i,x2:s,y2:o,fill:"none",key:c}))}return r}function mAe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(c,u){var h=as(as({},t),{},{x1:e,y1:c,x2:e+r,y2:c,key:"line-".concat(u),index:u});return BH(i,h)});return ie.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function pAe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(c,u){var h=as(as({},t),{},{x1:c,y1:e,x2:c,y2:e+r,key:"line-".concat(u),index:u});return BH(i,h)});return ie.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function gAe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,s=t.width,o=t.height,c=t.horizontalPoints,u=t.horizontal,h=u===void 0?!0:u;if(!h||!e||!e.length)return null;var g=c.map(function(w){return Math.round(w+i-i)}).sort(function(w,b){return w-b});i!==g[0]&&g.unshift(0);var v=g.map(function(w,b){var A=!g[b+1],C=A?i+o-w:g[b+1]-w;if(C<=0)return null;var E=b%e.length;return ie.createElement("rect",{key:"react-".concat(b),y:w,x:n,height:C,width:s,stroke:"none",fill:e[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ie.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},v)}function vAe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,c=t.width,u=t.height,h=t.verticalPoints;if(!r||!n||!n.length)return null;var g=h.map(function(w){return Math.round(w+s-s)}).sort(function(w,b){return w-b});s!==g[0]&&g.unshift(0);var v=g.map(function(w,b){var A=!g[b+1],C=A?s+c-w:g[b+1]-w;if(C<=0)return null;var E=b%n.length;return ie.createElement("rect",{key:"react-".concat(b),x:w,y:o,width:C,height:u,stroke:"none",fill:n[E],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ie.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},v)}var yAe=function(e,r){var n=e.xAxis,i=e.width,s=e.height,o=e.offset;return FW(ak(as(as(as({},Wh.defaultProps),n),{},{ticks:vl(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},xAe=function(e,r){var n=e.yAxis,i=e.width,s=e.height,o=e.offset;return FW(ak(as(as(as({},Wh.defaultProps),n),{},{ticks:vl(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},pf={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ey(t){var e,r,n,i,s,o,c=rk(),u=nk(),h=aEe(),g=as(as({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:pf.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:pf.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:pf.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:pf.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:pf.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:pf.verticalFill,x:st(t.x)?t.x:h.left,y:st(t.y)?t.y:h.top,width:st(t.width)?t.width:h.width,height:st(t.height)?t.height:h.height}),v=g.x,w=g.y,b=g.width,A=g.height,C=g.syncWithTicks,E=g.horizontalValues,P=g.verticalValues,k=nEe(),I=iEe();if(!st(b)||b<=0||!st(A)||A<=0||!st(v)||v!==+v||!st(w)||w!==+w)return null;var F=g.verticalCoordinatesGenerator||yAe,M=g.horizontalCoordinatesGenerator||xAe,D=g.horizontalPoints,R=g.verticalPoints;if((!D||!D.length)&&Zt(M)){var $=E&&E.length,z=M({yAxis:I?as(as({},I),{},{ticks:$?E:I.ticks}):void 0,width:c,height:u,offset:h},$?!0:C);oo(Array.isArray(z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(gd(z),"]")),Array.isArray(z)&&(D=z)}if((!R||!R.length)&&Zt(F)){var G=P&&P.length,W=F({xAxis:k?as(as({},k),{},{ticks:G?P:k.ticks}):void 0,width:c,height:u,offset:h},G?!0:C);oo(Array.isArray(W),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(gd(W),"]")),Array.isArray(W)&&(R=W)}return ie.createElement("g",{className:"recharts-cartesian-grid"},ie.createElement(hAe,{fill:g.fill,fillOpacity:g.fillOpacity,x:g.x,y:g.y,width:g.width,height:g.height,ry:g.ry}),ie.createElement(mAe,zu({},g,{offset:h,horizontalPoints:D,xAxis:k,yAxis:I})),ie.createElement(pAe,zu({},g,{offset:h,verticalPoints:R,xAxis:k,yAxis:I})),ie.createElement(gAe,zu({},g,{horizontalPoints:D})),ie.createElement(vAe,zu({},g,{verticalPoints:R})))}ey.displayName="CartesianGrid";var wAe=["type","layout","connectNulls","ref"],bAe=["key"];function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function QL(t,e){if(t==null)return{};var r=_Ae(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _Ae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mp(){return mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mp.apply(this,arguments)}function JL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ys(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JL(Object(r),!0).forEach(function(n){to(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gf(t){return AAe(t)||EAe(t)||CAe(t)||SAe()}function SAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CAe(t,e){if(t){if(typeof t=="string")return sN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sN(t,e)}}function EAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AAe(t){if(Array.isArray(t))return sN(t)}function sN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UH(n.key),n)}}function NAe(t,e,r){return e&&eB(t.prototype,e),r&&eB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function OAe(t,e,r){return e=T1(e),TAe(t,FH()?Reflect.construct(e,r||[],T1(t).constructor):e.apply(t,r))}function TAe(t,e){if(e&&(yh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kAe(t)}function kAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FH=function(){return!!t})()}function T1(t){return T1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},T1(t)}function PAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aN(t,e)}function aN(t,e){return aN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aN(t,e)}function to(t,e,r){return e=UH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UH(t){var e=IAe(t,"string");return yh(e)=="symbol"?e:e+""}function IAe(t,e){if(yh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xh=(function(t){function e(){var r;jAe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=OAe(this,e,[].concat(i)),to(r,"state",{isAnimationFinished:!0,totalLength:0}),to(r,"generateSimpleStrokeDasharray",function(o,c){return"".concat(c,"px ").concat(o-c,"px")}),to(r,"getStrokeDasharray",function(o,c,u){var h=u.reduce(function(P,k){return P+k});if(!h)return r.generateSimpleStrokeDasharray(c,o);for(var g=Math.floor(o/h),v=o%h,w=c-o,b=[],A=0,C=0;A<u.length;C+=u[A],++A)if(C+u[A]>v){b=[].concat(gf(u.slice(0,A)),[v-C]);break}var E=b.length%2===0?[0,w]:[w];return[].concat(gf(e.repeat(u,g)),gf(b),E).map(function(P){return"".concat(P,"px")}).join(", ")}),to(r,"id",Ed("recharts-line-")),to(r,"pathRef",function(o){r.mainCurve=o}),to(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),to(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return PAe(e,t),NAe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,c=s.xAxis,u=s.yAxis,h=s.layout,g=s.children,v=ca(g,Kg);if(!v)return null;var w=function(C,E){return{x:C.x,y:C.y,value:C.value,errorVal:ni(C.payload,E)}},b={clipPath:n?"url(#clipPath-".concat(i,")"):null};return ie.createElement(Ir,b,v.map(function(A){return ie.cloneElement(A,{key:"bar-".concat(A.props.dataKey),data:o,xAxis:c,yAxis:u,layout:h,dataPointFormatter:w})}))}},{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var c=this.props,u=c.dot,h=c.points,g=c.dataKey,v=Bt(this.props,!1),w=Bt(u,!0),b=h.map(function(C,E){var P=Ys(Ys(Ys({key:"dot-".concat(E),r:3},v),w),{},{index:E,cx:C.x,cy:C.y,value:C.value,dataKey:g,payload:C.payload,points:h});return e.renderDotItem(u,P)}),A={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return ie.createElement(Ir,mp({className:"recharts-line-dots",key:"dots"},A),b)}},{key:"renderCurveStatically",value:function(n,i,s,o){var c=this.props,u=c.type,h=c.layout,g=c.connectNulls;c.ref;var v=QL(c,wAe),w=Ys(Ys(Ys({},Bt(v,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:u,layout:h,connectNulls:g});return ie.createElement(Zu,mp({},w,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,o=this.props,c=o.points,u=o.strokeDasharray,h=o.isAnimationActive,g=o.animationBegin,v=o.animationDuration,w=o.animationEasing,b=o.animationId,A=o.animateNewValues,C=o.width,E=o.height,P=this.state,k=P.prevPoints,I=P.totalLength;return ie.createElement(mo,{begin:g,duration:v,isActive:h,easing:w,from:{t:0},to:{t:1},key:"line-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(F){var M=F.t;if(k){var D=k.length/c.length,R=c.map(function(V,K){var q=Math.floor(K*D);if(k[q]){var Y=k[q],J=Si(Y.x,V.x),ne=Si(Y.y,V.y);return Ys(Ys({},V),{},{x:J(M),y:ne(M)})}if(A){var te=Si(C*2,V.x),Q=Si(E/2,V.y);return Ys(Ys({},V),{},{x:te(M),y:Q(M)})}return Ys(Ys({},V),{},{x:V.x,y:V.y})});return s.renderCurveStatically(R,n,i)}var $=Si(0,I),z=$(M),G;if(u){var W="".concat(u).split(/[,\s]+/gim).map(function(V){return parseFloat(V)});G=s.getStrokeDasharray(z,I,W)}else G=s.generateSimpleStrokeDasharray(I,z);return s.renderCurveStatically(c,n,i,{strokeDasharray:G})})}},{key:"renderCurve",value:function(n,i){var s=this.props,o=s.points,c=s.isAnimationActive,u=this.state,h=u.prevPoints,g=u.totalLength;return c&&o&&o.length&&(!h&&g>0||!hd(h,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,c=i.points,u=i.className,h=i.xAxis,g=i.yAxis,v=i.top,w=i.left,b=i.width,A=i.height,C=i.isAnimationActive,E=i.id;if(s||!c||!c.length)return null;var P=this.state.isAnimationFinished,k=c.length===1,I=hr("recharts-line",u),F=h&&h.allowDataOverflow,M=g&&g.allowDataOverflow,D=F||M,R=ur(E)?this.id:E,$=(n=Bt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},z=$.r,G=z===void 0?3:z,W=$.strokeWidth,V=W===void 0?2:W,K=$q(o)?o:{},q=K.clipDot,Y=q===void 0?!0:q,J=G*2+V;return ie.createElement(Ir,{className:I},F||M?ie.createElement("defs",null,ie.createElement("clipPath",{id:"clipPath-".concat(R)},ie.createElement("rect",{x:F?w:w-b/2,y:M?v:v-A/2,width:F?b:b*2,height:M?A:A*2})),!Y&&ie.createElement("clipPath",{id:"clipPath-dots-".concat(R)},ie.createElement("rect",{x:w-J/2,y:v-J/2,width:b+J,height:A+J}))):null,!k&&this.renderCurve(D,R),this.renderErrorBar(D,R),(k||o)&&this.renderDots(D,Y,R),(!C||P)&&Ro.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(gf(n),[0]):n,o=[],c=0;c<i;++c)o=[].concat(gf(o),gf(s));return o}},{key:"renderDotItem",value:function(n,i){var s;if(ie.isValidElement(n))s=ie.cloneElement(n,i);else if(Zt(n))s=n(i);else{var o=i.key,c=QL(i,bAe),u=hr("recharts-line-dot",typeof n!="boolean"?n.className:"");s=ie.createElement(Yg,mp({key:o},c,{className:u}))}return s}}])})(N.PureComponent);to(xh,"displayName","Line");to(xh,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Xc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});to(xh,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,c=t.bandSize,u=t.displayedData,h=t.offset,g=e.layout,v=u.map(function(w,b){var A=ni(w,o);return g==="horizontal"?{x:o1({axis:r,ticks:i,bandSize:c,entry:w,index:b}),y:ur(A)?null:n.scale(A),value:A,payload:w}:{x:ur(A)?null:r.scale(A),y:o1({axis:n,ticks:s,bandSize:c,entry:w,index:b}),value:A,payload:w}});return Ys({points:v,layout:g},h)});var RAe=["layout","type","stroke","connectNulls","isRange","ref"],MAe=["key"],$H;function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function VH(t,e){if(t==null)return{};var r=DAe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function DAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Wu(){return Wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wu.apply(this,arguments)}function tB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tB(Object(r),!0).forEach(function(n){To(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zH(n.key),n)}}function BAe(t,e,r){return e&&rB(t.prototype,e),r&&rB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function FAe(t,e,r){return e=k1(e),UAe(t,qH()?Reflect.construct(e,r||[],k1(t).constructor):e.apply(t,r))}function UAe(t,e){if(e&&(wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ae(t)}function $Ae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qH=function(){return!!t})()}function k1(t){return k1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},k1(t)}function VAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oN(t,e)}function oN(t,e){return oN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oN(t,e)}function To(t,e,r){return e=zH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zH(t){var e=qAe(t,"string");return wh(e)=="symbol"?e:e+""}function qAe(t,e){if(wh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Il=(function(t){function e(){var r;LAe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=FAe(this,e,[].concat(i)),To(r,"state",{isAnimationFinished:!0}),To(r,"id",Ed("recharts-area-")),To(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Zt(o)&&o()}),To(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Zt(o)&&o()}),r}return VAe(e,t),BAe(e,[{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive,c=this.state.isAnimationFinished;if(o&&!c)return null;var u=this.props,h=u.dot,g=u.points,v=u.dataKey,w=Bt(this.props,!1),b=Bt(h,!0),A=g.map(function(E,P){var k=gc(gc(gc({key:"dot-".concat(P),r:3},w),b),{},{index:P,cx:E.x,cy:E.y,dataKey:v,value:E.value,payload:E.payload,points:g});return e.renderDotItem(h,k)}),C={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return ie.createElement(Ir,Wu({className:"recharts-area-dots"},C),A)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,s=i.baseLine,o=i.points,c=i.strokeWidth,u=o[0].x,h=o[o.length-1].x,g=n*Math.abs(u-h),v=Ec(o.map(function(w){return w.y||0}));return st(s)&&typeof s=="number"?v=Math.max(s,v):s&&Array.isArray(s)&&s.length&&(v=Math.max(Ec(s.map(function(w){return w.y||0})),v)),st(v)?ie.createElement("rect",{x:u<h?u:u-g,y:0,width:g,height:Math.floor(v+(c?parseInt("".concat(c),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,s=i.baseLine,o=i.points,c=i.strokeWidth,u=o[0].y,h=o[o.length-1].y,g=n*Math.abs(u-h),v=Ec(o.map(function(w){return w.x||0}));return st(s)&&typeof s=="number"?v=Math.max(s,v):s&&Array.isArray(s)&&s.length&&(v=Math.max(Ec(s.map(function(w){return w.x||0})),v)),st(v)?ie.createElement("rect",{x:0,y:u<h?u:u-g,width:v+(c?parseInt("".concat(c),10):1),height:Math.floor(g)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,s,o){var c=this.props,u=c.layout,h=c.type,g=c.stroke,v=c.connectNulls,w=c.isRange;c.ref;var b=VH(c,RAe);return ie.createElement(Ir,{clipPath:s?"url(#clipPath-".concat(o,")"):null},ie.createElement(Zu,Wu({},Bt(b,!0),{points:n,connectNulls:v,type:h,baseLine:i,layout:u,stroke:"none",className:"recharts-area-area"})),g!=="none"&&ie.createElement(Zu,Wu({},Bt(this.props,!1),{className:"recharts-area-curve",layout:u,type:h,connectNulls:v,fill:"none",points:n})),g!=="none"&&w&&ie.createElement(Zu,Wu({},Bt(this.props,!1),{className:"recharts-area-curve",layout:u,type:h,connectNulls:v,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var s=this,o=this.props,c=o.points,u=o.baseLine,h=o.isAnimationActive,g=o.animationBegin,v=o.animationDuration,w=o.animationEasing,b=o.animationId,A=this.state,C=A.prevPoints,E=A.prevBaseLine;return ie.createElement(mo,{begin:g,duration:v,isActive:h,easing:w,from:{t:0},to:{t:1},key:"area-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var k=P.t;if(C){var I=C.length/c.length,F=c.map(function($,z){var G=Math.floor(z*I);if(C[G]){var W=C[G],V=Si(W.x,$.x),K=Si(W.y,$.y);return gc(gc({},$),{},{x:V(k),y:K(k)})}return $}),M;if(st(u)&&typeof u=="number"){var D=Si(E,u);M=D(k)}else if(ur(u)||Uh(u)){var R=Si(E,0);M=R(k)}else M=u.map(function($,z){var G=Math.floor(z*I);if(E[G]){var W=E[G],V=Si(W.x,$.x),K=Si(W.y,$.y);return gc(gc({},$),{},{x:V(k),y:K(k)})}return $});return s.renderAreaStatically(F,M,n,i)}return ie.createElement(Ir,null,ie.createElement("defs",null,ie.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(k))),ie.createElement(Ir,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(c,u,n,i)))})}},{key:"renderArea",value:function(n,i){var s=this.props,o=s.points,c=s.baseLine,u=s.isAnimationActive,h=this.state,g=h.prevPoints,v=h.prevBaseLine,w=h.totalLength;return u&&o&&o.length&&(!g&&w>0||!hd(g,o)||!hd(v,c))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,c,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,c=i.points,u=i.className,h=i.top,g=i.left,v=i.xAxis,w=i.yAxis,b=i.width,A=i.height,C=i.isAnimationActive,E=i.id;if(s||!c||!c.length)return null;var P=this.state.isAnimationFinished,k=c.length===1,I=hr("recharts-area",u),F=v&&v.allowDataOverflow,M=w&&w.allowDataOverflow,D=F||M,R=ur(E)?this.id:E,$=(n=Bt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},z=$.r,G=z===void 0?3:z,W=$.strokeWidth,V=W===void 0?2:W,K=$q(o)?o:{},q=K.clipDot,Y=q===void 0?!0:q,J=G*2+V;return ie.createElement(Ir,{className:I},F||M?ie.createElement("defs",null,ie.createElement("clipPath",{id:"clipPath-".concat(R)},ie.createElement("rect",{x:F?g:g-b/2,y:M?h:h-A/2,width:F?b:b*2,height:M?A:A*2})),!Y&&ie.createElement("clipPath",{id:"clipPath-dots-".concat(R)},ie.createElement("rect",{x:g-J/2,y:h-J/2,width:b+J,height:A+J}))):null,k?null:this.renderArea(D,R),(o||k)&&this.renderDots(D,Y,R),(!C||P)&&Ro.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(N.PureComponent);$H=Il;To(Il,"displayName","Area");To(Il,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Xc.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});To(Il,"getBaseValue",function(t,e,r,n){var i=t.layout,s=t.baseValue,o=e.props.baseValue,c=o??s;if(st(c)&&typeof c=="number")return c;var u=i==="horizontal"?n:r,h=u.scale.domain();if(u.type==="number"){var g=Math.max(h[0],h[1]),v=Math.min(h[0],h[1]);return c==="dataMin"?v:c==="dataMax"||g<0?g:Math.max(Math.min(h[0],h[1]),0)}return c==="dataMin"?h[0]:c==="dataMax"?h[1]:h[0]});To(Il,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,s=t.xAxisTicks,o=t.yAxisTicks,c=t.bandSize,u=t.dataKey,h=t.stackedData,g=t.dataStartIndex,v=t.displayedData,w=t.offset,b=e.layout,A=h&&h.length,C=$H.getBaseValue(e,r,n,i),E=b==="horizontal",P=!1,k=v.map(function(F,M){var D;A?D=h[g+M]:(D=ni(F,u),Array.isArray(D)?P=!0:D=[C,D]);var R=D[1]==null||A&&ni(F,u)==null;return E?{x:o1({axis:n,ticks:s,bandSize:c,entry:F,index:M}),y:R?null:i.scale(D[1]),value:D,payload:F}:{x:R?null:n.scale(D[1]),y:o1({axis:i,ticks:o,bandSize:c,entry:F,index:M}),value:D,payload:F}}),I;return A||P?I=k.map(function(F){var M=Array.isArray(F.value)?F.value[0]:null;return E?{x:F.x,y:M!=null&&F.y!=null?i.scale(M):null}:{x:M!=null?n.scale(M):null,y:F.y}}):I=E?i.scale(C):n.scale(C),gc({points:k,baseLine:I,layout:b,isRange:P},w)});To(Il,"renderDotItem",function(t,e){var r;if(ie.isValidElement(t))r=ie.cloneElement(t,e);else if(Zt(t))r=t(e);else{var n=hr("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=VH(e,MAe);r=ie.createElement(Yg,Wu({},s,{key:i,className:n}))}return r});function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function zAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GH(n.key),n)}}function HAe(t,e,r){return e&&WAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GAe(t,e,r){return e=P1(e),KAe(t,WH()?Reflect.construct(e,r||[],P1(t).constructor):e.apply(t,r))}function KAe(t,e){if(e&&(bh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YAe(t)}function YAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WH=function(){return!!t})()}function P1(t){return P1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},P1(t)}function XAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lN(t,e)}function lN(t,e){return lN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lN(t,e)}function HH(t,e,r){return e=GH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GH(t){var e=ZAe(t,"string");return bh(e)=="symbol"?e:e+""}function ZAe(t,e){if(bh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function cN(){return cN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cN.apply(this,arguments)}function QAe(t){var e=t.xAxisId,r=rk(),n=nk(),i=jH(e);return i==null?null:N.createElement(Wh,cN({},i,{className:hr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return vl(o,!0)}}))}var Tc=(function(t){function e(){return zAe(this,e),GAe(this,e,arguments)}return XAe(e,t),HAe(e,[{key:"render",value:function(){return N.createElement(QAe,this.props)}}])})(N.Component);HH(Tc,"displayName","XAxis");HH(Tc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}function JAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eje(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XH(n.key),n)}}function tje(t,e,r){return e&&eje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rje(t,e,r){return e=I1(e),nje(t,KH()?Reflect.construct(e,r||[],I1(t).constructor):e.apply(t,r))}function nje(t,e){if(e&&(_h(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ije(t)}function ije(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KH=function(){return!!t})()}function I1(t){return I1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I1(t)}function sje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uN(t,e)}function uN(t,e){return uN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uN(t,e)}function YH(t,e,r){return e=XH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XH(t){var e=aje(t,"string");return _h(e)=="symbol"?e:e+""}function aje(t,e){if(_h(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function dN(){return dN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dN.apply(this,arguments)}var oje=function(e){var r=e.yAxisId,n=rk(),i=nk(),s=NH(r);return s==null?null:N.createElement(Wh,dN({},s,{className:hr("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(c){return vl(c,!0)}}))},kc=(function(t){function e(){return JAe(this,e),rje(this,e,arguments)}return sje(e,t),tje(e,[{key:"render",value:function(){return N.createElement(oje,this.props)}}])})(N.Component);YH(kc,"displayName","YAxis");YH(kc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function nB(t){return dje(t)||uje(t)||cje(t)||lje()}function lje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cje(t,e){if(t){if(typeof t=="string")return fN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fN(t,e)}}function uje(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dje(t){if(Array.isArray(t))return fN(t)}function fN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var hN=function(e,r,n,i,s){var o=ca(e,sk),c=ca(e,aw),u=[].concat(nB(o),nB(c)),h=ca(e,lw),g="".concat(i,"Id"),v=i[0],w=r;if(u.length&&(w=u.reduce(function(C,E){if(E.props[g]===n&&Mo(E.props,"extendDomain")&&st(E.props[v])){var P=E.props[v];return[Math.min(C[0],P),Math.max(C[1],P)]}return C},w)),h.length){var b="".concat(v,"1"),A="".concat(v,"2");w=h.reduce(function(C,E){if(E.props[g]===n&&Mo(E.props,"extendDomain")&&st(E.props[b])&&st(E.props[A])){var P=E.props[b],k=E.props[A];return[Math.min(C[0],P,k),Math.max(C[1],P,k)]}return C},w)}return s&&s.length&&(w=s.reduce(function(C,E){return st(E)?[Math.min(C[0],E),Math.max(C[1],E)]:C},w)),w},zE={exports:{}},iB;function fje(){return iB||(iB=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,h,g){this.fn=u,this.context=h,this.once=g||!1}function s(u,h,g,v,w){if(typeof g!="function")throw new TypeError("The listener must be a function");var b=new i(g,v||u,w),A=r?r+h:h;return u._events[A]?u._events[A].fn?u._events[A]=[u._events[A],b]:u._events[A].push(b):(u._events[A]=b,u._eventsCount++),u}function o(u,h){--u._eventsCount===0?u._events=new n:delete u._events[h]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],g,v;if(this._eventsCount===0)return h;for(v in g=this._events)e.call(g,v)&&h.push(r?v.slice(1):v);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(g)):h},c.prototype.listeners=function(h){var g=r?r+h:h,v=this._events[g];if(!v)return[];if(v.fn)return[v.fn];for(var w=0,b=v.length,A=new Array(b);w<b;w++)A[w]=v[w].fn;return A},c.prototype.listenerCount=function(h){var g=r?r+h:h,v=this._events[g];return v?v.fn?1:v.length:0},c.prototype.emit=function(h,g,v,w,b,A){var C=r?r+h:h;if(!this._events[C])return!1;var E=this._events[C],P=arguments.length,k,I;if(E.fn){switch(E.once&&this.removeListener(h,E.fn,void 0,!0),P){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,g),!0;case 3:return E.fn.call(E.context,g,v),!0;case 4:return E.fn.call(E.context,g,v,w),!0;case 5:return E.fn.call(E.context,g,v,w,b),!0;case 6:return E.fn.call(E.context,g,v,w,b,A),!0}for(I=1,k=new Array(P-1);I<P;I++)k[I-1]=arguments[I];E.fn.apply(E.context,k)}else{var F=E.length,M;for(I=0;I<F;I++)switch(E[I].once&&this.removeListener(h,E[I].fn,void 0,!0),P){case 1:E[I].fn.call(E[I].context);break;case 2:E[I].fn.call(E[I].context,g);break;case 3:E[I].fn.call(E[I].context,g,v);break;case 4:E[I].fn.call(E[I].context,g,v,w);break;default:if(!k)for(M=1,k=new Array(P-1);M<P;M++)k[M-1]=arguments[M];E[I].fn.apply(E[I].context,k)}}return!0},c.prototype.on=function(h,g,v){return s(this,h,g,v,!1)},c.prototype.once=function(h,g,v){return s(this,h,g,v,!0)},c.prototype.removeListener=function(h,g,v,w){var b=r?r+h:h;if(!this._events[b])return this;if(!g)return o(this,b),this;var A=this._events[b];if(A.fn)A.fn===g&&(!w||A.once)&&(!v||A.context===v)&&o(this,b);else{for(var C=0,E=[],P=A.length;C<P;C++)(A[C].fn!==g||w&&!A[C].once||v&&A[C].context!==v)&&E.push(A[C]);E.length?this._events[b]=E.length===1?E[0]:E:o(this,b)}return this},c.prototype.removeAllListeners=function(h){var g;return h?(g=r?r+h:h,this._events[g]&&o(this,g)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c})(zE)),zE.exports}var hje=fje();const mje=Ur(hje);var WE=new mje,HE="recharts.syncMouseEvents";function pg(t){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pg(t)}function pje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gje(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZH(n.key),n)}}function vje(t,e,r){return e&&gje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GE(t,e,r){return e=ZH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZH(t){var e=yje(t,"string");return pg(e)=="symbol"?e:e+""}function yje(t,e){if(pg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xje=(function(){function t(){pje(this,t),GE(this,"activeIndex",0),GE(this,"coordinateList",[]),GE(this,"layout","horizontal")}return vje(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,c=o===void 0?null:o,u=r.layout,h=u===void 0?null:u,g=r.offset,v=g===void 0?null:g,w=r.mouseHandlerCallback,b=w===void 0?null:w;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=c??this.container,this.layout=h??this.layout,this.offset=v??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,c=i.height,u=this.coordinateList[this.activeIndex].coordinate,h=((r=window)===null||r===void 0?void 0:r.scrollX)||0,g=((n=window)===null||n===void 0?void 0:n.scrollY)||0,v=s+u+h,w=o+this.offset.top+c/2+g;this.mouseHandlerCallback({pageX:v,pageY:w})}}}])})();function wje(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&st(n)&&st(i))return!0}return!1}function bje(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function QH(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,s=t.endAngle,o=yn(e,r,n,i),c=yn(e,r,n,s);return{points:[o,c],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function _je(t,e,r){var n,i,s,o;if(t==="horizontal")n=e.x,s=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var c=e.cx,u=e.cy,h=e.innerRadius,g=e.outerRadius,v=e.angle,w=yn(c,u,h,v),b=yn(c,u,g,v);n=w.x,i=w.y,s=b.x,o=b.y}else return QH(e);return[{x:n,y:i},{x:s,y:o}]}function gg(t){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(t)}function sB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sB(Object(r),!0).forEach(function(n){Sje(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sje(t,e,r){return e=Cje(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cje(t){var e=Eje(t,"string");return gg(e)=="symbol"?e:e+""}function Eje(t,e){if(gg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aje(t){var e,r,n=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,c=t.activePayload,u=t.offset,h=t.activeTooltipIndex,g=t.tooltipAxisBandSize,v=t.layout,w=t.chartName,b=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!b||!s||!o||w!=="ScatterChart"&&i!=="axis")return null;var A,C=Zu;if(w==="ScatterChart")A=o,C=B2e;else if(w==="BarChart")A=bje(v,o,u,g),C=ZT;else if(v==="radial"){var E=QH(o),P=E.cx,k=E.cy,I=E.radius,F=E.startAngle,M=E.endAngle;A={cx:P,cy:k,startAngle:F,endAngle:M,innerRadius:I,outerRadius:I},C=XW}else A={points:_je(v,o,u)},C=Zu;var D=Dv(Dv(Dv(Dv({stroke:"#ccc",pointerEvents:"none"},u),A),Bt(b,!1)),{},{payload:c,payloadIndex:h,className:hr("recharts-tooltip-cursor",b.className)});return N.isValidElement(b)?N.cloneElement(b,D):N.createElement(C,D)}var jje=["item"],Nje=["children","className","width","height","style","compact","title","desc"];function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function jf(){return jf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jf.apply(this,arguments)}function aB(t,e){return kje(t)||Tje(t,e)||eG(t,e)||Oje()}function Oje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tje(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],u=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function kje(t){if(Array.isArray(t))return t}function oB(t,e){if(t==null)return{};var r=Pje(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pje(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ije(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rje(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tG(n.key),n)}}function Mje(t,e,r){return e&&Rje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dje(t,e,r){return e=R1(e),Lje(t,JH()?Reflect.construct(e,r||[],R1(t).constructor):e.apply(t,r))}function Lje(t,e){if(e&&(Sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bje(t)}function Bje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JH=function(){return!!t})()}function R1(t){return R1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},R1(t)}function Fje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mN(t,e)}function mN(t,e){return mN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mN(t,e)}function Ch(t){return Vje(t)||$je(t)||eG(t)||Uje()}function Uje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eG(t,e){if(t){if(typeof t=="string")return pN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pN(t,e)}}function $je(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vje(t){if(Array.isArray(t))return pN(t)}function pN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lB(Object(r),!0).forEach(function(n){Kt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kt(t,e,r){return e=tG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tG(t){var e=qje(t,"string");return Sh(e)=="symbol"?e:e+""}function qje(t,e){if(Sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zje={xAxis:["bottom","top"],yAxis:["left","right"]},Wje={width:"100%",height:"100%"},rG={x:0,y:0};function Lv(t){return t}var Hje=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Gje=function(e,r,n,i){var s=r.find(function(g){return g&&g.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,c=i.radius;return $e($e($e({},i),yn(i.cx,i.cy,c,o)),{},{angle:o,radius:c})}var u=s.coordinate,h=i.angle;return $e($e($e({},i),yn(i.cx,i.cy,u,h)),{},{angle:h,radius:u})}return rG},cw=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(c,u){var h=u.props.data;return h&&h.length?[].concat(Ch(c),Ch(h)):c},[]);return o.length>0?o:e&&e.length&&st(i)&&st(s)?e.slice(i,s+1):[]};function nG(t){return t==="number"?[0,"auto"]:void 0}var gN=function(e,r,n,i){var s=e.graphicalItems,o=e.tooltipAxis,c=cw(r,e);return n<0||!s||!s.length||n>=c.length?null:s.reduce(function(u,h){var g,v=(g=h.props.data)!==null&&g!==void 0?g:r;v&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(v=v.slice(e.dataStartIndex,e.dataEndIndex+1));var w;if(o.dataKey&&!o.allowDuplicatedCategory){var b=v===void 0?c:v;w=Dy(b,o.dataKey,i)}else w=v&&v[n]||c[n];return w?[].concat(Ch(u),[zW(h,w)]):u},[])},cB=function(e,r,n,i){var s=i||{x:e.chartX,y:e.chartY},o=Hje(s,n),c=e.orderedTooltipTicks,u=e.tooltipAxis,h=e.tooltipTicks,g=cwe(o,c,h,u);if(g>=0&&h){var v=h[g]&&h[g].value,w=gN(e,r,g,v),b=Gje(n,c,g,s);return{activeTooltipIndex:g,activeLabel:v,activePayload:w,activeCoordinate:b}}return null},Kje=function(e,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,c=r.stackGroups,u=r.dataStartIndex,h=r.dataEndIndex,g=e.layout,v=e.children,w=e.stackOffset,b=BW(g,s);return n.reduce(function(A,C){var E,P=C.type.defaultProps!==void 0?$e($e({},C.type.defaultProps),C.props):C.props,k=P.type,I=P.dataKey,F=P.allowDataOverflow,M=P.allowDuplicatedCategory,D=P.scale,R=P.ticks,$=P.includeHidden,z=P[o];if(A[z])return A;var G=cw(e.data,{graphicalItems:i.filter(function(se){var me,xe=o in se.props?se.props[o]:(me=se.type.defaultProps)===null||me===void 0?void 0:me[o];return xe===z}),dataStartIndex:u,dataEndIndex:h}),W=G.length,V,K,q;wje(P.domain,F,k)&&(V=Oj(P.domain,null,F),b&&(k==="number"||D!=="auto")&&(q=up(G,I,"category")));var Y=nG(k);if(!V||V.length===0){var J,ne=(J=P.domain)!==null&&J!==void 0?J:Y;if(I){if(V=up(G,I,k),k==="category"&&b){var te=nme(V);M&&te?(K=V,V=w1(0,W)):M||(V=a5(ne,V,C).reduce(function(se,me){return se.indexOf(me)>=0?se:[].concat(Ch(se),[me])},[]))}else if(k==="category")M?V=V.filter(function(se){return se!==""&&!ur(se)}):V=a5(ne,V,C).reduce(function(se,me){return se.indexOf(me)>=0||me===""||ur(me)?se:[].concat(Ch(se),[me])},[]);else if(k==="number"){var Q=mwe(G,i.filter(function(se){var me,xe,Ue=o in se.props?se.props[o]:(me=se.type.defaultProps)===null||me===void 0?void 0:me[o],Pe="hide"in se.props?se.props.hide:(xe=se.type.defaultProps)===null||xe===void 0?void 0:xe.hide;return Ue===z&&($||!Pe)}),I,s,g);Q&&(V=Q)}b&&(k==="number"||D!=="auto")&&(q=up(G,I,"category"))}else b?V=w1(0,W):c&&c[z]&&c[z].hasStack&&k==="number"?V=w==="expand"?[0,1]:qW(c[z].stackGroups,u,h):V=LW(G,i.filter(function(se){var me=o in se.props?se.props[o]:se.type.defaultProps[o],xe="hide"in se.props?se.props.hide:se.type.defaultProps.hide;return me===z&&($||!xe)}),k,g,!0);if(k==="number")V=hN(v,V,z,s,R),ne&&(V=Oj(ne,V,F));else if(k==="category"&&ne){var ue=ne,ae=V.every(function(se){return ue.indexOf(se)>=0});ae&&(V=ue)}}return $e($e({},A),{},Kt({},z,$e($e({},P),{},{axisType:s,domain:V,categoricalDomain:q,duplicateDomain:K,originalDomain:(E=P.domain)!==null&&E!==void 0?E:Y,isCategorical:b,layout:g})))},{})},Yje=function(e,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,c=r.stackGroups,u=r.dataStartIndex,h=r.dataEndIndex,g=e.layout,v=e.children,w=cw(e.data,{graphicalItems:n,dataStartIndex:u,dataEndIndex:h}),b=w.length,A=BW(g,s),C=-1;return n.reduce(function(E,P){var k=P.type.defaultProps!==void 0?$e($e({},P.type.defaultProps),P.props):P.props,I=k[o],F=nG("number");if(!E[I]){C++;var M;return A?M=w1(0,b):c&&c[I]&&c[I].hasStack?(M=qW(c[I].stackGroups,u,h),M=hN(v,M,I,s)):(M=Oj(F,LW(w,n.filter(function(D){var R,$,z=o in D.props?D.props[o]:(R=D.type.defaultProps)===null||R===void 0?void 0:R[o],G="hide"in D.props?D.props.hide:($=D.type.defaultProps)===null||$===void 0?void 0:$.hide;return z===I&&!G}),"number",g),i.defaultProps.allowDataOverflow),M=hN(v,M,I,s)),$e($e({},E),{},Kt({},I,$e($e({axisType:s},i.defaultProps),{},{hide:!0,orientation:la(zje,"".concat(s,".").concat(C%2),null),domain:M,originalDomain:F,isCategorical:A,layout:g})))}return E},{})},Xje=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,c=r.stackGroups,u=r.dataStartIndex,h=r.dataEndIndex,g=e.children,v="".concat(i,"Id"),w=ca(g,s),b={};return w&&w.length?b=Kje(e,{axes:w,graphicalItems:o,axisType:i,axisIdKey:v,stackGroups:c,dataStartIndex:u,dataEndIndex:h}):o&&o.length&&(b=Yje(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:v,stackGroups:c,dataStartIndex:u,dataEndIndex:h})),b},Zje=function(e){var r=bc(e),n=vl(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:CT(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:l1(r,n)}},uB=function(e){var r=e.children,n=e.defaultShowTooltip,i=Qs(r,fh),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Qje=function(e){return!e||!e.length?!1:e.some(function(r){var n=Sl(r&&r.type);return n&&n.indexOf("Bar")>=0})},dB=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Jje=function(e,r){var n=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,c=e.yAxisMap,u=c===void 0?{}:c,h=n.width,g=n.height,v=n.children,w=n.margin||{},b=Qs(v,fh),A=Qs(v,Cl),C=Object.keys(u).reduce(function(M,D){var R=u[D],$=R.orientation;return!R.mirror&&!R.hide?$e($e({},M),{},Kt({},$,M[$]+R.width)):M},{left:w.left||0,right:w.right||0}),E=Object.keys(o).reduce(function(M,D){var R=o[D],$=R.orientation;return!R.mirror&&!R.hide?$e($e({},M),{},Kt({},$,la(M,"".concat($))+R.height)):M},{top:w.top||0,bottom:w.bottom||0}),P=$e($e({},E),C),k=P.bottom;b&&(P.bottom+=b.props.height||fh.defaultProps.height),A&&r&&(P=fwe(P,i,n,r));var I=h-P.left-P.right,F=g-P.top-P.bottom;return $e($e({brushBottom:k},P),{},{width:Math.max(I,0),height:Math.max(F,0)})},eNe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},uw=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,c=o===void 0?["axis"]:o,u=e.axisComponents,h=e.legendContent,g=e.formatAxisMap,v=e.defaultProps,w=function(P,k){var I=k.graphicalItems,F=k.stackGroups,M=k.offset,D=k.updateId,R=k.dataStartIndex,$=k.dataEndIndex,z=P.barSize,G=P.layout,W=P.barGap,V=P.barCategoryGap,K=P.maxBarSize,q=dB(G),Y=q.numericAxisName,J=q.cateAxisName,ne=Qje(I),te=[];return I.forEach(function(Q,ue){var ae=cw(P.data,{graphicalItems:[Q],dataStartIndex:R,dataEndIndex:$}),se=Q.type.defaultProps!==void 0?$e($e({},Q.type.defaultProps),Q.props):Q.props,me=se.dataKey,xe=se.maxBarSize,Ue=se["".concat(Y,"Id")],Pe=se["".concat(J,"Id")],Se={},je=u.reduce(function(he,Ie){var Qe=k["".concat(Ie.axisType,"Map")],Ke=se["".concat(Ie.axisType,"Id")];Qe&&Qe[Ke]||Ie.axisType==="zAxis"||pd();var Ye=Qe[Ke];return $e($e({},he),{},Kt(Kt({},Ie.axisType,Ye),"".concat(Ie.axisType,"Ticks"),vl(Ye)))},Se),Ee=je[J],Fe=je["".concat(J,"Ticks")],Ce=F&&F[Ue]&&F[Ue].hasStack&&Swe(Q,F[Ue].stackGroups),be=Sl(Q.type).indexOf("Bar")>=0,He=l1(Ee,Fe),Te=[],Ge=ne&&uwe({barSize:z,stackGroups:F,totalSize:eNe(je,J)});if(be){var gt,lt,Ct=ur(xe)?K:xe,dt=(gt=(lt=l1(Ee,Fe,!0))!==null&&lt!==void 0?lt:Ct)!==null&&gt!==void 0?gt:0;Te=dwe({barGap:W,barCategoryGap:V,bandSize:dt!==He?dt:He,sizeList:Ge[Pe],maxBarSize:Ct}),dt!==He&&(Te=Te.map(function(he){return $e($e({},he),{},{position:$e($e({},he.position),{},{offset:he.position.offset-dt/2})})}))}var de=Q&&Q.type&&Q.type.getComposedData;de&&te.push({props:$e($e({},de($e($e({},je),{},{displayedData:ae,props:P,dataKey:me,item:Q,bandSize:He,barPosition:Te,offset:M,stackedData:Ce,layout:G,dataStartIndex:R,dataEndIndex:$}))),{},Kt(Kt(Kt({key:Q.key||"item-".concat(ue)},Y,je[Y]),J,je[J]),"animationId",D)),childIndex:pme(Q,P.children),item:Q})}),te},b=function(P,k){var I=P.props,F=P.dataStartIndex,M=P.dataEndIndex,D=P.updateId;if(!bM({props:I}))return null;var R=I.children,$=I.layout,z=I.stackOffset,G=I.data,W=I.reverseStackOrder,V=dB($),K=V.numericAxisName,q=V.cateAxisName,Y=ca(R,n),J=bwe(G,Y,"".concat(K,"Id"),"".concat(q,"Id"),z,W),ne=u.reduce(function(se,me){var xe="".concat(me.axisType,"Map");return $e($e({},se),{},Kt({},xe,Xje(I,$e($e({},me),{},{graphicalItems:Y,stackGroups:me.axisType===K&&J,dataStartIndex:F,dataEndIndex:M}))))},{}),te=Jje($e($e({},ne),{},{props:I,graphicalItems:Y}),k?.legendBBox);Object.keys(ne).forEach(function(se){ne[se]=g(I,ne[se],te,se.replace("Map",""),r)});var Q=ne["".concat(q,"Map")],ue=Zje(Q),ae=w(I,$e($e({},ne),{},{dataStartIndex:F,dataEndIndex:M,updateId:D,graphicalItems:Y,stackGroups:J,offset:te}));return $e($e({formattedGraphicalItems:ae,graphicalItems:Y,offset:te,stackGroups:J},ue),ne)},A=(function(E){function P(k){var I,F,M;return Ije(this,P),M=Dje(this,P,[k]),Kt(M,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Kt(M,"accessibilityManager",new xje),Kt(M,"handleLegendBBoxUpdate",function(D){if(D){var R=M.state,$=R.dataStartIndex,z=R.dataEndIndex,G=R.updateId;M.setState($e({legendBBox:D},b({props:M.props,dataStartIndex:$,dataEndIndex:z,updateId:G},$e($e({},M.state),{},{legendBBox:D}))))}}),Kt(M,"handleReceiveSyncEvent",function(D,R,$){if(M.props.syncId===D){if($===M.eventEmitterSymbol&&typeof M.props.syncMethod!="function")return;M.applySyncEvent(R)}}),Kt(M,"handleBrushChange",function(D){var R=D.startIndex,$=D.endIndex;if(R!==M.state.dataStartIndex||$!==M.state.dataEndIndex){var z=M.state.updateId;M.setState(function(){return $e({dataStartIndex:R,dataEndIndex:$},b({props:M.props,dataStartIndex:R,dataEndIndex:$,updateId:z},M.state))}),M.triggerSyncEvent({dataStartIndex:R,dataEndIndex:$})}}),Kt(M,"handleMouseEnter",function(D){var R=M.getMouseInfo(D);if(R){var $=$e($e({},R),{},{isTooltipActive:!0});M.setState($),M.triggerSyncEvent($);var z=M.props.onMouseEnter;Zt(z)&&z($,D)}}),Kt(M,"triggeredAfterMouseMove",function(D){var R=M.getMouseInfo(D),$=R?$e($e({},R),{},{isTooltipActive:!0}):{isTooltipActive:!1};M.setState($),M.triggerSyncEvent($);var z=M.props.onMouseMove;Zt(z)&&z($,D)}),Kt(M,"handleItemMouseEnter",function(D){M.setState(function(){return{isTooltipActive:!0,activeItem:D,activePayload:D.tooltipPayload,activeCoordinate:D.tooltipPosition||{x:D.cx,y:D.cy}}})}),Kt(M,"handleItemMouseLeave",function(){M.setState(function(){return{isTooltipActive:!1}})}),Kt(M,"handleMouseMove",function(D){D.persist(),M.throttleTriggeredAfterMouseMove(D)}),Kt(M,"handleMouseLeave",function(D){M.throttleTriggeredAfterMouseMove.cancel();var R={isTooltipActive:!1};M.setState(R),M.triggerSyncEvent(R);var $=M.props.onMouseLeave;Zt($)&&$(R,D)}),Kt(M,"handleOuterEvent",function(D){var R=mme(D),$=la(M.props,"".concat(R));if(R&&Zt($)){var z,G;/.*touch.*/i.test(R)?G=M.getMouseInfo(D.changedTouches[0]):G=M.getMouseInfo(D),$((z=G)!==null&&z!==void 0?z:{},D)}}),Kt(M,"handleClick",function(D){var R=M.getMouseInfo(D);if(R){var $=$e($e({},R),{},{isTooltipActive:!0});M.setState($),M.triggerSyncEvent($);var z=M.props.onClick;Zt(z)&&z($,D)}}),Kt(M,"handleMouseDown",function(D){var R=M.props.onMouseDown;if(Zt(R)){var $=M.getMouseInfo(D);R($,D)}}),Kt(M,"handleMouseUp",function(D){var R=M.props.onMouseUp;if(Zt(R)){var $=M.getMouseInfo(D);R($,D)}}),Kt(M,"handleTouchMove",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&M.throttleTriggeredAfterMouseMove(D.changedTouches[0])}),Kt(M,"handleTouchStart",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&M.handleMouseDown(D.changedTouches[0])}),Kt(M,"handleTouchEnd",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&M.handleMouseUp(D.changedTouches[0])}),Kt(M,"handleDoubleClick",function(D){var R=M.props.onDoubleClick;if(Zt(R)){var $=M.getMouseInfo(D);R($,D)}}),Kt(M,"handleContextMenu",function(D){var R=M.props.onContextMenu;if(Zt(R)){var $=M.getMouseInfo(D);R($,D)}}),Kt(M,"triggerSyncEvent",function(D){M.props.syncId!==void 0&&WE.emit(HE,M.props.syncId,D,M.eventEmitterSymbol)}),Kt(M,"applySyncEvent",function(D){var R=M.props,$=R.layout,z=R.syncMethod,G=M.state.updateId,W=D.dataStartIndex,V=D.dataEndIndex;if(D.dataStartIndex!==void 0||D.dataEndIndex!==void 0)M.setState($e({dataStartIndex:W,dataEndIndex:V},b({props:M.props,dataStartIndex:W,dataEndIndex:V,updateId:G},M.state)));else if(D.activeTooltipIndex!==void 0){var K=D.chartX,q=D.chartY,Y=D.activeTooltipIndex,J=M.state,ne=J.offset,te=J.tooltipTicks;if(!ne)return;if(typeof z=="function")Y=z(te,D);else if(z==="value"){Y=-1;for(var Q=0;Q<te.length;Q++)if(te[Q].value===D.activeLabel){Y=Q;break}}var ue=$e($e({},ne),{},{x:ne.left,y:ne.top}),ae=Math.min(K,ue.x+ue.width),se=Math.min(q,ue.y+ue.height),me=te[Y]&&te[Y].value,xe=gN(M.state,M.props.data,Y),Ue=te[Y]?{x:$==="horizontal"?te[Y].coordinate:ae,y:$==="horizontal"?se:te[Y].coordinate}:rG;M.setState($e($e({},D),{},{activeLabel:me,activeCoordinate:Ue,activePayload:xe,activeTooltipIndex:Y}))}else M.setState(D)}),Kt(M,"renderCursor",function(D){var R,$=M.state,z=$.isTooltipActive,G=$.activeCoordinate,W=$.activePayload,V=$.offset,K=$.activeTooltipIndex,q=$.tooltipAxisBandSize,Y=M.getTooltipEventType(),J=(R=D.props.active)!==null&&R!==void 0?R:z,ne=M.props.layout,te=D.key||"_recharts-cursor";return ie.createElement(Aje,{key:te,activeCoordinate:G,activePayload:W,activeTooltipIndex:K,chartName:r,element:D,isActive:J,layout:ne,offset:V,tooltipAxisBandSize:q,tooltipEventType:Y})}),Kt(M,"renderPolarAxis",function(D,R,$){var z=la(D,"type.axisType"),G=la(M.state,"".concat(z,"Map")),W=D.type.defaultProps,V=W!==void 0?$e($e({},W),D.props):D.props,K=G&&G[V["".concat(z,"Id")]];return N.cloneElement(D,$e($e({},K),{},{className:hr(z,K.className),key:D.key||"".concat(R,"-").concat($),ticks:vl(K,!0)}))}),Kt(M,"renderPolarGrid",function(D){var R=D.props,$=R.radialLines,z=R.polarAngles,G=R.polarRadius,W=M.state,V=W.radiusAxisMap,K=W.angleAxisMap,q=bc(V),Y=bc(K),J=Y.cx,ne=Y.cy,te=Y.innerRadius,Q=Y.outerRadius;return N.cloneElement(D,{polarAngles:Array.isArray(z)?z:vl(Y,!0).map(function(ue){return ue.coordinate}),polarRadius:Array.isArray(G)?G:vl(q,!0).map(function(ue){return ue.coordinate}),cx:J,cy:ne,innerRadius:te,outerRadius:Q,key:D.key||"polar-grid",radialLines:$})}),Kt(M,"renderLegend",function(){var D=M.state.formattedGraphicalItems,R=M.props,$=R.children,z=R.width,G=R.height,W=M.props.margin||{},V=z-(W.left||0)-(W.right||0),K=MW({children:$,formattedGraphicalItems:D,legendWidth:V,legendContent:h});if(!K)return null;var q=K.item,Y=oB(K,jje);return N.cloneElement(q,$e($e({},Y),{},{chartWidth:z,chartHeight:G,margin:W,onBBoxUpdate:M.handleLegendBBoxUpdate}))}),Kt(M,"renderTooltip",function(){var D,R=M.props,$=R.children,z=R.accessibilityLayer,G=Qs($,ea);if(!G)return null;var W=M.state,V=W.isTooltipActive,K=W.activeCoordinate,q=W.activePayload,Y=W.activeLabel,J=W.offset,ne=(D=G.props.active)!==null&&D!==void 0?D:V;return N.cloneElement(G,{viewBox:$e($e({},J),{},{x:J.left,y:J.top}),active:ne,label:Y,payload:ne?q:[],coordinate:K,accessibilityLayer:z})}),Kt(M,"renderBrush",function(D){var R=M.props,$=R.margin,z=R.data,G=M.state,W=G.offset,V=G.dataStartIndex,K=G.dataEndIndex,q=G.updateId;return N.cloneElement(D,{key:D.key||"_recharts-brush",onChange:Pv(M.handleBrushChange,D.props.onChange),data:z,x:st(D.props.x)?D.props.x:W.left,y:st(D.props.y)?D.props.y:W.top+W.height+W.brushBottom-($.bottom||0),width:st(D.props.width)?D.props.width:W.width,startIndex:V,endIndex:K,updateId:"brush-".concat(q)})}),Kt(M,"renderReferenceElement",function(D,R,$){if(!D)return null;var z=M,G=z.clipPathId,W=M.state,V=W.xAxisMap,K=W.yAxisMap,q=W.offset,Y=D.type.defaultProps||{},J=D.props,ne=J.xAxisId,te=ne===void 0?Y.xAxisId:ne,Q=J.yAxisId,ue=Q===void 0?Y.yAxisId:Q;return N.cloneElement(D,{key:D.key||"".concat(R,"-").concat($),xAxis:V[te],yAxis:K[ue],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:G})}),Kt(M,"renderActivePoints",function(D){var R=D.item,$=D.activePoint,z=D.basePoint,G=D.childIndex,W=D.isRange,V=[],K=R.props.key,q=R.item.type.defaultProps!==void 0?$e($e({},R.item.type.defaultProps),R.item.props):R.item.props,Y=q.activeDot,J=q.dataKey,ne=$e($e({index:G,dataKey:J,cx:$.x,cy:$.y,r:4,fill:XT(R.item),strokeWidth:2,stroke:"#fff",payload:$.payload,value:$.value},Bt(Y,!1)),Ly(Y));return V.push(P.renderActiveDot(Y,ne,"".concat(K,"-activePoint-").concat(G))),z?V.push(P.renderActiveDot(Y,$e($e({},ne),{},{cx:z.x,cy:z.y}),"".concat(K,"-basePoint-").concat(G))):W&&V.push(null),V}),Kt(M,"renderGraphicChild",function(D,R,$){var z=M.filterFormatItem(D,R,$);if(!z)return null;var G=M.getTooltipEventType(),W=M.state,V=W.isTooltipActive,K=W.tooltipAxis,q=W.activeTooltipIndex,Y=W.activeLabel,J=M.props.children,ne=Qs(J,ea),te=z.props,Q=te.points,ue=te.isRange,ae=te.baseLine,se=z.item.type.defaultProps!==void 0?$e($e({},z.item.type.defaultProps),z.item.props):z.item.props,me=se.activeDot,xe=se.hide,Ue=se.activeBar,Pe=se.activeShape,Se=!!(!xe&&V&&ne&&(me||Ue||Pe)),je={};G!=="axis"&&ne&&ne.props.trigger==="click"?je={onClick:Pv(M.handleItemMouseEnter,D.props.onClick)}:G!=="axis"&&(je={onMouseLeave:Pv(M.handleItemMouseLeave,D.props.onMouseLeave),onMouseEnter:Pv(M.handleItemMouseEnter,D.props.onMouseEnter)});var Ee=N.cloneElement(D,$e($e({},z.props),je));function Fe(Ie){return typeof K.dataKey=="function"?K.dataKey(Ie.payload):null}if(Se)if(q>=0){var Ce,be;if(K.dataKey&&!K.allowDuplicatedCategory){var He=typeof K.dataKey=="function"?Fe:"payload.".concat(K.dataKey.toString());Ce=Dy(Q,He,Y),be=ue&&ae&&Dy(ae,He,Y)}else Ce=Q?.[q],be=ue&&ae&&ae[q];if(Pe||Ue){var Te=D.props.activeIndex!==void 0?D.props.activeIndex:q;return[N.cloneElement(D,$e($e($e({},z.props),je),{},{activeIndex:Te})),null,null]}if(!ur(Ce))return[Ee].concat(Ch(M.renderActivePoints({item:z,activePoint:Ce,basePoint:be,childIndex:q,isRange:ue})))}else{var Ge,gt=(Ge=M.getItemByXY(M.state.activeCoordinate))!==null&&Ge!==void 0?Ge:{graphicalItem:Ee},lt=gt.graphicalItem,Ct=lt.item,dt=Ct===void 0?D:Ct,de=lt.childIndex,he=$e($e($e({},z.props),je),{},{activeIndex:de});return[N.cloneElement(dt,he),null,null]}return ue?[Ee,null,null]:[Ee,null]}),Kt(M,"renderCustomized",function(D,R,$){return N.cloneElement(D,$e($e({key:"recharts-customized-".concat($)},M.props),M.state))}),Kt(M,"renderMap",{CartesianGrid:{handler:Lv,once:!0},ReferenceArea:{handler:M.renderReferenceElement},ReferenceLine:{handler:Lv},ReferenceDot:{handler:M.renderReferenceElement},XAxis:{handler:Lv},YAxis:{handler:Lv},Brush:{handler:M.renderBrush,once:!0},Bar:{handler:M.renderGraphicChild},Line:{handler:M.renderGraphicChild},Area:{handler:M.renderGraphicChild},Radar:{handler:M.renderGraphicChild},RadialBar:{handler:M.renderGraphicChild},Scatter:{handler:M.renderGraphicChild},Pie:{handler:M.renderGraphicChild},Funnel:{handler:M.renderGraphicChild},Tooltip:{handler:M.renderCursor,once:!0},PolarGrid:{handler:M.renderPolarGrid,once:!0},PolarAngleAxis:{handler:M.renderPolarAxis},PolarRadiusAxis:{handler:M.renderPolarAxis},Customized:{handler:M.renderCustomized}}),M.clipPathId="".concat((I=k.id)!==null&&I!==void 0?I:Ed("recharts"),"-clip"),M.throttleTriggeredAfterMouseMove=Rz(M.triggeredAfterMouseMove,(F=k.throttleDelay)!==null&&F!==void 0?F:1e3/60),M.state={},M}return Fje(P,E),Mje(P,[{key:"componentDidMount",value:function(){var I,F;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(F=this.props.margin.top)!==null&&F!==void 0?F:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var I=this.props,F=I.children,M=I.data,D=I.height,R=I.layout,$=Qs(F,ea);if($){var z=$.props.defaultIndex;if(!(typeof z!="number"||z<0||z>this.state.tooltipTicks.length-1)){var G=this.state.tooltipTicks[z]&&this.state.tooltipTicks[z].value,W=gN(this.state,M,z,G),V=this.state.tooltipTicks[z].coordinate,K=(this.state.offset.top+D)/2,q=R==="horizontal",Y=q?{x:V,y:K}:{y:V,x:K},J=this.state.formattedGraphicalItems.find(function(te){var Q=te.item;return Q.type.name==="Scatter"});J&&(Y=$e($e({},Y),J.props.points[z].tooltipPosition),W=J.props.points[z].tooltipPayload);var ne={activeTooltipIndex:z,isTooltipActive:!0,activeLabel:G,activePayload:W,activeCoordinate:Y};this.setState(ne),this.renderCursor($),this.accessibilityManager.setIndex(z)}}}},{key:"getSnapshotBeforeUpdate",value:function(I,F){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==F.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==I.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==I.margin){var M,D;this.accessibilityManager.setDetails({offset:{left:(M=this.props.margin.left)!==null&&M!==void 0?M:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0}})}return null}},{key:"componentDidUpdate",value:function(I){ZA([Qs(I.children,ea)],[Qs(this.props.children,ea)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var I=Qs(this.props.children,ea);if(I&&typeof I.props.shared=="boolean"){var F=I.props.shared?"axis":"item";return c.indexOf(F)>=0?F:s}return s}},{key:"getMouseInfo",value:function(I){if(!this.container)return null;var F=this.container,M=F.getBoundingClientRect(),D=tve(M),R={chartX:Math.round(I.pageX-D.left),chartY:Math.round(I.pageY-D.top)},$=M.width/F.offsetWidth||1,z=this.inRange(R.chartX,R.chartY,$);if(!z)return null;var G=this.state,W=G.xAxisMap,V=G.yAxisMap,K=this.getTooltipEventType(),q=cB(this.state,this.props.data,this.props.layout,z);if(K!=="axis"&&W&&V){var Y=bc(W).scale,J=bc(V).scale,ne=Y&&Y.invert?Y.invert(R.chartX):null,te=J&&J.invert?J.invert(R.chartY):null;return $e($e({},R),{},{xValue:ne,yValue:te},q)}return q?$e($e({},R),q):null}},{key:"inRange",value:function(I,F){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,D=this.props.layout,R=I/M,$=F/M;if(D==="horizontal"||D==="vertical"){var z=this.state.offset,G=R>=z.left&&R<=z.left+z.width&&$>=z.top&&$<=z.top+z.height;return G?{x:R,y:$}:null}var W=this.state,V=W.angleAxisMap,K=W.radiusAxisMap;if(V&&K){var q=bc(V);return c5({x:R,y:$},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var I=this.props.children,F=this.getTooltipEventType(),M=Qs(I,ea),D={};M&&F==="axis"&&(M.props.trigger==="click"?D={onClick:this.handleClick}:D={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var R=Ly(this.props,this.handleOuterEvent);return $e($e({},R),D)}},{key:"addListener",value:function(){WE.on(HE,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){WE.removeListener(HE,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(I,F,M){for(var D=this.state.formattedGraphicalItems,R=0,$=D.length;R<$;R++){var z=D[R];if(z.item===I||z.props.key===I.key||F===Sl(z.item.type)&&M===z.childIndex)return z}return null}},{key:"renderClipPath",value:function(){var I=this.clipPathId,F=this.state.offset,M=F.left,D=F.top,R=F.height,$=F.width;return ie.createElement("defs",null,ie.createElement("clipPath",{id:I},ie.createElement("rect",{x:M,y:D,height:R,width:$})))}},{key:"getXScales",value:function(){var I=this.state.xAxisMap;return I?Object.entries(I).reduce(function(F,M){var D=aB(M,2),R=D[0],$=D[1];return $e($e({},F),{},Kt({},R,$.scale))},{}):null}},{key:"getYScales",value:function(){var I=this.state.yAxisMap;return I?Object.entries(I).reduce(function(F,M){var D=aB(M,2),R=D[0],$=D[1];return $e($e({},F),{},Kt({},R,$.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(I){var F;return(F=this.state.xAxisMap)===null||F===void 0||(F=F[I])===null||F===void 0?void 0:F.scale}},{key:"getYScaleByAxisId",value:function(I){var F;return(F=this.state.yAxisMap)===null||F===void 0||(F=F[I])===null||F===void 0?void 0:F.scale}},{key:"getItemByXY",value:function(I){var F=this.state,M=F.formattedGraphicalItems,D=F.activeItem;if(M&&M.length)for(var R=0,$=M.length;R<$;R++){var z=M[R],G=z.props,W=z.item,V=W.type.defaultProps!==void 0?$e($e({},W.type.defaultProps),W.props):W.props,K=Sl(W.type);if(K==="Bar"){var q=(G.data||[]).find(function(te){return y2e(I,te)});if(q)return{graphicalItem:z,payload:q}}else if(K==="RadialBar"){var Y=(G.data||[]).find(function(te){return c5(I,te)});if(Y)return{graphicalItem:z,payload:Y}}else if(rw(z,D)||nw(z,D)||ug(z,D)){var J=$Se({graphicalItem:z,activeTooltipItem:D,itemData:V.data}),ne=V.activeIndex===void 0?J:V.activeIndex;return{graphicalItem:$e($e({},z),{},{childIndex:ne}),payload:ug(z,D)?V.data[J]:z.props.data[J]}}}return null}},{key:"render",value:function(){var I=this;if(!bM(this))return null;var F=this.props,M=F.children,D=F.className,R=F.width,$=F.height,z=F.style,G=F.compact,W=F.title,V=F.desc,K=oB(F,Nje),q=Bt(K,!1);if(G)return ie.createElement(FL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ie.createElement(JA,jf({},q,{width:R,height:$,title:W,desc:V}),this.renderClipPath(),SM(M,this.renderMap)));if(this.props.accessibilityLayer){var Y,J;q.tabIndex=(Y=this.props.tabIndex)!==null&&Y!==void 0?Y:0,q.role=(J=this.props.role)!==null&&J!==void 0?J:"application",q.onKeyDown=function(te){I.accessibilityManager.keyboardEvent(te)},q.onFocus=function(){I.accessibilityManager.focus()}}var ne=this.parseEventsOfWrapper();return ie.createElement(FL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ie.createElement("div",jf({className:hr("recharts-wrapper",D),style:$e({position:"relative",cursor:"default",width:R,height:$},z)},ne,{ref:function(Q){I.container=Q}}),ie.createElement(JA,jf({},q,{width:R,height:$,title:W,desc:V,style:Wje}),this.renderClipPath(),SM(M,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(N.Component);Kt(A,"displayName",r),Kt(A,"defaultProps",$e({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},v)),Kt(A,"getDerivedStateFromProps",function(E,P){var k=E.dataKey,I=E.data,F=E.children,M=E.width,D=E.height,R=E.layout,$=E.stackOffset,z=E.margin,G=P.dataStartIndex,W=P.dataEndIndex;if(P.updateId===void 0){var V=uB(E);return $e($e($e({},V),{},{updateId:0},b($e($e({props:E},V),{},{updateId:0}),P)),{},{prevDataKey:k,prevData:I,prevWidth:M,prevHeight:D,prevLayout:R,prevStackOffset:$,prevMargin:z,prevChildren:F})}if(k!==P.prevDataKey||I!==P.prevData||M!==P.prevWidth||D!==P.prevHeight||R!==P.prevLayout||$!==P.prevStackOffset||!Mf(z,P.prevMargin)){var K=uB(E),q={chartX:P.chartX,chartY:P.chartY,isTooltipActive:P.isTooltipActive},Y=$e($e({},cB(P,I,R)),{},{updateId:P.updateId+1}),J=$e($e($e({},K),q),Y);return $e($e($e({},J),b($e({props:E},J),P)),{},{prevDataKey:k,prevData:I,prevWidth:M,prevHeight:D,prevLayout:R,prevStackOffset:$,prevMargin:z,prevChildren:F})}if(!ZA(F,P.prevChildren)){var ne,te,Q,ue,ae=Qs(F,fh),se=ae&&(ne=(te=ae.props)===null||te===void 0?void 0:te.startIndex)!==null&&ne!==void 0?ne:G,me=ae&&(Q=(ue=ae.props)===null||ue===void 0?void 0:ue.endIndex)!==null&&Q!==void 0?Q:W,xe=se!==G||me!==W,Ue=!ur(I),Pe=Ue&&!xe?P.updateId:P.updateId+1;return $e($e({updateId:Pe},b($e($e({props:E},P),{},{updateId:Pe,dataStartIndex:se,dataEndIndex:me}),P)),{},{prevChildren:F,dataStartIndex:se,dataEndIndex:me})}return null}),Kt(A,"renderActiveDot",function(E,P,k){var I;return N.isValidElement(E)?I=N.cloneElement(E,P):Zt(E)?I=E(P):I=ie.createElement(Yg,P),ie.createElement(Ir,{className:"recharts-active-dot",key:k},I)});var C=N.forwardRef(function(P,k){return ie.createElement(A,jf({},P,{ref:k}))});return C.displayName=A.displayName,C},tNe=uw({chartName:"LineChart",GraphicalChild:xh,axisComponents:[{axisType:"xAxis",AxisComp:Tc},{axisType:"yAxis",AxisComp:kc}],formatAxisMap:QT}),rNe=uw({chartName:"BarChart",GraphicalChild:Od,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Tc},{axisType:"yAxis",AxisComp:kc}],formatAxisMap:QT}),nNe=uw({chartName:"PieChart",GraphicalChild:Fl,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:tw},{axisType:"radiusAxis",AxisComp:Jx}],formatAxisMap:Iwe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),iNe=uw({chartName:"AreaChart",GraphicalChild:Il,axisComponents:[{axisType:"xAxis",AxisComp:Tc},{axisType:"yAxis",AxisComp:kc}],formatAxisMap:QT});const fB=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d"],sNe=()=>{const[t,e]=N.useState(void 0),[r,n]=N.useState("30"),[i,s]=N.useState(void 0),[o,c]=N.useState(void 0),{data:u,revenueData:h,memberGrowth:g,loading:v,error:w,refresh:b}=_V(t?{dateRange:t}:void 0);N.useEffect(()=>{if(!t){const D=new Date,R=wc(D,30);s(R),c(D),e({startDate:R,endDate:D})}},[]);const A=D=>{n(D);const R=new Date;let $=new Date;switch(D){case"7":$=wc(R,7);break;case"30":$=wc(R,30);break;case"90":$=wc(R,90);break;case"month":$=Ei(R);break;case"custom":e(void 0);return;default:$=wc(R,30)}s($),c(R),e({startDate:$,endDate:R})},C=()=>{i&&o&&(e({startDate:i,endDate:o}),n("custom"))},E=N.useMemo(()=>{if(!u||!u.popular_classes||u.popular_classes.length===0)return 0;const D=u.popular_classes.reduce((R,$)=>R+$.attendance_rate,0);return Math.round(D/u.popular_classes.length*10)/10},[u]),P=N.useMemo(()=>u?.visit_trends?u.visit_trends.map(D=>({date:We(new Date(D.date),"MMM d"),visits:D.visit_count,unique:D.unique_visitors})):[],[u]),k=N.useMemo(()=>u?.popular_classes?u.popular_classes.slice(0,10).map(D=>({name:D.class_name.length>20?D.class_name.substring(0,20)+"...":D.class_name,bookings:D.total_bookings,attendance:D.attendance_rate})):[],[u]),I=N.useMemo(()=>!h||h.length===0?[]:h.map(D=>({period:We(new Date(D.period+"-01"),"MMM yyyy"),revenue:D.revenue,newMembers:D.new_members})),[h]),F=()=>{if(!u)return;const D=[];D.push("Visit Trends"),D.push("Date,Visit Count,Unique Visitors"),u.visit_trends.forEach(W=>{D.push(`${W.date},${W.visit_count},${W.unique_visitors}`)}),D.push(`
Class Popularity`),D.push("Class Name,Total Bookings,Attendance Rate"),u.popular_classes.forEach(W=>{D.push(`${W.class_name},${W.total_bookings},${W.attendance_rate}`)}),D.push(`
Revenue Data`),D.push("Period,Revenue,New Members,Renewals"),h.forEach(W=>{D.push(`${W.period},${W.revenue},${W.new_members},${W.renewals}`)});const R=D.join(`
`),$=new Blob([R],{type:"text/csv"}),z=window.URL.createObjectURL($),G=document.createElement("a");G.href=z,G.download=`analytics-${We(new Date,"yyyy-MM-dd")}.csv`,G.click(),window.URL.revokeObjectURL(z)},M=()=>{window.print()};return w?a.jsx("div",{className:"min-h-screen bg-background p-6",children:a.jsx("div",{className:"container mx-auto",children:a.jsx(qe,{className:"border-destructive",children:a.jsxs(ze,{className:"p-6",children:[a.jsxs("p",{className:"text-destructive",children:["Error loading analytics: ",w]}),a.jsxs(_e,{onClick:b,className:"mt-4",children:[a.jsx(Qu,{className:"mr-2 h-4 w-4"}),"Retry"]})]})})})}):a.jsx("div",{className:"min-h-screen bg-background p-6",children:a.jsxs("div",{className:"container mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Analytics & Reports"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(_e,{variant:"outline",onClick:b,disabled:v,size:"sm",children:[v?a.jsx(Wn,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Qu,{className:"mr-2 h-4 w-4"}),"Refresh"]}),a.jsxs(_e,{variant:"outline",onClick:F,disabled:v||!u,size:"sm",children:[a.jsx(nA,{className:"mr-2 h-4 w-4"}),"Export CSV"]}),a.jsxs(_e,{variant:"outline",onClick:M,disabled:v||!u,size:"sm",children:[a.jsx(nA,{className:"mr-2 h-4 w-4"}),"Export PDF"]})]})]}),a.jsx(qe,{className:"mb-6",children:a.jsx(ze,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium",children:"Date Range:"}),a.jsxs(Ln,{value:r,onValueChange:A,children:[a.jsx(Nn,{className:"w-[140px]",children:a.jsx(Bn,{})}),a.jsxs(On,{children:[a.jsx(Ot,{value:"7",children:"Last 7 days"}),a.jsx(Ot,{value:"30",children:"Last 30 days"}),a.jsx(Ot,{value:"90",children:"Last 90 days"}),a.jsx(Ot,{value:"month",children:"This month"}),a.jsx(Ot,{value:"custom",children:"Custom range"})]})]})]}),r==="custom"&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Rp,{children:[a.jsx(Mp,{asChild:!0,children:a.jsxs(_e,{variant:"outline",className:Re("w-[200px] justify-start text-left font-normal",!i&&"text-muted-foreground"),children:[a.jsx(Fn,{className:"mr-2 h-4 w-4"}),i?We(i,"PPP"):"Start date"]})}),a.jsx(Zf,{className:"w-auto p-0",align:"start",children:a.jsx(Yf,{mode:"single",selected:i,onSelect:s,initialFocus:!0})})]}),a.jsxs(Rp,{children:[a.jsx(Mp,{asChild:!0,children:a.jsxs(_e,{variant:"outline",className:Re("w-[200px] justify-start text-left font-normal",!o&&"text-muted-foreground"),children:[a.jsx(Fn,{className:"mr-2 h-4 w-4"}),o?We(o,"PPP"):"End date"]})}),a.jsx(Zf,{className:"w-auto p-0",align:"start",children:a.jsx(Yf,{mode:"single",selected:o,onSelect:c,initialFocus:!0})})]}),a.jsx(_e,{onClick:C,disabled:!i||!o,size:"sm",children:"Apply"})]})]})})}),v?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid lg:grid-cols-3 xl:grid-cols-5 gap-6 mb-8",children:[1,2,3,4,5].map(D=>a.jsx(qe,{children:a.jsxs(ze,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(Dr,{className:"h-4 w-24"}),a.jsx(Dr,{className:"h-5 w-5 rounded"})]}),a.jsx(Dr,{className:"h-10 w-20 mb-2"}),a.jsx(Dr,{className:"h-3 w-32"})]})},D))}),a.jsx(mhe,{count:4})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid lg:grid-cols-3 xl:grid-cols-5 gap-6 mb-8",children:[a.jsx(Ym,{title:"Total Members",value:u?.total_members?.toString()||"0",description:`${u?.active_members||0} active members`,icon:a.jsx(Rl,{className:"w-5 h-5 text-primary"}),loading:!1}),a.jsx(Ym,{title:"Member Growth",value:g?`${g.growthPercentage>=0?"+":""}${g.growthPercentage.toFixed(1)}%`:"0%",description:`${g?.growthThisMonth||0} new this month`,icon:a.jsx(Bf,{className:"w-5 h-5 text-success"}),loading:!1}),a.jsx(Ym,{title:"Class Attendance",value:`${E}%`,description:"Average rate",icon:a.jsx(Fn,{className:"w-5 h-5 text-secondary"}),loading:!1}),a.jsx(Ym,{title:"Visits Today",value:u?.total_visits_today?.toString()||"0",description:"Total check-ins today",icon:a.jsx(Bf,{className:"w-5 h-5 text-accent"}),loading:!1}),a.jsx(Ym,{title:"Rewards Claimed",value:u?.total_rewards_claimed?.toString()||"0",description:"Total rewards claimed",icon:a.jsx(U1,{className:"w-5 h-5 text-primary"}),loading:!1})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(qe,{children:[a.jsxs(yt,{children:[a.jsx(_t,{children:"Visit Trends"}),a.jsx(cr,{children:"Daily gym visits over time"})]}),a.jsx(ze,{children:P.length>0?a.jsx(jv,{width:"100%",height:300,children:a.jsxs(iNe,{data:P,children:[a.jsx(ey,{strokeDasharray:"3 3"}),a.jsx(Tc,{dataKey:"date"}),a.jsx(kc,{}),a.jsx(ea,{}),a.jsx(Cl,{}),a.jsx(Il,{type:"monotone",dataKey:"visits",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6,name:"Total Visits"}),a.jsx(Il,{type:"monotone",dataKey:"unique",stroke:"#82ca9d",fill:"#82ca9d",fillOpacity:.6,name:"Unique Visitors"})]})}):a.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"No visit data available for the selected period"})})]}),a.jsxs(qe,{children:[a.jsxs(yt,{children:[a.jsx(_t,{children:"Class Popularity"}),a.jsx(cr,{children:"Most booked classes"})]}),a.jsx(ze,{children:k.length>0?a.jsx(jv,{width:"100%",height:300,children:a.jsxs(rNe,{data:k,children:[a.jsx(ey,{strokeDasharray:"3 3"}),a.jsx(Tc,{dataKey:"name",angle:-45,textAnchor:"end",height:100}),a.jsx(kc,{}),a.jsx(ea,{}),a.jsx(Cl,{}),a.jsx(Od,{dataKey:"bookings",fill:"#8884d8",name:"Total Bookings"})]})}):a.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"No class booking data available"})})]})]}),I.length>0&&a.jsxs(qe,{className:"mb-8",children:[a.jsxs(yt,{children:[a.jsx(_t,{children:"Revenue Trends"}),a.jsx(cr,{children:"Monthly revenue breakdown"})]}),a.jsx(ze,{children:a.jsx(jv,{width:"100%",height:300,children:a.jsxs(tNe,{data:I,children:[a.jsx(ey,{strokeDasharray:"3 3"}),a.jsx(Tc,{dataKey:"period"}),a.jsx(kc,{}),a.jsx(ea,{}),a.jsx(Cl,{}),a.jsx(xh,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",strokeWidth:2,name:"Revenue"}),a.jsx(xh,{type:"monotone",dataKey:"newMembers",stroke:"#82ca9d",strokeWidth:2,name:"New Members"})]})})})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[a.jsxs(qe,{children:[a.jsxs(yt,{children:[a.jsx(_t,{children:"Membership Breakdown"}),a.jsx(cr,{children:"Current membership status"})]}),a.jsx(ze,{children:u?.membership_breakdown?a.jsx(jv,{width:"100%",height:250,children:a.jsxs(nNe,{children:[a.jsx(Fl,{data:[{name:"Active",value:u.membership_breakdown.active},{name:"Inactive",value:u.membership_breakdown.inactive},{name:"Cancelled",value:u.membership_breakdown.suspended}],cx:"50%",cy:"50%",labelLine:!1,label:({name:D,percent:R})=>`${D}: ${(R*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:[{name:"Active",value:u.membership_breakdown.active},{name:"Inactive",value:u.membership_breakdown.inactive},{name:"Cancelled",value:u.membership_breakdown.suspended}].map((D,R)=>a.jsx($x,{fill:fB[R%fB.length]},`cell-${R}`))}),a.jsx(ea,{})]})}):a.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"No membership data available"})})]}),a.jsxs(qe,{children:[a.jsxs(yt,{children:[a.jsx(_t,{children:"Top Classes by Attendance"}),a.jsx(cr,{children:"Classes with highest attendance rates"})]}),a.jsx(ze,{children:u?.popular_classes&&u.popular_classes.length>0?a.jsx("div",{className:"space-y-2",children:u.popular_classes.slice(0,5).map((D,R)=>a.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:["#",R+1]}),a.jsx("span",{className:"text-sm font-medium",children:D.class_name})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:[D.total_bookings," bookings"]}),a.jsxs("span",{className:"text-sm font-semibold",children:[D.attendance_rate,"% attendance"]})]})]},D.class_id))}):a.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"No class data available"})})]})]})]})]})})},Ym=({title:t,value:e,description:r,icon:n,loading:i})=>a.jsx(qe,{children:a.jsxs(ze,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:t}),n]}),i?a.jsx("div",{className:"h-10 w-20 bg-muted animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-3xl font-bold mb-1",children:e}),a.jsx("p",{className:"text-xs text-muted-foreground",children:r})]})]})}),Eh=N.forwardRef(({className:t,...e},r)=>a.jsx("textarea",{className:Re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));Eh.displayName="Textarea";var dw="Switch",[aNe]=ls(dw),[oNe,lNe]=aNe(dw),iG=N.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:o,disabled:c,value:u="on",onCheckedChange:h,form:g,...v}=t,[w,b]=N.useState(null),A=Nr(e,I=>b(I)),C=N.useRef(!1),E=w?g||!!w.closest("form"):!0,[P,k]=lo({prop:i,defaultProp:s??!1,onChange:h,caller:dw});return a.jsxs(oNe,{scope:r,checked:P,disabled:c,children:[a.jsx(Mt.button,{type:"button",role:"switch","aria-checked":P,"aria-required":o,"data-state":lG(P),"data-disabled":c?"":void 0,disabled:c,value:u,...v,ref:A,onClick:ft(t.onClick,I=>{k(F=>!F),E&&(C.current=I.isPropagationStopped(),C.current||I.stopPropagation())})}),E&&a.jsx(oG,{control:w,bubbles:!C.current,name:n,value:u,checked:P,required:o,disabled:c,form:g,style:{transform:"translateX(-100%)"}})]})});iG.displayName=dw;var sG="SwitchThumb",aG=N.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=lNe(sG,r);return a.jsx(Mt.span,{"data-state":lG(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});aG.displayName=sG;var cNe="SwitchBubbleInput",oG=N.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},s)=>{const o=N.useRef(null),c=Nr(o,s),u=HO(r),h=LN(e);return N.useEffect(()=>{const g=o.current;if(!g)return;const v=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(v,"checked").set;if(u!==r&&b){const A=new Event("click",{bubbles:n});b.call(g,r),g.dispatchEvent(A)}},[u,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:c,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});oG.displayName=cNe;function lG(t){return t?"checked":"unchecked"}var cG=iG,uNe=aG;const yl=N.forwardRef(({className:t,...e},r)=>a.jsx(cG,{className:Re("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:r,children:a.jsx(uNe,{className:Re("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));yl.displayName=cG.displayName;const dNe=({sessions:t,classes:e,onAddSession:r,onEditSession:n,onDeleteSession:i,selectedDate:s,onDateClick:o})=>{const[c,u]=N.useState(new Date),[h,g]=N.useState(new Date),[v,w]=N.useState(new Date),[b,A]=N.useState("weekly"),[C,E]=N.useState(!1),[P,k]=N.useState(null),[I,F]=N.useState(!1),[M,D]=N.useState(!1),[R,$]=N.useState(!1),[z,G]=N.useState(null),[W,V]=N.useState({name:"",instructor:"",startDate:new Date,startTime:"09:00",endTime:"10:00",capacity:20,class_id:""}),K=N.useMemo(()=>{const Ce=new Map;return t.forEach(be=>{const He=We(Vt(be.start_time),"yyyy-MM-dd");Ce.has(He)||Ce.set(He,[]),Ce.get(He).push(be)}),Ce},[t]),q=Ce=>{const be=We(Ce,"yyyy-MM-dd");return K.get(be)||[]},Y=Ei(c),J=Rh(c),ne=kn(Y),te=_s(J),Q=Ra({start:ne,end:te}),ue=()=>{u(FO(c))},ae=()=>{u(Hi(c,1))},se=Ce=>{b==="daily"?(w(Ce),k(Ce),E("day")):(k(Ce),E("day")),o?.(Ce)},me=()=>{g(UO(h))},xe=()=>{g(Bc(h,1))},Ue=()=>{G(null),V({name:"",instructor:"",startDate:P||new Date,startTime:"09:00",endTime:"10:00",capacity:20,class_id:"none"}),F(!0),D(!1)},Pe=Ce=>{G(Ce);const be=Vt(Ce.start_time);V({name:Ce.name,instructor:Ce.instructor||"",startDate:be,startTime:We(be,"HH:mm"),endTime:We(Vt(Ce.end_time),"HH:mm"),capacity:Ce.capacity||20,class_id:Ce.class_id||"none"}),D(!0),F(!1)},Se=Ce=>{G(Ce),$(!0),F(!1),D(!1)},je=async()=>{if(!(!W.name||!W.startDate))try{const Ce=new Date(W.startDate),[be,He]=W.startTime.split(":").map(Number);Ce.setHours(be,He,0,0);const Te=new Date(W.startDate),[Ge,gt]=W.endTime.split(":").map(Number);Te.setHours(Ge,gt,0,0);const lt={name:W.name,instructor:W.instructor||null,start_time:Ce.toISOString(),end_time:Te.toISOString(),capacity:W.capacity,class_id:W.class_id&&W.class_id!=="none"?W.class_id:null};z?await n?.(z.id,lt):await r?.(lt),F(!1),D(!1),G(null)}catch(Ce){console.error("Error saving session:",Ce)}},Ee=async()=>{try{z&&await i?.(z.id),$(!1),G(null)}catch(Ce){console.error("Error deleting session:",Ce)}},Fe=()=>a.jsxs(a.Fragment,{children:[a.jsx(Rs,{open:I||M,onOpenChange:Ce=>{Ce||(F(!1),D(!1),G(null))},children:a.jsxs(ps,{className:"max-w-md",children:[a.jsxs(gs,{children:[a.jsx(vs,{children:z?"Edit Session":"Add New Session"}),a.jsx(Ms,{children:z?"Update the session details":"Create a new class session"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx(Xt,{children:"Class Name"}),a.jsx(jt,{value:W.name,onChange:Ce=>V({...W,name:Ce.target.value}),placeholder:"Enter class name"})]}),a.jsxs("div",{children:[a.jsx(Xt,{children:"Instructor"}),a.jsx(jt,{value:W.instructor,onChange:Ce=>V({...W,instructor:Ce.target.value}),placeholder:"Enter instructor name"})]}),a.jsxs("div",{children:[a.jsx(Xt,{children:"Link to Class Template (Optional)"}),a.jsxs(Ln,{value:W.class_id||"none",onValueChange:Ce=>V({...W,class_id:Ce==="none"?"":Ce}),children:[a.jsx(Nn,{children:a.jsx(Bn,{placeholder:"Select a class"})}),a.jsxs(On,{children:[a.jsx(Ot,{value:"none",children:"None"}),e.map(Ce=>a.jsx(Ot,{value:Ce.id,children:Ce.name},Ce.id))]})]})]}),a.jsxs("div",{children:[a.jsx(Xt,{children:"Date"}),a.jsxs(Rp,{children:[a.jsx(Mp,{asChild:!0,children:a.jsxs(_e,{variant:"outline",className:Re("w-full justify-start text-left font-normal",!W.startDate&&"text-muted-foreground"),children:[a.jsx(Fn,{className:"mr-2 h-4 w-4"}),W.startDate?We(W.startDate,"PPP"):"Pick a date"]})}),a.jsx(Zf,{className:"w-auto p-0",children:a.jsx(Yf,{mode:"single",selected:W.startDate,onSelect:Ce=>Ce&&V({...W,startDate:Ce}),initialFocus:!0})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Xt,{children:"Start Time"}),a.jsx(jt,{type:"time",value:W.startTime,onChange:Ce=>V({...W,startTime:Ce.target.value})})]}),a.jsxs("div",{children:[a.jsx(Xt,{children:"End Time"}),a.jsx(jt,{type:"time",value:W.endTime,onChange:Ce=>V({...W,endTime:Ce.target.value})})]})]}),a.jsxs("div",{children:[a.jsx(Xt,{children:"Capacity"}),a.jsx(jt,{type:"number",min:"1",value:W.capacity,onChange:Ce=>V({...W,capacity:parseInt(Ce.target.value)||20})})]})]}),a.jsxs(ia,{children:[a.jsx(_e,{variant:"outline",onClick:()=>{F(!1),D(!1),G(null)},children:"Cancel"}),a.jsxs(_e,{onClick:je,children:[z?"Update":"Create"," Session"]})]})]})}),a.jsx(Rs,{open:R,onOpenChange:$,children:a.jsxs(ps,{children:[a.jsxs(gs,{children:[a.jsx(vs,{children:"Delete Session"}),a.jsx(Ms,{children:"Are you sure you want to delete this session? This action cannot be undone."})]}),z&&a.jsxs("div",{className:"py-4",children:[a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Session:"})," ",z.name]}),a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Date:"})," ",We(Vt(z.start_time),"PPP")]})]}),a.jsxs(ia,{children:[a.jsx(_e,{variant:"outline",onClick:()=>$(!1),children:"Cancel"}),a.jsx(_e,{variant:"destructive",onClick:Ee,children:"Delete"})]})]})})]});if(C==="day"&&P){const Ce=q(P);return a.jsxs(a.Fragment,{children:[a.jsx(fNe,{date:P,sessions:Ce,classes:e,onBack:()=>E(!1),onDateChange:be=>{k(be),u(Ei(be)),g(be)},onAddSession:Ue,onEditSession:Pe,onDeleteSession:Se}),Fe()]})}if(b==="daily"){const Ce=kn(v),be=_s(v),He=Ra({start:Ce,end:be});return a.jsxs(a.Fragment,{children:[a.jsxs(qe,{children:[a.jsx(yt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(_t,{className:"text-2xl font-bold",children:We(v,"EEEE, MMMM d, yyyy")}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_l,{viewMode:b,onViewModeChange:Te=>{A(Te),Te!=="daily"&&E(!1)}}),a.jsx(_e,{variant:"outline",size:"icon",onClick:()=>{const Te=new Date(v);Te.setDate(Te.getDate()-1),w(Te)},children:a.jsx(Wi,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"outline",size:"icon",onClick:()=>{const Te=new Date(v);Te.setDate(Te.getDate()+1),w(Te)},children:a.jsx(bs,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"outline",onClick:()=>{w(new Date)},children:"Today"})]})]})}),a.jsx(ze,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex gap-2",children:He.map(Te=>{const Ge=Er(Te,v),gt=Er(Te,new Date);return a.jsxs("button",{onClick:()=>w(Te),className:Re("flex-1 p-3 rounded-lg border transition-colors text-center",Ge&&"bg-primary text-primary-foreground border-primary",!Ge&&"hover:bg-accent",gt&&!Ge&&"border-primary"),children:[a.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:We(Te,"EEE")}),a.jsx("div",{className:"text-lg font-semibold",children:We(Te,"d")})]},Te.toISOString())})}),a.jsx("div",{className:"mt-6",children:a.jsxs("button",{onClick:()=>{k(v),E("day")},className:"w-full p-4 rounded-lg border hover:bg-accent transition-colors text-left",children:[a.jsx("div",{className:"text-sm font-semibold mb-2",children:"Click to view detailed day schedule"}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[q(v).length," session",q(v).length!==1?"s":""," on this day"]})]})})]})})]}),Fe()]})}if(b==="weekly"){const Ce=kn(h),be=_s(h),He=Ra({start:Ce,end:be});return a.jsxs(a.Fragment,{children:[a.jsxs(qe,{children:[a.jsx(yt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(_t,{className:"text-2xl font-bold",children:[We(Ce,"MMM d")," - ",We(be,"MMM d, yyyy")]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_l,{viewMode:b,onViewModeChange:Te=>{A(Te),Te==="daily"&&w(new Date)}}),a.jsx(_e,{variant:"outline",size:"icon",onClick:me,children:a.jsx(Wi,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"outline",size:"icon",onClick:xe,children:a.jsx(bs,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"outline",onClick:()=>{g(new Date)},children:"Today"})]})]})}),a.jsx(ze,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-7 gap-1",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(Te=>a.jsx("div",{className:"text-center text-sm font-medium text-muted-foreground py-2",children:Te},Te))}),a.jsx("div",{className:"border-t border-border"}),a.jsx("div",{className:"grid grid-cols-7 gap-1",children:He.map((Te,Ge)=>{const gt=q(Te),lt=Er(Te,new Date),Ct=P&&Er(Te,P);return a.jsxs("div",{className:Re("min-h-[200px] p-2 cursor-pointer transition-colors border rounded-lg",lt&&"bg-primary/5 border-primary",Ct&&!lt&&"bg-primary/10 border-primary/50","hover:bg-accent"),onClick:()=>se(Te),children:[a.jsx("div",{className:Re("text-sm font-semibold mb-2",lt&&"text-primary",Ct&&"text-primary"),children:We(Te,"d")}),a.jsx("div",{className:"space-y-1",children:gt.map(dt=>a.jsxs(Qt,{variant:"secondary",className:"w-full text-xs truncate",children:[We(Vt(dt.start_time),"h:mm a")," - ",dt.name]},dt.id))})]},Ge)})})]})})]}),Fe()]})}return a.jsxs(a.Fragment,{children:[a.jsxs(qe,{children:[a.jsx(yt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(_t,{className:"text-2xl font-bold",children:We(c,"MMMM yyyy")}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_l,{viewMode:b,onViewModeChange:Ce=>A(Ce)}),a.jsx(_e,{variant:"outline",size:"icon",onClick:ue,children:a.jsx(Wi,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"outline",size:"icon",onClick:ae,children:a.jsx(bs,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"outline",onClick:()=>u(new Date),children:"Today"})]})]})}),a.jsx(ze,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-7 gap-1",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(Ce=>a.jsx("div",{className:"text-center text-sm font-medium text-muted-foreground py-2",children:Ce},Ce))}),a.jsx("div",{className:"border-t border-border"}),a.jsx("div",{className:"space-y-0",children:Array.from({length:Math.ceil(Q.length/7)},(Ce,be)=>{const He=be*7,Te=Q.slice(He,He+7);return a.jsxs("div",{children:[a.jsx("div",{className:"grid grid-cols-7",children:Te.map((Ge,gt)=>{const lt=q(Ge),Ct=Mh(Ge,c),dt=Er(Ge,new Date),de=P&&Er(Ge,P);return a.jsxs("div",{className:Re("min-h-[100px] p-2 cursor-pointer transition-colors",!Ct&&"opacity-40",dt&&"bg-primary/5",de&&"bg-primary/10","hover:bg-accent"),onClick:()=>se(Ge),children:[a.jsx("div",{className:Re("text-sm font-semibold mb-1",dt&&"text-primary",de&&"text-primary"),children:We(Ge,"d")}),a.jsxs("div",{className:"space-y-1",children:[lt.slice(0,3).map(he=>a.jsx(Qt,{variant:"secondary",className:"w-full text-xs truncate",children:he.name},he.id)),lt.length>3&&a.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",lt.length-3," more"]})]})]},gt)})}),be<Math.ceil(Q.length/7)-1&&a.jsx("div",{className:"border-t border-border my-0"})]},be)})})]})})]}),Fe()]})},fNe=({date:t,sessions:e,classes:r,onBack:n,onDateChange:i,onAddSession:s,onEditSession:o,onDeleteSession:c})=>{const u=kn(t),h=Ra({start:u,end:_s(t)}),g=N.useMemo(()=>[...e].sort((C,E)=>Vt(C.start_time).getTime()-Vt(E.start_time).getTime()),[e]),v=N.useMemo(()=>{const C=new Map;return g.forEach(E=>{const P=Vt(E.start_time).getHours();C.has(P)||C.set(P,[]),C.get(P).push(E)}),C},[g]),w=Array.from({length:17},(C,E)=>E+6),b=()=>{const C=new Date(t);C.setDate(C.getDate()-1),i(C)},A=()=>{const C=new Date(t);C.setDate(C.getDate()+1),i(C)};return a.jsxs(qe,{children:[a.jsx(yt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(_e,{variant:"outline",size:"icon",onClick:n,children:a.jsx(Wi,{className:"h-4 w-4"})}),a.jsx(_t,{className:"text-2xl font-bold",children:We(t,"EEEE, MMMM d, yyyy")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_e,{variant:"outline",size:"icon",onClick:b,children:a.jsx(Wi,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"outline",size:"icon",onClick:A,children:a.jsx(bs,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"outline",onClick:()=>i(new Date),children:"Today"}),a.jsxs(_e,{onClick:s,children:[a.jsx(so,{className:"h-4 w-4 mr-2"}),"Add Session"]})]})]})}),a.jsx(ze,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex gap-2",children:h.map(C=>{const E=Er(C,t),P=Er(C,new Date);return a.jsxs("button",{onClick:()=>i(C),className:Re("flex-1 p-3 rounded-lg border transition-colors text-center",E&&"bg-primary text-primary-foreground border-primary",!E&&"hover:bg-accent",P&&!E&&"border-primary"),children:[a.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:We(C,"EEE")}),a.jsx("div",{className:"text-lg font-semibold",children:We(C,"d")})]},C.toISOString())})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Schedule"}),g.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx("p",{children:"No sessions scheduled for this day"}),a.jsxs(_e,{className:"mt-4",onClick:s,children:[a.jsx(so,{className:"h-4 w-4 mr-2"}),"Add First Session"]})]}):a.jsx("div",{className:"space-y-2",children:w.map(C=>{const E=v.get(C)||[];return E.length===0?null:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"w-16 text-sm text-muted-foreground pt-2",children:We(new Date().setHours(C,0,0,0),"h:mm a")}),a.jsx("div",{className:"flex-1 space-y-2",children:E.map(P=>{const k=Vt(P.start_time),I=Vt(P.end_time),F=(I.getTime()-k.getTime())/(1e3*60);return a.jsx("div",{className:"p-4 rounded-lg border bg-card hover:shadow-md transition-colors",children:a.jsxs("div",{className:"flex items-start justify-between",onClick:M=>M.stopPropagation(),children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h4",{className:"font-semibold",children:P.name}),P.classes?.category&&a.jsx(Qt,{variant:"outline",className:"text-xs",children:P.classes.category})]}),P.instructor&&a.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:["with ",P.instructor]}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[a.jsxs("span",{children:[We(k,"h:mm a")," - ",We(I,"h:mm a")]}),a.jsxs("span",{children:[F," min"]}),a.jsxs("span",{children:["Capacity: ",P.capacity||"N/A"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_e,{variant:"outline",size:"icon",onClick:M=>{M.stopPropagation(),o(P)},children:a.jsx(Uv,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"outline",size:"icon",onClick:M=>{M.stopPropagation(),c(P)},children:a.jsx(Hu,{className:"h-4 w-4"})})]})]})},P.id)})})]},C)})})]})]})})]})},uG=Cr().min(1,"Class name is required").max(100,"Class name must be less than 100 characters").trim(),dG=Cr().max(1e3,"Description must be less than 1000 characters").trim().optional().or(ja("")),fG=Cr().min(1,"Instructor name is required").max(100,"Instructor name must be less than 100 characters").regex(/^[a-zA-Z\s'-]+$/,"Instructor name can only contain letters, spaces, hyphens, and apostrophes").trim(),hNe=Cr().max(50,"Category must be less than 50 characters").trim().optional().or(ja("")),mNe=Cr().uuid("Invalid category ID").optional().nullable(),pNe=Cr().min(1,"Category name is required").max(100,"Category name must be less than 100 characters").trim(),gNe=fo().int("Display order must be a whole number").min(0,"Display order must be 0 or greater").default(0),vNe=fo().int("Duration must be a whole number").min(5,"Duration must be at least 5 minutes").max(480,"Duration must be less than 8 hours (480 minutes)"),hG=fo().int("Capacity must be a whole number").min(1,"Capacity must be at least 1").max(1e3,"Capacity must be less than 1000").optional().nullable(),yNe=Cr().max(200,"Schedule must be less than 200 characters").trim().optional().or(ja(""));da({name:uG,description:dG,instructor:fG,category:hNe,category_id:mNe,duration:vNe,capacity:hG,schedule:yNe,image_url:Cr().url("Image URL must be a valid URL").max(500,"Image URL must be less than 500 characters").optional().or(ja("")),is_active:Mg().optional().default(!0)});const xNe=da({name:pNe,description:dG,image_url:Cr().url("Image URL must be a valid URL").max(500,"Image URL must be less than 500 characters").optional().or(ja("")),is_active:Mg().optional().default(!0),display_order:gNe});da({class_id:Cr().uuid("Invalid class ID").optional().nullable(),name:uG,instructor:fG,start_time:cR.date({required_error:"Start time is required",invalid_type_error:"Invalid start time"}),end_time:cR.date({required_error:"End time is required",invalid_type_error:"Invalid end time"}),capacity:hG}).refine(t=>t.end_time>t.start_time,{message:"End time must be after start time",path:["end_time"]});async function KE(t,e){try{if(!t.type.startsWith("image/"))throw new Error("Please upload an image file.");if(t.size>5*1024*1024)throw new Error("Please upload an image smaller than 5MB.");const r=t.name.split(".").pop(),n=`${e}-${Date.now()}.${r}`,i=`${e}/${n}`,{error:s}=await ye.storage.from("class-images").upload(i,t,{cacheControl:"3600",upsert:!0});if(s)throw s;const{data:{publicUrl:o}}=ye.storage.from("class-images").getPublicUrl(i);return o}catch(r){throw console.error("Error uploading class image:",r),r}}async function hB(t,e){try{if(!t.type.startsWith("image/"))throw new Error("Please upload an image file.");if(t.size>5*1024*1024)throw new Error("Please upload an image smaller than 5MB.");const r=t.name.split(".").pop(),n=`${e}-${Date.now()}.${r}`,i=`${e}/${n}`,{error:s}=await ye.storage.from("category-images").upload(i,t,{cacheControl:"3600",upsert:!0});if(s)throw s;const{data:{publicUrl:o}}=ye.storage.from("category-images").getPublicUrl(i);return o}catch(r){throw console.error("Error uploading category image:",r),r}}async function YE(t,e){try{const r=t.split(`/${e}/`);if(r.length!==2){console.warn("Invalid image URL format, skipping deletion:",t);return}const n=r[1],{error:i}=await ye.storage.from(e).remove([n]);if(i){if(i.message.includes("not found")){console.warn("Image file not found, skipping deletion:",n);return}throw i}}catch(r){console.error("Error deleting image:",r)}}const wNe=da({name:Cr().min(1,"Name is required").max(100,"Name is too long"),description:Cr().optional(),instructor:Cr().min(1,"Instructor is required").max(100,"Instructor name is too long"),schedule:Cr().optional(),duration:fo().min(1,"Duration must be at least 1 minute").max(480,"Duration cannot exceed 8 hours"),capacity:fo().min(1,"Capacity must be at least 1").max(1e3,"Capacity cannot exceed 1000"),category:Cr().optional(),category_id:Cr().uuid("Invalid category ID").optional().nullable(),image_url:Cr().url("Must be a valid URL").optional().or(ja("")),is_active:Mg()}),bNe=da({startDate:FA({required_error:"Start date is required"}),startTime:Cr().regex(/^([0-1][0-9]|2[0-3]):[0-5][0-9]$/,"Invalid time format"),endTime:Cr().regex(/^([0-1][0-9]|2[0-3]):[0-5][0-9]$/,"Invalid time format"),capacity:fo().min(1,"Capacity must be at least 1").max(1e3,"Capacity cannot exceed 1000"),recurring:Mg(),recurringType:a$(["daily","weekly","monthly"]),recurringCount:fo().min(1,"Must create at least 1 session").max(52,"Cannot create more than 52 sessions")}),_Ne=()=>{Gn();const[t,e]=N.useState([]),[r,n]=N.useState([]),[i,s]=N.useState(new Map),[o,c]=N.useState([]),[u,h]=N.useState(!0),[g,v]=N.useState(!1),[w,b]=N.useState(!1),[A,C]=N.useState(!1),[E,P]=N.useState(!1),[k,I]=N.useState(!1),[F,M]=N.useState(!1),[D,R]=N.useState(null),[$,z]=N.useState(null),[G,W]=N.useState(null),[V,K]=N.useState(""),[q,Y]=N.useState("all"),[J,ne]=N.useState("all"),[te,Q]=N.useState("all"),[ue,ae]=N.useState("all"),[se,me]=N.useState("all"),[xe,Ue]=N.useState("classes"),[Pe,Se]=N.useState([]),[je,Ee]=N.useState(!1),[Fe,Ce]=N.useState(!1),[be,He]=N.useState(null),[Te,Ge]=N.useState(null),[gt,lt]=N.useState(null),[Ct,dt]=N.useState(!1),[de,he]=N.useState(null),[Ie,Qe]=N.useState(null),[Ke,Ye]=N.useState(!1),Xe=xl({resolver:wl(wNe),defaultValues:{name:"",description:"",instructor:"",schedule:"",duration:60,capacity:20,category:"",image_url:"",is_active:!0}}),vt=xl({resolver:wl(bNe),defaultValues:{startDate:new Date,startTime:"09:00",endTime:"10:00",capacity:20,recurring:!1,recurringType:"weekly",recurringCount:4}}),Ft=xl({resolver:wl(xNe),defaultValues:{name:"",description:"",image_url:"",is_active:!0,display_order:0}});N.useEffect(()=>{br(),an(),tn(),Es()},[]);const br=async()=>{try{h(!0);const{data:oe,error:Be}=await ye.from("classes").select("*").order("created_at",{ascending:!1});if(Be)throw Be;e(oe||[])}catch(oe){Et({title:"Error loading classes",description:oe.message})}finally{h(!1)}},an=async()=>{try{v(!0);const{data:oe,error:Be}=await ye.from("class_sessions").select("*, classes(name, category)").order("start_time",{ascending:!1}).limit(100);if(Be)throw Be;if(n(oe||[]),oe&&oe.length>0){const ut=oe.map(at=>at.id),{data:Dt,error:yr}=await ye.from("class_bookings").select("class_id, status").in("class_id",ut).neq("status","cancelled");if(!yr&&Dt){const at=new Map;oe.forEach(Wr=>{const Zn=Dt.filter(Xi=>Xi.class_id===Wr.id).length,Un=Wr.capacity||0;at.set(Wr.id,{session_id:Wr.id,capacity:Un,booked:Zn,available:Math.max(0,Un-Zn)})}),s(at)}}}catch(oe){Et({title:"Error loading sessions",description:oe.message})}finally{v(!1)}},tn=async()=>{try{const{data:oe,error:Be}=await ye.from("classes").select("instructor");if(Be)throw Be;const{data:ut,error:Dt}=await ye.from("class_sessions").select("instructor");if(Dt)throw Dt;const yr=new Map;oe?.forEach(Wr=>{if(Wr.instructor){const Zn=yr.get(Wr.instructor)||{class_count:0,session_count:0};yr.set(Wr.instructor,{...Zn,class_count:Zn.class_count+1})}}),ut?.forEach(Wr=>{if(Wr.instructor){const Zn=yr.get(Wr.instructor)||{class_count:0,session_count:0};yr.set(Wr.instructor,{...Zn,session_count:Zn.session_count+1})}});const at=Array.from(yr.entries()).map(([Wr,Zn])=>({name:Wr,...Zn}));c(at.sort((Wr,Zn)=>Wr.name.localeCompare(Zn.name)))}catch(oe){console.error("Error fetching instructors:",oe)}},Es=async()=>{try{Ee(!0);const{data:oe,error:Be}=await ye.from("class_categories").select("*").order("display_order",{ascending:!0}).order("name",{ascending:!0});if(Be)throw Be;Se(oe||[])}catch(oe){Et({title:"Error loading categories",description:oe.message})}finally{Ee(!1)}},_r=oe=>{const Be=oe.target.files?.[0];if(!Be)return;if(!Be.type.startsWith("image/")){Et({title:"Invalid file type",description:"Please upload an image file."});return}if(Be.size>5*1024*1024){Et({title:"File too large",description:"Please upload an image smaller than 5MB."});return}Ge(Be);const ut=new FileReader;ut.onloadend=()=>{lt(ut.result)},ut.readAsDataURL(Be)},tt=async oe=>{try{let Be=oe.image_url||"";if(Te&&be&&(dt(!0),Be=await hB(Te,be.id)),be){Te&&be.image_url&&await YE(be.image_url,"category-images");const{error:ut}=await ye.from("class_categories").update({...oe,image_url:Be||null}).eq("id",be.id);if(ut)throw ut;Dn("Category updated successfully")}else{const{data:ut,error:Dt}=await ye.from("class_categories").insert([{...oe,image_url:Te?null:Be||null}]).select().single();if(Dt)throw Dt;if(Te&&ut&&ut.id){dt(!0);try{const yr=await hB(Te,ut.id),{error:at}=await ye.from("class_categories").update({image_url:yr}).eq("id",ut.id);if(at)throw at}finally{dt(!1)}}Dn("Category created successfully")}Ce(!1),Ft.reset(),He(null),Ge(null),lt(null),await Es(),await br()}catch(Be){Et({title:"Error",description:Be.message})}finally{dt(!1)}},Gr=async oe=>{const{data:Be,error:ut}=await ye.from("classes").select("id, name").eq("category_id",oe).limit(1);if(ut){Et({title:"Error",description:ut.message});return}if(Be&&Be.length>0){Et({title:"Cannot delete category",description:`This category is used by ${Be.length} class(es). Please remove the category from all classes first.`});return}if(confirm("Are you sure you want to delete this category? This action cannot be undone."))try{const Dt=Pe.find(at=>at.id===oe);Dt?.image_url&&await YE(Dt.image_url,"category-images");const{error:yr}=await ye.from("class_categories").delete().eq("id",oe);if(yr)throw yr;Dn("Category deleted successfully"),await Es()}catch(Dt){Et({title:"Error",description:Dt.message})}},gr=oe=>{He(oe),Ft.reset({name:oe.name,description:oe.description||"",image_url:oe.image_url||"",is_active:oe.is_active,display_order:oe.display_order}),lt(oe.image_url||null),Ge(null),Ce(!0)},Lr=N.useMemo(()=>t.filter(oe=>{const Be=V===""||oe.name.toLowerCase().includes(V.toLowerCase())||oe.instructor.toLowerCase().includes(V.toLowerCase())||oe.category?.toLowerCase().includes(V.toLowerCase()),ut=q==="all"||oe.category===q,Dt=J==="all"||oe.instructor===J;return Be&&ut&&Dt}),[t,V,q,J]),Gi=N.useMemo(()=>{const oe=new Set;return t.forEach(Be=>{Be.category&&oe.add(Be.category)}),Array.from(oe).sort()},[t]),cs=N.useMemo(()=>r.filter(oe=>{const Be=te==="all"||oe.instructor===te,ut=ue==="all"||oe.classes?.name===ue,Dt=se==="all"||oe.classes?.category===se||oe.classes?.category_id===se;return Be&&ut&&Dt}),[r,te,ue,se]),fa=N.useMemo(()=>Array.from(new Set(r.map(Be=>Be.instructor).filter(Boolean))).sort(),[r]),vr=N.useMemo(()=>Array.from(new Set(r.map(Be=>Be.classes?.name).filter(Boolean))).sort(),[r]),Yn=N.useMemo(()=>Array.from(new Set(r.map(Be=>Be.classes?.category||Be.classes?.category_id).filter(Boolean))).sort(),[r]),Ki=async oe=>{try{let Be=oe.image_url||"";if(de&&D)Ye(!0),Be=await KE(de,D.id);else if(de&&!D){const ut=`temp-${Date.now()}`;Ye(!0),Be=await KE(de,ut)}if(D){de&&D.image_url&&await YE(D.image_url,"class-images");const{error:ut}=await ye.from("classes").update({...oe,image_url:Be||null}).eq("id",D.id);if(ut)throw ut;Dn("Class updated successfully")}else{const{data:ut,error:Dt}=await ye.from("classes").insert([{...oe,image_url:Be||null}]).select().single();if(Dt)throw Dt;if(de&&ut&&ut.id){const yr=await KE(de,ut.id);await ye.from("classes").update({image_url:yr}).eq("id",ut.id)}Dn("Class created successfully")}b(!1),Xe.reset(),R(null),he(null),Qe(null),await br(),await tn()}catch(Be){Et({title:"Error",description:Be.message})}finally{Ye(!1)}},Wo=async oe=>{if(confirm("Are you sure you want to delete this class? This will not delete associated sessions."))try{const{error:Be}=await ye.from("classes").delete().eq("id",oe);if(Be)throw Be;Dn("Class deleted successfully"),await br(),await tn()}catch(Be){Et({title:"Error",description:Be.message})}},kt=oe=>{R(oe),Xe.reset({name:oe.name,description:oe.description||"",instructor:oe.instructor,schedule:oe.schedule,duration:oe.duration,capacity:oe.capacity,category:oe.category||"",category_id:oe.category_id||null,image_url:oe.image_url||"",is_active:oe.is_active}),Qe(oe.image_url||null),he(null),b(!0)},kr=oe=>{W(oe);const Be=oe.duration||60,ut=new Date;ut.setHours(9,0,0);const Dt=new Date(ut);Dt.setMinutes(Dt.getMinutes()+Be),vt.reset({startDate:ut,startTime:"09:00",endTime:We(Dt,"HH:mm"),capacity:oe.capacity,recurring:!1,recurringType:"weekly",recurringCount:4}),C(!0)},ar=async oe=>{if(G)try{const Be=[];if(oe.recurring){let Dt=new Date(oe.startDate);const yr=oe.startTime.split(":"),at=oe.endTime.split(":");for(let Wr=0;Wr<oe.recurringCount;Wr++){const Zn=new Date(Dt);Zn.setHours(parseInt(yr[0]),parseInt(yr[1]),0);const Un=new Date(Dt);Un.setHours(parseInt(at[0]),parseInt(at[1]),0),Be.push({class_id:G.id,name:G.name,instructor:G.instructor,start_time:Zn.toISOString(),end_time:Un.toISOString(),capacity:oe.capacity}),oe.recurringType==="daily"?Dt=Vi(Dt,1):oe.recurringType==="weekly"?Dt=Bc(Dt,1):oe.recurringType==="monthly"&&(Dt=Hi(Dt,1))}}else{const Dt=oe.startTime.split(":"),yr=oe.endTime.split(":"),at=new Date(oe.startDate);at.setHours(parseInt(Dt[0]),parseInt(Dt[1]),0);const Wr=new Date(oe.startDate);Wr.setHours(parseInt(yr[0]),parseInt(yr[1]),0),Be.push({class_id:G.id,name:G.name,instructor:G.instructor,start_time:at.toISOString(),end_time:Wr.toISOString(),capacity:oe.capacity})}const{error:ut}=await ye.from("class_sessions").insert(Be);if(ut)throw ut;Dn(`Created ${Be.length} session(s) successfully`),C(!1),W(null),vt.reset(),await an(),await tn()}catch(Be){Et({title:"Error",description:Be.message||"Failed to create session(s)"})}},wn=async(oe,Be)=>{try{const{error:ut}=await ye.from("class_sessions").update({capacity:Be}).eq("id",oe);if(ut)throw ut;Dn("Session capacity updated successfully"),I(!1),z(null),await an()}catch(ut){Et({title:"Error",description:ut.message})}},Xn=async oe=>{try{const{error:Be}=await ye.from("class_sessions").insert([oe]);if(Be)throw Be;Dn("Session created successfully"),await an()}catch(Be){throw Et({title:"Error",description:Be.message||"Failed to create session"}),Be}},rn=async(oe,Be)=>{try{const{error:ut}=await ye.from("class_sessions").update(Be).eq("id",oe);if(ut)throw ut;Dn("Session updated successfully"),await an()}catch(ut){throw Et({title:"Error",description:ut.message||"Failed to update session"}),ut}},Yi=async oe=>{try{const{error:Be}=await ye.from("class_sessions").delete().eq("id",oe);if(Be)throw Be;Dn("Session deleted successfully"),await an()}catch(Be){throw Et({title:"Error",description:Be.message||"Failed to delete session"}),Be}};return u?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx(oa,{size:"lg",text:"Loading classes..."})}):a.jsxs("div",{className:"container mx-auto p-6 space-y-6 max-w-7xl",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Class Management"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage classes, sessions, and instructors"})]}),a.jsxs(Rs,{open:w,onOpenChange:oe=>{b(oe),oe||(Xe.reset(),R(null),he(null),Qe(null))},children:[a.jsx(Ty,{asChild:!0,children:a.jsxs(_e,{onClick:()=>{Xe.reset(),R(null)},children:[a.jsx(so,{className:"w-4 h-4 mr-2"}),"Add Class"]})}),a.jsxs(ps,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(gs,{children:[a.jsx(vs,{children:D?"Edit Class":"Add New Class"}),a.jsx(Ms,{children:D?"Update class details":"Create a new gym class"})]}),a.jsx(bl,{...Xe,children:a.jsxs("form",{onSubmit:Xe.handleSubmit(Ki),className:"space-y-4",children:[a.jsx(sr,{control:Xe.control,name:"name",render:({field:oe})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Class Name *"}),a.jsx(rr,{children:a.jsx(jt,{...oe})}),a.jsx(fr,{})]})}),a.jsx(sr,{control:Xe.control,name:"description",render:({field:oe})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Description"}),a.jsx(rr,{children:a.jsx(Eh,{...oe,rows:3})}),a.jsx(fr,{})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(sr,{control:Xe.control,name:"instructor",render:({field:oe})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Instructor *"}),a.jsx(rr,{children:a.jsx(jt,{...oe,placeholder:"Instructor name"})}),a.jsx(fr,{})]})}),a.jsx(sr,{control:Xe.control,name:"category_id",render:({field:oe})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Category"}),a.jsxs(Ln,{value:oe.value||"none",onValueChange:Be=>oe.onChange(Be==="none"?null:Be),children:[a.jsx(rr,{children:a.jsx(Nn,{children:a.jsx(Bn,{placeholder:"Select a category (optional)"})})}),a.jsxs(On,{children:[a.jsx(Ot,{value:"none",children:"None"}),Pe.filter(Be=>Be.is_active).map(Be=>a.jsx(Ot,{value:Be.id,children:Be.name},Be.id))]})]}),a.jsx(ss,{children:"Or use the legacy category field below"}),a.jsx(fr,{})]})})]}),a.jsx(sr,{control:Xe.control,name:"category",render:({field:oe})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Category (Legacy - Text Field)"}),a.jsx(rr,{children:a.jsx(jt,{...oe,placeholder:"e.g., Cardio, Strength (optional if using category dropdown above)"})}),a.jsx(fr,{})]})}),a.jsx("div",{className:"grid grid-cols-2 gap-4"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(sr,{control:Xe.control,name:"duration",render:({field:oe})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Duration (minutes) *"}),a.jsx(rr,{children:a.jsx(jt,{type:"number",...oe,onChange:Be=>oe.onChange(parseInt(Be.target.value)||0),min:"1",max:"480"})}),a.jsx(fr,{})]})}),a.jsx(sr,{control:Xe.control,name:"capacity",render:({field:oe})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Capacity *"}),a.jsx(rr,{children:a.jsx(jt,{type:"number",...oe,onChange:Be=>oe.onChange(parseInt(Be.target.value)||0),min:"1",max:"1000"})}),a.jsx(fr,{})]})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xt,{children:"Class Image"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx(jt,{type:"file",accept:"image/*",onChange:oe=>{const Be=oe.target.files?.[0];if(!Be)return;if(!Be.type.startsWith("image/")){Et({title:"Invalid file type",description:"Please upload an image file."});return}if(Be.size>5*1024*1024){Et({title:"File too large",description:"Please upload an image smaller than 5MB."});return}he(Be);const ut=new FileReader;ut.onloadend=()=>{Qe(ut.result)},ut.readAsDataURL(Be)},className:"cursor-pointer"})}),Ie&&a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:Ie,alt:"Preview",className:"w-20 h-20 object-cover rounded-md border"}),a.jsx(_e,{type:"button",variant:"ghost",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:()=>{he(null),Qe(null)},children:a.jsx(Ju,{className:"h-4 w-4"})})]})]}),D&&D.image_url&&!Ie&&a.jsx("div",{className:"relative inline-block",children:a.jsx("img",{src:D.image_url,alt:"Current",className:"w-20 h-20 object-cover rounded-md border"})}),a.jsx(sr,{control:Xe.control,name:"image_url",render:({field:oe})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Image URL (Alternative)"}),a.jsx(rr,{children:a.jsx(jt,{...oe,placeholder:"https://example.com/image.jpg (or upload above)"})}),a.jsx(ss,{children:"Upload an image file above, or paste an image URL here"}),a.jsx(fr,{})]})})]}),a.jsx(sr,{control:Xe.control,name:"is_active",render:({field:oe})=>a.jsxs(er,{className:"flex items-center space-x-2 space-y-0",children:[a.jsx(rr,{children:a.jsx(yl,{checked:oe.value,onCheckedChange:oe.onChange})}),a.jsx(tr,{children:"Active (visible to members)"})]})}),a.jsxs(ia,{children:[a.jsx(_e,{type:"button",variant:"outline",onClick:()=>{b(!1),Xe.reset(),R(null),he(null),Qe(null)},disabled:Ke,children:"Cancel"}),a.jsx(_e,{type:"submit",disabled:Ke,children:Ke?a.jsxs(a.Fragment,{children:[a.jsx(Wn,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):D?"Update Class":"Create Class"})]})]})})]})]})]}),a.jsxs(Lg,{value:xe,onValueChange:oe=>Ue(oe),children:[a.jsxs(Dh,{children:[a.jsx(qi,{value:"classes",children:"Classes"}),a.jsx(qi,{value:"sessions",children:"Sessions"}),a.jsx(qi,{value:"calendar",children:"Calendar"}),a.jsx(qi,{value:"instructors",children:"Instructors"}),a.jsx(qi,{value:"categories",children:"Categories"})]}),a.jsxs(zi,{value:"classes",className:"space-y-4",children:[a.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[a.jsx(qe,{className:"md:col-span-2",children:a.jsx(ze,{className:"p-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(jN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(jt,{placeholder:"Search classes...",className:"pl-10",value:V,onChange:oe=>K(oe.target.value)})]})})}),a.jsx(qe,{children:a.jsx(ze,{className:"p-4",children:a.jsxs(Ln,{value:q,onValueChange:Y,children:[a.jsx(Nn,{children:a.jsx(Bn,{placeholder:"Category"})}),a.jsxs(On,{children:[a.jsx(Ot,{value:"all",children:"All Categories"}),Gi.map(oe=>a.jsx(Ot,{value:oe,children:oe},oe))]})]})})}),a.jsx(qe,{children:a.jsx(ze,{className:"p-4",children:a.jsxs(Ln,{value:J,onValueChange:ne,children:[a.jsx(Nn,{children:a.jsx(Bn,{placeholder:"Instructor"})}),a.jsxs(On,{children:[a.jsx(Ot,{value:"all",children:"All Instructors"}),o.map(oe=>a.jsx(Ot,{value:oe.name,children:oe.name},oe.name))]})]})})})]}),a.jsxs(qe,{children:[a.jsxs(yt,{children:[a.jsxs(_t,{children:["All Classes (",Lr.length,")"]}),a.jsx(cr,{children:"Manage your gym's class schedule and create sessions"})]}),a.jsx(ze,{children:Lr.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"No classes found"}),a.jsxs(_e,{onClick:()=>b(!0),children:[a.jsx(so,{className:"w-4 h-4 mr-2"}),"Create First Class"]})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Fc,{children:[a.jsx(Uc,{children:a.jsxs(os,{children:[a.jsx(Yt,{children:"Name"}),a.jsx(Yt,{children:"Instructor"}),a.jsx(Yt,{children:"Category"}),a.jsx(Yt,{children:"Duration"}),a.jsx(Yt,{children:"Capacity"}),a.jsx(Yt,{children:"Status"}),a.jsx(Yt,{className:"text-right",children:"Actions"})]})}),a.jsx($c,{children:Lr.map(oe=>a.jsxs(os,{children:[a.jsx(Gt,{className:"font-medium",children:oe.name}),a.jsx(Gt,{children:oe.instructor}),a.jsx(Gt,{children:oe.category||"-"}),a.jsxs(Gt,{children:[oe.duration," min"]}),a.jsx(Gt,{children:oe.capacity}),a.jsx(Gt,{children:a.jsx(Qt,{variant:oe.is_active?"default":"secondary",children:oe.is_active?"Active":"Inactive"})}),a.jsx(Gt,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>kt(oe),children:a.jsx(Uv,{className:"w-4 h-4"})}),a.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>kr(oe),children:a.jsx(Fn,{className:"w-4 h-4"})}),a.jsx(_e,{variant:"destructive",size:"icon",onClick:()=>Wo(oe.id),children:a.jsx(Hu,{className:"w-4 h-4"})})]})})]},oe.id))})]})})})]})]}),a.jsxs(zi,{value:"sessions",className:"space-y-4",children:[a.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[a.jsx(qe,{children:a.jsx(ze,{className:"p-4",children:a.jsxs(Ln,{value:te,onValueChange:Q,children:[a.jsx(Nn,{children:a.jsx(Bn,{placeholder:"All Instructors"})}),a.jsxs(On,{children:[a.jsx(Ot,{value:"all",children:"All Instructors"}),fa.map(oe=>a.jsx(Ot,{value:oe,children:oe},oe))]})]})})}),a.jsx(qe,{children:a.jsx(ze,{className:"p-4",children:a.jsxs(Ln,{value:ue,onValueChange:ae,children:[a.jsx(Nn,{children:a.jsx(Bn,{placeholder:"All Classes"})}),a.jsxs(On,{children:[a.jsx(Ot,{value:"all",children:"All Classes"}),vr.map(oe=>a.jsx(Ot,{value:oe,children:oe},oe))]})]})})}),a.jsx(qe,{children:a.jsx(ze,{className:"p-4",children:a.jsxs(Ln,{value:se,onValueChange:me,children:[a.jsx(Nn,{children:a.jsx(Bn,{placeholder:"All Categories"})}),a.jsxs(On,{children:[a.jsx(Ot,{value:"all",children:"All Categories"}),Yn.map(oe=>a.jsx(Ot,{value:oe,children:oe},oe))]})]})})}),a.jsx(qe,{children:a.jsx(ze,{className:"p-4",children:a.jsx(_e,{variant:"outline",className:"w-full",onClick:()=>{Q("all"),ae("all"),me("all")},children:"Clear Filters"})})})]}),a.jsxs(qe,{children:[a.jsxs(yt,{children:[a.jsxs(_t,{children:["Class Sessions (",cs.length,")"]}),a.jsx(cr,{children:"View and manage class session capacity"})]}),a.jsx(ze,{children:g?a.jsx(oa,{size:"md",text:"Loading sessions..."}):cs.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"No sessions found. Create sessions from classes."})}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Fc,{children:[a.jsx(Uc,{children:a.jsxs(os,{children:[a.jsx(Yt,{children:"Class Name"}),a.jsx(Yt,{children:"Instructor"}),a.jsx(Yt,{children:"Start Time"}),a.jsx(Yt,{children:"Capacity"}),a.jsx(Yt,{children:"Booked"}),a.jsx(Yt,{children:"Available"}),a.jsx(Yt,{className:"text-right",children:"Actions"})]})}),a.jsx($c,{children:cs.map(oe=>{const Be=i.get(oe.id);return a.jsxs(os,{children:[a.jsx(Gt,{className:"font-medium",children:oe.name}),a.jsx(Gt,{children:oe.instructor||"-"}),a.jsx(Gt,{children:We(Vt(oe.start_time),"MMM d, yyyy 'at' h:mm a")}),a.jsx(Gt,{children:oe.capacity||0}),a.jsx(Gt,{children:a.jsx(Qt,{variant:Be&&Be.booked>=Be.capacity*.9?"destructive":"secondary",children:Be?.booked||0})}),a.jsx(Gt,{children:a.jsx(Qt,{variant:Be&&Be.available<=5?"default":"outline",children:Be?.available||0})}),a.jsx(Gt,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(_e,{variant:"outline",size:"icon",onClick:()=>{z(oe),I(!0)},title:"Edit Capacity",children:a.jsx(Nh,{className:"w-4 h-4"})}),a.jsx(_e,{variant:"outline",size:"icon",onClick:()=>{z(oe),P(!0)},title:"Edit Session",children:a.jsx(Uv,{className:"w-4 h-4"})}),a.jsx(_e,{variant:"destructive",size:"icon",onClick:async()=>{if(confirm(`Are you sure you want to delete the session "${oe.name}"? This action cannot be undone.`))try{await Yi(oe.id)}catch{}},title:"Delete Session",children:a.jsx(Hu,{className:"w-4 h-4"})})]})})]},oe.id)})})]})})})]})]}),a.jsxs(zi,{value:"calendar",className:"space-y-4",children:[a.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[a.jsx(qe,{children:a.jsx(ze,{className:"p-4",children:a.jsxs(Ln,{value:te,onValueChange:Q,children:[a.jsx(Nn,{children:a.jsx(Bn,{placeholder:"All Instructors"})}),a.jsxs(On,{children:[a.jsx(Ot,{value:"all",children:"All Instructors"}),fa.map(oe=>a.jsx(Ot,{value:oe,children:oe},oe))]})]})})}),a.jsx(qe,{children:a.jsx(ze,{className:"p-4",children:a.jsxs(Ln,{value:ue,onValueChange:ae,children:[a.jsx(Nn,{children:a.jsx(Bn,{placeholder:"All Classes"})}),a.jsxs(On,{children:[a.jsx(Ot,{value:"all",children:"All Classes"}),vr.map(oe=>a.jsx(Ot,{value:oe,children:oe},oe))]})]})})}),a.jsx(qe,{children:a.jsx(ze,{className:"p-4",children:a.jsxs(Ln,{value:se,onValueChange:me,children:[a.jsx(Nn,{children:a.jsx(Bn,{placeholder:"All Categories"})}),a.jsxs(On,{children:[a.jsx(Ot,{value:"all",children:"All Categories"}),Yn.map(oe=>a.jsx(Ot,{value:oe,children:oe},oe))]})]})})}),a.jsx(qe,{children:a.jsx(ze,{className:"p-4",children:a.jsx(_e,{variant:"outline",className:"w-full",onClick:()=>{Q("all"),ae("all"),me("all")},children:"Clear Filters"})})})]}),a.jsxs(qe,{children:[a.jsxs(yt,{children:[a.jsx(_t,{children:"Session Calendar"}),a.jsx(cr,{children:"View and manage class sessions in calendar format"})]}),a.jsx(ze,{children:a.jsx(dNe,{sessions:cs,classes:t,onAddSession:Xn,onEditSession:rn,onDeleteSession:Yi})})]})]}),a.jsx(zi,{value:"instructors",className:"space-y-4",children:a.jsxs(qe,{children:[a.jsxs(yt,{children:[a.jsx(_t,{children:"Instructors"}),a.jsx(cr,{children:"View instructor statistics and assignments"})]}),a.jsx(ze,{children:o.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"No instructors found. Add instructors when creating classes."})}):a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(oe=>a.jsx(qe,{children:a.jsxs(ze,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-semibold text-lg",children:oe.name}),a.jsx(YB,{className:"w-5 h-5 text-primary"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Classes"}),a.jsx(Qt,{variant:"secondary",children:oe.class_count})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Sessions"}),a.jsx(Qt,{variant:"secondary",children:oe.session_count})]})]})]})},oe.name))})})]})}),a.jsxs(zi,{value:"categories",className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Category Management"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage class categories with images and descriptions"})]}),a.jsxs(Rs,{open:Fe,onOpenChange:oe=>{Ce(oe),oe||(Ft.reset(),He(null),Ge(null),lt(null))},children:[a.jsx(Ty,{asChild:!0,children:a.jsxs(_e,{onClick:()=>{Ft.reset(),He(null),Ge(null),lt(null)},children:[a.jsx(so,{className:"w-4 h-4 mr-2"}),"Add Category"]})}),a.jsxs(ps,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(gs,{children:[a.jsx(vs,{children:be?"Edit Category":"Add New Category"}),a.jsx(Ms,{children:be?"Update category details":"Create a new class category"})]}),a.jsx(bl,{...Ft,children:a.jsxs("form",{onSubmit:Ft.handleSubmit(tt),className:"space-y-4",children:[a.jsx(sr,{control:Ft.control,name:"name",render:({field:oe})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Category Name *"}),a.jsx(rr,{children:a.jsx(jt,{...oe,placeholder:"e.g., Combat, Cycle, Mind & Body"})}),a.jsx(fr,{})]})}),a.jsx(sr,{control:Ft.control,name:"description",render:({field:oe})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Description"}),a.jsx(rr,{children:a.jsx(Eh,{...oe,rows:3,placeholder:"Describe this category..."})}),a.jsx(fr,{})]})}),a.jsx(sr,{control:Ft.control,name:"display_order",render:({field:oe})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Display Order"}),a.jsx(rr,{children:a.jsx(jt,{type:"number",...oe,onChange:Be=>oe.onChange(parseInt(Be.target.value)||0),min:"0"})}),a.jsx(ss,{children:"Lower numbers appear first in the category filter"}),a.jsx(fr,{})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xt,{children:"Category Image"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx(jt,{type:"file",accept:"image/*",onChange:_r,className:"cursor-pointer"})}),gt&&a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:gt,alt:"Preview",className:"w-20 h-20 object-cover rounded-md border"}),a.jsx(_e,{type:"button",variant:"ghost",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:()=>{Ge(null),lt(null)},children:a.jsx(Ju,{className:"h-4 w-4"})})]})]}),be&&be.image_url&&!gt&&a.jsx("div",{className:"relative inline-block",children:a.jsx("img",{src:be.image_url,alt:"Current",className:"w-20 h-20 object-cover rounded-md border"})})]}),a.jsx(sr,{control:Ft.control,name:"is_active",render:({field:oe})=>a.jsxs(er,{className:"flex items-center space-x-2 space-y-0",children:[a.jsx(rr,{children:a.jsx(yl,{checked:oe.value,onCheckedChange:oe.onChange})}),a.jsx(tr,{children:"Active (visible to members)"})]})}),a.jsxs(ia,{children:[a.jsx(_e,{type:"button",variant:"outline",onClick:()=>{Ce(!1),Ft.reset(),He(null),Ge(null),lt(null)},disabled:Ct,children:"Cancel"}),a.jsx(_e,{type:"submit",disabled:Ct,children:Ct?a.jsxs(a.Fragment,{children:[a.jsx(Wn,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):be?"Update Category":"Create Category"})]})]})})]})]})]}),a.jsxs(qe,{children:[a.jsxs(yt,{children:[a.jsxs(_t,{children:["All Categories (",Pe.length,")"]}),a.jsx(cr,{children:"Manage class categories and their display settings"})]}),a.jsx(ze,{children:je?a.jsx(oa,{size:"md",text:"Loading categories..."}):Pe.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"No categories found"}),a.jsxs(_e,{onClick:()=>Ce(!0),children:[a.jsx(so,{className:"w-4 h-4 mr-2"}),"Create First Category"]})]}):a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:Pe.map(oe=>{const Be=t.filter(ut=>ut.category_id===oe.id).length;return a.jsxs(qe,{className:"overflow-hidden",children:[oe.image_url&&a.jsx("div",{className:"h-32 w-full overflow-hidden",children:a.jsx("img",{src:oe.image_url,alt:oe.name,className:"w-full h-full object-cover"})}),a.jsxs(ze,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-lg",children:oe.name}),oe.description&&a.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:oe.description})]}),a.jsx(Qt,{variant:oe.is_active?"default":"secondary",children:oe.is_active?"Active":"Inactive"})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-3",children:[a.jsxs("span",{children:["Order: ",oe.display_order]}),a.jsxs("span",{children:[Be," class(es)"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(_e,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>gr(oe),children:[a.jsx(Uv,{className:"w-4 h-4 mr-2"}),"Edit"]}),a.jsx(_e,{variant:"destructive",size:"sm",onClick:()=>Gr(oe.id),disabled:Be>0,children:a.jsx(Hu,{className:"w-4 h-4"})})]})]})]},oe.id)})})})]})]})]}),a.jsx(Rs,{open:A,onOpenChange:C,children:a.jsxs(ps,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(gs,{children:[a.jsxs(vs,{children:["Create Class Session",vt.watch("recurring")?"s":""]}),a.jsx(Ms,{children:G&&a.jsxs(a.Fragment,{children:["Create session",vt.watch("recurring")?"s":""," for ",a.jsx("strong",{children:G.name})]})})]}),a.jsx(bl,{...vt,children:a.jsxs("form",{onSubmit:vt.handleSubmit(ar),className:"space-y-4",children:[a.jsx(sr,{control:vt.control,name:"startDate",render:({field:oe})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Start Date *"}),a.jsxs(Rp,{children:[a.jsx(Mp,{asChild:!0,children:a.jsx(rr,{children:a.jsxs(_e,{variant:"outline",className:Re("w-full justify-start text-left font-normal",!oe.value&&"text-muted-foreground"),children:[a.jsx(Fn,{className:"mr-2 h-4 w-4"}),oe.value?We(oe.value,"PPP"):a.jsx("span",{children:"Pick a date"})]})})}),a.jsx(Zf,{className:"w-auto p-0",align:"start",children:a.jsx(Yf,{mode:"single",selected:oe.value,onSelect:oe.onChange,initialFocus:!0})})]}),a.jsx(fr,{})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(sr,{control:vt.control,name:"startTime",render:({field:oe})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Start Time *"}),a.jsx(rr,{children:a.jsx(jt,{type:"time",...oe})}),a.jsx(fr,{})]})}),a.jsx(sr,{control:vt.control,name:"endTime",render:({field:oe})=>a.jsxs(er,{children:[a.jsx(tr,{children:"End Time *"}),a.jsx(rr,{children:a.jsx(jt,{type:"time",...oe})}),a.jsx(fr,{})]})})]}),a.jsx(sr,{control:vt.control,name:"capacity",render:({field:oe})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Capacity *"}),a.jsx(rr,{children:a.jsx(jt,{type:"number",...oe,onChange:Be=>oe.onChange(parseInt(Be.target.value)||0),min:"1",max:"1000"})}),a.jsx(fr,{})]})}),a.jsx(sr,{control:vt.control,name:"recurring",render:({field:oe})=>a.jsxs(er,{className:"flex items-center space-x-2 space-y-0",children:[a.jsx(rr,{children:a.jsx(yl,{checked:oe.value,onCheckedChange:oe.onChange})}),a.jsxs(tr,{className:"flex items-center gap-2",children:[a.jsx(NY,{className:"w-4 h-4"}),"Create recurring sessions"]})]})}),vt.watch("recurring")&&a.jsxs("div",{className:"space-y-4 pl-6 border-l-2",children:[a.jsx(sr,{control:vt.control,name:"recurringType",render:({field:oe})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Repeat Every"}),a.jsxs(Ln,{onValueChange:oe.onChange,value:oe.value,children:[a.jsx(rr,{children:a.jsx(Nn,{children:a.jsx(Bn,{})})}),a.jsxs(On,{children:[a.jsx(Ot,{value:"daily",children:"Day"}),a.jsx(Ot,{value:"weekly",children:"Week"}),a.jsx(Ot,{value:"monthly",children:"Month"})]})]}),a.jsx(fr,{})]})}),a.jsx(sr,{control:vt.control,name:"recurringCount",render:({field:oe})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Number of Sessions *"}),a.jsx(rr,{children:a.jsx(jt,{type:"number",...oe,onChange:Be=>oe.onChange(parseInt(Be.target.value)||0),min:"1",max:"52"})}),a.jsxs(ss,{children:["Will create ",vt.watch("recurringCount")," session(s) starting from the selected date"]}),a.jsx(fr,{})]})})]}),a.jsxs(ia,{children:[a.jsx(_e,{type:"button",variant:"outline",onClick:()=>C(!1),children:"Cancel"}),a.jsxs(_e,{type:"submit",children:["Create Session",vt.watch("recurring")?"s":""]})]})]})})]})}),a.jsx(Rs,{open:E,onOpenChange:oe=>{P(oe),oe||z(null)},children:a.jsxs(ps,{className:"max-w-md",children:[a.jsxs(gs,{children:[a.jsx(vs,{children:"Edit Session"}),a.jsx(Ms,{children:"Update session details"})]}),$&&a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx(Xt,{children:"Session Name"}),a.jsx(jt,{id:"edit-session-name",defaultValue:$.name,onChange:oe=>{$&&z({...$,name:oe.target.value})}})]}),a.jsxs("div",{children:[a.jsx(Xt,{children:"Instructor"}),a.jsx(jt,{id:"edit-session-instructor",defaultValue:$.instructor||"",onChange:oe=>{$&&z({...$,instructor:oe.target.value})}})]}),a.jsxs("div",{children:[a.jsx(Xt,{children:"Link to Class Template (Optional)"}),a.jsxs(Ln,{value:$.class_id||"none",onValueChange:oe=>{$&&z({...$,class_id:oe==="none"?null:oe})},children:[a.jsx(Nn,{children:a.jsx(Bn,{placeholder:"Select a class"})}),a.jsxs(On,{children:[a.jsx(Ot,{value:"none",children:"None"}),t.map(oe=>a.jsx(Ot,{value:oe.id,children:oe.name},oe.id))]})]})]}),a.jsxs("div",{children:[a.jsx(Xt,{children:"Date"}),a.jsxs(Rp,{children:[a.jsx(Mp,{asChild:!0,children:a.jsxs(_e,{variant:"outline",className:Re("w-full justify-start text-left font-normal",!$.start_time&&"text-muted-foreground"),children:[a.jsx(Fn,{className:"mr-2 h-4 w-4"}),$.start_time?We(Vt($.start_time),"PPP"):"Pick a date"]})}),a.jsx(Zf,{className:"w-auto p-0",children:a.jsx(Yf,{mode:"single",selected:$.start_time?Vt($.start_time):void 0,onSelect:oe=>{if(oe&&$){const Be=Vt($.start_time),ut=new Date(oe);ut.setHours(Be.getHours(),Be.getMinutes(),0,0);const Dt=Vt($.end_time).getTime()-Be.getTime(),yr=new Date(ut.getTime()+Dt);z({...$,start_time:ut.toISOString(),end_time:yr.toISOString()})}},initialFocus:!0})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Xt,{children:"Start Time"}),a.jsx(jt,{type:"time",defaultValue:$.start_time?We(Vt($.start_time),"HH:mm"):"",onChange:oe=>{if($&&oe.target.value){const[Be,ut]=oe.target.value.split(":").map(Number),Dt=Vt($.start_time);Dt.setHours(Be,ut,0,0);const yr=Vt($.end_time).getTime()-Vt($.start_time).getTime(),at=new Date(Dt.getTime()+yr);z({...$,start_time:Dt.toISOString(),end_time:at.toISOString()})}}})]}),a.jsxs("div",{children:[a.jsx(Xt,{children:"End Time"}),a.jsx(jt,{type:"time",defaultValue:$.end_time?We(Vt($.end_time),"HH:mm"):"",onChange:oe=>{if($&&oe.target.value){const[Be,ut]=oe.target.value.split(":").map(Number),Dt=Vt($.end_time);Dt.setHours(Be,ut,0,0),z({...$,end_time:Dt.toISOString()})}}})]})]}),a.jsxs("div",{children:[a.jsx(Xt,{children:"Capacity"}),a.jsx(jt,{type:"number",min:"1",defaultValue:$.capacity||20,onChange:oe=>{$&&z({...$,capacity:parseInt(oe.target.value)||20})}})]})]}),a.jsxs(ia,{children:[a.jsx(_e,{variant:"outline",onClick:()=>{P(!1),z(null)},children:"Cancel"}),a.jsx(_e,{onClick:async()=>{if($)try{await rn($.id,{name:$.name,instructor:$.instructor,start_time:$.start_time,end_time:$.end_time,capacity:$.capacity,class_id:$.class_id}),P(!1),z(null)}catch{}},children:"Update Session"})]})]})}),a.jsx(Rs,{open:k,onOpenChange:I,children:a.jsxs(ps,{children:[a.jsxs(gs,{children:[a.jsx(vs,{children:"Edit Session Capacity"}),a.jsx(Ms,{children:$&&`Update capacity for ${$.name}`})]}),$&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Xt,{children:"Current Capacity"}),a.jsx(jt,{type:"number",value:$.capacity||0,readOnly:!0})]}),a.jsxs("div",{children:[a.jsx(Xt,{children:"New Capacity"}),a.jsx(jt,{type:"number",id:"new-capacity",min:"1",max:"1000",defaultValue:$.capacity||0,onKeyDown:oe=>{if(oe.key==="Enter"){const Be=oe.target;wn($.id,parseInt(Be.value)||0)}}})]}),i.has($.id)&&a.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Current Status"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Booked:"}),a.jsx("span",{className:"font-medium",children:i.get($.id)?.booked||0})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Available:"}),a.jsx("span",{className:"font-medium",children:i.get($.id)?.available||0})]})]})]}),a.jsxs(ia,{children:[a.jsx(_e,{variant:"outline",onClick:()=>I(!1),children:"Cancel"}),a.jsx(_e,{onClick:()=>{const oe=document.getElementById("new-capacity");oe&&wn($.id,parseInt(oe.value)||0)},children:"Update Capacity"})]})]})]})})]})},SNe=da({name:Cr().min(1,"Name is required").max(100,"Name is too long"),price:Cr().refine(t=>{if(!t)return!0;const e=parseFloat(t);return!isNaN(e)&&e>=0},"Price must be a valid number"),access_level:Cr().optional()}),CNe=()=>{const[t,e]=N.useState([]),[r,n]=N.useState(!0),[i,s]=N.useState(!1),[o,c]=N.useState(!1),[u,h]=N.useState(null),[g,v]=N.useState(null),[w,b]=N.useState(null),[A,C]=N.useState([]);Gn();const E=Kn(),P=xl({resolver:wl(SNe),defaultValues:{name:"",price:"",access_level:""}});N.useEffect(()=>{k(),I(),F()},[]);const k=async()=>{try{n(!0);const{data:G,error:W}=await ye.from("memberships").select("*").order("name");if(W)throw W;e(G||[])}catch(G){Et({title:"Error loading memberships",description:G.message})}finally{n(!1)}},I=async()=>{try{const{data:G,error:W}=await ye.from("user_memberships").select("status, payment_status, memberships(price)");if(W)throw W;const V=new Date;let K=0,q=0,Y=0;G?.forEach(J=>{J.status==="active"&&J.payment_status==="paid"?(q++,J.memberships?.price&&(K+=parseFloat(J.memberships.price.toString()))):J.status==="expired"&&Y++}),b({total_memberships:G?.length||0,active_memberships:q,expired_memberships:Y,total_revenue:K,renewals_due_soon:A.length})}catch(G){console.error("Error fetching statistics:",G)}},F=async()=>{try{const G=new Date,W=Vi(G,30),{data:V,error:K}=await ye.from("user_memberships").select("*, profiles(full_name), memberships(name)").eq("status","active").eq("payment_status","paid").gte("end_date",G.toISOString()).lte("end_date",W.toISOString()).order("end_date",{ascending:!0});if(K)throw K;const q=(V||[]).map(Y=>({user_id:Y.user_id,user_name:Y.profiles?.full_name||"Unknown",membership_name:Y.memberships?.name||"Unknown",end_date:Y.end_date,days_remaining:Qoe(new Date(Y.end_date),G)}));C(q),w&&b({...w,renewals_due_soon:q.length})}catch(G){console.error("Error fetching renewal reminders:",G)}},M=()=>{P.reset({name:"",price:"",access_level:""}),v(null)},D=async G=>{try{const W={name:G.name,price:G.price?parseFloat(G.price):null,duration_days:g?g.duration_days:30,access_level:G.access_level||null};if(g){const{error:V}=await ye.from("memberships").update(W).eq("id",g.id);if(V)throw V;Dn("Membership updated successfully")}else{const{error:V}=await ye.from("memberships").insert([W]);if(V)throw V;Dn("Membership created successfully")}s(!1),M(),await k(),await I()}catch(W){Et({title:"Error",description:W.message})}},R=G=>{v(G),P.reset({name:G.name,price:G.price?.toString()||"",access_level:G.access_level||""}),s(!0)},$=G=>{h(G),c(!0)},z=async()=>{if(u)try{const{data:G,error:W}=await ye.from("user_memberships").select("id").eq("membership_id",u.id).limit(1);if(W)throw W;if(G&&G.length>0){Et({title:"Cannot delete",description:"This membership is assigned to users. Please remove all assignments first."}),c(!1);return}const{error:V}=await ye.from("memberships").delete().eq("id",u.id);if(V)throw V;Dn("Membership deleted successfully"),c(!1),h(null),await k(),await I()}catch(G){Et({title:"Error",description:G.message})}};return r?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx(oa,{size:"lg",text:"Loading memberships..."})}):a.jsxs("div",{className:"container mx-auto p-6 space-y-6 max-w-7xl",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Membership Management"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Create and manage membership plans"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(_e,{variant:"outline",onClick:()=>E("/admin/usermemberships"),children:[a.jsx(YB,{className:"h-4 w-4 mr-2"}),"Assign to Users"]}),a.jsx(Rs,{open:i,onOpenChange:G=>{s(G),G||M()},children:a.jsxs(ps,{className:"max-w-md",children:[a.jsxs(gs,{children:[a.jsx(vs,{children:g?"Edit Membership":"Add New Membership"}),a.jsx(Ms,{children:g?"Update membership plan details":"Create a new membership plan"})]}),a.jsx(bl,{...P,children:a.jsxs("form",{onSubmit:P.handleSubmit(D),className:"space-y-4",children:[a.jsx(sr,{control:P.control,name:"name",render:({field:G})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Name *"}),a.jsx(rr,{children:a.jsx(jt,{placeholder:"e.g., Gold Membership",...G})}),a.jsx(fr,{})]})}),a.jsx(sr,{control:P.control,name:"price",render:({field:G})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Price ()"}),a.jsx(rr,{children:a.jsx(jt,{type:"number",step:"0.01",placeholder:"e.g., 49.99",...G})}),a.jsx(ss,{children:"Monthly recurring price (membership valid for 1 month until cancelled)"}),a.jsx(fr,{})]})}),a.jsx(sr,{control:P.control,name:"access_level",render:({field:G})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Access Level"}),a.jsx(rr,{children:a.jsx(jt,{placeholder:"e.g., Full Access",...G})}),a.jsx(ss,{children:"Description of access level"}),a.jsx(fr,{})]})}),a.jsxs(ia,{children:[a.jsx(_e,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),a.jsxs(_e,{type:"submit",children:[g?"Update":"Create"," Membership"]})]})]})})]})}),a.jsxs(_e,{onClick:()=>s(!0),children:[a.jsx(so,{className:"h-4 w-4 mr-2"}),"Add Membership"]})]})]}),a.jsxs(Lg,{defaultValue:"plans",className:"space-y-6",children:[a.jsxs(Dh,{children:[a.jsx(qi,{value:"plans",children:"Membership Plans"}),a.jsx(qi,{value:"statistics",children:"Statistics"}),a.jsx(qi,{value:"renewals",children:"Renewal Reminders"})]}),a.jsx(zi,{value:"plans",children:a.jsxs(qe,{children:[a.jsxs(yt,{children:[a.jsx(_t,{children:"Membership Plans"}),a.jsx(cr,{children:"Manage all available membership plans"})]}),a.jsx(ze,{children:t.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"No memberships found"}),a.jsxs(_e,{onClick:()=>s(!0),children:[a.jsx(so,{className:"h-4 w-4 mr-2"}),"Create First Membership"]})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Fc,{children:[a.jsx(Uc,{children:a.jsxs(os,{children:[a.jsx(Yt,{children:"Name"}),a.jsx(Yt,{children:"Price"}),a.jsx(Yt,{children:"Duration"}),a.jsx(Yt,{children:"Access Level"}),a.jsx(Yt,{children:"Created"}),a.jsx(Yt,{className:"text-right",children:"Actions"})]})}),a.jsx($c,{children:t.map(G=>a.jsxs(os,{children:[a.jsx(Gt,{className:"font-medium",children:G.name}),a.jsx(Gt,{children:G.price?`${G.price.toFixed(2)}`:"-"}),a.jsx(Gt,{children:G.duration_days?`${G.duration_days} days`:"-"}),a.jsx(Gt,{children:G.access_level||"-"}),a.jsx(Gt,{children:We(new Date(G.created_at),"MMM d, yyyy")}),a.jsx(Gt,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>R(G),children:a.jsx(Nh,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>$(G),children:a.jsx(Hu,{className:"h-4 w-4 text-destructive"})})]})})]},G.id))})]})})})]})}),a.jsxs(zi,{value:"statistics",children:[a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[a.jsx(qe,{children:a.jsxs(ze,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Memberships"}),a.jsx(Rl,{className:"w-5 h-5 text-primary"})]}),a.jsx("div",{className:"text-2xl font-bold",children:w?.total_memberships||0}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"All user memberships"})]})}),a.jsx(qe,{children:a.jsxs(ze,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Active"}),a.jsx(Do,{className:"w-5 h-5 text-success"})]}),a.jsx("div",{className:"text-2xl font-bold",children:w?.active_memberships||0}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Currently active"})]})}),a.jsx(qe,{children:a.jsxs(ze,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Expired"}),a.jsx(Ic,{className:"w-5 h-5 text-destructive"})]}),a.jsx("div",{className:"text-2xl font-bold",children:w?.expired_memberships||0}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"No longer active"})]})}),a.jsx(qe,{children:a.jsxs(ze,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Revenue"}),a.jsx(Bf,{className:"w-5 h-5 text-accent"})]}),a.jsxs("div",{className:"text-2xl font-bold",children:["",w?.total_revenue.toFixed(2)||"0.00"]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"From paid memberships"})]})})]}),a.jsxs(qe,{children:[a.jsx(yt,{children:a.jsxs(_t,{className:"flex items-center gap-2",children:[a.jsx(SN,{className:"w-5 h-5"}),"Membership Overview"]})}),a.jsx(ze,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-muted/30",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Membership Plans Available"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.length," plan",t.length!==1?"s":""," configured"]})]}),a.jsx(Qt,{variant:"secondary",children:t.length})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-muted/30",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Renewals Due Soon"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Memberships expiring in next 30 days"})]}),a.jsx(Qt,{variant:A.length>0?"destructive":"secondary",children:A.length})]})]})})]})]}),a.jsx(zi,{value:"renewals",children:a.jsxs(qe,{children:[a.jsxs(yt,{children:[a.jsxs(_t,{className:"flex items-center gap-2",children:[a.jsx(Lo,{className:"w-5 h-5"}),"Renewal Reminders"]}),a.jsx(cr,{children:"Memberships expiring in the next 30 days"})]}),a.jsx(ze,{children:A.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Do,{className:"w-12 h-12 mx-auto text-success mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No renewals due in the next 30 days"})]}):a.jsx("div",{className:"space-y-3",children:A.map(G=>a.jsxs("div",{className:`p-4 rounded-lg border flex items-start justify-between ${G.days_remaining<=7?"bg-destructive/10 border-destructive":G.days_remaining<=14?"bg-orange-500/10 border-orange-500":"bg-muted/30"}`,children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:"font-medium",children:G.user_name}),a.jsxs(Qt,{variant:G.days_remaining<=7?"destructive":G.days_remaining<=14?"default":"secondary",children:[G.days_remaining<=7?a.jsx(Al,{className:"w-3 h-3 mr-1"}):a.jsx(Lo,{className:"w-3 h-3 mr-1"}),G.days_remaining," day",G.days_remaining!==1?"s":""," remaining"]})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[G.membership_name,"  Expires ",We(new Date(G.end_date),"MMM d, yyyy")]})]}),a.jsx(_e,{variant:"outline",size:"sm",onClick:()=>E(`/admin/usermemberships?user=${G.user_id}`),children:"Manage"})]},`${G.user_id}-${G.end_date}`))})})]})})]}),a.jsx(zO,{open:o,onOpenChange:c,children:a.jsxs(gx,{children:[a.jsxs(vx,{children:[a.jsx(xx,{children:"Delete Membership"}),a.jsxs(wx,{children:['Are you sure you want to delete "',u?.name,'"? This action cannot be undone.',u&&a.jsx("div",{className:"mt-2 p-2 bg-destructive/10 rounded text-destructive text-sm",children:"Note: This membership cannot be deleted if it's assigned to any users."})]})]}),a.jsxs(yx,{children:[a.jsx(_x,{children:"Cancel"}),a.jsx(bx,{onClick:z,className:"bg-destructive hover:bg-destructive/90",children:"Delete"})]})]})})]})},ENe=()=>{const[t,e]=N.useState([]),[r,n]=N.useState([]),[i,s]=N.useState([]),[o,c]=N.useState(!0),[u,h]=N.useState(!1),[g,v]=N.useState(null),{toast:w}=Gn(),[b,A]=N.useState(!1),[C,E]=N.useState({user_id:"",membership_id:"",start_date:"",end_date:"",status:"active",payment_status:"paid",payment_method:"other"});N.useEffect(()=>{P()},[b]),N.useEffect(()=>{let R=!0;const $=[];return(async()=>{const G=ye.channel("admin-user-memberships-changes").on("postgres_changes",{event:"*",schema:"public",table:"user_memberships"},W=>{console.log("User membership change detected in admin view:",W),R&&P()}).subscribe();$.push(G)})(),()=>{R=!1,$.forEach(G=>{ye.removeChannel(G)})}},[]);const P=async()=>{try{let R=ye.from("user_memberships").select("*, cancelled_at, profiles(full_name), memberships(name)").order("created_at",{ascending:!1});b&&(R=R.not("cancelled_at","is",null).neq("payment_method","stripe").is("stripe_subscription_id",null));const[$,z,G]=await Promise.all([R,ye.from("profiles").select("id, full_name"),ye.from("memberships").select("id, name, duration_days")]);if($.error)throw $.error;if(z.error)throw z.error;if(G.error)throw G.error;e($.data||[]),n(z.data||[]),s(G.data||[])}catch(R){w({variant:"destructive",title:"Error",description:R.message})}finally{c(!1)}},k=()=>{E({user_id:"",membership_id:"",start_date:"",end_date:"",status:"active",payment_status:"paid",payment_method:"other"}),v(null)},I=R=>{if(!R)return"";const $=new Date(R);return Hi($,1).toISOString().split("T")[0]},F=async R=>{R.preventDefault();const $=C.end_date||I(C.start_date);if(!$){w({variant:"destructive",title:"Error",description:"Please select a start date"});return}try{if(!g){const{data:G,error:W}=await ye.from("user_memberships").select("id, status, end_date").eq("user_id",C.user_id).eq("status","active");if(W)throw W;if(G&&G.length>0&&G.some(K=>new Date(K.end_date)>new Date)){w({variant:"destructive",title:"Error",description:"This user already has an active membership. Please edit the existing membership or wait until it expires before creating a new one."});return}}const z={user_id:C.user_id,membership_id:C.membership_id,start_date:C.start_date,end_date:$,status:C.status,payment_status:C.payment_status,payment_method:C.payment_method};if(C.status==="active"&&(z.cancelled_at=null),g){const{error:G}=await ye.from("user_memberships").update(z).eq("id",g.id);if(G)throw G;w({title:"Success",description:"User membership updated successfully"})}else{const{error:G}=await ye.from("user_memberships").insert([z]);if(G)throw G;w({title:"Success",description:"User membership created successfully"})}h(!1),k(),P()}catch(z){w({variant:"destructive",title:"Error",description:z.message})}},M=R=>{v(R);const $=R.start_date.split("T")[0];E({user_id:R.user_id,membership_id:R.membership_id,start_date:$,end_date:I($),status:R.status,payment_status:R.payment_status,payment_method:R.payment_method||"other"}),h(!0)},D=async R=>{if(confirm("Are you sure you want to delete this user membership?"))try{const{error:$}=await ye.from("user_memberships").delete().eq("id",R);if($)throw $;w({title:"Success",description:"User membership deleted successfully"}),P()}catch($){w({variant:"destructive",title:"Error",description:$.message})}};return o?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx(Wn,{className:"h-8 w-8 animate-spin text-primary"})}):a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"User Memberships"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(_e,{variant:b?"default":"outline",onClick:()=>A(!b),children:b?"Show All":"Cancelled List (Non-Stripe)"}),a.jsxs(Rs,{open:u,onOpenChange:R=>{h(R),R||k()},children:[a.jsx(Ty,{asChild:!0,children:a.jsxs(_e,{children:[a.jsx(so,{className:"h-4 w-4 mr-2"}),"Assign Membership"]})}),a.jsxs(ps,{children:[a.jsx(gs,{children:a.jsx(vs,{children:g?"Edit User Membership":"Assign Membership"})}),a.jsxs("form",{onSubmit:F,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Xt,{htmlFor:"user_id",children:"User *"}),a.jsxs(Ln,{value:C.user_id,onValueChange:R=>E({...C,user_id:R}),required:!0,children:[a.jsx(Nn,{children:a.jsx(Bn,{placeholder:"Select user"})}),a.jsx(On,{children:r.map(R=>a.jsx(Ot,{value:R.id,children:R.full_name||"Unnamed User"},R.id))})]})]}),a.jsxs("div",{children:[a.jsx(Xt,{htmlFor:"membership_id",children:"Membership *"}),a.jsxs(Ln,{value:C.membership_id,onValueChange:R=>{const $={...C,membership_id:R};C.start_date&&($.end_date=I(C.start_date)),E($)},required:!0,children:[a.jsx(Nn,{children:a.jsx(Bn,{placeholder:"Select membership"})}),a.jsx(On,{children:i.map(R=>a.jsx(Ot,{value:R.id,children:R.name},R.id))})]})]}),a.jsxs("div",{children:[a.jsx(Xt,{htmlFor:"start_date",children:"Start Date *"}),a.jsx(jt,{id:"start_date",type:"date",value:C.start_date,onChange:R=>{const $={...C,start_date:R.target.value};R.target.value?$.end_date=I(R.target.value):$.end_date="",E($)},required:!0}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"End date will be automatically set to 1 month after start date"})]}),a.jsxs("div",{children:[a.jsx(Xt,{htmlFor:"status",children:"Status *"}),a.jsxs(Ln,{value:C.status,onValueChange:R=>E({...C,status:R}),required:!0,children:[a.jsx(Nn,{children:a.jsx(Bn,{})}),a.jsxs(On,{children:[a.jsx(Ot,{value:"active",children:"Active"}),a.jsx(Ot,{value:"expired",children:"Expired"}),a.jsx(Ot,{value:"cancelled",children:"Cancelled"})]})]})]}),a.jsxs("div",{children:[a.jsx(Xt,{htmlFor:"payment_status",children:"Payment Status *"}),a.jsxs(Ln,{value:C.payment_status,onValueChange:R=>E({...C,payment_status:R}),required:!0,children:[a.jsx(Nn,{children:a.jsx(Bn,{})}),a.jsxs(On,{children:[a.jsx(Ot,{value:"paid",children:"Paid"}),a.jsx(Ot,{value:"pending",children:"Pending"}),a.jsx(Ot,{value:"failed",children:"Failed"})]})]})]}),a.jsxs("div",{children:[a.jsx(Xt,{htmlFor:"payment_method",children:"Payment Method *"}),a.jsxs(Ln,{value:C.payment_method,onValueChange:R=>E({...C,payment_method:R}),required:!0,children:[a.jsx(Nn,{children:a.jsx(Bn,{placeholder:"Select payment method"})}),a.jsxs(On,{children:[a.jsx(Ot,{value:"stripe",children:"Stripe"}),a.jsx(Ot,{value:"cash",children:"Cash"}),a.jsx(Ot,{value:"card",children:"Card"}),a.jsx(Ot,{value:"bank_transfer",children:"Bank Transfer"}),a.jsx(Ot,{value:"direct_debit",children:"Direct Debit"}),a.jsx(Ot,{value:"staff",children:"Staff"}),a.jsx(Ot,{value:"other",children:"Other"})]})]})]}),a.jsxs(_e,{type:"submit",className:"w-full",children:[g?"Update":"Assign"," Membership"]})]})]})]})]})]}),a.jsxs(qe,{children:[a.jsx(yt,{children:a.jsx(_t,{children:b?"Cancelled User Memberships":"Active User Memberships"})}),a.jsx(ze,{children:a.jsxs(Fc,{children:[a.jsx(Uc,{children:a.jsxs(os,{children:[a.jsx(Yt,{children:"User"}),a.jsx(Yt,{children:"Membership"}),a.jsx(Yt,{children:"Start Date"}),a.jsx(Yt,{children:"End Date"}),a.jsx(Yt,{children:"Status"}),a.jsx(Yt,{children:"Payment Status"}),a.jsx(Yt,{children:"Payment Method"}),a.jsx(Yt,{children:"Cancelled At"}),a.jsx(Yt,{children:"Actions"})]})}),a.jsx($c,{children:t.length===0?a.jsx(os,{children:a.jsx(Gt,{colSpan:9,className:"text-center text-muted-foreground",children:b?"No cancelled memberships found":"No user memberships found"})}):t.map(R=>a.jsxs(os,{children:[a.jsx(Gt,{className:"font-medium",children:R.profiles?.full_name||"Unknown User"}),a.jsx(Gt,{children:R.memberships?.name||"Unknown"}),a.jsx(Gt,{children:We(new Date(R.start_date),"MMM dd, yyyy")}),a.jsx(Gt,{children:We(new Date(R.end_date),"MMM dd, yyyy")}),a.jsx(Gt,{children:a.jsx("span",{className:`px-2 py-1 rounded text-xs ${R.status==="active"?"bg-green-100 text-green-800":R.status==="expired"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:R.status})}),a.jsx(Gt,{children:a.jsx("span",{className:`px-2 py-1 rounded text-xs ${R.payment_status==="paid"?"bg-green-100 text-green-800":R.payment_status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:R.payment_status})}),a.jsx(Gt,{children:R.payment_method?a.jsx("span",{className:"px-2 py-1 rounded text-xs bg-blue-100 text-blue-800 capitalize",children:R.payment_method.replace("_"," ")}):a.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})}),a.jsx(Gt,{children:R.cancelled_at?a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-xs text-red-600 dark:text-red-400 font-medium",children:We(new Date(R.cancelled_at),"MMM dd, yyyy")}),a.jsx("span",{className:"text-xs text-muted-foreground",children:We(new Date(R.cancelled_at),"HH:mm")})]}):a.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})}),a.jsx(Gt,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>M(R),children:a.jsx(Nh,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>D(R.id),children:a.jsx(Hu,{className:"h-4 w-4 text-destructive"})})]})})]},R.id))})]})})]})]})},ANe=Cr().min(1,"Coupon code is required").max(50,"Coupon code must be less than 50 characters").regex(/^[A-Z0-9_-]+$/,"Coupon code can only contain uppercase letters, numbers, hyphens, and underscores").transform(t=>t.toUpperCase().trim()),jNe=a$(["percentage","money_off"],{errorMap:()=>({message:"Coupon type must be either 'percentage' or 'money_off'"})});fo().positive("Value must be greater than 0").max(1e5,"Value must be less than 100,000");fo().positive("Value must be greater than 0").refine((t,e)=>(e.path[0]==="type"?e.parent?.type:void 0)==="percentage"?t<=100:!0,{message:"Percentage value must be between 0 and 100"});const NNe=fo().int("Usage limit must be a whole number").min(1,"Usage limit must be at least 1").max(1e6,"Usage limit must be less than 1,000,000").nullable().optional(),ONe=Cr().max(500,"Description must be less than 500 characters").trim().optional().nullable(),TNe=da({code:ANe,type:jNe,value:fo().positive("Value must be greater than 0").max(1e5,"Value must be less than 100,000"),description:ONe,is_active:Mg().default(!0),usage_limit:NNe,valid_from:FA(),valid_until:FA().nullable().optional()}).refine(t=>!(t.type==="percentage"&&t.value>100),{message:"Percentage value must be between 0 and 100",path:["value"]}).refine(t=>!(t.valid_until&&t.valid_until<t.valid_from),{message:"Valid until date must be after valid from date",path:["valid_until"]}),kNe=()=>{const[t,e]=N.useState([]),[r,n]=N.useState([]),[i,s]=N.useState(!0),[o,c]=N.useState(!1),[u,h]=N.useState(!1),[g,v]=N.useState(!1),[w,b]=N.useState(null),[A,C]=N.useState(null),[E,P]=N.useState(null),[k,I]=N.useState(null);Gn();const F=xl({resolver:wl(TNe),defaultValues:{code:"",type:"percentage",value:0,description:"",is_active:!0,usage_limit:null,valid_from:new Date,valid_until:null}});N.useEffect(()=>{M(),R()},[]);const M=async()=>{try{s(!0);const{data:{user:q}}=await ye.auth.getUser();if(!q)return;const{data:Y,error:J}=await ye.from("coupon_codes").select("*").order("created_at",{ascending:!1});if(J)throw J;const ne=await Promise.all((Y||[]).map(async te=>{const Q=await K(te.id);return{...te,usage_count:Q}}));e(ne)}catch(q){Et({title:"Error loading coupons",description:q.message})}finally{s(!1)}},D=async q=>{try{c(!0);let Y=ye.from("coupon_usage").select(`
          *,
          profiles(full_name),
          coupon_codes(code, type, value)
        `).order("used_at",{ascending:!1});q&&(Y=Y.eq("coupon_id",q));const{data:J,error:ne}=await Y;if(ne)throw ne;n(J||[])}catch(Y){Et({title:"Error loading usage",description:Y.message})}finally{c(!1)}};N.useEffect(()=>{k?D(k):D()},[k]);const R=async()=>{try{const{data:q,error:Y}=await ye.from("coupon_codes").select("id, is_active");if(Y)throw Y;const{data:J,error:ne}=await ye.from("coupon_usage").select("user_id");if(ne)throw ne;const te=q?.filter(ae=>ae.is_active).length||0,Q=q?.filter(ae=>!ae.is_active).length||0,ue=new Set(J?.map(ae=>ae.user_id)||[]).size;P({total_coupons:q?.length||0,active_coupons:te,inactive_coupons:Q,total_uses:J?.length||0,unique_users:ue})}catch(q){console.error("Error fetching statistics:",q)}},$=()=>{F.reset({code:"",type:"percentage",value:0,description:"",is_active:!0,usage_limit:null,valid_from:new Date,valid_until:null}),C(null)},z=async q=>{try{const{data:{user:Y}}=await ye.auth.getUser();if(!Y){Et({title:"Error",description:"You must be logged in to create coupons"});return}const J={code:q.code.toUpperCase(),type:q.type,value:q.value,description:q.description||null,is_active:q.is_active,usage_limit:q.usage_limit||null,valid_from:q.valid_from.toISOString(),valid_until:q.valid_until?q.valid_until.toISOString():null,created_by:Y.id};if(A){const{error:ne}=await ye.from("coupon_codes").update(J).eq("id",A.id);if(ne)throw ne;Dn("Coupon updated successfully")}else{const{error:ne}=await ye.from("coupon_codes").insert([J]);if(ne)throw ne;Dn("Coupon created successfully")}h(!1),$(),await M(),await R()}catch(Y){Et({title:"Error",description:Y.message})}},G=q=>{C(q),F.reset({code:q.code,type:q.type,value:q.value,description:q.description||"",is_active:q.is_active,usage_limit:q.usage_limit,valid_from:new Date(q.valid_from),valid_until:q.valid_until?new Date(q.valid_until):null}),h(!0)},W=q=>{b(q),v(!0)},V=async()=>{if(w)try{const{error:q}=await ye.from("coupon_codes").delete().eq("id",w.id);if(q)throw q;Dn("Coupon deleted successfully"),v(!1);const Y=w.id;b(null),k===Y&&I(null),await M(),await R()}catch(q){Et({title:"Error",description:q.message})}},K=async q=>{try{const{count:Y,error:J}=await ye.from("coupon_usage").select("*",{count:"exact",head:!0}).eq("coupon_id",q);if(J)throw J;return Y||0}catch(Y){return console.error("Error fetching usage count:",Y),0}};return i?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx(oa,{size:"lg",text:"Loading coupons..."})}):a.jsxs("div",{className:"container mx-auto p-6 space-y-6 max-w-7xl",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Deals & Referrals"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage discount and referral coupon codes"})]}),a.jsxs(Rs,{open:u,onOpenChange:q=>{h(q),q||$()},children:[a.jsx(Ty,{asChild:!0,children:a.jsxs(_e,{children:[a.jsx(so,{className:"h-4 w-4 mr-2"}),"Add Coupon"]})}),a.jsxs(ps,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(gs,{children:[a.jsx(vs,{children:A?"Edit Coupon":"Add New Coupon"}),a.jsx(Ms,{children:A?"Update coupon code details":"Create a new discount or referral coupon code"})]}),a.jsx(bl,{...F,children:a.jsxs("form",{onSubmit:F.handleSubmit(z),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(sr,{control:F.control,name:"code",render:({field:q})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Coupon Code *"}),a.jsx(rr,{children:a.jsx(jt,{placeholder:"e.g., WELCOME15",...q,onChange:Y=>q.onChange(Y.target.value.toUpperCase())})}),a.jsx(ss,{children:"Uppercase letters, numbers, hyphens, and underscores only"}),a.jsx(fr,{})]})}),a.jsx(sr,{control:F.control,name:"type",render:({field:q})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Type *"}),a.jsxs(Ln,{onValueChange:q.onChange,value:q.value,children:[a.jsx(rr,{children:a.jsx(Nn,{children:a.jsx(Bn,{placeholder:"Select type"})})}),a.jsxs(On,{children:[a.jsx(Ot,{value:"percentage",children:"Percentage Off"}),a.jsx(Ot,{value:"money_off",children:"Money Off"})]})]}),a.jsx(fr,{})]})})]}),a.jsx(sr,{control:F.control,name:"value",render:({field:q})=>a.jsxs(er,{children:[a.jsxs(tr,{children:[F.watch("type")==="percentage"?"Percentage (%)":"Amount ()"," *"]}),a.jsx(rr,{children:a.jsx(jt,{type:"number",step:F.watch("type")==="percentage"?"1":"0.01",placeholder:F.watch("type")==="percentage"?"e.g., 15":"e.g., 15.00",...q,onChange:Y=>q.onChange(parseFloat(Y.target.value)||0)})}),a.jsx(ss,{children:F.watch("type")==="percentage"?"Enter a value between 0 and 100":"Enter the discount amount in pounds"}),a.jsx(fr,{})]})}),a.jsx(sr,{control:F.control,name:"description",render:({field:q})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Description"}),a.jsx(rr,{children:a.jsx(Eh,{placeholder:"e.g., Welcome discount for new members",...q,value:q.value||""})}),a.jsx(ss,{children:"Optional description of the coupon"}),a.jsx(fr,{})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(sr,{control:F.control,name:"valid_from",render:({field:q})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Valid From *"}),a.jsx(rr,{children:a.jsx(jt,{type:"datetime-local",...q,value:q.value?We(new Date(q.value),"yyyy-MM-dd'T'HH:mm"):"",onChange:Y=>q.onChange(new Date(Y.target.value))})}),a.jsx(fr,{})]})}),a.jsx(sr,{control:F.control,name:"valid_until",render:({field:q})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Valid Until"}),a.jsx(rr,{children:a.jsx(jt,{type:"datetime-local",...q,value:q.value?We(new Date(q.value),"yyyy-MM-dd'T'HH:mm"):"",onChange:Y=>q.onChange(Y.target.value?new Date(Y.target.value):null)})}),a.jsx(ss,{children:"Leave empty for no expiration"}),a.jsx(fr,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(sr,{control:F.control,name:"usage_limit",render:({field:q})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Usage Limit"}),a.jsx(rr,{children:a.jsx(jt,{type:"number",placeholder:"Unlimited",...q,value:q.value||"",onChange:Y=>q.onChange(Y.target.value?parseInt(Y.target.value):null)})}),a.jsx(ss,{children:"Maximum number of times this coupon can be used (leave empty for unlimited)"}),a.jsx(fr,{})]})}),a.jsx(sr,{control:F.control,name:"is_active",render:({field:q})=>a.jsxs(er,{className:"flex flex-col justify-end",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(rr,{children:a.jsx(yl,{checked:q.value,onCheckedChange:q.onChange})}),a.jsx(tr,{children:"Active"})]}),a.jsx(ss,{children:"Inactive coupons cannot be used"}),a.jsx(fr,{})]})})]}),a.jsxs(ia,{children:[a.jsx(_e,{type:"button",variant:"outline",onClick:()=>h(!1),children:"Cancel"}),a.jsxs(_e,{type:"submit",children:[A?"Update":"Create"," Coupon"]})]})]})})]})]})]}),a.jsxs(Lg,{defaultValue:"coupons",className:"space-y-6",children:[a.jsxs(Dh,{children:[a.jsx(qi,{value:"coupons",children:"Coupon Codes"}),a.jsx(qi,{value:"statistics",children:"Statistics"}),a.jsx(qi,{value:"usage",children:"Usage History"})]}),a.jsx(zi,{value:"coupons",children:a.jsxs(qe,{children:[a.jsxs(yt,{children:[a.jsx(_t,{children:"Coupon Codes"}),a.jsx(cr,{children:"Manage all discount and referral coupon codes"})]}),a.jsx(ze,{children:t.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"No coupons found"}),a.jsxs(_e,{onClick:()=>h(!0),children:[a.jsx(so,{className:"h-4 w-4 mr-2"}),"Create First Coupon"]})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Fc,{children:[a.jsx(Uc,{children:a.jsxs(os,{children:[a.jsx(Yt,{children:"Code"}),a.jsx(Yt,{children:"Type"}),a.jsx(Yt,{children:"Value"}),a.jsx(Yt,{children:"Usage"}),a.jsx(Yt,{children:"Status"}),a.jsx(Yt,{children:"Valid From"}),a.jsx(Yt,{children:"Valid Until"}),a.jsx(Yt,{className:"text-right",children:"Actions"})]})}),a.jsx($c,{children:t.map(q=>{const Y=q.valid_until&&new Date(q.valid_until)<new Date,J=new Date(q.valid_from)>new Date,ne=q.usage_limit&&q.usage_count>=q.usage_limit;return a.jsxs(os,{className:k===q.id?"bg-muted/50":"",onClick:()=>{I(k===q.id?null:q.id)},children:[a.jsx(Gt,{className:"font-mono font-medium",children:q.code}),a.jsx(Gt,{children:a.jsxs(Qt,{variant:q.type==="percentage"?"default":"secondary",children:[q.type==="percentage"?a.jsx(EY,{className:"w-3 h-3 mr-1"}):a.jsx(jY,{className:"w-3 h-3 mr-1"}),q.type==="percentage"?`${q.value}%`:`${q.value.toFixed(2)}`]})}),a.jsx(Gt,{children:q.type==="percentage"?`${q.value}% off`:`${q.value.toFixed(2)} off`}),a.jsxs(Gt,{children:[q.usage_count," / ",q.usage_limit||""]}),a.jsx(Gt,{children:q.is_active?Y?a.jsx(Qt,{variant:"destructive",children:"Expired"}):J?a.jsx(Qt,{variant:"secondary",children:"Not Started"}):ne?a.jsx(Qt,{variant:"destructive",children:"Limit Reached"}):a.jsx(Qt,{className:"bg-green-500 hover:bg-green-600",children:"Active"}):a.jsx(Qt,{variant:"destructive",children:"Inactive"})}),a.jsx(Gt,{children:We(new Date(q.valid_from),"MMM d, yyyy")}),a.jsx(Gt,{children:q.valid_until?We(new Date(q.valid_until),"MMM d, yyyy"):"No expiration"}),a.jsx(Gt,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(_e,{variant:"ghost",size:"icon",onClick:te=>{te.stopPropagation(),G(q)},children:a.jsx(Nh,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"ghost",size:"icon",onClick:te=>{te.stopPropagation(),W(q)},children:a.jsx(Hu,{className:"h-4 w-4 text-destructive"})})]})})]},q.id)})})]})})})]})}),a.jsx(zi,{value:"statistics",children:a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-5 gap-6 mb-6",children:[a.jsx(qe,{children:a.jsxs(ze,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Coupons"}),a.jsx(SN,{className:"w-5 h-5 text-primary"})]}),a.jsx("div",{className:"text-2xl font-bold",children:E?.total_coupons||0}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"All coupon codes"})]})}),a.jsx(qe,{children:a.jsxs(ze,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Active"}),a.jsx(Do,{className:"w-5 h-5 text-success"})]}),a.jsx("div",{className:"text-2xl font-bold",children:E?.active_coupons||0}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Currently active"})]})}),a.jsx(qe,{children:a.jsxs(ze,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Inactive"}),a.jsx(Ic,{className:"w-5 h-5 text-destructive"})]}),a.jsx("div",{className:"text-2xl font-bold",children:E?.inactive_coupons||0}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Disabled coupons"})]})}),a.jsx(qe,{children:a.jsxs(ze,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Uses"}),a.jsx(Bf,{className:"w-5 h-5 text-accent"})]}),a.jsx("div",{className:"text-2xl font-bold",children:E?.total_uses||0}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"All time uses"})]})}),a.jsx(qe,{children:a.jsxs(ze,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Unique Users"}),a.jsx(Rl,{className:"w-5 h-5 text-primary"})]}),a.jsx("div",{className:"text-2xl font-bold",children:E?.unique_users||0}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Users who used coupons"})]})})]})}),a.jsx(zi,{value:"usage",children:a.jsxs(qe,{children:[a.jsxs(yt,{children:[a.jsxs(_t,{className:"flex items-center gap-2",children:[a.jsx(Fn,{className:"w-5 h-5"}),"Usage History"]}),a.jsx(cr,{children:k?"Usage history for selected coupon":"View all coupon usage across all codes (click a coupon row to filter)"})]}),a.jsx(ze,{children:o?a.jsx(oa,{size:"md",text:"Loading usage history..."}):r.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:k?"No usage found for this coupon":"No coupon usage found. Click a coupon row above to view its usage history."})}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Fc,{children:[a.jsx(Uc,{children:a.jsxs(os,{children:[a.jsx(Yt,{children:"Coupon Code"}),a.jsx(Yt,{children:"User"}),a.jsx(Yt,{children:"Discount"}),a.jsx(Yt,{children:"Used At"}),a.jsx(Yt,{children:"Order ID"})]})}),a.jsx($c,{children:r.map(q=>a.jsxs(os,{children:[a.jsx(Gt,{className:"font-mono font-medium",children:q.coupon_codes?.code||"N/A"}),a.jsx(Gt,{children:q.profiles?.full_name||"Unknown User"}),a.jsx(Gt,{children:q.coupon_codes?.type==="percentage"?`${q.coupon_codes.value}% off`:`${q.coupon_codes?.value.toFixed(2)} off`}),a.jsx(Gt,{children:We(new Date(q.used_at),"MMM d, yyyy 'at' h:mm a")}),a.jsx(Gt,{children:q.order_id||"-"})]},q.id))})]})})})]})})]}),a.jsx(zO,{open:g,onOpenChange:v,children:a.jsxs(gx,{children:[a.jsxs(vx,{children:[a.jsx(xx,{children:"Delete Coupon"}),a.jsxs(wx,{children:['Are you sure you want to delete coupon "',w?.code,'"? This action cannot be undone.']})]}),a.jsxs(yx,{children:[a.jsx(_x,{children:"Cancel"}),a.jsx(bx,{onClick:V,className:"bg-destructive hover:bg-destructive/90",children:"Delete"})]})]})})]})};function PNe(){const[t,e]=N.useState(!0),[r,n]=N.useState(null),[i,s]=N.useState(null),[o,c]=N.useState([]),[u,h]=N.useState(!1),[g,v]=N.useState(!1),[w,b]=N.useState(!1),[A,C]=N.useState(null),[E,P]=N.useState(""),[k,I]=N.useState(!1),[F,M]=N.useState(null),[D,R]=N.useState(null),{toast:$}=Gn(),z=Kn(),G=N.useRef(!1);N.useEffect(()=>{K(),W()},[]),N.useEffect(()=>{let se=!0;const me=[];let xe=null;const Ue=async()=>{try{const{data:{session:Se},error:je}=await ye.auth.getSession();if(je){console.error("Error getting session for subscription:",je);return}if(!Se){console.log("No session available, cannot set up subscription");return}const{data:{user:Ee},error:Fe}=await ye.auth.getUser();if(Fe){console.error("Error getting user for subscription:",Fe);return}if(!Ee||!Ee.id||Ee.id.trim()===""||!se){console.log("Cannot set up subscription: user or user.id is missing or empty");return}const Ce=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,be=Ee.id.trim();if(!Ce.test(be)){console.error("Invalid user ID format for subscription:",be);return}const He=ye.channel(`user-memberships-changes-${be}`).on("postgres_changes",{event:"*",schema:"public",table:"user_memberships",filter:`user_id=eq.${be}`},Te=>{console.log("Membership change detected:",Te),xe&&clearTimeout(xe),xe=setTimeout(()=>{se&&K()},500)}).subscribe(Te=>{Te==="SUBSCRIBED"?console.log("Real-time subscription active for user:",be):Te==="CHANNEL_ERROR"&&console.error("Real-time subscription error for user:",be)});me.push(He),console.log("Real-time subscription set up successfully for user:",be)}catch(Se){console.error("Error setting up subscription:",Se)}};return(async()=>{await new Promise(Ee=>setTimeout(Ee,200));let Se=0;const je=10;for(;Se<je&&se;){const{data:{session:Ee}}=await ye.auth.getSession();if(Ee){await Ue();return}Se++,await new Promise(Fe=>setTimeout(Fe,200))}se&&Se>=je&&console.warn("Could not establish session for real-time subscription after multiple attempts")})(),()=>{se=!1,xe&&clearTimeout(xe),me.forEach(Se=>{ye.removeChannel(Se)})}},[]),N.useEffect(()=>{r&&V()},[r]);const W=async()=>{try{const{data:{session:se}}=await ye.auth.getSession();if(!se)return;const{data:me,error:xe}=await ye.functions.invoke("check-subscription",{headers:{Authorization:`Bearer ${se.access_token}`}});xe?console.error("Error checking subscription:",xe):me?.has_subscription&&await K()}catch(se){console.error("Error checking subscription:",se)}},V=async()=>{if(!r){b(!1),C(null);return}try{const se=new Date(r.end_date),me=new Date,xe=Math.ceil((se.getTime()-me.getTime())/(1e3*60*60*24));if(se>me&&xe>0){if(C(xe),!r.cancelled_at){const Se=`membership_cancelled_${r.id}`;localStorage.removeItem(Se),b(!1),console.log("Membership reactivated - cleared cancellation data");return}if(r.cancelled_at){b(!0),console.log("Cancellation exists in database - showing cancellation message");const Se=`membership_cancelled_${r.id}`,je={cancelledAt:r.cancelled_at,endDate:r.end_date};localStorage.setItem(Se,JSON.stringify(je));return}const Ue=`membership_cancelled_${r.id}`,Pe=localStorage.getItem(Ue);if(Pe)try{const{cancelledAt:Se,endDate:je}=JSON.parse(Pe);console.log("Found cancellation data in localStorage:",{storedEndDate:je,currentEndDate:r.end_date,daysRemaining:xe}),je===r.end_date?(b(!0),console.log("Setting cancellation requested to true from localStorage")):(console.log("End date mismatch, clearing cancellation data"),localStorage.removeItem(Ue),b(!1))}catch(Se){console.error("Error parsing cancellation data:",Se),localStorage.removeItem(Ue),b(!1)}else console.log("No cancellation data found"),b(!1)}else{C(null),b(!1);const Ue=`membership_cancelled_${r.id}`;localStorage.removeItem(Ue);return}}catch(se){console.error("Error checking cancellation status:",se)}};N.useEffect(()=>{const se=new URLSearchParams(window.location.search);se.get("success")==="true"?($({title:"Payment Successful!",description:"Your membership has been activated."}),W(),window.history.replaceState({},"","/managememberships")):se.get("canceled")==="true"&&($({variant:"destructive",title:"Payment Cancelled",description:"Your payment was cancelled. No charges were made."}),window.history.replaceState({},"","/managememberships"))},[]);const K=async()=>{if(G.current){console.log("Fetch already in progress, skipping...");return}G.current=!0;try{const{data:{user:se}}=await ye.auth.getUser();if(!se){z("/login");return}const{data:me,error:xe}=await ye.from("user_memberships").select("*, cancelled_at").eq("user_id",se.id).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(xe)throw xe;n(me);const{data:Ue,error:Pe}=await ye.from("memberships").select("*").order("created_at",{ascending:!1});if(Pe)throw Pe;if(c(Ue||[]),me){const{data:Se,error:je}=await ye.from("memberships").select("*").eq("id",me.membership_id).single();if(je)throw je;s(Se)}else Ue&&Ue.length>0&&s(Ue[0])}catch(se){$({variant:"destructive",title:"Error loading membership data",description:se.message})}finally{e(!1),G.current=!1}},q=async se=>{if(!se||se.trim()===""){M(null),R(null);return}I(!0);try{const{data:me,error:xe}=await ye.rpc("is_coupon_valid",{_code:se.toUpperCase().trim()});if(xe)throw xe;if(me){const{data:Ue,error:Pe}=await ye.from("coupon_codes").select("type, value, description").eq("code",se.toUpperCase().trim()).single();if(Pe)throw Pe;M(!0),R(Ue)}else M(!1),R(null)}catch(me){M(!1),R(null),console.error("Error validating coupon:",me)}finally{I(!1)}};N.useEffect(()=>{if(E.trim()===""){M(null),R(null);return}const se=setTimeout(()=>{q(E)},500);return()=>clearTimeout(se)},[E]);const Y=async se=>{v(!0);try{const{data:{session:me}}=await ye.auth.getSession();if(!me)throw new Error("Not authenticated");if(E&&E.trim()!==""){const{data:Se}=await ye.rpc("is_coupon_valid",{_code:E.toUpperCase().trim()});if(!Se)throw new Error("Invalid coupon code. Please check and try again.")}const xe=se&&o.find(Se=>Se.id===se)||i;if(!xe)throw new Error("No membership selected");const{data:Ue,error:Pe}=await ye.functions.invoke("create-checkout",{headers:{Authorization:`Bearer ${me.access_token}`},body:{membership_id:xe.id,coupon_code:E&&E.trim()!==""?E.toUpperCase().trim():null}});if(Pe)throw Pe;Ue?.url&&(window.location.href=Ue.url)}catch(me){$({variant:"destructive",title:"Payment Setup Failed",description:me.message})}finally{v(!1)}},J=async()=>{if(r){v(!0);try{const{data:{session:se}}=await ye.auth.getSession();if(!se)throw new Error("Not authenticated");let me=null,xe=null,Ue=null;try{const je=await ye.functions.invoke("cancel-subscription",{headers:{Authorization:`Bearer ${se.access_token}`}});me=je.data,xe=je.error}catch(je){if(console.error("Cancel subscription exception:",je),xe=je,je.context instanceof Response)try{Ue=await je.context.clone().text(),console.log("Raw error response text:",Ue)}catch(Ee){console.error("Could not read error response:",Ee)}}if(console.log("Cancel subscription response:",{data:me,error:xe,hasData:!!me,hasError:!!xe}),xe){console.error("Cancel subscription error:",xe),console.error("Error details:",{message:xe.message,context:xe.context,status:xe.status,statusText:xe.statusText,fullError:JSON.stringify(xe,Object.getOwnPropertyNames(xe))});let je="Failed to cancel membership";if(Ue)try{const Ee=JSON.parse(Ue);je=Ee.error||Ee.errorDetails?.error||Ee.message||je,console.log("Parsed error body from raw text:",Ee)}catch{je=Ue||je}else if(xe.context instanceof Response)try{const Fe=await xe.context.clone().text();if(console.log("Response body text:",Fe),Fe)try{const Ce=JSON.parse(Fe);je=Ce.error||Ce.errorDetails?.error||Ce.message||je,console.log("Parsed error body:",Ce)}catch{je=Fe||je}}catch(Ee){console.error("Error reading response body:",Ee)}if(xe.context?.body&&typeof xe.context.body!="object")try{const Ee=typeof xe.context.body=="string"?JSON.parse(xe.context.body):xe.context.body;je=Ee.error||Ee.errorDetails?.error||Ee.message||je}catch{je=xe.context.body||je}throw xe.context?.msg&&!je.includes("Failed to cancel")&&(je=xe.context.msg),xe.message&&xe.message!=="Edge Function returned a non-2xx status code"&&xe.message!=="Unknown error"&&(je=xe.message),me?.error&&(je=me.error||me.errorDetails?.error||je),new Error(je)}if(me?.error)throw console.error("Cancel subscription response error:",me),new Error(me.error||me.message||"Failed to cancel membership");$({title:"Membership Cancelled",description:me?.message||"Your membership has been cancelled successfully. Benefits will continue until the end date."});const Pe=r?.payment_method==="stripe"||r?.stripe_subscription_id!==null;if(r&&!Pe){const je=`membership_cancelled_${r.id}`,Ee={cancelledAt:new Date().toISOString(),endDate:r.end_date};localStorage.setItem(je,JSON.stringify(Ee)),console.log(" Cancellation saved to localStorage:",{key:je,data:Ee});const Fe=new Date(r.end_date),Ce=new Date,be=Math.ceil((Fe.getTime()-Ce.getTime())/(1e3*60*60*24));Fe>Ce&&be>0&&(b(!0),C(be))}const Se=r?.id;if(await new Promise(je=>setTimeout(je,800)),await K(),await new Promise(je=>setTimeout(je,200)),Se){const{data:{user:je}}=await ye.auth.getUser();if(je){const{data:Ee}=await ye.from("user_memberships").select("*, cancelled_at").eq("user_id",je.id).eq("id",Se).single();if(Ee){n(Ee);const Fe=new Date(Ee.end_date),Ce=new Date,be=Math.ceil((Fe.getTime()-Ce.getTime())/(1e3*60*60*24));if(Fe>Ce&&be>0){C(be);const He=Ee.payment_method==="stripe"||Ee.stripe_subscription_id!==null;if(!He&&Ee.cancelled_at)b(!0),console.log(" Cancellation state updated from database:",{cancelled_at:Ee.cancelled_at,daysRemaining:be});else if(!He){const Te=`membership_cancelled_${Se}`;localStorage.getItem(Te)&&b(!0)}}}}}}catch(se){console.error("Error cancelling membership:",se);const me=se?.message||se?.error||"An unexpected error occurred. Please try again or contact support.";$({variant:"destructive",title:"Cancellation failed",description:me})}finally{v(!1)}}},ne=async()=>{v(!0);try{const{data:{session:se}}=await ye.auth.getSession();if(!se)throw new Error("Not authenticated");if(E&&E.trim()!==""){const{data:Ue}=await ye.rpc("is_coupon_valid",{_code:E.toUpperCase().trim()});if(!Ue)throw new Error("Invalid coupon code. Please check and try again.")}const{data:me,error:xe}=await ye.functions.invoke("create-checkout",{headers:{Authorization:`Bearer ${se.access_token}`},body:{membership_id:i?.id,coupon_code:E&&E.trim()!==""?E.toUpperCase().trim():null}});if(xe)throw xe;me?.url&&(window.location.href=me.url)}catch(se){$({variant:"destructive",title:"Renewal failed",description:se.message})}finally{v(!1)}};if(t)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx(Wn,{className:"h-8 w-8 animate-spin"})});const te=r?.status==="active"&&new Date(r.end_date)>new Date,Q=r?.status==="active"&&new Date(r.end_date)>new Date&&r.membership_id===i?.id,ue=r&&new Date(r.end_date)<=new Date,ae=r?.status==="cancelled";return a.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Manage Membership"}),r&&a.jsx(_e,{variant:u?"default":"outline",onClick:()=>h(!u),children:u?"Hide Plans":"Change Plan"})]}),r&&!u&&a.jsxs(qe,{className:"mb-6",children:[a.jsx(yt,{children:a.jsx(_t,{children:"Current Membership"})}),a.jsxs(ze,{className:"space-y-3",children:[i&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-muted-foreground",children:"Plan Name:"}),a.jsx("span",{className:"font-medium",children:i.name})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-muted-foreground",children:"Status:"}),a.jsx(Qt,{variant:te?"default":"secondary",children:te?"Active":ue?"Expired":ae?"Cancelled":r.status})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-muted-foreground",children:"Start Date:"}),a.jsx("span",{children:new Date(r.start_date).toLocaleDateString()})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-muted-foreground",children:"End Date:"}),a.jsx("span",{children:new Date(r.end_date).toLocaleDateString()})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-muted-foreground",children:"Payment Status:"}),a.jsx(Qt,{variant:r.payment_status==="paid"?"default":"destructive",children:r.payment_status})]}),w&&A!==null&&A>0&&a.jsx("div",{className:"pt-3 border-t",children:a.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[a.jsx("strong",{children:"Membership plan has been cancelled"})," but you have ",a.jsxs("strong",{children:[A," ",A===1?"day":"days"]})," remaining. Your benefits will continue until ",new Date(r.end_date).toLocaleDateString(),"."]})})}),te&&!w&&a.jsx("div",{className:"pt-3 border-t",children:a.jsxs(_e,{onClick:J,variant:"destructive",disabled:g,className:"w-full",children:[g&&a.jsx(Wn,{className:"mr-2 h-4 w-4 animate-spin"}),"Cancel Membership"]})})]})]}),(!r||u)&&o.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold",children:u?"Change Your Plan":"Available Membership Plans"}),a.jsxs(qe,{children:[a.jsxs(yt,{children:[a.jsx(_t,{className:"text-lg",children:"Have a Coupon Code?"}),a.jsx(cr,{children:"Enter your discount or referral code below"})]}),a.jsx(ze,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xt,{htmlFor:"coupon-code",children:"Coupon Code"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(jt,{id:"coupon-code",placeholder:"Enter coupon code",value:E,onChange:se=>P(se.target.value),className:"flex-1",disabled:g}),k&&a.jsx(Wn,{className:"h-4 w-4 animate-spin self-center"}),F===!0&&!k&&a.jsx(Do,{className:"h-5 w-5 text-green-500 self-center"}),F===!1&&!k&&a.jsx(Ic,{className:"h-5 w-5 text-red-500 self-center"})]}),F===!0&&D&&a.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400",children:[" Valid coupon: ",D.type==="percentage"?`${D.value}% off`:`${D.value.toFixed(2)} off`,D.description&&` - ${D.description}`]}),F===!1&&E.trim()!==""&&a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:"Invalid or expired coupon code"})]})})]}),a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:o.map(se=>{const me=r?.membership_id===se.id;return a.jsxs(qe,{className:`flex flex-col ${me?"ring-2 ring-primary":""}`,children:[a.jsx(yt,{children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx(_t,{children:se.name}),a.jsxs(cr,{children:[se.price?`${se.price}`:"Free"," ",se.price?"per month":"","  ",se.access_level||"Standard"]})]}),me&&a.jsx(Qt,{variant:"default",children:"Current"})]})}),a.jsxs(ze,{className:"flex-1 flex flex-col justify-between space-y-4",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-muted-foreground text-sm",children:["Duration: ",se.duration_days," days"]})}),a.jsxs(_e,{onClick:()=>Y(se.id),disabled:g||me,className:"w-full",variant:me?"secondary":"default",children:[g&&a.jsx(Wn,{className:"mr-2 h-4 w-4 animate-spin"}),me?"Current Plan":u?"Switch to This Plan":"Start Membership"]})]})]},se.id)})})]}),r&&i&&!u&&(r.payment_method==="stripe"||r.stripe_subscription_id)&&a.jsxs(a.Fragment,{children:[a.jsxs(qe,{children:[a.jsxs(yt,{children:[a.jsx(_t,{className:"text-lg",children:"Have a Coupon Code?"}),a.jsx(cr,{children:"Enter your discount or referral code below"})]}),a.jsx(ze,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xt,{htmlFor:"coupon-code-renewal",children:"Coupon Code"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(jt,{id:"coupon-code-renewal",placeholder:"Enter coupon code",value:E,onChange:se=>P(se.target.value),className:"flex-1",disabled:g}),k&&a.jsx(Wn,{className:"h-4 w-4 animate-spin self-center"}),F===!0&&!k&&a.jsx(Do,{className:"h-5 w-5 text-green-500 self-center"}),F===!1&&!k&&a.jsx(Ic,{className:"h-5 w-5 text-red-500 self-center"})]}),F===!0&&D&&a.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400",children:[" Valid coupon: ",D.type==="percentage"?`${D.value}% off`:`${D.value.toFixed(2)} off`,D.description&&` - ${D.description}`]}),F===!1&&E.trim()!==""&&a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:"Invalid or expired coupon code"})]})})]}),a.jsxs(qe,{children:[a.jsxs(yt,{children:[a.jsx(_t,{children:i.name}),a.jsxs(cr,{children:[i.price?`${i.price}`:"Free"," ",i.price?"per month":"","  ",i.access_level||"Standard"]})]}),a.jsxs(ze,{className:"space-y-4",children:[a.jsxs("p",{className:"text-muted-foreground",children:["Duration: ",i.duration_days," days"]}),a.jsxs("div",{className:"flex gap-3 flex-wrap",children:[Q&&a.jsxs(a.Fragment,{children:[a.jsxs(_e,{onClick:ne,disabled:g,children:[g&&a.jsx(Wn,{className:"mr-2 h-4 w-4 animate-spin"}),"Start Membership"]}),(r?.payment_method==="stripe"||r?.stripe_subscription_id)&&a.jsxs(_e,{onClick:J,variant:"destructive",disabled:g,children:[g&&a.jsx(Wn,{className:"mr-2 h-4 w-4 animate-spin"}),"Cancel Membership"]})]}),r&&r.membership_id===i?.id&&(ue||ae)&&!Q&&a.jsxs(_e,{onClick:ne,disabled:g,children:[g&&a.jsx(Wn,{className:"mr-2 h-4 w-4 animate-spin"}),"Reactivate Membership"]})]})]})]})]}),!r&&o.length===0&&!t&&a.jsx(qe,{children:a.jsx(ze,{className:"pt-6",children:a.jsx("p",{className:"text-muted-foreground text-center",children:"No membership plans are currently available. Please contact support."})})})]})}const INe=da({full_name:Cr().min(1,"Full name is required").max(100,"Name is too long"),phone:Cr().optional().or(ja("")),address:Cr().optional().or(ja("")),date_of_birth:Cr().optional().or(ja("")),emergency_contact:Cr().optional().or(ja("")),emergency_contact_phone:Cr().optional().or(ja("")),health_notes:Cr().optional().or(ja(""))}),RNe=()=>{const{user:t}=Vo(),e=Kn();Gn();const[r,n]=N.useState(!0),[i,s]=N.useState(!1),[o,c]=N.useState(!1),[u,h]=N.useState(null),[g,v]=N.useState([]),[w,b]=N.useState([]),[A,C]=N.useState(!1),E=xl({resolver:wl(INe),defaultValues:{full_name:"",phone:"",address:"",date_of_birth:"",emergency_contact:"",emergency_contact_phone:"",health_notes:""}});N.useEffect(()=>{t&&P()},[t]);const P=async()=>{try{if(n(!0),!t){e("/login");return}const{data:M,error:D}=await ye.from("profiles").select("*").eq("id",t.id).single();if(D)throw D;h(M),M&&E.reset({full_name:M.full_name||"",phone:M.phone||"",address:M.address||"",date_of_birth:M.date_of_birth||"",emergency_contact:M.emergency_contact||"",emergency_contact_phone:M.emergency_contact_phone||"",health_notes:M.health_notes||""});const{data:R,error:$}=await ye.from("user_memberships").select("*, memberships(name, price)").eq("user_id",t.id).order("created_at",{ascending:!1});if($)throw $;v(R||[]);const{data:z,error:G}=await ye.from("class_bookings").select("*, class_sessions(id, name, instructor, start_time, end_time)").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(50);if(G)throw G;b(z||[])}catch(M){console.error("Error fetching profile data:",M),Et({title:"Error loading profile",description:M.message})}finally{n(!1)}},k=async M=>{try{if(s(!0),!t)return;const D={full_name:Ou(M.full_name),phone:M.phone?Ou(M.phone):null,address:M.address?Ou(M.address):null,date_of_birth:M.date_of_birth||null,emergency_contact:M.emergency_contact?Ou(M.emergency_contact):null,emergency_contact_phone:M.emergency_contact_phone?Ou(M.emergency_contact_phone):null,health_notes:M.health_notes?Ou(M.health_notes):null},{error:R}=await ye.from("profiles").update(D).eq("id",t.id);if(R)throw R;Dn("Profile updated successfully!"),C(!1),await P()}catch(D){console.error("Error updating profile:",D),Et({title:"Error updating profile",description:D.message})}finally{s(!1)}},I=async M=>{try{const D=M.target.files?.[0];if(!D||!t)return;if(!D.type.startsWith("image/")){Et({title:"Invalid file type",description:"Please upload an image file."});return}if(D.size>5*1024*1024){Et({title:"File too large",description:"Please upload an image smaller than 5MB."});return}c(!0);const R=D.name.split(".").pop(),z=`avatars/${`${t.id}-${Date.now()}.${R}`}`,{error:G}=await ye.storage.from("avatars").upload(z,D,{cacheControl:"3600",upsert:!0});if(G)throw G;const{data:{publicUrl:W}}=ye.storage.from("avatars").getPublicUrl(z),{error:V}=await ye.from("profiles").update({avatar_url:W}).eq("id",t.id);if(V)throw V;Dn("Profile picture updated successfully!"),await P()}catch(D){console.error("Error uploading avatar:",D),Et({title:"Error uploading picture",description:D.message})}finally{c(!1),M.target.value=""}},F=M=>M?M.split(" ").map(D=>D[0]).join("").toUpperCase().slice(0,2):"U";return r?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(oa,{size:"lg",text:"Loading profile..."})}):a.jsx("div",{className:"min-h-screen bg-background p-6",children:a.jsxs("div",{className:"container mx-auto max-w-4xl",children:[a.jsx("h1",{className:"text-3xl font-bold mb-8",children:"My Profile"}),a.jsxs(Lg,{defaultValue:"profile",className:"space-y-6",children:[a.jsxs(Dh,{children:[a.jsx(qi,{value:"profile",children:"Profile"}),a.jsx(qi,{value:"memberships",children:"Membership History"}),a.jsx(qi,{value:"bookings",children:"Booking History"})]}),a.jsx(zi,{value:"profile",children:a.jsxs(qe,{children:[a.jsx(yt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(_t,{children:"Profile Information"}),a.jsx(cr,{children:"Manage your personal information"})]}),!A&&a.jsxs(_e,{onClick:()=>C(!0),variant:"outline",size:"sm",children:[a.jsx(Nh,{className:"w-4 h-4 mr-2"}),"Edit"]})]})}),a.jsxs(ze,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs(WN,{className:"w-24 h-24",children:[a.jsx(HN,{src:u?.avatar_url,alt:u?.full_name||"User"}),a.jsx(GN,{className:"text-2xl",children:F(u?.full_name)})]}),a.jsxs("div",{children:[a.jsx(Xt,{htmlFor:"avatar-upload",className:"cursor-pointer",children:a.jsx(_e,{variant:"outline",size:"sm",asChild:!0,disabled:o,children:a.jsxs("span",{children:[a.jsx(RY,{className:"w-4 h-4 mr-2"}),o?"Uploading...":"Upload Photo"]})})}),a.jsx(jt,{id:"avatar-upload",type:"file",accept:"image/*",className:"hidden",onChange:I,disabled:o}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"JPG, PNG or GIF. Max size 5MB"})]})]}),A?a.jsx(bl,{...E,children:a.jsxs("form",{onSubmit:E.handleSubmit(k),className:"space-y-4",children:[a.jsx(sr,{control:E.control,name:"full_name",render:({field:M})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Full Name"}),a.jsx(rr,{children:a.jsx(jt,{...M})}),a.jsx(fr,{})]})}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsx(sr,{control:E.control,name:"phone",render:({field:M})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Phone"}),a.jsx(rr,{children:a.jsx(jt,{type:"tel",...M})}),a.jsx(fr,{})]})}),a.jsx(sr,{control:E.control,name:"date_of_birth",render:({field:M})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Date of Birth"}),a.jsx(rr,{children:a.jsx(jt,{type:"date",...M})}),a.jsx(fr,{})]})})]}),a.jsx(sr,{control:E.control,name:"address",render:({field:M})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Address"}),a.jsx(rr,{children:a.jsx(Eh,{...M,rows:2})}),a.jsx(fr,{})]})}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsx(sr,{control:E.control,name:"emergency_contact",render:({field:M})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Emergency Contact Name"}),a.jsx(rr,{children:a.jsx(jt,{...M})}),a.jsx(fr,{})]})}),a.jsx(sr,{control:E.control,name:"emergency_contact_phone",render:({field:M})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Emergency Contact Phone"}),a.jsx(rr,{children:a.jsx(jt,{type:"tel",...M})}),a.jsx(fr,{})]})})]}),a.jsx(sr,{control:E.control,name:"health_notes",render:({field:M})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Health Notes"}),a.jsx(rr,{children:a.jsx(Eh,{...M,rows:4,placeholder:"Any health conditions or notes..."})}),a.jsx(ss,{children:"This information is kept confidential and only used for your safety."}),a.jsx(fr,{})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(_e,{type:"submit",disabled:i,children:[a.jsx(iA,{className:"w-4 h-4 mr-2"}),i?"Saving...":"Save Changes"]}),a.jsxs(_e,{type:"button",variant:"outline",onClick:()=>{C(!1),E.reset()},children:[a.jsx(Ju,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})}):a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(Xt,{className:"text-muted-foreground",children:"Email"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ry,{className:"w-4 h-4 text-muted-foreground"}),a.jsx("p",{className:"font-medium",children:t?.email})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Xt,{className:"text-muted-foreground",children:"Full Name"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Of,{className:"w-4 h-4 text-muted-foreground"}),a.jsx("p",{className:"font-medium",children:u?.full_name||"Not set"})]})]}),u?.phone&&a.jsxs("div",{className:"space-y-1",children:[a.jsx(Xt,{className:"text-muted-foreground",children:"Phone"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(AY,{className:"w-4 h-4 text-muted-foreground"}),a.jsx("p",{className:"font-medium",children:u.phone})]})]}),u?.date_of_birth&&a.jsxs("div",{className:"space-y-1",children:[a.jsx(Xt,{className:"text-muted-foreground",children:"Date of Birth"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fn,{className:"w-4 h-4 text-muted-foreground"}),a.jsx("p",{className:"font-medium",children:We(new Date(u.date_of_birth),"MMM d, yyyy")})]})]}),u?.address&&a.jsxs("div",{className:"space-y-1 md:col-span-2",children:[a.jsx(Xt,{className:"text-muted-foreground",children:"Address"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(GB,{className:"w-4 h-4 text-muted-foreground"}),a.jsx("p",{className:"font-medium",children:u.address})]})]}),u?.emergency_contact&&a.jsxs("div",{className:"space-y-1",children:[a.jsx(Xt,{className:"text-muted-foreground",children:"Emergency Contact"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Rl,{className:"w-4 h-4 text-muted-foreground"}),a.jsx("p",{className:"font-medium",children:u.emergency_contact}),u.emergency_contact_phone&&a.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",u.emergency_contact_phone,")"]})]})]}),u?.health_notes&&a.jsxs("div",{className:"space-y-1 md:col-span-2",children:[a.jsx(Xt,{className:"text-muted-foreground",children:"Health Notes"}),a.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:u.health_notes})]})]})})]})]})}),a.jsx(zi,{value:"memberships",children:a.jsxs(qe,{children:[a.jsxs(yt,{children:[a.jsxs(_t,{className:"flex items-center gap-2",children:[a.jsx(rA,{className:"w-5 h-5"}),"Membership History"]}),a.jsx(cr,{children:"View your membership subscription history"})]}),a.jsx(ze,{children:g.length>0?a.jsx("div",{className:"space-y-4",children:g.map(M=>{const D=M.status==="active"&&M.payment_status==="paid"&&new Date(M.end_date)>new Date,R=new Date(M.end_date)<new Date;return a.jsx("div",{className:"p-4 rounded-lg border bg-muted/30 flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h3",{className:"font-medium",children:M.memberships?.name||"Membership"}),a.jsx(Qt,{variant:D?"default":R?"destructive":"secondary",children:D?a.jsxs(a.Fragment,{children:[a.jsx(Do,{className:"w-3 h-3 mr-1"})," Active"]}):R?a.jsxs(a.Fragment,{children:[a.jsx(Ic,{className:"w-3 h-3 mr-1"})," Expired"]}):a.jsxs(a.Fragment,{children:[a.jsx(Lo,{className:"w-3 h-3 mr-1"})," ",M.status]})})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-2 text-sm text-muted-foreground",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Start:"})," ",We(new Date(M.start_date),"MMM d, yyyy")]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"End:"})," ",We(new Date(M.end_date),"MMM d, yyyy")]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Price:"})," ",M.memberships?.price?.toFixed(2)||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Payment:"})," ",M.payment_status]})]})]})},M.id)})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"No membership history"}),a.jsx(_e,{onClick:()=>e("/managememberships"),variant:"outline",children:"View Membership Plans"})]})})]})}),a.jsx(zi,{value:"bookings",children:a.jsxs(qe,{children:[a.jsxs(yt,{children:[a.jsxs(_t,{className:"flex items-center gap-2",children:[a.jsx(zB,{className:"w-5 h-5"}),"Booking History"]}),a.jsx(cr,{children:"View your class booking history"})]}),a.jsx(ze,{children:w.length>0?a.jsx("div",{className:"space-y-3",children:w.map(M=>a.jsx("div",{className:"p-4 rounded-lg border bg-muted/30 flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h3",{className:"font-medium",children:M.class_sessions?.name||"Class"}),a.jsx(Qt,{variant:M.status==="attended"?"default":M.status==="cancelled"?"destructive":M.status==="booked"?"secondary":"outline",children:M.status})]}),M.class_sessions&&a.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Instructor:"})," ",M.class_sessions.instructor]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Date:"})," ",We(new Date(M.class_sessions.start_time),"MMM d, yyyy 'at' h:mm a")]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Booked:"})," ",We(new Date(M.created_at),"MMM d, yyyy")]})]})]})},M.id))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"No booking history"}),a.jsx(_e,{onClick:()=>e("/classes"),variant:"outline",children:"Browse Classes"})]})})]})})]})]})})},vf=15,yf=15,MNe=()=>{const{user:t,loading:e}=Vo(),{toast:r}=Gn(),[n,i]=N.useState(!0),[s,o]=N.useState(0),[c,u]=N.useState(0),[h,g]=N.useState([]),[v,w]=N.useState([]),[b,A]=N.useState(null),C=async()=>{try{if(i(!0),!t){i(!1);return}const{data:I,error:F}=await ye.from("reward_claims").select("claimed_at").eq("user_id",t.id).order("claimed_at",{ascending:!1}).limit(1).maybeSingle();if(F)throw F;A(I?.claimed_at||null);const M=ye.from("check_ins").select("id, check_in_time, check_out_time").eq("user_id",t.id).order("check_in_time",{ascending:!1});I?.claimed_at&&M.gt("check_in_time",I.claimed_at);const{data:D,error:R}=await M;if(R)throw R;g(D||[]);let $=0;(D||[]).forEach(V=>{if(V.check_out_time){const K=new Date(V.check_in_time).getTime(),J=(new Date(V.check_out_time).getTime()-K)/(1e3*60*60);$+=J}}),o(Math.round($*10)/10);const z=ye.from("class_bookings").select("id, status").eq("user_id",t.id).eq("status","attended");I?.claimed_at&&z.gt("created_at",I.claimed_at);const{data:G,error:W}=await z;if(W)throw W;w(G||[]),u(G?.length||0)}catch(I){console.error("Rewards load error:",I),r({variant:"destructive",title:"Error loading rewards",description:I.message})}finally{i(!1)}};N.useEffect(()=>{!e&&t?C():!e&&!t&&i(!1)},[t,e]);const E=Math.min(s/vf*100,100),P=Math.min(c/yf*100,100),k=s>=vf&&c>=yf;return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(oa,{size:"lg",text:"Loading rewards..."})}):a.jsx("div",{className:"min-h-screen bg-background p-6",children:a.jsxs("div",{className:"container mx-auto max-w-4xl",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[a.jsx(NN,{className:"w-8 h-8 text-primary"}),a.jsx("h1",{className:"text-3xl font-bold",children:"Rewards"})]}),a.jsxs(qe,{className:"mb-6",children:[a.jsxs(yt,{children:[a.jsx(_t,{children:"Your Progress"}),a.jsx(cr,{children:"Track your gym hours and classes to unlock rewards"})]}),a.jsxs(ze,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Lo,{className:"w-5 h-5 text-primary"}),a.jsx("span",{className:"font-medium",children:"Hours in Gym"})]}),a.jsxs("span",{className:"text-lg font-semibold",children:[s.toFixed(1),"/",vf]})]}),a.jsx(Ip,{value:E,className:"h-3"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:s>=vf?" Goal reached!":`${(vf-s).toFixed(1)} hours remaining`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ao,{className:"w-5 h-5 text-secondary"}),a.jsx("span",{className:"font-medium",children:"Classes"})]}),a.jsxs("span",{className:"text-lg font-semibold",children:[c,"/",yf]})]}),a.jsx(Ip,{value:P,className:"h-3"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:c>=yf?" Goal reached!":`${yf-c} classes remaining`})]})]})]}),k&&t&&a.jsxs(qe,{className:"mb-6 border-primary",children:[a.jsxs(yt,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(U1,{className:"w-5 h-5 text-primary"}),a.jsx(_t,{children:"Congratulations! "})]}),a.jsx(cr,{children:"You've reached both goals! Scan this QR code to claim your reward."})]}),a.jsx(ze,{children:a.jsx(DNe,{userId:t.id})})]}),a.jsxs(qe,{children:[a.jsx(yt,{children:a.jsx(_t,{children:"How It Works"})}),a.jsxs(ze,{className:"space-y-2 text-sm text-muted-foreground",children:[a.jsx("p",{children:" Track your gym hours by checking in and out properly"}),a.jsx("p",{children:" Attend classes to count towards your class goal"}),a.jsxs("p",{children:[" Reach ",vf," hours and ",yf," classes to unlock your reward"]}),a.jsx("p",{children:" Your reward QR code refreshes every 5 minutes for security"})]})]})]})})},DNe=({userId:t})=>{const[e,r]=N.useState(`reward-${Math.floor(Date.now()/3e5)}`);return N.useEffect(()=>{const n=setInterval(()=>{const i=`reward-${Math.floor(Date.now()/3e5)}`;r(i)},3e5);return()=>clearInterval(n)},[]),a.jsx(IO,{userId:t,action:"reward",sessionId:e,title:"Reward QR Code",description:"This code refreshes every 5 minutes for security",size:250,showDownload:!0,showRefresh:!0})},LNe=da({currentPassword:Cr().min(1,"Current password is required"),newPassword:OO,confirmPassword:Cr().min(1,"Please confirm your password")}).refine(t=>t.newPassword===t.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}).refine(t=>t.currentPassword!==t.newPassword,{message:"New password must be different from current password",path:["newPassword"]}),BNe=()=>{const{user:t,logout:e}=Vo(),r=Kn(),{toast:n}=Gn(),[i,s]=N.useState(!1),[o,c]=N.useState(!1),[u,h]=N.useState(!1),[g,v]=N.useState(!1),[w,b]=N.useState(!1),[A,C]=N.useState(!1),[E,P]=N.useState(!0),[k,I]=N.useState(!1),[F,M]=N.useState(!0),D=xl({resolver:wl(LNe),defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),R=async W=>{try{if(s(!0),!t?.email)throw new Error("User email not found");const{error:V}=await ye.auth.signInWithPassword({email:t.email,password:W.currentPassword});if(V)throw new Error("Current password is incorrect");const{error:K}=await ye.auth.updateUser({password:W.newPassword});if(K)throw K;Dn("Password changed successfully!"),D.reset()}catch(V){console.error("Error changing password:",V),Et({title:"Failed to change password",description:V.message||"An error occurred while changing your password"})}finally{s(!1)}},$=async()=>{C(!0),setTimeout(()=>{b(!w),C(!1),n({title:"2FA Coming Soon",description:"Two-factor authentication will be available in a future update.",variant:"default"})},500)},z=async()=>{try{Dn("Email preferences updated successfully!")}catch(W){Et({title:"Failed to update preferences",description:W.message})}},G=async()=>{try{await e(),r("/login")}catch(W){Et({title:"Logout failed",description:W.message})}};return t?a.jsx("div",{className:"min-h-screen bg-background p-6",children:a.jsxs("div",{className:"container mx-auto max-w-4xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage your account settings and preferences"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(qe,{children:[a.jsxs(yt,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(WB,{className:"w-5 h-5 text-primary"}),a.jsx(_t,{children:"Change Password"})]}),a.jsx(cr,{children:"Update your password to keep your account secure"})]}),a.jsx(ze,{children:a.jsx(bl,{...D,children:a.jsxs("form",{onSubmit:D.handleSubmit(R),className:"space-y-4",children:[a.jsx(sr,{control:D.control,name:"currentPassword",render:({field:W})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Current Password"}),a.jsx(rr,{children:a.jsxs("div",{className:"relative",children:[a.jsx(jt,{type:o?"text":"password",...W,placeholder:"Enter your current password"}),a.jsx(_e,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>c(!o),children:o?a.jsx(Ub,{className:"h-4 w-4"}):a.jsx($b,{className:"h-4 w-4"})})]})}),a.jsx(fr,{})]})}),a.jsx(sr,{control:D.control,name:"newPassword",render:({field:W})=>a.jsxs(er,{children:[a.jsx(tr,{children:"New Password"}),a.jsx(rr,{children:a.jsxs("div",{className:"relative",children:[a.jsx(jt,{type:u?"text":"password",...W,placeholder:"Enter your new password"}),a.jsx(_e,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>h(!u),children:u?a.jsx(Ub,{className:"h-4 w-4"}):a.jsx($b,{className:"h-4 w-4"})})]})}),a.jsx(ss,{children:"Must be at least 8 characters with uppercase, lowercase, and a number"}),a.jsx(fr,{})]})}),a.jsx(sr,{control:D.control,name:"confirmPassword",render:({field:W})=>a.jsxs(er,{children:[a.jsx(tr,{children:"Confirm New Password"}),a.jsx(rr,{children:a.jsxs("div",{className:"relative",children:[a.jsx(jt,{type:g?"text":"password",...W,placeholder:"Confirm your new password"}),a.jsx(_e,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>v(!g),children:g?a.jsx(Ub,{className:"h-4 w-4"}):a.jsx($b,{className:"h-4 w-4"})})]})}),a.jsx(fr,{})]})}),a.jsx(_e,{type:"submit",disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(Wn,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(iA,{className:"mr-2 h-4 w-4"}),"Update Password"]})})]})})})]}),a.jsxs(qe,{children:[a.jsxs(yt,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(KB,{className:"w-5 h-5 text-primary"}),a.jsx(_t,{children:"Two-Factor Authentication"})]}),a.jsx(cr,{children:"Add an extra layer of security to your account"})]}),a.jsxs(ze,{children:[a.jsxs(sd,{className:"mb-4",children:[a.jsx(Al,{className:"h-4 w-4"}),a.jsx(ad,{children:"Two-factor authentication is coming soon. This feature will be available in a future update."})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Xt,{htmlFor:"2fa",children:"Enable 2FA"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Require a verification code in addition to your password"})]}),a.jsx(yl,{id:"2fa",checked:w,onCheckedChange:$,disabled:A})]})]})]}),a.jsxs(qe,{children:[a.jsxs(yt,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ry,{className:"w-5 h-5 text-primary"}),a.jsx(_t,{children:"Email Preferences"})]}),a.jsx(cr,{children:"Manage how and when you receive emails from us"})]}),a.jsxs(ze,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Xt,{htmlFor:"notifications",children:"Email Notifications"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive important account and security updates"})]}),a.jsx(yl,{id:"notifications",checked:E,onCheckedChange:P})]}),a.jsx(Ku,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Xt,{htmlFor:"reminders",children:"Booking Reminders"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Get reminders about upcoming classes and bookings"})]}),a.jsx(yl,{id:"reminders",checked:F,onCheckedChange:M})]}),a.jsx(Ku,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Xt,{htmlFor:"marketing",children:"Marketing Emails"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive updates about new features and promotions"})]}),a.jsx(yl,{id:"marketing",checked:k,onCheckedChange:I})]}),a.jsxs(_e,{onClick:z,className:"mt-4",children:[a.jsx(iA,{className:"mr-2 h-4 w-4"}),"Save Preferences"]})]})]}),a.jsxs(qe,{children:[a.jsxs(yt,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pY,{className:"w-5 h-5 text-primary"}),a.jsx(_t,{children:"Account Settings"})]}),a.jsx(cr,{children:"Manage your account information and preferences"})]}),a.jsxs(ze,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xt,{children:"Email Address"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jt,{value:t.email||"",disabled:!0,className:"flex-1"}),a.jsx(_e,{variant:"outline",size:"sm",disabled:!0,children:"Change"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"To change your email, please contact support"})]}),a.jsx(Ku,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xt,{children:"Account Created"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t.created_at?new Date(t.created_at).toLocaleDateString():"N/A"})]})]})]}),a.jsxs(qe,{className:"border-destructive",children:[a.jsxs(yt,{children:[a.jsx(_t,{className:"text-destructive",children:"Danger Zone"}),a.jsx(cr,{children:"Irreversible and destructive actions"})]}),a.jsx(ze,{children:a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Xt,{children:"Sign Out"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign out of your account on this device"})]}),a.jsxs(_e,{variant:"destructive",onClick:G,children:[a.jsx(AN,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})})})]})]})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(oa,{size:"lg",text:"Loading settings..."})})},FNe=async(t,e="free_drink")=>{try{const{data:{user:r},error:n}=await ye.auth.getUser();if(n||!r)return{success:!1,error:"User not authenticated"};if(t.action!=="reward")return{success:!1,error:"Invalid QR code type. This QR code is not for rewards."};if(t.userId!==r.id)return{success:!1,error:"This QR code does not belong to you."};const{data:i,error:s}=await ye.rpc("claim_reward",{_user_id:r.id,_qr_timestamp:t.timestamp,_qr_session_id:t.sessionId||"",_reward_type:e});return s?{success:!1,error:s.message||"Failed to claim reward"}:i&&i.success?{success:!0,message:i.message||"Reward claimed successfully!",claimed_at:i.claimed_at}:{success:!1,error:i?.error||"Failed to claim reward"}}catch(r){return console.error("Error claiming reward:",r),{success:!1,error:r.message||"An unexpected error occurred"}}},UNe=()=>{const[t,e]=N.useState(!1),[r,n]=N.useState(!1),[i,s]=N.useState(null),{toast:o}=Gn(),c=async u=>{if(!jy(u)){o({variant:"destructive",title:"QR Code Expired",description:"This QR code has expired. Please ask the member to generate a new one."}),e(!1);return}if(u.action!=="reward"){o({variant:"destructive",title:"Invalid QR Code",description:"This QR code is not for rewards."}),e(!1);return}n(!0),s(null);try{const h=await FNe(u,"free_drink");h.success?(s({success:!0,message:h.message||"Reward claimed successfully!"}),o({variant:"default",title:"Success!",description:"Free drink reward has been claimed."})):(s({success:!1,message:h.error||"Failed to claim reward"}),o({variant:"destructive",title:"Claim Failed",description:h.error||"Failed to claim reward"}))}catch(h){s({success:!1,message:h.message||"An error occurred"}),o({variant:"destructive",title:"Error",description:h.message||"An error occurred"})}finally{n(!1),e(!1)}};return a.jsx("div",{className:"min-h-screen bg-background p-6",children:a.jsx("div",{className:"container mx-auto max-w-2xl",children:a.jsxs(qe,{children:[a.jsx(yt,{children:a.jsxs(_t,{className:"flex items-center gap-2",children:[a.jsx(U1,{className:"w-5 h-5"}),"Claim Reward"]})}),a.jsx(ze,{className:"space-y-4",children:t?a.jsxs("div",{className:"space-y-4",children:[a.jsx(bV,{onScan:c,onError:u=>{o({variant:"destructive",title:"Scan Error",description:u}),e(!1)}}),a.jsx(_e,{onClick:()=>e(!1),variant:"outline",className:"w-full",children:"Cancel"})]}):a.jsxs(a.Fragment,{children:[a.jsx(_e,{onClick:()=>e(!0),className:"w-full",size:"lg",disabled:r,children:r?"Processing...":"Scan QR Code"}),i&&a.jsxs("div",{className:`p-4 rounded-lg flex items-center gap-2 ${i.success?"bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800"}`,children:[i.success?a.jsx(Do,{className:"w-5 h-5 text-green-600 dark:text-green-400"}):a.jsx(Ic,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),a.jsx("p",{className:i.success?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200",children:i.message})]})]})})]})})})},$Ne=()=>a.jsx(cl,{children:a.jsx(UNe,{})}),VNe=()=>{const t=Kn(),[e,r]=N.useState(null),[n,i]=N.useState("Verifying your account..."),s=async(o,c)=>{try{i("Setting up your profile...");const{data:u}=await ye.from("profiles").select("id").eq("id",o).single();if(!u){const g=c?.full_name||c?.name||`${c?.given_name||""} ${c?.family_name||""}`.trim()||"",v=c?.avatar_url||c?.picture||null,{error:w}=await ye.from("profiles").insert({id:o,full_name:g,avatar_url:v});w&&w.code!=="23505"?console.error("Error creating profile for OAuth user:",w):console.log("Profile created for OAuth user:",o)}const{data:h}=await ye.from("user_roles").select("id").eq("user_id",o).eq("role","member").single();if(!h){const{error:g}=await ye.from("user_roles").insert({user_id:o,role:"member"});g&&g.code!=="23505"?console.error("Error creating role for OAuth user:",g):console.log("Member role assigned to OAuth user:",o)}}catch(u){console.error("Error ensuring profile and role for OAuth user:",u)}};return N.useEffect(()=>{(async()=>{try{i("Verifying your account...");const{data:{session:c}}=await ye.auth.getSession();if(c){console.log("AuthCallback: Existing session found for user:",c.user?.id),c.user&&await s(c.user.id,c.user.user_metadata),window.location.hash&&window.history.replaceState(null,"",window.location.pathname),t("/dashboard",{replace:!0});return}const u=new URLSearchParams(window.location.hash.substring(1)),h=u.get("access_token"),g=u.get("refresh_token"),v=u.get("type");if(console.log("AuthCallback: Processing tokens, type:",v),h&&g){i("Establishing your session..."),console.log("AuthCallback: Setting session with tokens");const{data:w,error:b}=await ye.auth.setSession({access_token:h,refresh_token:g});if(b){console.error("Session set error:",b),r(b.message);return}if(w.session){console.log("Auth callback successful, session established for user:",w.session.user?.id),w.session.user&&await s(w.session.user.id,w.session.user.user_metadata),window.history.replaceState(null,"",window.location.pathname),v==="recovery"?t("/reset-password",{replace:!0}):t("/dashboard",{replace:!0});return}}console.log("AuthCallback: No session and no tokens, redirecting to login"),t("/login",{replace:!0})}catch(c){console.error("Auth callback error:",c),r(c.message||"An error occurred during authentication")}})()},[t]),e?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"text-destructive text-lg font-semibold",children:"Authentication Error"}),a.jsx("p",{className:"text-muted-foreground",children:e}),a.jsx("button",{onClick:()=>t("/login"),className:"text-secondary hover:underline",children:"Return to Login"})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx(Wn,{className:"w-8 h-8 animate-spin mx-auto text-primary"}),a.jsx("p",{className:"text-muted-foreground",children:n})]})})},qNe=()=>{const t=$o(),e=Kn();return N.useEffect(()=>{const r=xO();if((t.pathname==="/mars-space-gym-buddy/"||t.pathname.startsWith("/mars-space-gym-buddy/"))&&r===""&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.includes("localhost"))){const n=t.pathname.replace("/mars-space-gym-buddy","")||"/";e(n,{replace:!0});return}},[t.pathname,e]),a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted p-4",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("h1",{className:"text-6xl font-bold",children:"404"}),a.jsx("p",{className:"text-xl text-muted-foreground",children:"Oops! Page not found"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["The route ",a.jsx("code",{className:"bg-muted px-2 py-1 rounded",children:t.pathname})," does not exist."]}),a.jsxs("div",{className:"flex gap-4 justify-center",children:[a.jsx(_e,{onClick:()=>e("/"),variant:"default",children:"Return to Home"}),a.jsx(_e,{onClick:()=>e(-1),variant:"outline",children:"Go Back"})]})]})})},zNe=new oJ,WNe=()=>{const t=Kn(),e=$o();return N.useEffect(()=>{const r=sessionStorage.getItem("redirectPath");r&&e.pathname==="/"&&(sessionStorage.removeItem("redirectPath"),t(r,{replace:!0}))},[t,e.pathname]),null},HNe=()=>{const t=xO()||void 0;return a.jsx(Kse,{children:a.jsx(cJ,{client:zNe,children:a.jsxs(M7,{children:[a.jsx(xX,{}),a.jsx(ZX,{}),a.jsxs(iee,{basename:t,children:[a.jsx(WNe,{}),a.jsx(Vse,{children:a.jsxs(tee,{children:[a.jsx(mn,{path:"/",element:a.jsx(Yse,{})}),a.jsx(mn,{path:"/login",element:a.jsx(eoe,{})}),a.jsx(mn,{path:"/register",element:a.jsx(toe,{})}),a.jsx(mn,{path:"/forgot-password",element:a.jsx(roe,{})}),a.jsx(mn,{path:"/reset-password",element:a.jsx(voe,{})}),a.jsx(mn,{path:"/auth/callback",element:a.jsx(VNe,{})}),a.jsx(mn,{path:"/verify-email",element:a.jsx(Co,{requireEmailVerification:!1,children:a.jsx(UU,{})})}),a.jsx(mn,{path:"/dashboard",element:a.jsx(Co,{children:a.jsx(jce,{})})}),a.jsx(mn,{path:"/classes",element:a.jsx(Co,{children:a.jsx(Mce,{})})}),a.jsx(mn,{path:"/classes/:classId",element:a.jsx(Co,{children:a.jsx(Lce,{})})}),a.jsx(mn,{path:"/bookings",element:a.jsx(Co,{children:a.jsx(sue,{})})}),a.jsx(mn,{path:"/managememberships",element:a.jsx(Co,{children:a.jsx(PNe,{})})}),a.jsx(mn,{path:"/profile",element:a.jsx(Co,{children:a.jsx(RNe,{})})}),a.jsx(mn,{path:"/qr/entry-exit",element:a.jsx(Co,{children:a.jsx(Lue,{})})}),a.jsx(mn,{path:"/rewards",element:a.jsx(Co,{children:a.jsx(MNe,{})})}),a.jsx(mn,{path:"/settings",element:a.jsx(Co,{children:a.jsx(BNe,{})})}),a.jsx(mn,{path:"/admin",element:a.jsx(cl,{children:a.jsx(Bue,{})})}),a.jsx(mn,{path:"/admin/users",element:a.jsx(cl,{children:a.jsx(bde,{})})}),a.jsx(mn,{path:"/admin/analytics",element:a.jsx(cl,{children:a.jsx(sNe,{})})}),a.jsx(mn,{path:"/admin/manageclasses",element:a.jsx(cl,{children:a.jsx(_Ne,{})})}),a.jsx(mn,{path:"/admin/memberships",element:a.jsx(cl,{children:a.jsx(CNe,{})})}),a.jsx(mn,{path:"/admin/usermemberships",element:a.jsx(cl,{children:a.jsx(ENe,{})})}),a.jsx(mn,{path:"/admin/reward-claim",element:a.jsx(cl,{children:a.jsx($Ne,{})})}),a.jsx(mn,{path:"/admin/managedeals",element:a.jsx(cl,{children:a.jsx(kNe,{})})}),a.jsx(mn,{path:"*",element:a.jsx(qNe,{})})]})})]})]})})})};hK.createRoot(document.getElementById("root")).render(a.jsx(HNe,{}));
