function aj(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function KG(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Sb={exports:{}},bp={},Eb={exports:{}},Er={};var VP;function YG(){if(VP)return Er;VP=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function w(se){return se===null||typeof se!="object"?null:(se=v&&se[v]||se["@@iterator"],typeof se=="function"?se:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,E={};function C(se,le,me){this.props=se,this.context=le,this.refs=E,this.updater=me||b}C.prototype.isReactComponent={},C.prototype.setState=function(se,le){if(typeof se!="object"&&typeof se!="function"&&se!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,se,le,"setState")},C.prototype.forceUpdate=function(se){this.updater.enqueueForceUpdate(this,se,"forceUpdate")};function R(){}R.prototype=C.prototype;function I(se,le,me){this.props=se,this.context=le,this.refs=E,this.updater=me||b}var P=I.prototype=new R;P.constructor=I,A(P,C.prototype),P.isPureReactComponent=!0;var L=Array.isArray,T=Object.prototype.hasOwnProperty,D={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function $(se,le,me){var pe,Re={},_e=null,we=null;if(le!=null)for(pe in le.ref!==void 0&&(we=le.ref),le.key!==void 0&&(_e=""+le.key),le)T.call(le,pe)&&!M.hasOwnProperty(pe)&&(Re[pe]=le[pe]);var Le=arguments.length-2;if(Le===1)Re.children=me;else if(1<Le){for(var je=Array(Le),Fe=0;Fe<Le;Fe++)je[Fe]=arguments[Fe+2];Re.children=je}if(se&&se.defaultProps)for(pe in Le=se.defaultProps,Le)Re[pe]===void 0&&(Re[pe]=Le[pe]);return{$$typeof:t,type:se,key:_e,ref:we,props:Re,_owner:D.current}}function V(se,le){return{$$typeof:t,type:se.type,key:le,ref:se.ref,props:se.props,_owner:se._owner}}function K(se){return typeof se=="object"&&se!==null&&se.$$typeof===t}function H(se){var le={"=":"=0",":":"=2"};return"$"+se.replace(/[=:]/g,function(me){return le[me]})}var z=/\/+/g;function Z(se,le){return typeof se=="object"&&se!==null&&se.key!=null?H(""+se.key):le.toString(36)}function W(se,le,me,pe,Re){var _e=typeof se;(_e==="undefined"||_e==="boolean")&&(se=null);var we=!1;if(se===null)we=!0;else switch(_e){case"string":case"number":we=!0;break;case"object":switch(se.$$typeof){case t:case e:we=!0}}if(we)return we=se,Re=Re(we),se=pe===""?"."+Z(we,0):pe,L(Re)?(me="",se!=null&&(me=se.replace(z,"$&/")+"/"),W(Re,le,me,"",function(Fe){return Fe})):Re!=null&&(K(Re)&&(Re=V(Re,me+(!Re.key||we&&we.key===Re.key?"":(""+Re.key).replace(z,"$&/")+"/")+se)),le.push(Re)),1;if(we=0,pe=pe===""?".":pe+":",L(se))for(var Le=0;Le<se.length;Le++){_e=se[Le];var je=pe+Z(_e,Le);we+=W(_e,le,me,je,Re)}else if(je=w(se),typeof je=="function")for(se=je.call(se),Le=0;!(_e=se.next()).done;)_e=_e.value,je=pe+Z(_e,Le++),we+=W(_e,le,me,je,Re);else if(_e==="object")throw le=String(se),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(se).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.");return we}function G(se,le,me){if(se==null)return se;var pe=[],Re=0;return W(se,pe,"","",function(_e){return le.call(me,_e,Re++)}),pe}function J(se){if(se._status===-1){var le=se._result;le=le(),le.then(function(me){(se._status===0||se._status===-1)&&(se._status=1,se._result=me)},function(me){(se._status===0||se._status===-1)&&(se._status=2,se._result=me)}),se._status===-1&&(se._status=0,se._result=le)}if(se._status===1)return se._result.default;throw se._result}var ie={current:null},ne={transition:null},ee={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:ne,ReactCurrentOwner:D};function de(){throw Error("act(...) is not supported in production builds of React.")}return Er.Children={map:G,forEach:function(se,le,me){G(se,function(){le.apply(this,arguments)},me)},count:function(se){var le=0;return G(se,function(){le++}),le},toArray:function(se){return G(se,function(le){return le})||[]},only:function(se){if(!K(se))throw Error("React.Children.only expected to receive a single React element child.");return se}},Er.Component=C,Er.Fragment=r,Er.Profiler=i,Er.PureComponent=I,Er.StrictMode=n,Er.Suspense=u,Er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Er.act=de,Er.cloneElement=function(se,le,me){if(se==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+se+".");var pe=A({},se.props),Re=se.key,_e=se.ref,we=se._owner;if(le!=null){if(le.ref!==void 0&&(_e=le.ref,we=D.current),le.key!==void 0&&(Re=""+le.key),se.type&&se.type.defaultProps)var Le=se.type.defaultProps;for(je in le)T.call(le,je)&&!M.hasOwnProperty(je)&&(pe[je]=le[je]===void 0&&Le!==void 0?Le[je]:le[je])}var je=arguments.length-2;if(je===1)pe.children=me;else if(1<je){Le=Array(je);for(var Fe=0;Fe<je;Fe++)Le[Fe]=arguments[Fe+2];pe.children=Le}return{$$typeof:t,type:se.type,key:Re,ref:_e,props:pe,_owner:we}},Er.createContext=function(se){return se={$$typeof:a,_currentValue:se,_currentValue2:se,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},se.Provider={$$typeof:s,_context:se},se.Consumer=se},Er.createElement=$,Er.createFactory=function(se){var le=$.bind(null,se);return le.type=se,le},Er.createRef=function(){return{current:null}},Er.forwardRef=function(se){return{$$typeof:c,render:se}},Er.isValidElement=K,Er.lazy=function(se){return{$$typeof:g,_payload:{_status:-1,_result:se},_init:J}},Er.memo=function(se,le){return{$$typeof:h,type:se,compare:le===void 0?null:le}},Er.startTransition=function(se){var le=ne.transition;ne.transition={};try{se()}finally{ne.transition=le}},Er.unstable_act=de,Er.useCallback=function(se,le){return ie.current.useCallback(se,le)},Er.useContext=function(se){return ie.current.useContext(se)},Er.useDebugValue=function(){},Er.useDeferredValue=function(se){return ie.current.useDeferredValue(se)},Er.useEffect=function(se,le){return ie.current.useEffect(se,le)},Er.useId=function(){return ie.current.useId()},Er.useImperativeHandle=function(se,le,me){return ie.current.useImperativeHandle(se,le,me)},Er.useInsertionEffect=function(se,le){return ie.current.useInsertionEffect(se,le)},Er.useLayoutEffect=function(se,le){return ie.current.useLayoutEffect(se,le)},Er.useMemo=function(se,le){return ie.current.useMemo(se,le)},Er.useReducer=function(se,le,me){return ie.current.useReducer(se,le,me)},Er.useRef=function(se){return ie.current.useRef(se)},Er.useState=function(se){return ie.current.useState(se)},Er.useSyncExternalStore=function(se,le,me){return ie.current.useSyncExternalStore(se,le,me)},Er.useTransition=function(){return ie.current.useTransition()},Er.version="18.3.1",Er}var qP;function N1(){return qP||(qP=1,Eb.exports=YG()),Eb.exports}var WP;function XG(){if(WP)return bp;WP=1;var t=N1(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(c,u,h){var g,v={},w=null,b=null;h!==void 0&&(w=""+h),u.key!==void 0&&(w=""+u.key),u.ref!==void 0&&(b=u.ref);for(g in u)n.call(u,g)&&!s.hasOwnProperty(g)&&(v[g]=u[g]);if(c&&c.defaultProps)for(g in u=c.defaultProps,u)v[g]===void 0&&(v[g]=u[g]);return{$$typeof:e,type:c,key:w,ref:b,props:v,_owner:i.current}}return bp.Fragment=r,bp.jsx=a,bp.jsxs=a,bp}var zP;function ZG(){return zP||(zP=1,Sb.exports=XG()),Sb.exports}var o=ZG(),Z0={},Cb={exports:{}},xs={},Ab={exports:{}},Nb={};var HP;function QG(){return HP||(HP=1,(function(t){function e(ne,ee){var de=ne.length;ne.push(ee);e:for(;0<de;){var se=de-1>>>1,le=ne[se];if(0<i(le,ee))ne[se]=ee,ne[de]=le,de=se;else break e}}function r(ne){return ne.length===0?null:ne[0]}function n(ne){if(ne.length===0)return null;var ee=ne[0],de=ne.pop();if(de!==ee){ne[0]=de;e:for(var se=0,le=ne.length,me=le>>>1;se<me;){var pe=2*(se+1)-1,Re=ne[pe],_e=pe+1,we=ne[_e];if(0>i(Re,de))_e<le&&0>i(we,Re)?(ne[se]=we,ne[_e]=de,se=_e):(ne[se]=Re,ne[pe]=de,se=pe);else if(_e<le&&0>i(we,de))ne[se]=we,ne[_e]=de,se=_e;else break e}}return ee}function i(ne,ee){var de=ne.sortIndex-ee.sortIndex;return de!==0?de:ne.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],h=[],g=1,v=null,w=3,b=!1,A=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(ne){for(var ee=r(h);ee!==null;){if(ee.callback===null)n(h);else if(ee.startTime<=ne)n(h),ee.sortIndex=ee.expirationTime,e(u,ee);else break;ee=r(h)}}function L(ne){if(E=!1,P(ne),!A)if(r(u)!==null)A=!0,J(T);else{var ee=r(h);ee!==null&&ie(L,ee.startTime-ne)}}function T(ne,ee){A=!1,E&&(E=!1,R($),$=-1),b=!0;var de=w;try{for(P(ee),v=r(u);v!==null&&(!(v.expirationTime>ee)||ne&&!H());){var se=v.callback;if(typeof se=="function"){v.callback=null,w=v.priorityLevel;var le=se(v.expirationTime<=ee);ee=t.unstable_now(),typeof le=="function"?v.callback=le:v===r(u)&&n(u),P(ee)}else n(u);v=r(u)}if(v!==null)var me=!0;else{var pe=r(h);pe!==null&&ie(L,pe.startTime-ee),me=!1}return me}finally{v=null,w=de,b=!1}}var D=!1,M=null,$=-1,V=5,K=-1;function H(){return!(t.unstable_now()-K<V)}function z(){if(M!==null){var ne=t.unstable_now();K=ne;var ee=!0;try{ee=M(!0,ne)}finally{ee?Z():(D=!1,M=null)}}else D=!1}var Z;if(typeof I=="function")Z=function(){I(z)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,G=W.port2;W.port1.onmessage=z,Z=function(){G.postMessage(null)}}else Z=function(){C(z,0)};function J(ne){M=ne,D||(D=!0,Z())}function ie(ne,ee){$=C(function(){ne(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){A||b||(A=!0,J(T))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(ne){switch(w){case 1:case 2:case 3:var ee=3;break;default:ee=w}var de=w;w=ee;try{return ne()}finally{w=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,ee){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var de=w;w=ne;try{return ee()}finally{w=de}},t.unstable_scheduleCallback=function(ne,ee,de){var se=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?se+de:se):de=se,ne){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=de+le,ne={id:g++,callback:ee,priorityLevel:ne,startTime:de,expirationTime:le,sortIndex:-1},de>se?(ne.sortIndex=de,e(h,ne),r(u)===null&&ne===r(h)&&(E?(R($),$=-1):E=!0,ie(L,de-se))):(ne.sortIndex=le,e(u,ne),A||b||(A=!0,J(T))),ne},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(ne){var ee=w;return function(){var de=w;w=ee;try{return ne.apply(this,arguments)}finally{w=de}}}})(Nb)),Nb}var GP;function JG(){return GP||(GP=1,Ab.exports=QG()),Ab.exports}var KP;function eK(){if(KP)return xs;KP=1;var t=N1(),e=JG();function r(d){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+d,S=1;S<arguments.length;S++)m+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(d,m){a(d,m),a(d+"Capture",m)}function a(d,m){for(i[d]=m,d=0;d<m.length;d++)n.add(m[d])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function w(d){return u.call(v,d)?!0:u.call(g,d)?!1:h.test(d)?v[d]=!0:(g[d]=!0,!1)}function b(d,m,S,O){if(S!==null&&S.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return O?!1:S!==null?!S.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function A(d,m,S,O){if(m===null||typeof m>"u"||b(d,m,S,O))return!0;if(O)return!1;if(S!==null)switch(S.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function E(d,m,S,O,F,U,Q){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=O,this.attributeNamespace=F,this.mustUseProperty=S,this.propertyName=d,this.type=m,this.sanitizeURL=U,this.removeEmptyString=Q}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){C[d]=new E(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var m=d[0];C[m]=new E(m,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){C[d]=new E(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){C[d]=new E(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){C[d]=new E(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){C[d]=new E(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){C[d]=new E(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){C[d]=new E(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){C[d]=new E(d,5,!1,d.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function I(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var m=d.replace(R,I);C[m]=new E(m,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var m=d.replace(R,I);C[m]=new E(m,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var m=d.replace(R,I);C[m]=new E(m,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){C[d]=new E(d,1,!1,d.toLowerCase(),null,!1,!1)}),C.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){C[d]=new E(d,1,!1,d.toLowerCase(),null,!0,!0)});function P(d,m,S,O){var F=C.hasOwnProperty(m)?C[m]:null;(F!==null?F.type!==0:O||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(A(m,S,F,O)&&(S=null),O||F===null?w(m)&&(S===null?d.removeAttribute(m):d.setAttribute(m,""+S)):F.mustUseProperty?d[F.propertyName]=S===null?F.type===3?!1:"":S:(m=F.attributeName,O=F.attributeNamespace,S===null?d.removeAttribute(m):(F=F.type,S=F===3||F===4&&S===!0?"":""+S,O?d.setAttributeNS(O,m,S):d.setAttribute(m,S))))}var L=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),D=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),H=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),ne=Symbol.iterator;function ee(d){return d===null||typeof d!="object"?null:(d=ne&&d[ne]||d["@@iterator"],typeof d=="function"?d:null)}var de=Object.assign,se;function le(d){if(se===void 0)try{throw Error()}catch(S){var m=S.stack.trim().match(/\n( *(at )?)/);se=m&&m[1]||""}return`
`+se+d}var me=!1;function pe(d,m){if(!d||me)return"";me=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(Ie){var O=Ie}Reflect.construct(d,[],m)}else{try{m.call()}catch(Ie){O=Ie}d.call(m.prototype)}else{try{throw Error()}catch(Ie){O=Ie}d()}}catch(Ie){if(Ie&&O&&typeof Ie.stack=="string"){for(var F=Ie.stack.split(`
`),U=O.stack.split(`
`),Q=F.length-1,ue=U.length-1;1<=Q&&0<=ue&&F[Q]!==U[ue];)ue--;for(;1<=Q&&0<=ue;Q--,ue--)if(F[Q]!==U[ue]){if(Q!==1||ue!==1)do if(Q--,ue--,0>ue||F[Q]!==U[ue]){var ve=`
`+F[Q].replace(" at new "," at ");return d.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",d.displayName)),ve}while(1<=Q&&0<=ue);break}}}finally{me=!1,Error.prepareStackTrace=S}return(d=d?d.displayName||d.name:"")?le(d):""}function Re(d){switch(d.tag){case 5:return le(d.type);case 16:return le("Lazy");case 13:return le("Suspense");case 19:return le("SuspenseList");case 0:case 2:case 15:return d=pe(d.type,!1),d;case 11:return d=pe(d.type.render,!1),d;case 1:return d=pe(d.type,!0),d;default:return""}}function _e(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case M:return"Fragment";case D:return"Portal";case V:return"Profiler";case $:return"StrictMode";case Z:return"Suspense";case W:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case H:return(d.displayName||"Context")+".Consumer";case K:return(d._context.displayName||"Context")+".Provider";case z:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case G:return m=d.displayName||null,m!==null?m:_e(d.type)||"Memo";case J:m=d._payload,d=d._init;try{return _e(d(m))}catch{}}return null}function we(d){var m=d.type;switch(d.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=m.render,d=d.displayName||d.name||"",m.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(m);case 8:return m===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function Le(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function je(d){var m=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function Fe(d){var m=je(d)?"checked":"value",S=Object.getOwnPropertyDescriptor(d.constructor.prototype,m),O=""+d[m];if(!d.hasOwnProperty(m)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var F=S.get,U=S.set;return Object.defineProperty(d,m,{configurable:!0,get:function(){return F.call(this)},set:function(Q){O=""+Q,U.call(this,Q)}}),Object.defineProperty(d,m,{enumerable:S.enumerable}),{getValue:function(){return O},setValue:function(Q){O=""+Q},stopTracking:function(){d._valueTracker=null,delete d[m]}}}}function We(d){d._valueTracker||(d._valueTracker=Fe(d))}function Oe(d){if(!d)return!1;var m=d._valueTracker;if(!m)return!0;var S=m.getValue(),O="";return d&&(O=je(d)?d.checked?"true":"false":d.value),d=O,d!==S?(m.setValue(d),!0):!1}function et(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function Ue(d,m){var S=m.checked;return de({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:S??d._wrapperState.initialChecked})}function st(d,m){var S=m.defaultValue==null?"":m.defaultValue,O=m.checked!=null?m.checked:m.defaultChecked;S=Le(m.value!=null?m.value:S),d._wrapperState={initialChecked:O,initialValue:S,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function Et(d,m){m=m.checked,m!=null&&P(d,"checked",m,!1)}function dt(d,m){Et(d,m);var S=Le(m.value),O=m.type;if(S!=null)O==="number"?(S===0&&d.value===""||d.value!=S)&&(d.value=""+S):d.value!==""+S&&(d.value=""+S);else if(O==="submit"||O==="reset"){d.removeAttribute("value");return}m.hasOwnProperty("value")?ut(d,m.type,S):m.hasOwnProperty("defaultValue")&&ut(d,m.type,Le(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(d.defaultChecked=!!m.defaultChecked)}function kt(d,m,S){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var O=m.type;if(!(O!=="submit"&&O!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+d._wrapperState.initialValue,S||m===d.value||(d.value=m),d.defaultValue=m}S=d.name,S!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,S!==""&&(d.name=S)}function ut(d,m,S){(m!=="number"||et(d.ownerDocument)!==d)&&(S==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+S&&(d.defaultValue=""+S))}var fe=Array.isArray;function he(d,m,S,O){if(d=d.options,m){m={};for(var F=0;F<S.length;F++)m["$"+S[F]]=!0;for(S=0;S<d.length;S++)F=m.hasOwnProperty("$"+d[S].value),d[S].selected!==F&&(d[S].selected=F),F&&O&&(d[S].defaultSelected=!0)}else{for(S=""+Le(S),m=null,F=0;F<d.length;F++){if(d[F].value===S){d[F].selected=!0,O&&(d[F].defaultSelected=!0);return}m!==null||d[F].disabled||(m=d[F])}m!==null&&(m.selected=!0)}}function Ne(d,m){if(m.dangerouslySetInnerHTML!=null)throw Error(r(91));return de({},m,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function Ye(d,m){var S=m.value;if(S==null){if(S=m.children,m=m.defaultValue,S!=null){if(m!=null)throw Error(r(92));if(fe(S)){if(1<S.length)throw Error(r(93));S=S[0]}m=S}m==null&&(m=""),S=m}d._wrapperState={initialValue:Le(S)}}function Ve(d,m){var S=Le(m.value),O=Le(m.defaultValue);S!=null&&(S=""+S,S!==d.value&&(d.value=S),m.defaultValue==null&&d.defaultValue!==S&&(d.defaultValue=S)),O!=null&&(d.defaultValue=""+O)}function qe(d){var m=d.textContent;m===d._wrapperState.initialValue&&m!==""&&m!==null&&(d.value=m)}function ae(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Me(d,m){return d==null||d==="http://www.w3.org/1999/xhtml"?ae(m):d==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var lt,ft=(function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,S,O,F){MSApp.execUnsafeLocalFunction(function(){return d(m,S,O,F)})}:d})(function(d,m){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=m;else{for(lt=lt||document.createElement("div"),lt.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=lt.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;m.firstChild;)d.appendChild(m.firstChild)}});function _r(d,m){if(m){var S=d.firstChild;if(S&&S===d.lastChild&&S.nodeType===3){S.nodeValue=m;return}}d.textContent=m}var Sr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kr=["Webkit","ms","Moz","O"];Object.keys(Sr).forEach(function(d){kr.forEach(function(m){m=m+d.charAt(0).toUpperCase()+d.substring(1),Sr[m]=Sr[d]})});function Bt(d,m,S){return m==null||typeof m=="boolean"||m===""?"":S||typeof m!="number"||m===0||Sr.hasOwnProperty(d)&&Sr[d]?(""+m).trim():m+"px"}function ze(d,m){d=d.style;for(var S in m)if(m.hasOwnProperty(S)){var O=S.indexOf("--")===0,F=Bt(S,m[S],O);S==="float"&&(S="cssFloat"),O?d.setProperty(S,F):d[S]=F}}var Ur=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gr(d,m){if(m){if(Ur[d]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(r(137,d));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(r(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(r(61))}if(m.style!=null&&typeof m.style!="object")throw Error(r(62))}}function $r(d,m){if(d.indexOf("-")===-1)return typeof m.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var us=null;function so(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Io=null,yr=null,xi=null;function ds(d){if(d=ap(d)){if(typeof Io!="function")throw Error(r(280));var m=d.stateNode;m&&(m=f0(m),Io(d.stateNode,d.type,m))}}function Hc(d){yr?xi?xi.push(d):xi=[d]:yr=d}function Pt(){if(yr){var d=yr,m=xi;if(xi=yr=null,ds(d),m)for(d=0;d<m.length;d++)ds(m[d])}}function Or(d,m){return d(m)}function ir(){}var Pn=!1;function si(d,m,S){if(Pn)return d(m,S);Pn=!0;try{return Or(d,m,S)}finally{Pn=!1,(yr!==null||xi!==null)&&(ir(),Pt())}}function mn(d,m){var S=d.stateNode;if(S===null)return null;var O=f0(S);if(O===null)return null;S=O[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(O=!O.disabled)||(d=d.type,O=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!O;break e;default:d=!1}if(d)return null;if(S&&typeof S!="function")throw Error(r(231,m,typeof S));return S}var Ts=!1;if(c)try{var gn={};Object.defineProperty(gn,"passive",{get:function(){Ts=!0}}),window.addEventListener("test",gn,gn),window.removeEventListener("test",gn,gn)}catch{Ts=!1}function fs(d,m,S,O,F,U,Q,ue,ve){var Ie=Array.prototype.slice.call(arguments,3);try{m.apply(S,Ie)}catch(Ke){this.onError(Ke)}}var Gn=!1,ra=null,Oi=!1,ht=null,Nl={onError:function(d){Gn=!0,ra=d}};function Fh(d,m,S,O,F,U,Q,ue,ve){Gn=!1,ra=null,fs.apply(Nl,arguments)}function Fi(d,m,S,O,F,U,Q,ue,ve){if(Fh.apply(this,arguments),Gn){if(Gn){var Ie=ra;Gn=!1,ra=null}else throw Error(r(198));Oi||(Oi=!0,ht=Ie)}}function hs(d){var m=d,S=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,(m.flags&4098)!==0&&(S=m.return),d=m.return;while(d)}return m.tag===3?S:null}function Gc(d){if(d.tag===13){var m=d.memoizedState;if(m===null&&(d=d.alternate,d!==null&&(m=d.memoizedState)),m!==null)return m.dehydrated}return null}function Kc(d){if(hs(d)!==d)throw Error(r(188))}function na(d){var m=d.alternate;if(!m){if(m=hs(d),m===null)throw Error(r(188));return m!==d?null:d}for(var S=d,O=m;;){var F=S.return;if(F===null)break;var U=F.alternate;if(U===null){if(O=F.return,O!==null){S=O;continue}break}if(F.child===U.child){for(U=F.child;U;){if(U===S)return Kc(F),d;if(U===O)return Kc(F),m;U=U.sibling}throw Error(r(188))}if(S.return!==O.return)S=F,O=U;else{for(var Q=!1,ue=F.child;ue;){if(ue===S){Q=!0,S=F,O=U;break}if(ue===O){Q=!0,O=F,S=U;break}ue=ue.sibling}if(!Q){for(ue=U.child;ue;){if(ue===S){Q=!0,S=U,O=F;break}if(ue===O){Q=!0,O=U,S=F;break}ue=ue.sibling}if(!Q)throw Error(r(189))}}if(S.alternate!==O)throw Error(r(190))}if(S.tag!==3)throw Error(r(188));return S.stateNode.current===S?d:m}function zg(d){return d=na(d),d!==null?Hg(d):null}function Hg(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var m=Hg(d);if(m!==null)return m;d=d.sibling}return null}var ks=e.unstable_scheduleCallback,wi=e.unstable_cancelCallback,nn=e.unstable_shouldYield,Gg=e.unstable_requestPaint,Vr=e.unstable_now,Uh=e.unstable_getCurrentPriorityLevel,$e=e.unstable_ImmediatePriority,Kg=e.unstable_UserBlockingPriority,en=e.unstable_NormalPriority,jl=e.unstable_LowPriority,Yg=e.unstable_IdlePriority,Tr=null,fr=null;function Ar(d){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(Tr,d,void 0,(d.current.flags&128)===128)}catch{}}var es=Math.clz32?Math.clz32:Fn,$h=Math.log,Vh=Math.LN2;function Fn(d){return d>>>=0,d===0?32:31-($h(d)/Vh|0)|0}var Ps=64,_d=4194304;function tn(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Is(d,m){var S=d.pendingLanes;if(S===0)return 0;var O=0,F=d.suspendedLanes,U=d.pingedLanes,Q=S&268435455;if(Q!==0){var ue=Q&~F;ue!==0?O=tn(ue):(U&=Q,U!==0&&(O=tn(U)))}else Q=S&~F,Q!==0?O=tn(Q):U!==0&&(O=tn(U));if(O===0)return 0;if(m!==0&&m!==O&&(m&F)===0&&(F=O&-O,U=m&-m,F>=U||F===16&&(U&4194240)!==0))return m;if((O&4)!==0&&(O|=S&16),m=d.entangledLanes,m!==0)for(d=d.entanglements,m&=O;0<m;)S=31-es(m),F=1<<S,O|=d[S],m&=~F;return O}function nw(d,m){switch(d){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ol(d,m){for(var S=d.suspendedLanes,O=d.pingedLanes,F=d.expirationTimes,U=d.pendingLanes;0<U;){var Q=31-es(U),ue=1<<Q,ve=F[Q];ve===-1?((ue&S)===0||(ue&O)!==0)&&(F[Q]=nw(ue,m)):ve<=m&&(d.expiredLanes|=ue),U&=~ue}}function qr(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function ai(){var d=Ps;return Ps<<=1,(Ps&4194240)===0&&(Ps=64),d}function Ee(d){for(var m=[],S=0;31>S;S++)m.push(d);return m}function oe(d,m,S){d.pendingLanes|=m,m!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,m=31-es(m),d[m]=S}function It(d,m){var S=d.pendingLanes&~m;d.pendingLanes=m,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=m,d.mutableReadLanes&=m,d.entangledLanes&=m,m=d.entanglements;var O=d.eventTimes;for(d=d.expirationTimes;0<S;){var F=31-es(S),U=1<<F;m[F]=0,O[F]=-1,d[F]=-1,S&=~U}}function In(d,m){var S=d.entangledLanes|=m;for(d=d.entanglements;S;){var O=31-es(S),F=1<<O;F&m|d[O]&m&&(d[O]|=m),S&=~F}}var hr=0;function Xg(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var Sd,Ui,Mt,sn,qh,Wh=!1,Tl=[],Rs=null,ia=null,ao=null,Cn=new Map,ja=new Map,Ti=[],Wt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zg(d,m){switch(d){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":ao=null;break;case"pointerover":case"pointerout":Cn.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":ja.delete(m.pointerId)}}function Jt(d,m,S,O,F,U){return d===null||d.nativeEvent!==U?(d={blockedOn:m,domEventName:S,eventSystemFlags:O,nativeEvent:U,targetContainers:[F]},m!==null&&(m=ap(m),m!==null&&Ui(m)),d):(d.eventSystemFlags|=O,m=d.targetContainers,F!==null&&m.indexOf(F)===-1&&m.push(F),d)}function oi(d,m,S,O,F){switch(m){case"focusin":return Rs=Jt(Rs,d,m,S,O,F),!0;case"dragenter":return ia=Jt(ia,d,m,S,O,F),!0;case"mouseover":return ao=Jt(ao,d,m,S,O,F),!0;case"pointerover":var U=F.pointerId;return Cn.set(U,Jt(Cn.get(U)||null,d,m,S,O,F)),!0;case"gotpointercapture":return U=F.pointerId,ja.set(U,Jt(ja.get(U)||null,d,m,S,O,F)),!0}return!1}function Qg(d){var m=iu(d.target);if(m!==null){var S=hs(m);if(S!==null){if(m=S.tag,m===13){if(m=Gc(S),m!==null){d.blockedOn=m,qh(d.priority,function(){Mt(S)});return}}else if(m===3&&S.stateNode.current.memoizedState.isDehydrated){d.blockedOn=S.tag===3?S.stateNode.containerInfo:null;return}}}d.blockedOn=null}function kl(d){if(d.blockedOn!==null)return!1;for(var m=d.targetContainers;0<m.length;){var S=Ed(d.domEventName,d.eventSystemFlags,m[0],d.nativeEvent);if(S===null){S=d.nativeEvent;var O=new S.constructor(S.type,S);us=O,S.target.dispatchEvent(O),us=null}else return m=ap(S),m!==null&&Ui(m),d.blockedOn=S,!1;m.shift()}return!0}function zh(d,m,S){kl(d)&&S.delete(m)}function Ro(){Wh=!1,Rs!==null&&kl(Rs)&&(Rs=null),ia!==null&&kl(ia)&&(ia=null),ao!==null&&kl(ao)&&(ao=null),Cn.forEach(zh),ja.forEach(zh)}function Yc(d,m){d.blockedOn===m&&(d.blockedOn=null,Wh||(Wh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ro)))}function Oa(d){function m(F){return Yc(F,d)}if(0<Tl.length){Yc(Tl[0],d);for(var S=1;S<Tl.length;S++){var O=Tl[S];O.blockedOn===d&&(O.blockedOn=null)}}for(Rs!==null&&Yc(Rs,d),ia!==null&&Yc(ia,d),ao!==null&&Yc(ao,d),Cn.forEach(m),ja.forEach(m),S=0;S<Ti.length;S++)O=Ti[S],O.blockedOn===d&&(O.blockedOn=null);for(;0<Ti.length&&(S=Ti[0],S.blockedOn===null);)Qg(S),S.blockedOn===null&&Ti.shift()}var sa=L.ReactCurrentBatchConfig,oo=!0;function Jg(d,m,S,O){var F=hr,U=sa.transition;sa.transition=null;try{hr=1,Mo(d,m,S,O)}finally{hr=F,sa.transition=U}}function Xc(d,m,S,O){var F=hr,U=sa.transition;sa.transition=null;try{hr=4,Mo(d,m,S,O)}finally{hr=F,sa.transition=U}}function Mo(d,m,S,O){if(oo){var F=Ed(d,m,S,O);if(F===null)hw(d,m,O,li,S),Zg(d,O);else if(oi(F,d,m,S,O))O.stopPropagation();else if(Zg(d,O),m&4&&-1<Wt.indexOf(d)){for(;F!==null;){var U=ap(F);if(U!==null&&Sd(U),U=Ed(d,m,S,O),U===null&&hw(d,m,O,li,S),U===F)break;F=U}F!==null&&O.stopPropagation()}else hw(d,m,O,null,S)}}var li=null;function Ed(d,m,S,O){if(li=null,d=so(O),d=iu(d),d!==null)if(m=hs(d),m===null)d=null;else if(S=m.tag,S===13){if(d=Gc(m),d!==null)return d;d=null}else if(S===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;d=null}else m!==d&&(d=null);return li=d,null}function Hh(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uh()){case $e:return 1;case Kg:return 4;case en:case jl:return 16;case Yg:return 536870912;default:return 16}default:return 16}}var Ta=null,Gh=null,Cd=null;function e0(){if(Cd)return Cd;var d,m=Gh,S=m.length,O,F="value"in Ta?Ta.value:Ta.textContent,U=F.length;for(d=0;d<S&&m[d]===F[d];d++);var Q=S-d;for(O=1;O<=Q&&m[S-O]===F[U-O];O++);return Cd=F.slice(d,1<O?1-O:void 0)}function Pr(d){var m=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&m===13&&(d=13)):d=m,d===10&&(d=13),32<=d||d===13?d:0}function Zc(){return!0}function Qc(){return!1}function Rn(d){function m(S,O,F,U,Q){this._reactName=S,this._targetInst=F,this.type=O,this.nativeEvent=U,this.target=Q,this.currentTarget=null;for(var ue in d)d.hasOwnProperty(ue)&&(S=d[ue],this[ue]=S?S(U):U[ue]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?Zc:Qc,this.isPropagationStopped=Qc,this}return de(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var S=this.nativeEvent;S&&(S.preventDefault?S.preventDefault():typeof S.returnValue!="unknown"&&(S.returnValue=!1),this.isDefaultPrevented=Zc)},stopPropagation:function(){var S=this.nativeEvent;S&&(S.stopPropagation?S.stopPropagation():typeof S.cancelBubble!="unknown"&&(S.cancelBubble=!0),this.isPropagationStopped=Zc)},persist:function(){},isPersistent:Zc}),m}var Pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pe=Rn(Pl),rr=de({},Pl,{view:0,detail:0}),ci=Rn(rr),Il,Ad,Jc,Nd=de({},rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eu,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Jc&&(Jc&&d.type==="mousemove"?(Il=d.screenX-Jc.screenX,Ad=d.screenY-Jc.screenY):Ad=Il=0,Jc=d),Il)},movementY:function(d){return"movementY"in d?d.movementY:Ad}}),t0=Rn(Nd),Kh=de({},Nd,{dataTransfer:0}),Un=Rn(Kh),Yh=de({},rr,{relatedTarget:0}),an=Rn(Yh),jd=de({},Pl,{animationName:0,elapsedTime:0,pseudoElement:0}),Do=Rn(jd),Kr=de({},Pl,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),$t=Rn(Kr),iw=de({},Pl,{data:0}),Zr=Rn(iw),Lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aa(d){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(d):(d=sw[d])?!!m[d]:!1}function eu(){return aa}var r0=de({},rr,{key:function(d){if(d.key){var m=Lo[d.key]||d.key;if(m!=="Unidentified")return m}return d.type==="keypress"?(d=Pr(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Rl[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eu,charCode:function(d){return d.type==="keypress"?Pr(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Pr(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),Xh=Rn(r0),n0=de({},Nd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zh=Rn(n0),aw=de({},rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eu}),Ml=Rn(aw),Qh=de({},Pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),ow=Rn(Qh),tu=de({},Nd,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),lw=Rn(tu),lo=[9,13,27,32],Dl=c&&"CompositionEvent"in window,bi=null;c&&"documentMode"in document&&(bi=document.documentMode);var i0=c&&"TextEvent"in window&&!bi,Ms=c&&(!Dl||bi&&8<bi&&11>=bi),s0=" ",Od=!1;function a0(d,m){switch(d){case"keyup":return lo.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jh(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var ki=!1;function cw(d,m){switch(d){case"compositionend":return Jh(m);case"keypress":return m.which!==32?null:(Od=!0,s0);case"textInput":return d=m.data,d===s0&&Od?null:d;default:return null}}function ep(d,m){if(ki)return d==="compositionend"||!Dl&&a0(d,m)?(d=e0(),Cd=Gh=Ta=null,ki=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return Ms&&m.locale!=="ko"?null:m.data;default:return null}}var ru={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jr(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m==="input"?!!ru[d.type]:m==="textarea"}function nu(d,m,S,O){Hc(O),m=c0(m,"onChange"),0<m.length&&(S=new Pe("onChange","change",null,S,O),d.push({event:S,listeners:m}))}var Y=null,l=null;function f(d){ik(d,0)}function p(d){var m=Pd(d);if(Oe(m))return d}function y(d,m){if(d==="change")return m}var x=!1;if(c){var _;if(c){var N="oninput"in document;if(!N){var k=document.createElement("div");k.setAttribute("oninput","return;"),N=typeof k.oninput=="function"}_=N}else _=!1;x=_&&(!document.documentMode||9<document.documentMode)}function B(){Y&&(Y.detachEvent("onpropertychange",q),l=Y=null)}function q(d){if(d.propertyName==="value"&&p(l)){var m=[];nu(m,l,d,so(d)),si(f,m)}}function X(d,m,S){d==="focusin"?(B(),Y=m,l=S,Y.attachEvent("onpropertychange",q)):d==="focusout"&&B()}function te(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return p(l)}function ce(d,m){if(d==="click")return p(m)}function ge(d,m){if(d==="input"||d==="change")return p(m)}function ye(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var be=typeof Object.is=="function"?Object.is:ye;function ke(d,m){if(be(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var S=Object.keys(d),O=Object.keys(m);if(S.length!==O.length)return!1;for(O=0;O<S.length;O++){var F=S[O];if(!u.call(m,F)||!be(d[F],m[F]))return!1}return!0}function Je(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function tt(d,m){var S=Je(d);d=0;for(var O;S;){if(S.nodeType===3){if(O=d+S.textContent.length,d<=m&&O>=m)return{node:S,offset:m-d};d=O}e:{for(;S;){if(S.nextSibling){S=S.nextSibling;break e}S=S.parentNode}S=void 0}S=Je(S)}}function Ge(d,m){return d&&m?d===m?!0:d&&d.nodeType===3?!1:m&&m.nodeType===3?Ge(d,m.parentNode):"contains"in d?d.contains(m):d.compareDocumentPosition?!!(d.compareDocumentPosition(m)&16):!1:!1}function wr(){for(var d=window,m=et();m instanceof d.HTMLIFrameElement;){try{var S=typeof m.contentWindow.location.href=="string"}catch{S=!1}if(S)d=m.contentWindow;else break;m=et(d.document)}return m}function er(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m&&(m==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||m==="textarea"||d.contentEditable==="true")}function $i(d){var m=wr(),S=d.focusedElem,O=d.selectionRange;if(m!==S&&S&&S.ownerDocument&&Ge(S.ownerDocument.documentElement,S)){if(O!==null&&er(S)){if(m=O.start,d=O.end,d===void 0&&(d=m),"selectionStart"in S)S.selectionStart=m,S.selectionEnd=Math.min(d,S.value.length);else if(d=(m=S.ownerDocument||document)&&m.defaultView||window,d.getSelection){d=d.getSelection();var F=S.textContent.length,U=Math.min(O.start,F);O=O.end===void 0?U:Math.min(O.end,F),!d.extend&&U>O&&(F=O,O=U,U=F),F=tt(S,U);var Q=tt(S,O);F&&Q&&(d.rangeCount!==1||d.anchorNode!==F.node||d.anchorOffset!==F.offset||d.focusNode!==Q.node||d.focusOffset!==Q.offset)&&(m=m.createRange(),m.setStart(F.node,F.offset),d.removeAllRanges(),U>O?(d.addRange(m),d.extend(Q.node,Q.offset)):(m.setEnd(Q.node,Q.offset),d.addRange(m)))}}for(m=[],d=S;d=d.parentNode;)d.nodeType===1&&m.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<m.length;S++)d=m[S],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var Ds=c&&"documentMode"in document&&11>=document.documentMode,$n=null,Fr=null,jn=null,Pi=!1;function Bo(d,m,S){var O=S.window===S?S.document:S.nodeType===9?S:S.ownerDocument;Pi||$n==null||$n!==et(O)||(O=$n,"selectionStart"in O&&er(O)?O={start:O.selectionStart,end:O.selectionEnd}:(O=(O.ownerDocument&&O.ownerDocument.defaultView||window).getSelection(),O={anchorNode:O.anchorNode,anchorOffset:O.anchorOffset,focusNode:O.focusNode,focusOffset:O.focusOffset}),jn&&ke(jn,O)||(jn=O,O=c0(Fr,"onSelect"),0<O.length&&(m=new Pe("onSelect","select",null,m,S),d.push({event:m,listeners:O}),m.target=$n)))}function ka(d,m){var S={};return S[d.toLowerCase()]=m.toLowerCase(),S["Webkit"+d]="webkit"+m,S["Moz"+d]="moz"+m,S}var Ll={animationend:ka("Animation","AnimationEnd"),animationiteration:ka("Animation","AnimationIteration"),animationstart:ka("Animation","AnimationStart"),transitionend:ka("Transition","TransitionEnd")},tp={},XT={};c&&(XT=document.createElement("div").style,"AnimationEvent"in window||(delete Ll.animationend.animation,delete Ll.animationiteration.animation,delete Ll.animationstart.animation),"TransitionEvent"in window||delete Ll.transitionend.transition);function o0(d){if(tp[d])return tp[d];if(!Ll[d])return d;var m=Ll[d],S;for(S in m)if(m.hasOwnProperty(S)&&S in XT)return tp[d]=m[S];return d}var ZT=o0("animationend"),QT=o0("animationiteration"),JT=o0("animationstart"),ek=o0("transitionend"),tk=new Map,rk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bl(d,m){tk.set(d,m),s(m,[d])}for(var uw=0;uw<rk.length;uw++){var dw=rk[uw],nG=dw.toLowerCase(),iG=dw[0].toUpperCase()+dw.slice(1);Bl(nG,"on"+iG)}Bl(ZT,"onAnimationEnd"),Bl(QT,"onAnimationIteration"),Bl(JT,"onAnimationStart"),Bl("dblclick","onDoubleClick"),Bl("focusin","onFocus"),Bl("focusout","onBlur"),Bl(ek,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sG=new Set("cancel close invalid load scroll toggle".split(" ").concat(rp));function nk(d,m,S){var O=d.type||"unknown-event";d.currentTarget=S,Fi(O,m,void 0,d),d.currentTarget=null}function ik(d,m){m=(m&4)!==0;for(var S=0;S<d.length;S++){var O=d[S],F=O.event;O=O.listeners;e:{var U=void 0;if(m)for(var Q=O.length-1;0<=Q;Q--){var ue=O[Q],ve=ue.instance,Ie=ue.currentTarget;if(ue=ue.listener,ve!==U&&F.isPropagationStopped())break e;nk(F,ue,Ie),U=ve}else for(Q=0;Q<O.length;Q++){if(ue=O[Q],ve=ue.instance,Ie=ue.currentTarget,ue=ue.listener,ve!==U&&F.isPropagationStopped())break e;nk(F,ue,Ie),U=ve}}}if(Oi)throw d=ht,Oi=!1,ht=null,d}function vn(d,m){var S=m[xw];S===void 0&&(S=m[xw]=new Set);var O=d+"__bubble";S.has(O)||(sk(m,d,2,!1),S.add(O))}function fw(d,m,S){var O=0;m&&(O|=4),sk(S,d,O,m)}var l0="_reactListening"+Math.random().toString(36).slice(2);function np(d){if(!d[l0]){d[l0]=!0,n.forEach(function(S){S!=="selectionchange"&&(sG.has(S)||fw(S,!1,d),fw(S,!0,d))});var m=d.nodeType===9?d:d.ownerDocument;m===null||m[l0]||(m[l0]=!0,fw("selectionchange",!1,m))}}function sk(d,m,S,O){switch(Hh(m)){case 1:var F=Jg;break;case 4:F=Xc;break;default:F=Mo}S=F.bind(null,m,S,d),F=void 0,!Ts||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(F=!0),O?F!==void 0?d.addEventListener(m,S,{capture:!0,passive:F}):d.addEventListener(m,S,!0):F!==void 0?d.addEventListener(m,S,{passive:F}):d.addEventListener(m,S,!1)}function hw(d,m,S,O,F){var U=O;if((m&1)===0&&(m&2)===0&&O!==null)e:for(;;){if(O===null)return;var Q=O.tag;if(Q===3||Q===4){var ue=O.stateNode.containerInfo;if(ue===F||ue.nodeType===8&&ue.parentNode===F)break;if(Q===4)for(Q=O.return;Q!==null;){var ve=Q.tag;if((ve===3||ve===4)&&(ve=Q.stateNode.containerInfo,ve===F||ve.nodeType===8&&ve.parentNode===F))return;Q=Q.return}for(;ue!==null;){if(Q=iu(ue),Q===null)return;if(ve=Q.tag,ve===5||ve===6){O=U=Q;continue e}ue=ue.parentNode}}O=O.return}si(function(){var Ie=U,Ke=so(S),Qe=[];e:{var He=tk.get(d);if(He!==void 0){var pt=Pe,wt=d;switch(d){case"keypress":if(Pr(S)===0)break e;case"keydown":case"keyup":pt=Xh;break;case"focusin":wt="focus",pt=an;break;case"focusout":wt="blur",pt=an;break;case"beforeblur":case"afterblur":pt=an;break;case"click":if(S.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pt=t0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pt=Un;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pt=Ml;break;case ZT:case QT:case JT:pt=Do;break;case ek:pt=ow;break;case"scroll":pt=ci;break;case"wheel":pt=lw;break;case"copy":case"cut":case"paste":pt=$t;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pt=Zh}var _t=(m&4)!==0,Vn=!_t&&d==="scroll",Ce=_t?He!==null?He+"Capture":null:He;_t=[];for(var xe=Ie,Ae;xe!==null;){Ae=xe;var nt=Ae.stateNode;if(Ae.tag===5&&nt!==null&&(Ae=nt,Ce!==null&&(nt=mn(xe,Ce),nt!=null&&_t.push(ip(xe,nt,Ae)))),Vn)break;xe=xe.return}0<_t.length&&(He=new pt(He,wt,null,S,Ke),Qe.push({event:He,listeners:_t}))}}if((m&7)===0){e:{if(He=d==="mouseover"||d==="pointerover",pt=d==="mouseout"||d==="pointerout",He&&S!==us&&(wt=S.relatedTarget||S.fromElement)&&(iu(wt)||wt[Fo]))break e;if((pt||He)&&(He=Ke.window===Ke?Ke:(He=Ke.ownerDocument)?He.defaultView||He.parentWindow:window,pt?(wt=S.relatedTarget||S.toElement,pt=Ie,wt=wt?iu(wt):null,wt!==null&&(Vn=hs(wt),wt!==Vn||wt.tag!==5&&wt.tag!==6)&&(wt=null)):(pt=null,wt=Ie),pt!==wt)){if(_t=t0,nt="onMouseLeave",Ce="onMouseEnter",xe="mouse",(d==="pointerout"||d==="pointerover")&&(_t=Zh,nt="onPointerLeave",Ce="onPointerEnter",xe="pointer"),Vn=pt==null?He:Pd(pt),Ae=wt==null?He:Pd(wt),He=new _t(nt,xe+"leave",pt,S,Ke),He.target=Vn,He.relatedTarget=Ae,nt=null,iu(Ke)===Ie&&(_t=new _t(Ce,xe+"enter",wt,S,Ke),_t.target=Ae,_t.relatedTarget=Vn,nt=_t),Vn=nt,pt&&wt)t:{for(_t=pt,Ce=wt,xe=0,Ae=_t;Ae;Ae=Td(Ae))xe++;for(Ae=0,nt=Ce;nt;nt=Td(nt))Ae++;for(;0<xe-Ae;)_t=Td(_t),xe--;for(;0<Ae-xe;)Ce=Td(Ce),Ae--;for(;xe--;){if(_t===Ce||Ce!==null&&_t===Ce.alternate)break t;_t=Td(_t),Ce=Td(Ce)}_t=null}else _t=null;pt!==null&&ak(Qe,He,pt,_t,!1),wt!==null&&Vn!==null&&ak(Qe,Vn,wt,_t,!0)}}e:{if(He=Ie?Pd(Ie):window,pt=He.nodeName&&He.nodeName.toLowerCase(),pt==="select"||pt==="input"&&He.type==="file")var Ct=y;else if(jr(He))if(x)Ct=ge;else{Ct=te;var Vt=X}else(pt=He.nodeName)&&pt.toLowerCase()==="input"&&(He.type==="checkbox"||He.type==="radio")&&(Ct=ce);if(Ct&&(Ct=Ct(d,Ie))){nu(Qe,Ct,S,Ke);break e}Vt&&Vt(d,He,Ie),d==="focusout"&&(Vt=He._wrapperState)&&Vt.controlled&&He.type==="number"&&ut(He,"number",He.value)}switch(Vt=Ie?Pd(Ie):window,d){case"focusin":(jr(Vt)||Vt.contentEditable==="true")&&($n=Vt,Fr=Ie,jn=null);break;case"focusout":jn=Fr=$n=null;break;case"mousedown":Pi=!0;break;case"contextmenu":case"mouseup":case"dragend":Pi=!1,Bo(Qe,S,Ke);break;case"selectionchange":if(Ds)break;case"keydown":case"keyup":Bo(Qe,S,Ke)}var qt;if(Dl)e:{switch(d){case"compositionstart":var Zt="onCompositionStart";break e;case"compositionend":Zt="onCompositionEnd";break e;case"compositionupdate":Zt="onCompositionUpdate";break e}Zt=void 0}else ki?a0(d,S)&&(Zt="onCompositionEnd"):d==="keydown"&&S.keyCode===229&&(Zt="onCompositionStart");Zt&&(Ms&&S.locale!=="ko"&&(ki||Zt!=="onCompositionStart"?Zt==="onCompositionEnd"&&ki&&(qt=e0()):(Ta=Ke,Gh="value"in Ta?Ta.value:Ta.textContent,ki=!0)),Vt=c0(Ie,Zt),0<Vt.length&&(Zt=new Zr(Zt,d,null,S,Ke),Qe.push({event:Zt,listeners:Vt}),qt?Zt.data=qt:(qt=Jh(S),qt!==null&&(Zt.data=qt)))),(qt=i0?cw(d,S):ep(d,S))&&(Ie=c0(Ie,"onBeforeInput"),0<Ie.length&&(Ke=new Zr("onBeforeInput","beforeinput",null,S,Ke),Qe.push({event:Ke,listeners:Ie}),Ke.data=qt))}ik(Qe,m)})}function ip(d,m,S){return{instance:d,listener:m,currentTarget:S}}function c0(d,m){for(var S=m+"Capture",O=[];d!==null;){var F=d,U=F.stateNode;F.tag===5&&U!==null&&(F=U,U=mn(d,S),U!=null&&O.unshift(ip(d,U,F)),U=mn(d,m),U!=null&&O.push(ip(d,U,F))),d=d.return}return O}function Td(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function ak(d,m,S,O,F){for(var U=m._reactName,Q=[];S!==null&&S!==O;){var ue=S,ve=ue.alternate,Ie=ue.stateNode;if(ve!==null&&ve===O)break;ue.tag===5&&Ie!==null&&(ue=Ie,F?(ve=mn(S,U),ve!=null&&Q.unshift(ip(S,ve,ue))):F||(ve=mn(S,U),ve!=null&&Q.push(ip(S,ve,ue)))),S=S.return}Q.length!==0&&d.push({event:m,listeners:Q})}var aG=/\r\n?/g,oG=/\u0000|\uFFFD/g;function ok(d){return(typeof d=="string"?d:""+d).replace(aG,`
`).replace(oG,"")}function u0(d,m,S){if(m=ok(m),ok(d)!==m&&S)throw Error(r(425))}function d0(){}var pw=null,mw=null;function gw(d,m){return d==="textarea"||d==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var vw=typeof setTimeout=="function"?setTimeout:void 0,lG=typeof clearTimeout=="function"?clearTimeout:void 0,lk=typeof Promise=="function"?Promise:void 0,cG=typeof queueMicrotask=="function"?queueMicrotask:typeof lk<"u"?function(d){return lk.resolve(null).then(d).catch(uG)}:vw;function uG(d){setTimeout(function(){throw d})}function yw(d,m){var S=m,O=0;do{var F=S.nextSibling;if(d.removeChild(S),F&&F.nodeType===8)if(S=F.data,S==="/$"){if(O===0){d.removeChild(F),Oa(m);return}O--}else S!=="$"&&S!=="$?"&&S!=="$!"||O++;S=F}while(S);Oa(m)}function Fl(d){for(;d!=null;d=d.nextSibling){var m=d.nodeType;if(m===1||m===3)break;if(m===8){if(m=d.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return d}function ck(d){d=d.previousSibling;for(var m=0;d;){if(d.nodeType===8){var S=d.data;if(S==="$"||S==="$!"||S==="$?"){if(m===0)return d;m--}else S==="/$"&&m++}d=d.previousSibling}return null}var kd=Math.random().toString(36).slice(2),co="__reactFiber$"+kd,sp="__reactProps$"+kd,Fo="__reactContainer$"+kd,xw="__reactEvents$"+kd,dG="__reactListeners$"+kd,fG="__reactHandles$"+kd;function iu(d){var m=d[co];if(m)return m;for(var S=d.parentNode;S;){if(m=S[Fo]||S[co]){if(S=m.alternate,m.child!==null||S!==null&&S.child!==null)for(d=ck(d);d!==null;){if(S=d[co])return S;d=ck(d)}return m}d=S,S=d.parentNode}return null}function ap(d){return d=d[co]||d[Fo],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function Pd(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(r(33))}function f0(d){return d[sp]||null}var ww=[],Id=-1;function Ul(d){return{current:d}}function yn(d){0>Id||(d.current=ww[Id],ww[Id]=null,Id--)}function on(d,m){Id++,ww[Id]=d.current,d.current=m}var $l={},Vi=Ul($l),ps=Ul(!1),su=$l;function Rd(d,m){var S=d.type.contextTypes;if(!S)return $l;var O=d.stateNode;if(O&&O.__reactInternalMemoizedUnmaskedChildContext===m)return O.__reactInternalMemoizedMaskedChildContext;var F={},U;for(U in S)F[U]=m[U];return O&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=m,d.__reactInternalMemoizedMaskedChildContext=F),F}function ms(d){return d=d.childContextTypes,d!=null}function h0(){yn(ps),yn(Vi)}function uk(d,m,S){if(Vi.current!==$l)throw Error(r(168));on(Vi,m),on(ps,S)}function dk(d,m,S){var O=d.stateNode;if(m=m.childContextTypes,typeof O.getChildContext!="function")return S;O=O.getChildContext();for(var F in O)if(!(F in m))throw Error(r(108,we(d)||"Unknown",F));return de({},S,O)}function p0(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||$l,su=Vi.current,on(Vi,d),on(ps,ps.current),!0}function fk(d,m,S){var O=d.stateNode;if(!O)throw Error(r(169));S?(d=dk(d,m,su),O.__reactInternalMemoizedMergedChildContext=d,yn(ps),yn(Vi),on(Vi,d)):yn(ps),on(ps,S)}var Uo=null,m0=!1,bw=!1;function hk(d){Uo===null?Uo=[d]:Uo.push(d)}function hG(d){m0=!0,hk(d)}function Vl(){if(!bw&&Uo!==null){bw=!0;var d=0,m=hr;try{var S=Uo;for(hr=1;d<S.length;d++){var O=S[d];do O=O(!0);while(O!==null)}Uo=null,m0=!1}catch(F){throw Uo!==null&&(Uo=Uo.slice(d+1)),ks($e,Vl),F}finally{hr=m,bw=!1}}return null}var Md=[],Dd=0,g0=null,v0=0,oa=[],la=0,au=null,$o=1,Vo="";function ou(d,m){Md[Dd++]=v0,Md[Dd++]=g0,g0=d,v0=m}function pk(d,m,S){oa[la++]=$o,oa[la++]=Vo,oa[la++]=au,au=d;var O=$o;d=Vo;var F=32-es(O)-1;O&=~(1<<F),S+=1;var U=32-es(m)+F;if(30<U){var Q=F-F%5;U=(O&(1<<Q)-1).toString(32),O>>=Q,F-=Q,$o=1<<32-es(m)+F|S<<F|O,Vo=U+d}else $o=1<<U|S<<F|O,Vo=d}function _w(d){d.return!==null&&(ou(d,1),pk(d,1,0))}function Sw(d){for(;d===g0;)g0=Md[--Dd],Md[Dd]=null,v0=Md[--Dd],Md[Dd]=null;for(;d===au;)au=oa[--la],oa[la]=null,Vo=oa[--la],oa[la]=null,$o=oa[--la],oa[la]=null}var Ls=null,Bs=null,An=!1,Pa=null;function mk(d,m){var S=fa(5,null,null,0);S.elementType="DELETED",S.stateNode=m,S.return=d,m=d.deletions,m===null?(d.deletions=[S],d.flags|=16):m.push(S)}function gk(d,m){switch(d.tag){case 5:var S=d.type;return m=m.nodeType!==1||S.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(d.stateNode=m,Ls=d,Bs=Fl(m.firstChild),!0):!1;case 6:return m=d.pendingProps===""||m.nodeType!==3?null:m,m!==null?(d.stateNode=m,Ls=d,Bs=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(S=au!==null?{id:$o,overflow:Vo}:null,d.memoizedState={dehydrated:m,treeContext:S,retryLane:1073741824},S=fa(18,null,null,0),S.stateNode=m,S.return=d,d.child=S,Ls=d,Bs=null,!0):!1;default:return!1}}function Ew(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Cw(d){if(An){var m=Bs;if(m){var S=m;if(!gk(d,m)){if(Ew(d))throw Error(r(418));m=Fl(S.nextSibling);var O=Ls;m&&gk(d,m)?mk(O,S):(d.flags=d.flags&-4097|2,An=!1,Ls=d)}}else{if(Ew(d))throw Error(r(418));d.flags=d.flags&-4097|2,An=!1,Ls=d}}}function vk(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Ls=d}function y0(d){if(d!==Ls)return!1;if(!An)return vk(d),An=!0,!1;var m;if((m=d.tag!==3)&&!(m=d.tag!==5)&&(m=d.type,m=m!=="head"&&m!=="body"&&!gw(d.type,d.memoizedProps)),m&&(m=Bs)){if(Ew(d))throw yk(),Error(r(418));for(;m;)mk(d,m),m=Fl(m.nextSibling)}if(vk(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));e:{for(d=d.nextSibling,m=0;d;){if(d.nodeType===8){var S=d.data;if(S==="/$"){if(m===0){Bs=Fl(d.nextSibling);break e}m--}else S!=="$"&&S!=="$!"&&S!=="$?"||m++}d=d.nextSibling}Bs=null}}else Bs=Ls?Fl(d.stateNode.nextSibling):null;return!0}function yk(){for(var d=Bs;d;)d=Fl(d.nextSibling)}function Ld(){Bs=Ls=null,An=!1}function Aw(d){Pa===null?Pa=[d]:Pa.push(d)}var pG=L.ReactCurrentBatchConfig;function op(d,m,S){if(d=S.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(r(309));var O=S.stateNode}if(!O)throw Error(r(147,d));var F=O,U=""+d;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===U?m.ref:(m=function(Q){var ue=F.refs;Q===null?delete ue[U]:ue[U]=Q},m._stringRef=U,m)}if(typeof d!="string")throw Error(r(284));if(!S._owner)throw Error(r(290,d))}return d}function x0(d,m){throw d=Object.prototype.toString.call(m),Error(r(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d))}function xk(d){var m=d._init;return m(d._payload)}function wk(d){function m(Ce,xe){if(d){var Ae=Ce.deletions;Ae===null?(Ce.deletions=[xe],Ce.flags|=16):Ae.push(xe)}}function S(Ce,xe){if(!d)return null;for(;xe!==null;)m(Ce,xe),xe=xe.sibling;return null}function O(Ce,xe){for(Ce=new Map;xe!==null;)xe.key!==null?Ce.set(xe.key,xe):Ce.set(xe.index,xe),xe=xe.sibling;return Ce}function F(Ce,xe){return Ce=Xl(Ce,xe),Ce.index=0,Ce.sibling=null,Ce}function U(Ce,xe,Ae){return Ce.index=Ae,d?(Ae=Ce.alternate,Ae!==null?(Ae=Ae.index,Ae<xe?(Ce.flags|=2,xe):Ae):(Ce.flags|=2,xe)):(Ce.flags|=1048576,xe)}function Q(Ce){return d&&Ce.alternate===null&&(Ce.flags|=2),Ce}function ue(Ce,xe,Ae,nt){return xe===null||xe.tag!==6?(xe=vb(Ae,Ce.mode,nt),xe.return=Ce,xe):(xe=F(xe,Ae),xe.return=Ce,xe)}function ve(Ce,xe,Ae,nt){var Ct=Ae.type;return Ct===M?Ke(Ce,xe,Ae.props.children,nt,Ae.key):xe!==null&&(xe.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===J&&xk(Ct)===xe.type)?(nt=F(xe,Ae.props),nt.ref=op(Ce,xe,Ae),nt.return=Ce,nt):(nt=q0(Ae.type,Ae.key,Ae.props,null,Ce.mode,nt),nt.ref=op(Ce,xe,Ae),nt.return=Ce,nt)}function Ie(Ce,xe,Ae,nt){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==Ae.containerInfo||xe.stateNode.implementation!==Ae.implementation?(xe=yb(Ae,Ce.mode,nt),xe.return=Ce,xe):(xe=F(xe,Ae.children||[]),xe.return=Ce,xe)}function Ke(Ce,xe,Ae,nt,Ct){return xe===null||xe.tag!==7?(xe=mu(Ae,Ce.mode,nt,Ct),xe.return=Ce,xe):(xe=F(xe,Ae),xe.return=Ce,xe)}function Qe(Ce,xe,Ae){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return xe=vb(""+xe,Ce.mode,Ae),xe.return=Ce,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case T:return Ae=q0(xe.type,xe.key,xe.props,null,Ce.mode,Ae),Ae.ref=op(Ce,null,xe),Ae.return=Ce,Ae;case D:return xe=yb(xe,Ce.mode,Ae),xe.return=Ce,xe;case J:var nt=xe._init;return Qe(Ce,nt(xe._payload),Ae)}if(fe(xe)||ee(xe))return xe=mu(xe,Ce.mode,Ae,null),xe.return=Ce,xe;x0(Ce,xe)}return null}function He(Ce,xe,Ae,nt){var Ct=xe!==null?xe.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return Ct!==null?null:ue(Ce,xe,""+Ae,nt);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case T:return Ae.key===Ct?ve(Ce,xe,Ae,nt):null;case D:return Ae.key===Ct?Ie(Ce,xe,Ae,nt):null;case J:return Ct=Ae._init,He(Ce,xe,Ct(Ae._payload),nt)}if(fe(Ae)||ee(Ae))return Ct!==null?null:Ke(Ce,xe,Ae,nt,null);x0(Ce,Ae)}return null}function pt(Ce,xe,Ae,nt,Ct){if(typeof nt=="string"&&nt!==""||typeof nt=="number")return Ce=Ce.get(Ae)||null,ue(xe,Ce,""+nt,Ct);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case T:return Ce=Ce.get(nt.key===null?Ae:nt.key)||null,ve(xe,Ce,nt,Ct);case D:return Ce=Ce.get(nt.key===null?Ae:nt.key)||null,Ie(xe,Ce,nt,Ct);case J:var Vt=nt._init;return pt(Ce,xe,Ae,Vt(nt._payload),Ct)}if(fe(nt)||ee(nt))return Ce=Ce.get(Ae)||null,Ke(xe,Ce,nt,Ct,null);x0(xe,nt)}return null}function wt(Ce,xe,Ae,nt){for(var Ct=null,Vt=null,qt=xe,Zt=xe=0,Ei=null;qt!==null&&Zt<Ae.length;Zt++){qt.index>Zt?(Ei=qt,qt=null):Ei=qt.sibling;var Dr=He(Ce,qt,Ae[Zt],nt);if(Dr===null){qt===null&&(qt=Ei);break}d&&qt&&Dr.alternate===null&&m(Ce,qt),xe=U(Dr,xe,Zt),Vt===null?Ct=Dr:Vt.sibling=Dr,Vt=Dr,qt=Ei}if(Zt===Ae.length)return S(Ce,qt),An&&ou(Ce,Zt),Ct;if(qt===null){for(;Zt<Ae.length;Zt++)qt=Qe(Ce,Ae[Zt],nt),qt!==null&&(xe=U(qt,xe,Zt),Vt===null?Ct=qt:Vt.sibling=qt,Vt=qt);return An&&ou(Ce,Zt),Ct}for(qt=O(Ce,qt);Zt<Ae.length;Zt++)Ei=pt(qt,Ce,Zt,Ae[Zt],nt),Ei!==null&&(d&&Ei.alternate!==null&&qt.delete(Ei.key===null?Zt:Ei.key),xe=U(Ei,xe,Zt),Vt===null?Ct=Ei:Vt.sibling=Ei,Vt=Ei);return d&&qt.forEach(function(Zl){return m(Ce,Zl)}),An&&ou(Ce,Zt),Ct}function _t(Ce,xe,Ae,nt){var Ct=ee(Ae);if(typeof Ct!="function")throw Error(r(150));if(Ae=Ct.call(Ae),Ae==null)throw Error(r(151));for(var Vt=Ct=null,qt=xe,Zt=xe=0,Ei=null,Dr=Ae.next();qt!==null&&!Dr.done;Zt++,Dr=Ae.next()){qt.index>Zt?(Ei=qt,qt=null):Ei=qt.sibling;var Zl=He(Ce,qt,Dr.value,nt);if(Zl===null){qt===null&&(qt=Ei);break}d&&qt&&Zl.alternate===null&&m(Ce,qt),xe=U(Zl,xe,Zt),Vt===null?Ct=Zl:Vt.sibling=Zl,Vt=Zl,qt=Ei}if(Dr.done)return S(Ce,qt),An&&ou(Ce,Zt),Ct;if(qt===null){for(;!Dr.done;Zt++,Dr=Ae.next())Dr=Qe(Ce,Dr.value,nt),Dr!==null&&(xe=U(Dr,xe,Zt),Vt===null?Ct=Dr:Vt.sibling=Dr,Vt=Dr);return An&&ou(Ce,Zt),Ct}for(qt=O(Ce,qt);!Dr.done;Zt++,Dr=Ae.next())Dr=pt(qt,Ce,Zt,Dr.value,nt),Dr!==null&&(d&&Dr.alternate!==null&&qt.delete(Dr.key===null?Zt:Dr.key),xe=U(Dr,xe,Zt),Vt===null?Ct=Dr:Vt.sibling=Dr,Vt=Dr);return d&&qt.forEach(function(GG){return m(Ce,GG)}),An&&ou(Ce,Zt),Ct}function Vn(Ce,xe,Ae,nt){if(typeof Ae=="object"&&Ae!==null&&Ae.type===M&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case T:e:{for(var Ct=Ae.key,Vt=xe;Vt!==null;){if(Vt.key===Ct){if(Ct=Ae.type,Ct===M){if(Vt.tag===7){S(Ce,Vt.sibling),xe=F(Vt,Ae.props.children),xe.return=Ce,Ce=xe;break e}}else if(Vt.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===J&&xk(Ct)===Vt.type){S(Ce,Vt.sibling),xe=F(Vt,Ae.props),xe.ref=op(Ce,Vt,Ae),xe.return=Ce,Ce=xe;break e}S(Ce,Vt);break}else m(Ce,Vt);Vt=Vt.sibling}Ae.type===M?(xe=mu(Ae.props.children,Ce.mode,nt,Ae.key),xe.return=Ce,Ce=xe):(nt=q0(Ae.type,Ae.key,Ae.props,null,Ce.mode,nt),nt.ref=op(Ce,xe,Ae),nt.return=Ce,Ce=nt)}return Q(Ce);case D:e:{for(Vt=Ae.key;xe!==null;){if(xe.key===Vt)if(xe.tag===4&&xe.stateNode.containerInfo===Ae.containerInfo&&xe.stateNode.implementation===Ae.implementation){S(Ce,xe.sibling),xe=F(xe,Ae.children||[]),xe.return=Ce,Ce=xe;break e}else{S(Ce,xe);break}else m(Ce,xe);xe=xe.sibling}xe=yb(Ae,Ce.mode,nt),xe.return=Ce,Ce=xe}return Q(Ce);case J:return Vt=Ae._init,Vn(Ce,xe,Vt(Ae._payload),nt)}if(fe(Ae))return wt(Ce,xe,Ae,nt);if(ee(Ae))return _t(Ce,xe,Ae,nt);x0(Ce,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"?(Ae=""+Ae,xe!==null&&xe.tag===6?(S(Ce,xe.sibling),xe=F(xe,Ae),xe.return=Ce,Ce=xe):(S(Ce,xe),xe=vb(Ae,Ce.mode,nt),xe.return=Ce,Ce=xe),Q(Ce)):S(Ce,xe)}return Vn}var Bd=wk(!0),bk=wk(!1),w0=Ul(null),b0=null,Fd=null,Nw=null;function jw(){Nw=Fd=b0=null}function Ow(d){var m=w0.current;yn(w0),d._currentValue=m}function Tw(d,m,S){for(;d!==null;){var O=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,O!==null&&(O.childLanes|=m)):O!==null&&(O.childLanes&m)!==m&&(O.childLanes|=m),d===S)break;d=d.return}}function Ud(d,m){b0=d,Nw=Fd=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&m)!==0&&(gs=!0),d.firstContext=null)}function ca(d){var m=d._currentValue;if(Nw!==d)if(d={context:d,memoizedValue:m,next:null},Fd===null){if(b0===null)throw Error(r(308));Fd=d,b0.dependencies={lanes:0,firstContext:d}}else Fd=Fd.next=d;return m}var lu=null;function kw(d){lu===null?lu=[d]:lu.push(d)}function _k(d,m,S,O){var F=m.interleaved;return F===null?(S.next=S,kw(m)):(S.next=F.next,F.next=S),m.interleaved=S,qo(d,O)}function qo(d,m){d.lanes|=m;var S=d.alternate;for(S!==null&&(S.lanes|=m),S=d,d=d.return;d!==null;)d.childLanes|=m,S=d.alternate,S!==null&&(S.childLanes|=m),S=d,d=d.return;return S.tag===3?S.stateNode:null}var ql=!1;function Pw(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sk(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Wo(d,m){return{eventTime:d,lane:m,tag:0,payload:null,callback:null,next:null}}function Wl(d,m,S){var O=d.updateQueue;if(O===null)return null;if(O=O.shared,(Ir&2)!==0){var F=O.pending;return F===null?m.next=m:(m.next=F.next,F.next=m),O.pending=m,qo(d,S)}return F=O.interleaved,F===null?(m.next=m,kw(O)):(m.next=F.next,F.next=m),O.interleaved=m,qo(d,S)}function _0(d,m,S){if(m=m.updateQueue,m!==null&&(m=m.shared,(S&4194240)!==0)){var O=m.lanes;O&=d.pendingLanes,S|=O,m.lanes=S,In(d,S)}}function Ek(d,m){var S=d.updateQueue,O=d.alternate;if(O!==null&&(O=O.updateQueue,S===O)){var F=null,U=null;if(S=S.firstBaseUpdate,S!==null){do{var Q={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};U===null?F=U=Q:U=U.next=Q,S=S.next}while(S!==null);U===null?F=U=m:U=U.next=m}else F=U=m;S={baseState:O.baseState,firstBaseUpdate:F,lastBaseUpdate:U,shared:O.shared,effects:O.effects},d.updateQueue=S;return}d=S.lastBaseUpdate,d===null?S.firstBaseUpdate=m:d.next=m,S.lastBaseUpdate=m}function S0(d,m,S,O){var F=d.updateQueue;ql=!1;var U=F.firstBaseUpdate,Q=F.lastBaseUpdate,ue=F.shared.pending;if(ue!==null){F.shared.pending=null;var ve=ue,Ie=ve.next;ve.next=null,Q===null?U=Ie:Q.next=Ie,Q=ve;var Ke=d.alternate;Ke!==null&&(Ke=Ke.updateQueue,ue=Ke.lastBaseUpdate,ue!==Q&&(ue===null?Ke.firstBaseUpdate=Ie:ue.next=Ie,Ke.lastBaseUpdate=ve))}if(U!==null){var Qe=F.baseState;Q=0,Ke=Ie=ve=null,ue=U;do{var He=ue.lane,pt=ue.eventTime;if((O&He)===He){Ke!==null&&(Ke=Ke.next={eventTime:pt,lane:0,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null});e:{var wt=d,_t=ue;switch(He=m,pt=S,_t.tag){case 1:if(wt=_t.payload,typeof wt=="function"){Qe=wt.call(pt,Qe,He);break e}Qe=wt;break e;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=_t.payload,He=typeof wt=="function"?wt.call(pt,Qe,He):wt,He==null)break e;Qe=de({},Qe,He);break e;case 2:ql=!0}}ue.callback!==null&&ue.lane!==0&&(d.flags|=64,He=F.effects,He===null?F.effects=[ue]:He.push(ue))}else pt={eventTime:pt,lane:He,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},Ke===null?(Ie=Ke=pt,ve=Qe):Ke=Ke.next=pt,Q|=He;if(ue=ue.next,ue===null){if(ue=F.shared.pending,ue===null)break;He=ue,ue=He.next,He.next=null,F.lastBaseUpdate=He,F.shared.pending=null}}while(!0);if(Ke===null&&(ve=Qe),F.baseState=ve,F.firstBaseUpdate=Ie,F.lastBaseUpdate=Ke,m=F.shared.interleaved,m!==null){F=m;do Q|=F.lane,F=F.next;while(F!==m)}else U===null&&(F.shared.lanes=0);du|=Q,d.lanes=Q,d.memoizedState=Qe}}function Ck(d,m,S){if(d=m.effects,m.effects=null,d!==null)for(m=0;m<d.length;m++){var O=d[m],F=O.callback;if(F!==null){if(O.callback=null,O=S,typeof F!="function")throw Error(r(191,F));F.call(O)}}}var lp={},uo=Ul(lp),cp=Ul(lp),up=Ul(lp);function cu(d){if(d===lp)throw Error(r(174));return d}function Iw(d,m){switch(on(up,m),on(cp,d),on(uo,lp),d=m.nodeType,d){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:Me(null,"");break;default:d=d===8?m.parentNode:m,m=d.namespaceURI||null,d=d.tagName,m=Me(m,d)}yn(uo),on(uo,m)}function $d(){yn(uo),yn(cp),yn(up)}function Ak(d){cu(up.current);var m=cu(uo.current),S=Me(m,d.type);m!==S&&(on(cp,d),on(uo,S))}function Rw(d){cp.current===d&&(yn(uo),yn(cp))}var On=Ul(0);function E0(d){for(var m=d;m!==null;){if(m.tag===13){var S=m.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||S.data==="$?"||S.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var Mw=[];function Dw(){for(var d=0;d<Mw.length;d++)Mw[d]._workInProgressVersionPrimary=null;Mw.length=0}var C0=L.ReactCurrentDispatcher,Lw=L.ReactCurrentBatchConfig,uu=0,Tn=null,ui=null,_i=null,A0=!1,dp=!1,fp=0,mG=0;function qi(){throw Error(r(321))}function Bw(d,m){if(m===null)return!1;for(var S=0;S<m.length&&S<d.length;S++)if(!be(d[S],m[S]))return!1;return!0}function Fw(d,m,S,O,F,U){if(uu=U,Tn=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,C0.current=d===null||d.memoizedState===null?xG:wG,d=S(O,F),dp){U=0;do{if(dp=!1,fp=0,25<=U)throw Error(r(301));U+=1,_i=ui=null,m.updateQueue=null,C0.current=bG,d=S(O,F)}while(dp)}if(C0.current=O0,m=ui!==null&&ui.next!==null,uu=0,_i=ui=Tn=null,A0=!1,m)throw Error(r(300));return d}function Uw(){var d=fp!==0;return fp=0,d}function fo(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _i===null?Tn.memoizedState=_i=d:_i=_i.next=d,_i}function ua(){if(ui===null){var d=Tn.alternate;d=d!==null?d.memoizedState:null}else d=ui.next;var m=_i===null?Tn.memoizedState:_i.next;if(m!==null)_i=m,ui=d;else{if(d===null)throw Error(r(310));ui=d,d={memoizedState:ui.memoizedState,baseState:ui.baseState,baseQueue:ui.baseQueue,queue:ui.queue,next:null},_i===null?Tn.memoizedState=_i=d:_i=_i.next=d}return _i}function hp(d,m){return typeof m=="function"?m(d):m}function $w(d){var m=ua(),S=m.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=d;var O=ui,F=O.baseQueue,U=S.pending;if(U!==null){if(F!==null){var Q=F.next;F.next=U.next,U.next=Q}O.baseQueue=F=U,S.pending=null}if(F!==null){U=F.next,O=O.baseState;var ue=Q=null,ve=null,Ie=U;do{var Ke=Ie.lane;if((uu&Ke)===Ke)ve!==null&&(ve=ve.next={lane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),O=Ie.hasEagerState?Ie.eagerState:d(O,Ie.action);else{var Qe={lane:Ke,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null};ve===null?(ue=ve=Qe,Q=O):ve=ve.next=Qe,Tn.lanes|=Ke,du|=Ke}Ie=Ie.next}while(Ie!==null&&Ie!==U);ve===null?Q=O:ve.next=ue,be(O,m.memoizedState)||(gs=!0),m.memoizedState=O,m.baseState=Q,m.baseQueue=ve,S.lastRenderedState=O}if(d=S.interleaved,d!==null){F=d;do U=F.lane,Tn.lanes|=U,du|=U,F=F.next;while(F!==d)}else F===null&&(S.lanes=0);return[m.memoizedState,S.dispatch]}function Vw(d){var m=ua(),S=m.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=d;var O=S.dispatch,F=S.pending,U=m.memoizedState;if(F!==null){S.pending=null;var Q=F=F.next;do U=d(U,Q.action),Q=Q.next;while(Q!==F);be(U,m.memoizedState)||(gs=!0),m.memoizedState=U,m.baseQueue===null&&(m.baseState=U),S.lastRenderedState=U}return[U,O]}function Nk(){}function jk(d,m){var S=Tn,O=ua(),F=m(),U=!be(O.memoizedState,F);if(U&&(O.memoizedState=F,gs=!0),O=O.queue,qw(kk.bind(null,S,O,d),[d]),O.getSnapshot!==m||U||_i!==null&&_i.memoizedState.tag&1){if(S.flags|=2048,pp(9,Tk.bind(null,S,O,F,m),void 0,null),Si===null)throw Error(r(349));(uu&30)!==0||Ok(S,m,F)}return F}function Ok(d,m,S){d.flags|=16384,d={getSnapshot:m,value:S},m=Tn.updateQueue,m===null?(m={lastEffect:null,stores:null},Tn.updateQueue=m,m.stores=[d]):(S=m.stores,S===null?m.stores=[d]:S.push(d))}function Tk(d,m,S,O){m.value=S,m.getSnapshot=O,Pk(m)&&Ik(d)}function kk(d,m,S){return S(function(){Pk(m)&&Ik(d)})}function Pk(d){var m=d.getSnapshot;d=d.value;try{var S=m();return!be(d,S)}catch{return!0}}function Ik(d){var m=qo(d,1);m!==null&&Da(m,d,1,-1)}function Rk(d){var m=fo();return typeof d=="function"&&(d=d()),m.memoizedState=m.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hp,lastRenderedState:d},m.queue=d,d=d.dispatch=yG.bind(null,Tn,d),[m.memoizedState,d]}function pp(d,m,S,O){return d={tag:d,create:m,destroy:S,deps:O,next:null},m=Tn.updateQueue,m===null?(m={lastEffect:null,stores:null},Tn.updateQueue=m,m.lastEffect=d.next=d):(S=m.lastEffect,S===null?m.lastEffect=d.next=d:(O=S.next,S.next=d,d.next=O,m.lastEffect=d)),d}function Mk(){return ua().memoizedState}function N0(d,m,S,O){var F=fo();Tn.flags|=d,F.memoizedState=pp(1|m,S,void 0,O===void 0?null:O)}function j0(d,m,S,O){var F=ua();O=O===void 0?null:O;var U=void 0;if(ui!==null){var Q=ui.memoizedState;if(U=Q.destroy,O!==null&&Bw(O,Q.deps)){F.memoizedState=pp(m,S,U,O);return}}Tn.flags|=d,F.memoizedState=pp(1|m,S,U,O)}function Dk(d,m){return N0(8390656,8,d,m)}function qw(d,m){return j0(2048,8,d,m)}function Lk(d,m){return j0(4,2,d,m)}function Bk(d,m){return j0(4,4,d,m)}function Fk(d,m){if(typeof m=="function")return d=d(),m(d),function(){m(null)};if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function Uk(d,m,S){return S=S!=null?S.concat([d]):null,j0(4,4,Fk.bind(null,m,d),S)}function Ww(){}function $k(d,m){var S=ua();m=m===void 0?null:m;var O=S.memoizedState;return O!==null&&m!==null&&Bw(m,O[1])?O[0]:(S.memoizedState=[d,m],d)}function Vk(d,m){var S=ua();m=m===void 0?null:m;var O=S.memoizedState;return O!==null&&m!==null&&Bw(m,O[1])?O[0]:(d=d(),S.memoizedState=[d,m],d)}function qk(d,m,S){return(uu&21)===0?(d.baseState&&(d.baseState=!1,gs=!0),d.memoizedState=S):(be(S,m)||(S=ai(),Tn.lanes|=S,du|=S,d.baseState=!0),m)}function gG(d,m){var S=hr;hr=S!==0&&4>S?S:4,d(!0);var O=Lw.transition;Lw.transition={};try{d(!1),m()}finally{hr=S,Lw.transition=O}}function Wk(){return ua().memoizedState}function vG(d,m,S){var O=Kl(d);if(S={lane:O,action:S,hasEagerState:!1,eagerState:null,next:null},zk(d))Hk(m,S);else if(S=_k(d,m,S,O),S!==null){var F=rs();Da(S,d,O,F),Gk(S,m,O)}}function yG(d,m,S){var O=Kl(d),F={lane:O,action:S,hasEagerState:!1,eagerState:null,next:null};if(zk(d))Hk(m,F);else{var U=d.alternate;if(d.lanes===0&&(U===null||U.lanes===0)&&(U=m.lastRenderedReducer,U!==null))try{var Q=m.lastRenderedState,ue=U(Q,S);if(F.hasEagerState=!0,F.eagerState=ue,be(ue,Q)){var ve=m.interleaved;ve===null?(F.next=F,kw(m)):(F.next=ve.next,ve.next=F),m.interleaved=F;return}}catch{}finally{}S=_k(d,m,F,O),S!==null&&(F=rs(),Da(S,d,O,F),Gk(S,m,O))}}function zk(d){var m=d.alternate;return d===Tn||m!==null&&m===Tn}function Hk(d,m){dp=A0=!0;var S=d.pending;S===null?m.next=m:(m.next=S.next,S.next=m),d.pending=m}function Gk(d,m,S){if((S&4194240)!==0){var O=m.lanes;O&=d.pendingLanes,S|=O,m.lanes=S,In(d,S)}}var O0={readContext:ca,useCallback:qi,useContext:qi,useEffect:qi,useImperativeHandle:qi,useInsertionEffect:qi,useLayoutEffect:qi,useMemo:qi,useReducer:qi,useRef:qi,useState:qi,useDebugValue:qi,useDeferredValue:qi,useTransition:qi,useMutableSource:qi,useSyncExternalStore:qi,useId:qi,unstable_isNewReconciler:!1},xG={readContext:ca,useCallback:function(d,m){return fo().memoizedState=[d,m===void 0?null:m],d},useContext:ca,useEffect:Dk,useImperativeHandle:function(d,m,S){return S=S!=null?S.concat([d]):null,N0(4194308,4,Fk.bind(null,m,d),S)},useLayoutEffect:function(d,m){return N0(4194308,4,d,m)},useInsertionEffect:function(d,m){return N0(4,2,d,m)},useMemo:function(d,m){var S=fo();return m=m===void 0?null:m,d=d(),S.memoizedState=[d,m],d},useReducer:function(d,m,S){var O=fo();return m=S!==void 0?S(m):m,O.memoizedState=O.baseState=m,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:m},O.queue=d,d=d.dispatch=vG.bind(null,Tn,d),[O.memoizedState,d]},useRef:function(d){var m=fo();return d={current:d},m.memoizedState=d},useState:Rk,useDebugValue:Ww,useDeferredValue:function(d){return fo().memoizedState=d},useTransition:function(){var d=Rk(!1),m=d[0];return d=gG.bind(null,d[1]),fo().memoizedState=d,[m,d]},useMutableSource:function(){},useSyncExternalStore:function(d,m,S){var O=Tn,F=fo();if(An){if(S===void 0)throw Error(r(407));S=S()}else{if(S=m(),Si===null)throw Error(r(349));(uu&30)!==0||Ok(O,m,S)}F.memoizedState=S;var U={value:S,getSnapshot:m};return F.queue=U,Dk(kk.bind(null,O,U,d),[d]),O.flags|=2048,pp(9,Tk.bind(null,O,U,S,m),void 0,null),S},useId:function(){var d=fo(),m=Si.identifierPrefix;if(An){var S=Vo,O=$o;S=(O&~(1<<32-es(O)-1)).toString(32)+S,m=":"+m+"R"+S,S=fp++,0<S&&(m+="H"+S.toString(32)),m+=":"}else S=mG++,m=":"+m+"r"+S.toString(32)+":";return d.memoizedState=m},unstable_isNewReconciler:!1},wG={readContext:ca,useCallback:$k,useContext:ca,useEffect:qw,useImperativeHandle:Uk,useInsertionEffect:Lk,useLayoutEffect:Bk,useMemo:Vk,useReducer:$w,useRef:Mk,useState:function(){return $w(hp)},useDebugValue:Ww,useDeferredValue:function(d){var m=ua();return qk(m,ui.memoizedState,d)},useTransition:function(){var d=$w(hp)[0],m=ua().memoizedState;return[d,m]},useMutableSource:Nk,useSyncExternalStore:jk,useId:Wk,unstable_isNewReconciler:!1},bG={readContext:ca,useCallback:$k,useContext:ca,useEffect:qw,useImperativeHandle:Uk,useInsertionEffect:Lk,useLayoutEffect:Bk,useMemo:Vk,useReducer:Vw,useRef:Mk,useState:function(){return Vw(hp)},useDebugValue:Ww,useDeferredValue:function(d){var m=ua();return ui===null?m.memoizedState=d:qk(m,ui.memoizedState,d)},useTransition:function(){var d=Vw(hp)[0],m=ua().memoizedState;return[d,m]},useMutableSource:Nk,useSyncExternalStore:jk,useId:Wk,unstable_isNewReconciler:!1};function Ia(d,m){if(d&&d.defaultProps){m=de({},m),d=d.defaultProps;for(var S in d)m[S]===void 0&&(m[S]=d[S]);return m}return m}function zw(d,m,S,O){m=d.memoizedState,S=S(O,m),S=S==null?m:de({},m,S),d.memoizedState=S,d.lanes===0&&(d.updateQueue.baseState=S)}var T0={isMounted:function(d){return(d=d._reactInternals)?hs(d)===d:!1},enqueueSetState:function(d,m,S){d=d._reactInternals;var O=rs(),F=Kl(d),U=Wo(O,F);U.payload=m,S!=null&&(U.callback=S),m=Wl(d,U,F),m!==null&&(Da(m,d,F,O),_0(m,d,F))},enqueueReplaceState:function(d,m,S){d=d._reactInternals;var O=rs(),F=Kl(d),U=Wo(O,F);U.tag=1,U.payload=m,S!=null&&(U.callback=S),m=Wl(d,U,F),m!==null&&(Da(m,d,F,O),_0(m,d,F))},enqueueForceUpdate:function(d,m){d=d._reactInternals;var S=rs(),O=Kl(d),F=Wo(S,O);F.tag=2,m!=null&&(F.callback=m),m=Wl(d,F,O),m!==null&&(Da(m,d,O,S),_0(m,d,O))}};function Kk(d,m,S,O,F,U,Q){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(O,U,Q):m.prototype&&m.prototype.isPureReactComponent?!ke(S,O)||!ke(F,U):!0}function Yk(d,m,S){var O=!1,F=$l,U=m.contextType;return typeof U=="object"&&U!==null?U=ca(U):(F=ms(m)?su:Vi.current,O=m.contextTypes,U=(O=O!=null)?Rd(d,F):$l),m=new m(S,U),d.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=T0,d.stateNode=m,m._reactInternals=d,O&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=F,d.__reactInternalMemoizedMaskedChildContext=U),m}function Xk(d,m,S,O){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(S,O),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(S,O),m.state!==d&&T0.enqueueReplaceState(m,m.state,null)}function Hw(d,m,S,O){var F=d.stateNode;F.props=S,F.state=d.memoizedState,F.refs={},Pw(d);var U=m.contextType;typeof U=="object"&&U!==null?F.context=ca(U):(U=ms(m)?su:Vi.current,F.context=Rd(d,U)),F.state=d.memoizedState,U=m.getDerivedStateFromProps,typeof U=="function"&&(zw(d,m,U,S),F.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(m=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),m!==F.state&&T0.enqueueReplaceState(F,F.state,null),S0(d,S,F,O),F.state=d.memoizedState),typeof F.componentDidMount=="function"&&(d.flags|=4194308)}function Vd(d,m){try{var S="",O=m;do S+=Re(O),O=O.return;while(O);var F=S}catch(U){F=`
Error generating stack: `+U.message+`
`+U.stack}return{value:d,source:m,stack:F,digest:null}}function Gw(d,m,S){return{value:d,source:null,stack:S??null,digest:m??null}}function Kw(d,m){try{console.error(m.value)}catch(S){setTimeout(function(){throw S})}}var _G=typeof WeakMap=="function"?WeakMap:Map;function Zk(d,m,S){S=Wo(-1,S),S.tag=3,S.payload={element:null};var O=m.value;return S.callback=function(){L0||(L0=!0,cb=O),Kw(d,m)},S}function Qk(d,m,S){S=Wo(-1,S),S.tag=3;var O=d.type.getDerivedStateFromError;if(typeof O=="function"){var F=m.value;S.payload=function(){return O(F)},S.callback=function(){Kw(d,m)}}var U=d.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(S.callback=function(){Kw(d,m),typeof O!="function"&&(Hl===null?Hl=new Set([this]):Hl.add(this));var Q=m.stack;this.componentDidCatch(m.value,{componentStack:Q!==null?Q:""})}),S}function Jk(d,m,S){var O=d.pingCache;if(O===null){O=d.pingCache=new _G;var F=new Set;O.set(m,F)}else F=O.get(m),F===void 0&&(F=new Set,O.set(m,F));F.has(S)||(F.add(S),d=DG.bind(null,d,m,S),m.then(d,d))}function eP(d){do{var m;if((m=d.tag===13)&&(m=d.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return d;d=d.return}while(d!==null);return null}function tP(d,m,S,O,F){return(d.mode&1)===0?(d===m?d.flags|=65536:(d.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(m=Wo(-1,1),m.tag=2,Wl(S,m,1))),S.lanes|=1),d):(d.flags|=65536,d.lanes=F,d)}var SG=L.ReactCurrentOwner,gs=!1;function ts(d,m,S,O){m.child=d===null?bk(m,null,S,O):Bd(m,d.child,S,O)}function rP(d,m,S,O,F){S=S.render;var U=m.ref;return Ud(m,F),O=Fw(d,m,S,O,U,F),S=Uw(),d!==null&&!gs?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~F,zo(d,m,F)):(An&&S&&_w(m),m.flags|=1,ts(d,m,O,F),m.child)}function nP(d,m,S,O,F){if(d===null){var U=S.type;return typeof U=="function"&&!gb(U)&&U.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(m.tag=15,m.type=U,iP(d,m,U,O,F)):(d=q0(S.type,null,O,m,m.mode,F),d.ref=m.ref,d.return=m,m.child=d)}if(U=d.child,(d.lanes&F)===0){var Q=U.memoizedProps;if(S=S.compare,S=S!==null?S:ke,S(Q,O)&&d.ref===m.ref)return zo(d,m,F)}return m.flags|=1,d=Xl(U,O),d.ref=m.ref,d.return=m,m.child=d}function iP(d,m,S,O,F){if(d!==null){var U=d.memoizedProps;if(ke(U,O)&&d.ref===m.ref)if(gs=!1,m.pendingProps=O=U,(d.lanes&F)!==0)(d.flags&131072)!==0&&(gs=!0);else return m.lanes=d.lanes,zo(d,m,F)}return Yw(d,m,S,O,F)}function sP(d,m,S){var O=m.pendingProps,F=O.children,U=d!==null?d.memoizedState:null;if(O.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},on(Wd,Fs),Fs|=S;else{if((S&1073741824)===0)return d=U!==null?U.baseLanes|S:S,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:d,cachePool:null,transitions:null},m.updateQueue=null,on(Wd,Fs),Fs|=d,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},O=U!==null?U.baseLanes:S,on(Wd,Fs),Fs|=O}else U!==null?(O=U.baseLanes|S,m.memoizedState=null):O=S,on(Wd,Fs),Fs|=O;return ts(d,m,F,S),m.child}function aP(d,m){var S=m.ref;(d===null&&S!==null||d!==null&&d.ref!==S)&&(m.flags|=512,m.flags|=2097152)}function Yw(d,m,S,O,F){var U=ms(S)?su:Vi.current;return U=Rd(m,U),Ud(m,F),S=Fw(d,m,S,O,U,F),O=Uw(),d!==null&&!gs?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~F,zo(d,m,F)):(An&&O&&_w(m),m.flags|=1,ts(d,m,S,F),m.child)}function oP(d,m,S,O,F){if(ms(S)){var U=!0;p0(m)}else U=!1;if(Ud(m,F),m.stateNode===null)P0(d,m),Yk(m,S,O),Hw(m,S,O,F),O=!0;else if(d===null){var Q=m.stateNode,ue=m.memoizedProps;Q.props=ue;var ve=Q.context,Ie=S.contextType;typeof Ie=="object"&&Ie!==null?Ie=ca(Ie):(Ie=ms(S)?su:Vi.current,Ie=Rd(m,Ie));var Ke=S.getDerivedStateFromProps,Qe=typeof Ke=="function"||typeof Q.getSnapshotBeforeUpdate=="function";Qe||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(ue!==O||ve!==Ie)&&Xk(m,Q,O,Ie),ql=!1;var He=m.memoizedState;Q.state=He,S0(m,O,Q,F),ve=m.memoizedState,ue!==O||He!==ve||ps.current||ql?(typeof Ke=="function"&&(zw(m,S,Ke,O),ve=m.memoizedState),(ue=ql||Kk(m,S,ue,O,He,ve,Ie))?(Qe||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount()),typeof Q.componentDidMount=="function"&&(m.flags|=4194308)):(typeof Q.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=O,m.memoizedState=ve),Q.props=O,Q.state=ve,Q.context=Ie,O=ue):(typeof Q.componentDidMount=="function"&&(m.flags|=4194308),O=!1)}else{Q=m.stateNode,Sk(d,m),ue=m.memoizedProps,Ie=m.type===m.elementType?ue:Ia(m.type,ue),Q.props=Ie,Qe=m.pendingProps,He=Q.context,ve=S.contextType,typeof ve=="object"&&ve!==null?ve=ca(ve):(ve=ms(S)?su:Vi.current,ve=Rd(m,ve));var pt=S.getDerivedStateFromProps;(Ke=typeof pt=="function"||typeof Q.getSnapshotBeforeUpdate=="function")||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(ue!==Qe||He!==ve)&&Xk(m,Q,O,ve),ql=!1,He=m.memoizedState,Q.state=He,S0(m,O,Q,F);var wt=m.memoizedState;ue!==Qe||He!==wt||ps.current||ql?(typeof pt=="function"&&(zw(m,S,pt,O),wt=m.memoizedState),(Ie=ql||Kk(m,S,Ie,O,He,wt,ve)||!1)?(Ke||typeof Q.UNSAFE_componentWillUpdate!="function"&&typeof Q.componentWillUpdate!="function"||(typeof Q.componentWillUpdate=="function"&&Q.componentWillUpdate(O,wt,ve),typeof Q.UNSAFE_componentWillUpdate=="function"&&Q.UNSAFE_componentWillUpdate(O,wt,ve)),typeof Q.componentDidUpdate=="function"&&(m.flags|=4),typeof Q.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof Q.componentDidUpdate!="function"||ue===d.memoizedProps&&He===d.memoizedState||(m.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||ue===d.memoizedProps&&He===d.memoizedState||(m.flags|=1024),m.memoizedProps=O,m.memoizedState=wt),Q.props=O,Q.state=wt,Q.context=ve,O=Ie):(typeof Q.componentDidUpdate!="function"||ue===d.memoizedProps&&He===d.memoizedState||(m.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||ue===d.memoizedProps&&He===d.memoizedState||(m.flags|=1024),O=!1)}return Xw(d,m,S,O,U,F)}function Xw(d,m,S,O,F,U){aP(d,m);var Q=(m.flags&128)!==0;if(!O&&!Q)return F&&fk(m,S,!1),zo(d,m,U);O=m.stateNode,SG.current=m;var ue=Q&&typeof S.getDerivedStateFromError!="function"?null:O.render();return m.flags|=1,d!==null&&Q?(m.child=Bd(m,d.child,null,U),m.child=Bd(m,null,ue,U)):ts(d,m,ue,U),m.memoizedState=O.state,F&&fk(m,S,!0),m.child}function lP(d){var m=d.stateNode;m.pendingContext?uk(d,m.pendingContext,m.pendingContext!==m.context):m.context&&uk(d,m.context,!1),Iw(d,m.containerInfo)}function cP(d,m,S,O,F){return Ld(),Aw(F),m.flags|=256,ts(d,m,S,O),m.child}var Zw={dehydrated:null,treeContext:null,retryLane:0};function Qw(d){return{baseLanes:d,cachePool:null,transitions:null}}function uP(d,m,S){var O=m.pendingProps,F=On.current,U=!1,Q=(m.flags&128)!==0,ue;if((ue=Q)||(ue=d!==null&&d.memoizedState===null?!1:(F&2)!==0),ue?(U=!0,m.flags&=-129):(d===null||d.memoizedState!==null)&&(F|=1),on(On,F&1),d===null)return Cw(m),d=m.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((m.mode&1)===0?m.lanes=1:d.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(Q=O.children,d=O.fallback,U?(O=m.mode,U=m.child,Q={mode:"hidden",children:Q},(O&1)===0&&U!==null?(U.childLanes=0,U.pendingProps=Q):U=W0(Q,O,0,null),d=mu(d,O,S,null),U.return=m,d.return=m,U.sibling=d,m.child=U,m.child.memoizedState=Qw(S),m.memoizedState=Zw,d):Jw(m,Q));if(F=d.memoizedState,F!==null&&(ue=F.dehydrated,ue!==null))return EG(d,m,Q,O,ue,F,S);if(U){U=O.fallback,Q=m.mode,F=d.child,ue=F.sibling;var ve={mode:"hidden",children:O.children};return(Q&1)===0&&m.child!==F?(O=m.child,O.childLanes=0,O.pendingProps=ve,m.deletions=null):(O=Xl(F,ve),O.subtreeFlags=F.subtreeFlags&14680064),ue!==null?U=Xl(ue,U):(U=mu(U,Q,S,null),U.flags|=2),U.return=m,O.return=m,O.sibling=U,m.child=O,O=U,U=m.child,Q=d.child.memoizedState,Q=Q===null?Qw(S):{baseLanes:Q.baseLanes|S,cachePool:null,transitions:Q.transitions},U.memoizedState=Q,U.childLanes=d.childLanes&~S,m.memoizedState=Zw,O}return U=d.child,d=U.sibling,O=Xl(U,{mode:"visible",children:O.children}),(m.mode&1)===0&&(O.lanes=S),O.return=m,O.sibling=null,d!==null&&(S=m.deletions,S===null?(m.deletions=[d],m.flags|=16):S.push(d)),m.child=O,m.memoizedState=null,O}function Jw(d,m){return m=W0({mode:"visible",children:m},d.mode,0,null),m.return=d,d.child=m}function k0(d,m,S,O){return O!==null&&Aw(O),Bd(m,d.child,null,S),d=Jw(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function EG(d,m,S,O,F,U,Q){if(S)return m.flags&256?(m.flags&=-257,O=Gw(Error(r(422))),k0(d,m,Q,O)):m.memoizedState!==null?(m.child=d.child,m.flags|=128,null):(U=O.fallback,F=m.mode,O=W0({mode:"visible",children:O.children},F,0,null),U=mu(U,F,Q,null),U.flags|=2,O.return=m,U.return=m,O.sibling=U,m.child=O,(m.mode&1)!==0&&Bd(m,d.child,null,Q),m.child.memoizedState=Qw(Q),m.memoizedState=Zw,U);if((m.mode&1)===0)return k0(d,m,Q,null);if(F.data==="$!"){if(O=F.nextSibling&&F.nextSibling.dataset,O)var ue=O.dgst;return O=ue,U=Error(r(419)),O=Gw(U,O,void 0),k0(d,m,Q,O)}if(ue=(Q&d.childLanes)!==0,gs||ue){if(O=Si,O!==null){switch(Q&-Q){case 4:F=2;break;case 16:F=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:F=32;break;case 536870912:F=268435456;break;default:F=0}F=(F&(O.suspendedLanes|Q))!==0?0:F,F!==0&&F!==U.retryLane&&(U.retryLane=F,qo(d,F),Da(O,d,F,-1))}return mb(),O=Gw(Error(r(421))),k0(d,m,Q,O)}return F.data==="$?"?(m.flags|=128,m.child=d.child,m=LG.bind(null,d),F._reactRetry=m,null):(d=U.treeContext,Bs=Fl(F.nextSibling),Ls=m,An=!0,Pa=null,d!==null&&(oa[la++]=$o,oa[la++]=Vo,oa[la++]=au,$o=d.id,Vo=d.overflow,au=m),m=Jw(m,O.children),m.flags|=4096,m)}function dP(d,m,S){d.lanes|=m;var O=d.alternate;O!==null&&(O.lanes|=m),Tw(d.return,m,S)}function eb(d,m,S,O,F){var U=d.memoizedState;U===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:O,tail:S,tailMode:F}:(U.isBackwards=m,U.rendering=null,U.renderingStartTime=0,U.last=O,U.tail=S,U.tailMode=F)}function fP(d,m,S){var O=m.pendingProps,F=O.revealOrder,U=O.tail;if(ts(d,m,O.children,S),O=On.current,(O&2)!==0)O=O&1|2,m.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&dP(d,S,m);else if(d.tag===19)dP(d,S,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}O&=1}if(on(On,O),(m.mode&1)===0)m.memoizedState=null;else switch(F){case"forwards":for(S=m.child,F=null;S!==null;)d=S.alternate,d!==null&&E0(d)===null&&(F=S),S=S.sibling;S=F,S===null?(F=m.child,m.child=null):(F=S.sibling,S.sibling=null),eb(m,!1,F,S,U);break;case"backwards":for(S=null,F=m.child,m.child=null;F!==null;){if(d=F.alternate,d!==null&&E0(d)===null){m.child=F;break}d=F.sibling,F.sibling=S,S=F,F=d}eb(m,!0,S,null,U);break;case"together":eb(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function P0(d,m){(m.mode&1)===0&&d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2)}function zo(d,m,S){if(d!==null&&(m.dependencies=d.dependencies),du|=m.lanes,(S&m.childLanes)===0)return null;if(d!==null&&m.child!==d.child)throw Error(r(153));if(m.child!==null){for(d=m.child,S=Xl(d,d.pendingProps),m.child=S,S.return=m;d.sibling!==null;)d=d.sibling,S=S.sibling=Xl(d,d.pendingProps),S.return=m;S.sibling=null}return m.child}function CG(d,m,S){switch(m.tag){case 3:lP(m),Ld();break;case 5:Ak(m);break;case 1:ms(m.type)&&p0(m);break;case 4:Iw(m,m.stateNode.containerInfo);break;case 10:var O=m.type._context,F=m.memoizedProps.value;on(w0,O._currentValue),O._currentValue=F;break;case 13:if(O=m.memoizedState,O!==null)return O.dehydrated!==null?(on(On,On.current&1),m.flags|=128,null):(S&m.child.childLanes)!==0?uP(d,m,S):(on(On,On.current&1),d=zo(d,m,S),d!==null?d.sibling:null);on(On,On.current&1);break;case 19:if(O=(S&m.childLanes)!==0,(d.flags&128)!==0){if(O)return fP(d,m,S);m.flags|=128}if(F=m.memoizedState,F!==null&&(F.rendering=null,F.tail=null,F.lastEffect=null),on(On,On.current),O)break;return null;case 22:case 23:return m.lanes=0,sP(d,m,S)}return zo(d,m,S)}var hP,tb,pP,mP;hP=function(d,m){for(var S=m.child;S!==null;){if(S.tag===5||S.tag===6)d.appendChild(S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===m)break;for(;S.sibling===null;){if(S.return===null||S.return===m)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},tb=function(){},pP=function(d,m,S,O){var F=d.memoizedProps;if(F!==O){d=m.stateNode,cu(uo.current);var U=null;switch(S){case"input":F=Ue(d,F),O=Ue(d,O),U=[];break;case"select":F=de({},F,{value:void 0}),O=de({},O,{value:void 0}),U=[];break;case"textarea":F=Ne(d,F),O=Ne(d,O),U=[];break;default:typeof F.onClick!="function"&&typeof O.onClick=="function"&&(d.onclick=d0)}gr(S,O);var Q;S=null;for(Ie in F)if(!O.hasOwnProperty(Ie)&&F.hasOwnProperty(Ie)&&F[Ie]!=null)if(Ie==="style"){var ue=F[Ie];for(Q in ue)ue.hasOwnProperty(Q)&&(S||(S={}),S[Q]="")}else Ie!=="dangerouslySetInnerHTML"&&Ie!=="children"&&Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&Ie!=="autoFocus"&&(i.hasOwnProperty(Ie)?U||(U=[]):(U=U||[]).push(Ie,null));for(Ie in O){var ve=O[Ie];if(ue=F?.[Ie],O.hasOwnProperty(Ie)&&ve!==ue&&(ve!=null||ue!=null))if(Ie==="style")if(ue){for(Q in ue)!ue.hasOwnProperty(Q)||ve&&ve.hasOwnProperty(Q)||(S||(S={}),S[Q]="");for(Q in ve)ve.hasOwnProperty(Q)&&ue[Q]!==ve[Q]&&(S||(S={}),S[Q]=ve[Q])}else S||(U||(U=[]),U.push(Ie,S)),S=ve;else Ie==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,ue=ue?ue.__html:void 0,ve!=null&&ue!==ve&&(U=U||[]).push(Ie,ve)):Ie==="children"?typeof ve!="string"&&typeof ve!="number"||(U=U||[]).push(Ie,""+ve):Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ie)?(ve!=null&&Ie==="onScroll"&&vn("scroll",d),U||ue===ve||(U=[])):(U=U||[]).push(Ie,ve))}S&&(U=U||[]).push("style",S);var Ie=U;(m.updateQueue=Ie)&&(m.flags|=4)}},mP=function(d,m,S,O){S!==O&&(m.flags|=4)};function mp(d,m){if(!An)switch(d.tailMode){case"hidden":m=d.tail;for(var S=null;m!==null;)m.alternate!==null&&(S=m),m=m.sibling;S===null?d.tail=null:S.sibling=null;break;case"collapsed":S=d.tail;for(var O=null;S!==null;)S.alternate!==null&&(O=S),S=S.sibling;O===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:O.sibling=null}}function Wi(d){var m=d.alternate!==null&&d.alternate.child===d.child,S=0,O=0;if(m)for(var F=d.child;F!==null;)S|=F.lanes|F.childLanes,O|=F.subtreeFlags&14680064,O|=F.flags&14680064,F.return=d,F=F.sibling;else for(F=d.child;F!==null;)S|=F.lanes|F.childLanes,O|=F.subtreeFlags,O|=F.flags,F.return=d,F=F.sibling;return d.subtreeFlags|=O,d.childLanes=S,m}function AG(d,m,S){var O=m.pendingProps;switch(Sw(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wi(m),null;case 1:return ms(m.type)&&h0(),Wi(m),null;case 3:return O=m.stateNode,$d(),yn(ps),yn(Vi),Dw(),O.pendingContext&&(O.context=O.pendingContext,O.pendingContext=null),(d===null||d.child===null)&&(y0(m)?m.flags|=4:d===null||d.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Pa!==null&&(fb(Pa),Pa=null))),tb(d,m),Wi(m),null;case 5:Rw(m);var F=cu(up.current);if(S=m.type,d!==null&&m.stateNode!=null)pP(d,m,S,O,F),d.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!O){if(m.stateNode===null)throw Error(r(166));return Wi(m),null}if(d=cu(uo.current),y0(m)){O=m.stateNode,S=m.type;var U=m.memoizedProps;switch(O[co]=m,O[sp]=U,d=(m.mode&1)!==0,S){case"dialog":vn("cancel",O),vn("close",O);break;case"iframe":case"object":case"embed":vn("load",O);break;case"video":case"audio":for(F=0;F<rp.length;F++)vn(rp[F],O);break;case"source":vn("error",O);break;case"img":case"image":case"link":vn("error",O),vn("load",O);break;case"details":vn("toggle",O);break;case"input":st(O,U),vn("invalid",O);break;case"select":O._wrapperState={wasMultiple:!!U.multiple},vn("invalid",O);break;case"textarea":Ye(O,U),vn("invalid",O)}gr(S,U),F=null;for(var Q in U)if(U.hasOwnProperty(Q)){var ue=U[Q];Q==="children"?typeof ue=="string"?O.textContent!==ue&&(U.suppressHydrationWarning!==!0&&u0(O.textContent,ue,d),F=["children",ue]):typeof ue=="number"&&O.textContent!==""+ue&&(U.suppressHydrationWarning!==!0&&u0(O.textContent,ue,d),F=["children",""+ue]):i.hasOwnProperty(Q)&&ue!=null&&Q==="onScroll"&&vn("scroll",O)}switch(S){case"input":We(O),kt(O,U,!0);break;case"textarea":We(O),qe(O);break;case"select":case"option":break;default:typeof U.onClick=="function"&&(O.onclick=d0)}O=F,m.updateQueue=O,O!==null&&(m.flags|=4)}else{Q=F.nodeType===9?F:F.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=ae(S)),d==="http://www.w3.org/1999/xhtml"?S==="script"?(d=Q.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof O.is=="string"?d=Q.createElement(S,{is:O.is}):(d=Q.createElement(S),S==="select"&&(Q=d,O.multiple?Q.multiple=!0:O.size&&(Q.size=O.size))):d=Q.createElementNS(d,S),d[co]=m,d[sp]=O,hP(d,m,!1,!1),m.stateNode=d;e:{switch(Q=$r(S,O),S){case"dialog":vn("cancel",d),vn("close",d),F=O;break;case"iframe":case"object":case"embed":vn("load",d),F=O;break;case"video":case"audio":for(F=0;F<rp.length;F++)vn(rp[F],d);F=O;break;case"source":vn("error",d),F=O;break;case"img":case"image":case"link":vn("error",d),vn("load",d),F=O;break;case"details":vn("toggle",d),F=O;break;case"input":st(d,O),F=Ue(d,O),vn("invalid",d);break;case"option":F=O;break;case"select":d._wrapperState={wasMultiple:!!O.multiple},F=de({},O,{value:void 0}),vn("invalid",d);break;case"textarea":Ye(d,O),F=Ne(d,O),vn("invalid",d);break;default:F=O}gr(S,F),ue=F;for(U in ue)if(ue.hasOwnProperty(U)){var ve=ue[U];U==="style"?ze(d,ve):U==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,ve!=null&&ft(d,ve)):U==="children"?typeof ve=="string"?(S!=="textarea"||ve!=="")&&_r(d,ve):typeof ve=="number"&&_r(d,""+ve):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(i.hasOwnProperty(U)?ve!=null&&U==="onScroll"&&vn("scroll",d):ve!=null&&P(d,U,ve,Q))}switch(S){case"input":We(d),kt(d,O,!1);break;case"textarea":We(d),qe(d);break;case"option":O.value!=null&&d.setAttribute("value",""+Le(O.value));break;case"select":d.multiple=!!O.multiple,U=O.value,U!=null?he(d,!!O.multiple,U,!1):O.defaultValue!=null&&he(d,!!O.multiple,O.defaultValue,!0);break;default:typeof F.onClick=="function"&&(d.onclick=d0)}switch(S){case"button":case"input":case"select":case"textarea":O=!!O.autoFocus;break e;case"img":O=!0;break e;default:O=!1}}O&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return Wi(m),null;case 6:if(d&&m.stateNode!=null)mP(d,m,d.memoizedProps,O);else{if(typeof O!="string"&&m.stateNode===null)throw Error(r(166));if(S=cu(up.current),cu(uo.current),y0(m)){if(O=m.stateNode,S=m.memoizedProps,O[co]=m,(U=O.nodeValue!==S)&&(d=Ls,d!==null))switch(d.tag){case 3:u0(O.nodeValue,S,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&u0(O.nodeValue,S,(d.mode&1)!==0)}U&&(m.flags|=4)}else O=(S.nodeType===9?S:S.ownerDocument).createTextNode(O),O[co]=m,m.stateNode=O}return Wi(m),null;case 13:if(yn(On),O=m.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(An&&Bs!==null&&(m.mode&1)!==0&&(m.flags&128)===0)yk(),Ld(),m.flags|=98560,U=!1;else if(U=y0(m),O!==null&&O.dehydrated!==null){if(d===null){if(!U)throw Error(r(318));if(U=m.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(r(317));U[co]=m}else Ld(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Wi(m),U=!1}else Pa!==null&&(fb(Pa),Pa=null),U=!0;if(!U)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=S,m):(O=O!==null,O!==(d!==null&&d.memoizedState!==null)&&O&&(m.child.flags|=8192,(m.mode&1)!==0&&(d===null||(On.current&1)!==0?di===0&&(di=3):mb())),m.updateQueue!==null&&(m.flags|=4),Wi(m),null);case 4:return $d(),tb(d,m),d===null&&np(m.stateNode.containerInfo),Wi(m),null;case 10:return Ow(m.type._context),Wi(m),null;case 17:return ms(m.type)&&h0(),Wi(m),null;case 19:if(yn(On),U=m.memoizedState,U===null)return Wi(m),null;if(O=(m.flags&128)!==0,Q=U.rendering,Q===null)if(O)mp(U,!1);else{if(di!==0||d!==null&&(d.flags&128)!==0)for(d=m.child;d!==null;){if(Q=E0(d),Q!==null){for(m.flags|=128,mp(U,!1),O=Q.updateQueue,O!==null&&(m.updateQueue=O,m.flags|=4),m.subtreeFlags=0,O=S,S=m.child;S!==null;)U=S,d=O,U.flags&=14680066,Q=U.alternate,Q===null?(U.childLanes=0,U.lanes=d,U.child=null,U.subtreeFlags=0,U.memoizedProps=null,U.memoizedState=null,U.updateQueue=null,U.dependencies=null,U.stateNode=null):(U.childLanes=Q.childLanes,U.lanes=Q.lanes,U.child=Q.child,U.subtreeFlags=0,U.deletions=null,U.memoizedProps=Q.memoizedProps,U.memoizedState=Q.memoizedState,U.updateQueue=Q.updateQueue,U.type=Q.type,d=Q.dependencies,U.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),S=S.sibling;return on(On,On.current&1|2),m.child}d=d.sibling}U.tail!==null&&Vr()>zd&&(m.flags|=128,O=!0,mp(U,!1),m.lanes=4194304)}else{if(!O)if(d=E0(Q),d!==null){if(m.flags|=128,O=!0,S=d.updateQueue,S!==null&&(m.updateQueue=S,m.flags|=4),mp(U,!0),U.tail===null&&U.tailMode==="hidden"&&!Q.alternate&&!An)return Wi(m),null}else 2*Vr()-U.renderingStartTime>zd&&S!==1073741824&&(m.flags|=128,O=!0,mp(U,!1),m.lanes=4194304);U.isBackwards?(Q.sibling=m.child,m.child=Q):(S=U.last,S!==null?S.sibling=Q:m.child=Q,U.last=Q)}return U.tail!==null?(m=U.tail,U.rendering=m,U.tail=m.sibling,U.renderingStartTime=Vr(),m.sibling=null,S=On.current,on(On,O?S&1|2:S&1),m):(Wi(m),null);case 22:case 23:return pb(),O=m.memoizedState!==null,d!==null&&d.memoizedState!==null!==O&&(m.flags|=8192),O&&(m.mode&1)!==0?(Fs&1073741824)!==0&&(Wi(m),m.subtreeFlags&6&&(m.flags|=8192)):Wi(m),null;case 24:return null;case 25:return null}throw Error(r(156,m.tag))}function NG(d,m){switch(Sw(m),m.tag){case 1:return ms(m.type)&&h0(),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return $d(),yn(ps),yn(Vi),Dw(),d=m.flags,(d&65536)!==0&&(d&128)===0?(m.flags=d&-65537|128,m):null;case 5:return Rw(m),null;case 13:if(yn(On),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(r(340));Ld()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return yn(On),null;case 4:return $d(),null;case 10:return Ow(m.type._context),null;case 22:case 23:return pb(),null;case 24:return null;default:return null}}var I0=!1,zi=!1,jG=typeof WeakSet=="function"?WeakSet:Set,yt=null;function qd(d,m){var S=d.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(O){Mn(d,m,O)}else S.current=null}function rb(d,m,S){try{S()}catch(O){Mn(d,m,O)}}var gP=!1;function OG(d,m){if(pw=oo,d=wr(),er(d)){if("selectionStart"in d)var S={start:d.selectionStart,end:d.selectionEnd};else e:{S=(S=d.ownerDocument)&&S.defaultView||window;var O=S.getSelection&&S.getSelection();if(O&&O.rangeCount!==0){S=O.anchorNode;var F=O.anchorOffset,U=O.focusNode;O=O.focusOffset;try{S.nodeType,U.nodeType}catch{S=null;break e}var Q=0,ue=-1,ve=-1,Ie=0,Ke=0,Qe=d,He=null;t:for(;;){for(var pt;Qe!==S||F!==0&&Qe.nodeType!==3||(ue=Q+F),Qe!==U||O!==0&&Qe.nodeType!==3||(ve=Q+O),Qe.nodeType===3&&(Q+=Qe.nodeValue.length),(pt=Qe.firstChild)!==null;)He=Qe,Qe=pt;for(;;){if(Qe===d)break t;if(He===S&&++Ie===F&&(ue=Q),He===U&&++Ke===O&&(ve=Q),(pt=Qe.nextSibling)!==null)break;Qe=He,He=Qe.parentNode}Qe=pt}S=ue===-1||ve===-1?null:{start:ue,end:ve}}else S=null}S=S||{start:0,end:0}}else S=null;for(mw={focusedElem:d,selectionRange:S},oo=!1,yt=m;yt!==null;)if(m=yt,d=m.child,(m.subtreeFlags&1028)!==0&&d!==null)d.return=m,yt=d;else for(;yt!==null;){m=yt;try{var wt=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(wt!==null){var _t=wt.memoizedProps,Vn=wt.memoizedState,Ce=m.stateNode,xe=Ce.getSnapshotBeforeUpdate(m.elementType===m.type?_t:Ia(m.type,_t),Vn);Ce.__reactInternalSnapshotBeforeUpdate=xe}break;case 3:var Ae=m.stateNode.containerInfo;Ae.nodeType===1?Ae.textContent="":Ae.nodeType===9&&Ae.documentElement&&Ae.removeChild(Ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(nt){Mn(m,m.return,nt)}if(d=m.sibling,d!==null){d.return=m.return,yt=d;break}yt=m.return}return wt=gP,gP=!1,wt}function gp(d,m,S){var O=m.updateQueue;if(O=O!==null?O.lastEffect:null,O!==null){var F=O=O.next;do{if((F.tag&d)===d){var U=F.destroy;F.destroy=void 0,U!==void 0&&rb(m,S,U)}F=F.next}while(F!==O)}}function R0(d,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var S=m=m.next;do{if((S.tag&d)===d){var O=S.create;S.destroy=O()}S=S.next}while(S!==m)}}function nb(d){var m=d.ref;if(m!==null){var S=d.stateNode;switch(d.tag){case 5:d=S;break;default:d=S}typeof m=="function"?m(d):m.current=d}}function vP(d){var m=d.alternate;m!==null&&(d.alternate=null,vP(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&(delete m[co],delete m[sp],delete m[xw],delete m[dG],delete m[fG])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function yP(d){return d.tag===5||d.tag===3||d.tag===4}function xP(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||yP(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function ib(d,m,S){var O=d.tag;if(O===5||O===6)d=d.stateNode,m?S.nodeType===8?S.parentNode.insertBefore(d,m):S.insertBefore(d,m):(S.nodeType===8?(m=S.parentNode,m.insertBefore(d,S)):(m=S,m.appendChild(d)),S=S._reactRootContainer,S!=null||m.onclick!==null||(m.onclick=d0));else if(O!==4&&(d=d.child,d!==null))for(ib(d,m,S),d=d.sibling;d!==null;)ib(d,m,S),d=d.sibling}function sb(d,m,S){var O=d.tag;if(O===5||O===6)d=d.stateNode,m?S.insertBefore(d,m):S.appendChild(d);else if(O!==4&&(d=d.child,d!==null))for(sb(d,m,S),d=d.sibling;d!==null;)sb(d,m,S),d=d.sibling}var Ii=null,Ra=!1;function zl(d,m,S){for(S=S.child;S!==null;)wP(d,m,S),S=S.sibling}function wP(d,m,S){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(Tr,S)}catch{}switch(S.tag){case 5:zi||qd(S,m);case 6:var O=Ii,F=Ra;Ii=null,zl(d,m,S),Ii=O,Ra=F,Ii!==null&&(Ra?(d=Ii,S=S.stateNode,d.nodeType===8?d.parentNode.removeChild(S):d.removeChild(S)):Ii.removeChild(S.stateNode));break;case 18:Ii!==null&&(Ra?(d=Ii,S=S.stateNode,d.nodeType===8?yw(d.parentNode,S):d.nodeType===1&&yw(d,S),Oa(d)):yw(Ii,S.stateNode));break;case 4:O=Ii,F=Ra,Ii=S.stateNode.containerInfo,Ra=!0,zl(d,m,S),Ii=O,Ra=F;break;case 0:case 11:case 14:case 15:if(!zi&&(O=S.updateQueue,O!==null&&(O=O.lastEffect,O!==null))){F=O=O.next;do{var U=F,Q=U.destroy;U=U.tag,Q!==void 0&&((U&2)!==0||(U&4)!==0)&&rb(S,m,Q),F=F.next}while(F!==O)}zl(d,m,S);break;case 1:if(!zi&&(qd(S,m),O=S.stateNode,typeof O.componentWillUnmount=="function"))try{O.props=S.memoizedProps,O.state=S.memoizedState,O.componentWillUnmount()}catch(ue){Mn(S,m,ue)}zl(d,m,S);break;case 21:zl(d,m,S);break;case 22:S.mode&1?(zi=(O=zi)||S.memoizedState!==null,zl(d,m,S),zi=O):zl(d,m,S);break;default:zl(d,m,S)}}function bP(d){var m=d.updateQueue;if(m!==null){d.updateQueue=null;var S=d.stateNode;S===null&&(S=d.stateNode=new jG),m.forEach(function(O){var F=BG.bind(null,d,O);S.has(O)||(S.add(O),O.then(F,F))})}}function Ma(d,m){var S=m.deletions;if(S!==null)for(var O=0;O<S.length;O++){var F=S[O];try{var U=d,Q=m,ue=Q;e:for(;ue!==null;){switch(ue.tag){case 5:Ii=ue.stateNode,Ra=!1;break e;case 3:Ii=ue.stateNode.containerInfo,Ra=!0;break e;case 4:Ii=ue.stateNode.containerInfo,Ra=!0;break e}ue=ue.return}if(Ii===null)throw Error(r(160));wP(U,Q,F),Ii=null,Ra=!1;var ve=F.alternate;ve!==null&&(ve.return=null),F.return=null}catch(Ie){Mn(F,m,Ie)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)_P(m,d),m=m.sibling}function _P(d,m){var S=d.alternate,O=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(Ma(m,d),ho(d),O&4){try{gp(3,d,d.return),R0(3,d)}catch(_t){Mn(d,d.return,_t)}try{gp(5,d,d.return)}catch(_t){Mn(d,d.return,_t)}}break;case 1:Ma(m,d),ho(d),O&512&&S!==null&&qd(S,S.return);break;case 5:if(Ma(m,d),ho(d),O&512&&S!==null&&qd(S,S.return),d.flags&32){var F=d.stateNode;try{_r(F,"")}catch(_t){Mn(d,d.return,_t)}}if(O&4&&(F=d.stateNode,F!=null)){var U=d.memoizedProps,Q=S!==null?S.memoizedProps:U,ue=d.type,ve=d.updateQueue;if(d.updateQueue=null,ve!==null)try{ue==="input"&&U.type==="radio"&&U.name!=null&&Et(F,U),$r(ue,Q);var Ie=$r(ue,U);for(Q=0;Q<ve.length;Q+=2){var Ke=ve[Q],Qe=ve[Q+1];Ke==="style"?ze(F,Qe):Ke==="dangerouslySetInnerHTML"?ft(F,Qe):Ke==="children"?_r(F,Qe):P(F,Ke,Qe,Ie)}switch(ue){case"input":dt(F,U);break;case"textarea":Ve(F,U);break;case"select":var He=F._wrapperState.wasMultiple;F._wrapperState.wasMultiple=!!U.multiple;var pt=U.value;pt!=null?he(F,!!U.multiple,pt,!1):He!==!!U.multiple&&(U.defaultValue!=null?he(F,!!U.multiple,U.defaultValue,!0):he(F,!!U.multiple,U.multiple?[]:"",!1))}F[sp]=U}catch(_t){Mn(d,d.return,_t)}}break;case 6:if(Ma(m,d),ho(d),O&4){if(d.stateNode===null)throw Error(r(162));F=d.stateNode,U=d.memoizedProps;try{F.nodeValue=U}catch(_t){Mn(d,d.return,_t)}}break;case 3:if(Ma(m,d),ho(d),O&4&&S!==null&&S.memoizedState.isDehydrated)try{Oa(m.containerInfo)}catch(_t){Mn(d,d.return,_t)}break;case 4:Ma(m,d),ho(d);break;case 13:Ma(m,d),ho(d),F=d.child,F.flags&8192&&(U=F.memoizedState!==null,F.stateNode.isHidden=U,!U||F.alternate!==null&&F.alternate.memoizedState!==null||(lb=Vr())),O&4&&bP(d);break;case 22:if(Ke=S!==null&&S.memoizedState!==null,d.mode&1?(zi=(Ie=zi)||Ke,Ma(m,d),zi=Ie):Ma(m,d),ho(d),O&8192){if(Ie=d.memoizedState!==null,(d.stateNode.isHidden=Ie)&&!Ke&&(d.mode&1)!==0)for(yt=d,Ke=d.child;Ke!==null;){for(Qe=yt=Ke;yt!==null;){switch(He=yt,pt=He.child,He.tag){case 0:case 11:case 14:case 15:gp(4,He,He.return);break;case 1:qd(He,He.return);var wt=He.stateNode;if(typeof wt.componentWillUnmount=="function"){O=He,S=He.return;try{m=O,wt.props=m.memoizedProps,wt.state=m.memoizedState,wt.componentWillUnmount()}catch(_t){Mn(O,S,_t)}}break;case 5:qd(He,He.return);break;case 22:if(He.memoizedState!==null){CP(Qe);continue}}pt!==null?(pt.return=He,yt=pt):CP(Qe)}Ke=Ke.sibling}e:for(Ke=null,Qe=d;;){if(Qe.tag===5){if(Ke===null){Ke=Qe;try{F=Qe.stateNode,Ie?(U=F.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none"):(ue=Qe.stateNode,ve=Qe.memoizedProps.style,Q=ve!=null&&ve.hasOwnProperty("display")?ve.display:null,ue.style.display=Bt("display",Q))}catch(_t){Mn(d,d.return,_t)}}}else if(Qe.tag===6){if(Ke===null)try{Qe.stateNode.nodeValue=Ie?"":Qe.memoizedProps}catch(_t){Mn(d,d.return,_t)}}else if((Qe.tag!==22&&Qe.tag!==23||Qe.memoizedState===null||Qe===d)&&Qe.child!==null){Qe.child.return=Qe,Qe=Qe.child;continue}if(Qe===d)break e;for(;Qe.sibling===null;){if(Qe.return===null||Qe.return===d)break e;Ke===Qe&&(Ke=null),Qe=Qe.return}Ke===Qe&&(Ke=null),Qe.sibling.return=Qe.return,Qe=Qe.sibling}}break;case 19:Ma(m,d),ho(d),O&4&&bP(d);break;case 21:break;default:Ma(m,d),ho(d)}}function ho(d){var m=d.flags;if(m&2){try{e:{for(var S=d.return;S!==null;){if(yP(S)){var O=S;break e}S=S.return}throw Error(r(160))}switch(O.tag){case 5:var F=O.stateNode;O.flags&32&&(_r(F,""),O.flags&=-33);var U=xP(d);sb(d,U,F);break;case 3:case 4:var Q=O.stateNode.containerInfo,ue=xP(d);ib(d,ue,Q);break;default:throw Error(r(161))}}catch(ve){Mn(d,d.return,ve)}d.flags&=-3}m&4096&&(d.flags&=-4097)}function TG(d,m,S){yt=d,SP(d)}function SP(d,m,S){for(var O=(d.mode&1)!==0;yt!==null;){var F=yt,U=F.child;if(F.tag===22&&O){var Q=F.memoizedState!==null||I0;if(!Q){var ue=F.alternate,ve=ue!==null&&ue.memoizedState!==null||zi;ue=I0;var Ie=zi;if(I0=Q,(zi=ve)&&!Ie)for(yt=F;yt!==null;)Q=yt,ve=Q.child,Q.tag===22&&Q.memoizedState!==null?AP(F):ve!==null?(ve.return=Q,yt=ve):AP(F);for(;U!==null;)yt=U,SP(U),U=U.sibling;yt=F,I0=ue,zi=Ie}EP(d)}else(F.subtreeFlags&8772)!==0&&U!==null?(U.return=F,yt=U):EP(d)}}function EP(d){for(;yt!==null;){var m=yt;if((m.flags&8772)!==0){var S=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:zi||R0(5,m);break;case 1:var O=m.stateNode;if(m.flags&4&&!zi)if(S===null)O.componentDidMount();else{var F=m.elementType===m.type?S.memoizedProps:Ia(m.type,S.memoizedProps);O.componentDidUpdate(F,S.memoizedState,O.__reactInternalSnapshotBeforeUpdate)}var U=m.updateQueue;U!==null&&Ck(m,U,O);break;case 3:var Q=m.updateQueue;if(Q!==null){if(S=null,m.child!==null)switch(m.child.tag){case 5:S=m.child.stateNode;break;case 1:S=m.child.stateNode}Ck(m,Q,S)}break;case 5:var ue=m.stateNode;if(S===null&&m.flags&4){S=ue;var ve=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":ve.autoFocus&&S.focus();break;case"img":ve.src&&(S.src=ve.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var Ie=m.alternate;if(Ie!==null){var Ke=Ie.memoizedState;if(Ke!==null){var Qe=Ke.dehydrated;Qe!==null&&Oa(Qe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}zi||m.flags&512&&nb(m)}catch(He){Mn(m,m.return,He)}}if(m===d){yt=null;break}if(S=m.sibling,S!==null){S.return=m.return,yt=S;break}yt=m.return}}function CP(d){for(;yt!==null;){var m=yt;if(m===d){yt=null;break}var S=m.sibling;if(S!==null){S.return=m.return,yt=S;break}yt=m.return}}function AP(d){for(;yt!==null;){var m=yt;try{switch(m.tag){case 0:case 11:case 15:var S=m.return;try{R0(4,m)}catch(ve){Mn(m,S,ve)}break;case 1:var O=m.stateNode;if(typeof O.componentDidMount=="function"){var F=m.return;try{O.componentDidMount()}catch(ve){Mn(m,F,ve)}}var U=m.return;try{nb(m)}catch(ve){Mn(m,U,ve)}break;case 5:var Q=m.return;try{nb(m)}catch(ve){Mn(m,Q,ve)}}}catch(ve){Mn(m,m.return,ve)}if(m===d){yt=null;break}var ue=m.sibling;if(ue!==null){ue.return=m.return,yt=ue;break}yt=m.return}}var kG=Math.ceil,M0=L.ReactCurrentDispatcher,ab=L.ReactCurrentOwner,da=L.ReactCurrentBatchConfig,Ir=0,Si=null,Kn=null,Ri=0,Fs=0,Wd=Ul(0),di=0,vp=null,du=0,D0=0,ob=0,yp=null,vs=null,lb=0,zd=1/0,Ho=null,L0=!1,cb=null,Hl=null,B0=!1,Gl=null,F0=0,xp=0,ub=null,U0=-1,$0=0;function rs(){return(Ir&6)!==0?Vr():U0!==-1?U0:U0=Vr()}function Kl(d){return(d.mode&1)===0?1:(Ir&2)!==0&&Ri!==0?Ri&-Ri:pG.transition!==null?($0===0&&($0=ai()),$0):(d=hr,d!==0||(d=window.event,d=d===void 0?16:Hh(d.type)),d)}function Da(d,m,S,O){if(50<xp)throw xp=0,ub=null,Error(r(185));oe(d,S,O),((Ir&2)===0||d!==Si)&&(d===Si&&((Ir&2)===0&&(D0|=S),di===4&&Yl(d,Ri)),ys(d,O),S===1&&Ir===0&&(m.mode&1)===0&&(zd=Vr()+500,m0&&Vl()))}function ys(d,m){var S=d.callbackNode;Ol(d,m);var O=Is(d,d===Si?Ri:0);if(O===0)S!==null&&wi(S),d.callbackNode=null,d.callbackPriority=0;else if(m=O&-O,d.callbackPriority!==m){if(S!=null&&wi(S),m===1)d.tag===0?hG(jP.bind(null,d)):hk(jP.bind(null,d)),cG(function(){(Ir&6)===0&&Vl()}),S=null;else{switch(Xg(O)){case 1:S=$e;break;case 4:S=Kg;break;case 16:S=en;break;case 536870912:S=Yg;break;default:S=en}S=DP(S,NP.bind(null,d))}d.callbackPriority=m,d.callbackNode=S}}function NP(d,m){if(U0=-1,$0=0,(Ir&6)!==0)throw Error(r(327));var S=d.callbackNode;if(Hd()&&d.callbackNode!==S)return null;var O=Is(d,d===Si?Ri:0);if(O===0)return null;if((O&30)!==0||(O&d.expiredLanes)!==0||m)m=V0(d,O);else{m=O;var F=Ir;Ir|=2;var U=TP();(Si!==d||Ri!==m)&&(Ho=null,zd=Vr()+500,hu(d,m));do try{RG();break}catch(ue){OP(d,ue)}while(!0);jw(),M0.current=U,Ir=F,Kn!==null?m=0:(Si=null,Ri=0,m=di)}if(m!==0){if(m===2&&(F=qr(d),F!==0&&(O=F,m=db(d,F))),m===1)throw S=vp,hu(d,0),Yl(d,O),ys(d,Vr()),S;if(m===6)Yl(d,O);else{if(F=d.current.alternate,(O&30)===0&&!PG(F)&&(m=V0(d,O),m===2&&(U=qr(d),U!==0&&(O=U,m=db(d,U))),m===1))throw S=vp,hu(d,0),Yl(d,O),ys(d,Vr()),S;switch(d.finishedWork=F,d.finishedLanes=O,m){case 0:case 1:throw Error(r(345));case 2:pu(d,vs,Ho);break;case 3:if(Yl(d,O),(O&130023424)===O&&(m=lb+500-Vr(),10<m)){if(Is(d,0)!==0)break;if(F=d.suspendedLanes,(F&O)!==O){rs(),d.pingedLanes|=d.suspendedLanes&F;break}d.timeoutHandle=vw(pu.bind(null,d,vs,Ho),m);break}pu(d,vs,Ho);break;case 4:if(Yl(d,O),(O&4194240)===O)break;for(m=d.eventTimes,F=-1;0<O;){var Q=31-es(O);U=1<<Q,Q=m[Q],Q>F&&(F=Q),O&=~U}if(O=F,O=Vr()-O,O=(120>O?120:480>O?480:1080>O?1080:1920>O?1920:3e3>O?3e3:4320>O?4320:1960*kG(O/1960))-O,10<O){d.timeoutHandle=vw(pu.bind(null,d,vs,Ho),O);break}pu(d,vs,Ho);break;case 5:pu(d,vs,Ho);break;default:throw Error(r(329))}}}return ys(d,Vr()),d.callbackNode===S?NP.bind(null,d):null}function db(d,m){var S=yp;return d.current.memoizedState.isDehydrated&&(hu(d,m).flags|=256),d=V0(d,m),d!==2&&(m=vs,vs=S,m!==null&&fb(m)),d}function fb(d){vs===null?vs=d:vs.push.apply(vs,d)}function PG(d){for(var m=d;;){if(m.flags&16384){var S=m.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var O=0;O<S.length;O++){var F=S[O],U=F.getSnapshot;F=F.value;try{if(!be(U(),F))return!1}catch{return!1}}}if(S=m.child,m.subtreeFlags&16384&&S!==null)S.return=m,m=S;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Yl(d,m){for(m&=~ob,m&=~D0,d.suspendedLanes|=m,d.pingedLanes&=~m,d=d.expirationTimes;0<m;){var S=31-es(m),O=1<<S;d[S]=-1,m&=~O}}function jP(d){if((Ir&6)!==0)throw Error(r(327));Hd();var m=Is(d,0);if((m&1)===0)return ys(d,Vr()),null;var S=V0(d,m);if(d.tag!==0&&S===2){var O=qr(d);O!==0&&(m=O,S=db(d,O))}if(S===1)throw S=vp,hu(d,0),Yl(d,m),ys(d,Vr()),S;if(S===6)throw Error(r(345));return d.finishedWork=d.current.alternate,d.finishedLanes=m,pu(d,vs,Ho),ys(d,Vr()),null}function hb(d,m){var S=Ir;Ir|=1;try{return d(m)}finally{Ir=S,Ir===0&&(zd=Vr()+500,m0&&Vl())}}function fu(d){Gl!==null&&Gl.tag===0&&(Ir&6)===0&&Hd();var m=Ir;Ir|=1;var S=da.transition,O=hr;try{if(da.transition=null,hr=1,d)return d()}finally{hr=O,da.transition=S,Ir=m,(Ir&6)===0&&Vl()}}function pb(){Fs=Wd.current,yn(Wd)}function hu(d,m){d.finishedWork=null,d.finishedLanes=0;var S=d.timeoutHandle;if(S!==-1&&(d.timeoutHandle=-1,lG(S)),Kn!==null)for(S=Kn.return;S!==null;){var O=S;switch(Sw(O),O.tag){case 1:O=O.type.childContextTypes,O!=null&&h0();break;case 3:$d(),yn(ps),yn(Vi),Dw();break;case 5:Rw(O);break;case 4:$d();break;case 13:yn(On);break;case 19:yn(On);break;case 10:Ow(O.type._context);break;case 22:case 23:pb()}S=S.return}if(Si=d,Kn=d=Xl(d.current,null),Ri=Fs=m,di=0,vp=null,ob=D0=du=0,vs=yp=null,lu!==null){for(m=0;m<lu.length;m++)if(S=lu[m],O=S.interleaved,O!==null){S.interleaved=null;var F=O.next,U=S.pending;if(U!==null){var Q=U.next;U.next=F,O.next=Q}S.pending=O}lu=null}return d}function OP(d,m){do{var S=Kn;try{if(jw(),C0.current=O0,A0){for(var O=Tn.memoizedState;O!==null;){var F=O.queue;F!==null&&(F.pending=null),O=O.next}A0=!1}if(uu=0,_i=ui=Tn=null,dp=!1,fp=0,ab.current=null,S===null||S.return===null){di=1,vp=m,Kn=null;break}e:{var U=d,Q=S.return,ue=S,ve=m;if(m=Ri,ue.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var Ie=ve,Ke=ue,Qe=Ke.tag;if((Ke.mode&1)===0&&(Qe===0||Qe===11||Qe===15)){var He=Ke.alternate;He?(Ke.updateQueue=He.updateQueue,Ke.memoizedState=He.memoizedState,Ke.lanes=He.lanes):(Ke.updateQueue=null,Ke.memoizedState=null)}var pt=eP(Q);if(pt!==null){pt.flags&=-257,tP(pt,Q,ue,U,m),pt.mode&1&&Jk(U,Ie,m),m=pt,ve=Ie;var wt=m.updateQueue;if(wt===null){var _t=new Set;_t.add(ve),m.updateQueue=_t}else wt.add(ve);break e}else{if((m&1)===0){Jk(U,Ie,m),mb();break e}ve=Error(r(426))}}else if(An&&ue.mode&1){var Vn=eP(Q);if(Vn!==null){(Vn.flags&65536)===0&&(Vn.flags|=256),tP(Vn,Q,ue,U,m),Aw(Vd(ve,ue));break e}}U=ve=Vd(ve,ue),di!==4&&(di=2),yp===null?yp=[U]:yp.push(U),U=Q;do{switch(U.tag){case 3:U.flags|=65536,m&=-m,U.lanes|=m;var Ce=Zk(U,ve,m);Ek(U,Ce);break e;case 1:ue=ve;var xe=U.type,Ae=U.stateNode;if((U.flags&128)===0&&(typeof xe.getDerivedStateFromError=="function"||Ae!==null&&typeof Ae.componentDidCatch=="function"&&(Hl===null||!Hl.has(Ae)))){U.flags|=65536,m&=-m,U.lanes|=m;var nt=Qk(U,ue,m);Ek(U,nt);break e}}U=U.return}while(U!==null)}PP(S)}catch(Ct){m=Ct,Kn===S&&S!==null&&(Kn=S=S.return);continue}break}while(!0)}function TP(){var d=M0.current;return M0.current=O0,d===null?O0:d}function mb(){(di===0||di===3||di===2)&&(di=4),Si===null||(du&268435455)===0&&(D0&268435455)===0||Yl(Si,Ri)}function V0(d,m){var S=Ir;Ir|=2;var O=TP();(Si!==d||Ri!==m)&&(Ho=null,hu(d,m));do try{IG();break}catch(F){OP(d,F)}while(!0);if(jw(),Ir=S,M0.current=O,Kn!==null)throw Error(r(261));return Si=null,Ri=0,di}function IG(){for(;Kn!==null;)kP(Kn)}function RG(){for(;Kn!==null&&!nn();)kP(Kn)}function kP(d){var m=MP(d.alternate,d,Fs);d.memoizedProps=d.pendingProps,m===null?PP(d):Kn=m,ab.current=null}function PP(d){var m=d;do{var S=m.alternate;if(d=m.return,(m.flags&32768)===0){if(S=AG(S,m,Fs),S!==null){Kn=S;return}}else{if(S=NG(S,m),S!==null){S.flags&=32767,Kn=S;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{di=6,Kn=null;return}}if(m=m.sibling,m!==null){Kn=m;return}Kn=m=d}while(m!==null);di===0&&(di=5)}function pu(d,m,S){var O=hr,F=da.transition;try{da.transition=null,hr=1,MG(d,m,S,O)}finally{da.transition=F,hr=O}return null}function MG(d,m,S,O){do Hd();while(Gl!==null);if((Ir&6)!==0)throw Error(r(327));S=d.finishedWork;var F=d.finishedLanes;if(S===null)return null;if(d.finishedWork=null,d.finishedLanes=0,S===d.current)throw Error(r(177));d.callbackNode=null,d.callbackPriority=0;var U=S.lanes|S.childLanes;if(It(d,U),d===Si&&(Kn=Si=null,Ri=0),(S.subtreeFlags&2064)===0&&(S.flags&2064)===0||B0||(B0=!0,DP(en,function(){return Hd(),null})),U=(S.flags&15990)!==0,(S.subtreeFlags&15990)!==0||U){U=da.transition,da.transition=null;var Q=hr;hr=1;var ue=Ir;Ir|=4,ab.current=null,OG(d,S),_P(S,d),$i(mw),oo=!!pw,mw=pw=null,d.current=S,TG(S),Gg(),Ir=ue,hr=Q,da.transition=U}else d.current=S;if(B0&&(B0=!1,Gl=d,F0=F),U=d.pendingLanes,U===0&&(Hl=null),Ar(S.stateNode),ys(d,Vr()),m!==null)for(O=d.onRecoverableError,S=0;S<m.length;S++)F=m[S],O(F.value,{componentStack:F.stack,digest:F.digest});if(L0)throw L0=!1,d=cb,cb=null,d;return(F0&1)!==0&&d.tag!==0&&Hd(),U=d.pendingLanes,(U&1)!==0?d===ub?xp++:(xp=0,ub=d):xp=0,Vl(),null}function Hd(){if(Gl!==null){var d=Xg(F0),m=da.transition,S=hr;try{if(da.transition=null,hr=16>d?16:d,Gl===null)var O=!1;else{if(d=Gl,Gl=null,F0=0,(Ir&6)!==0)throw Error(r(331));var F=Ir;for(Ir|=4,yt=d.current;yt!==null;){var U=yt,Q=U.child;if((yt.flags&16)!==0){var ue=U.deletions;if(ue!==null){for(var ve=0;ve<ue.length;ve++){var Ie=ue[ve];for(yt=Ie;yt!==null;){var Ke=yt;switch(Ke.tag){case 0:case 11:case 15:gp(8,Ke,U)}var Qe=Ke.child;if(Qe!==null)Qe.return=Ke,yt=Qe;else for(;yt!==null;){Ke=yt;var He=Ke.sibling,pt=Ke.return;if(vP(Ke),Ke===Ie){yt=null;break}if(He!==null){He.return=pt,yt=He;break}yt=pt}}}var wt=U.alternate;if(wt!==null){var _t=wt.child;if(_t!==null){wt.child=null;do{var Vn=_t.sibling;_t.sibling=null,_t=Vn}while(_t!==null)}}yt=U}}if((U.subtreeFlags&2064)!==0&&Q!==null)Q.return=U,yt=Q;else e:for(;yt!==null;){if(U=yt,(U.flags&2048)!==0)switch(U.tag){case 0:case 11:case 15:gp(9,U,U.return)}var Ce=U.sibling;if(Ce!==null){Ce.return=U.return,yt=Ce;break e}yt=U.return}}var xe=d.current;for(yt=xe;yt!==null;){Q=yt;var Ae=Q.child;if((Q.subtreeFlags&2064)!==0&&Ae!==null)Ae.return=Q,yt=Ae;else e:for(Q=xe;yt!==null;){if(ue=yt,(ue.flags&2048)!==0)try{switch(ue.tag){case 0:case 11:case 15:R0(9,ue)}}catch(Ct){Mn(ue,ue.return,Ct)}if(ue===Q){yt=null;break e}var nt=ue.sibling;if(nt!==null){nt.return=ue.return,yt=nt;break e}yt=ue.return}}if(Ir=F,Vl(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(Tr,d)}catch{}O=!0}return O}finally{hr=S,da.transition=m}}return!1}function IP(d,m,S){m=Vd(S,m),m=Zk(d,m,1),d=Wl(d,m,1),m=rs(),d!==null&&(oe(d,1,m),ys(d,m))}function Mn(d,m,S){if(d.tag===3)IP(d,d,S);else for(;m!==null;){if(m.tag===3){IP(m,d,S);break}else if(m.tag===1){var O=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof O.componentDidCatch=="function"&&(Hl===null||!Hl.has(O))){d=Vd(S,d),d=Qk(m,d,1),m=Wl(m,d,1),d=rs(),m!==null&&(oe(m,1,d),ys(m,d));break}}m=m.return}}function DG(d,m,S){var O=d.pingCache;O!==null&&O.delete(m),m=rs(),d.pingedLanes|=d.suspendedLanes&S,Si===d&&(Ri&S)===S&&(di===4||di===3&&(Ri&130023424)===Ri&&500>Vr()-lb?hu(d,0):ob|=S),ys(d,m)}function RP(d,m){m===0&&((d.mode&1)===0?m=1:(m=_d,_d<<=1,(_d&130023424)===0&&(_d=4194304)));var S=rs();d=qo(d,m),d!==null&&(oe(d,m,S),ys(d,S))}function LG(d){var m=d.memoizedState,S=0;m!==null&&(S=m.retryLane),RP(d,S)}function BG(d,m){var S=0;switch(d.tag){case 13:var O=d.stateNode,F=d.memoizedState;F!==null&&(S=F.retryLane);break;case 19:O=d.stateNode;break;default:throw Error(r(314))}O!==null&&O.delete(m),RP(d,S)}var MP;MP=function(d,m,S){if(d!==null)if(d.memoizedProps!==m.pendingProps||ps.current)gs=!0;else{if((d.lanes&S)===0&&(m.flags&128)===0)return gs=!1,CG(d,m,S);gs=(d.flags&131072)!==0}else gs=!1,An&&(m.flags&1048576)!==0&&pk(m,v0,m.index);switch(m.lanes=0,m.tag){case 2:var O=m.type;P0(d,m),d=m.pendingProps;var F=Rd(m,Vi.current);Ud(m,S),F=Fw(null,m,O,d,F,S);var U=Uw();return m.flags|=1,typeof F=="object"&&F!==null&&typeof F.render=="function"&&F.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,ms(O)?(U=!0,p0(m)):U=!1,m.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,Pw(m),F.updater=T0,m.stateNode=F,F._reactInternals=m,Hw(m,O,d,S),m=Xw(null,m,O,!0,U,S)):(m.tag=0,An&&U&&_w(m),ts(null,m,F,S),m=m.child),m;case 16:O=m.elementType;e:{switch(P0(d,m),d=m.pendingProps,F=O._init,O=F(O._payload),m.type=O,F=m.tag=UG(O),d=Ia(O,d),F){case 0:m=Yw(null,m,O,d,S);break e;case 1:m=oP(null,m,O,d,S);break e;case 11:m=rP(null,m,O,d,S);break e;case 14:m=nP(null,m,O,Ia(O.type,d),S);break e}throw Error(r(306,O,""))}return m;case 0:return O=m.type,F=m.pendingProps,F=m.elementType===O?F:Ia(O,F),Yw(d,m,O,F,S);case 1:return O=m.type,F=m.pendingProps,F=m.elementType===O?F:Ia(O,F),oP(d,m,O,F,S);case 3:e:{if(lP(m),d===null)throw Error(r(387));O=m.pendingProps,U=m.memoizedState,F=U.element,Sk(d,m),S0(m,O,null,S);var Q=m.memoizedState;if(O=Q.element,U.isDehydrated)if(U={element:O,isDehydrated:!1,cache:Q.cache,pendingSuspenseBoundaries:Q.pendingSuspenseBoundaries,transitions:Q.transitions},m.updateQueue.baseState=U,m.memoizedState=U,m.flags&256){F=Vd(Error(r(423)),m),m=cP(d,m,O,S,F);break e}else if(O!==F){F=Vd(Error(r(424)),m),m=cP(d,m,O,S,F);break e}else for(Bs=Fl(m.stateNode.containerInfo.firstChild),Ls=m,An=!0,Pa=null,S=bk(m,null,O,S),m.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(Ld(),O===F){m=zo(d,m,S);break e}ts(d,m,O,S)}m=m.child}return m;case 5:return Ak(m),d===null&&Cw(m),O=m.type,F=m.pendingProps,U=d!==null?d.memoizedProps:null,Q=F.children,gw(O,F)?Q=null:U!==null&&gw(O,U)&&(m.flags|=32),aP(d,m),ts(d,m,Q,S),m.child;case 6:return d===null&&Cw(m),null;case 13:return uP(d,m,S);case 4:return Iw(m,m.stateNode.containerInfo),O=m.pendingProps,d===null?m.child=Bd(m,null,O,S):ts(d,m,O,S),m.child;case 11:return O=m.type,F=m.pendingProps,F=m.elementType===O?F:Ia(O,F),rP(d,m,O,F,S);case 7:return ts(d,m,m.pendingProps,S),m.child;case 8:return ts(d,m,m.pendingProps.children,S),m.child;case 12:return ts(d,m,m.pendingProps.children,S),m.child;case 10:e:{if(O=m.type._context,F=m.pendingProps,U=m.memoizedProps,Q=F.value,on(w0,O._currentValue),O._currentValue=Q,U!==null)if(be(U.value,Q)){if(U.children===F.children&&!ps.current){m=zo(d,m,S);break e}}else for(U=m.child,U!==null&&(U.return=m);U!==null;){var ue=U.dependencies;if(ue!==null){Q=U.child;for(var ve=ue.firstContext;ve!==null;){if(ve.context===O){if(U.tag===1){ve=Wo(-1,S&-S),ve.tag=2;var Ie=U.updateQueue;if(Ie!==null){Ie=Ie.shared;var Ke=Ie.pending;Ke===null?ve.next=ve:(ve.next=Ke.next,Ke.next=ve),Ie.pending=ve}}U.lanes|=S,ve=U.alternate,ve!==null&&(ve.lanes|=S),Tw(U.return,S,m),ue.lanes|=S;break}ve=ve.next}}else if(U.tag===10)Q=U.type===m.type?null:U.child;else if(U.tag===18){if(Q=U.return,Q===null)throw Error(r(341));Q.lanes|=S,ue=Q.alternate,ue!==null&&(ue.lanes|=S),Tw(Q,S,m),Q=U.sibling}else Q=U.child;if(Q!==null)Q.return=U;else for(Q=U;Q!==null;){if(Q===m){Q=null;break}if(U=Q.sibling,U!==null){U.return=Q.return,Q=U;break}Q=Q.return}U=Q}ts(d,m,F.children,S),m=m.child}return m;case 9:return F=m.type,O=m.pendingProps.children,Ud(m,S),F=ca(F),O=O(F),m.flags|=1,ts(d,m,O,S),m.child;case 14:return O=m.type,F=Ia(O,m.pendingProps),F=Ia(O.type,F),nP(d,m,O,F,S);case 15:return iP(d,m,m.type,m.pendingProps,S);case 17:return O=m.type,F=m.pendingProps,F=m.elementType===O?F:Ia(O,F),P0(d,m),m.tag=1,ms(O)?(d=!0,p0(m)):d=!1,Ud(m,S),Yk(m,O,F),Hw(m,O,F,S),Xw(null,m,O,!0,d,S);case 19:return fP(d,m,S);case 22:return sP(d,m,S)}throw Error(r(156,m.tag))};function DP(d,m){return ks(d,m)}function FG(d,m,S,O){this.tag=d,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=O,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fa(d,m,S,O){return new FG(d,m,S,O)}function gb(d){return d=d.prototype,!(!d||!d.isReactComponent)}function UG(d){if(typeof d=="function")return gb(d)?1:0;if(d!=null){if(d=d.$$typeof,d===z)return 11;if(d===G)return 14}return 2}function Xl(d,m){var S=d.alternate;return S===null?(S=fa(d.tag,m,d.key,d.mode),S.elementType=d.elementType,S.type=d.type,S.stateNode=d.stateNode,S.alternate=d,d.alternate=S):(S.pendingProps=m,S.type=d.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=d.flags&14680064,S.childLanes=d.childLanes,S.lanes=d.lanes,S.child=d.child,S.memoizedProps=d.memoizedProps,S.memoizedState=d.memoizedState,S.updateQueue=d.updateQueue,m=d.dependencies,S.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},S.sibling=d.sibling,S.index=d.index,S.ref=d.ref,S}function q0(d,m,S,O,F,U){var Q=2;if(O=d,typeof d=="function")gb(d)&&(Q=1);else if(typeof d=="string")Q=5;else e:switch(d){case M:return mu(S.children,F,U,m);case $:Q=8,F|=8;break;case V:return d=fa(12,S,m,F|2),d.elementType=V,d.lanes=U,d;case Z:return d=fa(13,S,m,F),d.elementType=Z,d.lanes=U,d;case W:return d=fa(19,S,m,F),d.elementType=W,d.lanes=U,d;case ie:return W0(S,F,U,m);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case K:Q=10;break e;case H:Q=9;break e;case z:Q=11;break e;case G:Q=14;break e;case J:Q=16,O=null;break e}throw Error(r(130,d==null?d:typeof d,""))}return m=fa(Q,S,m,F),m.elementType=d,m.type=O,m.lanes=U,m}function mu(d,m,S,O){return d=fa(7,d,O,m),d.lanes=S,d}function W0(d,m,S,O){return d=fa(22,d,O,m),d.elementType=ie,d.lanes=S,d.stateNode={isHidden:!1},d}function vb(d,m,S){return d=fa(6,d,null,m),d.lanes=S,d}function yb(d,m,S){return m=fa(4,d.children!==null?d.children:[],d.key,m),m.lanes=S,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}function $G(d,m,S,O,F){this.tag=m,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ee(0),this.expirationTimes=Ee(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ee(0),this.identifierPrefix=O,this.onRecoverableError=F,this.mutableSourceEagerHydrationData=null}function xb(d,m,S,O,F,U,Q,ue,ve){return d=new $G(d,m,S,ue,ve),m===1?(m=1,U===!0&&(m|=8)):m=0,U=fa(3,null,null,m),d.current=U,U.stateNode=d,U.memoizedState={element:O,isDehydrated:S,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pw(U),d}function VG(d,m,S){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:O==null?null:""+O,children:d,containerInfo:m,implementation:S}}function LP(d){if(!d)return $l;d=d._reactInternals;e:{if(hs(d)!==d||d.tag!==1)throw Error(r(170));var m=d;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(ms(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(r(171))}if(d.tag===1){var S=d.type;if(ms(S))return dk(d,S,m)}return m}function BP(d,m,S,O,F,U,Q,ue,ve){return d=xb(S,O,!0,d,F,U,Q,ue,ve),d.context=LP(null),S=d.current,O=rs(),F=Kl(S),U=Wo(O,F),U.callback=m??null,Wl(S,U,F),d.current.lanes=F,oe(d,F,O),ys(d,O),d}function z0(d,m,S,O){var F=m.current,U=rs(),Q=Kl(F);return S=LP(S),m.context===null?m.context=S:m.pendingContext=S,m=Wo(U,Q),m.payload={element:d},O=O===void 0?null:O,O!==null&&(m.callback=O),d=Wl(F,m,Q),d!==null&&(Da(d,F,Q,U),_0(d,F,Q)),Q}function H0(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function FP(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var S=d.retryLane;d.retryLane=S!==0&&S<m?S:m}}function wb(d,m){FP(d,m),(d=d.alternate)&&FP(d,m)}function qG(){return null}var UP=typeof reportError=="function"?reportError:function(d){console.error(d)};function bb(d){this._internalRoot=d}G0.prototype.render=bb.prototype.render=function(d){var m=this._internalRoot;if(m===null)throw Error(r(409));z0(d,m,null,null)},G0.prototype.unmount=bb.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var m=d.containerInfo;fu(function(){z0(null,d,null,null)}),m[Fo]=null}};function G0(d){this._internalRoot=d}G0.prototype.unstable_scheduleHydration=function(d){if(d){var m=sn();d={blockedOn:null,target:d,priority:m};for(var S=0;S<Ti.length&&m!==0&&m<Ti[S].priority;S++);Ti.splice(S,0,d),S===0&&Qg(d)}};function _b(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function K0(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function $P(){}function WG(d,m,S,O,F){if(F){if(typeof O=="function"){var U=O;O=function(){var Ie=H0(Q);U.call(Ie)}}var Q=BP(m,O,d,0,null,!1,!1,"",$P);return d._reactRootContainer=Q,d[Fo]=Q.current,np(d.nodeType===8?d.parentNode:d),fu(),Q}for(;F=d.lastChild;)d.removeChild(F);if(typeof O=="function"){var ue=O;O=function(){var Ie=H0(ve);ue.call(Ie)}}var ve=xb(d,0,!1,null,null,!1,!1,"",$P);return d._reactRootContainer=ve,d[Fo]=ve.current,np(d.nodeType===8?d.parentNode:d),fu(function(){z0(m,ve,S,O)}),ve}function Y0(d,m,S,O,F){var U=S._reactRootContainer;if(U){var Q=U;if(typeof F=="function"){var ue=F;F=function(){var ve=H0(Q);ue.call(ve)}}z0(m,Q,d,F)}else Q=WG(S,m,d,F,O);return H0(Q)}Sd=function(d){switch(d.tag){case 3:var m=d.stateNode;if(m.current.memoizedState.isDehydrated){var S=tn(m.pendingLanes);S!==0&&(In(m,S|1),ys(m,Vr()),(Ir&6)===0&&(zd=Vr()+500,Vl()))}break;case 13:fu(function(){var O=qo(d,1);if(O!==null){var F=rs();Da(O,d,1,F)}}),wb(d,1)}},Ui=function(d){if(d.tag===13){var m=qo(d,134217728);if(m!==null){var S=rs();Da(m,d,134217728,S)}wb(d,134217728)}},Mt=function(d){if(d.tag===13){var m=Kl(d),S=qo(d,m);if(S!==null){var O=rs();Da(S,d,m,O)}wb(d,m)}},sn=function(){return hr},qh=function(d,m){var S=hr;try{return hr=d,m()}finally{hr=S}},Io=function(d,m,S){switch(m){case"input":if(dt(d,S),m=S.name,S.type==="radio"&&m!=null){for(S=d;S.parentNode;)S=S.parentNode;for(S=S.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<S.length;m++){var O=S[m];if(O!==d&&O.form===d.form){var F=f0(O);if(!F)throw Error(r(90));Oe(O),dt(O,F)}}}break;case"textarea":Ve(d,S);break;case"select":m=S.value,m!=null&&he(d,!!S.multiple,m,!1)}},Or=hb,ir=fu;var zG={usingClientEntryPoint:!1,Events:[ap,Pd,f0,Hc,Pt,hb]},wp={findFiberByHostInstance:iu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HG={bundleType:wp.bundleType,version:wp.version,rendererPackageName:wp.rendererPackageName,rendererConfig:wp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=zg(d),d===null?null:d.stateNode},findFiberByHostInstance:wp.findFiberByHostInstance||qG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var X0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!X0.isDisabled&&X0.supportsFiber)try{Tr=X0.inject(HG),fr=X0}catch{}}return xs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zG,xs.createPortal=function(d,m){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_b(m))throw Error(r(200));return VG(d,m,null,S)},xs.createRoot=function(d,m){if(!_b(d))throw Error(r(299));var S=!1,O="",F=UP;return m!=null&&(m.unstable_strictMode===!0&&(S=!0),m.identifierPrefix!==void 0&&(O=m.identifierPrefix),m.onRecoverableError!==void 0&&(F=m.onRecoverableError)),m=xb(d,1,!1,null,null,S,!1,O,F),d[Fo]=m.current,np(d.nodeType===8?d.parentNode:d),new bb(m)},xs.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(r(188)):(d=Object.keys(d).join(","),Error(r(268,d)));return d=zg(m),d=d===null?null:d.stateNode,d},xs.flushSync=function(d){return fu(d)},xs.hydrate=function(d,m,S){if(!K0(m))throw Error(r(200));return Y0(null,d,m,!0,S)},xs.hydrateRoot=function(d,m,S){if(!_b(d))throw Error(r(405));var O=S!=null&&S.hydratedSources||null,F=!1,U="",Q=UP;if(S!=null&&(S.unstable_strictMode===!0&&(F=!0),S.identifierPrefix!==void 0&&(U=S.identifierPrefix),S.onRecoverableError!==void 0&&(Q=S.onRecoverableError)),m=BP(m,null,d,1,S??null,F,!1,U,Q),d[Fo]=m.current,np(d),O)for(d=0;d<O.length;d++)S=O[d],F=S._getVersion,F=F(S._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[S,F]:m.mutableSourceEagerHydrationData.push(S,F);return new G0(m)},xs.render=function(d,m,S){if(!K0(m))throw Error(r(200));return Y0(null,d,m,!1,S)},xs.unmountComponentAtNode=function(d){if(!K0(d))throw Error(r(40));return d._reactRootContainer?(fu(function(){Y0(null,null,d,!1,function(){d._reactRootContainer=null,d[Fo]=null})}),!0):!1},xs.unstable_batchedUpdates=hb,xs.unstable_renderSubtreeIntoContainer=function(d,m,S,O){if(!K0(S))throw Error(r(200));if(d==null||d._reactInternals===void 0)throw Error(r(38));return Y0(d,m,S,!1,O)},xs.version="18.3.1-next-f1338f8080-20240426",xs}var YP;function iB(){if(YP)return Cb.exports;YP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cb.exports=eK(),Cb.exports}var XP;function tK(){if(XP)return Z0;XP=1;var t=iB();return Z0.createRoot=t.createRoot,Z0.hydrateRoot=t.hydrateRoot,Z0}var rK=tK(),j=N1();const re=Rr(j),oj=aj({__proto__:null,default:re},[j]),nK=5,iK=1e3,sK=5e3,aK=3e3,oK=7e3,lK=5e3;let jb=0;function cK(){return jb=(jb+1)%Number.MAX_SAFE_INTEGER,jb.toString()}const Ob=new Map,Pu=new Map,ZP=t=>{if(Ob.has(t))return;const e=setTimeout(()=>{Ob.delete(t),wf({type:"REMOVE_TOAST",toastId:t})},iK);Ob.set(t,e)},sB=(t,e)=>{Pu.has(t)&&clearTimeout(Pu.get(t));const r=setTimeout(()=>{Pu.delete(t),wf({type:"DISMISS_TOAST",toastId:t})},e);Pu.set(t,r)},Kv=t=>{Pu.has(t)&&(clearTimeout(Pu.get(t)),Pu.delete(t))},uK=(t,e)=>{switch(e.type){case"ADD_TOAST":{const r=[e.toast,...t.toasts].slice(0,nK);return e.toast.duration!==void 0&&e.toast.duration>0&&sB(e.toast.id,e.toast.duration),{...t,toasts:r}}case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?(Kv(r),ZP(r)):t.toasts.forEach(n=>{Kv(n.id),ZP(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Iv=[];let Rv={toasts:[]};function wf(t){Rv=uK(Rv,t),Iv.forEach(e=>{e(Rv)})}const dK=t=>{switch(t){case"success":return aK;case"destructive":return oK;case"info":return lK;default:return sK}};function lm({duration:t,variant:e,...r}){const n=cK(),i=t!==void 0?t:dK(e),s=c=>{Kv(n),wf({type:"UPDATE_TOAST",toast:{...c,id:n}}),c.duration!==void 0&&c.duration>0&&sB(n,c.duration)},a=()=>{Kv(n),wf({type:"DISMISS_TOAST",toastId:n})};return wf({type:"ADD_TOAST",toast:{...r,variant:e,id:n,duration:i,open:!0,onOpenChange:c=>{c||a()}}}),{id:n,dismiss:a,update:s}}function Bn(){const[t,e]=j.useState(Rv);return j.useEffect(()=>(Iv.push(e),()=>{const r=Iv.indexOf(e);r>-1&&Iv.splice(r,1)}),[]),{...t,toast:lm,dismiss:r=>wf({type:"DISMISS_TOAST",toastId:r})}}var vh=iB();const aB=Rr(vh);function ot(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t?.(i),r===!1||!i.defaultPrevented)return e?.(i)}}function QP(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function j1(...t){return e=>{let r=!1;const n=t.map(i=>{const s=QP(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():QP(t[i],null)}}}}function br(...t){return j.useCallback(j1(...t),t)}function fK(t,e){const r=j.createContext(e),n=s=>{const{children:a,...c}=s,u=j.useMemo(()=>c,Object.values(c));return o.jsx(r.Provider,{value:u,children:a})};n.displayName=t+"Provider";function i(s){const a=j.useContext(r);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function Ji(t,e=[]){let r=[];function n(s,a){const c=j.createContext(a),u=r.length;r=[...r,a];const h=v=>{const{scope:w,children:b,...A}=v,E=w?.[t]?.[u]||c,C=j.useMemo(()=>A,Object.values(A));return o.jsx(E.Provider,{value:C,children:b})};h.displayName=s+"Provider";function g(v,w){const b=w?.[t]?.[u]||c,A=j.useContext(b);if(A)return A;if(a!==void 0)return a;throw new Error(`\`${v}\` must be used within \`${s}\``)}return[h,g]}const i=()=>{const s=r.map(a=>j.createContext(a));return function(c){const u=c?.[t]||s;return j.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return i.scopeName=t,[n,hK(i,...e)]}function hK(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((c,{useScope:u,scopeName:h})=>{const v=u(s)[`__scope${h}`];return{...c,...v}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}function _c(t){const e=pK(t),r=j.forwardRef((n,i)=>{const{children:s,...a}=n,c=j.Children.toArray(s),u=c.find(mK);if(u){const h=u.props.children,g=c.map(v=>v===u?j.Children.count(h)>1?j.Children.only(null):j.isValidElement(h)?h.props.children:null:v);return o.jsx(e,{...a,ref:i,children:j.isValidElement(h)?j.cloneElement(h,void 0,g):null})}return o.jsx(e,{...a,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}var ld=_c("Slot");function pK(t){const e=j.forwardRef((r,n)=>{const{children:i,...s}=r;if(j.isValidElement(i)){const a=vK(i),c=gK(s,i.props);return i.type!==j.Fragment&&(c.ref=n?j1(n,a):a),j.cloneElement(i,c)}return j.Children.count(i)>1?j.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var oB=Symbol("radix.slottable");function lB(t){const e=({children:r})=>o.jsx(o.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=oB,e}function mK(t){return j.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===oB}function gK(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...c)=>{const u=s(...c);return i(...c),u}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function vK(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function O1(t){const e=t+"CollectionProvider",[r,n]=Ji(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=E=>{const{scope:C,children:R}=E,I=re.useRef(null),P=re.useRef(new Map).current;return o.jsx(i,{scope:C,itemMap:P,collectionRef:I,children:R})};a.displayName=e;const c=t+"CollectionSlot",u=_c(c),h=re.forwardRef((E,C)=>{const{scope:R,children:I}=E,P=s(c,R),L=br(C,P.collectionRef);return o.jsx(u,{ref:L,children:I})});h.displayName=c;const g=t+"CollectionItemSlot",v="data-radix-collection-item",w=_c(g),b=re.forwardRef((E,C)=>{const{scope:R,children:I,...P}=E,L=re.useRef(null),T=br(C,L),D=s(g,R);return re.useEffect(()=>(D.itemMap.set(L,{ref:L,...P}),()=>void D.itemMap.delete(L))),o.jsx(w,{[v]:"",ref:T,children:I})});b.displayName=g;function A(E){const C=s(t+"CollectionConsumer",E);return re.useCallback(()=>{const I=C.collectionRef.current;if(!I)return[];const P=Array.from(I.querySelectorAll(`[${v}]`));return Array.from(C.itemMap.values()).sort((D,M)=>P.indexOf(D.ref.current)-P.indexOf(M.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:a,Slot:h,ItemSlot:b},A,n]}var yK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Tt=yK.reduce((t,e)=>{const r=_c(`Primitive.${e}`),n=j.forwardRef((i,s)=>{const{asChild:a,...c}=i,u=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(u,{...c,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function lj(t,e){t&&vh.flushSync(()=>t.dispatchEvent(e))}function ls(t){const e=j.useRef(t);return j.useEffect(()=>{e.current=t}),j.useMemo(()=>(...r)=>e.current?.(...r),[])}function xK(t,e=globalThis?.document){const r=ls(t);j.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var wK="DismissableLayer",FC="dismissableLayer.update",bK="dismissableLayer.pointerDownOutside",_K="dismissableLayer.focusOutside",JP,cB=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cd=j.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:c,...u}=t,h=j.useContext(cB),[g,v]=j.useState(null),w=g?.ownerDocument??globalThis?.document,[,b]=j.useState({}),A=br(e,M=>v(M)),E=Array.from(h.layers),[C]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),R=E.indexOf(C),I=g?E.indexOf(g):-1,P=h.layersWithOutsidePointerEventsDisabled.size>0,L=I>=R,T=EK(M=>{const $=M.target,V=[...h.branches].some(K=>K.contains($));!L||V||(i?.(M),a?.(M),M.defaultPrevented||c?.())},w),D=CK(M=>{const $=M.target;[...h.branches].some(K=>K.contains($))||(s?.(M),a?.(M),M.defaultPrevented||c?.())},w);return xK(M=>{I===h.layers.size-1&&(n?.(M),!M.defaultPrevented&&c&&(M.preventDefault(),c()))},w),j.useEffect(()=>{if(g)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(JP=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(g)),h.layers.add(g),eI(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=JP)}},[g,w,r,h]),j.useEffect(()=>()=>{g&&(h.layers.delete(g),h.layersWithOutsidePointerEventsDisabled.delete(g),eI())},[g,h]),j.useEffect(()=>{const M=()=>b({});return document.addEventListener(FC,M),()=>document.removeEventListener(FC,M)},[]),o.jsx(Tt.div,{...u,ref:A,style:{pointerEvents:P?L?"auto":"none":void 0,...t.style},onFocusCapture:ot(t.onFocusCapture,D.onFocusCapture),onBlurCapture:ot(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:ot(t.onPointerDownCapture,T.onPointerDownCapture)})});cd.displayName=wK;var SK="DismissableLayerBranch",uB=j.forwardRef((t,e)=>{const r=j.useContext(cB),n=j.useRef(null),i=br(e,n);return j.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),o.jsx(Tt.div,{...t,ref:i})});uB.displayName=SK;function EK(t,e=globalThis?.document){const r=ls(t),n=j.useRef(!1),i=j.useRef(()=>{});return j.useEffect(()=>{const s=c=>{if(c.target&&!n.current){let u=function(){dB(bK,r,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function CK(t,e=globalThis?.document){const r=ls(t),n=j.useRef(!1);return j.useEffect(()=>{const i=s=>{s.target&&!n.current&&dB(_K,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function eI(){const t=new CustomEvent(FC);document.dispatchEvent(t)}function dB(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?lj(i,s):i.dispatchEvent(s)}var AK=cd,NK=uB,ni=globalThis?.document?j.useLayoutEffect:()=>{},jK="Portal",yh=j.forwardRef((t,e)=>{const{container:r,...n}=t,[i,s]=j.useState(!1);ni(()=>s(!0),[]);const a=r||i&&globalThis?.document?.body;return a?aB.createPortal(o.jsx(Tt.div,{...n,ref:e}),a):null});yh.displayName=jK;function OK(t,e){return j.useReducer((r,n)=>e[r][n]??r,t)}var js=t=>{const{present:e,children:r}=t,n=TK(e),i=typeof r=="function"?r({present:n.isPresent}):j.Children.only(r),s=br(n.ref,kK(i));return typeof r=="function"||n.isPresent?j.cloneElement(i,{ref:s}):null};js.displayName="Presence";function TK(t){const[e,r]=j.useState(),n=j.useRef(null),i=j.useRef(t),s=j.useRef("none"),a=t?"mounted":"unmounted",[c,u]=OK(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const h=Q0(n.current);s.current=c==="mounted"?h:"none"},[c]),ni(()=>{const h=n.current,g=i.current;if(g!==t){const w=s.current,b=Q0(h);t?u("MOUNT"):b==="none"||h?.display==="none"?u("UNMOUNT"):u(g&&w!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),ni(()=>{if(e){let h;const g=e.ownerDocument.defaultView??window,v=b=>{const E=Q0(n.current).includes(b.animationName);if(b.target===e&&E&&(u("ANIMATION_END"),!i.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",h=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},w=b=>{b.target===e&&(s.current=Q0(n.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{g.clearTimeout(h),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:j.useCallback(h=>{n.current=h?getComputedStyle(h):null,r(h)},[])}}function Q0(t){return t?.animationName||"none"}function kK(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var PK=oj[" useInsertionEffect ".trim().toString()]||ni;function Za({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,s,a]=IK({defaultProp:e,onChange:r}),c=t!==void 0,u=c?t:i;{const g=j.useRef(t!==void 0);j.useEffect(()=>{const v=g.current;v!==c&&console.warn(`${n} is changing from ${v?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=c},[c,n])}const h=j.useCallback(g=>{if(c){const v=RK(g)?g(t):g;v!==t&&a.current?.(v)}else s(g)},[c,t,s,a]);return[u,h]}function IK({defaultProp:t,onChange:e}){const[r,n]=j.useState(t),i=j.useRef(r),s=j.useRef(e);return PK(()=>{s.current=e},[e]),j.useEffect(()=>{i.current!==r&&(s.current?.(r),i.current=r)},[r,i]),[r,n,s]}function RK(t){return typeof t=="function"}var fB=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),MK="VisuallyHidden",T1=j.forwardRef((t,e)=>o.jsx(Tt.span,{...t,ref:e,style:{...fB,...t.style}}));T1.displayName=MK;var DK=T1,cj="ToastProvider",[uj,LK,BK]=O1("Toast"),[hB]=Ji("Toast",[BK]),[FK,k1]=hB(cj),pB=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=t,[c,u]=j.useState(null),[h,g]=j.useState(0),v=j.useRef(!1),w=j.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${cj}\`. Expected non-empty \`string\`.`),o.jsx(uj.Provider,{scope:e,children:o.jsx(FK,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:s,toastCount:h,viewport:c,onViewportChange:u,onToastAdd:j.useCallback(()=>g(b=>b+1),[]),onToastRemove:j.useCallback(()=>g(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:w,children:a})})};pB.displayName=cj;var mB="ToastViewport",UK=["F8"],UC="toast.viewportPause",$C="toast.viewportResume",gB=j.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=UK,label:i="Notifications ({hotkey})",...s}=t,a=k1(mB,r),c=LK(r),u=j.useRef(null),h=j.useRef(null),g=j.useRef(null),v=j.useRef(null),w=br(e,v,a.onViewportChange),b=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=a.toastCount>0;j.useEffect(()=>{const C=R=>{n.length!==0&&n.every(P=>R[P]||R.code===P)&&v.current?.focus()};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[n]),j.useEffect(()=>{const C=u.current,R=v.current;if(A&&C&&R){const I=()=>{if(!a.isClosePausedRef.current){const D=new CustomEvent(UC);R.dispatchEvent(D),a.isClosePausedRef.current=!0}},P=()=>{if(a.isClosePausedRef.current){const D=new CustomEvent($C);R.dispatchEvent(D),a.isClosePausedRef.current=!1}},L=D=>{!C.contains(D.relatedTarget)&&P()},T=()=>{C.contains(document.activeElement)||P()};return C.addEventListener("focusin",I),C.addEventListener("focusout",L),C.addEventListener("pointermove",I),C.addEventListener("pointerleave",T),window.addEventListener("blur",I),window.addEventListener("focus",P),()=>{C.removeEventListener("focusin",I),C.removeEventListener("focusout",L),C.removeEventListener("pointermove",I),C.removeEventListener("pointerleave",T),window.removeEventListener("blur",I),window.removeEventListener("focus",P)}}},[A,a.isClosePausedRef]);const E=j.useCallback(({tabbingDirection:C})=>{const I=c().map(P=>{const L=P.ref.current,T=[L,...JK(L)];return C==="forwards"?T:T.reverse()});return(C==="forwards"?I.reverse():I).flat()},[c]);return j.useEffect(()=>{const C=v.current;if(C){const R=I=>{const P=I.altKey||I.ctrlKey||I.metaKey;if(I.key==="Tab"&&!P){const T=document.activeElement,D=I.shiftKey;if(I.target===C&&D){h.current?.focus();return}const V=E({tabbingDirection:D?"backwards":"forwards"}),K=V.findIndex(H=>H===T);Tb(V.slice(K+1))?I.preventDefault():D?h.current?.focus():g.current?.focus()}};return C.addEventListener("keydown",R),()=>C.removeEventListener("keydown",R)}},[c,E]),o.jsxs(NK,{ref:u,role:"region","aria-label":i.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:A?void 0:"none"},children:[A&&o.jsx(VC,{ref:h,onFocusFromOutsideViewport:()=>{const C=E({tabbingDirection:"forwards"});Tb(C)}}),o.jsx(uj.Slot,{scope:r,children:o.jsx(Tt.ol,{tabIndex:-1,...s,ref:w})}),A&&o.jsx(VC,{ref:g,onFocusFromOutsideViewport:()=>{const C=E({tabbingDirection:"backwards"});Tb(C)}})]})});gB.displayName=mB;var vB="ToastFocusProxy",VC=j.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,s=k1(vB,r);return o.jsx(T1,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{const c=a.relatedTarget;!s.viewport?.contains(c)&&n()}})});VC.displayName=vB;var hg="Toast",$K="toast.swipeStart",VK="toast.swipeMove",qK="toast.swipeCancel",WK="toast.swipeEnd",yB=j.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...a}=t,[c,u]=Za({prop:n,defaultProp:i??!0,onChange:s,caller:hg});return o.jsx(js,{present:r||c,children:o.jsx(GK,{open:c,...a,ref:e,onClose:()=>u(!1),onPause:ls(t.onPause),onResume:ls(t.onResume),onSwipeStart:ot(t.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ot(t.onSwipeMove,h=>{const{x:g,y:v}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:ot(t.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ot(t.onSwipeEnd,h=>{const{x:g,y:v}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),u(!1)})})})});yB.displayName=hg;var[zK,HK]=hB(hg,{onClose(){}}),GK=j.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:c,onPause:u,onResume:h,onSwipeStart:g,onSwipeMove:v,onSwipeCancel:w,onSwipeEnd:b,...A}=t,E=k1(hg,r),[C,R]=j.useState(null),I=br(e,W=>R(W)),P=j.useRef(null),L=j.useRef(null),T=i||E.duration,D=j.useRef(0),M=j.useRef(T),$=j.useRef(0),{onToastAdd:V,onToastRemove:K}=E,H=ls(()=>{C?.contains(document.activeElement)&&E.viewport?.focus(),a()}),z=j.useCallback(W=>{!W||W===1/0||(window.clearTimeout($.current),D.current=new Date().getTime(),$.current=window.setTimeout(H,W))},[H]);j.useEffect(()=>{const W=E.viewport;if(W){const G=()=>{z(M.current),h?.()},J=()=>{const ie=new Date().getTime()-D.current;M.current=M.current-ie,window.clearTimeout($.current),u?.()};return W.addEventListener(UC,J),W.addEventListener($C,G),()=>{W.removeEventListener(UC,J),W.removeEventListener($C,G)}}},[E.viewport,T,u,h,z]),j.useEffect(()=>{s&&!E.isClosePausedRef.current&&z(T)},[s,T,E.isClosePausedRef,z]),j.useEffect(()=>(V(),()=>K()),[V,K]);const Z=j.useMemo(()=>C?CB(C):null,[C]);return E.viewport?o.jsxs(o.Fragment,{children:[Z&&o.jsx(KK,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:Z}),o.jsx(zK,{scope:r,onClose:H,children:vh.createPortal(o.jsx(uj.ItemSlot,{scope:r,children:o.jsx(AK,{asChild:!0,onEscapeKeyDown:ot(c,()=>{E.isFocusedToastEscapeKeyDownRef.current||H(),E.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Tt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":E.swipeDirection,...A,ref:I,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ot(t.onKeyDown,W=>{W.key==="Escape"&&(c?.(W.nativeEvent),W.nativeEvent.defaultPrevented||(E.isFocusedToastEscapeKeyDownRef.current=!0,H()))}),onPointerDown:ot(t.onPointerDown,W=>{W.button===0&&(P.current={x:W.clientX,y:W.clientY})}),onPointerMove:ot(t.onPointerMove,W=>{if(!P.current)return;const G=W.clientX-P.current.x,J=W.clientY-P.current.y,ie=!!L.current,ne=["left","right"].includes(E.swipeDirection),ee=["left","up"].includes(E.swipeDirection)?Math.min:Math.max,de=ne?ee(0,G):0,se=ne?0:ee(0,J),le=W.pointerType==="touch"?10:2,me={x:de,y:se},pe={originalEvent:W,delta:me};ie?(L.current=me,J0(VK,v,pe,{discrete:!1})):tI(me,E.swipeDirection,le)?(L.current=me,J0($K,g,pe,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(G)>le||Math.abs(J)>le)&&(P.current=null)}),onPointerUp:ot(t.onPointerUp,W=>{const G=L.current,J=W.target;if(J.hasPointerCapture(W.pointerId)&&J.releasePointerCapture(W.pointerId),L.current=null,P.current=null,G){const ie=W.currentTarget,ne={originalEvent:W,delta:G};tI(G,E.swipeDirection,E.swipeThreshold)?J0(WK,b,ne,{discrete:!0}):J0(qK,w,ne,{discrete:!0}),ie.addEventListener("click",ee=>ee.preventDefault(),{once:!0})}})})})}),E.viewport)})]}):null}),KK=t=>{const{__scopeToast:e,children:r,...n}=t,i=k1(hg,e),[s,a]=j.useState(!1),[c,u]=j.useState(!1);return ZK(()=>a(!0)),j.useEffect(()=>{const h=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(h)},[]),c?null:o.jsx(yh,{asChild:!0,children:o.jsx(T1,{...n,children:s&&o.jsxs(o.Fragment,{children:[i.label," ",r]})})})},YK="ToastTitle",xB=j.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return o.jsx(Tt.div,{...n,ref:e})});xB.displayName=YK;var XK="ToastDescription",wB=j.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return o.jsx(Tt.div,{...n,ref:e})});wB.displayName=XK;var bB="ToastAction",_B=j.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?o.jsx(EB,{altText:r,asChild:!0,children:o.jsx(dj,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${bB}\`. Expected non-empty \`string\`.`),null)});_B.displayName=bB;var SB="ToastClose",dj=j.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=HK(SB,r);return o.jsx(EB,{asChild:!0,children:o.jsx(Tt.button,{type:"button",...n,ref:e,onClick:ot(t.onClick,i.onClose)})})});dj.displayName=SB;var EB=j.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return o.jsx(Tt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function CB(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),QK(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=n.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...CB(n))}}),e}function J0(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?lj(i,s):i.dispatchEvent(s)}var tI=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),s=n>i;return e==="left"||e==="right"?s&&n>r:!s&&i>r};function ZK(t=()=>{}){const e=ls(t);ni(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function QK(t){return t.nodeType===t.ELEMENT_NODE}function JK(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Tb(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var eY=pB,AB=gB,NB=yB,jB=xB,OB=wB,TB=_B,kB=dj;function PB(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=PB(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function nr(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=PB(t))&&(n&&(n+=" "),n+=e);return n}const rI=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,nI=nr,ud=(t,e)=>r=>{var n;if(e?.variants==null)return nI(t,r?.class,r?.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(h=>{const g=r?.[h],v=s?.[h];if(g===null)return null;const w=rI(g)||rI(v);return i[h][w]}),c=r&&Object.entries(r).reduce((h,g)=>{let[v,w]=g;return w===void 0||(h[v]=w),h},{}),u=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((h,g)=>{let{class:v,className:w,...b}=g;return Object.entries(b).every(A=>{let[E,C]=A;return Array.isArray(C)?C.includes({...s,...c}[E]):{...s,...c}[E]===C})?[...h,v,w]:h},[]);return nI(t,a,u,r?.class,r?.className)};const tY=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IB=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();var rY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const nY=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...c},u)=>j.createElement("svg",{ref:u,...rY,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:IB("lucide",i),...c},[...a.map(([h,g])=>j.createElement(h,g)),...Array.isArray(s)?s:[s]]));const vt=(t,e)=>{const r=j.forwardRef(({className:n,...i},s)=>j.createElement(nY,{ref:s,iconNode:e,className:IB(`lucide-${tY(t)}`,n),...i}));return r.displayName=`${t}`,r};const iI=vt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const sI=vt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const aI=vt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const iY=vt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const RB=vt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const MB=vt("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);const ei=vt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const oI=vt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const fj=vt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const hj=vt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const DB=vt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Qa=vt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const xl=vt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const sY=vt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const cl=vt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Sc=vt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const xh=vt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const aY=vt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const ul=vt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const qC=vt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const oY=vt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const lY=vt("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);const WC=vt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const mo=vt("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);const cY=vt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);const kb=vt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const Pb=vt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const P1=vt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);const uY=vt("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);const dY=vt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const lI=vt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const fY=vt("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);const Bi=vt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const LB=vt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const BB=vt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);const pj=vt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Yv=vt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const FB=vt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const hY=vt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);const zC=vt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const pY=vt("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);const mY=vt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const dl=vt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const gY=vt("PoundSterling",[["path",{d:"M18 7c0-5.333-8-5.333-8 0",key:"1prm2n"}],["path",{d:"M10 7v14",key:"18tmcs"}],["path",{d:"M6 21h12",key:"4dkmi1"}],["path",{d:"M6 13h10",key:"ybwr4a"}]]);const cm=vt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);const zu=vt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const vY=vt("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);const HC=vt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const mj=vt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const UB=vt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const $B=vt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const yY=vt("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const wh=vt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);const xY=vt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const wY=vt("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);const Tf=vt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const kf=vt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const bY=vt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const gj=vt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const _Y=vt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const SY=vt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const cI=vt("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);const VB=vt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const EY=vt("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);const bf=vt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const wl=vt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const pg=vt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),vj="-",CY=t=>{const e=NY(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const c=a.split(vj);return c[0]===""&&c.length!==1&&c.shift(),qB(c,e)||AY(a)},getConflictingClassGroupIds:(a,c)=>{const u=r[a]||[];return c&&n[a]?[...u,...n[a]]:u}}},qB=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?qB(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(vj);return e.validators.find(({validator:a})=>a(s))?.classGroupId},uI=/^\[(.+)\]$/,AY=t=>{if(uI.test(t)){const e=uI.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},NY=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return OY(Object.entries(t.classGroups),r).forEach(([s,a])=>{GC(a,n,s,e)}),n},GC=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:dI(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(jY(i)){GC(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,a])=>{GC(a,dI(e,s),r,n)})})},dI=(t,e)=>{let r=t;return e.split(vj).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},jY=t=>t.isThemeGetter,OY=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,c])=>[e+a,c])):s);return[r,i]}):t,TY=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,a)=>{r.set(s,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let a=r.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return i(s,a),a},set(s,a){r.has(s)?r.set(s,a):i(s,a)}}},WB="!",kY=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,a=c=>{const u=[];let h=0,g=0,v;for(let C=0;C<c.length;C++){let R=c[C];if(h===0){if(R===i&&(n||c.slice(C,C+s)===e)){u.push(c.slice(g,C)),g=C+s;continue}if(R==="/"){v=C;continue}}R==="["?h++:R==="]"&&h--}const w=u.length===0?c:c.substring(g),b=w.startsWith(WB),A=b?w.substring(1):w,E=v&&v>g?v-g:void 0;return{modifiers:u,hasImportantModifier:b,baseClassName:A,maybePostfixModifierPosition:E}};return r?c=>r({className:c,parseClassName:a}):a},PY=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},IY=t=>({cache:TY(t.cacheSize),parseClassName:kY(t),...CY(t)}),RY=/\s+/,MY=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(RY);let c="";for(let u=a.length-1;u>=0;u-=1){const h=a[u],{modifiers:g,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:b}=r(h);let A=!!b,E=n(A?w.substring(0,b):w);if(!E){if(!A){c=h+(c.length>0?" "+c:c);continue}if(E=n(w),!E){c=h+(c.length>0?" "+c:c);continue}A=!1}const C=PY(g).join(":"),R=v?C+WB:C,I=R+E;if(s.includes(I))continue;s.push(I);const P=i(E,A);for(let L=0;L<P.length;++L){const T=P[L];s.push(R+T)}c=h+(c.length>0?" "+c:c)}return c};function DY(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=zB(e))&&(n&&(n+=" "),n+=r);return n}const zB=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=zB(t[n]))&&(r&&(r+=" "),r+=e);return r};function LY(t,...e){let r,n,i,s=a;function a(u){const h=e.reduce((g,v)=>v(g),t());return r=IY(h),n=r.cache.get,i=r.cache.set,s=c,c(u)}function c(u){const h=n(u);if(h)return h;const g=MY(u,r);return i(u,g),g}return function(){return s(DY.apply(null,arguments))}}const xn=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},HB=/^\[(?:([a-z-]+):)?(.+)\]$/i,BY=/^\d+\/\d+$/,FY=new Set(["px","full","screen"]),UY=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$Y=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,VY=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qY=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WY=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Go=t=>_f(t)||FY.has(t)||BY.test(t),Ql=t=>bh(t,"length",QY),_f=t=>!!t&&!Number.isNaN(Number(t)),Ib=t=>bh(t,"number",_f),_p=t=>!!t&&Number.isInteger(Number(t)),zY=t=>t.endsWith("%")&&_f(t.slice(0,-1)),vr=t=>HB.test(t),Jl=t=>UY.test(t),HY=new Set(["length","size","percentage"]),GY=t=>bh(t,HY,GB),KY=t=>bh(t,"position",GB),YY=new Set(["image","url"]),XY=t=>bh(t,YY,eX),ZY=t=>bh(t,"",JY),Sp=()=>!0,bh=(t,e,r)=>{const n=HB.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},QY=t=>$Y.test(t)&&!VY.test(t),GB=()=>!1,JY=t=>qY.test(t),eX=t=>WY.test(t),tX=()=>{const t=xn("colors"),e=xn("spacing"),r=xn("blur"),n=xn("brightness"),i=xn("borderColor"),s=xn("borderRadius"),a=xn("borderSpacing"),c=xn("borderWidth"),u=xn("contrast"),h=xn("grayscale"),g=xn("hueRotate"),v=xn("invert"),w=xn("gap"),b=xn("gradientColorStops"),A=xn("gradientColorStopPositions"),E=xn("inset"),C=xn("margin"),R=xn("opacity"),I=xn("padding"),P=xn("saturate"),L=xn("scale"),T=xn("sepia"),D=xn("skew"),M=xn("space"),$=xn("translate"),V=()=>["auto","contain","none"],K=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",vr,e],z=()=>[vr,e],Z=()=>["",Go,Ql],W=()=>["auto",_f,vr],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>["start","end","center","between","around","evenly","stretch"],ee=()=>["","0",vr],de=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[_f,vr];return{cacheSize:500,separator:":",theme:{colors:[Sp],spacing:[Go,Ql],blur:["none","",Jl,vr],brightness:se(),borderColor:[t],borderRadius:["none","","full",Jl,vr],borderSpacing:z(),borderWidth:Z(),contrast:se(),grayscale:ee(),hueRotate:se(),invert:ee(),gap:z(),gradientColorStops:[t],gradientColorStopPositions:[zY,Ql],inset:H(),margin:H(),opacity:se(),padding:z(),saturate:se(),scale:se(),sepia:ee(),skew:se(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",vr]}],container:["container"],columns:[{columns:[Jl]}],"break-after":[{"break-after":de()}],"break-before":[{"break-before":de()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),vr]}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_p,vr]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",vr]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",_p,vr]}],"grid-cols":[{"grid-cols":[Sp]}],"col-start-end":[{col:["auto",{span:["full",_p,vr]},vr]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Sp]}],"row-start-end":[{row:["auto",{span:[_p,vr]},vr]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",vr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",vr]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...ne()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ne(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ne(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[I]}],px:[{px:[I]}],py:[{py:[I]}],ps:[{ps:[I]}],pe:[{pe:[I]}],pt:[{pt:[I]}],pr:[{pr:[I]}],pb:[{pb:[I]}],pl:[{pl:[I]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",vr,e]}],"min-w":[{"min-w":[vr,e,"min","max","fit"]}],"max-w":[{"max-w":[vr,e,"none","full","min","max","fit","prose",{screen:[Jl]},Jl]}],h:[{h:[vr,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[vr,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[vr,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[vr,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Jl,Ql]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ib]}],"font-family":[{font:[Sp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",vr]}],"line-clamp":[{"line-clamp":["none",_f,Ib]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Go,vr]}],"list-image":[{"list-image":["none",vr]}],"list-style-type":[{list:["none","disc","decimal",vr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[R]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[R]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Go,Ql]}],"underline-offset":[{"underline-offset":["auto",Go,vr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",vr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",vr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[R]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),KY]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",GY]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},XY]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[A]}],"gradient-via-pos":[{via:[A]}],"gradient-to-pos":[{to:[A]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[R]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[R]}],"divide-style":[{divide:J()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[Go,vr]}],"outline-w":[{outline:[Go,Ql]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[R]}],"ring-offset-w":[{"ring-offset":[Go,Ql]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Jl,ZY]}],"shadow-color":[{shadow:[Sp]}],opacity:[{opacity:[R]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Jl,vr]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[v]}],saturate:[{saturate:[P]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[R]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",vr]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",vr]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",vr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[L]}],"scale-x":[{"scale-x":[L]}],"scale-y":[{"scale-y":[L]}],rotate:[{rotate:[_p,vr]}],"translate-x":[{"translate-x":[$]}],"translate-y":[{"translate-y":[$]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",vr]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",vr]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",vr]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Go,Ql,Ib]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},rX=LY(tX);function De(...t){return rX(nr(t))}const nX=eY,KB=j.forwardRef(({className:t,...e},r)=>o.jsx(AB,{ref:r,className:De("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));KB.displayName=AB.displayName;const iX=ud("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground",success:"border-success bg-success/10 text-success-foreground",info:"border-primary bg-primary/10 text-primary-foreground"}},defaultVariants:{variant:"default"}}),YB=j.forwardRef(({className:t,variant:e,...r},n)=>o.jsx(NB,{ref:n,className:De(iX({variant:e}),t),...r}));YB.displayName=NB.displayName;const sX=j.forwardRef(({className:t,...e},r)=>o.jsx(TB,{ref:r,className:De("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));sX.displayName=TB.displayName;const XB=j.forwardRef(({className:t,...e},r)=>o.jsx(kB,{ref:r,className:De("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(pg,{className:"h-4 w-4"})}));XB.displayName=kB.displayName;const ZB=j.forwardRef(({className:t,...e},r)=>o.jsx(jB,{ref:r,className:De("text-sm font-semibold",t),...e}));ZB.displayName=jB.displayName;const QB=j.forwardRef(({className:t,...e},r)=>o.jsx(OB,{ref:r,className:De("text-sm opacity-90",t),...e}));QB.displayName=OB.displayName;function aX(){const{toasts:t}=Bn();return o.jsxs(nX,{children:[t.map(function({id:e,title:r,description:n,action:i,...s}){return o.jsxs(YB,{...s,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(ZB,{children:r}),n&&o.jsx(QB,{children:n})]}),i,o.jsx(XB,{})]},e)}),o.jsx(KB,{})]})}var fI=["light","dark"],oX="(prefers-color-scheme: dark)",lX=j.createContext(void 0),cX={setTheme:t=>{},themes:[]},uX=()=>{var t;return(t=j.useContext(lX))!=null?t:cX};j.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:s,value:a,attrs:c,nonce:u})=>{let h=s==="system",g=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(A=>`'${A}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,v=i?fI.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",w=(A,E=!1,C=!0)=>{let R=a?a[A]:A,I=E?A+"|| ''":`'${R}'`,P="";return i&&C&&!E&&fI.includes(A)&&(P+=`d.style.colorScheme = '${A}';`),r==="class"?E||R?P+=`c.add(${I})`:P+="null":R&&(P+=`d[s](n,${I})`),P},b=t?`!function(){${g}${w(t)}}()`:n?`!function(){try{${g}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${h})){var t='${oX}',m=window.matchMedia(t);if(m.media!==t||m.matches){${w("dark")}}else{${w("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${w(a?"x[e]":"e",!0)}}${h?"":"else{"+w(s,!1,!1)+"}"}${v}}catch(e){}}()`:`!function(){try{${g}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${w(a?"x[e]":"e",!0)}}else{${w(s,!1,!1)};}${v}}catch(t){}}();`;return j.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:b}})});var dX=t=>{switch(t){case"success":return pX;case"info":return gX;case"warning":return mX;case"error":return vX;default:return null}},fX=Array(12).fill(0),hX=({visible:t,className:e})=>re.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},re.createElement("div",{className:"sonner-spinner"},fX.map((r,n)=>re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),pX=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),mX=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),gX=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),vX=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),yX=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),xX=()=>{let[t,e]=re.useState(document.hidden);return re.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},KC=1,wX=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,i=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:KC++,s=this.toasts.find(c=>c.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:r}),{...c,...t,id:i,dismissible:a,title:r}):c):this.addToast({title:r,...n,dismissible:a,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=r!==void 0,s,a=n.then(async u=>{if(s=["resolve",u],re.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(_X(u)&&!u.ok){i=!1;let h=typeof e.error=="function"?await e.error(`HTTP error! status: ${u.status}`):e.error,g=typeof e.description=="function"?await e.description(`HTTP error! status: ${u.status}`):e.description;this.create({id:r,type:"error",message:h,description:g})}else if(e.success!==void 0){i=!1;let h=typeof e.success=="function"?await e.success(u):e.success,g=typeof e.description=="function"?await e.description(u):e.description;this.create({id:r,type:"success",message:h,description:g})}}).catch(async u=>{if(s=["reject",u],e.error!==void 0){i=!1;let h=typeof e.error=="function"?await e.error(u):e.error,g=typeof e.description=="function"?await e.description(u):e.description;this.create({id:r,type:"error",message:h,description:g})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=e.finally)==null||u.call(e)}),c=()=>new Promise((u,h)=>a.then(()=>s[0]==="reject"?h(s[1]):u(s[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(t,e)=>{let r=e?.id||KC++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},bs=new wX,bX=(t,e)=>{let r=e?.id||KC++;return bs.addToast({title:t,...e,id:r}),r},_X=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",SX=bX,EX=()=>bs.toasts,CX=()=>bs.getActiveToasts();Object.assign(SX,{success:bs.success,info:bs.info,warning:bs.warning,error:bs.error,custom:bs.custom,message:bs.message,promise:bs.promise,dismiss:bs.dismiss,loading:bs.loading},{getHistory:EX,getToasts:CX});function AX(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}AX(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ev(t){return t.label!==void 0}var NX=3,jX="32px",OX="16px",hI=4e3,TX=356,kX=14,PX=20,IX=200;function La(...t){return t.filter(Boolean).join(" ")}function RX(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var MX=t=>{var e,r,n,i,s,a,c,u,h,g,v;let{invert:w,toast:b,unstyled:A,interacting:E,setHeights:C,visibleToasts:R,heights:I,index:P,toasts:L,expanded:T,removeToast:D,defaultRichColors:M,closeButton:$,style:V,cancelButtonStyle:K,actionButtonStyle:H,className:z="",descriptionClassName:Z="",duration:W,position:G,gap:J,loadingIcon:ie,expandByDefault:ne,classNames:ee,icons:de,closeButtonAriaLabel:se="Close toast",pauseWhenPageIsHidden:le}=t,[me,pe]=re.useState(null),[Re,_e]=re.useState(null),[we,Le]=re.useState(!1),[je,Fe]=re.useState(!1),[We,Oe]=re.useState(!1),[et,Ue]=re.useState(!1),[st,Et]=re.useState(!1),[dt,kt]=re.useState(0),[ut,fe]=re.useState(0),he=re.useRef(b.duration||W||hI),Ne=re.useRef(null),Ye=re.useRef(null),Ve=P===0,qe=P+1<=R,ae=b.type,Me=b.dismissible!==!1,lt=b.className||"",ft=b.descriptionClassName||"",_r=re.useMemo(()=>I.findIndex(Pt=>Pt.toastId===b.id)||0,[I,b.id]),Sr=re.useMemo(()=>{var Pt;return(Pt=b.closeButton)!=null?Pt:$},[b.closeButton,$]),kr=re.useMemo(()=>b.duration||W||hI,[b.duration,W]),Bt=re.useRef(0),ze=re.useRef(0),Ur=re.useRef(0),gr=re.useRef(null),[$r,us]=G.split("-"),so=re.useMemo(()=>I.reduce((Pt,Or,ir)=>ir>=_r?Pt:Pt+Or.height,0),[I,_r]),Io=xX(),yr=b.invert||w,xi=ae==="loading";ze.current=re.useMemo(()=>_r*J+so,[_r,so]),re.useEffect(()=>{he.current=kr},[kr]),re.useEffect(()=>{Le(!0)},[]),re.useEffect(()=>{let Pt=Ye.current;if(Pt){let Or=Pt.getBoundingClientRect().height;return fe(Or),C(ir=>[{toastId:b.id,height:Or,position:b.position},...ir]),()=>C(ir=>ir.filter(Pn=>Pn.toastId!==b.id))}},[C,b.id]),re.useLayoutEffect(()=>{if(!we)return;let Pt=Ye.current,Or=Pt.style.height;Pt.style.height="auto";let ir=Pt.getBoundingClientRect().height;Pt.style.height=Or,fe(ir),C(Pn=>Pn.find(si=>si.toastId===b.id)?Pn.map(si=>si.toastId===b.id?{...si,height:ir}:si):[{toastId:b.id,height:ir,position:b.position},...Pn])},[we,b.title,b.description,C,b.id]);let ds=re.useCallback(()=>{Fe(!0),kt(ze.current),C(Pt=>Pt.filter(Or=>Or.toastId!==b.id)),setTimeout(()=>{D(b)},IX)},[b,D,C,ze]);re.useEffect(()=>{if(b.promise&&ae==="loading"||b.duration===1/0||b.type==="loading")return;let Pt;return T||E||le&&Io?(()=>{if(Ur.current<Bt.current){let Or=new Date().getTime()-Bt.current;he.current=he.current-Or}Ur.current=new Date().getTime()})():he.current!==1/0&&(Bt.current=new Date().getTime(),Pt=setTimeout(()=>{var Or;(Or=b.onAutoClose)==null||Or.call(b,b),ds()},he.current)),()=>clearTimeout(Pt)},[T,E,b,ae,le,Io,ds]),re.useEffect(()=>{b.delete&&ds()},[ds,b.delete]);function Hc(){var Pt,Or,ir;return de!=null&&de.loading?re.createElement("div",{className:La(ee?.loader,(Pt=b?.classNames)==null?void 0:Pt.loader,"sonner-loader"),"data-visible":ae==="loading"},de.loading):ie?re.createElement("div",{className:La(ee?.loader,(Or=b?.classNames)==null?void 0:Or.loader,"sonner-loader"),"data-visible":ae==="loading"},ie):re.createElement(hX,{className:La(ee?.loader,(ir=b?.classNames)==null?void 0:ir.loader),visible:ae==="loading"})}return re.createElement("li",{tabIndex:0,ref:Ye,className:La(z,lt,ee?.toast,(e=b?.classNames)==null?void 0:e.toast,ee?.default,ee?.[ae],(r=b?.classNames)==null?void 0:r[ae]),"data-sonner-toast":"","data-rich-colors":(n=b.richColors)!=null?n:M,"data-styled":!(b.jsx||b.unstyled||A),"data-mounted":we,"data-promise":!!b.promise,"data-swiped":st,"data-removed":je,"data-visible":qe,"data-y-position":$r,"data-x-position":us,"data-index":P,"data-front":Ve,"data-swiping":We,"data-dismissible":Me,"data-type":ae,"data-invert":yr,"data-swipe-out":et,"data-swipe-direction":Re,"data-expanded":!!(T||ne&&we),style:{"--index":P,"--toasts-before":P,"--z-index":L.length-P,"--offset":`${je?dt:ze.current}px`,"--initial-height":ne?"auto":`${ut}px`,...V,...b.style},onDragEnd:()=>{Oe(!1),pe(null),gr.current=null},onPointerDown:Pt=>{xi||!Me||(Ne.current=new Date,kt(ze.current),Pt.target.setPointerCapture(Pt.pointerId),Pt.target.tagName!=="BUTTON"&&(Oe(!0),gr.current={x:Pt.clientX,y:Pt.clientY}))},onPointerUp:()=>{var Pt,Or,ir,Pn;if(et||!Me)return;gr.current=null;let si=Number(((Pt=Ye.current)==null?void 0:Pt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),mn=Number(((Or=Ye.current)==null?void 0:Or.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ts=new Date().getTime()-((ir=Ne.current)==null?void 0:ir.getTime()),gn=me==="x"?si:mn,fs=Math.abs(gn)/Ts;if(Math.abs(gn)>=PX||fs>.11){kt(ze.current),(Pn=b.onDismiss)==null||Pn.call(b,b),_e(me==="x"?si>0?"right":"left":mn>0?"down":"up"),ds(),Ue(!0),Et(!1);return}Oe(!1),pe(null)},onPointerMove:Pt=>{var Or,ir,Pn,si;if(!gr.current||!Me||((Or=window.getSelection())==null?void 0:Or.toString().length)>0)return;let mn=Pt.clientY-gr.current.y,Ts=Pt.clientX-gr.current.x,gn=(ir=t.swipeDirections)!=null?ir:RX(G);!me&&(Math.abs(Ts)>1||Math.abs(mn)>1)&&pe(Math.abs(Ts)>Math.abs(mn)?"x":"y");let fs={x:0,y:0};me==="y"?(gn.includes("top")||gn.includes("bottom"))&&(gn.includes("top")&&mn<0||gn.includes("bottom")&&mn>0)&&(fs.y=mn):me==="x"&&(gn.includes("left")||gn.includes("right"))&&(gn.includes("left")&&Ts<0||gn.includes("right")&&Ts>0)&&(fs.x=Ts),(Math.abs(fs.x)>0||Math.abs(fs.y)>0)&&Et(!0),(Pn=Ye.current)==null||Pn.style.setProperty("--swipe-amount-x",`${fs.x}px`),(si=Ye.current)==null||si.style.setProperty("--swipe-amount-y",`${fs.y}px`)}},Sr&&!b.jsx?re.createElement("button",{"aria-label":se,"data-disabled":xi,"data-close-button":!0,onClick:xi||!Me?()=>{}:()=>{var Pt;ds(),(Pt=b.onDismiss)==null||Pt.call(b,b)},className:La(ee?.closeButton,(i=b?.classNames)==null?void 0:i.closeButton)},(s=de?.close)!=null?s:yX):null,b.jsx||j.isValidElement(b.title)?b.jsx?b.jsx:typeof b.title=="function"?b.title():b.title:re.createElement(re.Fragment,null,ae||b.icon||b.promise?re.createElement("div",{"data-icon":"",className:La(ee?.icon,(a=b?.classNames)==null?void 0:a.icon)},b.promise||b.type==="loading"&&!b.icon?b.icon||Hc():null,b.type!=="loading"?b.icon||de?.[ae]||dX(ae):null):null,re.createElement("div",{"data-content":"",className:La(ee?.content,(c=b?.classNames)==null?void 0:c.content)},re.createElement("div",{"data-title":"",className:La(ee?.title,(u=b?.classNames)==null?void 0:u.title)},typeof b.title=="function"?b.title():b.title),b.description?re.createElement("div",{"data-description":"",className:La(Z,ft,ee?.description,(h=b?.classNames)==null?void 0:h.description)},typeof b.description=="function"?b.description():b.description):null),j.isValidElement(b.cancel)?b.cancel:b.cancel&&ev(b.cancel)?re.createElement("button",{"data-button":!0,"data-cancel":!0,style:b.cancelButtonStyle||K,onClick:Pt=>{var Or,ir;ev(b.cancel)&&Me&&((ir=(Or=b.cancel).onClick)==null||ir.call(Or,Pt),ds())},className:La(ee?.cancelButton,(g=b?.classNames)==null?void 0:g.cancelButton)},b.cancel.label):null,j.isValidElement(b.action)?b.action:b.action&&ev(b.action)?re.createElement("button",{"data-button":!0,"data-action":!0,style:b.actionButtonStyle||H,onClick:Pt=>{var Or,ir;ev(b.action)&&((ir=(Or=b.action).onClick)==null||ir.call(Or,Pt),!Pt.defaultPrevented&&ds())},className:La(ee?.actionButton,(v=b?.classNames)==null?void 0:v.actionButton)},b.action.label):null))};function pI(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function DX(t,e){let r={};return[t,e].forEach((n,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",c=s?OX:jX;function u(h){["top","right","bottom","left"].forEach(g=>{r[`${a}-${g}`]=typeof h=="number"?`${h}px`:h})}typeof n=="number"||typeof n=="string"?u(n):typeof n=="object"?["top","right","bottom","left"].forEach(h=>{n[h]===void 0?r[`${a}-${h}`]=c:r[`${a}-${h}`]=typeof n[h]=="number"?`${n[h]}px`:n[h]}):u(c)}),r}var LX=j.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:c,offset:u,mobileOffset:h,theme:g="light",richColors:v,duration:w,style:b,visibleToasts:A=NX,toastOptions:E,dir:C=pI(),gap:R=kX,loadingIcon:I,icons:P,containerAriaLabel:L="Notifications",pauseWhenPageIsHidden:T}=t,[D,M]=re.useState([]),$=re.useMemo(()=>Array.from(new Set([n].concat(D.filter(le=>le.position).map(le=>le.position)))),[D,n]),[V,K]=re.useState([]),[H,z]=re.useState(!1),[Z,W]=re.useState(!1),[G,J]=re.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ie=re.useRef(null),ne=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),ee=re.useRef(null),de=re.useRef(!1),se=re.useCallback(le=>{M(me=>{var pe;return(pe=me.find(Re=>Re.id===le.id))!=null&&pe.delete||bs.dismiss(le.id),me.filter(({id:Re})=>Re!==le.id)})},[]);return re.useEffect(()=>bs.subscribe(le=>{if(le.dismiss){M(me=>me.map(pe=>pe.id===le.id?{...pe,delete:!0}:pe));return}setTimeout(()=>{aB.flushSync(()=>{M(me=>{let pe=me.findIndex(Re=>Re.id===le.id);return pe!==-1?[...me.slice(0,pe),{...me[pe],...le},...me.slice(pe+1)]:[le,...me]})})})}),[]),re.useEffect(()=>{if(g!=="system"){J(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;let le=window.matchMedia("(prefers-color-scheme: dark)");try{le.addEventListener("change",({matches:me})=>{J(me?"dark":"light")})}catch{le.addListener(({matches:pe})=>{try{J(pe?"dark":"light")}catch(Re){console.error(Re)}})}},[g]),re.useEffect(()=>{D.length<=1&&z(!1)},[D]),re.useEffect(()=>{let le=me=>{var pe,Re;i.every(_e=>me[_e]||me.code===_e)&&(z(!0),(pe=ie.current)==null||pe.focus()),me.code==="Escape"&&(document.activeElement===ie.current||(Re=ie.current)!=null&&Re.contains(document.activeElement))&&z(!1)};return document.addEventListener("keydown",le),()=>document.removeEventListener("keydown",le)},[i]),re.useEffect(()=>{if(ie.current)return()=>{ee.current&&(ee.current.focus({preventScroll:!0}),ee.current=null,de.current=!1)}},[ie.current]),re.createElement("section",{ref:e,"aria-label":`${L} ${ne}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},$.map((le,me)=>{var pe;let[Re,_e]=le.split("-");return D.length?re.createElement("ol",{key:le,dir:C==="auto"?pI():C,tabIndex:-1,ref:ie,className:c,"data-sonner-toaster":!0,"data-theme":G,"data-y-position":Re,"data-lifted":H&&D.length>1&&!s,"data-x-position":_e,style:{"--front-toast-height":`${((pe=V[0])==null?void 0:pe.height)||0}px`,"--width":`${TX}px`,"--gap":`${R}px`,...b,...DX(u,h)},onBlur:we=>{de.current&&!we.currentTarget.contains(we.relatedTarget)&&(de.current=!1,ee.current&&(ee.current.focus({preventScroll:!0}),ee.current=null))},onFocus:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||de.current||(de.current=!0,ee.current=we.relatedTarget)},onMouseEnter:()=>z(!0),onMouseMove:()=>z(!0),onMouseLeave:()=>{Z||z(!1)},onDragEnd:()=>z(!1),onPointerDown:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},D.filter(we=>!we.position&&me===0||we.position===le).map((we,Le)=>{var je,Fe;return re.createElement(MX,{key:we.id,icons:P,index:Le,toast:we,defaultRichColors:v,duration:(je=E?.duration)!=null?je:w,className:E?.className,descriptionClassName:E?.descriptionClassName,invert:r,visibleToasts:A,closeButton:(Fe=E?.closeButton)!=null?Fe:a,interacting:Z,position:le,style:E?.style,unstyled:E?.unstyled,classNames:E?.classNames,cancelButtonStyle:E?.cancelButtonStyle,actionButtonStyle:E?.actionButtonStyle,removeToast:se,toasts:D.filter(We=>We.position==we.position),heights:V.filter(We=>We.position==we.position),setHeights:K,expandByDefault:s,gap:R,loadingIcon:I,expanded:H,pauseWhenPageIsHidden:T,swipeDirections:t.swipeDirections})})):null}))});const BX=({...t})=>{const{theme:e="system"}=uX();return o.jsx(LX,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var FX=oj[" useId ".trim().toString()]||(()=>{}),UX=0;function _a(t){const[e,r]=j.useState(FX());return ni(()=>{r(n=>n??String(UX++))},[t]),e?`radix-${e}`:""}const $X=["top","right","bottom","left"],Ec=Math.min,Hs=Math.max,Xv=Math.round,tv=Math.floor,wo=t=>({x:t,y:t}),VX={left:"right",right:"left",bottom:"top",top:"bottom"},qX={start:"end",end:"start"};function YC(t,e,r){return Hs(t,Ec(e,r))}function fl(t,e){return typeof t=="function"?t(e):t}function hl(t){return t.split("-")[0]}function _h(t){return t.split("-")[1]}function yj(t){return t==="x"?"y":"x"}function xj(t){return t==="y"?"height":"width"}const WX=new Set(["top","bottom"]);function go(t){return WX.has(hl(t))?"y":"x"}function wj(t){return yj(go(t))}function zX(t,e,r){r===void 0&&(r=!1);const n=_h(t),i=wj(t),s=xj(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Zv(a)),[a,Zv(a)]}function HX(t){const e=Zv(t);return[XC(t),e,XC(e)]}function XC(t){return t.replace(/start|end/g,e=>qX[e])}const mI=["left","right"],gI=["right","left"],GX=["top","bottom"],KX=["bottom","top"];function YX(t,e,r){switch(t){case"top":case"bottom":return r?e?gI:mI:e?mI:gI;case"left":case"right":return e?GX:KX;default:return[]}}function XX(t,e,r,n){const i=_h(t);let s=YX(hl(t),r==="start",n);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(XC)))),s}function Zv(t){return t.replace(/left|right|bottom|top/g,e=>VX[e])}function ZX(t){return{top:0,right:0,bottom:0,left:0,...t}}function JB(t){return typeof t!="number"?ZX(t):{top:t,right:t,bottom:t,left:t}}function Qv(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function vI(t,e,r){let{reference:n,floating:i}=t;const s=go(e),a=wj(e),c=xj(a),u=hl(e),h=s==="y",g=n.x+n.width/2-i.width/2,v=n.y+n.height/2-i.height/2,w=n[c]/2-i[c]/2;let b;switch(u){case"top":b={x:g,y:n.y-i.height};break;case"bottom":b={x:g,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:v};break;case"left":b={x:n.x-i.width,y:v};break;default:b={x:n.x,y:n.y}}switch(_h(e)){case"start":b[a]-=w*(r&&h?-1:1);break;case"end":b[a]+=w*(r&&h?-1:1);break}return b}const QX=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:a}=r,c=s.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let h=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:g,y:v}=vI(h,n,u),w=n,b={},A=0;for(let E=0;E<c.length;E++){const{name:C,fn:R}=c[E],{x:I,y:P,data:L,reset:T}=await R({x:g,y:v,initialPlacement:n,placement:w,strategy:i,middlewareData:b,rects:h,platform:a,elements:{reference:t,floating:e}});g=I??g,v=P??v,b={...b,[C]:{...b[C],...L}},T&&A<=50&&(A++,typeof T=="object"&&(T.placement&&(w=T.placement),T.rects&&(h=T.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):T.rects),{x:g,y:v}=vI(h,w,u)),E=-1)}return{x:g,y:v,placement:w,strategy:i,middlewareData:b}};async function um(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:a,elements:c,strategy:u}=t,{boundary:h="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:w=!1,padding:b=0}=fl(e,t),A=JB(b),C=c[w?v==="floating"?"reference":"floating":v],R=Qv(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(C)))==null||r?C:C.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:h,rootBoundary:g,strategy:u})),I=v==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),L=await(s.isElement==null?void 0:s.isElement(P))?await(s.getScale==null?void 0:s.getScale(P))||{x:1,y:1}:{x:1,y:1},T=Qv(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:I,offsetParent:P,strategy:u}):I);return{top:(R.top-T.top+A.top)/L.y,bottom:(T.bottom-R.bottom+A.bottom)/L.y,left:(R.left-T.left+A.left)/L.x,right:(T.right-R.right+A.right)/L.x}}const JX=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:a,elements:c,middlewareData:u}=e,{element:h,padding:g=0}=fl(t,e)||{};if(h==null)return{};const v=JB(g),w={x:r,y:n},b=wj(i),A=xj(b),E=await a.getDimensions(h),C=b==="y",R=C?"top":"left",I=C?"bottom":"right",P=C?"clientHeight":"clientWidth",L=s.reference[A]+s.reference[b]-w[b]-s.floating[A],T=w[b]-s.reference[b],D=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h));let M=D?D[P]:0;(!M||!await(a.isElement==null?void 0:a.isElement(D)))&&(M=c.floating[P]||s.floating[A]);const $=L/2-T/2,V=M/2-E[A]/2-1,K=Ec(v[R],V),H=Ec(v[I],V),z=K,Z=M-E[A]-H,W=M/2-E[A]/2+$,G=YC(z,W,Z),J=!u.arrow&&_h(i)!=null&&W!==G&&s.reference[A]/2-(W<z?K:H)-E[A]/2<0,ie=J?W<z?W-z:W-Z:0;return{[b]:w[b]+ie,data:{[b]:G,centerOffset:W-G-ie,...J&&{alignmentOffset:ie}},reset:J}}}),eZ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:a,initialPlacement:c,platform:u,elements:h}=e,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:w,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:E=!0,...C}=fl(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const R=hl(i),I=go(c),P=hl(c)===c,L=await(u.isRTL==null?void 0:u.isRTL(h.floating)),T=w||(P||!E?[Zv(c)]:HX(c)),D=A!=="none";!w&&D&&T.push(...XX(c,E,A,L));const M=[c,...T],$=await um(e,C),V=[];let K=((n=s.flip)==null?void 0:n.overflows)||[];if(g&&V.push($[R]),v){const W=zX(i,a,L);V.push($[W[0]],$[W[1]])}if(K=[...K,{placement:i,overflows:V}],!V.every(W=>W<=0)){var H,z;const W=(((H=s.flip)==null?void 0:H.index)||0)+1,G=M[W];if(G&&(!(v==="alignment"?I!==go(G):!1)||K.every(ne=>ne.overflows[0]>0&&go(ne.placement)===I)))return{data:{index:W,overflows:K},reset:{placement:G}};let J=(z=K.filter(ie=>ie.overflows[0]<=0).sort((ie,ne)=>ie.overflows[1]-ne.overflows[1])[0])==null?void 0:z.placement;if(!J)switch(b){case"bestFit":{var Z;const ie=(Z=K.filter(ne=>{if(D){const ee=go(ne.placement);return ee===I||ee==="y"}return!0}).map(ne=>[ne.placement,ne.overflows.filter(ee=>ee>0).reduce((ee,de)=>ee+de,0)]).sort((ne,ee)=>ne[1]-ee[1])[0])==null?void 0:Z[0];ie&&(J=ie);break}case"initialPlacement":J=c;break}if(i!==J)return{reset:{placement:J}}}return{}}}};function yI(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function xI(t){return $X.some(e=>t[e]>=0)}const tZ=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=fl(t,e);switch(n){case"referenceHidden":{const s=await um(e,{...i,elementContext:"reference"}),a=yI(s,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:xI(a)}}}case"escaped":{const s=await um(e,{...i,altBoundary:!0}),a=yI(s,r.floating);return{data:{escapedOffsets:a,escaped:xI(a)}}}default:return{}}}}},e7=new Set(["left","top"]);async function rZ(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=hl(r),c=_h(r),u=go(r)==="y",h=e7.has(a)?-1:1,g=s&&u?-1:1,v=fl(e,t);let{mainAxis:w,crossAxis:b,alignmentAxis:A}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return c&&typeof A=="number"&&(b=c==="end"?A*-1:A),u?{x:b*g,y:w*h}:{x:w*h,y:b*g}}const nZ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:a,middlewareData:c}=e,u=await rZ(e,t);return a===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:a}}}}},iZ=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:c={fn:C=>{let{x:R,y:I}=C;return{x:R,y:I}}},...u}=fl(t,e),h={x:r,y:n},g=await um(e,u),v=go(hl(i)),w=yj(v);let b=h[w],A=h[v];if(s){const C=w==="y"?"top":"left",R=w==="y"?"bottom":"right",I=b+g[C],P=b-g[R];b=YC(I,b,P)}if(a){const C=v==="y"?"top":"left",R=v==="y"?"bottom":"right",I=A+g[C],P=A-g[R];A=YC(I,A,P)}const E=c.fn({...e,[w]:b,[v]:A});return{...E,data:{x:E.x-r,y:E.y-n,enabled:{[w]:s,[v]:a}}}}}},sZ=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:a}=e,{offset:c=0,mainAxis:u=!0,crossAxis:h=!0}=fl(t,e),g={x:r,y:n},v=go(i),w=yj(v);let b=g[w],A=g[v];const E=fl(c,e),C=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(u){const P=w==="y"?"height":"width",L=s.reference[w]-s.floating[P]+C.mainAxis,T=s.reference[w]+s.reference[P]-C.mainAxis;b<L?b=L:b>T&&(b=T)}if(h){var R,I;const P=w==="y"?"width":"height",L=e7.has(hl(i)),T=s.reference[v]-s.floating[P]+(L&&((R=a.offset)==null?void 0:R[v])||0)+(L?0:C.crossAxis),D=s.reference[v]+s.reference[P]+(L?0:((I=a.offset)==null?void 0:I[v])||0)-(L?C.crossAxis:0);A<T?A=T:A>D&&(A=D)}return{[w]:b,[v]:A}}}},aZ=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:a,elements:c}=e,{apply:u=()=>{},...h}=fl(t,e),g=await um(e,h),v=hl(i),w=_h(i),b=go(i)==="y",{width:A,height:E}=s.floating;let C,R;v==="top"||v==="bottom"?(C=v,R=w===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(R=v,C=w==="end"?"top":"bottom");const I=E-g.top-g.bottom,P=A-g.left-g.right,L=Ec(E-g[C],I),T=Ec(A-g[R],P),D=!e.middlewareData.shift;let M=L,$=T;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&($=P),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(M=I),D&&!w){const K=Hs(g.left,0),H=Hs(g.right,0),z=Hs(g.top,0),Z=Hs(g.bottom,0);b?$=A-2*(K!==0||H!==0?K+H:Hs(g.left,g.right)):M=E-2*(z!==0||Z!==0?z+Z:Hs(g.top,g.bottom))}await u({...e,availableWidth:$,availableHeight:M});const V=await a.getDimensions(c.floating);return A!==V.width||E!==V.height?{reset:{rects:!0}}:{}}}};function I1(){return typeof window<"u"}function Sh(t){return t7(t)?(t.nodeName||"").toLowerCase():"#document"}function Qs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function No(t){var e;return(e=(t7(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function t7(t){return I1()?t instanceof Node||t instanceof Qs(t).Node:!1}function Ja(t){return I1()?t instanceof Element||t instanceof Qs(t).Element:!1}function Co(t){return I1()?t instanceof HTMLElement||t instanceof Qs(t).HTMLElement:!1}function wI(t){return!I1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Qs(t).ShadowRoot}const oZ=new Set(["inline","contents"]);function mg(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=eo(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!oZ.has(i)}const lZ=new Set(["table","td","th"]);function cZ(t){return lZ.has(Sh(t))}const uZ=[":popover-open",":modal"];function R1(t){return uZ.some(e=>{try{return t.matches(e)}catch{return!1}})}const dZ=["transform","translate","scale","rotate","perspective"],fZ=["transform","translate","scale","rotate","perspective","filter"],hZ=["paint","layout","strict","content"];function bj(t){const e=_j(),r=Ja(t)?eo(t):t;return dZ.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||fZ.some(n=>(r.willChange||"").includes(n))||hZ.some(n=>(r.contain||"").includes(n))}function pZ(t){let e=Cc(t);for(;Co(e)&&!Pf(e);){if(bj(e))return e;if(R1(e))return null;e=Cc(e)}return null}function _j(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mZ=new Set(["html","body","#document"]);function Pf(t){return mZ.has(Sh(t))}function eo(t){return Qs(t).getComputedStyle(t)}function M1(t){return Ja(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Cc(t){if(Sh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||wI(t)&&t.host||No(t);return wI(e)?e.host:e}function r7(t){const e=Cc(t);return Pf(e)?t.ownerDocument?t.ownerDocument.body:t.body:Co(e)&&mg(e)?e:r7(e)}function dm(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=r7(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),a=Qs(i);if(s){const c=ZC(a);return e.concat(a,a.visualViewport||[],mg(i)?i:[],c&&r?dm(c):[])}return e.concat(i,dm(i,[],r))}function ZC(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function n7(t){const e=eo(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Co(t),s=i?t.offsetWidth:r,a=i?t.offsetHeight:n,c=Xv(r)!==s||Xv(n)!==a;return c&&(r=s,n=a),{width:r,height:n,$:c}}function Sj(t){return Ja(t)?t:t.contextElement}function Sf(t){const e=Sj(t);if(!Co(e))return wo(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=n7(e);let a=(s?Xv(r.width):r.width)/n,c=(s?Xv(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const gZ=wo(0);function i7(t){const e=Qs(t);return!_j()||!e.visualViewport?gZ:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function vZ(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Qs(t)?!1:e}function Hu(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=Sj(t);let a=wo(1);e&&(n?Ja(n)&&(a=Sf(n)):a=Sf(t));const c=vZ(s,r,n)?i7(s):wo(0);let u=(i.left+c.x)/a.x,h=(i.top+c.y)/a.y,g=i.width/a.x,v=i.height/a.y;if(s){const w=Qs(s),b=n&&Ja(n)?Qs(n):n;let A=w,E=ZC(A);for(;E&&n&&b!==A;){const C=Sf(E),R=E.getBoundingClientRect(),I=eo(E),P=R.left+(E.clientLeft+parseFloat(I.paddingLeft))*C.x,L=R.top+(E.clientTop+parseFloat(I.paddingTop))*C.y;u*=C.x,h*=C.y,g*=C.x,v*=C.y,u+=P,h+=L,A=Qs(E),E=ZC(A)}}return Qv({width:g,height:v,x:u,y:h})}function Ej(t,e){const r=M1(t).scrollLeft;return e?e.left+r:Hu(No(t)).left+r}function s7(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:Ej(t,n)),s=n.top+e.scrollTop;return{x:i,y:s}}function yZ(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",a=No(n),c=e?R1(e.floating):!1;if(n===a||c&&s)return r;let u={scrollLeft:0,scrollTop:0},h=wo(1);const g=wo(0),v=Co(n);if((v||!v&&!s)&&((Sh(n)!=="body"||mg(a))&&(u=M1(n)),Co(n))){const b=Hu(n);h=Sf(n),g.x=b.x+n.clientLeft,g.y=b.y+n.clientTop}const w=a&&!v&&!s?s7(a,u,!0):wo(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-u.scrollLeft*h.x+g.x+w.x,y:r.y*h.y-u.scrollTop*h.y+g.y+w.y}}function xZ(t){return Array.from(t.getClientRects())}function wZ(t){const e=No(t),r=M1(t),n=t.ownerDocument.body,i=Hs(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Hs(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+Ej(t);const c=-r.scrollTop;return eo(n).direction==="rtl"&&(a+=Hs(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:c}}function bZ(t,e){const r=Qs(t),n=No(t),i=r.visualViewport;let s=n.clientWidth,a=n.clientHeight,c=0,u=0;if(i){s=i.width,a=i.height;const h=_j();(!h||h&&e==="fixed")&&(c=i.offsetLeft,u=i.offsetTop)}return{width:s,height:a,x:c,y:u}}const _Z=new Set(["absolute","fixed"]);function SZ(t,e){const r=Hu(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=Co(t)?Sf(t):wo(1),a=t.clientWidth*s.x,c=t.clientHeight*s.y,u=i*s.x,h=n*s.y;return{width:a,height:c,x:u,y:h}}function bI(t,e,r){let n;if(e==="viewport")n=bZ(t,r);else if(e==="document")n=wZ(No(t));else if(Ja(e))n=SZ(e,r);else{const i=i7(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Qv(n)}function a7(t,e){const r=Cc(t);return r===e||!Ja(r)||Pf(r)?!1:eo(r).position==="fixed"||a7(r,e)}function EZ(t,e){const r=e.get(t);if(r)return r;let n=dm(t,[],!1).filter(c=>Ja(c)&&Sh(c)!=="body"),i=null;const s=eo(t).position==="fixed";let a=s?Cc(t):t;for(;Ja(a)&&!Pf(a);){const c=eo(a),u=bj(a);!u&&c.position==="fixed"&&(i=null),(s?!u&&!i:!u&&c.position==="static"&&!!i&&_Z.has(i.position)||mg(a)&&!u&&a7(t,a))?n=n.filter(g=>g!==a):i=c,a=Cc(a)}return e.set(t,n),n}function CZ(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const a=[...r==="clippingAncestors"?R1(e)?[]:EZ(e,this._c):[].concat(r),n],c=a[0],u=a.reduce((h,g)=>{const v=bI(e,g,i);return h.top=Hs(v.top,h.top),h.right=Ec(v.right,h.right),h.bottom=Ec(v.bottom,h.bottom),h.left=Hs(v.left,h.left),h},bI(e,c,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function AZ(t){const{width:e,height:r}=n7(t);return{width:e,height:r}}function NZ(t,e,r){const n=Co(e),i=No(e),s=r==="fixed",a=Hu(t,!0,s,e);let c={scrollLeft:0,scrollTop:0};const u=wo(0);function h(){u.x=Ej(i)}if(n||!n&&!s)if((Sh(e)!=="body"||mg(i))&&(c=M1(e)),n){const b=Hu(e,!0,s,e);u.x=b.x+e.clientLeft,u.y=b.y+e.clientTop}else i&&h();s&&!n&&i&&h();const g=i&&!n&&!s?s7(i,c):wo(0),v=a.left+c.scrollLeft-u.x-g.x,w=a.top+c.scrollTop-u.y-g.y;return{x:v,y:w,width:a.width,height:a.height}}function Rb(t){return eo(t).position==="static"}function _I(t,e){if(!Co(t)||eo(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return No(t)===r&&(r=r.ownerDocument.body),r}function o7(t,e){const r=Qs(t);if(R1(t))return r;if(!Co(t)){let i=Cc(t);for(;i&&!Pf(i);){if(Ja(i)&&!Rb(i))return i;i=Cc(i)}return r}let n=_I(t,e);for(;n&&cZ(n)&&Rb(n);)n=_I(n,e);return n&&Pf(n)&&Rb(n)&&!bj(n)?r:n||pZ(t)||r}const jZ=async function(t){const e=this.getOffsetParent||o7,r=this.getDimensions,n=await r(t.floating);return{reference:NZ(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function OZ(t){return eo(t).direction==="rtl"}const TZ={convertOffsetParentRelativeRectToViewportRelativeRect:yZ,getDocumentElement:No,getClippingRect:CZ,getOffsetParent:o7,getElementRects:jZ,getClientRects:xZ,getDimensions:AZ,getScale:Sf,isElement:Ja,isRTL:OZ};function l7(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function kZ(t,e){let r=null,n;const i=No(t);function s(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function a(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),s();const h=t.getBoundingClientRect(),{left:g,top:v,width:w,height:b}=h;if(c||e(),!w||!b)return;const A=tv(v),E=tv(i.clientWidth-(g+w)),C=tv(i.clientHeight-(v+b)),R=tv(g),P={rootMargin:-A+"px "+-E+"px "+-C+"px "+-R+"px",threshold:Hs(0,Ec(1,u))||1};let L=!0;function T(D){const M=D[0].intersectionRatio;if(M!==u){if(!L)return a();M?a(!1,M):n=setTimeout(()=>{a(!1,1e-7)},1e3)}M===1&&!l7(h,t.getBoundingClientRect())&&a(),L=!1}try{r=new IntersectionObserver(T,{...P,root:i.ownerDocument})}catch{r=new IntersectionObserver(T,P)}r.observe(t)}return a(!0),s}function PZ(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,h=Sj(t),g=i||s?[...h?dm(h):[],...dm(e)]:[];g.forEach(R=>{i&&R.addEventListener("scroll",r,{passive:!0}),s&&R.addEventListener("resize",r)});const v=h&&c?kZ(h,r):null;let w=-1,b=null;a&&(b=new ResizeObserver(R=>{let[I]=R;I&&I.target===h&&b&&(b.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var P;(P=b)==null||P.observe(e)})),r()}),h&&!u&&b.observe(h),b.observe(e));let A,E=u?Hu(t):null;u&&C();function C(){const R=Hu(t);E&&!l7(E,R)&&r(),E=R,A=requestAnimationFrame(C)}return r(),()=>{var R;g.forEach(I=>{i&&I.removeEventListener("scroll",r),s&&I.removeEventListener("resize",r)}),v?.(),(R=b)==null||R.disconnect(),b=null,u&&cancelAnimationFrame(A)}}const IZ=nZ,RZ=iZ,MZ=eZ,DZ=aZ,LZ=tZ,SI=JX,BZ=sZ,FZ=(t,e,r)=>{const n=new Map,i={platform:TZ,...r},s={...i.platform,_c:n};return QX(t,e,{...i,platform:s})};var UZ=typeof document<"u",$Z=function(){},Mv=UZ?j.useLayoutEffect:$Z;function Jv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Jv(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!Jv(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function c7(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function EI(t,e){const r=c7(t);return Math.round(e*r)/r}function Mb(t){const e=j.useRef(t);return Mv(()=>{e.current=t}),e}function VZ(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:a}={},transform:c=!0,whileElementsMounted:u,open:h}=t,[g,v]=j.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[w,b]=j.useState(n);Jv(w,n)||b(n);const[A,E]=j.useState(null),[C,R]=j.useState(null),I=j.useCallback(ne=>{ne!==D.current&&(D.current=ne,E(ne))},[]),P=j.useCallback(ne=>{ne!==M.current&&(M.current=ne,R(ne))},[]),L=s||A,T=a||C,D=j.useRef(null),M=j.useRef(null),$=j.useRef(g),V=u!=null,K=Mb(u),H=Mb(i),z=Mb(h),Z=j.useCallback(()=>{if(!D.current||!M.current)return;const ne={placement:e,strategy:r,middleware:w};H.current&&(ne.platform=H.current),FZ(D.current,M.current,ne).then(ee=>{const de={...ee,isPositioned:z.current!==!1};W.current&&!Jv($.current,de)&&($.current=de,vh.flushSync(()=>{v(de)}))})},[w,e,r,H,z]);Mv(()=>{h===!1&&$.current.isPositioned&&($.current.isPositioned=!1,v(ne=>({...ne,isPositioned:!1})))},[h]);const W=j.useRef(!1);Mv(()=>(W.current=!0,()=>{W.current=!1}),[]),Mv(()=>{if(L&&(D.current=L),T&&(M.current=T),L&&T){if(K.current)return K.current(L,T,Z);Z()}},[L,T,Z,K,V]);const G=j.useMemo(()=>({reference:D,floating:M,setReference:I,setFloating:P}),[I,P]),J=j.useMemo(()=>({reference:L,floating:T}),[L,T]),ie=j.useMemo(()=>{const ne={position:r,left:0,top:0};if(!J.floating)return ne;const ee=EI(J.floating,g.x),de=EI(J.floating,g.y);return c?{...ne,transform:"translate("+ee+"px, "+de+"px)",...c7(J.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ee,top:de}},[r,c,J.floating,g.x,g.y]);return j.useMemo(()=>({...g,update:Z,refs:G,elements:J,floatingStyles:ie}),[g,Z,G,J,ie])}const qZ=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?SI({element:n.current,padding:i}).fn(r):{}:n?SI({element:n,padding:i}).fn(r):{}}}},WZ=(t,e)=>({...IZ(t),options:[t,e]}),zZ=(t,e)=>({...RZ(t),options:[t,e]}),HZ=(t,e)=>({...BZ(t),options:[t,e]}),GZ=(t,e)=>({...MZ(t),options:[t,e]}),KZ=(t,e)=>({...DZ(t),options:[t,e]}),YZ=(t,e)=>({...LZ(t),options:[t,e]}),XZ=(t,e)=>({...qZ(t),options:[t,e]});var ZZ="Arrow",u7=j.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return o.jsx(Tt.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});u7.displayName=ZZ;var QZ=u7;function Cj(t){const[e,r]=j.useState(void 0);return ni(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,c;if("borderBoxSize"in s){const u=s.borderBoxSize,h=Array.isArray(u)?u[0]:u;a=h.inlineSize,c=h.blockSize}else a=t.offsetWidth,c=t.offsetHeight;r({width:a,height:c})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var Aj="Popper",[d7,Mc]=Ji(Aj),[JZ,f7]=d7(Aj),h7=t=>{const{__scopePopper:e,children:r}=t,[n,i]=j.useState(null);return o.jsx(JZ,{scope:e,anchor:n,onAnchorChange:i,children:r})};h7.displayName=Aj;var p7="PopperAnchor",m7=j.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=f7(p7,r),a=j.useRef(null),c=br(e,a);return j.useEffect(()=>{s.onAnchorChange(n?.current||a.current)}),n?null:o.jsx(Tt.div,{...i,ref:c})});m7.displayName=p7;var Nj="PopperContent",[eQ,tQ]=d7(Nj),g7=j.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:h=[],collisionPadding:g=0,sticky:v="partial",hideWhenDetached:w=!1,updatePositionStrategy:b="optimized",onPlaced:A,...E}=t,C=f7(Nj,r),[R,I]=j.useState(null),P=br(e,we=>I(we)),[L,T]=j.useState(null),D=Cj(L),M=D?.width??0,$=D?.height??0,V=n+(s!=="center"?"-"+s:""),K=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},H=Array.isArray(h)?h:[h],z=H.length>0,Z={padding:K,boundary:H.filter(nQ),altBoundary:z},{refs:W,floatingStyles:G,placement:J,isPositioned:ie,middlewareData:ne}=VZ({strategy:"fixed",placement:V,whileElementsMounted:(...we)=>PZ(...we,{animationFrame:b==="always"}),elements:{reference:C.anchor},middleware:[WZ({mainAxis:i+$,alignmentAxis:a}),u&&zZ({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?HZ():void 0,...Z}),u&&GZ({...Z}),KZ({...Z,apply:({elements:we,rects:Le,availableWidth:je,availableHeight:Fe})=>{const{width:We,height:Oe}=Le.reference,et=we.floating.style;et.setProperty("--radix-popper-available-width",`${je}px`),et.setProperty("--radix-popper-available-height",`${Fe}px`),et.setProperty("--radix-popper-anchor-width",`${We}px`),et.setProperty("--radix-popper-anchor-height",`${Oe}px`)}}),L&&XZ({element:L,padding:c}),iQ({arrowWidth:M,arrowHeight:$}),w&&YZ({strategy:"referenceHidden",...Z})]}),[ee,de]=x7(J),se=ls(A);ni(()=>{ie&&se?.()},[ie,se]);const le=ne.arrow?.x,me=ne.arrow?.y,pe=ne.arrow?.centerOffset!==0,[Re,_e]=j.useState();return ni(()=>{R&&_e(window.getComputedStyle(R).zIndex)},[R]),o.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:ie?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[ne.transformOrigin?.x,ne.transformOrigin?.y].join(" "),...ne.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(eQ,{scope:r,placedSide:ee,onArrowChange:T,arrowX:le,arrowY:me,shouldHideArrow:pe,children:o.jsx(Tt.div,{"data-side":ee,"data-align":de,...E,ref:P,style:{...E.style,animation:ie?void 0:"none"}})})})});g7.displayName=Nj;var v7="PopperArrow",rQ={top:"bottom",right:"left",bottom:"top",left:"right"},y7=j.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=tQ(v7,n),a=rQ[s.placedSide];return o.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:o.jsx(QZ,{...i,ref:r,style:{...i.style,display:"block"}})})});y7.displayName=v7;function nQ(t){return t!==null}var iQ=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:i}=e,a=i.arrow?.centerOffset!==0,c=a?0:t.arrowWidth,u=a?0:t.arrowHeight,[h,g]=x7(r),v={start:"0%",center:"50%",end:"100%"}[g],w=(i.arrow?.x??0)+c/2,b=(i.arrow?.y??0)+u/2;let A="",E="";return h==="bottom"?(A=a?v:`${w}px`,E=`${-u}px`):h==="top"?(A=a?v:`${w}px`,E=`${n.floating.height+u}px`):h==="right"?(A=`${-u}px`,E=a?v:`${b}px`):h==="left"&&(A=`${n.floating.width+u}px`,E=a?v:`${b}px`),{data:{x:A,y:E}}}});function x7(t){const[e,r="center"]=t.split("-");return[e,r]}var D1=h7,gg=m7,L1=g7,B1=y7,[F1]=Ji("Tooltip",[Mc]),U1=Mc(),w7="TooltipProvider",sQ=700,QC="tooltip.open",[aQ,jj]=F1(w7),b7=t=>{const{__scopeTooltip:e,delayDuration:r=sQ,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=t,a=j.useRef(!0),c=j.useRef(!1),u=j.useRef(0);return j.useEffect(()=>{const h=u.current;return()=>window.clearTimeout(h)},[]),o.jsx(aQ,{scope:e,isOpenDelayedRef:a,delayDuration:r,onOpen:j.useCallback(()=>{window.clearTimeout(u.current),a.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:j.useCallback(h=>{c.current=h},[]),disableHoverableContent:i,children:s})};b7.displayName=w7;var fm="Tooltip",[oQ,$1]=F1(fm),_7=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:i,onOpenChange:s,disableHoverableContent:a,delayDuration:c}=t,u=jj(fm,t.__scopeTooltip),h=U1(e),[g,v]=j.useState(null),w=_a(),b=j.useRef(0),A=a??u.disableHoverableContent,E=c??u.delayDuration,C=j.useRef(!1),[R,I]=Za({prop:n,defaultProp:i??!1,onChange:M=>{M?(u.onOpen(),document.dispatchEvent(new CustomEvent(QC))):u.onClose(),s?.(M)},caller:fm}),P=j.useMemo(()=>R?C.current?"delayed-open":"instant-open":"closed",[R]),L=j.useCallback(()=>{window.clearTimeout(b.current),b.current=0,C.current=!1,I(!0)},[I]),T=j.useCallback(()=>{window.clearTimeout(b.current),b.current=0,I(!1)},[I]),D=j.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{C.current=!0,I(!0),b.current=0},E)},[E,I]);return j.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),o.jsx(D1,{...h,children:o.jsx(oQ,{scope:e,contentId:w,open:R,stateAttribute:P,trigger:g,onTriggerChange:v,onTriggerEnter:j.useCallback(()=>{u.isOpenDelayedRef.current?D():L()},[u.isOpenDelayedRef,D,L]),onTriggerLeave:j.useCallback(()=>{A?T():(window.clearTimeout(b.current),b.current=0)},[T,A]),onOpen:L,onClose:T,disableHoverableContent:A,children:r})})};_7.displayName=fm;var JC="TooltipTrigger",S7=j.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=$1(JC,r),s=jj(JC,r),a=U1(r),c=j.useRef(null),u=br(e,c,i.onTriggerChange),h=j.useRef(!1),g=j.useRef(!1),v=j.useCallback(()=>h.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),o.jsx(gg,{asChild:!0,...a,children:o.jsx(Tt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:u,onPointerMove:ot(t.onPointerMove,w=>{w.pointerType!=="touch"&&!g.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),g.current=!0)}),onPointerLeave:ot(t.onPointerLeave,()=>{i.onTriggerLeave(),g.current=!1}),onPointerDown:ot(t.onPointerDown,()=>{i.open&&i.onClose(),h.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:ot(t.onFocus,()=>{h.current||i.onOpen()}),onBlur:ot(t.onBlur,i.onClose),onClick:ot(t.onClick,i.onClose)})})});S7.displayName=JC;var lQ="TooltipPortal",[Sje,cQ]=F1(lQ,{forceMount:void 0}),If="TooltipContent",E7=j.forwardRef((t,e)=>{const r=cQ(If,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=t,a=$1(If,t.__scopeTooltip);return o.jsx(js,{present:n||a.open,children:a.disableHoverableContent?o.jsx(C7,{side:i,...s,ref:e}):o.jsx(uQ,{side:i,...s,ref:e})})}),uQ=j.forwardRef((t,e)=>{const r=$1(If,t.__scopeTooltip),n=jj(If,t.__scopeTooltip),i=j.useRef(null),s=br(e,i),[a,c]=j.useState(null),{trigger:u,onClose:h}=r,g=i.current,{onPointerInTransitChange:v}=n,w=j.useCallback(()=>{c(null),v(!1)},[v]),b=j.useCallback((A,E)=>{const C=A.currentTarget,R={x:A.clientX,y:A.clientY},I=mQ(R,C.getBoundingClientRect()),P=gQ(R,I),L=vQ(E.getBoundingClientRect()),T=xQ([...P,...L]);c(T),v(!0)},[v]);return j.useEffect(()=>()=>w(),[w]),j.useEffect(()=>{if(u&&g){const A=C=>b(C,g),E=C=>b(C,u);return u.addEventListener("pointerleave",A),g.addEventListener("pointerleave",E),()=>{u.removeEventListener("pointerleave",A),g.removeEventListener("pointerleave",E)}}},[u,g,b,w]),j.useEffect(()=>{if(a){const A=E=>{const C=E.target,R={x:E.clientX,y:E.clientY},I=u?.contains(C)||g?.contains(C),P=!yQ(R,a);I?w():P&&(w(),h())};return document.addEventListener("pointermove",A),()=>document.removeEventListener("pointermove",A)}},[u,g,a,h,w]),o.jsx(C7,{...t,ref:s})}),[dQ,fQ]=F1(fm,{isInside:!1}),hQ=lB("TooltipContent"),C7=j.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...c}=t,u=$1(If,r),h=U1(r),{onClose:g}=u;return j.useEffect(()=>(document.addEventListener(QC,g),()=>document.removeEventListener(QC,g)),[g]),j.useEffect(()=>{if(u.trigger){const v=w=>{w.target?.contains(u.trigger)&&g()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[u.trigger,g]),o.jsx(cd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:v=>v.preventDefault(),onDismiss:g,children:o.jsxs(L1,{"data-state":u.stateAttribute,...h,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(hQ,{children:n}),o.jsx(dQ,{scope:r,isInside:!0,children:o.jsx(DK,{id:u.contentId,role:"tooltip",children:i||n})})]})})});E7.displayName=If;var A7="TooltipArrow",pQ=j.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=U1(r);return fQ(A7,r).isInside?null:o.jsx(B1,{...i,...n,ref:e})});pQ.displayName=A7;function mQ(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function gQ(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function vQ(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function yQ(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const c=e[s],u=e[a],h=c.x,g=c.y,v=u.x,w=u.y;g>n!=w>n&&r<(v-h)*(n-g)/(w-g)+h&&(i=!i)}return i}function xQ(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),wQ(e)}function wQ(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const s=r[r.length-1],a=r[r.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var bQ=b7,_Q=_7,SQ=S7,N7=E7;const j7=bQ,EQ=_Q,CQ=SQ,O7=j.forwardRef(({className:t,sideOffset:e=4,...r},n)=>o.jsx(N7,{ref:n,sideOffset:e,className:De("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));O7.displayName=N7.displayName;var V1=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},q1=typeof window>"u"||"Deno"in globalThis;function Va(){}function AQ(t,e){return typeof t=="function"?t(e):t}function NQ(t){return typeof t=="number"&&t>=0&&t!==1/0}function jQ(t,e){return Math.max(t+(e||0)-Date.now(),0)}function eA(t,e){return typeof t=="function"?t(e):t}function OQ(t,e){return typeof t=="function"?t(e):t}function CI(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:c}=t;if(a){if(n){if(e.queryHash!==Oj(a,e.options))return!1}else if(!pm(e.queryKey,a))return!1}if(r!=="all"){const u=e.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||i&&i!==e.state.fetchStatus||s&&!s(e))}function AI(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(hm(e.options.mutationKey)!==hm(s))return!1}else if(!pm(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function Oj(t,e){return(e?.queryKeyHashFn||hm)(t)}function hm(t){return JSON.stringify(t,(e,r)=>tA(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function pm(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>pm(t[r],e[r])):!1}function T7(t,e){if(t===e)return t;const r=NI(t)&&NI(e);if(r||tA(t)&&tA(e)){const n=r?t:Object.keys(t),i=n.length,s=r?e:Object.keys(e),a=s.length,c=r?[]:{},u=new Set(n);let h=0;for(let g=0;g<a;g++){const v=r?g:s[g];(!r&&u.has(v)||r)&&t[v]===void 0&&e[v]===void 0?(c[v]=void 0,h++):(c[v]=T7(t[v],e[v]),c[v]===t[v]&&t[v]!==void 0&&h++)}return i===a&&h===i?t:c}return e}function NI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function tA(t){if(!jI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!jI(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function jI(t){return Object.prototype.toString.call(t)==="[object Object]"}function TQ(t){return new Promise(e=>{setTimeout(e,t)})}function kQ(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?T7(t,e):e}function PQ(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function IQ(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Tj=Symbol();function k7(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Tj?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var RQ=class extends V1{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!q1&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},P7=new RQ,MQ=class extends V1{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!q1&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},ey=new MQ;function DQ(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function LQ(t){return Math.min(1e3*2**t,3e4)}function I7(t){return(t??"online")==="online"?ey.isOnline():!0}var R7=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Db(t){return t instanceof R7}function M7(t){let e=!1,r=0,n=!1,i;const s=DQ(),a=E=>{n||(w(new R7(E)),t.abort?.())},c=()=>{e=!0},u=()=>{e=!1},h=()=>P7.isFocused()&&(t.networkMode==="always"||ey.isOnline())&&t.canRun(),g=()=>I7(t.networkMode)&&t.canRun(),v=E=>{n||(n=!0,t.onSuccess?.(E),i?.(),s.resolve(E))},w=E=>{n||(n=!0,t.onError?.(E),i?.(),s.reject(E))},b=()=>new Promise(E=>{i=C=>{(n||h())&&E(C)},t.onPause?.()}).then(()=>{i=void 0,n||t.onContinue?.()}),A=()=>{if(n)return;let E;const C=r===0?t.initialPromise:void 0;try{E=C??t.fn()}catch(R){E=Promise.reject(R)}Promise.resolve(E).then(v).catch(R=>{if(n)return;const I=t.retry??(q1?0:3),P=t.retryDelay??LQ,L=typeof P=="function"?P(r,R):P,T=I===!0||typeof I=="number"&&r<I||typeof I=="function"&&I(r,R);if(e||!T){w(R);return}r++,t.onFail?.(r,R),TQ(L).then(()=>h()?void 0:b()).then(()=>{e?w(R):A()})})};return{promise:s,cancel:a,continue:()=>(i?.(),s),cancelRetry:c,continueRetry:u,canStart:g,start:()=>(g()?A():b().then(A),s)}}var BQ=t=>setTimeout(t,0);function FQ(){let t=[],e=0,r=c=>{c()},n=c=>{c()},i=BQ;const s=c=>{e?t.push(c):i(()=>{r(c)})},a=()=>{const c=t;t=[],c.length&&i(()=>{n(()=>{c.forEach(u=>{r(u)})})})};return{batch:c=>{let u;e++;try{u=c()}finally{e--,e||a()}return u},batchCalls:c=>(...u)=>{s(()=>{c(...u)})},schedule:s,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{i=c}}}var is=FQ(),D7=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),NQ(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(q1?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},UQ=class extends D7{#e;#t;#r;#i;#n;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#r=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=VQ(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const r=kQ(this.state.data,t,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(Va).catch(Va):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>OQ(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Tj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>eA(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!jQ(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(h=>h.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,n=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},i=()=>{const u=k7(this.options,e),g=(()=>{const v={client:this.#i,queryKey:this.queryKey,meta:this.meta};return n(v),v})();return this.#o=!1,this.options.persister?this.options.persister(u,g,this):u(g)},a=(()=>{const u={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return n(u),u})();this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#s({type:"fetch",meta:a.fetchOptions?.meta});const c=u=>{Db(u)&&u.silent||this.#s({type:"error",error:u}),Db(u)||(this.#r.config.onError?.(u,this),this.#r.config.onSettled?.(this.state.data,u,this)),this.scheduleGc()};return this.#n=M7({initialPromise:e?.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{if(u===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(h){c(h);return}this.#r.config.onSuccess?.(u,this),this.#r.config.onSettled?.(u,this.state.error,this),this.scheduleGc()},onError:c,onFail:(u,h)=>{this.#s({type:"failed",failureCount:u,error:h})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#n.start()}#s(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...$Q(r.data,this.options),fetchMeta:t.meta??null};case"success":return this.#t=void 0,{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return Db(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),is.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function $Q(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:I7(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function VQ(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var qQ=class extends V1{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){const n=e.queryKey,i=e.queryHash??Oj(n,e);let s=this.get(i);return s||(s=new UQ({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){is.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>CI(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>CI(t,r)):e}notify(t){is.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){is.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){is.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},WQ=class extends D7{#e;#t;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||zQ(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#i({type:"continue"})};this.#r=M7({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(i,s)=>{this.#i({type:"failed",failureCount:i,error:s})},onPause:()=>{this.#i({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)e();else{this.#i({type:"pending",variables:t,isPaused:n}),await this.#t.config.onMutate?.(t,this);const s=await this.options.onMutate?.(t);s!==this.state.context&&this.#i({type:"pending",context:s,variables:t,isPaused:n})}const i=await this.#r.start();return await this.#t.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#t.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#i({type:"success",data:i}),i}catch(i){try{throw await this.#t.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#t.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#i({type:"error",error:i})}}finally{this.#t.runNext(this)}}#i(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),is.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function zQ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var HQ=class extends V1{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(t,e,r){const n=new WQ({mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#e.add(t);const e=rv(t);if(typeof e=="string"){const r=this.#t.get(e);r?r.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=rv(t);if(typeof e=="string"){const r=this.#t.get(e);if(r)if(r.length>1){const n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=rv(t);if(typeof e=="string"){const n=this.#t.get(e)?.find(i=>i.state.status==="pending");return!n||n===t}else return!0}runNext(t){const e=rv(t);return typeof e=="string"?this.#t.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){is.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(r=>AI(e,r))}findAll(t={}){return this.getAll().filter(e=>AI(t,e))}notify(t){is.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return is.batch(()=>Promise.all(t.map(e=>e.continue().catch(Va))))}};function rv(t){return t.options.scope?.id}function OI(t){return{onFetch:(e,r)=>{const n=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},u=0;const h=async()=>{let g=!1;const v=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},w=k7(e.options,e.fetchOptions),b=async(A,E,C)=>{if(g)return Promise.reject();if(E==null&&A.pages.length)return Promise.resolve(A);const I=(()=>{const D={client:e.client,queryKey:e.queryKey,pageParam:E,direction:C?"backward":"forward",meta:e.options.meta};return v(D),D})(),P=await w(I),{maxPages:L}=e.options,T=C?IQ:PQ;return{pages:T(A.pages,P,L),pageParams:T(A.pageParams,E,L)}};if(i&&s.length){const A=i==="backward",E=A?GQ:TI,C={pages:s,pageParams:a},R=E(n,C);c=await b(C,R,A)}else{const A=t??s.length;do{const E=u===0?a[0]??n.initialPageParam:TI(n,c);if(u>0&&E==null)break;c=await b(c,E),u++}while(u<A)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=h}}}function TI(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function GQ(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var KQ=class{#e;#t;#r;#i;#n;#a;#o;#s;constructor(t={}){this.#e=t.queryCache||new qQ,this.#t=t.mutationCache||new HQ,this.#r=t.defaultOptions||{},this.#i=new Map,this.#n=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=P7.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=ey.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#e.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(eA(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(n.queryHash)?.state.data,a=AQ(e,s);if(a!==void 0)return this.#e.build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return is.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;is.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#e;return is.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=is.batch(()=>this.#e.findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Va).catch(Va)}invalidateQueries(t,e={}){return is.batch(()=>(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=is.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Va)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Va)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(eA(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Va).catch(Va)}fetchInfiniteQuery(t){return t.behavior=OI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Va).catch(Va)}ensureInfiniteQueryData(t){return t.behavior=OI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ey.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#i.set(hm(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],r={};return e.forEach(n=>{pm(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#n.set(hm(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(n=>{pm(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Oj(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Tj&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},YQ=j.createContext(void 0),XQ=({client:t,children:e})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(YQ.Provider,{value:t,children:e}));function mm(){return mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mm.apply(this,arguments)}var dc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(dc||(dc={}));const kI="popstate";function ZQ(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:c}=n.location;return rA("",{pathname:s,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:B7(i)}return JQ(e,r,null,t)}function ti(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function L7(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QQ(){return Math.random().toString(36).substr(2,8)}function PI(t,e){return{usr:t.state,key:t.key,idx:e}}function rA(t,e,r,n){return r===void 0&&(r=null),mm({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Eh(e):e,{state:r,key:e&&e.key||n||QQ()})}function B7(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Eh(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function JQ(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,c=dc.Pop,u=null,h=g();h==null&&(h=0,a.replaceState(mm({},a.state,{idx:h}),""));function g(){return(a.state||{idx:null}).idx}function v(){c=dc.Pop;let C=g(),R=C==null?null:C-h;h=C,u&&u({action:c,location:E.location,delta:R})}function w(C,R){c=dc.Push;let I=rA(E.location,C,R);h=g()+1;let P=PI(I,h),L=E.createHref(I);try{a.pushState(P,"",L)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(L)}s&&u&&u({action:c,location:E.location,delta:1})}function b(C,R){c=dc.Replace;let I=rA(E.location,C,R);h=g();let P=PI(I,h),L=E.createHref(I);a.replaceState(P,"",L),s&&u&&u({action:c,location:E.location,delta:0})}function A(C){let R=i.location.origin!=="null"?i.location.origin:i.location.href,I=typeof C=="string"?C:B7(C);return I=I.replace(/ $/,"%20"),ti(R,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,R)}let E={get action(){return c},get location(){return t(i,a)},listen(C){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(kI,v),u=C,()=>{i.removeEventListener(kI,v),u=null}},createHref(C){return e(i,C)},createURL:A,encodeLocation(C){let R=A(C);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:w,replace:b,go(C){return a.go(C)}};return E}var II;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(II||(II={}));function eJ(t,e,r){return r===void 0&&(r="/"),tJ(t,e,r)}function tJ(t,e,r,n){let i=typeof e=="string"?Eh(e):e,s=$7(i.pathname||"/",r);if(s==null)return null;let a=F7(t);rJ(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let h=pJ(s);c=dJ(a[u],h)}return c}function F7(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,c)=>{let u={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(ti(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let h=Uu([n,u.relativePath]),g=r.concat(u);s.children&&s.children.length>0&&(ti(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),F7(s.children,e,g,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:cJ(h,s.index),routesMeta:g})};return t.forEach((s,a)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,a);else for(let u of U7(s.path))i(s,a,u)}),e}function U7(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=U7(n.join("/")),c=[];return c.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&c.push(...a),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function rJ(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:uJ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const nJ=/^:[\w-]+$/,iJ=3,sJ=2,aJ=1,oJ=10,lJ=-2,RI=t=>t==="*";function cJ(t,e){let r=t.split("/"),n=r.length;return r.some(RI)&&(n+=lJ),e&&(n+=sJ),r.filter(i=>!RI(i)).reduce((i,s)=>i+(nJ.test(s)?iJ:s===""?aJ:oJ),n)}function uJ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function dJ(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let c=0;c<n.length;++c){let u=n[c],h=c===n.length-1,g=s==="/"?e:e.slice(s.length)||"/",v=fJ({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},g),w=u.route;if(!v)return null;Object.assign(i,v.params),a.push({params:i,pathname:Uu([s,v.pathname]),pathnameBase:yJ(Uu([s,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(s=Uu([s,v.pathnameBase]))}return a}function fJ(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=hJ(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((h,g,v)=>{let{paramName:w,isOptional:b}=g;if(w==="*"){let E=c[v]||"";a=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const A=c[v];return b&&!A?h[w]=void 0:h[w]=(A||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:a,pattern:t}}function hJ(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),L7(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(n.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function pJ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return L7(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $7(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function mJ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Eh(t):t;return{pathname:r?r.startsWith("/")?r:gJ(r,e):e,search:xJ(n),hash:wJ(i)}}function gJ(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Lb(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vJ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function V7(t,e){let r=vJ(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function q7(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Eh(t):(i=mm({},t),ti(!i.pathname||!i.pathname.includes("?"),Lb("?","pathname","search",i)),ti(!i.pathname||!i.pathname.includes("#"),Lb("#","pathname","hash",i)),ti(!i.search||!i.search.includes("#"),Lb("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,c;if(a==null)c=r;else{let v=e.length-1;if(!n&&a.startsWith("..")){let w=a.split("/");for(;w[0]==="..";)w.shift(),v-=1;i.pathname=w.join("/")}c=v>=0?e[v]:"/"}let u=mJ(i,c),h=a&&a!=="/"&&a.endsWith("/"),g=(s||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(h||g)&&(u.pathname+="/"),u}const Uu=t=>t.join("/").replace(/\/\/+/g,"/"),yJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function bJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const W7=["post","put","patch","delete"];new Set(W7);const _J=["get",...W7];new Set(_J);function gm(){return gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gm.apply(this,arguments)}const kj=j.createContext(null),SJ=j.createContext(null),vg=j.createContext(null),W1=j.createContext(null),dd=j.createContext({outlet:null,matches:[],isDataRoute:!1}),z7=j.createContext(null);function yg(){return j.useContext(W1)!=null}function jo(){return yg()||ti(!1),j.useContext(W1).location}function H7(t){j.useContext(vg).static||j.useLayoutEffect(t)}function ii(){let{isDataRoute:t}=j.useContext(dd);return t?DJ():EJ()}function EJ(){yg()||ti(!1);let t=j.useContext(kj),{basename:e,future:r,navigator:n}=j.useContext(vg),{matches:i}=j.useContext(dd),{pathname:s}=jo(),a=JSON.stringify(V7(i,r.v7_relativeSplatPath)),c=j.useRef(!1);return H7(()=>{c.current=!0}),j.useCallback(function(h,g){if(g===void 0&&(g={}),!c.current)return;if(typeof h=="number"){n.go(h);return}let v=q7(h,JSON.parse(a),s,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Uu([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,a,s,t])}function CJ(t,e){return AJ(t,e)}function AJ(t,e,r,n){yg()||ti(!1);let{navigator:i}=j.useContext(vg),{matches:s}=j.useContext(dd),a=s[s.length-1],c=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let h=jo(),g;if(e){var v;let C=typeof e=="string"?Eh(e):e;u==="/"||(v=C.pathname)!=null&&v.startsWith(u)||ti(!1),g=C}else g=h;let w=g.pathname||"/",b=w;if(u!=="/"){let C=u.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(C.length).join("/")}let A=eJ(t,{pathname:b}),E=kJ(A&&A.map(C=>Object.assign({},C,{params:Object.assign({},c,C.params),pathname:Uu([u,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?u:Uu([u,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,r,n);return e&&E?j.createElement(W1.Provider,{value:{location:gm({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:dc.Pop}},E):E}function NJ(){let t=MJ(),e=bJ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),r?j.createElement("pre",{style:i},r):null,null)}const jJ=j.createElement(NJ,null);class OJ extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?j.createElement(dd.Provider,{value:this.props.routeContext},j.createElement(z7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TJ(t){let{routeContext:e,match:r,children:n}=t,i=j.useContext(kj);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(dd.Provider,{value:e},n)}function kJ(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,c=(i=r)==null?void 0:i.errors;if(c!=null){let g=a.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);g>=0||ti(!1),a=a.slice(0,Math.min(a.length,g+1))}let u=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let g=0;g<a.length;g++){let v=a[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=g),v.route.id){let{loaderData:w,errors:b}=r,A=v.route.loader&&w[v.route.id]===void 0&&(!b||b[v.route.id]===void 0);if(v.route.lazy||A){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((g,v,w)=>{let b,A=!1,E=null,C=null;r&&(b=c&&v.route.id?c[v.route.id]:void 0,E=v.route.errorElement||jJ,u&&(h<0&&w===0?(LJ("route-fallback"),A=!0,C=null):h===w&&(A=!0,C=v.route.hydrateFallbackElement||null)));let R=e.concat(a.slice(0,w+1)),I=()=>{let P;return b?P=E:A?P=C:v.route.Component?P=j.createElement(v.route.Component,null):v.route.element?P=v.route.element:P=g,j.createElement(TJ,{match:v,routeContext:{outlet:g,matches:R,isDataRoute:r!=null},children:P})};return r&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?j.createElement(OJ,{location:r.location,revalidation:r.revalidation,component:E,error:b,children:I(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):I()},null)}var G7=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(G7||{}),K7=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(K7||{});function PJ(t){let e=j.useContext(kj);return e||ti(!1),e}function IJ(t){let e=j.useContext(SJ);return e||ti(!1),e}function RJ(t){let e=j.useContext(dd);return e||ti(!1),e}function Y7(t){let e=RJ(),r=e.matches[e.matches.length-1];return r.route.id||ti(!1),r.route.id}function MJ(){var t;let e=j.useContext(z7),r=IJ(),n=Y7();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function DJ(){let{router:t}=PJ(G7.UseNavigateStable),e=Y7(K7.UseNavigateStable),r=j.useRef(!1);return H7(()=>{r.current=!0}),j.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,gm({fromRouteId:e},s)))},[t,e])}const MI={};function LJ(t,e,r){MI[t]||(MI[t]=!0)}function BJ(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function FJ(t){let{to:e,replace:r,state:n,relative:i}=t;yg()||ti(!1);let{future:s,static:a}=j.useContext(vg),{matches:c}=j.useContext(dd),{pathname:u}=jo(),h=ii(),g=q7(e,V7(c,s.v7_relativeSplatPath),u,i==="path"),v=JSON.stringify(g);return j.useEffect(()=>h(JSON.parse(v),{replace:r,state:n,relative:i}),[h,v,i,r,n]),null}function wn(t){ti(!1)}function UJ(t){let{basename:e="/",children:r=null,location:n,navigationType:i=dc.Pop,navigator:s,static:a=!1,future:c}=t;yg()&&ti(!1);let u=e.replace(/^\/*/,"/"),h=j.useMemo(()=>({basename:u,navigator:s,static:a,future:gm({v7_relativeSplatPath:!1},c)}),[u,c,s,a]);typeof n=="string"&&(n=Eh(n));let{pathname:g="/",search:v="",hash:w="",state:b=null,key:A="default"}=n,E=j.useMemo(()=>{let C=$7(g,u);return C==null?null:{location:{pathname:C,search:v,hash:w,state:b,key:A},navigationType:i}},[u,g,v,w,b,A,i]);return E==null?null:j.createElement(vg.Provider,{value:h},j.createElement(W1.Provider,{children:r,value:E}))}function $J(t){let{children:e,location:r}=t;return CJ(nA(e),r)}new Promise(()=>{});function nA(t,e){e===void 0&&(e=[]);let r=[];return j.Children.forEach(t,(n,i)=>{if(!j.isValidElement(n))return;let s=[...e,i];if(n.type===j.Fragment){r.push.apply(r,nA(n.props.children,s));return}n.type!==wn&&ti(!1),!n.props.index||!n.props.children||ti(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=nA(n.props.children,s)),r.push(a)}),r}const VJ="6";try{window.__reactRouterVersion=VJ}catch{}const qJ="startTransition",DI=oj[qJ];function WJ(t){let{basename:e,children:r,future:n,window:i}=t,s=j.useRef();s.current==null&&(s.current=ZQ({window:i,v5Compat:!0}));let a=s.current,[c,u]=j.useState({action:a.action,location:a.location}),{v7_startTransition:h}=n||{},g=j.useCallback(v=>{h&&DI?DI(()=>u(v)):u(v)},[u,h]);return j.useLayoutEffect(()=>a.listen(g),[a,g]),j.useEffect(()=>BJ(n),[n]),j.createElement(UJ,{basename:e,children:r,location:c.location,navigationType:c.action,navigator:a,future:n})}var LI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(LI||(LI={}));var BI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(BI||(BI={}));const vm=ud("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-lg hover:shadow-xl transition-all",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border-2 border-primary text-primary bg-transparent hover:bg-primary hover:text-primary-foreground transition-all",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-primary text-primary-foreground hover:bg-primary-glow shadow-[0_0_30px_rgba(255,68,68,0.4)] hover:shadow-[0_0_50px_rgba(255,68,68,0.6)] transition-all text-base font-semibold",cosmic:"bg-gradient-to-r from-primary to-mars-orange text-primary-foreground hover:opacity-90 shadow-lg hover:shadow-xl transition-all"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Te=j.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},s)=>{const a=n?ld:"button";return o.jsx(a,{className:De(vm({variant:e,size:r,className:t})),ref:s,...i})});Te.displayName="Button";var Bb={exports:{}},Fb={};var FI;function zJ(){if(FI)return Fb;FI=1;var t=N1();function e(v,w){return v===w&&(v!==0||1/v===1/w)||v!==v&&w!==w}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function c(v,w){var b=w(),A=n({inst:{value:b,getSnapshot:w}}),E=A[0].inst,C=A[1];return s(function(){E.value=b,E.getSnapshot=w,u(E)&&C({inst:E})},[v,b,w]),i(function(){return u(E)&&C({inst:E}),v(function(){u(E)&&C({inst:E})})},[v]),a(b),b}function u(v){var w=v.getSnapshot;v=v.value;try{var b=w();return!r(v,b)}catch{return!0}}function h(v,w){return w()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return Fb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,Fb}var UI;function HJ(){return UI||(UI=1,Bb.exports=zJ()),Bb.exports}var GJ=HJ();function KJ(){return GJ.useSyncExternalStore(YJ,()=>!0,()=>!1)}function YJ(){return()=>{}}var Pj="Avatar",[XJ]=Ji(Pj),[ZJ,X7]=XJ(Pj),Z7=j.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,s]=j.useState("idle");return o.jsx(ZJ,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:o.jsx(Tt.span,{...n,ref:e})})});Z7.displayName=Pj;var Q7="AvatarImage",J7=j.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...s}=t,a=X7(Q7,r),c=QJ(n,s),u=ls(h=>{i(h),a.onImageLoadingStatusChange(h)});return ni(()=>{c!=="idle"&&u(c)},[c,u]),c==="loaded"?o.jsx(Tt.img,{...s,ref:e,src:n}):null});J7.displayName=Q7;var e9="AvatarFallback",t9=j.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,s=X7(e9,r),[a,c]=j.useState(n===void 0);return j.useEffect(()=>{if(n!==void 0){const u=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(u)}},[n]),a&&s.imageLoadingStatus!=="loaded"?o.jsx(Tt.span,{...i,ref:e}):null});t9.displayName=e9;function $I(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function QJ(t,{referrerPolicy:e,crossOrigin:r}){const n=KJ(),i=j.useRef(null),s=n?(i.current||(i.current=new window.Image),i.current):null,[a,c]=j.useState(()=>$I(s,t));return ni(()=>{c($I(s,t))},[s,t]),ni(()=>{const u=v=>()=>{c(v)};if(!s)return;const h=u("loaded"),g=u("error");return s.addEventListener("load",h),s.addEventListener("error",g),e&&(s.referrerPolicy=e),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",h),s.removeEventListener("error",g)}},[s,r,e]),a}var r9=Z7,n9=J7,i9=t9;const Ij=j.forwardRef(({className:t,...e},r)=>o.jsx(r9,{ref:r,className:De("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Ij.displayName=r9.displayName;const Rj=j.forwardRef(({className:t,...e},r)=>o.jsx(n9,{ref:r,className:De("aspect-square h-full w-full",t),...e}));Rj.displayName=n9.displayName;const Mj=j.forwardRef(({className:t,...e},r)=>o.jsx(i9,{ref:r,className:De("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Mj.displayName=i9.displayName;var JJ=j.createContext(void 0);function z1(t){const e=j.useContext(JJ);return t||e||"ltr"}var Ub=0;function H1(){j.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??VI()),document.body.insertAdjacentElement("beforeend",t[1]??VI()),Ub++,()=>{Ub===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ub--}},[])}function VI(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var $b="focusScope.autoFocusOnMount",Vb="focusScope.autoFocusOnUnmount",qI={bubbles:!1,cancelable:!0},eee="FocusScope",xg=j.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[c,u]=j.useState(null),h=ls(i),g=ls(s),v=j.useRef(null),w=br(e,E=>u(E)),b=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(n){let E=function(P){if(b.paused||!c)return;const L=P.target;c.contains(L)?v.current=L:nc(v.current,{select:!0})},C=function(P){if(b.paused||!c)return;const L=P.relatedTarget;L!==null&&(c.contains(L)||nc(v.current,{select:!0}))},R=function(P){if(document.activeElement===document.body)for(const T of P)T.removedNodes.length>0&&nc(c)};document.addEventListener("focusin",E),document.addEventListener("focusout",C);const I=new MutationObserver(R);return c&&I.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",C),I.disconnect()}}},[n,c,b.paused]),j.useEffect(()=>{if(c){zI.add(b);const E=document.activeElement;if(!c.contains(E)){const R=new CustomEvent($b,qI);c.addEventListener($b,h),c.dispatchEvent(R),R.defaultPrevented||(tee(aee(s9(c)),{select:!0}),document.activeElement===E&&nc(c))}return()=>{c.removeEventListener($b,h),setTimeout(()=>{const R=new CustomEvent(Vb,qI);c.addEventListener(Vb,g),c.dispatchEvent(R),R.defaultPrevented||nc(E??document.body,{select:!0}),c.removeEventListener(Vb,g),zI.remove(b)},0)}}},[c,h,g,b]);const A=j.useCallback(E=>{if(!r&&!n||b.paused)return;const C=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,R=document.activeElement;if(C&&R){const I=E.currentTarget,[P,L]=ree(I);P&&L?!E.shiftKey&&R===L?(E.preventDefault(),r&&nc(P,{select:!0})):E.shiftKey&&R===P&&(E.preventDefault(),r&&nc(L,{select:!0})):R===I&&E.preventDefault()}},[r,n,b.paused]);return o.jsx(Tt.div,{tabIndex:-1,...a,ref:w,onKeyDown:A})});xg.displayName=eee;function tee(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(nc(n,{select:e}),document.activeElement!==r)return}function ree(t){const e=s9(t),r=WI(e,t),n=WI(e.reverse(),t);return[r,n]}function s9(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function WI(t,e){for(const r of t)if(!nee(r,{upTo:e}))return r}function nee(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function iee(t){return t instanceof HTMLInputElement&&"select"in t}function nc(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&iee(t)&&e&&t.select()}}var zI=see();function see(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=HI(t,e),t.unshift(e)},remove(e){t=HI(t,e),t[0]?.resume()}}}function HI(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function aee(t){return t.filter(e=>e.tagName!=="A")}var qb="rovingFocusGroup.onEntryFocus",oee={bubbles:!1,cancelable:!0},wg="RovingFocusGroup",[iA,a9,lee]=O1(wg),[cee,G1]=Ji(wg,[lee]),[uee,dee]=cee(wg),o9=j.forwardRef((t,e)=>o.jsx(iA.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(iA.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(fee,{...t,ref:e})})}));o9.displayName=wg;var fee=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:h,preventScrollOnEntryFocus:g=!1,...v}=t,w=j.useRef(null),b=br(e,w),A=z1(s),[E,C]=Za({prop:a,defaultProp:c??null,onChange:u,caller:wg}),[R,I]=j.useState(!1),P=ls(h),L=a9(r),T=j.useRef(!1),[D,M]=j.useState(0);return j.useEffect(()=>{const $=w.current;if($)return $.addEventListener(qb,P),()=>$.removeEventListener(qb,P)},[P]),o.jsx(uee,{scope:r,orientation:n,dir:A,loop:i,currentTabStopId:E,onItemFocus:j.useCallback($=>C($),[C]),onItemShiftTab:j.useCallback(()=>I(!0),[]),onFocusableItemAdd:j.useCallback(()=>M($=>$+1),[]),onFocusableItemRemove:j.useCallback(()=>M($=>$-1),[]),children:o.jsx(Tt.div,{tabIndex:R||D===0?-1:0,"data-orientation":n,...v,ref:b,style:{outline:"none",...t.style},onMouseDown:ot(t.onMouseDown,()=>{T.current=!0}),onFocus:ot(t.onFocus,$=>{const V=!T.current;if($.target===$.currentTarget&&V&&!R){const K=new CustomEvent(qb,oee);if($.currentTarget.dispatchEvent(K),!K.defaultPrevented){const H=L().filter(J=>J.focusable),z=H.find(J=>J.active),Z=H.find(J=>J.id===E),G=[z,Z,...H].filter(Boolean).map(J=>J.ref.current);u9(G,g)}}T.current=!1}),onBlur:ot(t.onBlur,()=>I(!1))})})}),l9="RovingFocusGroupItem",c9=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:a,...c}=t,u=_a(),h=s||u,g=dee(l9,r),v=g.currentTabStopId===h,w=a9(r),{onFocusableItemAdd:b,onFocusableItemRemove:A,currentTabStopId:E}=g;return j.useEffect(()=>{if(n)return b(),()=>A()},[n,b,A]),o.jsx(iA.ItemSlot,{scope:r,id:h,focusable:n,active:i,children:o.jsx(Tt.span,{tabIndex:v?0:-1,"data-orientation":g.orientation,...c,ref:e,onMouseDown:ot(t.onMouseDown,C=>{n?g.onItemFocus(h):C.preventDefault()}),onFocus:ot(t.onFocus,()=>g.onItemFocus(h)),onKeyDown:ot(t.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){g.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const R=mee(C,g.orientation,g.dir);if(R!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let P=w().filter(L=>L.focusable).map(L=>L.ref.current);if(R==="last")P.reverse();else if(R==="prev"||R==="next"){R==="prev"&&P.reverse();const L=P.indexOf(C.currentTarget);P=g.loop?gee(P,L+1):P.slice(L+1)}setTimeout(()=>u9(P))}}),children:typeof a=="function"?a({isCurrentTabStop:v,hasTabStop:E!=null}):a})})});c9.displayName=l9;var hee={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function pee(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function mee(t,e,r){const n=pee(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return hee[n]}function u9(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function gee(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var d9=o9,f9=c9,vee=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Gd=new WeakMap,nv=new WeakMap,iv={},Wb=0,h9=function(t){return t&&(t.host||h9(t.parentNode))},yee=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=h9(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},xee=function(t,e,r,n){var i=yee(e,Array.isArray(t)?t:[t]);iv[r]||(iv[r]=new WeakMap);var s=iv[r],a=[],c=new Set,u=new Set(i),h=function(v){!v||c.has(v)||(c.add(v),h(v.parentNode))};i.forEach(h);var g=function(v){!v||u.has(v)||Array.prototype.forEach.call(v.children,function(w){if(c.has(w))g(w);else try{var b=w.getAttribute(n),A=b!==null&&b!=="false",E=(Gd.get(w)||0)+1,C=(s.get(w)||0)+1;Gd.set(w,E),s.set(w,C),a.push(w),E===1&&A&&nv.set(w,!0),C===1&&w.setAttribute(r,"true"),A||w.setAttribute(n,"true")}catch(R){console.error("aria-hidden: cannot operate on ",w,R)}})};return g(e),c.clear(),Wb++,function(){a.forEach(function(v){var w=Gd.get(v)-1,b=s.get(v)-1;Gd.set(v,w),s.set(v,b),w||(nv.has(v)||v.removeAttribute(n),nv.delete(v)),b||v.removeAttribute(r)}),Wb--,Wb||(Gd=new WeakMap,Gd=new WeakMap,nv=new WeakMap,iv={})}},K1=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=vee(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),xee(n,i,r,"aria-hidden")):function(){return null}},sA=function(t,e){return sA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},sA(t,e)};function p9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");sA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var va=function(){return va=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},va.apply(this,arguments)};function Dc(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function m9(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(s=(i<3?a(s):i>3?a(e,r,s):a(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function g9(t,e){return function(r,n){e(r,n,t)}}function v9(t,e,r,n,i,s){function a(R){if(R!==void 0&&typeof R!="function")throw new TypeError("Function expected");return R}for(var c=n.kind,u=c==="getter"?"get":c==="setter"?"set":"value",h=!e&&t?n.static?t:t.prototype:null,g=e||(h?Object.getOwnPropertyDescriptor(h,n.name):{}),v,w=!1,b=r.length-1;b>=0;b--){var A={};for(var E in n)A[E]=E==="access"?{}:n[E];for(var E in n.access)A.access[E]=n.access[E];A.addInitializer=function(R){if(w)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(R||null))};var C=(0,r[b])(c==="accessor"?{get:g.get,set:g.set}:g[u],A);if(c==="accessor"){if(C===void 0)continue;if(C===null||typeof C!="object")throw new TypeError("Object expected");(v=a(C.get))&&(g.get=v),(v=a(C.set))&&(g.set=v),(v=a(C.init))&&i.unshift(v)}else(v=a(C))&&(c==="field"?i.unshift(v):g[u]=v)}h&&Object.defineProperty(h,n.name,g),w=!0}function y9(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function x9(t){return typeof t=="symbol"?t:"".concat(t)}function w9(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function b9(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function jt(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(g){try{h(n.next(g))}catch(v){a(v)}}function u(g){try{h(n.throw(g))}catch(v){a(v)}}function h(g){g.done?s(g.value):i(g.value).then(c,u)}h((n=n.apply(t,e||[])).next())})}function _9(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(h){return function(g){return u([h,g])}}function u(h){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(g){h=[6,g],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var Y1=Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]});function S9(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Y1(e,t,r)}function ty(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dj(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(c){a={error:c}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return s}function E9(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Dj(arguments[e]));return t}function C9(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],a=0,c=s.length;a<c;a++,i++)n[i]=s[a];return n}function Lj(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function Rf(t){return this instanceof Rf?(this.v=t,this):new Rf(t)}function A9(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(b){return function(A){return Promise.resolve(A).then(b,v)}}function c(b,A){n[b]&&(i[b]=function(E){return new Promise(function(C,R){s.push([b,E,C,R])>1||u(b,E)})},A&&(i[b]=A(i[b])))}function u(b,A){try{h(n[b](A))}catch(E){w(s[0][3],E)}}function h(b){b.value instanceof Rf?Promise.resolve(b.value.v).then(g,v):w(s[0][2],b)}function g(b){u("next",b)}function v(b){u("throw",b)}function w(b,A){b(A),s.shift(),s.length&&u(s[0][0],s[0][1])}}function N9(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(a){return(r=!r)?{value:Rf(t[i](a)),done:!1}:s?s(a):a}:s}}function j9(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof ty=="function"?ty(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(a){return new Promise(function(c,u){a=t[s](a),i(c,u,a.done,a.value)})}}function i(s,a,c,u){Promise.resolve(u).then(function(h){s({value:h,done:c})},a)}}function O9(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var wee=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},aA=function(t){return aA=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},aA(t)};function T9(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=aA(t),n=0;n<r.length;n++)r[n]!=="default"&&Y1(e,t,r[n]);return wee(e,t),e}function k9(t){return t&&t.__esModule?t:{default:t}}function P9(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function I9(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function R9(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function M9(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var bee=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function D9(t){function e(s){t.error=t.hasError?new bee(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(a){return e(a),i()})}else n|=1}catch(a){e(a)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function L9(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,a){return n?e?".jsx":".js":i&&(!s||!a)?r:i+s+"."+a.toLowerCase()+"js"}):t}const _ee={__extends:p9,__assign:va,__rest:Dc,__decorate:m9,__param:g9,__esDecorate:v9,__runInitializers:y9,__propKey:x9,__setFunctionName:w9,__metadata:b9,__awaiter:jt,__generator:_9,__createBinding:Y1,__exportStar:S9,__values:ty,__read:Dj,__spread:E9,__spreadArrays:C9,__spreadArray:Lj,__await:Rf,__asyncGenerator:A9,__asyncDelegator:N9,__asyncValues:j9,__makeTemplateObject:O9,__importStar:T9,__importDefault:k9,__classPrivateFieldGet:P9,__classPrivateFieldSet:I9,__classPrivateFieldIn:R9,__addDisposableResource:M9,__disposeResources:D9,__rewriteRelativeImportExtension:L9},See=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:M9,get __assign(){return va},__asyncDelegator:N9,__asyncGenerator:A9,__asyncValues:j9,__await:Rf,__awaiter:jt,__classPrivateFieldGet:P9,__classPrivateFieldIn:R9,__classPrivateFieldSet:I9,__createBinding:Y1,__decorate:m9,__disposeResources:D9,__esDecorate:v9,__exportStar:S9,__extends:p9,__generator:_9,__importDefault:k9,__importStar:T9,__makeTemplateObject:O9,__metadata:b9,__param:g9,__propKey:x9,__read:Dj,__rest:Dc,__rewriteRelativeImportExtension:L9,__runInitializers:y9,__setFunctionName:w9,__spread:E9,__spreadArray:Lj,__spreadArrays:C9,__values:ty,default:_ee},Symbol.toStringTag,{value:"Module"}));var Dv="right-scroll-bar-position",Lv="width-before-scroll-bar",Eee="with-scroll-bars-hidden",Cee="--removed-body-scroll-bar-size";function zb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Aee(t,e){var r=j.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var Nee=typeof window<"u"?j.useLayoutEffect:j.useEffect,GI=new WeakMap;function jee(t,e){var r=Aee(null,function(n){return t.forEach(function(i){return zb(i,n)})});return Nee(function(){var n=GI.get(r);if(n){var i=new Set(n),s=new Set(t),a=r.current;i.forEach(function(c){s.has(c)||zb(c,null)}),s.forEach(function(c){i.has(c)||zb(c,a)})}GI.set(r,t)},[t]),r}function Oee(t){return t}function Tee(t,e){e===void 0&&(e=Oee);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var a=e(s,n);return r.push(a),function(){r=r.filter(function(c){return c!==a})}},assignSyncMedium:function(s){for(n=!0;r.length;){var a=r;r=[],a.forEach(s)}r={push:function(c){return s(c)},filter:function(){return r}}},assignMedium:function(s){n=!0;var a=[];if(r.length){var c=r;r=[],c.forEach(s),a=r}var u=function(){var g=a;a=[],g.forEach(s)},h=function(){return Promise.resolve().then(u)};h(),r={push:function(g){a.push(g),h()},filter:function(g){return a=a.filter(g),r}}}};return i}function kee(t){t===void 0&&(t={});var e=Tee(null);return e.options=va({async:!0,ssr:!1},t),e}var B9=function(t){var e=t.sideCar,r=Dc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return j.createElement(n,va({},r))};B9.isSideCarExport=!0;function Pee(t,e){return t.useMedium(e),B9}var F9=kee(),Hb=function(){},X1=j.forwardRef(function(t,e){var r=j.useRef(null),n=j.useState({onScrollCapture:Hb,onWheelCapture:Hb,onTouchMoveCapture:Hb}),i=n[0],s=n[1],a=t.forwardProps,c=t.children,u=t.className,h=t.removeScrollBar,g=t.enabled,v=t.shards,w=t.sideCar,b=t.noRelative,A=t.noIsolation,E=t.inert,C=t.allowPinchZoom,R=t.as,I=R===void 0?"div":R,P=t.gapMode,L=Dc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=w,D=jee([r,e]),M=va(va({},L),i);return j.createElement(j.Fragment,null,g&&j.createElement(T,{sideCar:F9,removeScrollBar:h,shards:v,noRelative:b,noIsolation:A,inert:E,setCallbacks:s,allowPinchZoom:!!C,lockRef:r,gapMode:P}),a?j.cloneElement(j.Children.only(c),va(va({},M),{ref:D})):j.createElement(I,va({},M,{className:u,ref:D}),c))});X1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};X1.classNames={fullWidth:Lv,zeroRight:Dv};var Iee=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ree(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Iee();return e&&t.setAttribute("nonce",e),t}function Mee(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Dee(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Lee=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Ree())&&(Mee(e,r),Dee(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Bee=function(){var t=Lee();return function(e,r){j.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},U9=function(){var t=Bee(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},Fee={left:0,top:0,right:0,gap:0},Gb=function(t){return parseInt(t||"",10)||0},Uee=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Gb(r),Gb(n),Gb(i)]},$ee=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Fee;var e=Uee(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},Vee=U9(),Ef="data-scroll-locked",qee=function(t,e,r,n){var i=t.left,s=t.top,a=t.right,c=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Eee,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(Ef,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Dv,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Lv,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Dv," .").concat(Dv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Lv," .").concat(Lv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ef,`] {
    `).concat(Cee,": ").concat(c,`px;
  }
`)},KI=function(){var t=parseInt(document.body.getAttribute(Ef)||"0",10);return isFinite(t)?t:0},Wee=function(){j.useEffect(function(){return document.body.setAttribute(Ef,(KI()+1).toString()),function(){var t=KI()-1;t<=0?document.body.removeAttribute(Ef):document.body.setAttribute(Ef,t.toString())}},[])},zee=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;Wee();var s=j.useMemo(function(){return $ee(i)},[i]);return j.createElement(Vee,{styles:qee(s,!e,i,r?"":"!important")})},oA=!1;if(typeof window<"u")try{var sv=Object.defineProperty({},"passive",{get:function(){return oA=!0,!0}});window.addEventListener("test",sv,sv),window.removeEventListener("test",sv,sv)}catch{oA=!1}var Kd=oA?{passive:!1}:!1,Hee=function(t){return t.tagName==="TEXTAREA"},$9=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Hee(t)&&r[e]==="visible")},Gee=function(t){return $9(t,"overflowY")},Kee=function(t){return $9(t,"overflowX")},YI=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=V9(t,n);if(i){var s=q9(t,n),a=s[1],c=s[2];if(a>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Yee=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Xee=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},V9=function(t,e){return t==="v"?Gee(e):Kee(e)},q9=function(t,e){return t==="v"?Yee(e):Xee(e)},Zee=function(t,e){return t==="h"&&e==="rtl"?-1:1},Qee=function(t,e,r,n,i){var s=Zee(t,window.getComputedStyle(e).direction),a=s*n,c=r.target,u=e.contains(c),h=!1,g=a>0,v=0,w=0;do{if(!c)break;var b=q9(t,c),A=b[0],E=b[1],C=b[2],R=E-C-s*A;(A||R)&&V9(t,c)&&(v+=R,w+=A);var I=c.parentNode;c=I&&I.nodeType===Node.DOCUMENT_FRAGMENT_NODE?I.host:I}while(!u&&c!==document.body||u&&(e.contains(c)||e===c));return(g&&Math.abs(v)<1||!g&&Math.abs(w)<1)&&(h=!0),h},av=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},XI=function(t){return[t.deltaX,t.deltaY]},ZI=function(t){return t&&"current"in t?t.current:t},Jee=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ete=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},tte=0,Yd=[];function rte(t){var e=j.useRef([]),r=j.useRef([0,0]),n=j.useRef(),i=j.useState(tte++)[0],s=j.useState(U9)[0],a=j.useRef(t);j.useEffect(function(){a.current=t},[t]),j.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var E=Lj([t.lockRef.current],(t.shards||[]).map(ZI),!0).filter(Boolean);return E.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),E.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var c=j.useCallback(function(E,C){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!a.current.allowPinchZoom;var R=av(E),I=r.current,P="deltaX"in E?E.deltaX:I[0]-R[0],L="deltaY"in E?E.deltaY:I[1]-R[1],T,D=E.target,M=Math.abs(P)>Math.abs(L)?"h":"v";if("touches"in E&&M==="h"&&D.type==="range")return!1;var $=YI(M,D);if(!$)return!0;if($?T=M:(T=M==="v"?"h":"v",$=YI(M,D)),!$)return!1;if(!n.current&&"changedTouches"in E&&(P||L)&&(n.current=T),!T)return!0;var V=n.current||T;return Qee(V,C,E,V==="h"?P:L)},[]),u=j.useCallback(function(E){var C=E;if(!(!Yd.length||Yd[Yd.length-1]!==s)){var R="deltaY"in C?XI(C):av(C),I=e.current.filter(function(T){return T.name===C.type&&(T.target===C.target||C.target===T.shadowParent)&&Jee(T.delta,R)})[0];if(I&&I.should){C.cancelable&&C.preventDefault();return}if(!I){var P=(a.current.shards||[]).map(ZI).filter(Boolean).filter(function(T){return T.contains(C.target)}),L=P.length>0?c(C,P[0]):!a.current.noIsolation;L&&C.cancelable&&C.preventDefault()}}},[]),h=j.useCallback(function(E,C,R,I){var P={name:E,delta:C,target:R,should:I,shadowParent:nte(R)};e.current.push(P),setTimeout(function(){e.current=e.current.filter(function(L){return L!==P})},1)},[]),g=j.useCallback(function(E){r.current=av(E),n.current=void 0},[]),v=j.useCallback(function(E){h(E.type,XI(E),E.target,c(E,t.lockRef.current))},[]),w=j.useCallback(function(E){h(E.type,av(E),E.target,c(E,t.lockRef.current))},[]);j.useEffect(function(){return Yd.push(s),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:w}),document.addEventListener("wheel",u,Kd),document.addEventListener("touchmove",u,Kd),document.addEventListener("touchstart",g,Kd),function(){Yd=Yd.filter(function(E){return E!==s}),document.removeEventListener("wheel",u,Kd),document.removeEventListener("touchmove",u,Kd),document.removeEventListener("touchstart",g,Kd)}},[]);var b=t.removeScrollBar,A=t.inert;return j.createElement(j.Fragment,null,A?j.createElement(s,{styles:ete(i)}):null,b?j.createElement(zee,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function nte(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const ite=Pee(F9,rte);var bg=j.forwardRef(function(t,e){return j.createElement(X1,va({},t,{ref:e,sideCar:ite}))});bg.classNames=X1.classNames;var lA=["Enter"," "],ste=["ArrowDown","PageUp","Home"],W9=["ArrowUp","PageDown","End"],ate=[...ste,...W9],ote={ltr:[...lA,"ArrowRight"],rtl:[...lA,"ArrowLeft"]},lte={ltr:["ArrowLeft"],rtl:["ArrowRight"]},_g="Menu",[ym,cte,ute]=O1(_g),[fd,z9]=Ji(_g,[ute,Mc,G1]),Z1=Mc(),H9=G1(),[dte,hd]=fd(_g),[fte,Sg]=fd(_g),G9=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:s,modal:a=!0}=t,c=Z1(e),[u,h]=j.useState(null),g=j.useRef(!1),v=ls(s),w=z1(i);return j.useEffect(()=>{const b=()=>{g.current=!0,document.addEventListener("pointerdown",A,{capture:!0,once:!0}),document.addEventListener("pointermove",A,{capture:!0,once:!0})},A=()=>g.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",A,{capture:!0}),document.removeEventListener("pointermove",A,{capture:!0})}},[]),o.jsx(D1,{...c,children:o.jsx(dte,{scope:e,open:r,onOpenChange:v,content:u,onContentChange:h,children:o.jsx(fte,{scope:e,onClose:j.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:g,dir:w,modal:a,children:n})})})};G9.displayName=_g;var hte="MenuAnchor",Bj=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Z1(r);return o.jsx(gg,{...i,...n,ref:e})});Bj.displayName=hte;var Fj="MenuPortal",[pte,K9]=fd(Fj,{forceMount:void 0}),Y9=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,s=hd(Fj,e);return o.jsx(pte,{scope:e,forceMount:r,children:o.jsx(js,{present:r||s.open,children:o.jsx(yh,{asChild:!0,container:i,children:n})})})};Y9.displayName=Fj;var Sa="MenuContent",[mte,Uj]=fd(Sa),X9=j.forwardRef((t,e)=>{const r=K9(Sa,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=hd(Sa,t.__scopeMenu),a=Sg(Sa,t.__scopeMenu);return o.jsx(ym.Provider,{scope:t.__scopeMenu,children:o.jsx(js,{present:n||s.open,children:o.jsx(ym.Slot,{scope:t.__scopeMenu,children:a.modal?o.jsx(gte,{...i,ref:e}):o.jsx(vte,{...i,ref:e})})})})}),gte=j.forwardRef((t,e)=>{const r=hd(Sa,t.__scopeMenu),n=j.useRef(null),i=br(e,n);return j.useEffect(()=>{const s=n.current;if(s)return K1(s)},[]),o.jsx($j,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ot(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),vte=j.forwardRef((t,e)=>{const r=hd(Sa,t.__scopeMenu);return o.jsx($j,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),yte=_c("MenuContent.ScrollLock"),$j=j.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:h,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:w,onDismiss:b,disableOutsideScroll:A,...E}=t,C=hd(Sa,r),R=Sg(Sa,r),I=Z1(r),P=H9(r),L=cte(r),[T,D]=j.useState(null),M=j.useRef(null),$=br(e,M,C.onContentChange),V=j.useRef(0),K=j.useRef(""),H=j.useRef(0),z=j.useRef(null),Z=j.useRef("right"),W=j.useRef(0),G=A?bg:j.Fragment,J=A?{as:yte,allowPinchZoom:!0}:void 0,ie=ee=>{const de=K.current+ee,se=L().filter(we=>!we.disabled),le=document.activeElement,me=se.find(we=>we.ref.current===le)?.textValue,pe=se.map(we=>we.textValue),Re=Tte(pe,de,me),_e=se.find(we=>we.textValue===Re)?.ref.current;(function we(Le){K.current=Le,window.clearTimeout(V.current),Le!==""&&(V.current=window.setTimeout(()=>we(""),1e3))})(de),_e&&setTimeout(()=>_e.focus())};j.useEffect(()=>()=>window.clearTimeout(V.current),[]),H1();const ne=j.useCallback(ee=>Z.current===z.current?.side&&Pte(ee,z.current?.area),[]);return o.jsx(mte,{scope:r,searchRef:K,onItemEnter:j.useCallback(ee=>{ne(ee)&&ee.preventDefault()},[ne]),onItemLeave:j.useCallback(ee=>{ne(ee)||(M.current?.focus(),D(null))},[ne]),onTriggerLeave:j.useCallback(ee=>{ne(ee)&&ee.preventDefault()},[ne]),pointerGraceTimerRef:H,onPointerGraceIntentChange:j.useCallback(ee=>{z.current=ee},[]),children:o.jsx(G,{...J,children:o.jsx(xg,{asChild:!0,trapped:i,onMountAutoFocus:ot(s,ee=>{ee.preventDefault(),M.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(cd,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:w,onDismiss:b,children:o.jsx(d9,{asChild:!0,...P,dir:R.dir,orientation:"vertical",loop:n,currentTabStopId:T,onCurrentTabStopIdChange:D,onEntryFocus:ot(u,ee=>{R.isUsingKeyboardRef.current||ee.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(L1,{role:"menu","aria-orientation":"vertical","data-state":fF(C.open),"data-radix-menu-content":"",dir:R.dir,...I,...E,ref:$,style:{outline:"none",...E.style},onKeyDown:ot(E.onKeyDown,ee=>{const se=ee.target.closest("[data-radix-menu-content]")===ee.currentTarget,le=ee.ctrlKey||ee.altKey||ee.metaKey,me=ee.key.length===1;se&&(ee.key==="Tab"&&ee.preventDefault(),!le&&me&&ie(ee.key));const pe=M.current;if(ee.target!==pe||!ate.includes(ee.key))return;ee.preventDefault();const _e=L().filter(we=>!we.disabled).map(we=>we.ref.current);W9.includes(ee.key)&&_e.reverse(),jte(_e)}),onBlur:ot(t.onBlur,ee=>{ee.currentTarget.contains(ee.target)||(window.clearTimeout(V.current),K.current="")}),onPointerMove:ot(t.onPointerMove,xm(ee=>{const de=ee.target,se=W.current!==ee.clientX;if(ee.currentTarget.contains(de)&&se){const le=ee.clientX>W.current?"right":"left";Z.current=le,W.current=ee.clientX}}))})})})})})})});X9.displayName=Sa;var xte="MenuGroup",Vj=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return o.jsx(Tt.div,{role:"group",...n,ref:e})});Vj.displayName=xte;var wte="MenuLabel",Z9=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return o.jsx(Tt.div,{...n,ref:e})});Z9.displayName=wte;var ry="MenuItem",QI="menu.itemSelect",Q1=j.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,s=j.useRef(null),a=Sg(ry,t.__scopeMenu),c=Uj(ry,t.__scopeMenu),u=br(e,s),h=j.useRef(!1),g=()=>{const v=s.current;if(!r&&v){const w=new CustomEvent(QI,{bubbles:!0,cancelable:!0});v.addEventListener(QI,b=>n?.(b),{once:!0}),lj(v,w),w.defaultPrevented?h.current=!1:a.onClose()}};return o.jsx(Q9,{...i,ref:u,disabled:r,onClick:ot(t.onClick,g),onPointerDown:v=>{t.onPointerDown?.(v),h.current=!0},onPointerUp:ot(t.onPointerUp,v=>{h.current||v.currentTarget?.click()}),onKeyDown:ot(t.onKeyDown,v=>{const w=c.searchRef.current!=="";r||w&&v.key===" "||lA.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});Q1.displayName=ry;var Q9=j.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=t,a=Uj(ry,r),c=H9(r),u=j.useRef(null),h=br(e,u),[g,v]=j.useState(!1),[w,b]=j.useState("");return j.useEffect(()=>{const A=u.current;A&&b((A.textContent??"").trim())},[s.children]),o.jsx(ym.ItemSlot,{scope:r,disabled:n,textValue:i??w,children:o.jsx(f9,{asChild:!0,...c,focusable:!n,children:o.jsx(Tt.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:h,onPointerMove:ot(t.onPointerMove,xm(A=>{n?a.onItemLeave(A):(a.onItemEnter(A),A.defaultPrevented||A.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ot(t.onPointerLeave,xm(A=>a.onItemLeave(A))),onFocus:ot(t.onFocus,()=>v(!0)),onBlur:ot(t.onBlur,()=>v(!1))})})})}),bte="MenuCheckboxItem",J9=j.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return o.jsx(iF,{scope:t.__scopeMenu,checked:r,children:o.jsx(Q1,{role:"menuitemcheckbox","aria-checked":ny(r)?"mixed":r,...i,ref:e,"data-state":Wj(r),onSelect:ot(i.onSelect,()=>n?.(ny(r)?!0:!r),{checkForDefaultPrevented:!1})})})});J9.displayName=bte;var eF="MenuRadioGroup",[_te,Ste]=fd(eF,{value:void 0,onValueChange:()=>{}}),tF=j.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,s=ls(n);return o.jsx(_te,{scope:t.__scopeMenu,value:r,onValueChange:s,children:o.jsx(Vj,{...i,ref:e})})});tF.displayName=eF;var rF="MenuRadioItem",nF=j.forwardRef((t,e)=>{const{value:r,...n}=t,i=Ste(rF,t.__scopeMenu),s=r===i.value;return o.jsx(iF,{scope:t.__scopeMenu,checked:s,children:o.jsx(Q1,{role:"menuitemradio","aria-checked":s,...n,ref:e,"data-state":Wj(s),onSelect:ot(n.onSelect,()=>i.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});nF.displayName=rF;var qj="MenuItemIndicator",[iF,Ete]=fd(qj,{checked:!1}),sF=j.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,s=Ete(qj,r);return o.jsx(js,{present:n||ny(s.checked)||s.checked===!0,children:o.jsx(Tt.span,{...i,ref:e,"data-state":Wj(s.checked)})})});sF.displayName=qj;var Cte="MenuSeparator",aF=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return o.jsx(Tt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});aF.displayName=Cte;var Ate="MenuArrow",oF=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Z1(r);return o.jsx(B1,{...i,...n,ref:e})});oF.displayName=Ate;var Nte="MenuSub",[Eje,lF]=fd(Nte),qp="MenuSubTrigger",cF=j.forwardRef((t,e)=>{const r=hd(qp,t.__scopeMenu),n=Sg(qp,t.__scopeMenu),i=lF(qp,t.__scopeMenu),s=Uj(qp,t.__scopeMenu),a=j.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=s,h={__scopeMenu:t.__scopeMenu},g=j.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return j.useEffect(()=>g,[g]),j.useEffect(()=>{const v=c.current;return()=>{window.clearTimeout(v),u(null)}},[c,u]),o.jsx(Bj,{asChild:!0,...h,children:o.jsx(Q9,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":fF(r.open),...t,ref:j1(e,i.onTriggerChange),onClick:v=>{t.onClick?.(v),!(t.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ot(t.onPointerMove,xm(v=>{s.onItemEnter(v),!v.defaultPrevented&&!t.disabled&&!r.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),g()},100))})),onPointerLeave:ot(t.onPointerLeave,xm(v=>{g();const w=r.content?.getBoundingClientRect();if(w){const b=r.content?.dataset.side,A=b==="right",E=A?-5:5,C=w[A?"left":"right"],R=w[A?"right":"left"];s.onPointerGraceIntentChange({area:[{x:v.clientX+E,y:v.clientY},{x:C,y:w.top},{x:R,y:w.top},{x:R,y:w.bottom},{x:C,y:w.bottom}],side:b}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(v),v.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:ot(t.onKeyDown,v=>{const w=s.searchRef.current!=="";t.disabled||w&&v.key===" "||ote[n.dir].includes(v.key)&&(r.onOpenChange(!0),r.content?.focus(),v.preventDefault())})})})});cF.displayName=qp;var uF="MenuSubContent",dF=j.forwardRef((t,e)=>{const r=K9(Sa,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=hd(Sa,t.__scopeMenu),a=Sg(Sa,t.__scopeMenu),c=lF(uF,t.__scopeMenu),u=j.useRef(null),h=br(e,u);return o.jsx(ym.Provider,{scope:t.__scopeMenu,children:o.jsx(js,{present:n||s.open,children:o.jsx(ym.Slot,{scope:t.__scopeMenu,children:o.jsx($j,{id:c.contentId,"aria-labelledby":c.triggerId,...i,ref:h,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{a.isUsingKeyboardRef.current&&u.current?.focus(),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:ot(t.onFocusOutside,g=>{g.target!==c.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:ot(t.onEscapeKeyDown,g=>{a.onClose(),g.preventDefault()}),onKeyDown:ot(t.onKeyDown,g=>{const v=g.currentTarget.contains(g.target),w=lte[a.dir].includes(g.key);v&&w&&(s.onOpenChange(!1),c.trigger?.focus(),g.preventDefault())})})})})})});dF.displayName=uF;function fF(t){return t?"open":"closed"}function ny(t){return t==="indeterminate"}function Wj(t){return ny(t)?"indeterminate":t?"checked":"unchecked"}function jte(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function Ote(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function Tte(t,e,r){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let a=Ote(t,Math.max(s,0));i.length===1&&(a=a.filter(h=>h!==r));const u=a.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return u!==r?u:void 0}function kte(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const c=e[s],u=e[a],h=c.x,g=c.y,v=u.x,w=u.y;g>n!=w>n&&r<(v-h)*(n-g)/(w-g)+h&&(i=!i)}return i}function Pte(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return kte(r,e)}function xm(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Ite=G9,Rte=Bj,Mte=Y9,Dte=X9,Lte=Vj,Bte=Z9,Fte=Q1,Ute=J9,$te=tF,Vte=nF,qte=sF,Wte=aF,zte=oF,Hte=cF,Gte=dF,J1="DropdownMenu",[Kte]=Ji(J1,[z9]),cs=z9(),[Yte,hF]=Kte(J1),pF=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:a,modal:c=!0}=t,u=cs(e),h=j.useRef(null),[g,v]=Za({prop:i,defaultProp:s??!1,onChange:a,caller:J1});return o.jsx(Yte,{scope:e,triggerId:_a(),triggerRef:h,contentId:_a(),open:g,onOpenChange:v,onOpenToggle:j.useCallback(()=>v(w=>!w),[v]),modal:c,children:o.jsx(Ite,{...u,open:g,onOpenChange:v,dir:n,modal:c,children:r})})};pF.displayName=J1;var mF="DropdownMenuTrigger",gF=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,s=hF(mF,r),a=cs(r);return o.jsx(Rte,{asChild:!0,...a,children:o.jsx(Tt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:j1(e,s.triggerRef),onPointerDown:ot(t.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(s.onOpenToggle(),s.open||c.preventDefault())}),onKeyDown:ot(t.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&s.onOpenToggle(),c.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});gF.displayName=mF;var Xte="DropdownMenuPortal",vF=t=>{const{__scopeDropdownMenu:e,...r}=t,n=cs(e);return o.jsx(Mte,{...n,...r})};vF.displayName=Xte;var yF="DropdownMenuContent",xF=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=hF(yF,r),s=cs(r),a=j.useRef(!1);return o.jsx(Dte,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:e,onCloseAutoFocus:ot(t.onCloseAutoFocus,c=>{a.current||i.triggerRef.current?.focus(),a.current=!1,c.preventDefault()}),onInteractOutside:ot(t.onInteractOutside,c=>{const u=c.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0,g=u.button===2||h;(!i.modal||g)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});xF.displayName=yF;var Zte="DropdownMenuGroup",Qte=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=cs(r);return o.jsx(Lte,{...i,...n,ref:e})});Qte.displayName=Zte;var Jte="DropdownMenuLabel",wF=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=cs(r);return o.jsx(Bte,{...i,...n,ref:e})});wF.displayName=Jte;var ere="DropdownMenuItem",bF=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=cs(r);return o.jsx(Fte,{...i,...n,ref:e})});bF.displayName=ere;var tre="DropdownMenuCheckboxItem",_F=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=cs(r);return o.jsx(Ute,{...i,...n,ref:e})});_F.displayName=tre;var rre="DropdownMenuRadioGroup",nre=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=cs(r);return o.jsx($te,{...i,...n,ref:e})});nre.displayName=rre;var ire="DropdownMenuRadioItem",SF=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=cs(r);return o.jsx(Vte,{...i,...n,ref:e})});SF.displayName=ire;var sre="DropdownMenuItemIndicator",EF=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=cs(r);return o.jsx(qte,{...i,...n,ref:e})});EF.displayName=sre;var are="DropdownMenuSeparator",CF=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=cs(r);return o.jsx(Wte,{...i,...n,ref:e})});CF.displayName=are;var ore="DropdownMenuArrow",lre=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=cs(r);return o.jsx(zte,{...i,...n,ref:e})});lre.displayName=ore;var cre="DropdownMenuSubTrigger",AF=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=cs(r);return o.jsx(Hte,{...i,...n,ref:e})});AF.displayName=cre;var ure="DropdownMenuSubContent",NF=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=cs(r);return o.jsx(Gte,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});NF.displayName=ure;var dre=pF,fre=gF,hre=vF,jF=xF,OF=wF,TF=bF,kF=_F,PF=SF,IF=EF,RF=CF,MF=AF,DF=NF;const LF=dre,BF=fre,pre=j.forwardRef(({className:t,inset:e,children:r,...n},i)=>o.jsxs(MF,{ref:i,className:De("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...n,children:[r,o.jsx(xl,{className:"ml-auto h-4 w-4"})]}));pre.displayName=MF.displayName;const mre=j.forwardRef(({className:t,...e},r)=>o.jsx(DF,{ref:r,className:De("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));mre.displayName=DF.displayName;const zj=j.forwardRef(({className:t,sideOffset:e=4,...r},n)=>o.jsx(hre,{children:o.jsx(jF,{ref:n,sideOffset:e,className:De("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));zj.displayName=jF.displayName;const fc=j.forwardRef(({className:t,inset:e,...r},n)=>o.jsx(TF,{ref:n,className:De("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...r}));fc.displayName=TF.displayName;const gre=j.forwardRef(({className:t,children:e,checked:r,...n},i)=>o.jsxs(kF,{ref:i,className:De("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(IF,{children:o.jsx(hj,{className:"h-4 w-4"})})}),e]}));gre.displayName=kF.displayName;const vre=j.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(PF,{ref:n,className:De("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(IF,{children:o.jsx(aY,{className:"h-2 w-2 fill-current"})})}),e]}));vre.displayName=PF.displayName;const Hj=j.forwardRef(({className:t,inset:e,...r},n)=>o.jsx(OF,{ref:n,className:De("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));Hj.displayName=OF.displayName;const iy=j.forwardRef(({className:t,...e},r)=>o.jsx(RF,{ref:r,className:De("-mx-1 my-1 h-px bg-muted",t),...e}));iy.displayName=RF.displayName;const Kb=768;function yre(){const[t,e]=j.useState(void 0);return j.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Kb-1}px)`),n=()=>{e(window.innerWidth<Kb)};return r.addEventListener("change",n),e(window.innerWidth<Kb),()=>r.removeEventListener("change",n)},[]),!!t}const Nt=j.forwardRef(({className:t,type:e,...r},n)=>{const i=r["data-error"]==="true"||r["aria-invalid"]===!0;return o.jsx("input",{type:e,className:De("flex h-10 w-full rounded-md border bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm transition-colors",i?"border-destructive focus-visible:ring-destructive":"border-input focus-visible:ring-ring",t),ref:n,...r})});Nt.displayName="Input";var xre="Separator",JI="horizontal",wre=["horizontal","vertical"],FF=j.forwardRef((t,e)=>{const{decorative:r,orientation:n=JI,...i}=t,s=bre(n)?n:JI,c=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return o.jsx(Tt.div,{"data-orientation":s,...c,...i,ref:e})});FF.displayName=xre;function bre(t){return wre.includes(t)}var UF=FF;const $u=j.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>o.jsx(UF,{ref:i,decorative:r,orientation:e,className:De("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));$u.displayName=UF.displayName;var ex="Dialog",[$F,VF]=Ji(ex),[_re,no]=$F(ex),qF=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,c=j.useRef(null),u=j.useRef(null),[h,g]=Za({prop:n,defaultProp:i??!1,onChange:s,caller:ex});return o.jsx(_re,{scope:e,triggerRef:c,contentRef:u,contentId:_a(),titleId:_a(),descriptionId:_a(),open:h,onOpenChange:g,onOpenToggle:j.useCallback(()=>g(v=>!v),[g]),modal:a,children:r})};qF.displayName=ex;var WF="DialogTrigger",zF=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=no(WF,r),s=br(e,i.triggerRef);return o.jsx(Tt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Yj(i.open),...n,ref:s,onClick:ot(t.onClick,i.onOpenToggle)})});zF.displayName=WF;var Gj="DialogPortal",[Sre,HF]=$F(Gj,{forceMount:void 0}),GF=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=no(Gj,e);return o.jsx(Sre,{scope:e,forceMount:r,children:j.Children.map(n,a=>o.jsx(js,{present:r||s.open,children:o.jsx(yh,{asChild:!0,container:i,children:a})}))})};GF.displayName=Gj;var sy="DialogOverlay",KF=j.forwardRef((t,e)=>{const r=HF(sy,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=no(sy,t.__scopeDialog);return s.modal?o.jsx(js,{present:n||s.open,children:o.jsx(Cre,{...i,ref:e})}):null});KF.displayName=sy;var Ere=_c("DialogOverlay.RemoveScroll"),Cre=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=no(sy,r);return o.jsx(bg,{as:Ere,allowPinchZoom:!0,shards:[i.contentRef],children:o.jsx(Tt.div,{"data-state":Yj(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Gu="DialogContent",YF=j.forwardRef((t,e)=>{const r=HF(Gu,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=no(Gu,t.__scopeDialog);return o.jsx(js,{present:n||s.open,children:s.modal?o.jsx(Are,{...i,ref:e}):o.jsx(Nre,{...i,ref:e})})});YF.displayName=Gu;var Are=j.forwardRef((t,e)=>{const r=no(Gu,t.__scopeDialog),n=j.useRef(null),i=br(e,r.contentRef,n);return j.useEffect(()=>{const s=n.current;if(s)return K1(s)},[]),o.jsx(XF,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ot(t.onCloseAutoFocus,s=>{s.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:ot(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0;(a.button===2||c)&&s.preventDefault()}),onFocusOutside:ot(t.onFocusOutside,s=>s.preventDefault())})}),Nre=j.forwardRef((t,e)=>{const r=no(Gu,t.__scopeDialog),n=j.useRef(!1),i=j.useRef(!1);return o.jsx(XF,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||r.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;r.triggerRef.current?.contains(a)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),XF=j.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,c=no(Gu,r),u=j.useRef(null),h=br(e,u);return H1(),o.jsxs(o.Fragment,{children:[o.jsx(xg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:o.jsx(cd,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Yj(c.open),...a,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(Ore,{titleId:c.titleId}),o.jsx(kre,{contentRef:u,descriptionId:c.descriptionId})]})]})}),Kj="DialogTitle",ZF=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=no(Kj,r);return o.jsx(Tt.h2,{id:i.titleId,...n,ref:e})});ZF.displayName=Kj;var QF="DialogDescription",JF=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=no(QF,r);return o.jsx(Tt.p,{id:i.descriptionId,...n,ref:e})});JF.displayName=QF;var eU="DialogClose",tU=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=no(eU,r);return o.jsx(Tt.button,{type:"button",...n,ref:e,onClick:ot(t.onClick,()=>i.onOpenChange(!1))})});tU.displayName=eU;function Yj(t){return t?"open":"closed"}var rU="DialogTitleWarning",[jre,nU]=fK(rU,{contentName:Gu,titleName:Kj,docsSlug:"dialog"}),Ore=({titleId:t})=>{const e=nU(rU),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return j.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},Tre="DialogDescriptionWarning",kre=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${nU(Tre).contentName}}.`;return j.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},Xj=qF,iU=zF,Zj=GF,Eg=KF,Cg=YF,Ag=ZF,Ng=JF,tx=tU;const Pre=Xj,Ire=Zj,sU=j.forwardRef(({className:t,...e},r)=>o.jsx(Eg,{className:De("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));sU.displayName=Eg.displayName;const Rre=ud("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),aU=j.forwardRef(({side:t="right",className:e,children:r,...n},i)=>o.jsxs(Ire,{children:[o.jsx(sU,{}),o.jsxs(Cg,{ref:i,className:De(Rre({side:t}),e),...n,children:[r,o.jsxs(tx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(pg,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));aU.displayName=Cg.displayName;const Mre=j.forwardRef(({className:t,...e},r)=>o.jsx(Ag,{ref:r,className:De("text-lg font-semibold text-foreground",t),...e}));Mre.displayName=Ag.displayName;const Dre=j.forwardRef(({className:t,...e},r)=>o.jsx(Ng,{ref:r,className:De("text-sm text-muted-foreground",t),...e}));Dre.displayName=Ng.displayName;function Hr({className:t,...e}){return o.jsx("div",{className:De("animate-pulse rounded-md bg-muted",t),...e})}const Lre="sidebar:state",Bre=3600*24*7,Fre="16rem",Ure="18rem",$re="3rem",Vre="b",oU=j.createContext(null);function jg(){const t=j.useContext(oU);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const lU=j.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:r,className:n,style:i,children:s,...a},c)=>{const u=yre(),[h,g]=j.useState(!1),[v,w]=j.useState(t),b=e??v,A=j.useCallback(I=>{const P=typeof I=="function"?I(b):I;r?r(P):w(P),document.cookie=`${Lre}=${P}; path=/; max-age=${Bre}`},[r,b]),E=j.useCallback(()=>u?g(I=>!I):A(I=>!I),[u,A,g]);j.useEffect(()=>{const I=P=>{P.key===Vre&&(P.metaKey||P.ctrlKey)&&(P.preventDefault(),E())};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[E]);const C=b?"expanded":"collapsed",R=j.useMemo(()=>({state:C,open:b,setOpen:A,isMobile:u,openMobile:h,setOpenMobile:g,toggleSidebar:E}),[C,b,A,u,h,g,E]);return o.jsx(oU.Provider,{value:R,children:o.jsx(j7,{delayDuration:0,children:o.jsx("div",{style:{"--sidebar-width":Fre,"--sidebar-width-icon":$re,...i},className:De("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:c,...a,children:s})})})});lU.displayName="SidebarProvider";const cU=j.forwardRef(({side:t="left",variant:e="sidebar",collapsible:r="offcanvas",className:n,children:i,...s},a)=>{const{isMobile:c,state:u,openMobile:h,setOpenMobile:g}=jg();return r==="none"?o.jsx("div",{className:De("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:a,...s,children:i}):c?o.jsx(Pre,{open:h,onOpenChange:g,...s,children:o.jsx(aU,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":Ure},side:t,children:o.jsx("div",{className:"flex h-full w-full flex-col",children:i})})}):o.jsxs("div",{ref:a,className:"group peer hidden text-sidebar-foreground md:block","data-state":u,"data-collapsible":u==="collapsed"?r:"","data-variant":e,"data-side":t,children:[o.jsx("div",{className:De("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),o.jsx("div",{className:De("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...s,children:o.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});cU.displayName="Sidebar";const uU=j.forwardRef(({className:t,onClick:e,...r},n)=>{const{toggleSidebar:i}=jg();return o.jsxs(Te,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:De("h-7 w-7",t),onClick:s=>{e?.(s),i()},...r,children:[o.jsx(hY,{}),o.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});uU.displayName="SidebarTrigger";const qre=j.forwardRef(({className:t,...e},r)=>{const{toggleSidebar:n}=jg();return o.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:De("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});qre.displayName="SidebarRail";const Wre=j.forwardRef(({className:t,...e},r)=>o.jsx("main",{ref:r,className:De("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));Wre.displayName="SidebarInset";const zre=j.forwardRef(({className:t,...e},r)=>o.jsx(Nt,{ref:r,"data-sidebar":"input",className:De("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...e}));zre.displayName="SidebarInput";const Hre=j.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,"data-sidebar":"header",className:De("flex flex-col gap-2 p-2",t),...e}));Hre.displayName="SidebarHeader";const Gre=j.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,"data-sidebar":"footer",className:De("flex flex-col gap-2 p-2",t),...e}));Gre.displayName="SidebarFooter";const Kre=j.forwardRef(({className:t,...e},r)=>o.jsx($u,{ref:r,"data-sidebar":"separator",className:De("mx-2 w-auto bg-sidebar-border",t),...e}));Kre.displayName="SidebarSeparator";const dU=j.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,"data-sidebar":"content",className:De("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e}));dU.displayName="SidebarContent";const Bv=j.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,"data-sidebar":"group",className:De("relative flex w-full min-w-0 flex-col p-2",t),...e}));Bv.displayName="SidebarGroup";const Fv=j.forwardRef(({className:t,asChild:e=!1,...r},n)=>{const i=e?ld:"div";return o.jsx(i,{ref:n,"data-sidebar":"group-label",className:De("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...r})});Fv.displayName="SidebarGroupLabel";const Yre=j.forwardRef(({className:t,asChild:e=!1,...r},n)=>{const i=e?ld:"button";return o.jsx(i,{ref:n,"data-sidebar":"group-action",className:De("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...r})});Yre.displayName="SidebarGroupAction";const Uv=j.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,"data-sidebar":"group-content",className:De("w-full text-sm",t),...e}));Uv.displayName="SidebarGroupContent";const $v=j.forwardRef(({className:t,...e},r)=>o.jsx("ul",{ref:r,"data-sidebar":"menu",className:De("flex w-full min-w-0 flex-col gap-1",t),...e}));$v.displayName="SidebarMenu";const Vv=j.forwardRef(({className:t,...e},r)=>o.jsx("li",{ref:r,"data-sidebar":"menu-item",className:De("group/menu-item relative",t),...e}));Vv.displayName="SidebarMenuItem";const Xre=ud("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),qv=j.forwardRef(({asChild:t=!1,isActive:e=!1,variant:r="default",size:n="default",tooltip:i,className:s,...a},c)=>{const u=t?ld:"button",{isMobile:h,state:g}=jg(),v=o.jsx(u,{ref:c,"data-sidebar":"menu-button","data-size":n,"data-active":e,className:De(Xre({variant:r,size:n}),s),...a});return i?(typeof i=="string"&&(i={children:i}),o.jsxs(EQ,{children:[o.jsx(CQ,{asChild:!0,children:v}),o.jsx(O7,{side:"right",align:"center",hidden:g!=="collapsed"||h,...i})]})):v});qv.displayName="SidebarMenuButton";const Zre=j.forwardRef(({className:t,asChild:e=!1,showOnHover:r=!1,...n},i)=>{const s=e?ld:"button";return o.jsx(s,{ref:i,"data-sidebar":"menu-action",className:De("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...n})});Zre.displayName="SidebarMenuAction";const Qre=j.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:De("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...e}));Qre.displayName="SidebarMenuBadge";const Jre=j.forwardRef(({className:t,showIcon:e=!1,...r},n)=>{const i=j.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return o.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:De("flex h-8 items-center gap-2 rounded-md px-2",t),...r,children:[e&&o.jsx(Hr,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),o.jsx(Hr,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});Jre.displayName="SidebarMenuSkeleton";const ene=j.forwardRef(({className:t,...e},r)=>o.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:De("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));ene.displayName="SidebarMenuSub";const tne=j.forwardRef(({...t},e)=>o.jsx("li",{ref:e,...t}));tne.displayName="SidebarMenuSubItem";const rne=j.forwardRef(({asChild:t=!1,size:e="md",isActive:r,className:n,...i},s)=>{const a=t?ld:"a";return o.jsx(a,{ref:s,"data-sidebar":"menu-sub-button","data-size":e,"data-active":r,className:De("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...i})});rne.displayName="SidebarMenuSubButton";const nne=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Qj extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class ine extends Qj{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class e3 extends Qj{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class t3 extends Qj{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var cA;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(cA||(cA={}));class sne{constructor(e,{headers:r={},customFetch:n,region:i=cA.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=nne(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return jt(this,arguments,void 0,function*(r,n={}){var i;let s,a;try{const{headers:c,method:u,body:h,signal:g,timeout:v}=n;let w={},{region:b}=n;b||(b=this.region);const A=new URL(`${this.url}/${r}`);b&&b!=="any"&&(w["x-region"]=b,A.searchParams.set("forceFunctionRegion",b));let E;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",E=h):typeof h=="string"?(w["Content-Type"]="text/plain",E=h):typeof FormData<"u"&&h instanceof FormData?E=h:(w["Content-Type"]="application/json",E=JSON.stringify(h)):E=h;let C=g;v&&(a=new AbortController,s=setTimeout(()=>a.abort(),v),g?(C=a.signal,g.addEventListener("abort",()=>a.abort())):C=a.signal);const R=yield this.fetch(A.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),c),body:E,signal:C}).catch(T=>{throw new ine(T)}),I=R.headers.get("x-relay-error");if(I&&I==="true")throw new e3(R);if(!R.ok)throw new t3(R);let P=((i=R.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),L;return P==="application/json"?L=yield R.json():P==="application/octet-stream"||P==="application/pdf"?L=yield R.blob():P==="text/event-stream"?L=R:P==="multipart/form-data"?L=yield R.formData():L=yield R.text(),{data:L,error:null,response:R}}catch(c){return{data:null,error:c,response:c instanceof t3||c instanceof e3?c.context:void 0}}finally{s&&clearTimeout(s)}})}}var Hi={};const Ch=KG(See);var ov={},lv={},cv={},uv={},dv={},fv={},r3;function fU(){if(r3)return fv;r3=1,Object.defineProperty(fv,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return fv.default=t,fv}var n3;function hU(){if(n3)return dv;n3=1,Object.defineProperty(dv,"__esModule",{value:!0});const e=Ch.__importDefault(fU());class r{constructor(i){var s,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let c=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var h,g,v,w;let b=null,A=null,E=null,C=u.status,R=u.statusText;if(u.ok){if(this.method!=="HEAD"){const T=await u.text();T===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?A=T:A=JSON.parse(T))}const P=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),L=(v=u.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");P&&L&&L.length>1&&(E=parseInt(L[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(A)&&(A.length>1?(b={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,E=null,C=406,R="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{const P=await u.text();try{b=JSON.parse(P),Array.isArray(b)&&u.status===404&&(A=[],b=null,C=200,R="OK")}catch{u.status===404&&P===""?(C=204,R="No Content"):b={message:P}}if(b&&this.isMaybeSingle&&(!((w=b?.details)===null||w===void 0)&&w.includes("0 rows"))&&(b=null,C=200,R="OK"),b&&this.shouldThrowOnError)throw new e.default(b)}return{error:b,data:A,count:E,status:C,statusText:R}});return this.shouldThrowOnError||(c=c.catch(u=>{var h,g,v;return{error:{message:`${(h=u?.name)!==null&&h!==void 0?h:"FetchError"}: ${u?.message}`,details:`${(g=u?.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(v=u?.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,s)}returns(){return this}overrideTypes(){return this}}return dv.default=r,dv}var i3;function pU(){if(i3)return uv;i3=1,Object.defineProperty(uv,"__esModule",{value:!0});const e=Ch.__importDefault(hU());class r extends e.default{select(i){let s=!1;const a=(i??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:c,referencedTable:u=c}={}){const h=u?`${u}.order`:"order",g=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${g?`${g},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(c,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:c=a}={}){const u=typeof c>"u"?"offset":`${c}.offset`,h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(h,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:c=!1,wal:u=!1,format:h="text"}={}){var g;const v=[i?"analyze":null,s?"verbose":null,a?"settings":null,c?"buffers":null,u?"wal":null].filter(Boolean).join("|"),w=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${w}"; options=${v};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return uv.default=r,uv}var s3;function Jj(){if(s3)return cv;s3=1,Object.defineProperty(cv,"__esModule",{value:!0});const e=Ch.__importDefault(pU()),r=new RegExp("[,()]");class n extends e.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}in(s,a){const c=Array.from(new Set(a)).map(u=>typeof u=="string"&&r.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(s,`in.(${c})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:c,type:u}={}){let h="";u==="plain"?h="pl":u==="phrase"?h="ph":u==="websearch"&&(h="w");const g=c===void 0?"":`(${c})`;return this.url.searchParams.append(s,`${h}fts${g}.${a}`),this}match(s){return Object.entries(s).forEach(([a,c])=>{this.url.searchParams.append(a,`eq.${c}`)}),this}not(s,a,c){return this.url.searchParams.append(s,`not.${a}.${c}`),this}or(s,{foreignTable:a,referencedTable:c=a}={}){const u=c?`${c}.or`:"or";return this.url.searchParams.append(u,`(${s})`),this}filter(s,a,c){return this.url.searchParams.append(s,`${a}.${c}`),this}}return cv.default=n,cv}var a3;function mU(){if(a3)return lv;a3=1,Object.defineProperty(lv,"__esModule",{value:!0});const e=Ch.__importDefault(Jj());class r{constructor(i,{headers:s={},schema:a,fetch:c}){this.url=i,this.headers=new Headers(s),this.schema=a,this.fetch=c}select(i,s){const{head:a=!1,count:c}=s??{},u=a?"HEAD":"GET";let h=!1;const g=(i??"*").split("").map(v=>/\s/.test(v)&&!h?"":(v==='"'&&(h=!h),v)).join("");return this.url.searchParams.set("select",g),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:a=!0}={}){var c;const u="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(h.length>0){const g=[...new Set(h)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:c,defaultToNull:u=!0}={}){var h;const g="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const v=i.reduce((w,b)=>w.concat(Object.keys(b)),[]);if(v.length>0){const w=[...new Set(v)].map(b=>`"${b}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:s}={}){var a;const c="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var s;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return lv.default=r,lv}var o3;function ane(){if(o3)return ov;o3=1,Object.defineProperty(ov,"__esModule",{value:!0});const t=Ch,e=t.__importDefault(mU()),r=t.__importDefault(Jj());class n{constructor(s,{headers:a={},schema:c,fetch:u}={}){this.url=s,this.headers=new Headers(a),this.schemaName=c,this.fetch=u}from(s){const a=new URL(`${this.url}/${s}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:c=!1,get:u=!1,count:h}={}){var g;let v;const w=new URL(`${this.url}/rpc/${s}`);let b;c||u?(v=c?"HEAD":"GET",Object.entries(a).filter(([E,C])=>C!==void 0).map(([E,C])=>[E,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([E,C])=>{w.searchParams.append(E,C)})):(v="POST",b=a);const A=new Headers(this.headers);return h&&A.set("Prefer",`count=${h}`),new r.default({method:v,url:w,headers:A,schema:this.schemaName,body:b,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return ov.default=n,ov}var l3;function one(){if(l3)return Hi;l3=1,Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.PostgrestError=Hi.PostgrestBuilder=Hi.PostgrestTransformBuilder=Hi.PostgrestFilterBuilder=Hi.PostgrestQueryBuilder=Hi.PostgrestClient=void 0;const t=Ch,e=t.__importDefault(ane());Hi.PostgrestClient=e.default;const r=t.__importDefault(mU());Hi.PostgrestQueryBuilder=r.default;const n=t.__importDefault(Jj());Hi.PostgrestFilterBuilder=n.default;const i=t.__importDefault(pU());Hi.PostgrestTransformBuilder=i.default;const s=t.__importDefault(hU());Hi.PostgrestBuilder=s.default;const a=t.__importDefault(fU());return Hi.PostgrestError=a.default,Hi.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:a.default},Hi}var gU=one();const vU=Rr(gU),lne=aj({__proto__:null,default:vU},[gU]),{PostgrestClient:cne,PostgrestQueryBuilder:Cje,PostgrestFilterBuilder:Aje,PostgrestTransformBuilder:Nje,PostgrestBuilder:jje,PostgrestError:Oje}=vU||lne;class une{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const dne="2.81.1",fne=`realtime-js/${dne}`,yU="1.0.0",hne="2.0.0",c3=yU,uA=1e4,pne=1e3,mne=100;var ju;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ju||(ju={}));var pi;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pi||(pi={}));var ga;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ga||(ga={}));var dA;(function(t){t.websocket="websocket"})(dA||(dA={}));var Ou;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ou||(Ou={}));class gne{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,r){if(this._isArrayBuffer(e.payload))return r(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodePush(e){const{join_ref:r,ref:n,event:i,topic:s,payload:a}=e,c=this.META_LENGTH+r.length+n.length+s.length+i.length,u=new ArrayBuffer(this.HEADER_LENGTH+c);let h=new DataView(u),g=0;h.setUint8(g++,this.KINDS.push),h.setUint8(g++,r.length),h.setUint8(g++,n.length),h.setUint8(g++,s.length),h.setUint8(g++,i.length),Array.from(r,w=>h.setUint8(g++,w.charCodeAt(0))),Array.from(n,w=>h.setUint8(g++,w.charCodeAt(0))),Array.from(s,w=>h.setUint8(g++,w.charCodeAt(0))),Array.from(i,w=>h.setUint8(g++,w.charCodeAt(0)));var v=new Uint8Array(u.byteLength+a.byteLength);return v.set(new Uint8Array(u),0),v.set(new Uint8Array(a),u.byteLength),v.buffer}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const{join_ref:i,ref:s,topic:a}=e,c=e.payload.event,u=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),h=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+s.length+a.length+c.length,g=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(g),w=0;v.setUint8(w++,this.KINDS.userBroadcastPush),v.setUint8(w++,i.length),v.setUint8(w++,s.length),v.setUint8(w++,a.length),v.setUint8(w++,c.length),v.setUint8(w++,this.BINARY_ENCODING),Array.from(i,A=>v.setUint8(w++,A.charCodeAt(0))),Array.from(s,A=>v.setUint8(w++,A.charCodeAt(0))),Array.from(a,A=>v.setUint8(w++,A.charCodeAt(0))),Array.from(c,A=>v.setUint8(w++,A.charCodeAt(0)));var b=new Uint8Array(g.byteLength+u.byteLength);return b.set(new Uint8Array(g),0),b.set(new Uint8Array(u),g.byteLength),b.buffer}_encodeJsonUserBroadcastPush(e){var r,n;const{join_ref:i,ref:s,topic:a}=e,c=e.payload.event,u=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},g=new TextEncoder().encode(JSON.stringify(u)).buffer,v=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+s.length+a.length+c.length,w=new ArrayBuffer(this.HEADER_LENGTH+v);let b=new DataView(w),A=0;b.setUint8(A++,this.KINDS.userBroadcastPush),b.setUint8(A++,i.length),b.setUint8(A++,s.length),b.setUint8(A++,a.length),b.setUint8(A++,c.length),b.setUint8(A++,this.JSON_ENCODING),Array.from(i,C=>b.setUint8(A++,C.charCodeAt(0))),Array.from(s,C=>b.setUint8(A++,C.charCodeAt(0))),Array.from(a,C=>b.setUint8(A++,C.charCodeAt(0))),Array.from(c,C=>b.setUint8(A++,C.charCodeAt(0)));var E=new Uint8Array(w.byteLength+g.byteLength);return E.set(new Uint8Array(w),0),E.set(new Uint8Array(g),w.byteLength),E.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,s,a,c,u]=n;return r({join_ref:i,ref:s,topic:a,event:c,payload:u})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(e,r,i);case this.KINDS.reply:return this._decodeReply(e,r,i);case this.KINDS.broadcast:return this._decodeBroadcast(e,r,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodePush(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),a=r.getUint8(3);let c=this.HEADER_LENGTH+this.META_LENGTH-1;const u=n.decode(e.slice(c,c+i));c=c+i;const h=n.decode(e.slice(c,c+s));c=c+s;const g=n.decode(e.slice(c,c+a));c=c+a;const v=JSON.parse(n.decode(e.slice(c,e.byteLength)));return{join_ref:u,ref:null,topic:h,event:g,payload:v}}_decodeReply(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),a=r.getUint8(3),c=r.getUint8(4);let u=this.HEADER_LENGTH+this.META_LENGTH;const h=n.decode(e.slice(u,u+i));u=u+i;const g=n.decode(e.slice(u,u+s));u=u+s;const v=n.decode(e.slice(u,u+a));u=u+a;const w=n.decode(e.slice(u,u+c));u=u+c;const b=JSON.parse(n.decode(e.slice(u,e.byteLength))),A={status:w,response:b};return{join_ref:h,ref:g,topic:v,event:ga.reply,payload:A}}_decodeBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const c=n.decode(e.slice(a,a+i));a=a+i;const u=n.decode(e.slice(a,a+s));a=a+s;const h=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{join_ref:null,ref:null,topic:c,event:u,payload:h}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),a=r.getUint8(3),c=r.getUint8(4);let u=this.HEADER_LENGTH+4;const h=n.decode(e.slice(u,u+i));u=u+i;const g=n.decode(e.slice(u,u+s));u=u+s;const v=n.decode(e.slice(u,u+a));u=u+a;const w=e.slice(u,e.byteLength),b=c===this.JSON_ENCODING?JSON.parse(n.decode(w)):w,A={type:this.BROADCAST,event:g,payload:b};return a>0&&(A.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST,payload:A}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class xU{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ln;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ln||(ln={}));const u3=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=vne(a,t,e,i),s),{}):{}},vne=(t,e,r,n)=>{const i=e.find(c=>c.name===t),s=i?.type,a=r[t];return s&&!n.includes(s)?wU(s,a):fA(a)},wU=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return bne(e,r)}switch(t){case ln.bool:return yne(e);case ln.float4:case ln.float8:case ln.int2:case ln.int4:case ln.int8:case ln.numeric:case ln.oid:return xne(e);case ln.json:case ln.jsonb:return wne(e);case ln.timestamp:return _ne(e);case ln.abstime:case ln.date:case ln.daterange:case ln.int4range:case ln.int8range:case ln.money:case ln.reltime:case ln.text:case ln.time:case ln.timestamptz:case ln.timetz:case ln.tsrange:case ln.tstzrange:return fA(e);default:return fA(e)}},fA=t=>t,yne=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},xne=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},wne=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},bne=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const a=t.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(c=>wU(e,c))}return t},_ne=t=>typeof t=="string"?t.replace(" ","T"):t,bU=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Yb{constructor(e,r,n={},i=uA){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var d3;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(d3||(d3={}));class Zp{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zp.syncState(this.state,i,s,a),this.pendingDiffs.forEach(u=>{this.state=Zp.syncDiff(this.state,u,s,a)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Zp.syncDiff(this.state,i,s,a),c())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),a=this.transformState(r),c={},u={};return this.map(s,(h,g)=>{a[h]||(u[h]=g)}),this.map(a,(h,g)=>{const v=s[h];if(v){const w=g.map(C=>C.presence_ref),b=v.map(C=>C.presence_ref),A=g.filter(C=>b.indexOf(C.presence_ref)<0),E=v.filter(C=>w.indexOf(C.presence_ref)<0);A.length>0&&(c[h]=A),E.length>0&&(u[h]=E)}else c[h]=g}),this.syncDiff(s,{joins:c,leaves:u},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(c,u)=>{var h;const g=(h=e[c])!==null&&h!==void 0?h:[];if(e[c]=this.cloneDeep(u),g.length>0){const v=e[c].map(b=>b.presence_ref),w=g.filter(b=>v.indexOf(b.presence_ref)<0);e[c].unshift(...w)}n(c,g,u)}),this.map(a,(c,u)=>{let h=e[c];if(!h)return;const g=u.map(v=>v.presence_ref);h=h.filter(v=>g.indexOf(v.presence_ref)<0),e[c]=h,i(c,h,u),h.length===0&&delete e[c]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var f3;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(f3||(f3={}));var Qp;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Qp||(Qp={}));var el;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(el||(el={}));class eO{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=pi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Yb(this,ga.join,this.params,this.timeout),this.rejoinTimer=new xU(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pi.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=pi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=pi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ga.reply,{},(a,c)=>{this._trigger(this._replyEventName(c),a)}),this.presence=new Zp(this),this.broadcastEndpointURL=bU(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==pi.closed){const{config:{broadcast:a,presence:c,private:u}}=this.params,h=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(b=>b.filter))!==null&&i!==void 0?i:[],g=!!this.bindings[Qp.PRESENCE]&&this.bindings[Qp.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,v={},w={broadcast:a,presence:Object.assign(Object.assign({},c),{enabled:g}),postgres_changes:h,private:u};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(b=>e?.(el.CHANNEL_ERROR,b)),this._onClose(()=>e?.(el.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var A;if(this.socket.setAuth(),b===void 0){e?.(el.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,C=(A=E?.length)!==null&&A!==void 0?A:0,R=[];for(let I=0;I<C;I++){const P=E[I],{filter:{event:L,schema:T,table:D,filter:M}}=P,$=b&&b[I];if($&&$.event===L&&$.schema===T&&$.table===D&&$.filter===M)R.push(Object.assign(Object.assign({},P),{id:$.id}));else{this.unsubscribe(),this.state=pi.errored,e?.(el.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,e&&e(el.SUBSCRIBED);return}}).receive("error",b=>{this.state=pi.errored,e?.(el.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.(el.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===pi.joined&&e===Qp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{const h=await c.json();u=h.error||h.message||u}catch{}return Promise.reject(new Error(u))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,u;const h=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pi.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ga.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Yb(this,ga.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pi.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Yb(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>mne){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const a=e.toLocaleLowerCase(),{close:c,error:u,leave:h,join:g}=ga;if(n&&[c,u,h,g].indexOf(a)>=0&&n!==this._joinRef())return;let w=this._onMessage(a,r,n);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var A,E,C;return((A=b.filter)===null||A===void 0?void 0:A.event)==="*"||((C=(E=b.filter)===null||E===void 0?void 0:E.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===a}).map(b=>b.callback(w,n)):(s=this.bindings[a])===null||s===void 0||s.filter(b=>{var A,E,C,R,I,P;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in b){const L=b.id,T=(A=b.filter)===null||A===void 0?void 0:A.event;return L&&((E=r.ids)===null||E===void 0?void 0:E.includes(L))&&(T==="*"||T?.toLocaleLowerCase()===((C=r.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const L=(I=(R=b?.filter)===null||R===void 0?void 0:R.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return L==="*"||L===((P=r?.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===a}).map(b=>{if(typeof w=="object"&&"ids"in w){const A=w.data,{schema:E,table:C,commit_timestamp:R,type:I,errors:P}=A;w=Object.assign(Object.assign({},{schema:E,table:C,commit_timestamp:R,eventType:I,new:{},old:{},errors:P}),this._getPayloadRecords(A))}b.callback(w,n)})}_isClosed(){return this.state===pi.closed}_isJoined(){return this.state===pi.joined}_isJoining(){return this.state===pi.joining}_isLeaving(){return this.state===pi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&eO.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ga.close,{},e)}_onError(e){this._on(ga.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=u3(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=u3(e.columns,e.old_record)),r}}const Xb=()=>{},hv={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Sne=[1e3,2e3,5e3,1e4],Ene=1e4,Cne=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ane{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=uA,this.transport=null,this.heartbeatIntervalMs=hv.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xb,this.ref=0,this.reconnectTimer=null,this.vsn=c3,this.logger=Xb,this.conn=null,this.sendBuffer=[],this.serializer=new gne,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${dA.websocket}`,this.httpEndpoint=bU(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=une.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ju.connecting:return Ou.Connecting;case ju.open:return Ou.Open;case ju.closing:return Ou.Closing;default:return Ou.Closed}}isConnected(){return this.connectionState()===Ou.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new eO(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(pne,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},hv.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:a}=r,c=a?`(${a})`:"",u=s.status||"";this.log("receive",`${u} ${n} ${i} ${c}`.trim(),s),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ju.open||this.conn.readyState===ju.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ga.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Cne],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:fne};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(ga.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new xU(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},hv.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,a,c,u,h,g,v,w,b;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:uA,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:hv.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e?.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:Xb,this.vsn=(u=e?.vsn)!==null&&u!==void 0?u:c3,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(A=>Sne[A-1]||Ene),this.vsn){case yU:this.encode=(g=e?.encode)!==null&&g!==void 0?g:((A,E)=>E(JSON.stringify(A))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:((A,E)=>E(JSON.parse(A)));break;case hne:this.encode=(w=e?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(b=e?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class tO extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function kn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Nne extends tO{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class hA extends tO{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const rO=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),jne=()=>Response,pA=t=>{if(Array.isArray(t))return t.map(r=>pA(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=pA(n)}),e},One=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Zb=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Tne=(t,e,r)=>jt(void 0,void 0,void 0,function*(){const n=yield jne();t instanceof n&&!r?.noResolveJson?t.json().then(i=>{const s=t.status||500,a=i?.statusCode||s+"";e(new Nne(Zb(i),s,a))}).catch(i=>{e(new hA(Zb(i),i))}):e(new hA(Zb(t),t))}),kne=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!n?i:(One(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function Og(t,e,r,n,i,s){return jt(this,void 0,void 0,function*(){return new Promise((a,c)=>{t(r,kne(e,n,i,s)).then(u=>{if(!u.ok)throw u;return n?.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>Tne(u,c,n))})})}function wm(t,e,r,n){return jt(this,void 0,void 0,function*(){return Og(t,"GET",e,r,n)})}function qa(t,e,r,n,i){return jt(this,void 0,void 0,function*(){return Og(t,"POST",e,n,i,r)})}function mA(t,e,r,n,i){return jt(this,void 0,void 0,function*(){return Og(t,"PUT",e,n,i,r)})}function Pne(t,e,r,n){return jt(this,void 0,void 0,function*(){return Og(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function nO(t,e,r,n,i){return jt(this,void 0,void 0,function*(){return Og(t,"DELETE",e,n,i,r)})}class Ine{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return jt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(kn(e))return{data:null,error:e};throw e}})}}var _U;class Rne{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[_U]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ine(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return jt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(kn(e))return{data:null,error:e};throw e}})}}_U=Symbol.toStringTag;const Mne={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},h3={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Dne{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=rO(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return jt(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},h3),i);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),u&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(u))):(s=n,c["cache-control"]=`max-age=${a.cacheControl}`,c["content-type"]=a.contentType,u&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),i?.headers&&(c=Object.assign(Object.assign({},c),i.headers));const h=this._removeEmptyFolders(r),g=this._getFinalPath(h),v=yield(e=="PUT"?mA:qa)(this.fetch,`${this.url}/object/${g}`,s,Object.assign({headers:c},a?.duplex?{duplex:a.duplex}:{}));return{data:{path:h,id:v.Id,fullPath:v.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(kn(s))return{data:null,error:s};throw s}})}upload(e,r,n){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return jt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),c=new URL(this.url+`/object/upload/sign/${a}`);c.searchParams.set("token",r);try{let u;const h=Object.assign({upsert:h3.upsert},i),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",h.cacheControl)):(u=n,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType);const v=yield mA(this.fetch,c.toString(),u,{headers:g});return{data:{path:s,fullPath:v.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(kn(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,r){return jt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const s=yield qa(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),c=a.searchParams.get("token");if(!c)throw new tO("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:c},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kn(n))return{data:null,error:n};throw n}})}update(e,r,n){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return jt(this,void 0,void 0,function*(){try{return{data:yield qa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}})}copy(e,r,n){return jt(this,void 0,void 0,function*(){try{return{data:{path:(yield qa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return jt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield qa(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return jt(this,void 0,void 0,function*(){try{const i=yield qa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(r?.transform||{}),a=s?`?${s}`:"",c=this._getFinalPath(e),u=()=>wm(this.fetch,`${this.url}/${i}/${c}${a}`,{headers:this.headers,noResolveJson:!0});return new Rne(u,this.shouldThrowOnError)}info(e){return jt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield wm(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:pA(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kn(n))return{data:null,error:n};throw n}})}exists(e){return jt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Pne(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kn(n)&&n instanceof hA){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r?.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const c=typeof r?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(r?.transform||{});u!==""&&i.push(u);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${h}`)}}}remove(e){return jt(this,void 0,void 0,function*(){try{return{data:yield nO(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kn(r))return{data:null,error:r};throw r}})}list(e,r,n){return jt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Mne),r),{prefix:e||""});return{data:yield qa(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}})}listV2(e,r){return jt(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield qa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kn(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const SU="2.81.1",EU={"X-Client-Info":`storage-js/${SU}`};class Lne{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},EU),r),this.fetch=rO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return jt(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield wm(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kn(r))return{data:null,error:r};throw r}})}getBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:yield wm(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kn(r))return{data:null,error:r};throw r}})}createBucket(e){return jt(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield qa(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return jt(this,void 0,void 0,function*(){try{return{data:yield mA(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:yield qa(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:yield nO(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kn(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Bne{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},EU),r),this.fetch=rO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:yield qa(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kn(r))return{data:null,error:r};throw r}})}listBuckets(e){return jt(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield wm(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:yield nO(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kn(r))return{data:null,error:r};throw r}})}}const iO={"X-Client-Info":`storage-js/${SU}`,"Content-Type":"application/json"};class CU extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Gs(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Qb extends CU{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fne extends CU{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var p3;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(p3||(p3={}));const sO=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Une=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},m3=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$ne=(t,e,r)=>jt(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(a=>{const c=a?.statusCode||a?.code||i+"";e(new Qb(m3(a),i,c))}).catch(()=>{const a=i+"",c=s.statusText||`HTTP ${i} error`;e(new Qb(c,i,a))});else{const a=i+"",c=s.statusText||`HTTP ${i} error`;e(new Qb(c,i,a))}}else e(new Fne(m3(t),t))}),Vne=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return n?(Une(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function qne(t,e,r,n,i,s){return jt(this,void 0,void 0,function*(){return new Promise((a,c)=>{t(r,Vne(e,n,i,s)).then(u=>{if(!u.ok)throw u;if(n?.noResolveJson)return u;const h=u.headers.get("content-type");return!h||!h.includes("application/json")?{}:u.json()}).then(u=>a(u)).catch(u=>$ne(u,c,n))})})}function Ks(t,e,r,n,i){return jt(this,void 0,void 0,function*(){return qne(t,"POST",e,n,i,r)})}class Wne{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},iO),r),this.fetch=sO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return jt(this,void 0,void 0,function*(){try{return{data:(yield Ks(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gs(r))return{data:null,error:r};throw r}})}getIndex(e,r){return jt(this,void 0,void 0,function*(){try{return{data:yield Ks(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gs(n))return{data:null,error:n};throw n}})}listIndexes(e){return jt(this,void 0,void 0,function*(){try{return{data:yield Ks(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gs(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return jt(this,void 0,void 0,function*(){try{return{data:(yield Ks(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gs(n))return{data:null,error:n};throw n}})}}class zne{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},iO),r),this.fetch=sO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return jt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ks(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gs(r))return{data:null,error:r};throw r}})}getVectors(e){return jt(this,void 0,void 0,function*(){try{return{data:yield Ks(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gs(r))return{data:null,error:r};throw r}})}listVectors(e){return jt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ks(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gs(r))return{data:null,error:r};throw r}})}queryVectors(e){return jt(this,void 0,void 0,function*(){try{return{data:yield Ks(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gs(r))return{data:null,error:r};throw r}})}deleteVectors(e){return jt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ks(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gs(r))return{data:null,error:r};throw r}})}}class Hne{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},iO),r),this.fetch=sO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:(yield Ks(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gs(r))return{data:null,error:r};throw r}})}getBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:yield Ks(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gs(r))return{data:null,error:r};throw r}})}listBuckets(){return jt(this,arguments,void 0,function*(e={}){try{return{data:yield Ks(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gs(r))return{data:null,error:r};throw r}})}deleteBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:(yield Ks(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gs(r))return{data:null,error:r};throw r}})}}class Gne extends Hne{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Kne(this.url,this.headers,e,this.fetch)}}class Kne extends Wne{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return jt(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return jt(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return jt(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return jt(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Yne(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Yne extends zne{constructor(e,r,n,i,s){super(e,r,s),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return jt(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return jt(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return jt(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return jt(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return jt(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Xne extends Lne{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new Dne(this.url,this.headers,e,this.fetch)}get vectors(){return new Gne(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Bne(this.url+"/iceberg",this.headers,this.fetch)}}const Zne="2.81.1";let Wp="";typeof Deno<"u"?Wp="deno":typeof document<"u"?Wp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wp="react-native":Wp="node";const Qne={"X-Client-Info":`supabase-js-${Wp}/${Zne}`},Jne={headers:Qne},eie={schema:"public"},tie={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rie={},nie=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),iie=()=>Headers,sie=(t,e,r)=>{const n=nie(r),i=iie();return async(s,a)=>{var c;const u=(c=await e())!==null&&c!==void 0?c:t;let h=new i(a?.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${u}`),n(s,Object.assign(Object.assign({},a),{headers:h}))}};function aie(t){return t.endsWith("/")?t:t+"/"}function oie(t,e){var r,n;const{db:i,auth:s,realtime:a,global:c}=t,{db:u,auth:h,realtime:g,global:v}=e,w={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},h),s),realtime:Object.assign(Object.assign({},g),a),storage:{},global:Object.assign(Object.assign(Object.assign({},v),c),{headers:Object.assign(Object.assign({},(r=v?.headers)!==null&&r!==void 0?r:{}),(n=c?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function lie(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(aie(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const AU="2.81.1",df=30*1e3,gA=3,Jb=gA*df,cie="http://localhost:9999",uie="supabase.auth.token",die={"X-Client-Info":`gotrue-js/${AU}`},vA="X-Supabase-Api-Version",NU={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fie=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hie=600*1e3;class bm extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Dt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class pie extends bm{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function mie(t){return Dt(t)&&t.name==="AuthApiError"}class Tu extends bm{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Lc extends bm{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Fa extends Lc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gie(t){return Dt(t)&&t.name==="AuthSessionMissingError"}class Xd extends Lc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pv extends Lc{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class mv extends Lc{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function vie(t){return Dt(t)&&t.name==="AuthImplicitGrantRedirectError"}class g3 extends Lc{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yA extends Lc{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function e_(t){return Dt(t)&&t.name==="AuthRetryableFetchError"}class v3 extends Lc{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class xA extends Lc{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ay="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),y3=` 	
\r=`.split(""),yie=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<y3.length;e+=1)t[y3[e].charCodeAt(0)]=-2;for(let e=0;e<ay.length;e+=1)t[ay[e].charCodeAt(0)]=e;return t})();function x3(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ay[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ay[n]),e.queuedBits-=6}}function jU(t,e,r){const n=yie[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function w3(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{bie(a,n,r)};for(let a=0;a<t.length;a+=1)jU(t.charCodeAt(a),i,s);return e.join("")}function xie(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function wie(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}xie(n,e)}}function bie(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Cf(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)jU(t.charCodeAt(i),r,n);return new Uint8Array(e)}function _ie(t){const e=[];return wie(t,r=>e.push(r)),new Uint8Array(e)}function Iu(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>x3(i,r,n)),x3(null,r,n),e.join("")}function Sie(t){return Math.round(Date.now()/1e3)+t}function Eie(){return Symbol("auth-callback")}const Mi=()=>typeof window<"u"&&typeof document<"u",gu={tested:!1,writable:!1},OU=()=>{if(!Mi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gu.tested)return gu.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),gu.tested=!0,gu.writable=!0}catch{gu.tested=!0,gu.writable=!1}return gu.writable};function Cie(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const TU=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Aie=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ff=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},vu=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ec=async(t,e)=>{await t.removeItem(e)};class rx{constructor(){this.promise=new rx.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}rx.promiseConstructor=Promise;function t_(t){const e=t.split(".");if(e.length!==3)throw new xA("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!fie.test(e[n]))throw new xA("JWT not in base64url format");return{header:JSON.parse(w3(e[0])),payload:JSON.parse(w3(e[1])),signature:Cf(e[2]),raw:{header:e[0],payload:e[1]}}}async function Nie(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function jie(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function Oie(t){return("0"+t.toString(16)).substr(-2)}function Tie(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,Oie).join("")}async function kie(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Pie(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await kie(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Zd(t,e,r=!1){const n=Tie();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await ff(t,`${e}-code-verifier`,i);const s=await Pie(n);return[s,n===s?"plain":"s256"]}const Iie=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Rie(t){const e=t.headers.get(vA);if(!e||!e.match(Iie))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Mie(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Die(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Lie=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qd(t){if(!Lie.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function r_(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Bie(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function b3(t){return JSON.parse(JSON.stringify(t))}const bu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Fie=[502,503,504];async function _3(t){var e;if(!Aie(t))throw new yA(bu(t),0);if(Fie.includes(t.status))throw new yA(bu(t),t.status);let r;try{r=await t.json()}catch(s){throw new Tu(bu(s),s)}let n;const i=Rie(t);if(i&&i.getTime()>=NU["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new v3(bu(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Fa}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new v3(bu(r),t.status,r.weak_password.reasons);throw new pie(bu(r),t.status||500,n)}const Uie=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Yt(t,e,r,n){var i;const s=Object.assign({},n?.headers);s[vA]||(s[vA]=NU["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(a.redirect_to=n.redirectTo);const c=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await $ie(t,e,r+c,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(u):{data:Object.assign({},u),error:null}}async function $ie(t,e,r,n,i,s){const a=Uie(e,n,i,s);let c;try{c=await t(r,Object.assign({},a))}catch(u){throw console.error(u),new yA(bu(u),0)}if(c.ok||await _3(c),n?.noResolveJson)return c;try{return await c.json()}catch(u){await _3(u)}}function Ua(t){var e;let r=null;Wie(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Sie(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function S3(t){const e=Ua(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function oc(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Vie(t){return{data:t,error:null}}function qie(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,a=Dc(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},u=Object.assign({},a);return{data:{properties:c,user:u},error:null}}function E3(t){return t}function Wie(t){return t.access_token&&t.refresh_token&&t.expires_in}const n_=["global","local","others"];class zie{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=TU(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=n_[0]){if(n_.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${n_.join(", ")}`);try{return await Yt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Dt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Yt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:oc})}catch(n){if(Dt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Dc(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Yt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:qie,redirectTo:r?.redirectTo})}catch(r){if(Dt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Yt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:oc})}catch(r){if(Dt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,a,c,u;try{const h={nextPage:null,lastPage:0,total:0},g=await Yt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:E3});if(g.error)throw g.error;const v=await g.json(),w=(a=g.headers.get("x-total-count"))!==null&&a!==void 0?a:0,b=(u=(c=g.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return b.length>0&&(b.forEach(A=>{const E=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(A.split(";")[1].split("=")[1]);h[`${C}Page`]=E}),h.total=parseInt(w)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(Dt(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){Qd(e);try{return await Yt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:oc})}catch(r){if(Dt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Qd(e);try{return await Yt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:oc})}catch(n){if(Dt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Qd(e);try{return await Yt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:oc})}catch(n){if(Dt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Qd(e.userId);try{const{data:r,error:n}=await Yt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Dt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Qd(e.userId),Qd(e.id);try{return{data:await Yt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Dt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,a,c,u;try{const h={nextPage:null,lastPage:0,total:0},g=await Yt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:E3});if(g.error)throw g.error;const v=await g.json(),w=(a=g.headers.get("x-total-count"))!==null&&a!==void 0?a:0,b=(u=(c=g.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return b.length>0&&(b.forEach(A=>{const E=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(A.split(";")[1].split("=")[1]);h[`${C}Page`]=E}),h.total=parseInt(w)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(Dt(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await Yt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Dt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Yt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Dt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Yt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Dt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Yt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Dt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Yt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Dt(r))return{data:null,error:r};throw r}}}function C3(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Jd={debug:!!(globalThis&&OU()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kU extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Hie extends kU{}async function Gie(t,e,r){Jd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Jd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Jd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Jd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Jd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Hie(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Jd.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Kie(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function PU(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Yie(t){return parseInt(t,16)}function Xie(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Zie(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:c,requestId:u,resources:h,scheme:g,uri:v,version:w}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=PU(t.address),A=g?`${g}://${n}`:n,E=t.statement?`${t.statement}
`:"",C=`${A} wants you to sign in with your Ethereum account:
${b}

${E}`;let R=`URI: ${v}
Version: ${w}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(R+=`
Expiration Time: ${i.toISOString()}`),c&&(R+=`
Not Before: ${c.toISOString()}`),u&&(R+=`
Request ID: ${u}`),h){let I=`
Resources:`;for(const P of h){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);I+=`
- ${P}`}R+=I}return`${C}
${R}`}class Zn extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class oy extends Zn{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Qie({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Zn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Zn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Zn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Zn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Zn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Zn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Zn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Zn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(IU(a)){if(s.rp.id!==a)return new Zn({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Zn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Zn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Zn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Zn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Jie({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Zn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Zn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(IU(n)){if(r.rpId!==n)return new Zn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Zn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Zn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Zn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class ese{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const tse=new ese;function rse(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=Dc(t,["challenge","user","excludeCredentials"]),s=Cf(e).buffer,a=Object.assign(Object.assign({},r),{id:Cf(r.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:s,user:a});if(n&&n.length>0){c.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const h=n[u];c.excludeCredentials[u]=Object.assign(Object.assign({},h),{id:Cf(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function nse(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Dc(t,["challenge","allowCredentials"]),i=Cf(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const c=r[a];s.allowCredentials[a]=Object.assign(Object.assign({},c),{id:Cf(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function ise(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Iu(new Uint8Array(t.response.attestationObject)),clientDataJSON:Iu(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function sse(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Iu(new Uint8Array(i.authenticatorData)),clientDataJSON:Iu(new Uint8Array(i.clientDataJSON)),signature:Iu(new Uint8Array(i.signature)),userHandle:i.userHandle?Iu(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function IU(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function A3(){var t,e;return!!(Mi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function ase(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new oy("Browser returned unexpected credential type",e)}:{data:null,error:new oy("Empty credential response",e)}}catch(e){return{data:null,error:Qie({error:e,options:t})}}}async function ose(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new oy("Browser returned unexpected credential type",e)}:{data:null,error:new oy("Empty credential response",e)}}catch(e){return{data:null,error:Jie({error:e,options:t})}}}const lse={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},cse={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ly(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))n[s]=a;else if(r(a))n[s]=a;else if(e(a)){const c=n[s];e(c)?n[s]=ly(c,a):n[s]=ly(a)}else n[s]=a}return n}function use(t,e){return ly(lse,t,e||{})}function dse(t,e){return ly(cse,t,e||{})}class fse{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){try{const{data:a,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:c};const u=i??tse.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:h}=a.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(a.webauthn.type){case"create":{const h=use(a.webauthn.credential_options.publicKey,s?.create),{data:g,error:v}=await ase({publicKey:h,signal:u});return g?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}case"request":{const h=dse(a.webauthn.credential_options.publicKey,s?.request),{data:g,error:v}=await ose(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:h,signal:u}));return g?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}}}catch(a){return Dt(a)?{data:null,error:a}:{data:null,error:new Tu("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new bm("rpId is required for WebAuthn authentication")};try{if(!A3())return{data:null,error:new Tu("Browser does not support WebAuthn",null)};const{data:a,error:c}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!a)return{data:null,error:c};const{webauthn:u}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:u.type,rpId:r,rpOrigins:n,credential_response:u.credential_response}})}catch(a){return Dt(a)?{data:null,error:a}:{data:null,error:new Tu("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new bm("rpId is required for WebAuthn registration")};try{if(!A3())return{data:null,error:new Tu("Browser does not support WebAuthn",null)};const{data:a,error:c}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(g=>{var v;return(v=g.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:c};const{data:u,error:h}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:r,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:h}}catch(a){return Dt(a)?{data:null,error:a}:{data:null,error:new Tu("Unexpected error in register",a)}}}}Kie();const hse={url:cie,storageKey:uie,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:die,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function N3(t,e,r){return await r()}const ef={};class _m{get jwks(){var e,r;return(r=(e=ef[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){ef[this.storageKey]=Object.assign(Object.assign({},ef[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=ef[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ef[this.storageKey]=Object.assign(Object.assign({},ef[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},hse),e);if(this.storageKey=s.storageKey,this.instanceID=(r=_m.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,_m.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Mi()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new zie({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=TU(s.fetch),this.lock=s.lock||N3,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:Mi()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=Gie:this.lock=N3,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new fse(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:OU()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=C3(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=C3(this.memoryStorage)),Mi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${AU}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Mi()&&(r=Cie(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Mi()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),vie(s)){const u=(e=s.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Dt(r)?this._returnResult({error:r}):this._returnResult({error:new Tu("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await Yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ua}),{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});const u=a.session,h=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:h,session:u},error:null})}catch(s){if(Dt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:g,password:v,options:w}=e;let b=null,A=null;this.flowType==="pkce"&&([b,A]=await Zd(this.storage,this.storageKey)),s=await Yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:g,password:v,data:(r=w?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:b,code_challenge_method:A},xform:Ua})}else if("phone"in e){const{phone:g,password:v,options:w}=e;s=await Yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(n=w?.data)!==null&&n!==void 0?n:{},channel:(i=w?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Ua})}else throw new pv("You must provide either an email or phone number and a password");const{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});const u=a.session,h=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:h,session:u},error:null})}catch(s){if(Dt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:a,options:c}=e;r=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:S3})}else if("phone"in e){const{phone:s,password:a,options:c}=e;r=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:S3})}else throw new pv("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new Xd;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Dt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,a,c,u,h,g,v,w;let b,A;if("message"in e)b=e.message,A=e.signature;else{const{chain:E,wallet:C,statement:R,options:I}=e;let P;if(Mi())if(typeof C=="object")P=C;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")P=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=C}const L=new URL((r=I?.url)!==null&&r!==void 0?r:window.location.href),T=await P.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=PU(T[0]);let M=(n=I?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!M){const V=await P.request({method:"eth_chainId"});M=Yie(V)}const $={domain:L.host,address:D,statement:R,uri:L.href,version:"1",chainId:M,nonce:(i=I?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=I?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=I?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=I?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(h=I?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(g=I?.signInWithEthereum)===null||g===void 0?void 0:g.resources};b=Zie($),A=await P.request({method:"personal_sign",params:[Xie(b),D]})}try{const{data:E,error:C}=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:A},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Ua});if(C)throw C;if(!E||!E.session||!E.user){const R=new Xd;return this._returnResult({data:{user:null,session:null},error:R})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:C})}catch(E){if(Dt(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var r,n,i,s,a,c,u,h,g,v,w,b;let A,E;if("message"in e)A=e.message,E=e.signature;else{const{chain:C,wallet:R,statement:I,options:P}=e;let L;if(Mi())if(typeof R=="object")L=R;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))L=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=R}const T=new URL((r=P?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in L&&L.signIn){const D=await L.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P?.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),I?{statement:I}:null));let M;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")M=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)M=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)A=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),E=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in L)||typeof L.signMessage!="function"||!("publicKey"in L)||typeof L!="object"||!L.publicKey||!("toBase58"in L.publicKey)||typeof L.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${T.host} wants you to sign in with your Solana account:`,L.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(i=(n=P?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=P?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((a=P?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((c=P?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((u=P?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((h=P?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((v=(g=P?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...P.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const D=await L.signMessage(new TextEncoder().encode(A),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=D}}try{const{data:C,error:R}=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:Iu(E)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Ua});if(R)throw R;if(!C||!C.session||!C.user){const I=new Xd;return this._returnResult({data:{user:null,session:null},error:I})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:R})}catch(C){if(Dt(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(e){const r=await vu(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ua});if(await ec(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const c=new Xd;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(Dt(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=e,c=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ua}),{data:u,error:h}=c;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!u||!u.session||!u.user){const g=new Xd;return this._returnResult({data:{user:null,session:null},error:g})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:h})}catch(r){if(Dt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,s,a;try{if("email"in e){const{email:c,options:u}=e;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await Zd(this.storage,this.storageKey));const{error:v}=await Yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(n=u?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:h,code_challenge_method:g},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:c,options:u}=e,{data:h,error:g}=await Yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:g})}throw new pv("You must provide either an email or phone number.")}catch(c){if(Dt(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:c}=await Yt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Ua});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,h=a.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:h,session:u},error:null})}catch(i){if(Dt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,s,a;try{let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Zd(this.storage,this.storageKey));const h=await Yt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:Vie});return!((s=h.data)===null||s===void 0)&&s.url&&Mi()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(c){if(Dt(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Fa;const{error:i}=await Yt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Dt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:a}=await Yt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:a,error:c}=await Yt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:c})}throw new pv("You must provide either an email or phone number and a type")}catch(r){if(Dt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await vu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Jb:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await vu(this.userStorage,this.storageKey+"-user");a?.user?e.user=a.user:e.user=r_()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=Bie(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:oc}):await this._useSession(async r=>{var n,i,s;const{data:a,error:c}=r;if(c)throw c;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fa}:await Yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:oc})})}catch(r){if(Dt(r))return gie(r)&&(await this._removeSession(),await ec(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Fa;const a=i.session;let c=null,u=null;this.flowType==="pkce"&&e.email!=null&&([c,u]=await Zd(this.storage,this.storageKey));const{data:h,error:g}=await Yt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:u}),jwt:a.access_token,xform:oc});if(g)throw g;return a.user=h.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(Dt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Fa;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=t_(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:c,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c)return{data:{user:null,session:null},error:null};s=c}else{const{data:c,error:u}=await this._getUser(e.access_token);if(u)throw u;s={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Dt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:c}=r;if(c)throw c;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new Fa;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Dt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Mi())throw new mv("No browser detected.");if(e.error||e.error_description||e.error_code)throw new mv(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new g3("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new mv("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new g3("No code detected.");const{data:I,error:P}=await this._exchangeCodeForSession(e.code);if(P)throw P;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:u,token_type:h}=e;if(!s||!c||!a||!h)throw new mv("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(c);let w=g+v;u&&(w=parseInt(u));const b=w-g;b*1e3<=df&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${v}s`);const A=w-v;g-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,w,g):g-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,w,g);const{data:E,error:C}=await this._getUser(s);if(C)throw C;const R={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:v,expires_at:w,refresh_token:a,token_type:h,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:R,redirectType:e.type},error:null})}catch(n){if(Dt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await vu(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:c}=await this.admin.signOut(a,e);if(c&&!(mie(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await ec(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Eie(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Zd(this.storage,this.storageKey,!0));try{return await Yt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Dt(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Dt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,c,u,h,g;const{data:v,error:w}=s;if(w)throw w;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Yt(this.fetch,"GET",b,{headers:this.headers,jwt:(g=(h=v.session)===null||h===void 0?void 0:h.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return Mi()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(Dt(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:a,provider:c,token:u,access_token:h,nonce:g}=e,v=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:c,id_token:u,access_token:h,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Ua}),{data:w,error:b}=v;return b?this._returnResult({data:{user:null,session:null},error:b}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Xd}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:b}))}catch(i){if(Dt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await Yt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Dt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await jie(async i=>(i>0&&await Nie(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Yt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ua})),(i,s)=>{const a=200*Math.pow(2,i);return s&&e_(s)&&Date.now()+a-n<df})}catch(n){if(this._debug(r,"error",n),Dt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Mi()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await vu(this.storage,this.storageKey);if(i&&this.userStorage){let a=await vu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await ff(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a?.user)!==null&&e!==void 0?e:r_()}else if(i&&!i.user&&!i.user){const a=await vu(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,await ec(this.storage,this.storageKey+"-user"),await ff(this.storage,this.storageKey,i)):i.user=r_()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Jb;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Jb}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),e_(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:c}=await this._getUser(i.access_token);!c&&a?.user?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Fa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new rx;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Fa;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),Dt(s)){const a={data:null,error:s};return e_(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,r)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ff(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=b3(i);await ff(this.storage,this.storageKey,s)}else{const i=b3(r);await ff(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ec(this.storage,this.storageKey),await ec(this.storage,this.storageKey+"-code-verifier"),await ec(this.storage,this.storageKey+"-user"),this.userStorage&&await ec(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Mi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),df);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/df);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${df}ms, refresh threshold is ${gA} ticks`),i<=gA&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof kU)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await Zd(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(c.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await Yt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Dt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:h}=await Yt(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(Dt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?ise(e.webauthn.credential_response):sse(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:u}=await Yt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:u}))})}catch(r){if(Dt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=await Yt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:rse(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:nse(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Dt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=t_(n.access_token);let a=null;s.aal&&(a=s.aal);let c=a;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const h=s.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Yt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Fa})})}catch(r){if(Dt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Fa});const a=await Yt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&Mi()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Dt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Fa});const a=await Yt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&Mi()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Dt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(c=>c.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(c=>c.kid===e),n&&this.jwks_cached_at+hie>i)return n;const{data:s,error:a}=await Yt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(c=>c.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:b,error:A}=await this.getSession();if(A||!b.session)return this._returnResult({data:null,error:A});n=b.session.access_token}const{header:i,payload:s,signature:a,raw:{header:c,payload:u}}=t_(n);r?.allowExpired||Mie(s.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!h){const{error:b}=await this.getUser(n);if(b)throw b;return{data:{claims:s,header:i,signature:a},error:null}}const g=Die(i.alg),v=await crypto.subtle.importKey("jwk",h,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,a,_ie(`${c}.${u}`)))throw new xA("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(Dt(n))return this._returnResult({data:null,error:n});throw n}}}_m.nextInstanceID={};const pse=_m;class mse extends pse{constructor(e){super(e)}}class gse{constructor(e,r,n){var i,s,a;this.supabaseUrl=e,this.supabaseKey=r;const c=lie(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:eie,realtime:rie,auth:Object.assign(Object.assign({},tie),{storageKey:u}),global:Jne},g=oie(n??{},h);this.storageKey=(i=g.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=g.global.headers)!==null&&s!==void 0?s:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=g.auth)!==null&&a!==void 0?a:{},this.headers,g.global.fetch),this.fetch=sie(r,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new cne(new URL("rest/v1",c).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new Xne(this.storageUrl.href,this.headers,this.fetch,n?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new sne(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:a,flowType:c,lock:u,debug:h,throwOnError:g},v,w){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mse({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),v),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:c,lock:u,debug:h,throwOnError:g,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Ane(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const vse=(t,e,r)=>new gse(t,e,r);function yse(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}yse()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const xse="https://yggvabrltcxvkiyjixdv.supabase.co",wse="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlnZ3ZhYnJsdGN4dmtpeWppeGR2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMwMTI5MzcsImV4cCI6MjA3ODU4ODkzN30.fU1VYjYGRxDwADO6RoYvb1CxIfJUnkEL386aEAPgRqQ",bse=xse.replace(/\/$/,""),Se=vse(bse,wse,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),aO=()=>typeof window<"u"&&window.location.hostname==="pinnacleadvisors.github.io"?"/mars-space-gym-buddy":(typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.includes("localhost")),""),Mf=t=>{if(typeof window>"u")return t;const e=aO(),r=t.startsWith("/")?t:`/${t}`;return`${window.location.origin}${e}${r}`},Oo=()=>{const[t,e]=j.useState(null),[r,n]=j.useState(!0),i=j.useCallback(async g=>{if(!g)return null;try{const{data:v,error:w}=await Se.from("profiles").select("*").eq("id",g.id).single();w&&w.code!=="PGRST116"&&console.error("Error fetching profile:",w);const{data:b,error:A}=await Se.from("user_roles").select("role").eq("user_id",g.id).limit(1);A&&console.error("Error fetching roles:",A);const E=b&&b.length>0?b[0].role:"member",{data:C,error:R}=await Se.from("user_memberships").select("status, start_date, end_date").eq("user_id",g.id).eq("status","active").eq("payment_status","paid").gt("end_date",new Date().toISOString()).order("created_at",{ascending:!1}).limit(1).maybeSingle();return R&&console.error("Error fetching membership:",R),{id:g.id,email:g.email||"",full_name:v?.full_name||g.user_metadata?.full_name||"",phone:v?.phone||void 0,role:E,membership_status:C?"active":"inactive",membership_start_date:C?.start_date||void 0,membership_end_date:C?.end_date||void 0,created_at:v?.created_at||g.created_at||new Date().toISOString(),updated_at:v?.updated_at||new Date().toISOString(),email_verified:g.email_confirmed_at!==null&&g.email_confirmed_at!==void 0}}catch(v){return console.error("Error in fetchUserData:",v),null}},[]);return j.useEffect(()=>{let g=!0;(async()=>{try{const{data:{user:b},error:A}=await Se.auth.getUser();if(A){A.name!=="AuthSessionMissingError"&&console.error("Error getting user:",A),g&&(e(null),n(!1));return}if(b&&g){const E=await i(b);if(E)e(E);else{const C={id:b.id,email:b.email||"",full_name:b.user_metadata?.full_name||"",phone:void 0,role:"member",membership_status:"inactive",membership_start_date:void 0,membership_end_date:void 0,created_at:b.created_at||new Date().toISOString(),updated_at:new Date().toISOString(),email_verified:b.email_confirmed_at!==null&&b.email_confirmed_at!==void 0};e(C)}}else g&&e(null)}catch(b){console.error("Error initializing auth:",b),g&&e(null)}finally{g&&n(!1)}})();const{data:{subscription:w}}=Se.auth.onAuthStateChange(async(b,A)=>{if(g){if(b==="SIGNED_OUT"||!A?.user){e(null),n(!1);return}if(b==="SIGNED_IN"||b==="TOKEN_REFRESHED"||b==="USER_UPDATED"){if(console.log("Auth state change:",b,A?.user?.id),n(!0),A?.user){const E={id:A.user.id,email:A.user.email||"",full_name:A.user.user_metadata?.full_name||"",phone:void 0,role:"member",membership_status:"inactive",membership_start_date:void 0,membership_end_date:void 0,created_at:A.user.created_at||new Date().toISOString(),updated_at:new Date().toISOString(),email_verified:A.user.email_confirmed_at!==null&&A.user.email_confirmed_at!==void 0};console.log("Setting fallback user immediately:",E.id),e(E)}try{const C=await Promise.race([i(A.user),new Promise(R=>setTimeout(()=>{console.warn("fetchUserData timeout after 3 seconds, using fallback user"),R(null)},3e3))]);C?(console.log("User data fetched successfully, updating:",C.id),e(C)):console.log("Using fallback user (fetchUserData returned null or timed out)")}catch(E){console.error("Error updating user data:",E)}finally{n(!1),console.log("Auth state update complete, loading set to false")}}}});return()=>{g=!1,w.unsubscribe()}},[i]),{user:t,loading:r,login:async(g,v)=>{try{n(!0);const{data:w,error:b}=await Se.auth.signInWithPassword({email:g,password:v});if(b)throw b;if(w.user){const A=await i(w.user);e(A)}return{error:null}}catch(w){return console.error("Login error:",w),{error:w}}finally{n(!1)}},logout:async()=>{try{n(!0);const{error:g}=await Se.auth.signOut();if(g)throw g;return e(null),{error:null}}catch(g){return console.error("Logout error:",g),{error:g}}finally{n(!1)}},register:async(g,v,w)=>{try{n(!0);const{data:b,error:A}=await Se.auth.signUp({email:g,password:v,options:{data:{full_name:w},emailRedirectTo:Mf("/auth/callback")}});if(A)throw A;return{data:b,error:null}}catch(b){return console.error("Registration error:",b),{data:null,error:b}}finally{n(!1)}},getUser:async()=>{try{const{data:{user:g},error:v}=await Se.auth.getUser();if(v||!g)return e(null),null;const w=await i(g);return e(w),w}catch(g){return console.error("Error getting user:",g),e(null),null}},refreshSession:async()=>{try{n(!0);const{data:{session:g},error:v}=await Se.auth.refreshSession();if(v)return console.error("Error refreshing session:",v),(v.message?.includes("expired")||v.message?.includes("invalid"))&&e(null),{success:!1,error:v};if(g?.user){const w=await i(g.user);return e(w),{success:!0}}return{success:!1,error:new Error("No session after refresh")}}catch(g){return console.error("Error refreshing session:",g),e(null),{success:!1,error:g}}finally{n(!1)}}}};function _se(){const t=ii(),{logout:e}=Oo();return o.jsx("header",{className:"sticky top-0 z-40 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:o.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(uU,{className:"md:hidden"}),o.jsx("h1",{className:"text-xl font-bold text-primary",children:"marsspace"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(Te,{onClick:()=>t("/classes"),className:"gap-2",variant:"default",children:[o.jsx(ei,{className:"h-4 w-4"}),"Book Class"]}),o.jsxs(LF,{children:[o.jsx(BF,{asChild:!0,children:o.jsx(Te,{variant:"ghost",size:"icon",className:"rounded-full",children:o.jsxs(Ij,{className:"h-9 w-9",children:[o.jsx(Rj,{src:"",alt:"User"}),o.jsx(Mj,{className:"bg-primary text-primary-foreground",children:o.jsx(bf,{className:"h-5 w-5"})})]})})}),o.jsxs(zj,{align:"end",className:"w-56",children:[o.jsx(Hj,{children:"My Account"}),o.jsx(iy,{}),o.jsxs(fc,{onClick:()=>t("/profile"),children:[o.jsx(bf,{className:"mr-2 h-4 w-4"}),"Profile"]}),o.jsxs(fc,{onClick:()=>t("/profile"),children:[o.jsx(UB,{className:"mr-2 h-4 w-4"}),"Settings"]}),o.jsx(iy,{}),o.jsxs(fc,{onClick:async()=>{await e(),t("/login")},children:[o.jsx(pj,{className:"mr-2 h-4 w-4"}),"Log out"]})]})]})]})]})})}function Sse(){const t=jo(),e=ii(),{open:r,toggleSidebar:n,setOpenMobile:i}=jg(),[s,a]=j.useState(!1);j.useEffect(()=>{(async()=>{try{const{data:{user:w}}=await Se.auth.getUser();if(!w)return;const{data:b,error:A}=await Se.from("user_roles").select("role").eq("user_id",w.id).single();if(A){console.error("Error fetching user role:",A);return}a(b?.role==="admin")}catch(w){console.error("Role check failed:",w)}})()},[]);const c=v=>t.pathname===v,u=[{icon:cm,label:"Entry/Exit",path:"/qr/entry-exit"}],h=[{icon:ei,label:"Classes",path:"/classes"},{icon:RB,label:"Bookings",path:"/bookings"},{icon:qC,label:"Membership",path:"/managememberships"},{icon:gj,label:"Rewards",path:"/rewards"},{icon:lI,label:"Dashboard",path:"/dashboard"},{icon:cI,label:"Profile",path:"/profile"},{icon:UB,label:"Settings",path:"/settings"}],g=[{icon:lI,label:"Admin Dashboard",path:"/admin"},{icon:wl,label:"Users",path:"/admin/users"},{icon:fj,label:"Analytics",path:"/admin/analytics"},{icon:mo,label:"Manage Classes",path:"/admin/manageclasses"},{icon:qC,label:"Memberships",path:"/admin/memberships"},{icon:cI,label:"User Memberships",path:"/admin/usermemberships"},{icon:wY,label:"Deals & Referrals",path:"/admin/managedeals"}];return o.jsx(cU,{collapsible:"icon",className:"border-r",children:o.jsxs(dU,{children:[o.jsxs("div",{className:"flex items-center justify-between p-4",children:[r&&o.jsx("h2",{className:"text-lg font-bold text-primary animate-fade-in",children:"marsspace"}),o.jsx(Te,{variant:"ghost",size:"icon",onClick:n,className:"ml-auto hidden md:flex",children:r?o.jsx(Qa,{className:"h-4 w-4"}):o.jsx(xl,{className:"h-4 w-4"})})]}),o.jsxs(Bv,{children:[o.jsx(Fv,{children:"Main Menu"}),o.jsx(Uv,{children:o.jsx($v,{children:h.map(v=>{const w=v.icon,b=c(v.path);return o.jsx(Vv,{children:o.jsxs(qv,{onClick:()=>{e(v.path),window.innerWidth<768&&i(!1)},className:De("transition-colors",b&&"bg-primary/10 text-primary font-medium"),tooltip:v.label,children:[o.jsx(w,{className:"h-4 w-4"}),o.jsx("span",{children:v.label})]})},v.path)})})})]}),s&&o.jsxs(Bv,{children:[o.jsx(Fv,{children:"Admin"}),o.jsx(Uv,{children:o.jsx($v,{children:g.map(v=>{const w=v.icon,b=c(v.path);return o.jsx(Vv,{children:o.jsxs(qv,{onClick:()=>{e(v.path),window.innerWidth<768&&i(!1)},className:De("transition-colors",b&&"bg-primary/10 text-primary font-medium"),tooltip:v.label,children:[o.jsx(w,{className:"h-4 w-4"}),o.jsx("span",{children:v.label})]})},v.path)})})})]}),o.jsxs(Bv,{children:[o.jsx(Fv,{children:"Quick Actions"}),o.jsx(Uv,{children:o.jsx($v,{children:u.map(v=>{const w=v.icon,b=c(v.path);return o.jsx(Vv,{children:o.jsxs(qv,{onClick:()=>{e(v.path),window.innerWidth<768&&i(!1)},className:De("transition-colors",b&&"bg-primary/10 text-primary font-medium"),tooltip:v.label,children:[o.jsx(w,{className:"h-4 w-4"}),o.jsx("span",{children:v.label})]})},v.path)})})})]})]})})}const gv={CRITICAL:5,WARNING:15},Ese=()=>{const{toast:t}=Bn(),e=j.useRef(new Set),r=j.useRef(null),n=j.useCallback(async()=>{try{const{data:{session:g}}=await Se.auth.getSession();return g?.expires_at?g.expires_at*1e3:null}catch(g){return console.error("Error getting session expiration:",g),null}},[]),i=j.useCallback(async()=>{const g=await n();if(!g)return null;const v=Date.now();return Math.floor((g-v)/(1e3*60))},[n]),s=j.useCallback(async()=>{const g=await i();return g===null?!0:g<=0},[i]),a=j.useCallback(async()=>{try{const{data:{session:g},error:v}=await Se.auth.refreshSession();return v?(console.error("Error refreshing session:",v),!1):g?(e.current.clear(),!0):!1}catch(g){return console.error("Error refreshing session:",g),!1}},[]),c=j.useCallback((g,v)=>{const w=v?gv.CRITICAL:gv.WARNING;e.current.has(w)||(e.current.add(w),t({variant:v?"destructive":"default",title:v?"Session Expiring Soon":"Session Timeout Warning",description:v?`Your session will expire in ${g} minutes. Please save your work.`:`Your session will expire in ${g} minutes.`,duration:v?1e4:5e3}))},[t]),u=j.useCallback(async()=>{try{e.current.clear(),t({variant:"destructive",title:"Session Expired",description:"Your session has expired. Please log in again.",duration:5e3}),await Se.auth.signOut(),setTimeout(()=>{window.location.href="/login"},2e3)}catch(g){console.error("Error handling expired session:",g)}},[t]),h=j.useCallback(async()=>{try{const{data:{session:g}}=await Se.auth.getSession();if(!g){e.current.clear();return}const v=await i();if(v===null)return;if(v<=0){await u();return}v<=gv.CRITICAL?c(v,!0):v<=gv.WARNING&&c(v,!1)}catch(g){console.error("Error monitoring session:",g)}},[i,u,c]);return j.useEffect(()=>{h(),r.current=setInterval(()=>{h()},6e4);const{data:{subscription:g}}=Se.auth.onAuthStateChange(v=>{(v==="SIGNED_IN"||v==="TOKEN_REFRESHED"||v==="SIGNED_OUT")&&e.current.clear()});return()=>{r.current&&clearInterval(r.current),g.unsubscribe()}},[h]),{refreshSession:a,isSessionExpired:s,getMinutesUntilExpiration:i}},Cse=()=>{const t=jo(),[e,r]=j.useState(!1);return j.useEffect(()=>{r(!0);const n=setTimeout(()=>{r(!1)},300);return()=>clearTimeout(n)},[t.pathname]),e},Ase=()=>Cse()?o.jsx("div",{className:"fixed top-0 left-0 right-0 z-50",children:o.jsx("div",{className:"h-1 bg-primary/20",children:o.jsx("div",{className:"h-full bg-primary animate-pulse",style:{width:"100%"}})})}):null,Nse=["/","/login","/register","/forgot-password","/reset-password"];function jse({children:t}){const e=jo(),{user:r}=Oo(),n=Nse.includes(e.pathname),i=!n&&r;return Ese(),n?o.jsx(o.Fragment,{children:t}):o.jsxs(lU,{children:[i&&o.jsx(Ase,{}),o.jsxs("div",{className:"relative flex min-h-screen w-full",children:[i&&o.jsx(Sse,{}),o.jsxs("div",{className:"flex flex-1 flex-col",children:[i&&o.jsx(_se,{}),o.jsx("main",{className:"flex-1",children:t})]})]})]})}const Xe=j.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:De("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Xe.displayName="Card";const Ot=j.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:De("flex flex-col space-y-1.5 p-6",t),...e}));Ot.displayName="CardHeader";const Lt=j.forwardRef(({className:t,...e},r)=>o.jsx("h3",{ref:r,className:De("text-2xl font-semibold leading-none tracking-tight",t),...e}));Lt.displayName="CardTitle";const mr=j.forwardRef(({className:t,...e},r)=>o.jsx("p",{ref:r,className:De("text-sm text-muted-foreground",t),...e}));mr.displayName="CardDescription";const Ze=j.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:De("p-6 pt-0",t),...e}));Ze.displayName="CardContent";const Ose=j.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:De("flex items-center p-6 pt-0",t),...e}));Ose.displayName="CardFooter";const RU=()=>{const{user:t}=Oo(),{toast:e}=Bn(),r=ii(),[n,i]=j.useState(!1),s=async()=>{if(t?.email){i(!0);try{const{error:a}=await Se.auth.resend({type:"signup",email:t.email,options:{emailRedirectTo:Mf("/auth/callback")}});if(a)throw a;e({title:"Verification email sent",description:"Please check your email for the verification link."})}catch(a){e({variant:"destructive",title:"Failed to send verification email",description:a.message})}finally{i(!1)}}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:o.jsxs(Xe,{className:"w-full max-w-md shadow-lg",children:[o.jsxs(Ot,{className:"space-y-1 text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"p-3 bg-gradient-accent rounded-full",children:o.jsx(Yv,{className:"w-8 h-8 text-accent-foreground"})})}),o.jsx(Lt,{className:"text-2xl font-bold",children:"Email Verification Required"}),o.jsx(mr,{children:"Please verify your email address to continue"})]}),o.jsxs(Ze,{className:"space-y-4",children:[o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"We've sent a verification email to:"}),o.jsx("p",{className:"font-medium",children:t?.email}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Click the link in the email to verify your account."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Te,{onClick:s,disabled:n,className:"w-full",children:n?o.jsxs(o.Fragment,{children:[o.jsx(Bi,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Yv,{className:"mr-2 h-4 w-4"}),"Resend Verification Email"]})}),o.jsx(Te,{variant:"outline",onClick:async()=>{await Se.auth.signOut(),r("/login")},className:"w-full",children:"Sign Out"})]})]})]})})},Ko=({children:t,requireEmailVerification:e=!0})=>{const{user:r,loading:n}=Oo(),i=jo();return n?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx(Bi,{className:"w-8 h-8 animate-spin text-primary"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):r?e&&!r.email_verified?o.jsx(RU,{}):o.jsx(o.Fragment,{children:t}):(console.log("ProtectedRoute: No user found, redirecting to login"),o.jsx(FJ,{to:"/login",state:{from:i},replace:!0}))},MU=()=>{const[t,e]=j.useState(null),[r,n]=j.useState(!0),[i,s]=j.useState(null),a=ii();j.useEffect(()=>{c();const{data:{subscription:h}}=Se.auth.onAuthStateChange((g,v)=>{v?.user?(s(v.user),c()):(s(null),e(!1),n(!1))});return()=>h.unsubscribe()},[]);const c=async()=>{try{const{data:{session:h}}=await Se.auth.getSession();if(!h?.user){e(!1),s(null),n(!1);return}s(h.user);const{data:g,error:v}=await Se.rpc("has_role",{_user_id:h.user.id,_role:"admin"});v?(console.error("Error checking admin status:",v),e(!1)):e(g===!0)}catch(h){console.error("Error in checkAdminStatus:",h),e(!1)}finally{n(!1)}};return{isAdmin:t,isLoading:r,user:i,logout:async()=>{await Se.auth.signOut(),s(null),e(!1),a("/")}}};var Tse="Label",DU=j.forwardRef((t,e)=>o.jsx(Tt.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));DU.displayName=Tse;var LU=DU;const kse=ud("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Qt=j.forwardRef(({className:t,...e},r)=>o.jsx(LU,{ref:r,className:De(kse(),t),...e}));Qt.displayName=LU.displayName;const Pse=()=>{const[t,e]=j.useState(""),[r,n]=j.useState(""),[i,s]=j.useState(!1),{toast:a}=Bn(),c=ii(),u=async h=>{h.preventDefault(),s(!0);try{const{data:g,error:v}=await Se.auth.signInWithPassword({email:t,password:r});if(v)throw v;if(g.user){const{data:w,error:b}=await Se.rpc("has_role",{_user_id:g.user.id,_role:"admin"});if(b)throw b;w?a({title:"Welcome back!",description:"Logged in successfully as admin."}):(await Se.auth.signOut(),a({variant:"destructive",title:"Access Denied",description:"You don't have admin privileges."}))}}catch(g){a({variant:"destructive",title:"Login Failed",description:g.message||"Invalid credentials"})}finally{s(!1)}};return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-6",children:o.jsxs(Xe,{className:"w-full max-w-md",children:[o.jsxs(Ot,{className:"space-y-1 text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"rounded-full bg-primary/10 p-3",children:o.jsx(LB,{className:"w-6 h-6 text-primary"})})}),o.jsx(Lt,{className:"text-2xl font-bold",children:"Admin Access"}),o.jsx(mr,{children:"Enter your credentials to access the admin dashboard"})]}),o.jsx(Ze,{children:o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Qt,{htmlFor:"email",children:"Email"}),o.jsx(Nt,{id:"email",type:"email",placeholder:"admin@example.com",value:t,onChange:h=>e(h.target.value),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Qt,{htmlFor:"password",children:"Password"}),o.jsx(Nt,{id:"password",type:"password",value:r,onChange:h=>n(h.target.value),required:!0})]}),o.jsx(Te,{type:"submit",className:"w-full",disabled:i,children:i?"Logging in...":"Login as Admin"}),o.jsx(Te,{type:"button",variant:"ghost",className:"w-full",onClick:()=>c("/"),children:"Back to Home"})]})})]})})},Qo=({children:t})=>{const{isAdmin:e,isLoading:r}=MU();return jo(),r?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx(Bi,{className:"w-8 h-8 animate-spin text-primary"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):e?o.jsx(o.Fragment,{children:t}):o.jsx(Pse,{})},Ise=(t,e)=>{const r=t instanceof Error?t:new Error(String(t)),n={message:r.message,stack:r.stack,name:r.name,timestamp:new Date().toISOString(),url:window.location.href,userAgent:navigator.userAgent,context:e||{}};try{const i=JSON.parse(localStorage.getItem("error_logs")||"[]");i.push(n);const s=i.slice(-10);localStorage.setItem("error_logs",JSON.stringify(s))}catch(i){console.warn("Failed to store error log:",i)}};class Rse extends j.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,r){Ise(e,{errorInfo:r,componentStack:r.componentStack,errorBoundary:!0}),this.props.onError&&this.props.onError(e,r),this.setState({error:e,errorInfo:r})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};handleReload=()=>{window.location.reload()};handleGoHome=()=>{window.location.href="/"};render(){return this.state.hasError?this.props.fallback?this.props.fallback:o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:o.jsxs(Xe,{className:"w-full max-w-md shadow-lg",children:[o.jsxs(Ot,{className:"space-y-1 text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"p-3 bg-destructive/10 rounded-full",children:o.jsx(bY,{className:"w-8 h-8 text-destructive"})})}),o.jsx(Lt,{className:"text-2xl font-bold",children:"Something went wrong"}),o.jsx(mr,{children:"We're sorry, but something unexpected happened."})]}),o.jsxs(Ze,{className:"space-y-4",children:[!1,o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Te,{onClick:this.handleReset,className:"w-full",variant:"default",children:[o.jsx(zu,{className:"mr-2 h-4 w-4"}),"Try Again"]}),o.jsxs(Te,{onClick:this.handleReload,className:"w-full",variant:"outline",children:[o.jsx(zu,{className:"mr-2 h-4 w-4"}),"Reload Page"]}),o.jsxs(Te,{onClick:this.handleGoHome,className:"w-full",variant:"ghost",children:[o.jsx(dY,{className:"mr-2 h-4 w-4"}),"Go to Home"]})]})]})]})}):this.props.children}}const Mse=()=>{const t=ii();return o.jsxs("div",{className:"relative min-h-screen overflow-hidden",children:[o.jsx("div",{className:"fixed inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:'url("/mars-space-gym-buddy/hero-background.jpg")'}}),o.jsx("div",{className:"fixed inset-0 bg-black/40"}),o.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col items-center justify-between px-6 py-12 md:py-16",children:[o.jsx("div",{className:"flex-shrink-0 mt-8 md:mt-12",children:o.jsx("img",{src:"/mars-space-gym-buddy/mars-space-logo.png",alt:"MARS Space",className:"h-16 md:h-20 lg:h-24 w-auto mx-auto"})}),o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center max-w-3xl mx-auto space-y-8 md:space-y-12",children:[o.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-serif font-bold text-white leading-tight tracking-tight",children:"Welcome to Mars Space"}),o.jsx("p",{className:"text-lg md:text-xl lg:text-2xl text-white/95 font-sans leading-relaxed max-w-2xl px-4",children:"Discover a premium fitness experience with our comprehensive class timetable, seamless class booking system, and intuitive membership management. Your wellness journey starts here."})]}),o.jsxs("div",{className:"flex-shrink-0 w-full max-w-md mx-auto space-x-4 mb-8 md:mb-12 px-4",children:[o.jsx(Te,{onClick:()=>t("/login"),className:"flex-1 h-12 md:h-14 rounded-full bg-white text-black font-semibold text-base md:text-lg hover:bg-white/90 transition-all shadow-lg hover:shadow-xl",children:"LOG IN"}),o.jsx(Te,{onClick:()=>t("/register"),variant:"outline",className:"flex-1 h-12 md:h-14 rounded-full border-2 border-white text-white font-semibold text-base md:text-lg hover:bg-white/10 transition-all backdrop-blur-sm",children:"JOIN MARS SPACE"})]})]})]})},Jn=t=>lm(typeof t=="string"?{variant:"success",title:"Success",description:t}:{variant:"success",title:t.title||"Success",description:t.description,duration:t.duration,action:t.action}),Ft=t=>lm(typeof t=="string"?{variant:"destructive",title:"Error",description:t}:{variant:"destructive",title:t.title||"Error",description:t.description,duration:t.duration,action:t.action}),xa={bookingCreated:t=>({variant:"success",title:"Booking Confirmed!",description:`You've successfully booked ${t}.`}),bookingCancelled:()=>({variant:"success",title:"Booking Cancelled",description:"Your booking has been cancelled successfully."}),loginSuccess:()=>({variant:"success",title:"Welcome back!",description:"You have successfully logged in."}),registrationSuccess:()=>({variant:"success",title:"Account Created",description:"Your account has been created successfully."}),passwordReset:()=>({variant:"success",title:"Password Updated!",description:"Your password has been successfully reset."}),profileUpdated:()=>({variant:"success",title:"Profile Updated",description:"Your profile has been updated successfully."}),bookingFailed:t=>({variant:"destructive",title:"Booking Failed",description:t||"Failed to book class. Please try again."}),cancellationFailed:t=>({variant:"destructive",title:"Cancellation Failed",description:t||"Failed to cancel booking. Please try again."}),loginFailed:t=>({variant:"destructive",title:"Login Failed",description:t||"Invalid email or password. Please try again."}),networkError:()=>({variant:"destructive",title:"Network Error",description:"Please check your internet connection and try again."}),sessionExpired:()=>({variant:"destructive",title:"Session Expired",description:"Your session has expired. Please log in again."}),emailVerificationRequired:()=>({variant:"info",title:"Email Verification Required",description:"Please verify your email address to access all features."}),accountLocked:t=>({variant:"destructive",title:"Account Locked",description:`Too many failed login attempts. Please try again in ${t}.`}),classFull:()=>({variant:"destructive",title:"Class Full",description:"This class is fully booked. Please try another session."}),alreadyBooked:()=>({variant:"default",title:"Already Booked",description:"You already have a booking for this class."})};var Tg=t=>t.type==="checkbox",Ru=t=>t instanceof Date,ns=t=>t==null;const BU=t=>typeof t=="object";var zn=t=>!ns(t)&&!Array.isArray(t)&&BU(t)&&!Ru(t),FU=t=>zn(t)&&t.target?Tg(t.target)?t.target.checked:t.target.value:t,Dse=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,UU=(t,e)=>t.has(Dse(e)),Lse=t=>{const e=t.constructor&&t.constructor.prototype;return zn(e)&&e.hasOwnProperty("isPrototypeOf")},oO=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function mi(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(oO&&(t instanceof Blob||n))&&(r||zn(t)))if(e=r?[]:{},!r&&!Lse(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=mi(t[i]));else return t;return e}var nx=t=>/^\w*$/.test(t),qn=t=>t===void 0,lO=t=>Array.isArray(t)?t.filter(Boolean):[],cO=t=>lO(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ct=(t,e,r)=>{if(!e||!zn(t))return r;const n=(nx(e)?[e]:cO(e)).reduce((i,s)=>ns(i)?i:i[s],t);return qn(n)||n===t?qn(t[e])?r:t[e]:n},Ws=t=>typeof t=="boolean",Yr=(t,e,r)=>{let n=-1;const i=nx(e)?[e]:cO(e),s=i.length,a=s-1;for(;++n<s;){const c=i[n];let u=r;if(n!==a){const h=t[c];u=zn(h)||Array.isArray(h)?h:isNaN(+i[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;t[c]=u,t=t[c]}};const cy={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ha={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Yo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},uO=re.createContext(null);uO.displayName="HookFormContext";const ix=()=>re.useContext(uO),Bse=t=>{const{children:e,...r}=t;return re.createElement(uO.Provider,{value:r},e)};var $U=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==Ha.all&&(e._proxyFormState[a]=!n||Ha.all),r&&(r[a]=!0),t[a]}});return i};const dO=typeof window<"u"?re.useLayoutEffect:re.useEffect;function Fse(t){const e=ix(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[a,c]=re.useState(r._formState),u=re.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return dO(()=>r._subscribe({name:i,formState:u.current,exact:s,callback:h=>{!n&&c({...r._formState,...h})}}),[i,n,s]),re.useEffect(()=>{u.current.isValid&&r._setValid(!0)},[r]),re.useMemo(()=>$U(a,r,u.current,!1),[a,r])}var vo=t=>typeof t=="string",VU=(t,e,r,n,i)=>vo(t)?(n&&e.watch.add(t),ct(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),ct(r,s))):(n&&(e.watchAll=!0),r),wA=t=>ns(t)||!BU(t);function rl(t,e,r=new WeakSet){if(wA(t)||wA(e))return t===e;if(Ru(t)&&Ru(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const c=e[s];if(Ru(a)&&Ru(c)||zn(a)&&zn(c)||Array.isArray(a)&&Array.isArray(c)?!rl(a,c,r):a!==c)return!1}}return!0}function Use(t){const e=ix(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a,compute:c}=t||{},u=re.useRef(i),h=re.useRef(c),g=re.useRef(void 0);h.current=c;const v=re.useMemo(()=>r._getWatch(n,u.current),[r,n]),[w,b]=re.useState(h.current?h.current(v):v);return dO(()=>r._subscribe({name:n,formState:{values:!0},exact:a,callback:A=>{if(!s){const E=VU(n,r._names,A.values||r._formValues,!1,u.current);if(h.current){const C=h.current(E);rl(C,g.current)||(b(C),g.current=C)}else b(E)}}}),[r,s,n,a]),re.useEffect(()=>r._removeUnmounted()),w}function $se(t){const e=ix(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s,defaultValue:a}=t,c=UU(i._names.array,r),u=re.useMemo(()=>ct(i._formValues,r,ct(i._defaultValues,r,a)),[i,r,a]),h=Use({control:i,name:r,defaultValue:u,exact:!0}),g=Fse({control:i,name:r,exact:!0}),v=re.useRef(t),w=re.useRef(i.register(r,{...t.rules,value:h,...Ws(t.disabled)?{disabled:t.disabled}:{}}));v.current=t;const b=re.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ct(g.errors,r)},isDirty:{enumerable:!0,get:()=>!!ct(g.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ct(g.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ct(g.validatingFields,r)},error:{enumerable:!0,get:()=>ct(g.errors,r)}}),[g,r]),A=re.useCallback(I=>w.current.onChange({target:{value:FU(I),name:r},type:cy.CHANGE}),[r]),E=re.useCallback(()=>w.current.onBlur({target:{value:ct(i._formValues,r),name:r},type:cy.BLUR}),[r,i._formValues]),C=re.useCallback(I=>{const P=ct(i._fields,r);P&&I&&(P._f.ref={focus:()=>I.focus&&I.focus(),select:()=>I.select&&I.select(),setCustomValidity:L=>I.setCustomValidity(L),reportValidity:()=>I.reportValidity()})},[i._fields,r]),R=re.useMemo(()=>({name:r,value:h,...Ws(n)||g.disabled?{disabled:g.disabled||n}:{},onChange:A,onBlur:E,ref:C}),[r,n,g.disabled,A,E,C,h]);return re.useEffect(()=>{const I=i._options.shouldUnregister||s;i.register(r,{...v.current.rules,...Ws(v.current.disabled)?{disabled:v.current.disabled}:{}});const P=(L,T)=>{const D=ct(i._fields,L);D&&D._f&&(D._f.mount=T)};if(P(r,!0),I){const L=mi(ct(i._options.defaultValues,r));Yr(i._defaultValues,r,L),qn(ct(i._formValues,r))&&Yr(i._formValues,r,L)}return!c&&i.register(r),()=>{(c?I&&!i._state.action:I)?i.unregister(r):P(r,!1)}},[r,i,c,s]),re.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),re.useMemo(()=>({field:R,formState:g,fieldState:b}),[R,g,b])}const Vse=t=>t.render($se(t));var qU=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},Jp=t=>Array.isArray(t)?t:[t],j3=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},ws=t=>zn(t)&&!Object.keys(t).length,fO=t=>t.type==="file",Ga=t=>typeof t=="function",uy=t=>{if(!oO)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},WU=t=>t.type==="select-multiple",hO=t=>t.type==="radio",qse=t=>hO(t)||Tg(t),i_=t=>uy(t)&&t.isConnected;function Wse(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=qn(t)?n++:t[e[n++]];return t}function zse(t){for(const e in t)if(t.hasOwnProperty(e)&&!qn(t[e]))return!1;return!0}function Yn(t,e){const r=Array.isArray(e)?e:nx(e)?[e]:cO(e),n=r.length===1?t:Wse(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(zn(n)&&ws(n)||Array.isArray(n)&&zse(n))&&Yn(t,r.slice(0,-1)),t}var zU=t=>{for(const e in t)if(Ga(t[e]))return!0;return!1};function dy(t,e={}){const r=Array.isArray(t);if(zn(t)||r)for(const n in t)Array.isArray(t[n])||zn(t[n])&&!zU(t[n])?(e[n]=Array.isArray(t[n])?[]:{},dy(t[n],e[n])):ns(t[n])||(e[n]=!0);return e}function HU(t,e,r){const n=Array.isArray(t);if(zn(t)||n)for(const i in t)Array.isArray(t[i])||zn(t[i])&&!zU(t[i])?qn(e)||wA(r[i])?r[i]=Array.isArray(t[i])?dy(t[i],[]):{...dy(t[i])}:HU(t[i],ns(e)?{}:e[i],r[i]):r[i]=!rl(t[i],e[i]);return r}var Ep=(t,e)=>HU(t,e,dy(e));const O3={value:!1,isValid:!1},T3={value:!0,isValid:!0};var GU=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!qn(t[0].attributes.value)?qn(t[0].value)||t[0].value===""?T3:{value:t[0].value,isValid:!0}:T3:O3}return O3},KU=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>qn(t)?t:e?t===""?NaN:t&&+t:r&&vo(t)?new Date(t):n?n(t):t;const k3={isValid:!1,value:null};var YU=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,k3):k3;function P3(t){const e=t.ref;return fO(e)?e.files:hO(e)?YU(t.refs).value:WU(e)?[...e.selectedOptions].map(({value:r})=>r):Tg(e)?GU(t.refs).value:KU(qn(e.value)?t.ref.value:e.value,t)}var Hse=(t,e,r,n)=>{const i={};for(const s of t){const a=ct(e,s);a&&Yr(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},fy=t=>t instanceof RegExp,Cp=t=>qn(t)?t:fy(t)?t.source:zn(t)?fy(t.value)?t.value.source:t.value:t,I3=t=>({isOnSubmit:!t||t===Ha.onSubmit,isOnBlur:t===Ha.onBlur,isOnChange:t===Ha.onChange,isOnAll:t===Ha.all,isOnTouch:t===Ha.onTouched});const R3="AsyncFunction";var Gse=t=>!!t&&!!t.validate&&!!(Ga(t.validate)&&t.validate.constructor.name===R3||zn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===R3)),Kse=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),M3=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const em=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=ct(t,i);if(s){const{_f:a,...c}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(em(c,e))break}else if(zn(c)&&em(c,e))break}}};function D3(t,e,r){const n=ct(t,r);if(n||nx(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=ct(e,s),c=ct(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(c&&c.type)return{name:s,error:c};if(c&&c.root&&c.root.type)return{name:`${s}.root`,error:c.root};i.pop()}return{name:r}}var Yse=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return ws(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||Ha.all))},Xse=(t,e,r)=>!t||!e||t===e||Jp(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),Zse=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,Qse=(t,e)=>!lO(ct(t,e)).length&&Yn(t,e),Jse=(t,e,r)=>{const n=Jp(ct(t,r));return Yr(n,"root",e[r]),Yr(t,r,n),t},Wv=t=>vo(t);function L3(t,e,r="validate"){if(Wv(t)||Array.isArray(t)&&t.every(Wv)||Ws(t)&&!t)return{type:r,message:Wv(t)?t:"",ref:e}}var tf=t=>zn(t)&&!fy(t)?t:{value:t,message:""},B3=async(t,e,r,n,i,s)=>{const{ref:a,refs:c,required:u,maxLength:h,minLength:g,min:v,max:w,pattern:b,validate:A,name:E,valueAsNumber:C,mount:R}=t._f,I=ct(r,E);if(!R||e.has(E))return{};const P=c?c[0]:a,L=z=>{i&&P.reportValidity&&(P.setCustomValidity(Ws(z)?"":z||""),P.reportValidity())},T={},D=hO(a),M=Tg(a),$=D||M,V=(C||fO(a))&&qn(a.value)&&qn(I)||uy(a)&&a.value===""||I===""||Array.isArray(I)&&!I.length,K=qU.bind(null,E,n,T),H=(z,Z,W,G=Yo.maxLength,J=Yo.minLength)=>{const ie=z?Z:W;T[E]={type:z?G:J,message:ie,ref:a,...K(z?G:J,ie)}};if(s?!Array.isArray(I)||!I.length:u&&(!$&&(V||ns(I))||Ws(I)&&!I||M&&!GU(c).isValid||D&&!YU(c).isValid)){const{value:z,message:Z}=Wv(u)?{value:!!u,message:u}:tf(u);if(z&&(T[E]={type:Yo.required,message:Z,ref:P,...K(Yo.required,Z)},!n))return L(Z),T}if(!V&&(!ns(v)||!ns(w))){let z,Z;const W=tf(w),G=tf(v);if(!ns(I)&&!isNaN(I)){const J=a.valueAsNumber||I&&+I;ns(W.value)||(z=J>W.value),ns(G.value)||(Z=J<G.value)}else{const J=a.valueAsDate||new Date(I),ie=de=>new Date(new Date().toDateString()+" "+de),ne=a.type=="time",ee=a.type=="week";vo(W.value)&&I&&(z=ne?ie(I)>ie(W.value):ee?I>W.value:J>new Date(W.value)),vo(G.value)&&I&&(Z=ne?ie(I)<ie(G.value):ee?I<G.value:J<new Date(G.value))}if((z||Z)&&(H(!!z,W.message,G.message,Yo.max,Yo.min),!n))return L(T[E].message),T}if((h||g)&&!V&&(vo(I)||s&&Array.isArray(I))){const z=tf(h),Z=tf(g),W=!ns(z.value)&&I.length>+z.value,G=!ns(Z.value)&&I.length<+Z.value;if((W||G)&&(H(W,z.message,Z.message),!n))return L(T[E].message),T}if(b&&!V&&vo(I)){const{value:z,message:Z}=tf(b);if(fy(z)&&!I.match(z)&&(T[E]={type:Yo.pattern,message:Z,ref:a,...K(Yo.pattern,Z)},!n))return L(Z),T}if(A){if(Ga(A)){const z=await A(I,r),Z=L3(z,P);if(Z&&(T[E]={...Z,...K(Yo.validate,Z.message)},!n))return L(Z.message),T}else if(zn(A)){let z={};for(const Z in A){if(!ws(z)&&!n)break;const W=L3(await A[Z](I,r),P,Z);W&&(z={...W,...K(Z,W.message)},L(W.message),n&&(T[E]=z))}if(!ws(z)&&(T[E]={ref:P,...z},!n))return T}}return L(!0),T};const eae={mode:Ha.onSubmit,reValidateMode:Ha.onChange,shouldFocusError:!0};function tae(t={}){let e={...eae,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ga(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=zn(e.defaultValues)||zn(e.values)?mi(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:mi(i),a={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,h=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let v={...g};const w={array:j3(),state:j3()},b=e.criteriaMode===Ha.all,A=fe=>he=>{clearTimeout(h),h=setTimeout(fe,he)},E=async fe=>{if(!e.disabled&&(g.isValid||v.isValid||fe)){const he=e.resolver?ws((await M()).errors):await V(n,!0);he!==r.isValid&&w.state.next({isValid:he})}},C=(fe,he)=>{!e.disabled&&(g.isValidating||g.validatingFields||v.isValidating||v.validatingFields)&&((fe||Array.from(c.mount)).forEach(Ne=>{Ne&&(he?Yr(r.validatingFields,Ne,he):Yn(r.validatingFields,Ne))}),w.state.next({validatingFields:r.validatingFields,isValidating:!ws(r.validatingFields)}))},R=(fe,he=[],Ne,Ye,Ve=!0,qe=!0)=>{if(Ye&&Ne&&!e.disabled){if(a.action=!0,qe&&Array.isArray(ct(n,fe))){const ae=Ne(ct(n,fe),Ye.argA,Ye.argB);Ve&&Yr(n,fe,ae)}if(qe&&Array.isArray(ct(r.errors,fe))){const ae=Ne(ct(r.errors,fe),Ye.argA,Ye.argB);Ve&&Yr(r.errors,fe,ae),Qse(r.errors,fe)}if((g.touchedFields||v.touchedFields)&&qe&&Array.isArray(ct(r.touchedFields,fe))){const ae=Ne(ct(r.touchedFields,fe),Ye.argA,Ye.argB);Ve&&Yr(r.touchedFields,fe,ae)}(g.dirtyFields||v.dirtyFields)&&(r.dirtyFields=Ep(i,s)),w.state.next({name:fe,isDirty:H(fe,he),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Yr(s,fe,he)},I=(fe,he)=>{Yr(r.errors,fe,he),w.state.next({errors:r.errors})},P=fe=>{r.errors=fe,w.state.next({errors:r.errors,isValid:!1})},L=(fe,he,Ne,Ye)=>{const Ve=ct(n,fe);if(Ve){const qe=ct(s,fe,qn(Ne)?ct(i,fe):Ne);qn(qe)||Ye&&Ye.defaultChecked||he?Yr(s,fe,he?qe:P3(Ve._f)):W(fe,qe),a.mount&&E()}},T=(fe,he,Ne,Ye,Ve)=>{let qe=!1,ae=!1;const Me={name:fe};if(!e.disabled){if(!Ne||Ye){(g.isDirty||v.isDirty)&&(ae=r.isDirty,r.isDirty=Me.isDirty=H(),qe=ae!==Me.isDirty);const lt=rl(ct(i,fe),he);ae=!!ct(r.dirtyFields,fe),lt?Yn(r.dirtyFields,fe):Yr(r.dirtyFields,fe,!0),Me.dirtyFields=r.dirtyFields,qe=qe||(g.dirtyFields||v.dirtyFields)&&ae!==!lt}if(Ne){const lt=ct(r.touchedFields,fe);lt||(Yr(r.touchedFields,fe,Ne),Me.touchedFields=r.touchedFields,qe=qe||(g.touchedFields||v.touchedFields)&&lt!==Ne)}qe&&Ve&&w.state.next(Me)}return qe?Me:{}},D=(fe,he,Ne,Ye)=>{const Ve=ct(r.errors,fe),qe=(g.isValid||v.isValid)&&Ws(he)&&r.isValid!==he;if(e.delayError&&Ne?(u=A(()=>I(fe,Ne)),u(e.delayError)):(clearTimeout(h),u=null,Ne?Yr(r.errors,fe,Ne):Yn(r.errors,fe)),(Ne?!rl(Ve,Ne):Ve)||!ws(Ye)||qe){const ae={...Ye,...qe&&Ws(he)?{isValid:he}:{},errors:r.errors,name:fe};r={...r,...ae},w.state.next(ae)}},M=async fe=>{C(fe,!0);const he=await e.resolver(s,e.context,Hse(fe||c.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return C(fe),he},$=async fe=>{const{errors:he}=await M(fe);if(fe)for(const Ne of fe){const Ye=ct(he,Ne);Ye?Yr(r.errors,Ne,Ye):Yn(r.errors,Ne)}else r.errors=he;return he},V=async(fe,he,Ne={valid:!0})=>{for(const Ye in fe){const Ve=fe[Ye];if(Ve){const{_f:qe,...ae}=Ve;if(qe){const Me=c.array.has(qe.name),lt=Ve._f&&Gse(Ve._f);lt&&g.validatingFields&&C([Ye],!0);const ft=await B3(Ve,c.disabled,s,b,e.shouldUseNativeValidation&&!he,Me);if(lt&&g.validatingFields&&C([Ye]),ft[qe.name]&&(Ne.valid=!1,he))break;!he&&(ct(ft,qe.name)?Me?Jse(r.errors,ft,qe.name):Yr(r.errors,qe.name,ft[qe.name]):Yn(r.errors,qe.name))}!ws(ae)&&await V(ae,he,Ne)}}return Ne.valid},K=()=>{for(const fe of c.unMount){const he=ct(n,fe);he&&(he._f.refs?he._f.refs.every(Ne=>!i_(Ne)):!i_(he._f.ref))&&we(fe)}c.unMount=new Set},H=(fe,he)=>!e.disabled&&(fe&&he&&Yr(s,fe,he),!rl(de(),i)),z=(fe,he,Ne)=>VU(fe,c,{...a.mount?s:qn(he)?i:vo(fe)?{[fe]:he}:he},Ne,he),Z=fe=>lO(ct(a.mount?s:i,fe,e.shouldUnregister?ct(i,fe,[]):[])),W=(fe,he,Ne={})=>{const Ye=ct(n,fe);let Ve=he;if(Ye){const qe=Ye._f;qe&&(!qe.disabled&&Yr(s,fe,KU(he,qe)),Ve=uy(qe.ref)&&ns(he)?"":he,WU(qe.ref)?[...qe.ref.options].forEach(ae=>ae.selected=Ve.includes(ae.value)):qe.refs?Tg(qe.ref)?qe.refs.forEach(ae=>{(!ae.defaultChecked||!ae.disabled)&&(Array.isArray(Ve)?ae.checked=!!Ve.find(Me=>Me===ae.value):ae.checked=Ve===ae.value||!!Ve)}):qe.refs.forEach(ae=>ae.checked=ae.value===Ve):fO(qe.ref)?qe.ref.value="":(qe.ref.value=Ve,qe.ref.type||w.state.next({name:fe,values:mi(s)})))}(Ne.shouldDirty||Ne.shouldTouch)&&T(fe,Ve,Ne.shouldTouch,Ne.shouldDirty,!0),Ne.shouldValidate&&ee(fe)},G=(fe,he,Ne)=>{for(const Ye in he){if(!he.hasOwnProperty(Ye))return;const Ve=he[Ye],qe=fe+"."+Ye,ae=ct(n,qe);(c.array.has(fe)||zn(Ve)||ae&&!ae._f)&&!Ru(Ve)?G(qe,Ve,Ne):W(qe,Ve,Ne)}},J=(fe,he,Ne={})=>{const Ye=ct(n,fe),Ve=c.array.has(fe),qe=mi(he);Yr(s,fe,qe),Ve?(w.array.next({name:fe,values:mi(s)}),(g.isDirty||g.dirtyFields||v.isDirty||v.dirtyFields)&&Ne.shouldDirty&&w.state.next({name:fe,dirtyFields:Ep(i,s),isDirty:H(fe,qe)})):Ye&&!Ye._f&&!ns(qe)?G(fe,qe,Ne):W(fe,qe,Ne),M3(fe,c)&&w.state.next({...r,name:fe}),w.state.next({name:a.mount?fe:void 0,values:mi(s)})},ie=async fe=>{a.mount=!0;const he=fe.target;let Ne=he.name,Ye=!0;const Ve=ct(n,Ne),qe=lt=>{Ye=Number.isNaN(lt)||Ru(lt)&&isNaN(lt.getTime())||rl(lt,ct(s,Ne,lt))},ae=I3(e.mode),Me=I3(e.reValidateMode);if(Ve){let lt,ft;const _r=he.type?P3(Ve._f):FU(fe),Sr=fe.type===cy.BLUR||fe.type===cy.FOCUS_OUT,kr=!Kse(Ve._f)&&!e.resolver&&!ct(r.errors,Ne)&&!Ve._f.deps||Zse(Sr,ct(r.touchedFields,Ne),r.isSubmitted,Me,ae),Bt=M3(Ne,c,Sr);Yr(s,Ne,_r),Sr?(Ve._f.onBlur&&Ve._f.onBlur(fe),u&&u(0)):Ve._f.onChange&&Ve._f.onChange(fe);const ze=T(Ne,_r,Sr),Ur=!ws(ze)||Bt;if(!Sr&&w.state.next({name:Ne,type:fe.type,values:mi(s)}),kr)return(g.isValid||v.isValid)&&(e.mode==="onBlur"?Sr&&E():Sr||E()),Ur&&w.state.next({name:Ne,...Bt?{}:ze});if(!Sr&&Bt&&w.state.next({...r}),e.resolver){const{errors:gr}=await M([Ne]);if(qe(_r),Ye){const $r=D3(r.errors,n,Ne),us=D3(gr,n,$r.name||Ne);lt=us.error,Ne=us.name,ft=ws(gr)}}else C([Ne],!0),lt=(await B3(Ve,c.disabled,s,b,e.shouldUseNativeValidation))[Ne],C([Ne]),qe(_r),Ye&&(lt?ft=!1:(g.isValid||v.isValid)&&(ft=await V(n,!0)));Ye&&(Ve._f.deps&&ee(Ve._f.deps),D(Ne,ft,lt,ze))}},ne=(fe,he)=>{if(ct(r.errors,he)&&fe.focus)return fe.focus(),1},ee=async(fe,he={})=>{let Ne,Ye;const Ve=Jp(fe);if(e.resolver){const qe=await $(qn(fe)?fe:Ve);Ne=ws(qe),Ye=fe?!Ve.some(ae=>ct(qe,ae)):Ne}else fe?(Ye=(await Promise.all(Ve.map(async qe=>{const ae=ct(n,qe);return await V(ae&&ae._f?{[qe]:ae}:ae)}))).every(Boolean),!(!Ye&&!r.isValid)&&E()):Ye=Ne=await V(n);return w.state.next({...!vo(fe)||(g.isValid||v.isValid)&&Ne!==r.isValid?{}:{name:fe},...e.resolver||!fe?{isValid:Ne}:{},errors:r.errors}),he.shouldFocus&&!Ye&&em(n,ne,fe?Ve:c.mount),Ye},de=fe=>{const he={...a.mount?s:i};return qn(fe)?he:vo(fe)?ct(he,fe):fe.map(Ne=>ct(he,Ne))},se=(fe,he)=>({invalid:!!ct((he||r).errors,fe),isDirty:!!ct((he||r).dirtyFields,fe),error:ct((he||r).errors,fe),isValidating:!!ct(r.validatingFields,fe),isTouched:!!ct((he||r).touchedFields,fe)}),le=fe=>{fe&&Jp(fe).forEach(he=>Yn(r.errors,he)),w.state.next({errors:fe?r.errors:{}})},me=(fe,he,Ne)=>{const Ye=(ct(n,fe,{_f:{}})._f||{}).ref,Ve=ct(r.errors,fe)||{},{ref:qe,message:ae,type:Me,...lt}=Ve;Yr(r.errors,fe,{...lt,...he,ref:Ye}),w.state.next({name:fe,errors:r.errors,isValid:!1}),Ne&&Ne.shouldFocus&&Ye&&Ye.focus&&Ye.focus()},pe=(fe,he)=>Ga(fe)?w.state.subscribe({next:Ne=>"values"in Ne&&fe(z(void 0,he),Ne)}):z(fe,he,!0),Re=fe=>w.state.subscribe({next:he=>{Xse(fe.name,he.name,fe.exact)&&Yse(he,fe.formState||g,dt,fe.reRenderRoot)&&fe.callback({values:{...s},...r,...he,defaultValues:i})}}).unsubscribe,_e=fe=>(a.mount=!0,v={...v,...fe.formState},Re({...fe,formState:v})),we=(fe,he={})=>{for(const Ne of fe?Jp(fe):c.mount)c.mount.delete(Ne),c.array.delete(Ne),he.keepValue||(Yn(n,Ne),Yn(s,Ne)),!he.keepError&&Yn(r.errors,Ne),!he.keepDirty&&Yn(r.dirtyFields,Ne),!he.keepTouched&&Yn(r.touchedFields,Ne),!he.keepIsValidating&&Yn(r.validatingFields,Ne),!e.shouldUnregister&&!he.keepDefaultValue&&Yn(i,Ne);w.state.next({values:mi(s)}),w.state.next({...r,...he.keepDirty?{isDirty:H()}:{}}),!he.keepIsValid&&E()},Le=({disabled:fe,name:he})=>{(Ws(fe)&&a.mount||fe||c.disabled.has(he))&&(fe?c.disabled.add(he):c.disabled.delete(he))},je=(fe,he={})=>{let Ne=ct(n,fe);const Ye=Ws(he.disabled)||Ws(e.disabled);return Yr(n,fe,{...Ne||{},_f:{...Ne&&Ne._f?Ne._f:{ref:{name:fe}},name:fe,mount:!0,...he}}),c.mount.add(fe),Ne?Le({disabled:Ws(he.disabled)?he.disabled:e.disabled,name:fe}):L(fe,!0,he.value),{...Ye?{disabled:he.disabled||e.disabled}:{},...e.progressive?{required:!!he.required,min:Cp(he.min),max:Cp(he.max),minLength:Cp(he.minLength),maxLength:Cp(he.maxLength),pattern:Cp(he.pattern)}:{},name:fe,onChange:ie,onBlur:ie,ref:Ve=>{if(Ve){je(fe,he),Ne=ct(n,fe);const qe=qn(Ve.value)&&Ve.querySelectorAll&&Ve.querySelectorAll("input,select,textarea")[0]||Ve,ae=qse(qe),Me=Ne._f.refs||[];if(ae?Me.find(lt=>lt===qe):qe===Ne._f.ref)return;Yr(n,fe,{_f:{...Ne._f,...ae?{refs:[...Me.filter(i_),qe,...Array.isArray(ct(i,fe))?[{}]:[]],ref:{type:qe.type,name:fe}}:{ref:qe}}}),L(fe,!1,void 0,qe)}else Ne=ct(n,fe,{}),Ne._f&&(Ne._f.mount=!1),(e.shouldUnregister||he.shouldUnregister)&&!(UU(c.array,fe)&&a.action)&&c.unMount.add(fe)}}},Fe=()=>e.shouldFocusError&&em(n,ne,c.mount),We=fe=>{Ws(fe)&&(w.state.next({disabled:fe}),em(n,(he,Ne)=>{const Ye=ct(n,Ne);Ye&&(he.disabled=Ye._f.disabled||fe,Array.isArray(Ye._f.refs)&&Ye._f.refs.forEach(Ve=>{Ve.disabled=Ye._f.disabled||fe}))},0,!1))},Oe=(fe,he)=>async Ne=>{let Ye;Ne&&(Ne.preventDefault&&Ne.preventDefault(),Ne.persist&&Ne.persist());let Ve=mi(s);if(w.state.next({isSubmitting:!0}),e.resolver){const{errors:qe,values:ae}=await M();r.errors=qe,Ve=mi(ae)}else await V(n);if(c.disabled.size)for(const qe of c.disabled)Yn(Ve,qe);if(Yn(r.errors,"root"),ws(r.errors)){w.state.next({errors:{}});try{await fe(Ve,Ne)}catch(qe){Ye=qe}}else he&&await he({...r.errors},Ne),Fe(),setTimeout(Fe);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ws(r.errors)&&!Ye,submitCount:r.submitCount+1,errors:r.errors}),Ye)throw Ye},et=(fe,he={})=>{ct(n,fe)&&(qn(he.defaultValue)?J(fe,mi(ct(i,fe))):(J(fe,he.defaultValue),Yr(i,fe,mi(he.defaultValue))),he.keepTouched||Yn(r.touchedFields,fe),he.keepDirty||(Yn(r.dirtyFields,fe),r.isDirty=he.defaultValue?H(fe,mi(ct(i,fe))):H()),he.keepError||(Yn(r.errors,fe),g.isValid&&E()),w.state.next({...r}))},Ue=(fe,he={})=>{const Ne=fe?mi(fe):i,Ye=mi(Ne),Ve=ws(fe),qe=Ve?i:Ye;if(he.keepDefaultValues||(i=Ne),!he.keepValues){if(he.keepDirtyValues){const ae=new Set([...c.mount,...Object.keys(Ep(i,s))]);for(const Me of Array.from(ae))ct(r.dirtyFields,Me)?Yr(qe,Me,ct(s,Me)):J(Me,ct(qe,Me))}else{if(oO&&qn(fe))for(const ae of c.mount){const Me=ct(n,ae);if(Me&&Me._f){const lt=Array.isArray(Me._f.refs)?Me._f.refs[0]:Me._f.ref;if(uy(lt)){const ft=lt.closest("form");if(ft){ft.reset();break}}}}if(he.keepFieldsRef)for(const ae of c.mount)J(ae,ct(qe,ae));else n={}}s=e.shouldUnregister?he.keepDefaultValues?mi(i):{}:mi(qe),w.array.next({values:{...qe}}),w.state.next({values:{...qe}})}c={mount:he.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!g.isValid||!!he.keepIsValid||!!he.keepDirtyValues,a.watch=!!e.shouldUnregister,w.state.next({submitCount:he.keepSubmitCount?r.submitCount:0,isDirty:Ve?!1:he.keepDirty?r.isDirty:!!(he.keepDefaultValues&&!rl(fe,i)),isSubmitted:he.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ve?{}:he.keepDirtyValues?he.keepDefaultValues&&s?Ep(i,s):r.dirtyFields:he.keepDefaultValues&&fe?Ep(i,fe):he.keepDirty?r.dirtyFields:{},touchedFields:he.keepTouched?r.touchedFields:{},errors:he.keepErrors?r.errors:{},isSubmitSuccessful:he.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},st=(fe,he)=>Ue(Ga(fe)?fe(s):fe,he),Et=(fe,he={})=>{const Ne=ct(n,fe),Ye=Ne&&Ne._f;if(Ye){const Ve=Ye.refs?Ye.refs[0]:Ye.ref;Ve.focus&&(Ve.focus(),he.shouldSelect&&Ga(Ve.select)&&Ve.select())}},dt=fe=>{r={...r,...fe}},ut={control:{register:je,unregister:we,getFieldState:se,handleSubmit:Oe,setError:me,_subscribe:Re,_runSchema:M,_focusError:Fe,_getWatch:z,_getDirty:H,_setValid:E,_setFieldArray:R,_setDisabledField:Le,_setErrors:P,_getFieldArray:Z,_reset:Ue,_resetDefaultValues:()=>Ga(e.defaultValues)&&e.defaultValues().then(fe=>{st(fe,e.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:K,_disableForm:We,_subjects:w,_proxyFormState:g,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state(fe){a=fe},get _defaultValues(){return i},get _names(){return c},set _names(fe){c=fe},get _formState(){return r},get _options(){return e},set _options(fe){e={...e,...fe}}},subscribe:_e,trigger:ee,register:je,handleSubmit:Oe,watch:pe,setValue:J,getValues:de,reset:st,resetField:et,clearErrors:le,unregister:we,setError:me,setFocus:Et,getFieldState:se};return{...ut,formControl:ut}}function Ac(t={}){const e=re.useRef(void 0),r=re.useRef(void 0),[n,i]=re.useState({isDirty:!1,isValidating:!1,isLoading:Ga(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ga(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Ga(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...c}=tae(t);e.current={...c,formState:n}}const s=e.current.control;return s._options=t,dO(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(c=>({...c,isReady:!0})),s._formState.isReady=!0,a},[s]),re.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),re.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),re.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),re.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),re.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),re.useEffect(()=>{t.values&&!rl(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),r.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[s,t.values]),re.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=$U(n,s),e.current}const F3=(t,e,r)=>{if(t&&"reportValidity"in t){const n=ct(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},XU=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?F3(n.ref,r,t):n.refs&&n.refs.forEach(i=>F3(i,r,t))}},rae=(t,e)=>{e.shouldUseNativeValidation&&XU(t,e);const r={};for(const n in t){const i=ct(e.fields,n),s=Object.assign(t[n]||{},{ref:i&&i.ref});if(nae(e.names||Object.keys(t),n)){const a=Object.assign({},ct(r,n));Yr(a,"root",s),Yr(r,n,a)}else Yr(r,n,s)}return r},nae=(t,e)=>t.some(r=>r.startsWith(e+"."));var iae=function(t,e){for(var r={};t.length;){var n=t[0],i=n.code,s=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var c=n.unionErrors[0].errors[0];r[a]={message:c.message,type:c.code}}else r[a]={message:s,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(g){return g.errors.forEach(function(v){return t.push(v)})}),e){var u=r[a].types,h=u&&u[n.code];r[a]=qU(a,e,r,i,h?[].concat(h,n.message):n.message)}t.shift()}return r},Nc=function(t,e,r){return r===void 0&&(r={}),function(n,i,s){try{return Promise.resolve((function(a,c){try{var u=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(h){return s.shouldUseNativeValidation&&XU({},s),{errors:{},values:r.raw?n:h}})}catch(h){return c(h)}return u&&u.then?u.then(void 0,c):u})(0,function(a){if((function(c){return Array.isArray(c?.errors)})(a))return{values:{},errors:rae(iae(a.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw a}))}catch(a){return Promise.reject(a)}}},Lr;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),a={};for(const c of s)a[c]=i[c];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(const a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Lr||(Lr={}));var U3;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(U3||(U3={}));const St=Lr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),sc=t=>{switch(typeof t){case"undefined":return St.undefined;case"string":return St.string;case"number":return Number.isNaN(t)?St.nan:St.number;case"boolean":return St.boolean;case"function":return St.function;case"bigint":return St.bigint;case"symbol":return St.symbol;case"object":return Array.isArray(t)?St.array:t===null?St.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?St.promise:typeof Map<"u"&&t instanceof Map?St.map:typeof Set<"u"&&t instanceof Set?St.set:typeof Date<"u"&&t instanceof Date?St.date:St.object;default:return St.unknown}},it=Lr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class pl extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let c=n,u=0;for(;u<a.path.length;){const h=a.path[u];u===a.path.length-1?(c[h]=c[h]||{_errors:[]},c[h]._errors.push(r(a))):c[h]=c[h]||{_errors:[]},c=c[h],u++}}};return i(this),n}static assert(e){if(!(e instanceof pl))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Lr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];r[s]=r[s]||[],r[s].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}pl.create=t=>new pl(t);const bA=(t,e)=>{let r;switch(t.code){case it.invalid_type:t.received===St.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case it.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Lr.jsonStringifyReplacer)}`;break;case it.unrecognized_keys:r=`Unrecognized key(s) in object: ${Lr.joinValues(t.keys,", ")}`;break;case it.invalid_union:r="Invalid input";break;case it.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Lr.joinValues(t.options)}`;break;case it.invalid_enum_value:r=`Invalid enum value. Expected ${Lr.joinValues(t.options)}, received '${t.received}'`;break;case it.invalid_arguments:r="Invalid function arguments";break;case it.invalid_return_type:r="Invalid function return type";break;case it.invalid_date:r="Invalid date";break;case it.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Lr.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case it.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case it.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case it.custom:r="Invalid input";break;case it.invalid_intersection_types:r="Intersection results could not be merged";break;case it.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case it.not_finite:r="Number must be finite";break;default:r=e.defaultError,Lr.assertNever(t)}return{message:r}};let sae=bA;function aae(){return sae}const oae=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let c="";const u=n.filter(h=>!!h).slice().reverse();for(const h of u)c=h(a,{data:e,defaultError:c}).message;return{...i,path:s,message:c}};function mt(t,e){const r=aae(),n=oae({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===bA?void 0:bA].filter(i=>!!i)});t.common.issues.push(n)}class ta{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return lr;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const s=await i.key,a=await i.value;n.push({key:s,value:a})}return ta.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return lr;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(n[s.value]=a.value)}return{status:e.value,value:n}}}const lr=Object.freeze({status:"aborted"}),zp=t=>({status:"dirty",value:t}),Aa=t=>({status:"valid",value:t}),$3=t=>t.status==="aborted",V3=t=>t.status==="dirty",Df=t=>t.status==="valid",hy=t=>typeof Promise<"u"&&t instanceof Promise;var At;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(At||(At={}));class jc{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const q3=(t,e)=>{if(Df(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new pl(t.common.issues);return this._error=r,this._error}}};function Cr(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,c)=>{const{message:u}=t;return a.code==="invalid_enum_value"?{message:u??c.defaultError}:typeof c.data>"u"?{message:u??n??c.defaultError}:a.code!=="invalid_type"?{message:c.defaultError}:{message:u??r??c.defaultError}},description:i}}class Mr{get description(){return this._def.description}_getType(e){return sc(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:sc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ta,ctx:{common:e.parent.common,data:e.data,parsedType:sc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(hy(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sc(e)},i=this._parseSync({data:e,path:n.path,parent:n});return q3(n,i)}"~validate"(e){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sc(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:r});return Df(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(n=>Df(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sc(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(hy(i)?i:Promise.resolve(i));return q3(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const a=e(i),c=()=>s.addIssue({code:it.custom,...n(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(c(),!1)):a?!0:(c(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Ff({schema:this,typeName:ur.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return vc.create(this,this._def)}nullable(){return Uf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return bo.create(this)}promise(){return gy.create(this,this._def)}or(e){return py.create([this,e],this._def)}and(e){return my.create(this,e,this._def)}transform(e){return new Ff({...Cr(this._def),schema:this,typeName:ur.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new CA({...Cr(this._def),innerType:this,defaultValue:r,typeName:ur.ZodDefault})}brand(){return new Tae({typeName:ur.ZodBranded,type:this,...Cr(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new AA({...Cr(this._def),innerType:this,catchValue:r,typeName:ur.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return pO.create(this,e)}readonly(){return NA.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const lae=/^c[^\s-]{8,}$/i,cae=/^[0-9a-z]+$/,uae=/^[0-9A-HJKMNP-TV-Z]{26}$/i,dae=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,fae=/^[a-z0-9_-]{21}$/i,hae=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,pae=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,mae=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,gae="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let s_;const vae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,yae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,xae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,wae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,bae=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,_ae=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ZU="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Sae=new RegExp(`^${ZU}$`);function QU(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function Eae(t){return new RegExp(`^${QU(t)}$`)}function Cae(t){let e=`${ZU}T${QU(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Aae(t,e){return!!((e==="v4"||!e)&&vae.test(t)||(e==="v6"||!e)&&xae.test(t))}function Nae(t,e){if(!hae.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function jae(t,e){return!!((e==="v4"||!e)&&yae.test(t)||(e==="v6"||!e)&&wae.test(t))}class hc extends Mr{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==St.string){const s=this._getOrReturnCtx(e);return mt(s,{code:it.invalid_type,expected:St.string,received:s.parsedType}),lr}const n=new ta;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),mt(i,{code:it.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),mt(i,{code:it.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,c=e.data.length<s.value;(a||c)&&(i=this._getOrReturnCtx(e,i),a?mt(i,{code:it.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):c&&mt(i,{code:it.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")mae.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"email",code:it.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")s_||(s_=new RegExp(gae,"u")),s_.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"emoji",code:it.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")dae.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"uuid",code:it.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")fae.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"nanoid",code:it.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")lae.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"cuid",code:it.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")cae.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"cuid2",code:it.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")uae.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"ulid",code:it.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),mt(i,{validation:"url",code:it.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"regex",code:it.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),mt(i,{code:it.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),mt(i,{code:it.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),mt(i,{code:it.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?Cae(s).test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{code:it.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?Sae.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{code:it.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?Eae(s).test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{code:it.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?pae.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"duration",code:it.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?Aae(e.data,s.version)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"ip",code:it.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?Nae(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"jwt",code:it.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?jae(e.data,s.version)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"cidr",code:it.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?bae.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"base64",code:it.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?_ae.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"base64url",code:it.invalid_string,message:s.message}),n.dirty()):Lr.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:it.invalid_string,...At.errToObj(n)})}_addCheck(e){return new hc({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...At.errToObj(e)})}url(e){return this._addCheck({kind:"url",...At.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...At.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...At.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...At.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...At.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...At.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...At.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...At.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...At.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...At.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...At.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...At.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...At.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...At.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...At.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...At.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...At.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...At.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...At.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...At.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...At.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...At.errToObj(r)})}nonempty(e){return this.min(1,At.errToObj(e))}trim(){return new hc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new hc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new hc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}hc.create=t=>new hc({checks:[],typeName:ur.ZodString,coerce:t?.coerce??!1,...Cr(t)});function Oae(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=Number.parseInt(t.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return s%a/10**i}class Lf extends Mr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==St.number){const s=this._getOrReturnCtx(e);return mt(s,{code:it.invalid_type,expected:St.number,received:s.parsedType}),lr}let n;const i=new ta;for(const s of this._def.checks)s.kind==="int"?Lr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),mt(n,{code:it.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),mt(n,{code:it.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),mt(n,{code:it.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Oae(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),mt(n,{code:it.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),mt(n,{code:it.not_finite,message:s.message}),i.dirty()):Lr.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,At.toString(r))}gt(e,r){return this.setLimit("min",e,!1,At.toString(r))}lte(e,r){return this.setLimit("max",e,!0,At.toString(r))}lt(e,r){return this.setLimit("max",e,!1,At.toString(r))}setLimit(e,r,n,i){return new Lf({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:At.toString(i)}]})}_addCheck(e){return new Lf({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:At.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:At.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:At.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:At.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:At.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:At.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:At.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:At.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:At.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Lr.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Lf.create=t=>new Lf({checks:[],typeName:ur.ZodNumber,coerce:t?.coerce||!1,...Cr(t)});class Sm extends Mr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==St.bigint)return this._getInvalidInput(e);let n;const i=new ta;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),mt(n,{code:it.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),mt(n,{code:it.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),mt(n,{code:it.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Lr.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return mt(r,{code:it.invalid_type,expected:St.bigint,received:r.parsedType}),lr}gte(e,r){return this.setLimit("min",e,!0,At.toString(r))}gt(e,r){return this.setLimit("min",e,!1,At.toString(r))}lte(e,r){return this.setLimit("max",e,!0,At.toString(r))}lt(e,r){return this.setLimit("max",e,!1,At.toString(r))}setLimit(e,r,n,i){return new Sm({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:At.toString(i)}]})}_addCheck(e){return new Sm({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:At.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:At.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:At.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:At.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:At.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Sm.create=t=>new Sm({checks:[],typeName:ur.ZodBigInt,coerce:t?.coerce??!1,...Cr(t)});class _A extends Mr{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==St.boolean){const n=this._getOrReturnCtx(e);return mt(n,{code:it.invalid_type,expected:St.boolean,received:n.parsedType}),lr}return Aa(e.data)}}_A.create=t=>new _A({typeName:ur.ZodBoolean,coerce:t?.coerce||!1,...Cr(t)});class Em extends Mr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==St.date){const s=this._getOrReturnCtx(e);return mt(s,{code:it.invalid_type,expected:St.date,received:s.parsedType}),lr}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return mt(s,{code:it.invalid_date}),lr}const n=new ta;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),mt(i,{code:it.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),mt(i,{code:it.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):Lr.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Em({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:At.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:At.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Em.create=t=>new Em({checks:[],coerce:t?.coerce||!1,typeName:ur.ZodDate,...Cr(t)});class W3 extends Mr{_parse(e){if(this._getType(e)!==St.symbol){const n=this._getOrReturnCtx(e);return mt(n,{code:it.invalid_type,expected:St.symbol,received:n.parsedType}),lr}return Aa(e.data)}}W3.create=t=>new W3({typeName:ur.ZodSymbol,...Cr(t)});class z3 extends Mr{_parse(e){if(this._getType(e)!==St.undefined){const n=this._getOrReturnCtx(e);return mt(n,{code:it.invalid_type,expected:St.undefined,received:n.parsedType}),lr}return Aa(e.data)}}z3.create=t=>new z3({typeName:ur.ZodUndefined,...Cr(t)});class H3 extends Mr{_parse(e){if(this._getType(e)!==St.null){const n=this._getOrReturnCtx(e);return mt(n,{code:it.invalid_type,expected:St.null,received:n.parsedType}),lr}return Aa(e.data)}}H3.create=t=>new H3({typeName:ur.ZodNull,...Cr(t)});class G3 extends Mr{constructor(){super(...arguments),this._any=!0}_parse(e){return Aa(e.data)}}G3.create=t=>new G3({typeName:ur.ZodAny,...Cr(t)});class K3 extends Mr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Aa(e.data)}}K3.create=t=>new K3({typeName:ur.ZodUnknown,...Cr(t)});class Oc extends Mr{_parse(e){const r=this._getOrReturnCtx(e);return mt(r,{code:it.invalid_type,expected:St.never,received:r.parsedType}),lr}}Oc.create=t=>new Oc({typeName:ur.ZodNever,...Cr(t)});class Y3 extends Mr{_parse(e){if(this._getType(e)!==St.undefined){const n=this._getOrReturnCtx(e);return mt(n,{code:it.invalid_type,expected:St.void,received:n.parsedType}),lr}return Aa(e.data)}}Y3.create=t=>new Y3({typeName:ur.ZodVoid,...Cr(t)});class bo extends Mr{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==St.array)return mt(r,{code:it.invalid_type,expected:St.array,received:r.parsedType}),lr;if(i.exactLength!==null){const a=r.data.length>i.exactLength.value,c=r.data.length<i.exactLength.value;(a||c)&&(mt(r,{code:a?it.too_big:it.too_small,minimum:c?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(mt(r,{code:it.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(mt(r,{code:it.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,c)=>i.type._parseAsync(new jc(r,a,r.path,c)))).then(a=>ta.mergeArray(n,a));const s=[...r.data].map((a,c)=>i.type._parseSync(new jc(r,a,r.path,c)));return ta.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new bo({...this._def,minLength:{value:e,message:At.toString(r)}})}max(e,r){return new bo({...this._def,maxLength:{value:e,message:At.toString(r)}})}length(e,r){return new bo({...this._def,exactLength:{value:e,message:At.toString(r)}})}nonempty(e){return this.min(1,e)}}bo.create=(t,e)=>new bo({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ur.ZodArray,...Cr(e)});function hf(t){if(t instanceof Qn){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=vc.create(hf(n))}return new Qn({...t._def,shape:()=>e})}else return t instanceof bo?new bo({...t._def,type:hf(t.element)}):t instanceof vc?vc.create(hf(t.unwrap())):t instanceof Uf?Uf.create(hf(t.unwrap())):t instanceof Ku?Ku.create(t.items.map(e=>hf(e))):t}class Qn extends Mr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Lr.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==St.object){const h=this._getOrReturnCtx(e);return mt(h,{code:it.invalid_type,expected:St.object,received:h.parsedType}),lr}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),c=[];if(!(this._def.catchall instanceof Oc&&this._def.unknownKeys==="strip"))for(const h in i.data)a.includes(h)||c.push(h);const u=[];for(const h of a){const g=s[h],v=i.data[h];u.push({key:{status:"valid",value:h},value:g._parse(new jc(i,v,i.path,h)),alwaysSet:h in i.data})}if(this._def.catchall instanceof Oc){const h=this._def.unknownKeys;if(h==="passthrough")for(const g of c)u.push({key:{status:"valid",value:g},value:{status:"valid",value:i.data[g]}});else if(h==="strict")c.length>0&&(mt(i,{code:it.unrecognized_keys,keys:c}),n.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const g of c){const v=i.data[g];u.push({key:{status:"valid",value:g},value:h._parse(new jc(i,v,i.path,g)),alwaysSet:g in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const h=[];for(const g of u){const v=await g.key,w=await g.value;h.push({key:v,value:w,alwaysSet:g.alwaysSet})}return h}).then(h=>ta.mergeObjectSync(n,h)):ta.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return At.errToObj,new Qn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{const i=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:At.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Qn({...this._def,unknownKeys:"strip"})}passthrough(){return new Qn({...this._def,unknownKeys:"passthrough"})}extend(e){return new Qn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Qn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ur.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Qn({...this._def,catchall:e})}pick(e){const r={};for(const n of Lr.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Qn({...this._def,shape:()=>r})}omit(e){const r={};for(const n of Lr.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Qn({...this._def,shape:()=>r})}deepPartial(){return hf(this)}partial(e){const r={};for(const n of Lr.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new Qn({...this._def,shape:()=>r})}required(e){const r={};for(const n of Lr.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof vc;)s=s._def.innerType;r[n]=s}return new Qn({...this._def,shape:()=>r})}keyof(){return JU(Lr.objectKeys(this.shape))}}Qn.create=(t,e)=>new Qn({shape:()=>t,unknownKeys:"strip",catchall:Oc.create(),typeName:ur.ZodObject,...Cr(e)});Qn.strictCreate=(t,e)=>new Qn({shape:()=>t,unknownKeys:"strict",catchall:Oc.create(),typeName:ur.ZodObject,...Cr(e)});Qn.lazycreate=(t,e)=>new Qn({shape:t,unknownKeys:"strip",catchall:Oc.create(),typeName:ur.ZodObject,...Cr(e)});class py extends Mr{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const c of s)if(c.result.status==="valid")return c.result;for(const c of s)if(c.result.status==="dirty")return r.common.issues.push(...c.ctx.common.issues),c.result;const a=s.map(c=>new pl(c.ctx.common.issues));return mt(r,{code:it.invalid_union,unionErrors:a}),lr}if(r.common.async)return Promise.all(n.map(async s=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const u of n){const h={...r,common:{...r.common,issues:[]},parent:null},g=u._parseSync({data:r.data,path:r.path,parent:h});if(g.status==="valid")return g;g.status==="dirty"&&!s&&(s={result:g,ctx:h}),h.common.issues.length&&a.push(h.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const c=a.map(u=>new pl(u));return mt(r,{code:it.invalid_union,unionErrors:c}),lr}}get options(){return this._def.options}}py.create=(t,e)=>new py({options:t,typeName:ur.ZodUnion,...Cr(e)});function SA(t,e){const r=sc(t),n=sc(e);if(t===e)return{valid:!0,data:t};if(r===St.object&&n===St.object){const i=Lr.objectKeys(e),s=Lr.objectKeys(t).filter(c=>i.indexOf(c)!==-1),a={...t,...e};for(const c of s){const u=SA(t[c],e[c]);if(!u.valid)return{valid:!1};a[c]=u.data}return{valid:!0,data:a}}else if(r===St.array&&n===St.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const a=t[s],c=e[s],u=SA(a,c);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return r===St.date&&n===St.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class my extends Mr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,a)=>{if($3(s)||$3(a))return lr;const c=SA(s.value,a.value);return c.valid?((V3(s)||V3(a))&&r.dirty(),{status:r.value,value:c.data}):(mt(n,{code:it.invalid_intersection_types}),lr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}my.create=(t,e,r)=>new my({left:t,right:e,typeName:ur.ZodIntersection,...Cr(r)});class Ku extends Mr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==St.array)return mt(n,{code:it.invalid_type,expected:St.array,received:n.parsedType}),lr;if(n.data.length<this._def.items.length)return mt(n,{code:it.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),lr;!this._def.rest&&n.data.length>this._def.items.length&&(mt(n,{code:it.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((a,c)=>{const u=this._def.items[c]||this._def.rest;return u?u._parse(new jc(n,a,n.path,c)):null}).filter(a=>!!a);return n.common.async?Promise.all(s).then(a=>ta.mergeArray(r,a)):ta.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new Ku({...this._def,rest:e})}}Ku.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ku({items:t,typeName:ur.ZodTuple,rest:null,...Cr(e)})};class X3 extends Mr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==St.map)return mt(n,{code:it.invalid_type,expected:St.map,received:n.parsedType}),lr;const i=this._def.keyType,s=this._def.valueType,a=[...n.data.entries()].map(([c,u],h)=>({key:i._parse(new jc(n,c,n.path,[h,"key"])),value:s._parse(new jc(n,u,n.path,[h,"value"]))}));if(n.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const u of a){const h=await u.key,g=await u.value;if(h.status==="aborted"||g.status==="aborted")return lr;(h.status==="dirty"||g.status==="dirty")&&r.dirty(),c.set(h.value,g.value)}return{status:r.value,value:c}})}else{const c=new Map;for(const u of a){const h=u.key,g=u.value;if(h.status==="aborted"||g.status==="aborted")return lr;(h.status==="dirty"||g.status==="dirty")&&r.dirty(),c.set(h.value,g.value)}return{status:r.value,value:c}}}}X3.create=(t,e,r)=>new X3({valueType:e,keyType:t,typeName:ur.ZodMap,...Cr(r)});class Cm extends Mr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==St.set)return mt(n,{code:it.invalid_type,expected:St.set,received:n.parsedType}),lr;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(mt(n,{code:it.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(mt(n,{code:it.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function a(u){const h=new Set;for(const g of u){if(g.status==="aborted")return lr;g.status==="dirty"&&r.dirty(),h.add(g.value)}return{status:r.value,value:h}}const c=[...n.data.values()].map((u,h)=>s._parse(new jc(n,u,n.path,h)));return n.common.async?Promise.all(c).then(u=>a(u)):a(c)}min(e,r){return new Cm({...this._def,minSize:{value:e,message:At.toString(r)}})}max(e,r){return new Cm({...this._def,maxSize:{value:e,message:At.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Cm.create=(t,e)=>new Cm({valueType:t,minSize:null,maxSize:null,typeName:ur.ZodSet,...Cr(e)});class Z3 extends Mr{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Z3.create=(t,e)=>new Z3({getter:t,typeName:ur.ZodLazy,...Cr(e)});class EA extends Mr{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return mt(r,{received:r.data,code:it.invalid_literal,expected:this._def.value}),lr}return{status:"valid",value:e.data}}get value(){return this._def.value}}EA.create=(t,e)=>new EA({value:t,typeName:ur.ZodLiteral,...Cr(e)});function JU(t,e){return new Bf({values:t,typeName:ur.ZodEnum,...Cr(e)})}class Bf extends Mr{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return mt(r,{expected:Lr.joinValues(n),received:r.parsedType,code:it.invalid_type}),lr}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return mt(r,{received:r.data,code:it.invalid_enum_value,options:n}),lr}return Aa(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Bf.create(e,{...this._def,...r})}exclude(e,r=this._def){return Bf.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Bf.create=JU;class Q3 extends Mr{_parse(e){const r=Lr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==St.string&&n.parsedType!==St.number){const i=Lr.objectValues(r);return mt(n,{expected:Lr.joinValues(i),received:n.parsedType,code:it.invalid_type}),lr}if(this._cache||(this._cache=new Set(Lr.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Lr.objectValues(r);return mt(n,{received:n.data,code:it.invalid_enum_value,options:i}),lr}return Aa(e.data)}get enum(){return this._def.values}}Q3.create=(t,e)=>new Q3({values:t,typeName:ur.ZodNativeEnum,...Cr(e)});class gy extends Mr{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==St.promise&&r.common.async===!1)return mt(r,{code:it.invalid_type,expected:St.promise,received:r.parsedType}),lr;const n=r.parsedType===St.promise?r.data:Promise.resolve(r.data);return Aa(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}gy.create=(t,e)=>new gy({type:t,typeName:ur.ZodPromise,...Cr(e)});class Ff extends Mr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ur.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{mt(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(n.data,s);if(n.common.async)return Promise.resolve(a).then(async c=>{if(r.value==="aborted")return lr;const u=await this._def.schema._parseAsync({data:c,path:n.path,parent:n});return u.status==="aborted"?lr:u.status==="dirty"||r.value==="dirty"?zp(u.value):u});{if(r.value==="aborted")return lr;const c=this._def.schema._parseSync({data:a,path:n.path,parent:n});return c.status==="aborted"?lr:c.status==="dirty"||r.value==="dirty"?zp(c.value):c}}if(i.type==="refinement"){const a=c=>{const u=i.refinement(c,s);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return c.status==="aborted"?lr:(c.status==="dirty"&&r.dirty(),a(c.value),{status:r.value,value:c.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>c.status==="aborted"?lr:(c.status==="dirty"&&r.dirty(),a(c.value).then(()=>({status:r.value,value:c.value}))))}if(i.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Df(a))return lr;const c=i.transform(a.value,s);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:c}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>Df(a)?Promise.resolve(i.transform(a.value,s)).then(c=>({status:r.value,value:c})):lr);Lr.assertNever(i)}}Ff.create=(t,e,r)=>new Ff({schema:t,typeName:ur.ZodEffects,effect:e,...Cr(r)});Ff.createWithPreprocess=(t,e,r)=>new Ff({schema:e,effect:{type:"preprocess",transform:t},typeName:ur.ZodEffects,...Cr(r)});class vc extends Mr{_parse(e){return this._getType(e)===St.undefined?Aa(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}vc.create=(t,e)=>new vc({innerType:t,typeName:ur.ZodOptional,...Cr(e)});class Uf extends Mr{_parse(e){return this._getType(e)===St.null?Aa(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Uf.create=(t,e)=>new Uf({innerType:t,typeName:ur.ZodNullable,...Cr(e)});class CA extends Mr{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===St.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}CA.create=(t,e)=>new CA({innerType:t,typeName:ur.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Cr(e)});class AA extends Mr{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return hy(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new pl(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new pl(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}AA.create=(t,e)=>new AA({innerType:t,typeName:ur.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Cr(e)});class J3 extends Mr{_parse(e){if(this._getType(e)!==St.nan){const n=this._getOrReturnCtx(e);return mt(n,{code:it.invalid_type,expected:St.nan,received:n.parsedType}),lr}return{status:"valid",value:e.data}}}J3.create=t=>new J3({typeName:ur.ZodNaN,...Cr(t)});class Tae extends Mr{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class pO extends Mr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?lr:s.status==="dirty"?(r.dirty(),zp(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?lr:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new pO({in:e,out:r,typeName:ur.ZodPipeline})}}class NA extends Mr{_parse(e){const r=this._def.innerType._parse(e),n=i=>(Df(i)&&(i.value=Object.freeze(i.value)),i);return hy(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}NA.create=(t,e)=>new NA({innerType:t,typeName:ur.ZodReadonly,...Cr(e)});var ur;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ur||(ur={}));const Gr=hc.create,Tc=Lf.create,mO=_A.create,jA=Em.create;Oc.create;bo.create;const To=Qn.create;py.create;my.create;Ku.create;const _u=EA.create,e$=Bf.create;gy.create;vc.create;Uf.create;const gO=Gr().min(1,"Email is required").email("Please enter a valid email address").max(255,"Email must be less than 255 characters").toLowerCase().trim(),vO=Gr().min(8,"Password must be at least 8 characters long").max(128,"Password must be less than 128 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter, one lowercase letter, and one number"),kae=Gr().min(1,"Full name is required").max(100,"Full name must be less than 100 characters").regex(/^[a-zA-Z\s'-]+$/,"Full name can only contain letters, spaces, hyphens, and apostrophes").trim(),Pae=To({fullName:kae,email:gO,password:vO,confirmPassword:Gr().min(1,"Please confirm your password")}).refine(t=>t.password===t.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}),Iae=To({email:gO,password:Gr().min(1,"Password is required")});To({email:gO});To({password:vO,confirmPassword:Gr().min(1,"Please confirm your password")}).refine(t=>t.password===t.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});Gr().length(6,"OTP must be exactly 6 digits").regex(/^\d+$/,"OTP must contain only numbers");const kc=Bse,t$=j.createContext({}),dr=({...t})=>o.jsx(t$.Provider,{value:{name:t.name},children:o.jsx(Vse,{...t})}),sx=()=>{const t=j.useContext(t$),e=j.useContext(r$),{getFieldState:r,formState:n}=ix(),i=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},r$=j.createContext({}),sr=j.forwardRef(({className:t,...e},r)=>{const n=j.useId();return o.jsx(r$.Provider,{value:{id:n},children:o.jsx("div",{ref:r,className:De("space-y-2",t),...e})})});sr.displayName="FormItem";const ar=j.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:i}=sx();return o.jsx(Qt,{ref:r,className:De(n&&"text-destructive",t),htmlFor:i,...e})});ar.displayName="FormLabel";const or=j.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:s}=sx();return o.jsx(ld,{ref:e,id:n,"aria-describedby":r?`${i} ${s}`:`${i}`,"aria-invalid":!!r,"data-error":r?"true":void 0,...t})});or.displayName="FormControl";const _s=j.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=sx();return o.jsx("p",{ref:r,id:n,className:De("text-sm text-muted-foreground",t),...e})});_s.displayName="FormDescription";const pr=j.forwardRef(({className:t,children:e,...r},n)=>{const{error:i,formMessageId:s}=sx(),a=i?String(i?.message):e;return a?o.jsx("p",{ref:n,id:s,className:De("text-sm font-medium text-destructive",t),...r,children:a}):null});pr.displayName="FormMessage";function Su(t){if(typeof t!="string")return"";let e=t.replace(/\0/g,"");return e=e.replace(/[\x00-\x08\x0B-\x0C\x0E-\x1F\x7F]/g,""),e=e.trim(),e}function OA(t){if(typeof t!="string")return"";let e=t.trim().toLowerCase();return e=e.replace(/[^\w@.-]/g,""),e}const vy=5,Rae=900*1e3,Mae=900*1e3,Dae="login_attempts_";function yO(t){return`${Dae}${t.toLowerCase()}`}function xO(t){try{const e=yO(t),r=localStorage.getItem(e);if(!r)return null;const n=JSON.parse(r);return n.lockedUntil&&Date.now()>n.lockedUntil||Date.now()-n.lastAttempt>Mae?(TA(t),null):n}catch(e){return console.error("Error reading lockout entry:",e),null}}function Lae(t){const e=xO(t)||{attempts:0,lockedUntil:null,lastAttempt:0};e.attempts+=1,e.lastAttempt=Date.now(),e.attempts>=vy&&(e.lockedUntil=Date.now()+Rae);try{const r=yO(t);localStorage.setItem(r,JSON.stringify(e))}catch(r){console.error("Error saving lockout entry:",r)}return{isLocked:e.lockedUntil!==null&&Date.now()<e.lockedUntil,remainingAttempts:Math.max(0,vy-e.attempts),lockedUntil:e.lockedUntil}}function TA(t){try{const e=yO(t);localStorage.removeItem(e)}catch(e){console.error("Error clearing lockout:",e)}}function eR(t){const e=xO(t);if(!e||!e.lockedUntil)return{isLocked:!1,lockedUntil:null,remainingTime:null};const r=Date.now(),n=r<e.lockedUntil,i=n?e.lockedUntil-r:null;return{isLocked:n,lockedUntil:e.lockedUntil,remainingTime:i}}function tR(t){const e=xO(t);return e?e.lockedUntil&&Date.now()<e.lockedUntil?0:Math.max(0,vy-e.attempts):vy}function a_(t){const e=Math.floor(t/6e4),r=Math.floor(t%6e4/1e3);return e>0?`${e} minute${e!==1?"s":""} and ${r} second${r!==1?"s":""}`:`${r} second${r!==1?"s":""}`}const Bae=ud("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Yu=j.forwardRef(({className:t,variant:e,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:De(Bae({variant:e}),t),...r}));Yu.displayName="Alert";const Fae=j.forwardRef(({className:t,...e},r)=>o.jsx("h5",{ref:r,className:De("mb-1 font-medium leading-none tracking-tight",t),...e}));Fae.displayName="AlertTitle";const Xu=j.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:De("text-sm [&_p]:leading-relaxed",t),...e}));Xu.displayName="AlertDescription";const Uae=()=>{const t=ii(),{toast:e}=Bn(),[r,n]=j.useState(!1),[i,s]=j.useState(null),[a,c]=j.useState(null),u=Ac({resolver:Nc(Iae),mode:"onBlur",defaultValues:{email:"",password:""}}),h=u.watch("email");j.useEffect(()=>{if(h){const A=OA(h),E=eR(A),C=tR(A);s(E),c(C)}else s(null),c(null)},[h]);const g=async A=>{n(!0);try{const E=OA(A.email),C=eR(E);if(C.isLocked&&C.remainingTime){const T=a_(C.remainingTime);e({variant:"destructive",title:"Account Locked",description:`Too many failed login attempts. Please try again in ${T}.`}),s(C),n(!1);return}const{data:R,error:I}=await Se.auth.signInWithPassword({email:E,password:A.password});if(I){console.error("Login error:",I);const T=Lae(E),D=tR(E);if(c(D),s({isLocked:T.isLocked,lockedUntil:T.lockedUntil,remainingTime:T.lockedUntil?T.lockedUntil-Date.now():null}),T.isLocked&&T.lockedUntil){const M=a_(T.lockedUntil-Date.now());throw e(xa.accountLocked(M)),I}throw D>0?e({variant:"destructive",title:"Login failed",description:`${I.message}. ${D} attempt${D!==1?"s":""} remaining before account lockout.`}):e({variant:"destructive",title:"Login failed",description:I.message}),I}if(TA(E),s(null),c(null),!R?.user)throw console.error("No user data returned from login"),new Error("Login failed: No user data returned");const{data:{session:P},error:L}=await Se.auth.getSession();if(L)throw console.error("Error getting session after login:",L),L;if(!P)throw console.error("No session available after login"),new Error("Failed to get session after login");console.log("Login successful, session:",P?.user?.id),P.user&&!P.user.email_confirmed_at&&e(xa.emailVerificationRequired()),e(xa.loginSuccess()),await new Promise(T=>setTimeout(T,1e3)),console.log("Navigating to dashboard..."),t("/dashboard")}catch{}finally{n(!1)}},[v,w]=j.useState(!1),b=async()=>{w(!0);try{const{error:A}=await Se.auth.signInWithOAuth({provider:"google",options:{redirectTo:Mf("/auth/callback"),queryParams:{access_type:"offline",prompt:"consent"}}});A&&e({variant:"destructive",title:"Authentication Error",description:A.message})}catch(A){e({variant:"destructive",title:"Authentication Error",description:A.message||"Failed to sign in with Google"})}finally{setTimeout(()=>w(!1),3e3)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:o.jsxs(Xe,{className:"w-full max-w-md shadow-lg",children:[o.jsxs(Ot,{className:"space-y-1 text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"p-3 bg-gradient-secondary rounded-full",children:o.jsx(mo,{className:"w-8 h-8 text-secondary-foreground"})})}),o.jsx(Lt,{className:"text-2xl font-bold",children:"Welcome Back"}),o.jsx(mr,{children:"Sign in to access your gym account"})]}),o.jsxs(Ze,{children:[i?.isLocked&&i.remainingTime&&o.jsxs(Yu,{variant:"destructive",className:"mb-4",children:[o.jsx(cl,{className:"h-4 w-4"}),o.jsxs(Xu,{children:["Account locked due to too many failed login attempts. Please try again in ",a_(i.remainingTime),"."]})]}),a!==null&&a>0&&a<5&&!i?.isLocked&&o.jsxs(Yu,{className:"mb-4",children:[o.jsx(cl,{className:"h-4 w-4"}),o.jsxs(Xu,{children:[a," attempt",a!==1?"s":""," remaining before account lockout."]})]}),o.jsx(kc,{...u,children:o.jsxs("form",{onSubmit:u.handleSubmit(g),className:"space-y-4",children:[o.jsx(dr,{control:u.control,name:"email",render:({field:A,fieldState:E})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Email"}),o.jsx(or,{children:o.jsx(Nt,{type:"email",placeholder:"your@email.com",disabled:r,...A})}),o.jsx(pr,{})]})}),o.jsx(dr,{control:u.control,name:"password",render:({field:A,fieldState:E})=>o.jsxs(sr,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ar,{children:"Password"}),o.jsx("button",{type:"button",onClick:()=>t("/forgot-password"),className:"text-xs text-secondary hover:underline",children:"Forgot password?"})]}),o.jsx(or,{children:o.jsx(Nt,{type:"password",placeholder:"",disabled:r,...A})}),o.jsx(pr,{})]})}),o.jsx(Te,{type:"submit",className:"w-full bg-secondary hover:bg-secondary/90",disabled:r||(i?.isLocked??!1)||Object.keys(u.formState.errors).length>0,children:r?"Signing in...":i?.isLocked?"Account Locked":"Sign In"})]})}),o.jsxs("div",{className:"relative my-6",children:[o.jsx($u,{}),o.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-card px-2 text-xs text-muted-foreground",children:"or continue with"})]}),o.jsx("div",{className:"space-y-3",children:o.jsxs(Te,{type:"button",variant:"outline",className:"w-full",onClick:b,disabled:v,children:[v?o.jsxs("svg",{className:"mr-2 h-4 w-4 animate-spin",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):o.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),v?"Connecting...":"Sign in with Google"]})}),o.jsxs("div",{className:"mt-6 text-center text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Don't have an account? "}),o.jsx("button",{onClick:()=>t("/register"),className:"text-secondary hover:underline font-medium",children:"Sign up"})]})]})]})})},$ae=()=>{const t=ii(),{toast:e}=Bn(),[r,n]=j.useState(!1),i=Ac({resolver:Nc(Pae),mode:"onBlur",defaultValues:{fullName:"",email:"",password:"",confirmPassword:""}}),s=async g=>{n(!0);try{const v=OA(g.email),w=Su(g.fullName),{data:b,error:A}=await Se.auth.signUp({email:v,password:g.password,options:{data:{full_name:w},emailRedirectTo:Mf("/auth/callback")}});if(A)throw A;b?.user&&(await a(b.user.id,w),await new Promise(E=>setTimeout(E,500))),e({title:"Account created successfully",description:"Please check your email to verify your account before accessing the dashboard."}),t("/verify-email")}catch(v){Ft({title:"Registration failed",description:v.message})}finally{n(!1)}},a=async(g,v)=>{try{const{data:w}=await Se.from("profiles").select("id").eq("id",g).single();if(!w){const{error:A}=await Se.from("profiles").insert({id:g,full_name:v});A&&A.code!=="23505"&&console.error("Error creating profile:",A)}const{data:b}=await Se.from("user_roles").select("id").eq("user_id",g).eq("role","member").single();if(!b){const{error:A}=await Se.from("user_roles").insert({user_id:g,role:"member"});A&&A.code!=="23505"&&console.error("Error creating role:",A)}}catch(w){console.error("Error ensuring profile and role:",w)}},[c,u]=j.useState(!1),h=async()=>{u(!0);try{const{error:g}=await Se.auth.signInWithOAuth({provider:"google",options:{redirectTo:Mf("/auth/callback"),queryParams:{access_type:"offline",prompt:"consent"}}});g&&Ft({title:"Authentication Error",description:g.message})}catch(g){Ft({title:"Authentication Error",description:g.message||"Failed to sign up with Google"})}finally{setTimeout(()=>u(!1),3e3)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:o.jsxs(Xe,{className:"w-full max-w-md shadow-lg",children:[o.jsxs(Ot,{className:"space-y-1 text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"p-3 bg-gradient-accent rounded-full",children:o.jsx(mo,{className:"w-8 h-8 text-accent-foreground"})})}),o.jsx(Lt,{className:"text-2xl font-bold",children:"Create Account"}),o.jsx(mr,{children:"Join our fitness community today"})]}),o.jsxs(Ze,{children:[o.jsx(kc,{...i,children:o.jsxs("form",{onSubmit:i.handleSubmit(s),className:"space-y-4",children:[o.jsx(dr,{control:i.control,name:"fullName",render:({field:g})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Full Name"}),o.jsx(or,{children:o.jsx(Nt,{placeholder:"John Doe",disabled:r,...g})}),o.jsx(pr,{})]})}),o.jsx(dr,{control:i.control,name:"email",render:({field:g})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Email"}),o.jsx(or,{children:o.jsx(Nt,{type:"email",placeholder:"your@email.com",disabled:r,...g})}),o.jsx(pr,{})]})}),o.jsx(dr,{control:i.control,name:"password",render:({field:g})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Password"}),o.jsx(or,{children:o.jsx(Nt,{type:"password",placeholder:"",disabled:r,...g})}),o.jsx(_s,{className:"text-xs",children:"Must be at least 8 characters with uppercase, lowercase, and a number"}),o.jsx(pr,{})]})}),o.jsx(dr,{control:i.control,name:"confirmPassword",render:({field:g})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Confirm Password"}),o.jsx(or,{children:o.jsx(Nt,{type:"password",placeholder:"",disabled:r,...g})}),o.jsx(pr,{})]})}),o.jsx(Te,{type:"submit",className:"w-full bg-accent hover:bg-accent/90",disabled:r||Object.keys(i.formState.errors).length>0,children:r?"Creating Account...":"Create Account"})]})}),o.jsxs("div",{className:"relative my-6",children:[o.jsx($u,{}),o.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-card px-2 text-xs text-muted-foreground",children:"or continue with"})]}),o.jsx("div",{className:"space-y-3",children:o.jsxs(Te,{type:"button",variant:"outline",className:"w-full",onClick:h,disabled:c,children:[c?o.jsxs("svg",{className:"mr-2 h-4 w-4 animate-spin",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):o.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),c?"Connecting...":"Sign up with Google"]})}),o.jsxs("div",{className:"mt-6 text-center text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Already have an account? "}),o.jsx("button",{onClick:()=>t("/login"),className:"text-secondary hover:underline font-medium",children:"Sign in"})]})]})]})})},Vae=()=>{const t=ii(),{toast:e}=Bn(),[r,n]=j.useState(!1),[i,s]=j.useState(""),[a,c]=j.useState(!1),u=async h=>{h.preventDefault(),n(!0);try{const{error:g}=await Se.auth.resetPasswordForEmail(i,{redirectTo:Mf("/reset-password")});if(g)throw g;c(!0),e({title:"Reset code sent",description:"Check your email for the password reset code."})}catch(g){e({variant:"destructive",title:"Failed to send reset code",description:g.message})}finally{n(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:o.jsxs(Xe,{className:"w-full max-w-md shadow-lg",children:[o.jsxs(Ot,{className:"space-y-1 text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"p-3 bg-gradient-secondary rounded-full",children:o.jsx(mo,{className:"w-8 h-8 text-secondary-foreground"})})}),o.jsx(Lt,{className:"text-2xl font-bold",children:"Reset Password"}),o.jsx(mr,{children:a?"Check your email for the reset code":"Enter your email to receive a reset code"})]}),o.jsx(Ze,{children:a?o.jsxs("div",{className:"space-y-4 text-center",children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:["A password reset code has been sent to ",o.jsx("strong",{children:i})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Click the link in the email or enter the code on the reset password page."}),o.jsx(Te,{onClick:()=>t("/reset-password"),className:"w-full bg-secondary hover:bg-secondary/90",children:"Go to Reset Password"}),o.jsxs(Te,{variant:"ghost",className:"w-full",onClick:()=>t("/login"),children:[o.jsx(sI,{className:"w-4 h-4 mr-2"}),"Back to Login"]})]}):o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Qt,{htmlFor:"email",children:"Email"}),o.jsx(Nt,{id:"email",type:"email",placeholder:"your@email.com",value:i,onChange:h=>s(h.target.value),required:!0,disabled:r})]}),o.jsx(Te,{type:"submit",className:"w-full bg-secondary hover:bg-secondary/90",disabled:r,children:r?"Sending...":"Send Reset Code"}),o.jsxs(Te,{type:"button",variant:"ghost",className:"w-full",onClick:()=>t("/login"),children:[o.jsx(sI,{className:"w-4 h-4 mr-2"}),"Back to Login"]})]})})]})})};var qae=Object.defineProperty,Wae=Object.defineProperties,zae=Object.getOwnPropertyDescriptors,yy=Object.getOwnPropertySymbols,n$=Object.prototype.hasOwnProperty,i$=Object.prototype.propertyIsEnumerable,rR=(t,e,r)=>e in t?qae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Hae=(t,e)=>{for(var r in e||(e={}))n$.call(e,r)&&rR(t,r,e[r]);if(yy)for(var r of yy(e))i$.call(e,r)&&rR(t,r,e[r]);return t},Gae=(t,e)=>Wae(t,zae(e)),Kae=(t,e)=>{var r={};for(var n in t)n$.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&yy)for(var n of yy(t))e.indexOf(n)<0&&i$.call(t,n)&&(r[n]=t[n]);return r};function Yae(t){let e=setTimeout(t,0),r=setTimeout(t,10),n=setTimeout(t,50);return[e,r,n]}function Xae(t){let e=j.useRef();return j.useEffect(()=>{e.current=t}),e.current}var Zae=18,s$=40,Qae=`${s$}px`,Jae=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function eoe({containerRef:t,inputRef:e,pushPasswordManagerStrategy:r,isFocused:n}){let[i,s]=j.useState(!1),[a,c]=j.useState(!1),[u,h]=j.useState(!1),g=j.useMemo(()=>r==="none"?!1:(r==="increase-width"||r==="experimental-no-flickering")&&i&&a,[i,a,r]),v=j.useCallback(()=>{let w=t.current,b=e.current;if(!w||!b||u||r==="none")return;let A=w,E=A.getBoundingClientRect().left+A.offsetWidth,C=A.getBoundingClientRect().top+A.offsetHeight/2,R=E-Zae,I=C;document.querySelectorAll(Jae).length===0&&document.elementFromPoint(R,I)===w||(s(!0),h(!0))},[t,e,u,r]);return j.useEffect(()=>{let w=t.current;if(!w||r==="none")return;function b(){let E=window.innerWidth-w.getBoundingClientRect().right;c(E>=s$)}b();let A=setInterval(b,1e3);return()=>{clearInterval(A)}},[t,r]),j.useEffect(()=>{let w=n||document.activeElement===e.current;if(r==="none"||!w)return;let b=setTimeout(v,0),A=setTimeout(v,2e3),E=setTimeout(v,5e3),C=setTimeout(()=>{h(!0)},6e3);return()=>{clearTimeout(b),clearTimeout(A),clearTimeout(E),clearTimeout(C)}},[e,n,r,v]),{hasPWMBadge:i,willPushPWMBadge:g,PWM_BADGE_SPACE_WIDTH:Qae}}var a$=j.createContext({}),o$=j.forwardRef((t,e)=>{var r=t,{value:n,onChange:i,maxLength:s,textAlign:a="left",pattern:c,placeholder:u,inputMode:h="numeric",onComplete:g,pushPasswordManagerStrategy:v="increase-width",pasteTransformer:w,containerClassName:b,noScriptCSSFallback:A=toe,render:E,children:C}=r,R=Kae(r,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),I,P,L,T,D;let[M,$]=j.useState(typeof R.defaultValue=="string"?R.defaultValue:""),V=n??M,K=Xae(V),H=j.useCallback(Ue=>{i?.(Ue),$(Ue)},[i]),z=j.useMemo(()=>c?typeof c=="string"?new RegExp(c):c:null,[c]),Z=j.useRef(null),W=j.useRef(null),G=j.useRef({value:V,onChange:H,isIOS:typeof window<"u"&&((P=(I=window?.CSS)==null?void 0:I.supports)==null?void 0:P.call(I,"-webkit-touch-callout","none"))}),J=j.useRef({prev:[(L=Z.current)==null?void 0:L.selectionStart,(T=Z.current)==null?void 0:T.selectionEnd,(D=Z.current)==null?void 0:D.selectionDirection]});j.useImperativeHandle(e,()=>Z.current,[]),j.useEffect(()=>{let Ue=Z.current,st=W.current;if(!Ue||!st)return;G.current.value!==Ue.value&&G.current.onChange(Ue.value),J.current.prev=[Ue.selectionStart,Ue.selectionEnd,Ue.selectionDirection];function Et(){if(document.activeElement!==Ue){le(null),pe(null);return}let ut=Ue.selectionStart,fe=Ue.selectionEnd,he=Ue.selectionDirection,Ne=Ue.maxLength,Ye=Ue.value,Ve=J.current.prev,qe=-1,ae=-1,Me;if(Ye.length!==0&&ut!==null&&fe!==null){let Sr=ut===fe,kr=ut===Ye.length&&Ye.length<Ne;if(Sr&&!kr){let Bt=ut;if(Bt===0)qe=0,ae=1,Me="forward";else if(Bt===Ne)qe=Bt-1,ae=Bt,Me="backward";else if(Ne>1&&Ye.length>1){let ze=0;if(Ve[0]!==null&&Ve[1]!==null){Me=Bt<Ve[1]?"backward":"forward";let Ur=Ve[0]===Ve[1]&&Ve[0]<Ne;Me==="backward"&&!Ur&&(ze=-1)}qe=ze+Bt,ae=ze+Bt+1}}qe!==-1&&ae!==-1&&qe!==ae&&Z.current.setSelectionRange(qe,ae,Me)}let lt=qe!==-1?qe:ut,ft=ae!==-1?ae:fe,_r=Me??he;le(lt),pe(ft),J.current.prev=[lt,ft,_r]}if(document.addEventListener("selectionchange",Et,{capture:!0}),Et(),document.activeElement===Ue&&de(!0),!document.getElementById("input-otp-style")){let ut=document.createElement("style");if(ut.id="input-otp-style",document.head.appendChild(ut),ut.sheet){let fe="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Ap(ut.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Ap(ut.sheet,`[data-input-otp]:autofill { ${fe} }`),Ap(ut.sheet,`[data-input-otp]:-webkit-autofill { ${fe} }`),Ap(ut.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Ap(ut.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let dt=()=>{st&&st.style.setProperty("--root-height",`${Ue.clientHeight}px`)};dt();let kt=new ResizeObserver(dt);return kt.observe(Ue),()=>{document.removeEventListener("selectionchange",Et,{capture:!0}),kt.disconnect()}},[]);let[ie,ne]=j.useState(!1),[ee,de]=j.useState(!1),[se,le]=j.useState(null),[me,pe]=j.useState(null);j.useEffect(()=>{Yae(()=>{var Ue,st,Et,dt;(Ue=Z.current)==null||Ue.dispatchEvent(new Event("input"));let kt=(st=Z.current)==null?void 0:st.selectionStart,ut=(Et=Z.current)==null?void 0:Et.selectionEnd,fe=(dt=Z.current)==null?void 0:dt.selectionDirection;kt!==null&&ut!==null&&(le(kt),pe(ut),J.current.prev=[kt,ut,fe])})},[V,ee]),j.useEffect(()=>{K!==void 0&&V!==K&&K.length<s&&V.length===s&&g?.(V)},[s,g,K,V]);let Re=eoe({containerRef:W,inputRef:Z,pushPasswordManagerStrategy:v,isFocused:ee}),_e=j.useCallback(Ue=>{let st=Ue.currentTarget.value.slice(0,s);if(st.length>0&&z&&!z.test(st)){Ue.preventDefault();return}typeof K=="string"&&st.length<K.length&&document.dispatchEvent(new Event("selectionchange")),H(st)},[s,H,K,z]),we=j.useCallback(()=>{var Ue;if(Z.current){let st=Math.min(Z.current.value.length,s-1),Et=Z.current.value.length;(Ue=Z.current)==null||Ue.setSelectionRange(st,Et),le(st),pe(Et)}de(!0)},[s]),Le=j.useCallback(Ue=>{var st,Et;let dt=Z.current;if(!w&&(!G.current.isIOS||!Ue.clipboardData||!dt))return;let kt=Ue.clipboardData.getData("text/plain"),ut=w?w(kt):kt;Ue.preventDefault();let fe=(st=Z.current)==null?void 0:st.selectionStart,he=(Et=Z.current)==null?void 0:Et.selectionEnd,Ne=(fe!==he?V.slice(0,fe)+ut+V.slice(he):V.slice(0,fe)+ut+V.slice(fe)).slice(0,s);if(Ne.length>0&&z&&!z.test(Ne))return;dt.value=Ne,H(Ne);let Ye=Math.min(Ne.length,s-1),Ve=Ne.length;dt.setSelectionRange(Ye,Ve),le(Ye),pe(Ve)},[s,H,z,V]),je=j.useMemo(()=>({position:"relative",cursor:R.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[R.disabled]),Fe=j.useMemo(()=>({position:"absolute",inset:0,width:Re.willPushPWMBadge?`calc(100% + ${Re.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:Re.willPushPWMBadge?`inset(0 ${Re.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:a,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[Re.PWM_BADGE_SPACE_WIDTH,Re.willPushPWMBadge,a]),We=j.useMemo(()=>j.createElement("input",Gae(Hae({autoComplete:R.autoComplete||"one-time-code"},R),{"data-input-otp":!0,"data-input-otp-placeholder-shown":V.length===0||void 0,"data-input-otp-mss":se,"data-input-otp-mse":me,inputMode:h,pattern:z?.source,"aria-placeholder":u,style:Fe,maxLength:s,value:V,ref:Z,onPaste:Ue=>{var st;Le(Ue),(st=R.onPaste)==null||st.call(R,Ue)},onChange:_e,onMouseOver:Ue=>{var st;ne(!0),(st=R.onMouseOver)==null||st.call(R,Ue)},onMouseLeave:Ue=>{var st;ne(!1),(st=R.onMouseLeave)==null||st.call(R,Ue)},onFocus:Ue=>{var st;we(),(st=R.onFocus)==null||st.call(R,Ue)},onBlur:Ue=>{var st;de(!1),(st=R.onBlur)==null||st.call(R,Ue)}})),[_e,we,Le,h,Fe,s,me,se,R,z?.source,V]),Oe=j.useMemo(()=>({slots:Array.from({length:s}).map((Ue,st)=>{var Et;let dt=ee&&se!==null&&me!==null&&(se===me&&st===se||st>=se&&st<me),kt=V[st]!==void 0?V[st]:null,ut=V[0]!==void 0?null:(Et=u?.[st])!=null?Et:null;return{char:kt,placeholderChar:ut,isActive:dt,hasFakeCaret:dt&&kt===null}}),isFocused:ee,isHovering:!R.disabled&&ie}),[ee,ie,s,me,se,R.disabled,V]),et=j.useMemo(()=>E?E(Oe):j.createElement(a$.Provider,{value:Oe},C),[C,Oe,E]);return j.createElement(j.Fragment,null,A!==null&&j.createElement("noscript",null,j.createElement("style",null,A)),j.createElement("div",{ref:W,"data-input-otp-container":!0,style:je,className:b},et,j.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},We)))});o$.displayName="Input";function Ap(t,e){try{t.insertRule(e)}catch{console.error("input-otp could not insert CSS rule:",e)}}var toe=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const l$=j.forwardRef(({className:t,containerClassName:e,...r},n)=>o.jsx(o$,{ref:n,containerClassName:De("flex items-center gap-2 has-[:disabled]:opacity-50",e),className:De("disabled:cursor-not-allowed",t),...r}));l$.displayName="InputOTP";const c$=j.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:De("flex items-center",t),...e}));c$.displayName="InputOTPGroup";const Eu=j.forwardRef(({index:t,className:e,...r},n)=>{const i=j.useContext(a$),{char:s,hasFakeCaret:a,isActive:c}=i.slots[t];return o.jsxs("div",{ref:n,className:De("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",c&&"z-10 ring-2 ring-ring ring-offset-background",e),...r,children:[s,a&&o.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"animate-caret-blink h-4 w-px bg-foreground duration-1000"})})]})});Eu.displayName="InputOTPSlot";const roe=j.forwardRef(({...t},e)=>o.jsx("div",{ref:e,role:"separator",...t,children:o.jsx(lY,{})}));roe.displayName="InputOTPSeparator";const noe=()=>{const t=ii(),{toast:e}=Bn(),[r,n]=j.useState(!1),[i,s]=j.useState(""),[a,c]=j.useState(""),[u,h]=j.useState(""),[g,v]=j.useState(""),[w,b]=j.useState(!1);j.useEffect(()=>{(async()=>{const{data:{session:C}}=await Se.auth.getSession();C&&b(!0)})()},[]);const A=async E=>{if(E.preventDefault(),u!==g){Ft({title:"Passwords don't match",description:"Please make sure both passwords are the same."});return}n(!0);try{if(w){const{error:C}=await Se.auth.updateUser({password:u});if(C)throw C}else{if(i.length!==6)throw new Error("Please enter a valid 6-digit code");const{error:C}=await Se.auth.verifyOtp({email:a,token:i,type:"recovery"});if(C)throw C;const{error:R}=await Se.auth.updateUser({password:u});if(R)throw R}e(xa.passwordReset()),t("/login")}catch(C){Ft({title:"Password reset failed",description:C.message})}finally{n(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:o.jsxs(Xe,{className:"w-full max-w-md shadow-lg",children:[o.jsxs(Ot,{className:"space-y-1 text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"p-3 bg-gradient-secondary rounded-full",children:o.jsx(mo,{className:"w-8 h-8 text-secondary-foreground"})})}),o.jsx(Lt,{className:"text-2xl font-bold",children:"Set New Password"}),o.jsx(mr,{children:w?"Enter your new password below":"Enter the code from your email and your new password"})]}),o.jsx(Ze,{children:o.jsxs("form",{onSubmit:A,className:"space-y-4",children:[!w&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Qt,{htmlFor:"email",children:"Email"}),o.jsx(Nt,{id:"email",type:"email",placeholder:"your@email.com",value:a,onChange:E=>c(E.target.value),required:!0,disabled:r})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Qt,{className:"text-center block",children:"Verification Code"}),o.jsx("div",{className:"flex justify-center",children:o.jsx(l$,{maxLength:6,value:i,onChange:s,disabled:r,children:o.jsxs(c$,{children:[o.jsx(Eu,{index:0}),o.jsx(Eu,{index:1}),o.jsx(Eu,{index:2}),o.jsx(Eu,{index:3}),o.jsx(Eu,{index:4}),o.jsx(Eu,{index:5})]})})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Qt,{htmlFor:"newPassword",children:"New Password"}),o.jsx(Nt,{id:"newPassword",type:"password",placeholder:"",value:u,onChange:E=>h(E.target.value),required:!0,disabled:r,minLength:6})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Qt,{htmlFor:"confirmPassword",children:"Confirm New Password"}),o.jsx(Nt,{id:"confirmPassword",type:"password",placeholder:"",value:g,onChange:E=>v(E.target.value),required:!0,disabled:r,minLength:6})]}),o.jsx(Te,{type:"submit",className:"w-full bg-secondary hover:bg-secondary/90",disabled:r,children:r?"Resetting...":"Reset Password"}),o.jsx(Te,{type:"button",variant:"ghost",className:"w-full",onClick:()=>t("/login"),disabled:r,children:"Back to Login"})]})})]})})};var rf={},o_,nR;function ioe(){return nR||(nR=1,o_=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),o_}var l_={},tc={},iR;function pd(){if(iR)return tc;iR=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return tc.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},tc.getSymbolTotalCodewords=function(n){return e[n]},tc.getBCHDigit=function(r){let n=0;for(;r!==0;)n++,r>>>=1;return n},tc.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');t=n},tc.isKanjiModeEnabled=function(){return typeof t<"u"},tc.toSJIS=function(n){return t(n)},tc}var c_={},sR;function wO(){return sR||(sR=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}}})(c_)),c_}var u_,aR;function soe(){if(aR)return u_;aR=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const r=Math.floor(e/8);return(this.buffer[r]>>>7-e%8&1)===1},put:function(e,r){for(let n=0;n<r;n++)this.putBit((e>>>r-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),e&&(this.buffer[r]|=128>>>this.length%8),this.length++}},u_=t,u_}var d_,oR;function aoe(){if(oR)return d_;oR=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,r,n,i){const s=e*this.size+r;this.data[s]=n,i&&(this.reservedBit[s]=!0)},t.prototype.get=function(e,r){return this.data[e*this.size+r]},t.prototype.xor=function(e,r,n){this.data[e*this.size+r]^=n},t.prototype.isReserved=function(e,r){return this.reservedBit[e*this.size+r]},d_=t,d_}var f_={},lR;function ooe(){return lR||(lR=1,(function(t){const e=pd().getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,s=e(n),a=s===145?26:Math.ceil((s-13)/(2*i-2))*2,c=[s-7];for(let u=1;u<i-1;u++)c[u]=c[u-1]-a;return c.push(6),c.reverse()},t.getPositions=function(n){const i=[],s=t.getRowColCoords(n),a=s.length;for(let c=0;c<a;c++)for(let u=0;u<a;u++)c===0&&u===0||c===0&&u===a-1||c===a-1&&u===0||i.push([s[c],s[u]]);return i}})(f_)),f_}var h_={},cR;function loe(){if(cR)return h_;cR=1;const t=pd().getSymbolSize,e=7;return h_.getPositions=function(n){const i=t(n);return[[0,0],[i-e,0],[0,i-e]]},h_}var p_={},uR;function coe(){return uR||(uR=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let a=0,c=0,u=0,h=null,g=null;for(let v=0;v<s;v++){c=u=0,h=g=null;for(let w=0;w<s;w++){let b=i.get(v,w);b===h?c++:(c>=5&&(a+=e.N1+(c-5)),h=b,c=1),b=i.get(w,v),b===g?u++:(u>=5&&(a+=e.N1+(u-5)),g=b,u=1)}c>=5&&(a+=e.N1+(c-5)),u>=5&&(a+=e.N1+(u-5))}return a},t.getPenaltyN2=function(i){const s=i.size;let a=0;for(let c=0;c<s-1;c++)for(let u=0;u<s-1;u++){const h=i.get(c,u)+i.get(c,u+1)+i.get(c+1,u)+i.get(c+1,u+1);(h===4||h===0)&&a++}return a*e.N2},t.getPenaltyN3=function(i){const s=i.size;let a=0,c=0,u=0;for(let h=0;h<s;h++){c=u=0;for(let g=0;g<s;g++)c=c<<1&2047|i.get(h,g),g>=10&&(c===1488||c===93)&&a++,u=u<<1&2047|i.get(g,h),g>=10&&(u===1488||u===93)&&a++}return a*e.N3},t.getPenaltyN4=function(i){let s=0;const a=i.data.length;for(let u=0;u<a;u++)s+=i.data[u];return Math.abs(Math.ceil(s*100/a/5)-10)*e.N4};function r(n,i,s){switch(n){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(i,s){const a=s.size;for(let c=0;c<a;c++)for(let u=0;u<a;u++)s.isReserved(u,c)||s.xor(u,c,r(i,u,c))},t.getBestMask=function(i,s){const a=Object.keys(t.Patterns).length;let c=0,u=1/0;for(let h=0;h<a;h++){s(h),t.applyMask(h,i);const g=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(h,i),g<u&&(u=g,c=h)}return c}})(p_)),p_}var vv={},dR;function u$(){if(dR)return vv;dR=1;const t=wO(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],r=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return vv.getBlocksCount=function(i,s){switch(s){case t.L:return e[(i-1)*4+0];case t.M:return e[(i-1)*4+1];case t.Q:return e[(i-1)*4+2];case t.H:return e[(i-1)*4+3];default:return}},vv.getTotalCodewordsCount=function(i,s){switch(s){case t.L:return r[(i-1)*4+0];case t.M:return r[(i-1)*4+1];case t.Q:return r[(i-1)*4+2];case t.H:return r[(i-1)*4+3];default:return}},vv}var m_={},Np={},fR;function uoe(){if(fR)return Np;fR=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let n=1;for(let i=0;i<255;i++)t[i]=n,e[n]=i,n<<=1,n&256&&(n^=285);for(let i=255;i<512;i++)t[i]=t[i-255]})(),Np.log=function(n){if(n<1)throw new Error("log("+n+")");return e[n]},Np.exp=function(n){return t[n]},Np.mul=function(n,i){return n===0||i===0?0:t[e[n]+e[i]]},Np}var hR;function doe(){return hR||(hR=1,(function(t){const e=uoe();t.mul=function(n,i){const s=new Uint8Array(n.length+i.length-1);for(let a=0;a<n.length;a++)for(let c=0;c<i.length;c++)s[a+c]^=e.mul(n[a],i[c]);return s},t.mod=function(n,i){let s=new Uint8Array(n);for(;s.length-i.length>=0;){const a=s[0];for(let u=0;u<i.length;u++)s[u]^=e.mul(i[u],a);let c=0;for(;c<s.length&&s[c]===0;)c++;s=s.slice(c)}return s},t.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let s=0;s<n;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(m_)),m_}var g_,pR;function foe(){if(pR)return g_;pR=1;const t=doe();function e(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(n){this.degree=n,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(n.length+this.degree);i.set(n);const s=t.mod(i,this.genPoly),a=this.degree-s.length;if(a>0){const c=new Uint8Array(this.degree);return c.set(s,a),c}return s},g_=e,g_}var v_={},y_={},x_={},mR;function d$(){return mR||(mR=1,x_.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),x_}var po={},gR;function f$(){if(gR)return po;gR=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+`)(?:.|[\r
]))+`;po.KANJI=new RegExp(r,"g"),po.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),po.BYTE=new RegExp(n,"g"),po.NUMERIC=new RegExp(t,"g"),po.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+r+"$"),s=new RegExp("^"+t+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return po.testKanji=function(u){return i.test(u)},po.testNumeric=function(u){return s.test(u)},po.testAlphanumeric=function(u){return a.test(u)},po}var vR;function md(){return vR||(vR=1,(function(t){const e=d$(),r=f$();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,a){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?s.ccBits[0]:a<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return r.testNumeric(s)?t.NUMERIC:r.testAlphanumeric(s)?t.ALPHANUMERIC:r.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,a){if(t.isValid(s))return s;try{return n(s)}catch{return a}}})(y_)),y_}var yR;function hoe(){return yR||(yR=1,(function(t){const e=pd(),r=u$(),n=wO(),i=md(),s=d$(),a=7973,c=e.getBCHDigit(a);function u(w,b,A){for(let E=1;E<=40;E++)if(b<=t.getCapacity(E,A,w))return E}function h(w,b){return i.getCharCountIndicator(w,b)+4}function g(w,b){let A=0;return w.forEach(function(E){const C=h(E.mode,b);A+=C+E.getBitsLength()}),A}function v(w,b){for(let A=1;A<=40;A++)if(g(w,A)<=t.getCapacity(A,b,i.MIXED))return A}t.from=function(b,A){return s.isValid(b)?parseInt(b,10):A},t.getCapacity=function(b,A,E){if(!s.isValid(b))throw new Error("Invalid QR Code version");typeof E>"u"&&(E=i.BYTE);const C=e.getSymbolTotalCodewords(b),R=r.getTotalCodewordsCount(b,A),I=(C-R)*8;if(E===i.MIXED)return I;const P=I-h(E,b);switch(E){case i.NUMERIC:return Math.floor(P/10*3);case i.ALPHANUMERIC:return Math.floor(P/11*2);case i.KANJI:return Math.floor(P/13);case i.BYTE:default:return Math.floor(P/8)}},t.getBestVersionForData=function(b,A){let E;const C=n.from(A,n.M);if(Array.isArray(b)){if(b.length>1)return v(b,C);if(b.length===0)return 1;E=b[0]}else E=b;return u(E.mode,E.getLength(),C)},t.getEncodedBits=function(b){if(!s.isValid(b)||b<7)throw new Error("Invalid QR Code version");let A=b<<12;for(;e.getBCHDigit(A)-c>=0;)A^=a<<e.getBCHDigit(A)-c;return b<<12|A}})(v_)),v_}var w_={},xR;function poe(){if(xR)return w_;xR=1;const t=pd(),e=1335,r=21522,n=t.getBCHDigit(e);return w_.getEncodedBits=function(s,a){const c=s.bit<<3|a;let u=c<<10;for(;t.getBCHDigit(u)-n>=0;)u^=e<<t.getBCHDigit(u)-n;return(c<<10|u)^r},w_}var b_={},__,wR;function moe(){if(wR)return __;wR=1;const t=md();function e(r){this.mode=t.NUMERIC,this.data=r.toString()}return e.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){let i,s,a;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),a=parseInt(s,10),n.put(a,10);const c=this.data.length-i;c>0&&(s=this.data.substr(i),a=parseInt(s,10),n.put(a,c*3+1))},__=e,__}var S_,bR;function goe(){if(bR)return S_;bR=1;const t=md(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(n){this.mode=t.ALPHANUMERIC,this.data=n}return r.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let a=e.indexOf(this.data[s])*45;a+=e.indexOf(this.data[s+1]),i.put(a,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},S_=r,S_}var E_,_R;function voe(){if(_R)return E_;_R=1;const t=md();function e(r){this.mode=t.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}return e.getBitsLength=function(n){return n*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){for(let n=0,i=this.data.length;n<i;n++)r.put(this.data[n],8)},E_=e,E_}var C_,SR;function yoe(){if(SR)return C_;SR=1;const t=md(),e=pd();function r(n){this.mode=t.KANJI,this.data=n}return r.getBitsLength=function(i){return i*13},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(n){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),n.put(s,13)}},C_=r,C_}var A_={exports:{}},ER;function xoe(){return ER||(ER=1,(function(t){var e={single_source_shortest_paths:function(r,n,i){var s={},a={};a[n]=0;var c=e.PriorityQueue.make();c.push(n,0);for(var u,h,g,v,w,b,A,E,C;!c.empty();){u=c.pop(),h=u.value,v=u.cost,w=r[h]||{};for(g in w)w.hasOwnProperty(g)&&(b=w[g],A=v+b,E=a[g],C=typeof a[g]>"u",(C||E>A)&&(a[g]=A,c.push(g,A),s[g]=h))}if(typeof i<"u"&&typeof a[i]>"u"){var R=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(R)}return s},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],s=n;s;)i.push(s),r[s],s=r[s];return i.reverse(),i},find_path:function(r,n,i){var s=e.single_source_shortest_paths(r,n,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,i={},s;r=r||{};for(s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(A_)),A_.exports}var CR;function woe(){return CR||(CR=1,(function(t){const e=md(),r=moe(),n=goe(),i=voe(),s=yoe(),a=f$(),c=pd(),u=xoe();function h(R){return unescape(encodeURIComponent(R)).length}function g(R,I,P){const L=[];let T;for(;(T=R.exec(P))!==null;)L.push({data:T[0],index:T.index,mode:I,length:T[0].length});return L}function v(R){const I=g(a.NUMERIC,e.NUMERIC,R),P=g(a.ALPHANUMERIC,e.ALPHANUMERIC,R);let L,T;return c.isKanjiModeEnabled()?(L=g(a.BYTE,e.BYTE,R),T=g(a.KANJI,e.KANJI,R)):(L=g(a.BYTE_KANJI,e.BYTE,R),T=[]),I.concat(P,L,T).sort(function(M,$){return M.index-$.index}).map(function(M){return{data:M.data,mode:M.mode,length:M.length}})}function w(R,I){switch(I){case e.NUMERIC:return r.getBitsLength(R);case e.ALPHANUMERIC:return n.getBitsLength(R);case e.KANJI:return s.getBitsLength(R);case e.BYTE:return i.getBitsLength(R)}}function b(R){return R.reduce(function(I,P){const L=I.length-1>=0?I[I.length-1]:null;return L&&L.mode===P.mode?(I[I.length-1].data+=P.data,I):(I.push(P),I)},[])}function A(R){const I=[];for(let P=0;P<R.length;P++){const L=R[P];switch(L.mode){case e.NUMERIC:I.push([L,{data:L.data,mode:e.ALPHANUMERIC,length:L.length},{data:L.data,mode:e.BYTE,length:L.length}]);break;case e.ALPHANUMERIC:I.push([L,{data:L.data,mode:e.BYTE,length:L.length}]);break;case e.KANJI:I.push([L,{data:L.data,mode:e.BYTE,length:h(L.data)}]);break;case e.BYTE:I.push([{data:L.data,mode:e.BYTE,length:h(L.data)}])}}return I}function E(R,I){const P={},L={start:{}};let T=["start"];for(let D=0;D<R.length;D++){const M=R[D],$=[];for(let V=0;V<M.length;V++){const K=M[V],H=""+D+V;$.push(H),P[H]={node:K,lastCount:0},L[H]={};for(let z=0;z<T.length;z++){const Z=T[z];P[Z]&&P[Z].node.mode===K.mode?(L[Z][H]=w(P[Z].lastCount+K.length,K.mode)-w(P[Z].lastCount,K.mode),P[Z].lastCount+=K.length):(P[Z]&&(P[Z].lastCount=K.length),L[Z][H]=w(K.length,K.mode)+4+e.getCharCountIndicator(K.mode,I))}}T=$}for(let D=0;D<T.length;D++)L[T[D]].end=0;return{map:L,table:P}}function C(R,I){let P;const L=e.getBestModeForData(R);if(P=e.from(I,L),P!==e.BYTE&&P.bit<L.bit)throw new Error('"'+R+'" cannot be encoded with mode '+e.toString(P)+`.
 Suggested mode is: `+e.toString(L));switch(P===e.KANJI&&!c.isKanjiModeEnabled()&&(P=e.BYTE),P){case e.NUMERIC:return new r(R);case e.ALPHANUMERIC:return new n(R);case e.KANJI:return new s(R);case e.BYTE:return new i(R)}}t.fromArray=function(I){return I.reduce(function(P,L){return typeof L=="string"?P.push(C(L,null)):L.data&&P.push(C(L.data,L.mode)),P},[])},t.fromString=function(I,P){const L=v(I,c.isKanjiModeEnabled()),T=A(L),D=E(T,P),M=u.find_path(D.map,"start","end"),$=[];for(let V=1;V<M.length-1;V++)$.push(D.table[M[V]].node);return t.fromArray(b($))},t.rawSplit=function(I){return t.fromArray(v(I,c.isKanjiModeEnabled()))}})(b_)),b_}var AR;function boe(){if(AR)return l_;AR=1;const t=pd(),e=wO(),r=soe(),n=aoe(),i=ooe(),s=loe(),a=coe(),c=u$(),u=foe(),h=hoe(),g=poe(),v=md(),w=woe();function b(D,M){const $=D.size,V=s.getPositions(M);for(let K=0;K<V.length;K++){const H=V[K][0],z=V[K][1];for(let Z=-1;Z<=7;Z++)if(!(H+Z<=-1||$<=H+Z))for(let W=-1;W<=7;W++)z+W<=-1||$<=z+W||(Z>=0&&Z<=6&&(W===0||W===6)||W>=0&&W<=6&&(Z===0||Z===6)||Z>=2&&Z<=4&&W>=2&&W<=4?D.set(H+Z,z+W,!0,!0):D.set(H+Z,z+W,!1,!0))}}function A(D){const M=D.size;for(let $=8;$<M-8;$++){const V=$%2===0;D.set($,6,V,!0),D.set(6,$,V,!0)}}function E(D,M){const $=i.getPositions(M);for(let V=0;V<$.length;V++){const K=$[V][0],H=$[V][1];for(let z=-2;z<=2;z++)for(let Z=-2;Z<=2;Z++)z===-2||z===2||Z===-2||Z===2||z===0&&Z===0?D.set(K+z,H+Z,!0,!0):D.set(K+z,H+Z,!1,!0)}}function C(D,M){const $=D.size,V=h.getEncodedBits(M);let K,H,z;for(let Z=0;Z<18;Z++)K=Math.floor(Z/3),H=Z%3+$-8-3,z=(V>>Z&1)===1,D.set(K,H,z,!0),D.set(H,K,z,!0)}function R(D,M,$){const V=D.size,K=g.getEncodedBits(M,$);let H,z;for(H=0;H<15;H++)z=(K>>H&1)===1,H<6?D.set(H,8,z,!0):H<8?D.set(H+1,8,z,!0):D.set(V-15+H,8,z,!0),H<8?D.set(8,V-H-1,z,!0):H<9?D.set(8,15-H-1+1,z,!0):D.set(8,15-H-1,z,!0);D.set(V-8,8,1,!0)}function I(D,M){const $=D.size;let V=-1,K=$-1,H=7,z=0;for(let Z=$-1;Z>0;Z-=2)for(Z===6&&Z--;;){for(let W=0;W<2;W++)if(!D.isReserved(K,Z-W)){let G=!1;z<M.length&&(G=(M[z]>>>H&1)===1),D.set(K,Z-W,G),H--,H===-1&&(z++,H=7)}if(K+=V,K<0||$<=K){K-=V,V=-V;break}}}function P(D,M,$){const V=new r;$.forEach(function(W){V.put(W.mode.bit,4),V.put(W.getLength(),v.getCharCountIndicator(W.mode,D)),W.write(V)});const K=t.getSymbolTotalCodewords(D),H=c.getTotalCodewordsCount(D,M),z=(K-H)*8;for(V.getLengthInBits()+4<=z&&V.put(0,4);V.getLengthInBits()%8!==0;)V.putBit(0);const Z=(z-V.getLengthInBits())/8;for(let W=0;W<Z;W++)V.put(W%2?17:236,8);return L(V,D,M)}function L(D,M,$){const V=t.getSymbolTotalCodewords(M),K=c.getTotalCodewordsCount(M,$),H=V-K,z=c.getBlocksCount(M,$),Z=V%z,W=z-Z,G=Math.floor(V/z),J=Math.floor(H/z),ie=J+1,ne=G-J,ee=new u(ne);let de=0;const se=new Array(z),le=new Array(z);let me=0;const pe=new Uint8Array(D.buffer);for(let je=0;je<z;je++){const Fe=je<W?J:ie;se[je]=pe.slice(de,de+Fe),le[je]=ee.encode(se[je]),de+=Fe,me=Math.max(me,Fe)}const Re=new Uint8Array(V);let _e=0,we,Le;for(we=0;we<me;we++)for(Le=0;Le<z;Le++)we<se[Le].length&&(Re[_e++]=se[Le][we]);for(we=0;we<ne;we++)for(Le=0;Le<z;Le++)Re[_e++]=le[Le][we];return Re}function T(D,M,$,V){let K;if(Array.isArray(D))K=w.fromArray(D);else if(typeof D=="string"){let G=M;if(!G){const J=w.rawSplit(D);G=h.getBestVersionForData(J,$)}K=w.fromString(D,G||40)}else throw new Error("Invalid data");const H=h.getBestVersionForData(K,$);if(!H)throw new Error("The amount of data is too big to be stored in a QR Code");if(!M)M=H;else if(M<H)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+H+`.
`);const z=P(M,$,K),Z=t.getSymbolSize(M),W=new n(Z);return b(W,M),A(W),E(W,M),R(W,$,0),M>=7&&C(W,M),I(W,z),isNaN(V)&&(V=a.getBestMask(W,R.bind(null,W,$))),a.applyMask(V,W),R(W,$,V),{modules:W,version:M,errorCorrectionLevel:$,maskPattern:V,segments:K}}return l_.create=function(M,$){if(typeof M>"u"||M==="")throw new Error("No input text");let V=e.M,K,H;return typeof $<"u"&&(V=e.from($.errorCorrectionLevel,e.M),K=h.from($.version),H=a.from($.maskPattern),$.toSJISFunc&&t.setToSJISFunction($.toSJISFunc)),T(M,K,V,H)},l_}var N_={},j_={},NR;function h$(){return NR||(NR=1,(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,a=n.scale||4;return{width:s,scale:s?4:a,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){const s=t.getScale(n,i);return Math.floor((n+i.margin*2)*s)},t.qrToImageData=function(n,i,s){const a=i.modules.size,c=i.modules.data,u=t.getScale(a,s),h=Math.floor((a+s.margin*2)*u),g=s.margin*u,v=[s.color.light,s.color.dark];for(let w=0;w<h;w++)for(let b=0;b<h;b++){let A=(w*h+b)*4,E=s.color.light;if(w>=g&&b>=g&&w<h-g&&b<h-g){const C=Math.floor((w-g)/u),R=Math.floor((b-g)/u);E=v[c[C*a+R]?1:0]}n[A++]=E.r,n[A++]=E.g,n[A++]=E.b,n[A]=E.a}}})(j_)),j_}var jR;function _oe(){return jR||(jR=1,(function(t){const e=h$();function r(i,s,a){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=a,s.width=a,s.style.height=a+"px",s.style.width=a+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,a,c){let u=c,h=a;typeof u>"u"&&(!a||!a.getContext)&&(u=a,a=void 0),a||(h=n()),u=e.getOptions(u);const g=e.getImageWidth(s.modules.size,u),v=h.getContext("2d"),w=v.createImageData(g,g);return e.qrToImageData(w.data,s,u),r(v,h,g),v.putImageData(w,0,0),h},t.renderToDataURL=function(s,a,c){let u=c;typeof u>"u"&&(!a||!a.getContext)&&(u=a,a=void 0),u||(u={});const h=t.render(s,a,u),g=u.type||"image/png",v=u.rendererOpts||{};return h.toDataURL(g,v.quality)}})(N_)),N_}var O_={},OR;function Soe(){if(OR)return O_;OR=1;const t=h$();function e(i,s){const a=i.a/255,c=s+'="'+i.hex+'"';return a<1?c+" "+s+'-opacity="'+a.toFixed(2).slice(1)+'"':c}function r(i,s,a){let c=i+s;return typeof a<"u"&&(c+=" "+a),c}function n(i,s,a){let c="",u=0,h=!1,g=0;for(let v=0;v<i.length;v++){const w=Math.floor(v%s),b=Math.floor(v/s);!w&&!h&&(h=!0),i[v]?(g++,v>0&&w>0&&i[v-1]||(c+=h?r("M",w+a,.5+b+a):r("m",u,0),u=0,h=!1),w+1<s&&i[v+1]||(c+=r("h",g),g=0)):u++}return c}return O_.render=function(s,a,c){const u=t.getOptions(a),h=s.modules.size,g=s.modules.data,v=h+u.margin*2,w=u.color.light.a?"<path "+e(u.color.light,"fill")+' d="M0 0h'+v+"v"+v+'H0z"/>':"",b="<path "+e(u.color.dark,"stroke")+' d="'+n(g,h,u.margin)+'"/>',A='viewBox="0 0 '+v+" "+v+'"',C='<svg xmlns="http://www.w3.org/2000/svg" '+(u.width?'width="'+u.width+'" height="'+u.width+'" ':"")+A+' shape-rendering="crispEdges">'+w+b+`</svg>
`;return typeof c=="function"&&c(null,C),C},O_}var TR;function Eoe(){if(TR)return rf;TR=1;const t=ioe(),e=boe(),r=_oe(),n=Soe();function i(s,a,c,u,h){const g=[].slice.call(arguments,1),v=g.length,w=typeof g[v-1]=="function";if(!w&&!t())throw new Error("Callback required as last argument");if(w){if(v<2)throw new Error("Too few arguments provided");v===2?(h=c,c=a,a=u=void 0):v===3&&(a.getContext&&typeof h>"u"?(h=u,u=void 0):(h=u,u=c,c=a,a=void 0))}else{if(v<1)throw new Error("Too few arguments provided");return v===1?(c=a,a=u=void 0):v===2&&!a.getContext&&(u=c,c=a,a=void 0),new Promise(function(b,A){try{const E=e.create(c,u);b(s(E,a,u))}catch(E){A(E)}})}try{const b=e.create(c,u);h(null,s(b,a,u))}catch(b){h(b)}}return rf.create=e.create,rf.toCanvas=i.bind(null,r.render),rf.toDataURL=i.bind(null,r.renderToDataURL),rf.toString=i.bind(null,function(s,a,c){return n.render(s,c)}),rf}var Coe=Eoe();const Aoe=Rr(Coe),Noe=(t,e,r)=>({userId:t,timestamp:Date.now(),action:e,sessionId:r}),joe=t=>JSON.stringify(t),kR=t=>{try{const e=JSON.parse(t);return e.userId&&e.timestamp&&e.action&&["entry","exit","reward"].includes(e.action)?e:null}catch{return null}},Ooe=async(t,e)=>{const r=typeof t=="string"?t:joe(t),n={width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"},...e};try{return await Aoe.toDataURL(r,n)}catch(i){throw console.error("Error generating QR code:",i),new Error("Failed to generate QR code")}},xy=(t,e=300*1e3)=>Date.now()-t.timestamp<e,bO=({userId:t,action:e="entry",sessionId:r,title:n,description:i,size:s=300,className:a,showDownload:c=!0,showRefresh:u=!0,onRefresh:h})=>{const[g,v]=j.useState(null),[w,b]=j.useState(!0),[A,E]=j.useState(null),C=async()=>{try{b(!0),E(null);const P=Noe(t,e,r),L=await Ooe(P,{width:s,margin:2});v(L)}catch(P){E(P.message||"Failed to generate QR code"),console.error("QR code generation error:",P)}finally{b(!1)}};j.useEffect(()=>{C()},[t,e,r,s]);const R=()=>{if(!g)return;const P=document.createElement("a");P.href=g,P.download=`qr-code-${e}-${Date.now()}.png`,document.body.appendChild(P),P.click(),document.body.removeChild(P)},I=()=>{C(),h?.()};return o.jsxs(Xe,{className:De("w-full",a),children:[n&&o.jsxs(Ot,{children:[o.jsx(Lt,{children:n}),i&&o.jsx(mr,{children:i})]}),o.jsx(Ze,{className:"space-y-4",children:o.jsx("div",{className:"flex flex-col items-center justify-center space-y-4",children:w?o.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",style:{width:s,height:s},children:[o.jsx(Bi,{className:"w-8 h-8 animate-spin text-muted-foreground"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Generating QR code..."})]}):A?o.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2 p-8",style:{width:s,height:s},children:[o.jsx("p",{className:"text-sm text-destructive",children:A}),u&&o.jsxs(Te,{variant:"outline",size:"sm",onClick:I,children:[o.jsx(zu,{className:"w-4 h-4 mr-2"}),"Retry"]})]}):g?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md",children:o.jsx("img",{src:g,alt:`QR Code for ${e}`,className:"w-full h-auto",style:{maxWidth:s,maxHeight:s}})}),o.jsxs("div",{className:"flex gap-2",children:[c&&o.jsxs(Te,{variant:"outline",size:"sm",onClick:R,children:[o.jsx(WC,{className:"w-4 h-4 mr-2"}),"Download"]}),u&&o.jsxs(Te,{variant:"outline",size:"sm",onClick:I,children:[o.jsx(zu,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}):null})})]})};function xr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ns(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Li(t,e){const r=xr(t);return isNaN(e)?Ns(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function Qi(t,e){const r=xr(t);if(isNaN(e))return Ns(t,NaN);if(!e)return r;const n=r.getDate(),i=Ns(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const s=i.getDate();return n>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const _O=6048e5,Toe=864e5,SO=6e4,EO=36e5;let koe={};function kg(){return koe}function Ni(t,e){const r=kg(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=xr(t),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Zu(t){return Ni(t,{weekStartsOn:1})}function p$(t){const e=xr(t),r=e.getFullYear(),n=Ns(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Zu(n),s=Ns(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=Zu(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function Qu(t){const e=xr(t);return e.setHours(0,0,0,0),e}function wy(t){const e=xr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Ya(t,e){const r=Qu(t),n=Qu(e),i=+r-wy(r),s=+n-wy(n);return Math.round((i-s)/Toe)}function Poe(t){const e=p$(t),r=Ns(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Zu(r)}function by(t,e){const r=e*7;return Li(t,r)}function Ioe(t,e){return Qi(t,e*12)}function Roe(t){let e;return t.forEach(function(r){const n=xr(r);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function Moe(t){let e;return t.forEach(r=>{const n=xr(r);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function m$(t){return Ns(t,Date.now())}function Jr(t,e){const r=Qu(t),n=Qu(e);return+r==+n}function CO(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Doe(t){if(!CO(t)&&typeof t!="number")return!1;const e=xr(t);return!isNaN(Number(e))}function Am(t,e){const r=xr(t),n=xr(e),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function Loe(t,e,r){const n=Ni(t,r),i=Ni(e,r),s=+n-wy(n),a=+i-wy(i);return Math.round((s-a)/_O)}function Boe(t,e){const r=xr(t),n=xr(e),i=PR(r,n),s=Math.abs(Ya(r,n));r.setDate(r.getDate()-i*s);const a=+(PR(r,n)===-i),c=i*(s-a);return c===0?0:c}function PR(t,e){const r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function g$(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function v$(t,e){return+xr(t)-+xr(e)}function Foe(t,e,r){const n=v$(t,e)/EO;return g$(r?.roundingMethod)(n)}function Uoe(t,e,r){const n=v$(t,e)/SO;return g$(r?.roundingMethod)(n)}function Ah(t){const e=xr(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Nh(t,e){const r=xr(t.start),n=xr(t.end);let i=+r>+n;const s=i?+r:+n,a=i?n:r;a.setHours(0,0,0,0);let c=1;const u=[];for(;+a<=s;)u.push(xr(a)),a.setDate(a.getDate()+c),a.setHours(0,0,0,0);return i?u.reverse():u}function Hn(t){const e=xr(t);return e.setDate(1),e.setHours(0,0,0,0),e}function y$(t){const e=xr(t),r=Ns(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function bl(t,e){const r=kg(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=xr(t),s=i.getDay(),a=(s<n?-7:0)+6-(s-n);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function x$(t){return bl(t,{weekStartsOn:1})}const $oe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Voe=(t,e,r)=>{let n;const i=$oe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function T_(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const qoe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Woe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zoe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Hoe={date:T_({formats:qoe,defaultWidth:"full"}),time:T_({formats:Woe,defaultWidth:"full"}),dateTime:T_({formats:zoe,defaultWidth:"full"})},Goe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Koe=(t,e,r,n)=>Goe[t];function jp(t){return(e,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,c=r?.width?String(r.width):a;i=t.formattingValues[c]||t.formattingValues[a]}else{const a=t.defaultWidth,c=r?.width?String(r.width):t.defaultWidth;i=t.values[c]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Yoe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Xoe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Zoe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Qoe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Joe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ele={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},tle=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},rle={ordinalNumber:tle,era:jp({values:Yoe,defaultWidth:"wide"}),quarter:jp({values:Xoe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:jp({values:Zoe,defaultWidth:"wide"}),day:jp({values:Qoe,defaultWidth:"wide"}),dayPeriod:jp({values:Joe,defaultWidth:"wide",formattingValues:ele,defaultFormattingWidth:"wide"})};function Op(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],c=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(c)?ile(c,v=>v.test(a)):nle(c,v=>v.test(a));let h;h=t.valueCallback?t.valueCallback(u):u,h=r.valueCallback?r.valueCallback(h):h;const g=e.slice(a.length);return{value:h,rest:g}}}function nle(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function ile(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function sle(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const c=e.slice(i.length);return{value:a,rest:c}}}const ale=/^(\d+)(th|st|nd|rd)?/i,ole=/\d+/i,lle={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},cle={any:[/^b/i,/^(a|c)/i]},ule={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},dle={any:[/1/i,/2/i,/3/i,/4/i]},fle={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hle={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ple={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mle={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},gle={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},vle={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yle={ordinalNumber:sle({matchPattern:ale,parsePattern:ole,valueCallback:t=>parseInt(t,10)}),era:Op({matchPatterns:lle,defaultMatchWidth:"wide",parsePatterns:cle,defaultParseWidth:"any"}),quarter:Op({matchPatterns:ule,defaultMatchWidth:"wide",parsePatterns:dle,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Op({matchPatterns:fle,defaultMatchWidth:"wide",parsePatterns:hle,defaultParseWidth:"any"}),day:Op({matchPatterns:ple,defaultMatchWidth:"wide",parsePatterns:mle,defaultParseWidth:"any"}),dayPeriod:Op({matchPatterns:gle,defaultMatchWidth:"any",parsePatterns:vle,defaultParseWidth:"any"})},w$={code:"en-US",formatDistance:Voe,formatLong:Hoe,formatRelative:Koe,localize:rle,match:yle,options:{weekStartsOn:0,firstWeekContainsDate:1}};function xle(t){const e=xr(t);return Ya(e,y$(e))+1}function b$(t){const e=xr(t),r=+Zu(e)-+Poe(e);return Math.round(r/_O)+1}function _$(t,e){const r=xr(t),n=r.getFullYear(),i=kg(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=Ns(t,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const c=Ni(a,e),u=Ns(t,0);u.setFullYear(n,0,s),u.setHours(0,0,0,0);const h=Ni(u,e);return r.getTime()>=c.getTime()?n+1:r.getTime()>=h.getTime()?n:n-1}function wle(t,e){const r=kg(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=_$(t,e),s=Ns(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Ni(s,e)}function S$(t,e){const r=xr(t),n=+Ni(r,e)-+wle(r,e);return Math.round(n/_O)+1}function Xr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const rc={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Xr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Xr(r+1,2)},d(t,e){return Xr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Xr(t.getHours()%12||12,e.length)},H(t,e){return Xr(t.getHours(),e.length)},m(t,e){return Xr(t.getMinutes(),e.length)},s(t,e){return Xr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Xr(i,e.length)}},nf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},IR={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return rc.y(t,e)},Y:function(t,e,r,n){const i=_$(t,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Xr(a,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):Xr(s,e.length)},R:function(t,e){const r=p$(t);return Xr(r,e.length)},u:function(t,e){const r=t.getFullYear();return Xr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Xr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Xr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return rc.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Xr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=S$(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):Xr(i,e.length)},I:function(t,e,r){const n=b$(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Xr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):rc.d(t,e)},D:function(t,e,r){const n=xle(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Xr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Xr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Xr(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Xr(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=nf.noon:n===0?i=nf.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=nf.evening:n>=12?i=nf.afternoon:n>=4?i=nf.morning:i=nf.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return rc.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):rc.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Xr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Xr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):rc.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):rc.s(t,e)},S:function(t,e){return rc.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return MR(n);case"XXXX":case"XX":return Cu(n);case"XXXXX":case"XXX":default:return Cu(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return MR(n);case"xxxx":case"xx":return Cu(n);case"xxxxx":case"xxx":default:return Cu(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+RR(n,":");case"OOOO":default:return"GMT"+Cu(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+RR(n,":");case"zzzz":default:return"GMT"+Cu(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Xr(n,e.length)},T:function(t,e,r){const n=t.getTime();return Xr(n,e.length)}};function RR(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+Xr(s,2)}function MR(t,e){return t%60===0?(t>0?"-":"+")+Xr(Math.abs(t)/60,2):Cu(t,e)}function Cu(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Xr(Math.trunc(n/60),2),s=Xr(n%60,2);return r+i+e+s}const DR=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},E$=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},ble=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return DR(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",DR(n,e)).replace("{{time}}",E$(i,e))},_le={p:E$,P:ble},Sle=/^D+$/,Ele=/^Y+$/,Cle=["D","DD","YY","YYYY"];function Ale(t){return Sle.test(t)}function Nle(t){return Ele.test(t)}function jle(t,e,r){const n=Ole(t,e,r);if(console.warn(n),Cle.includes(t))throw new RangeError(n)}function Ole(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Tle=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kle=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ple=/^'([^]*?)'?$/,Ile=/''/g,Rle=/[a-zA-Z]/;function at(t,e,r){const n=kg(),i=r?.locale??n.locale??w$,s=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,c=xr(t);if(!Doe(c))throw new RangeError("Invalid time value");let u=e.match(kle).map(g=>{const v=g[0];if(v==="p"||v==="P"){const w=_le[v];return w(g,i.formatLong)}return g}).join("").match(Tle).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const v=g[0];if(v==="'")return{isToken:!1,value:Mle(g)};if(IR[v])return{isToken:!0,value:g};if(v.match(Rle))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(u=i.localize.preprocessor(c,u));const h={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return u.map(g=>{if(!g.isToken)return g.value;const v=g.value;(!r?.useAdditionalWeekYearTokens&&Nle(v)||!r?.useAdditionalDayOfYearTokens&&Ale(v))&&jle(v,e,String(t));const w=IR[v[0]];return w(c,v,i.localize,h)}).join("")}function Mle(t){const e=t.match(Ple);return e?e[1].replace(Ile,"'"):t}function Dle(t){const e=xr(t),r=e.getFullYear(),n=e.getMonth(),i=Ns(t,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function Lle(t){return Math.trunc(+xr(t)/1e3)}function Ble(t){const e=xr(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function Fle(t,e){return Loe(Ble(t),Hn(t),e)+1}function Nm(t,e){const r=xr(t),n=xr(e);return r.getTime()>n.getTime()}function AO(t,e){const r=xr(t),n=xr(e);return+r<+n}function Ule(t,e,r){const n=Ni(t,r),i=Ni(e,r);return+n==+i}function jh(t,e){const r=xr(t),n=xr(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function $le(t,e){const r=xr(t),n=xr(e);return r.getFullYear()===n.getFullYear()}function Vle(t,e){return Ule(t,m$(t),e)}function qle(t){return Jr(t,m$(t))}function lc(t,e){return Li(t,-e)}function Ut(t,e){const n=Gle(t);let i;if(n.date){const u=Kle(n.date,2);i=Yle(u.restDateString,u.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let a=0,c;if(n.time&&(a=Xle(n.time),isNaN(a)))return new Date(NaN);if(n.timezone){if(c=Zle(n.timezone),isNaN(c))return new Date(NaN)}else{const u=new Date(s+a),h=new Date(0);return h.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),h.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),h}return new Date(s+a+c)}const yv={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Wle=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,zle=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Hle=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Gle(t){const e={},r=t.split(yv.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],yv.timeZoneDelimiter.test(e.date)&&(e.date=t.split(yv.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const i=yv.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function Kle(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function Yle(t,e){if(e===null)return new Date(NaN);const r=t.match(Wle);if(!r)return new Date(NaN);const n=!!r[4],i=Tp(r[1]),s=Tp(r[2])-1,a=Tp(r[3]),c=Tp(r[4]),u=Tp(r[5])-1;if(n)return rce(e,c,u)?Qle(e,c,u):new Date(NaN);{const h=new Date(0);return!ece(e,s,a)||!tce(e,i)?new Date(NaN):(h.setUTCFullYear(e,s,Math.max(i,a)),h)}}function Tp(t){return t?parseInt(t):1}function Xle(t){const e=t.match(zle);if(!e)return NaN;const r=k_(e[1]),n=k_(e[2]),i=k_(e[3]);return nce(r,n,i)?r*EO+n*SO+i*1e3:NaN}function k_(t){return t&&parseFloat(t.replace(",","."))||0}function Zle(t){if(t==="Z")return 0;const e=t.match(Hle);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return ice(n,i)?r*(n*EO+i*SO):NaN}function Qle(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const i=n.getUTCDay()||7,s=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const Jle=[31,null,31,30,31,30,31,31,30,31,30,31];function C$(t){return t%400===0||t%4===0&&t%100!==0}function ece(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(Jle[e]||(C$(t)?29:28))}function tce(t,e){return e>=1&&e<=(C$(t)?366:365)}function rce(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function nce(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function ice(t,e){return e>=0&&e<=59}function P_(t,e){const r=xr(t),n=r.getFullYear(),i=r.getDate(),s=Ns(t,0);s.setFullYear(n,e,15),s.setHours(0,0,0,0);const a=Dle(s);return r.setMonth(e,Math.min(i,a)),r}function LR(t,e){const r=xr(t);return isNaN(+r)?Ns(t,NaN):(r.setFullYear(e),r)}function BR(){return Qu(Date.now())}function NO(t,e){return Qi(t,-1)}const sce=ud("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function cr({className:t,variant:e,...r}){return o.jsx("div",{className:De(sce({variant:e}),t),...r})}const Ea=({size:t="md",className:e,text:r})=>{const n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return o.jsxs("div",{className:De("flex flex-col items-center justify-center gap-2",e),children:[o.jsx(Bi,{className:De("animate-spin text-primary",n[t])}),r&&o.jsx("p",{className:"text-sm text-muted-foreground",children:r})]})};var jO="Progress",OO=100,[ace]=Ji(jO),[oce,lce]=ace(jO),A$=j.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=cce,...a}=t;(i||i===0)&&!FR(i)&&console.error(uce(`${i}`,"Progress"));const c=FR(i)?i:OO;n!==null&&!UR(n,c)&&console.error(dce(`${n}`,"Progress"));const u=UR(n,c)?n:null,h=_y(u)?s(u,c):void 0;return o.jsx(oce,{scope:r,value:u,max:c,children:o.jsx(Tt.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":_y(u)?u:void 0,"aria-valuetext":h,role:"progressbar","data-state":O$(u,c),"data-value":u??void 0,"data-max":c,...a,ref:e})})});A$.displayName=jO;var N$="ProgressIndicator",j$=j.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=lce(N$,r);return o.jsx(Tt.div,{"data-state":O$(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});j$.displayName=N$;function cce(t,e){return`${Math.round(t/e*100)}%`}function O$(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function _y(t){return typeof t=="number"}function FR(t){return _y(t)&&!isNaN(t)&&t>0}function UR(t,e){return _y(t)&&!isNaN(t)&&t<=e&&t>=0}function uce(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${OO}\`.`}function dce(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${OO} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var T$=A$,fce=j$;const jm=j.forwardRef(({className:t,value:e,...r},n)=>o.jsx(T$,{ref:n,className:De("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:o.jsx(fce,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));jm.displayName=T$.displayName;const hce=()=>{const[t,e]=j.useState([]),[r,n]=j.useState([]),[i,s]=j.useState(null),[a,c]=j.useState(!0),[u,h]=j.useState(!1),[g,v]=j.useState(0),[w,b]=j.useState(0),{toast:A}=Bn(),{user:E}=Oo(),C=ii(),R=15,I=15,P=async()=>{try{c(!0);const{data:{user:J},error:ie}=await Se.auth.getUser();if(ie)throw ie;if(!J)throw new Error("User not found. Please log in again.");const{data:ne,error:ee}=await Se.from("check_ins").select("*").eq("user_id",J.id).order("check_in_time",{ascending:!1}).limit(20);if(ee)throw ee;n(ne||[]);const de=ne?.find(Re=>!Re.check_out_time);h(!!de);const{data:se,error:le}=await Se.from("class_bookings").select("*, class_sessions(id, name, instructor, start_time, end_time, capacity)").eq("user_id",J.id).order("created_at",{ascending:!1});if(le)throw le;e(se||[]);const{data:me,error:pe}=await Se.from("user_memberships").select("*, memberships(name, price)").eq("user_id",J.id).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(pe)throw pe;s(me||null)}catch(J){console.error("Dashboard load error:",J),A({variant:"destructive",title:"Error loading dashboard",description:J.message})}finally{c(!1)}};j.useEffect(()=>{P()},[]);const L=new Date,T=new Date(L.getFullYear(),L.getMonth(),1),D=new Date(L.getFullYear(),L.getMonth()+1,0,23,59,59),M=r.filter(J=>new Date(J.check_in_time)>=T&&new Date(J.check_in_time)<=D).length,$=t.filter(J=>J.status==="attended"&&J.class_sessions&&new Date(J.class_sessions.start_time)>=T&&new Date(J.class_sessions.start_time)<=D).length,V=r.length,K=t.filter(J=>J.status==="booked").length,H=t.filter(J=>J.status==="attended").length;j.useEffect(()=>{let J=0;r.forEach(ne=>{if(ne.check_out_time){const ee=new Date(ne.check_in_time).getTime(),le=(new Date(ne.check_out_time).getTime()-ee)/(1e3*60*60);J+=le}}),v(Math.round(J*10)/10);const ie=t.filter(ne=>ne.status==="attended").length;b(ie)},[r,t]);const z=t.filter(J=>J.class_sessions&&new Date(J.class_sessions.start_time)>L&&J.status==="booked").sort((J,ie)=>new Date(J.class_sessions?.start_time||0).getTime()-new Date(ie.class_sessions?.start_time||0).getTime()).slice(0,3),Z=[...r.slice(0,5).map(J=>({type:"check-in",id:J.id,time:J.check_in_time,title:`Checked in at ${J.location||"Main Gym"}`,description:at(new Date(J.check_in_time),"MMM d, yyyy 'at' h:mm a"),completed:!!J.check_out_time})),...t.filter(J=>J.status==="attended"&&J.class_sessions).slice(0,5).map(J=>({type:"class",id:J.id,time:J.class_sessions.start_time,title:`Attended ${J.class_sessions.name}`,description:at(new Date(J.class_sessions.start_time),"MMM d, yyyy 'at' h:mm a"),completed:!0}))].sort((J,ie)=>new Date(ie.time).getTime()-new Date(J.time).getTime()).slice(0,5),W=i?i.status==="active"&&i.payment_status==="paid"&&new Date(i.end_date)>L?"active":i.status==="expired"||new Date(i.end_date)<L?"expired":"inactive":"none",G=i&&W==="active"?Math.ceil((new Date(i.end_date).getTime()-L.getTime())/(1e3*60*60*24)):0;return a?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx(Ea,{size:"lg",text:"Loading dashboard..."})}):o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"container mx-auto max-w-7xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Member Dashboard"}),o.jsx(Te,{onClick:()=>P(),variant:"outline",size:"sm",children:"Refresh"})]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-8",children:[o.jsxs(Te,{onClick:()=>C("/qr/entry-exit"),className:"h-auto p-4 flex flex-col items-center justify-center gap-2 bg-secondary hover:bg-secondary/90",children:[o.jsx(cm,{className:"w-6 h-6"}),o.jsx("span",{className:"font-medium",children:"Check In/Out"}),u&&o.jsx(cr,{variant:"destructive",className:"text-xs",children:"Active Check-In"})]}),o.jsxs(Te,{onClick:()=>C("/classes"),className:"h-auto p-4 flex flex-col items-center justify-center gap-2 bg-accent hover:bg-accent/90",children:[o.jsx(ei,{className:"w-6 h-6"}),o.jsx("span",{className:"font-medium",children:"Book a Class"})]}),o.jsxs(Te,{onClick:()=>C("/bookings"),className:"h-auto p-4 flex flex-col items-center justify-center gap-2 bg-primary hover:bg-primary/90 text-primary-foreground",children:[o.jsx(mo,{className:"w-6 h-6"}),o.jsx("span",{className:"font-medium",children:"My Bookings"}),K>0&&o.jsxs(cr,{variant:"secondary",className:"text-xs",children:[K," active"]})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx(I_,{title:"Visits This Month",value:String(M),icon:o.jsx(kf,{className:"w-5 h-5 text-success"}),trend:`${V} total visits`}),o.jsx(I_,{title:"Classes This Month",value:String($),icon:o.jsx(mo,{className:"w-5 h-5 text-accent"}),trend:`${H} total attended`}),o.jsx(I_,{title:"Active Bookings",value:String(K),icon:o.jsx(ei,{className:"w-5 h-5 text-secondary"}),trend:`${z.length} upcoming`}),o.jsx(pce,{status:W,membership:i,daysRemaining:G})]}),o.jsxs(Xe,{className:"mb-8 cursor-pointer hover:bg-accent/5 transition-colors",onClick:()=>C("/rewards"),children:[o.jsxs(Ot,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Lt,{className:"flex items-center gap-2",children:[o.jsx(gj,{className:"w-5 h-5 text-primary"}),"Rewards Progress"]}),o.jsx(aI,{className:"w-4 h-4 text-muted-foreground"})]}),o.jsx(mr,{children:"Click to view full rewards page"})]}),o.jsxs(Ze,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ul,{className:"w-4 h-4 text-primary"}),o.jsx("span",{className:"text-sm font-medium",children:"Hours in Gym"})]}),o.jsxs("span",{className:"text-sm font-semibold",children:[g.toFixed(1),"/",R]})]}),o.jsx(jm,{value:Math.min(g/R*100,100),className:"h-2"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(mo,{className:"w-4 h-4 text-secondary"}),o.jsx("span",{className:"text-sm font-medium",children:"Classes"})]}),o.jsxs("span",{className:"text-sm font-semibold",children:[w,"/",I]})]}),o.jsx(jm,{value:Math.min(w/I*100,100),className:"h-2"})]})]})]}),i&&o.jsxs(Xe,{className:"mb-8",children:[o.jsx(Ot,{children:o.jsxs(Lt,{className:"flex items-center gap-2",children:[o.jsx(wl,{className:"w-5 h-5"}),"Membership Status"]})}),o.jsx(Ze,{children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium",children:i.memberships?.name||"Membership"}),o.jsx(cr,{variant:W==="active"?"default":W==="expired"?"destructive":"secondary",children:W==="active"?o.jsxs(o.Fragment,{children:[o.jsx(Sc,{className:"w-3 h-3 mr-1"})," Active"]}):W==="expired"?o.jsxs(o.Fragment,{children:[o.jsx(xh,{className:"w-3 h-3 mr-1"})," Expired"]}):o.jsxs(o.Fragment,{children:[o.jsx(cl,{className:"w-3 h-3 mr-1"})," Inactive"]})})]}),W==="active"&&o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Expires on ",at(new Date(i.end_date),"MMM d, yyyy")," (",G," days remaining)"]}),W==="expired"&&o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Expired on ",at(new Date(i.end_date),"MMM d, yyyy")]})]}),W!=="active"&&o.jsx(Te,{onClick:()=>C("/managememberships"),variant:"outline",children:"Start Membership"})]})})]}),z.length>0&&o.jsxs(Xe,{className:"mb-8",children:[o.jsxs(Ot,{children:[o.jsxs(Lt,{className:"flex items-center gap-2",children:[o.jsx(ul,{className:"w-5 h-5"}),"Upcoming Classes"]}),o.jsx(mr,{children:"Your next scheduled classes"})]}),o.jsx(Ze,{children:o.jsx("div",{className:"space-y-3",children:z.map(J=>{const ie=new Date(J.class_sessions?.start_time||""),ne=Foe(ie,L),ee=Uoe(ie,L),de=ne<24,se=qle(ie),le=Vle(ie);return o.jsx("div",{className:`p-4 rounded-lg border ${de?"bg-accent/10 border-accent":"bg-muted/30"}`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h3",{className:"font-medium",children:J.class_sessions?.name}),de&&o.jsx(cr,{variant:se?"destructive":"default",className:"text-xs",children:se?"Today":le?"This Week":"Soon"})]}),o.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[J.class_sessions?.instructor&&`with ${J.class_sessions.instructor}  `,at(ie,"MMM d, yyyy 'at' h:mm a")]}),de&&o.jsx("p",{className:"text-xs text-muted-foreground",children:ne>0?`${ne} hour${ne>1?"s":""} until class`:`${ee} minute${ee>1?"s":""} until class`})]}),o.jsxs(Te,{variant:"ghost",size:"sm",onClick:()=>C("/bookings"),children:["View ",o.jsx(aI,{className:"w-4 h-4 ml-1"})]})]})},J.id)})})})]}),E&&o.jsxs(Xe,{className:"mb-8",children:[o.jsxs(Ot,{children:[o.jsxs(Lt,{className:"flex items-center gap-2",children:[o.jsx(cm,{className:"w-5 h-5"}),"Your Check-In QR Code"]}),o.jsx(mr,{children:"Show this QR code at the gym entrance for quick check-in"})]}),o.jsx(Ze,{children:o.jsx(bO,{userId:E.id,action:u?"exit":"entry",size:200,className:"max-w-sm mx-auto",showDownload:!0,showRefresh:!0})})]}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[o.jsxs(Xe,{children:[o.jsxs(Ot,{children:[o.jsx(Lt,{children:"Recent Activity"}),o.jsx(mr,{children:"Your recent check-ins and class attendance"})]}),o.jsx(Ze,{children:Z.length>0?o.jsx("ul",{className:"space-y-3",children:Z.map(J=>o.jsxs("li",{className:"p-3 rounded-lg bg-muted/30 flex items-start gap-3",children:[o.jsx("div",{className:`p-2 rounded-full ${J.completed?"bg-success/20":"bg-primary/20"}`,children:J.type==="check-in"?o.jsx(BB,{className:`w-4 h-4 ${J.completed?"text-success":"text-primary"}`}):o.jsx(mo,{className:`w-4 h-4 ${J.completed?"text-success":"text-primary"}`})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium text-sm",children:J.title}),o.jsx("p",{className:"text-xs text-muted-foreground",children:J.description})]}),J.completed&&o.jsx(Sc,{className:"w-4 h-4 text-success flex-shrink-0"})]},`${J.type}-${J.id}`))}):o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No recent activity"})})]}),o.jsxs(Xe,{children:[o.jsxs(Ot,{children:[o.jsx(Lt,{children:"Class Schedule"}),o.jsx(mr,{children:"Manage your class bookings"})]}),o.jsx(Ze,{children:z.length>0?o.jsxs("div",{className:"space-y-3",children:[z.map(J=>o.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:J.class_sessions?.name}),o.jsx("p",{className:"text-xs text-muted-foreground",children:at(new Date(J.class_sessions?.start_time||""),"MMM d, h:mm a")})]}),o.jsx(cr,{variant:"outline",className:"text-xs",children:"Booked"})]},J.id)),o.jsx(Te,{variant:"outline",className:"w-full mt-4",onClick:()=>C("/bookings"),children:"View All Bookings"})]}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:"No upcoming classes"}),o.jsx(Te,{onClick:()=>C("/classes"),variant:"outline",children:"Browse Classes"})]})})]})]})]})})},I_=({title:t,value:e,icon:r,trend:n})=>o.jsx(Xe,{children:o.jsxs(Ze,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:t}),r]}),o.jsx("div",{className:"text-2xl font-bold mb-1",children:e}),o.jsx("p",{className:"text-xs text-muted-foreground",children:n})]})}),pce=({status:t,membership:e,daysRemaining:r})=>{const i=(()=>{switch(t){case"active":return{value:"Active",icon:o.jsx(Sc,{className:"w-5 h-5 text-success"}),trend:`${r} days remaining`};case"expired":return{value:"Expired",icon:o.jsx(xh,{className:"w-5 h-5 text-destructive"}),trend:"Renew required"};default:return{value:"None",icon:o.jsx(cl,{className:"w-5 h-5 text-muted-foreground"}),trend:"No membership"}}})();return o.jsx(Xe,{children:o.jsxs(Ze,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Membership"}),i.icon]}),o.jsx("div",{className:"text-2xl font-bold mb-1",children:i.value}),o.jsx("p",{className:"text-xs text-muted-foreground",children:i.trend})]})})};function $R(t,[e,r]){return Math.min(r,Math.max(e,t))}function TO(t){const e=j.useRef({value:t,previous:t});return j.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var mce=[" ","Enter","ArrowUp","ArrowDown"],gce=[" ","Enter"],Ju="Select",[ax,ox,vce]=O1(Ju),[Oh]=Ji(Ju,[vce,Mc]),lx=Mc(),[yce,Bc]=Oh(Ju),[xce,wce]=Oh(Ju),k$=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:a,defaultValue:c,onValueChange:u,dir:h,name:g,autoComplete:v,disabled:w,required:b,form:A}=t,E=lx(e),[C,R]=j.useState(null),[I,P]=j.useState(null),[L,T]=j.useState(!1),D=z1(h),[M,$]=Za({prop:n,defaultProp:i??!1,onChange:s,caller:Ju}),[V,K]=Za({prop:a,defaultProp:c,onChange:u,caller:Ju}),H=j.useRef(null),z=C?A||!!C.closest("form"):!0,[Z,W]=j.useState(new Set),G=Array.from(Z).map(J=>J.props.value).join(";");return o.jsx(D1,{...E,children:o.jsxs(yce,{required:b,scope:e,trigger:C,onTriggerChange:R,valueNode:I,onValueNodeChange:P,valueNodeHasChildren:L,onValueNodeHasChildrenChange:T,contentId:_a(),value:V,onValueChange:K,open:M,onOpenChange:$,dir:D,triggerPointerDownPosRef:H,disabled:w,children:[o.jsx(ax.Provider,{scope:e,children:o.jsx(xce,{scope:t.__scopeSelect,onNativeOptionAdd:j.useCallback(J=>{W(ie=>new Set(ie).add(J))},[]),onNativeOptionRemove:j.useCallback(J=>{W(ie=>{const ne=new Set(ie);return ne.delete(J),ne})},[]),children:r})}),z?o.jsxs(tV,{"aria-hidden":!0,required:b,tabIndex:-1,name:g,autoComplete:v,value:V,onChange:J=>K(J.target.value),disabled:w,form:A,children:[V===void 0?o.jsx("option",{value:""}):null,Array.from(Z)]},G):null]})})};k$.displayName=Ju;var P$="SelectTrigger",I$=j.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=lx(r),a=Bc(P$,r),c=a.disabled||n,u=br(e,a.onTriggerChange),h=ox(r),g=j.useRef("touch"),[v,w,b]=nV(E=>{const C=h().filter(P=>!P.disabled),R=C.find(P=>P.value===a.value),I=iV(C,E,R);I!==void 0&&a.onValueChange(I.value)}),A=E=>{c||(a.onOpenChange(!0),b()),E&&(a.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return o.jsx(gg,{asChild:!0,...s,children:o.jsx(Tt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":rV(a.value)?"":void 0,...i,ref:u,onClick:ot(i.onClick,E=>{E.currentTarget.focus(),g.current!=="mouse"&&A(E)}),onPointerDown:ot(i.onPointerDown,E=>{g.current=E.pointerType;const C=E.target;C.hasPointerCapture(E.pointerId)&&C.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(A(E),E.preventDefault())}),onKeyDown:ot(i.onKeyDown,E=>{const C=v.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&w(E.key),!(C&&E.key===" ")&&mce.includes(E.key)&&(A(),E.preventDefault())})})})});I$.displayName=P$;var R$="SelectValue",M$=j.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:a="",...c}=t,u=Bc(R$,r),{onValueNodeHasChildrenChange:h}=u,g=s!==void 0,v=br(e,u.onValueNodeChange);return ni(()=>{h(g)},[h,g]),o.jsx(Tt.span,{...c,ref:v,style:{pointerEvents:"none"},children:rV(u.value)?o.jsx(o.Fragment,{children:a}):s})});M$.displayName=R$;var bce="SelectIcon",D$=j.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return o.jsx(Tt.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});D$.displayName=bce;var _ce="SelectPortal",L$=t=>o.jsx(yh,{asChild:!0,...t});L$.displayName=_ce;var ed="SelectContent",B$=j.forwardRef((t,e)=>{const r=Bc(ed,t.__scopeSelect),[n,i]=j.useState();if(ni(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?vh.createPortal(o.jsx(F$,{scope:t.__scopeSelect,children:o.jsx(ax.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),s):null}return o.jsx(U$,{...t,ref:e})});B$.displayName=ed;var $a=10,[F$,Fc]=Oh(ed),Sce="SelectContentImpl",Ece=_c("SelectContent.RemoveScroll"),U$=j.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:c,sideOffset:u,align:h,alignOffset:g,arrowPadding:v,collisionBoundary:w,collisionPadding:b,sticky:A,hideWhenDetached:E,avoidCollisions:C,...R}=t,I=Bc(ed,r),[P,L]=j.useState(null),[T,D]=j.useState(null),M=br(e,we=>L(we)),[$,V]=j.useState(null),[K,H]=j.useState(null),z=ox(r),[Z,W]=j.useState(!1),G=j.useRef(!1);j.useEffect(()=>{if(P)return K1(P)},[P]),H1();const J=j.useCallback(we=>{const[Le,...je]=z().map(Oe=>Oe.ref.current),[Fe]=je.slice(-1),We=document.activeElement;for(const Oe of we)if(Oe===We||(Oe?.scrollIntoView({block:"nearest"}),Oe===Le&&T&&(T.scrollTop=0),Oe===Fe&&T&&(T.scrollTop=T.scrollHeight),Oe?.focus(),document.activeElement!==We))return},[z,T]),ie=j.useCallback(()=>J([$,P]),[J,$,P]);j.useEffect(()=>{Z&&ie()},[Z,ie]);const{onOpenChange:ne,triggerPointerDownPosRef:ee}=I;j.useEffect(()=>{if(P){let we={x:0,y:0};const Le=Fe=>{we={x:Math.abs(Math.round(Fe.pageX)-(ee.current?.x??0)),y:Math.abs(Math.round(Fe.pageY)-(ee.current?.y??0))}},je=Fe=>{we.x<=10&&we.y<=10?Fe.preventDefault():P.contains(Fe.target)||ne(!1),document.removeEventListener("pointermove",Le),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",Le),document.addEventListener("pointerup",je,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Le),document.removeEventListener("pointerup",je,{capture:!0})}}},[P,ne,ee]),j.useEffect(()=>{const we=()=>ne(!1);return window.addEventListener("blur",we),window.addEventListener("resize",we),()=>{window.removeEventListener("blur",we),window.removeEventListener("resize",we)}},[ne]);const[de,se]=nV(we=>{const Le=z().filter(We=>!We.disabled),je=Le.find(We=>We.ref.current===document.activeElement),Fe=iV(Le,we,je);Fe&&setTimeout(()=>Fe.ref.current.focus())}),le=j.useCallback((we,Le,je)=>{const Fe=!G.current&&!je;(I.value!==void 0&&I.value===Le||Fe)&&(V(we),Fe&&(G.current=!0))},[I.value]),me=j.useCallback(()=>P?.focus(),[P]),pe=j.useCallback((we,Le,je)=>{const Fe=!G.current&&!je;(I.value!==void 0&&I.value===Le||Fe)&&H(we)},[I.value]),Re=n==="popper"?kA:$$,_e=Re===kA?{side:c,sideOffset:u,align:h,alignOffset:g,arrowPadding:v,collisionBoundary:w,collisionPadding:b,sticky:A,hideWhenDetached:E,avoidCollisions:C}:{};return o.jsx(F$,{scope:r,content:P,viewport:T,onViewportChange:D,itemRefCallback:le,selectedItem:$,onItemLeave:me,itemTextRefCallback:pe,focusSelectedItem:ie,selectedItemText:K,position:n,isPositioned:Z,searchRef:de,children:o.jsx(bg,{as:Ece,allowPinchZoom:!0,children:o.jsx(xg,{asChild:!0,trapped:I.open,onMountAutoFocus:we=>{we.preventDefault()},onUnmountAutoFocus:ot(i,we=>{I.trigger?.focus({preventScroll:!0}),we.preventDefault()}),children:o.jsx(cd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:we=>we.preventDefault(),onDismiss:()=>I.onOpenChange(!1),children:o.jsx(Re,{role:"listbox",id:I.contentId,"data-state":I.open?"open":"closed",dir:I.dir,onContextMenu:we=>we.preventDefault(),...R,..._e,onPlaced:()=>W(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:ot(R.onKeyDown,we=>{const Le=we.ctrlKey||we.altKey||we.metaKey;if(we.key==="Tab"&&we.preventDefault(),!Le&&we.key.length===1&&se(we.key),["ArrowUp","ArrowDown","Home","End"].includes(we.key)){let Fe=z().filter(We=>!We.disabled).map(We=>We.ref.current);if(["ArrowUp","End"].includes(we.key)&&(Fe=Fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(we.key)){const We=we.target,Oe=Fe.indexOf(We);Fe=Fe.slice(Oe+1)}setTimeout(()=>J(Fe)),we.preventDefault()}})})})})})})});U$.displayName=Sce;var Cce="SelectItemAlignedPosition",$$=j.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=Bc(ed,r),a=Fc(ed,r),[c,u]=j.useState(null),[h,g]=j.useState(null),v=br(e,M=>g(M)),w=ox(r),b=j.useRef(!1),A=j.useRef(!0),{viewport:E,selectedItem:C,selectedItemText:R,focusSelectedItem:I}=a,P=j.useCallback(()=>{if(s.trigger&&s.valueNode&&c&&h&&E&&C&&R){const M=s.trigger.getBoundingClientRect(),$=h.getBoundingClientRect(),V=s.valueNode.getBoundingClientRect(),K=R.getBoundingClientRect();if(s.dir!=="rtl"){const We=K.left-$.left,Oe=V.left-We,et=M.left-Oe,Ue=M.width+et,st=Math.max(Ue,$.width),Et=window.innerWidth-$a,dt=$R(Oe,[$a,Math.max($a,Et-st)]);c.style.minWidth=Ue+"px",c.style.left=dt+"px"}else{const We=$.right-K.right,Oe=window.innerWidth-V.right-We,et=window.innerWidth-M.right-Oe,Ue=M.width+et,st=Math.max(Ue,$.width),Et=window.innerWidth-$a,dt=$R(Oe,[$a,Math.max($a,Et-st)]);c.style.minWidth=Ue+"px",c.style.right=dt+"px"}const H=w(),z=window.innerHeight-$a*2,Z=E.scrollHeight,W=window.getComputedStyle(h),G=parseInt(W.borderTopWidth,10),J=parseInt(W.paddingTop,10),ie=parseInt(W.borderBottomWidth,10),ne=parseInt(W.paddingBottom,10),ee=G+J+Z+ne+ie,de=Math.min(C.offsetHeight*5,ee),se=window.getComputedStyle(E),le=parseInt(se.paddingTop,10),me=parseInt(se.paddingBottom,10),pe=M.top+M.height/2-$a,Re=z-pe,_e=C.offsetHeight/2,we=C.offsetTop+_e,Le=G+J+we,je=ee-Le;if(Le<=pe){const We=H.length>0&&C===H[H.length-1].ref.current;c.style.bottom="0px";const Oe=h.clientHeight-E.offsetTop-E.offsetHeight,et=Math.max(Re,_e+(We?me:0)+Oe+ie),Ue=Le+et;c.style.height=Ue+"px"}else{const We=H.length>0&&C===H[0].ref.current;c.style.top="0px";const et=Math.max(pe,G+E.offsetTop+(We?le:0)+_e)+je;c.style.height=et+"px",E.scrollTop=Le-pe+E.offsetTop}c.style.margin=`${$a}px 0`,c.style.minHeight=de+"px",c.style.maxHeight=z+"px",n?.(),requestAnimationFrame(()=>b.current=!0)}},[w,s.trigger,s.valueNode,c,h,E,C,R,s.dir,n]);ni(()=>P(),[P]);const[L,T]=j.useState();ni(()=>{h&&T(window.getComputedStyle(h).zIndex)},[h]);const D=j.useCallback(M=>{M&&A.current===!0&&(P(),I?.(),A.current=!1)},[P,I]);return o.jsx(Nce,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:b,onScrollButtonChange:D,children:o.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:L},children:o.jsx(Tt.div,{...i,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});$$.displayName=Cce;var Ace="SelectPopperPosition",kA=j.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=$a,...s}=t,a=lx(r);return o.jsx(L1,{...a,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});kA.displayName=Ace;var[Nce,kO]=Oh(ed,{}),PA="SelectViewport",V$=j.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=Fc(PA,r),a=kO(PA,r),c=br(e,s.onViewportChange),u=j.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(ax.Slot,{scope:r,children:o.jsx(Tt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ot(i.onScroll,h=>{const g=h.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:w}=a;if(w?.current&&v){const b=Math.abs(u.current-g.scrollTop);if(b>0){const A=window.innerHeight-$a*2,E=parseFloat(v.style.minHeight),C=parseFloat(v.style.height),R=Math.max(E,C);if(R<A){const I=R+b,P=Math.min(A,I),L=I-P;v.style.height=P+"px",v.style.bottom==="0px"&&(g.scrollTop=L>0?L:0,v.style.justifyContent="flex-end")}}}u.current=g.scrollTop})})})]})});V$.displayName=PA;var q$="SelectGroup",[jce,Oce]=Oh(q$),Tce=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=_a();return o.jsx(jce,{scope:r,id:i,children:o.jsx(Tt.div,{role:"group","aria-labelledby":i,...n,ref:e})})});Tce.displayName=q$;var W$="SelectLabel",z$=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Oce(W$,r);return o.jsx(Tt.div,{id:i.id,...n,ref:e})});z$.displayName=W$;var Sy="SelectItem",[kce,H$]=Oh(Sy),G$=j.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...a}=t,c=Bc(Sy,r),u=Fc(Sy,r),h=c.value===n,[g,v]=j.useState(s??""),[w,b]=j.useState(!1),A=br(e,I=>u.itemRefCallback?.(I,n,i)),E=_a(),C=j.useRef("touch"),R=()=>{i||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(kce,{scope:r,value:n,disabled:i,textId:E,isSelected:h,onItemTextChange:j.useCallback(I=>{v(P=>P||(I?.textContent??"").trim())},[]),children:o.jsx(ax.ItemSlot,{scope:r,value:n,disabled:i,textValue:g,children:o.jsx(Tt.div,{role:"option","aria-labelledby":E,"data-highlighted":w?"":void 0,"aria-selected":h&&w,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:A,onFocus:ot(a.onFocus,()=>b(!0)),onBlur:ot(a.onBlur,()=>b(!1)),onClick:ot(a.onClick,()=>{C.current!=="mouse"&&R()}),onPointerUp:ot(a.onPointerUp,()=>{C.current==="mouse"&&R()}),onPointerDown:ot(a.onPointerDown,I=>{C.current=I.pointerType}),onPointerMove:ot(a.onPointerMove,I=>{C.current=I.pointerType,i?u.onItemLeave?.():C.current==="mouse"&&I.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ot(a.onPointerLeave,I=>{I.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:ot(a.onKeyDown,I=>{u.searchRef?.current!==""&&I.key===" "||(gce.includes(I.key)&&R(),I.key===" "&&I.preventDefault())})})})})});G$.displayName=Sy;var Hp="SelectItemText",K$=j.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,a=Bc(Hp,r),c=Fc(Hp,r),u=H$(Hp,r),h=wce(Hp,r),[g,v]=j.useState(null),w=br(e,R=>v(R),u.onItemTextChange,R=>c.itemTextRefCallback?.(R,u.value,u.disabled)),b=g?.textContent,A=j.useMemo(()=>o.jsx("option",{value:u.value,disabled:u.disabled,children:b},u.value),[u.disabled,u.value,b]),{onNativeOptionAdd:E,onNativeOptionRemove:C}=h;return ni(()=>(E(A),()=>C(A)),[E,C,A]),o.jsxs(o.Fragment,{children:[o.jsx(Tt.span,{id:u.textId,...s,ref:w}),u.isSelected&&a.valueNode&&!a.valueNodeHasChildren?vh.createPortal(s.children,a.valueNode):null]})});K$.displayName=Hp;var Y$="SelectItemIndicator",X$=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return H$(Y$,r).isSelected?o.jsx(Tt.span,{"aria-hidden":!0,...n,ref:e}):null});X$.displayName=Y$;var IA="SelectScrollUpButton",Z$=j.forwardRef((t,e)=>{const r=Fc(IA,t.__scopeSelect),n=kO(IA,t.__scopeSelect),[i,s]=j.useState(!1),a=br(e,n.onScrollButtonChange);return ni(()=>{if(r.viewport&&r.isPositioned){let c=function(){const h=u.scrollTop>0;s(h)};const u=r.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),i?o.jsx(J$,{...t,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=r;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}}):null});Z$.displayName=IA;var RA="SelectScrollDownButton",Q$=j.forwardRef((t,e)=>{const r=Fc(RA,t.__scopeSelect),n=kO(RA,t.__scopeSelect),[i,s]=j.useState(!1),a=br(e,n.onScrollButtonChange);return ni(()=>{if(r.viewport&&r.isPositioned){let c=function(){const h=u.scrollHeight-u.clientHeight,g=Math.ceil(u.scrollTop)<h;s(g)};const u=r.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),i?o.jsx(J$,{...t,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=r;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}}):null});Q$.displayName=RA;var J$=j.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=Fc("SelectScrollButton",r),a=j.useRef(null),c=ox(r),u=j.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return j.useEffect(()=>()=>u(),[u]),ni(()=>{c().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),o.jsx(Tt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ot(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:ot(i.onPointerMove,()=>{s.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:ot(i.onPointerLeave,()=>{u()})})}),Pce="SelectSeparator",eV=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return o.jsx(Tt.div,{"aria-hidden":!0,...n,ref:e})});eV.displayName=Pce;var MA="SelectArrow",Ice=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=lx(r),s=Bc(MA,r),a=Fc(MA,r);return s.open&&a.position==="popper"?o.jsx(B1,{...i,...n,ref:e}):null});Ice.displayName=MA;var Rce="SelectBubbleInput",tV=j.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=j.useRef(null),s=br(n,i),a=TO(e);return j.useEffect(()=>{const c=i.current;if(!c)return;const u=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(u,"value").set;if(a!==e&&g){const v=new Event("change",{bubbles:!0});g.call(c,e),c.dispatchEvent(v)}},[a,e]),o.jsx(Tt.select,{...r,style:{...fB,...r.style},ref:s,defaultValue:e})});tV.displayName=Rce;function rV(t){return t===""||t===void 0}function nV(t){const e=ls(t),r=j.useRef(""),n=j.useRef(0),i=j.useCallback(a=>{const c=r.current+a;e(c),(function u(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>u(""),1e3))})(c)},[e]),s=j.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function iV(t,e,r){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let a=Mce(t,Math.max(s,0));i.length===1&&(a=a.filter(h=>h!==r));const u=a.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==r?u:void 0}function Mce(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Dce=k$,sV=I$,Lce=M$,Bce=D$,Fce=L$,aV=B$,Uce=V$,oV=z$,lV=G$,$ce=K$,Vce=X$,cV=Z$,uV=Q$,dV=eV;const _n=Dce,Sn=Lce,dn=j.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(sV,{ref:n,className:De("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,o.jsx(Bce,{asChild:!0,children:o.jsx(DB,{className:"h-4 w-4 opacity-50"})})]}));dn.displayName=sV.displayName;const fV=j.forwardRef(({className:t,...e},r)=>o.jsx(cV,{ref:r,className:De("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(sY,{className:"h-4 w-4"})}));fV.displayName=cV.displayName;const hV=j.forwardRef(({className:t,...e},r)=>o.jsx(uV,{ref:r,className:De("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(DB,{className:"h-4 w-4"})}));hV.displayName=uV.displayName;const fn=j.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>o.jsx(Fce,{children:o.jsxs(aV,{ref:i,className:De("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[o.jsx(fV,{}),o.jsx(Uce,{className:De("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(hV,{})]})}));fn.displayName=aV.displayName;const qce=j.forwardRef(({className:t,...e},r)=>o.jsx(oV,{ref:r,className:De("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));qce.displayName=oV.displayName;const bt=j.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(lV,{ref:n,className:De("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(Vce,{children:o.jsx(hj,{className:"h-4 w-4"})})}),o.jsx($ce,{children:e})]}));bt.displayName=lV.displayName;const Wce=j.forwardRef(({className:t,...e},r)=>o.jsx(dV,{ref:r,className:De("-mx-1 my-1 h-px bg-muted",t),...e}));Wce.displayName=dV.displayName;const Xs=Xj,PO=iU,zce=Zj,pV=j.forwardRef(({className:t,...e},r)=>o.jsx(Eg,{ref:r,className:De("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));pV.displayName=Eg.displayName;const Ss=j.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(zce,{children:[o.jsx(pV,{}),o.jsxs(Cg,{ref:n,className:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,o.jsxs(tx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(pg,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ss.displayName=Cg.displayName;const Es=({className:t,...e})=>o.jsx("div",{className:De("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Es.displayName="DialogHeader";const wa=({className:t,...e})=>o.jsx("div",{className:De("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});wa.displayName="DialogFooter";const Cs=j.forwardRef(({className:t,...e},r)=>o.jsx(Ag,{ref:r,className:De("text-lg font-semibold leading-none tracking-tight",t),...e}));Cs.displayName=Ag.displayName;const Zs=j.forwardRef(({className:t,...e},r)=>o.jsx(Ng,{ref:r,className:De("text-sm text-muted-foreground",t),...e}));Zs.displayName=Ng.displayName;const mV=t=>{const{user:e}=Oo(),[r,n]=j.useState([]),[i,s]=j.useState(!0),[a,c]=j.useState(null),u=j.useCallback(async E=>{try{s(!0),c(null);const C=E||e?.id;if(!C){n([]),s(!1);return}const{data:R,error:I}=await Se.from("class_bookings").select(`
          *,
          class_sessions(
            id,
            name,
            instructor,
            start_time,
            end_time,
            capacity
          )
        `).eq("user_id",C).order("created_at",{ascending:!1});if(I)throw I;n(R||[])}catch(C){console.error("Error fetching bookings:",C),c(C.message||"Failed to fetch bookings"),n([])}finally{s(!1)}},[e?.id]);j.useEffect(()=>{const E=e?.id;if(!E){s(!1);return}u(E);const C=Se.channel("bookings-changes").on("postgres_changes",{event:"*",schema:"public",table:"class_bookings",filter:`user_id=eq.${E}`},R=>{console.log("Booking change detected:",R),u(E)}).subscribe();return()=>{Se.removeChannel(C)}},[t,e?.id,u]);const h=j.useCallback(async()=>{if(!e?.id)return!1;try{const{data:E,error:C}=await Se.rpc("has_valid_membership",{_user_id:e.id});return C?(console.error("Error checking membership:",C),!1):E===!0}catch(E){return console.error("Error checking membership:",E),!1}},[e?.id]),g=j.useCallback(async E=>{try{const{count:C,error:R}=await Se.from("class_bookings").select("*",{count:"exact",head:!0}).eq("class_id",E).eq("status","booked");return R?(console.error("Error getting booking count:",R),0):C||0}catch(C){return console.error("Error getting booking count:",C),0}},[]),v=j.useCallback(async E=>{if(!e?.id)return!1;try{const{data:C,error:R}=await Se.from("class_bookings").select("id").eq("user_id",e.id).eq("class_id",E).in("status",["booked","confirmed"]).limit(1).maybeSingle();return R&&R.code!=="PGRST116"?(console.error("Error checking existing booking:",R),!1):C!==null}catch(C){return console.error("Error checking existing booking:",C),!1}},[e?.id]),w=j.useCallback(async E=>{if(!e?.id)return{success:!1,error:"User not authenticated"};try{if(!await h())return{success:!1,error:"You need an active membership to book classes"};if(await v(E))return{success:!1,error:"You already have a booking for this class"};const{data:I,error:P}=await Se.from("class_sessions").select("capacity, start_time").eq("id",E).single();if(P||!I)return{success:!1,error:"Class session not found"};if(I.start_time&&new Date(I.start_time)<new Date)return{success:!1,error:"Cannot book a class that has already started"};if(I.capacity&&await g(E)>=I.capacity)return{success:!1,error:"This class is fully booked"};const{data:L,error:T}=await Se.from("class_bookings").insert({user_id:e.id,class_id:E,status:"booked"}).select("*, class_sessions(id, name, instructor, start_time, end_time, capacity)").single();if(T)throw T;return n(D=>[L,...D]),{success:!0}}catch(C){return console.error("Error creating booking:",C),{success:!1,error:C.message||"Failed to create booking"}}},[e?.id,h,v,g]),b=j.useCallback(async E=>{if(!e?.id)return{success:!1,error:"User not authenticated"};try{const{data:C,error:R}=await Se.from("class_bookings").select("*, class_sessions(start_time)").eq("id",E).eq("user_id",e.id).single();if(R||!C)return{success:!1,error:"Booking not found"};if(C.status==="cancelled")return{success:!1,error:"Booking is already cancelled"};if(C.class_sessions?.start_time){const P=new Date(C.class_sessions.start_time),L=new Date,T=(P.getTime()-L.getTime())/(1e3*60*60);if(T<24&&T>0)return{success:!1,error:"Cannot cancel booking within 24 hours of class start time"};if(T<=0)return{success:!1,error:"Cannot cancel a class that has already started"}}const{error:I}=await Se.from("class_bookings").update({status:"cancelled"}).eq("id",E).eq("user_id",e.id);if(I)throw I;return n(P=>P.map(L=>L.id===E?{...L,status:"cancelled"}:L)),{success:!0}}catch(C){return console.error("Error cancelling booking:",C),{success:!1,error:C.message||"Failed to cancel booking"}}},[e?.id]),A=j.useCallback(async()=>{await u(e?.id)},[t,e?.id,u]);return{bookings:r,loading:i,error:a,createBooking:w,cancelBooking:b,refreshBookings:A}},Hce=()=>o.jsxs(Xe,{children:[o.jsxs(Ot,{children:[o.jsx(Hr,{className:"h-6 w-3/4"}),o.jsx(Hr,{className:"h-4 w-1/2 mt-2"})]}),o.jsxs(Ze,{className:"space-y-3",children:[o.jsx(Hr,{className:"h-4 w-full"}),o.jsx(Hr,{className:"h-4 w-5/6"}),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsx(Hr,{className:"h-9 w-24"}),o.jsx(Hr,{className:"h-9 w-24"})]})]})]}),Gce=({count:t=6})=>o.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:t}).map((e,r)=>o.jsx(Hce,{},r))}),Kce=({sessions:t,onDateClick:e,onSessionClick:r,selectedDate:n,viewMode:i="month",onViewModeChange:s})=>{const[a,c]=j.useState(new Date),u=j.useMemo(()=>{const I=new Map;return t.forEach(P=>{const L=at(Ut(P.start_time),"yyyy-MM-dd");I.has(L)||I.set(L,[]),I.get(L).push(P)}),I},[t]),h=I=>{const P=at(I,"yyyy-MM-dd");return u.get(P)||[]},g=Hn(a),v=Ah(a),w=Ni(g),b=bl(v),A=Nh({start:w,end:b}),E=()=>{c(NO(a))},C=()=>{c(Qi(a,1))},R=I=>{e?.(I),s&&s("day")};return i==="day"&&n?o.jsx(Yce,{date:n,sessions:h(n),onSessionClick:r,onBack:()=>{s&&s("month")},onDateChange:I=>{c(Hn(I)),e?.(I)}}):o.jsxs(Xe,{children:[o.jsx(Ot,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Lt,{className:"text-2xl font-bold",children:at(a,"MMMM yyyy")}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Te,{variant:"outline",size:"icon",onClick:E,children:o.jsx(Qa,{className:"h-4 w-4"})}),o.jsx(Te,{variant:"outline",size:"icon",onClick:C,children:o.jsx(xl,{className:"h-4 w-4"})}),o.jsx(Te,{variant:"outline",onClick:()=>c(new Date),children:"Today"})]})]})}),o.jsx(Ze,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-7 gap-1",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(I=>o.jsx("div",{className:"text-center text-sm font-medium text-muted-foreground py-2",children:I},I))}),o.jsx("div",{className:"border-t border-border"}),o.jsx("div",{className:"space-y-0",children:Array.from({length:Math.ceil(A.length/7)},(I,P)=>{const L=P*7,T=A.slice(L,L+7);return o.jsxs("div",{children:[o.jsx("div",{className:"grid grid-cols-7",children:T.map((D,M)=>{const $=h(D),V=jh(D,a),K=Jr(D,new Date),H=n&&Jr(D,n);return o.jsxs("div",{className:De("min-h-[100px] p-2 cursor-pointer transition-colors",!V&&"opacity-40",K&&"bg-primary/5",H&&"bg-primary/10","hover:bg-accent"),onClick:()=>R(D),children:[o.jsx("div",{className:De("text-sm font-semibold mb-1",K&&"text-primary",H&&"text-primary"),children:at(D,"d")}),o.jsxs("div",{className:"space-y-1",children:[$.slice(0,3).map(z=>o.jsx(cr,{variant:"secondary",className:"w-full text-xs truncate cursor-pointer hover:bg-primary hover:text-primary-foreground",onClick:Z=>{Z.stopPropagation(),r?.(z)},children:z.name},z.id)),$.length>3&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",$.length-3," more"]})]})]},M)})}),P<Math.ceil(A.length/7)-1&&o.jsx("div",{className:"border-t border-border my-0"})]},P)})})]})})]})},Yce=({date:t,sessions:e,onSessionClick:r,onBack:n,onDateChange:i})=>{const s=Ni(t),a=Nh({start:s,end:bl(t)}),c=j.useMemo(()=>[...e].sort((w,b)=>Ut(w.start_time).getTime()-Ut(b.start_time).getTime()),[e]),u=j.useMemo(()=>{const w=new Map;return c.forEach(b=>{const A=Ut(b.start_time).getHours();w.has(A)||w.set(A,[]),w.get(A).push(b)}),w},[c]),h=Array.from({length:17},(w,b)=>b+6),g=()=>{const w=new Date(t);w.setDate(w.getDate()-1),i(w)},v=()=>{const w=new Date(t);w.setDate(w.getDate()+1),i(w)};return o.jsxs(Xe,{children:[o.jsx(Ot,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Te,{variant:"outline",size:"icon",onClick:n,children:o.jsx(Qa,{className:"h-4 w-4"})}),o.jsx(Lt,{className:"text-2xl font-bold",children:at(t,"EEEE, MMMM d, yyyy")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Te,{variant:"outline",size:"icon",onClick:g,children:o.jsx(Qa,{className:"h-4 w-4"})}),o.jsx(Te,{variant:"outline",size:"icon",onClick:v,children:o.jsx(xl,{className:"h-4 w-4"})}),o.jsx(Te,{variant:"outline",onClick:()=>i(new Date),children:"Today"})]})]})}),o.jsx(Ze,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex gap-2",children:a.map(w=>{const b=Jr(w,t),A=Jr(w,new Date);return o.jsxs("button",{onClick:()=>i(w),className:De("flex-1 p-3 rounded-lg border transition-colors text-center",b&&"bg-primary text-primary-foreground border-primary",!b&&"hover:bg-accent",A&&!b&&"border-primary"),children:[o.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:at(w,"EEE")}),o.jsx("div",{className:"text-lg font-semibold",children:at(w,"d")})]},w.toISOString())})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Schedule"}),c.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(ei,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No classes scheduled for this day"})]}):o.jsx("div",{className:"space-y-2",children:h.map(w=>{const b=u.get(w)||[];return b.length===0?null:o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"w-16 text-sm text-muted-foreground pt-2",children:at(new Date().setHours(w,0,0,0),"h:mm a")}),o.jsx("div",{className:"flex-1 space-y-2",children:b.map(A=>{const E=Ut(A.start_time),C=Ut(A.end_time),R=(C.getTime()-E.getTime())/(1e3*60);return o.jsx("div",{onClick:()=>r?.(A),className:De("p-4 rounded-lg border cursor-pointer transition-colors","hover:shadow-md hover:border-primary",A.isBooked&&"bg-primary/5 border-primary/20"),children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h4",{className:"font-semibold",children:A.name}),A.category&&o.jsx(cr,{variant:"outline",className:"text-xs",children:A.category})]}),A.instructor&&o.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:["with ",A.instructor]}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[o.jsxs("span",{children:[at(E,"h:mm a")," - ",at(C,"h:mm a")]}),o.jsxs("span",{children:[R," min"]}),A.availableSpots!==void 0&&o.jsxs("span",{children:[A.availableSpots," spots available"]})]})]}),A.isBooked&&o.jsx(cr,{variant:"default",className:"ml-2",children:"Booked"})]})},A.id)})})]},w)})})]})]})})]})},Xce=()=>{const[t,e]=j.useState([]),[r,n]=j.useState([]),[i,s]=j.useState(!0),[a,c]=j.useState(""),[u,h]=j.useState("all"),[g,v]=j.useState("all"),[w,b]=j.useState("all"),[A,E]=j.useState("upcoming"),[C,R]=j.useState(null),[I,P]=j.useState(!1),[L,T]=j.useState(!1),[D,M]=j.useState("calendar"),[$,V]=j.useState("month"),[K,H]=j.useState(null),{toast:z}=Bn(),{bookings:Z,createBooking:W,refreshBookings:G}=mV();j.useEffect(()=>{J()},[]);const J=async()=>{try{s(!0);const pe=new Date().toISOString(),{data:Re,error:_e}=await Se.from("class_sessions").select(`
          *,
          classes (
            name,
            category
          )
        `).gte("start_time",pe).order("start_time",{ascending:!0});if(_e)throw _e;e(Re||[]);const{data:we,error:Le}=await Se.from("classes").select("id, name, category").eq("is_active",!0).order("name",{ascending:!0});if(Le)throw Le;n(we||[])}catch(pe){Ft({title:"Error",description:pe.message||"Failed to fetch classes"})}finally{s(!1)}},ie=j.useMemo(()=>Array.from(new Set(t.map(Re=>Re.instructor).filter(Boolean))).sort(),[t]),ne=j.useMemo(()=>Array.from(new Set(t.map(Re=>Re.classes?.category||null).filter(Boolean))).sort(),[t]),ee=j.useMemo(()=>r.map(pe=>pe.name).sort(),[r]),de=j.useMemo(()=>t.map(pe=>{const _e=Z.filter(Oe=>Oe.class_id===pe.id&&(Oe.status==="booked"||Oe.status==="confirmed")).length,we=pe.capacity||0,Le=Math.max(0,we-_e),Fe=Z.filter(Oe=>Oe.class_id===pe.id&&(Oe.status==="booked"||Oe.status==="confirmed")).length>0,We=AO(Ut(pe.start_time),new Date);return{...pe,bookedCount:_e,availableSpots:Le,isBooked:Fe,isPast:We,category:pe.classes?.category||null}}),[t,Z]),se=j.useMemo(()=>{let pe=de;if(a){const Re=a.toLowerCase();pe=pe.filter(_e=>_e.name.toLowerCase().includes(Re)||_e.instructor?.toLowerCase().includes(Re)||_e.classes?.name.toLowerCase().includes(Re))}if(g!=="all"&&(pe=pe.filter(Re=>Re.classes?.name===g)),u!=="all"&&(pe=pe.filter(Re=>Re.category===u)),w!=="all"&&(pe=pe.filter(Re=>Re.instructor===w)),A==="today"){const Re=BR();pe=pe.filter(_e=>{const we=Ut(_e.start_time);return we>=Re&&we<new Date(Re.getTime()+1440*60*1e3)})}else if(A==="this-week"){const Re=BR(),_e=new Date(Re.getTime()+10080*60*1e3);pe=pe.filter(we=>{const Le=Ut(we.start_time);return Le>=Re&&Le<_e})}else A==="my-bookings"&&(pe=pe.filter(Re=>Re.isBooked));return pe},[de,a,g,u,w,A]),le=pe=>{if(pe.isBooked){z(xa.alreadyBooked());return}if(pe.availableSpots===0){z(xa.classFull());return}if(pe.isPast){Ft({title:"Cannot Book",description:"This class has already started."});return}R(pe),P(!0)},me=async()=>{if(C){T(!0);try{const pe=await W(C.id);pe.success?(z(xa.bookingCreated(C.name)),P(!1),R(null),await G()):z(xa.bookingFailed(pe.error))}catch(pe){z({variant:"destructive",title:"Error",description:pe.message||"An error occurred while booking."})}finally{T(!1)}}};return i?o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[o.jsx(Hr,{className:"h-10 w-64"}),o.jsxs("div",{className:"flex gap-4 mb-4",children:[o.jsx(Hr,{className:"h-10 w-32"}),o.jsx(Hr,{className:"h-10 w-32"}),o.jsx(Hr,{className:"h-10 w-40"})]}),o.jsx(Gce,{count:6})]})}):o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"container mx-auto max-w-7xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Available Classes"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Te,{variant:D==="grid"?"default":"outline",size:"sm",onClick:()=>M("grid"),children:[o.jsx(uY,{className:"w-4 h-4 mr-2"}),"Grid"]}),o.jsxs(Te,{variant:D==="calendar"?"default":"outline",size:"sm",onClick:()=>M("calendar"),children:[o.jsx(MB,{className:"w-4 h-4 mr-2"}),"Calendar"]})]})]}),o.jsx(Xe,{className:"mb-6",children:o.jsx(Ze,{className:"p-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:[o.jsxs("div",{className:"relative lg:col-span-2",children:[o.jsx(mj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),o.jsx(Nt,{placeholder:"Search classes...",value:a,onChange:pe=>c(pe.target.value),className:"pl-10"})]}),o.jsxs(_n,{value:g,onValueChange:v,children:[o.jsx(dn,{children:o.jsx(Sn,{placeholder:"All Classes"})}),o.jsxs(fn,{children:[o.jsx(bt,{value:"all",children:"All Classes"}),ee.map(pe=>o.jsx(bt,{value:pe,children:pe},pe))]})]}),o.jsxs(_n,{value:u,onValueChange:h,children:[o.jsx(dn,{children:o.jsx(Sn,{placeholder:"All Categories"})}),o.jsxs(fn,{children:[o.jsx(bt,{value:"all",children:"All Categories"}),ne.map(pe=>o.jsx(bt,{value:pe,children:pe},pe))]})]}),o.jsxs(_n,{value:w,onValueChange:b,children:[o.jsx(dn,{children:o.jsx(Sn,{placeholder:"All Instructors"})}),o.jsxs(fn,{children:[o.jsx(bt,{value:"all",children:"All Instructors"}),ie.map(pe=>o.jsx(bt,{value:pe,children:pe},pe))]})]}),(a||g!=="all"||u!=="all"||w!=="all"||A!=="upcoming")&&o.jsx(Te,{variant:"outline",onClick:()=>{c(""),v("all"),h("all"),b("all"),E("upcoming")},children:"Clear"})]})})}),o.jsxs("div",{className:"mb-4 text-sm text-muted-foreground",children:["Showing ",se.length," of ",t.length," classes"]}),D==="calendar"?o.jsx(Kce,{sessions:se.map(pe=>({id:pe.id,name:pe.name,instructor:pe.instructor,start_time:pe.start_time,end_time:pe.end_time,capacity:pe.capacity,category:pe.category,bookedCount:pe.bookedCount,availableSpots:pe.availableSpots,isBooked:pe.isBooked})),onDateClick:pe=>{H(pe),V("day")},onSessionClick:pe=>{const Re=se.find(_e=>_e.id===pe.id);Re&&le(Re)},selectedDate:K,viewMode:$,onViewModeChange:V}):se.length===0?o.jsx(Xe,{children:o.jsx(Ze,{className:"p-12 text-center",children:o.jsx("p",{className:"text-muted-foreground",children:a||g!=="all"||u!=="all"||w!=="all"||A!=="upcoming"?"No classes match your filters. Try adjusting your search.":"No classes available at the moment. Check back soon!"})})}):o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:se.map(pe=>o.jsx(Zce,{session:pe,onBookClick:le},pe.id))}),o.jsx(Xs,{open:I,onOpenChange:P,children:o.jsxs(Ss,{children:[o.jsxs(Es,{children:[o.jsx(Cs,{children:"Confirm Booking"}),o.jsx(Zs,{children:"Are you sure you want to book this class?"})]}),C&&o.jsxs("div",{className:"space-y-2 py-4",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:"Class:"}),o.jsx("span",{className:"text-sm",children:C.name})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:"Instructor:"}),o.jsx("span",{className:"text-sm",children:C.instructor||"TBA"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:"Date & Time:"}),o.jsx("span",{className:"text-sm",children:at(Ut(C.start_time),"MMM d, yyyy 'at' h:mm a")})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:"Duration:"}),o.jsxs("span",{className:"text-sm",children:[Math.round((Ut(C.end_time).getTime()-Ut(C.start_time).getTime())/6e4)," ","minutes"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:"Available Spots:"}),o.jsxs("span",{className:"text-sm",children:[C.availableSpots," of ",C.capacity||0]})]})]}),o.jsxs(wa,{children:[o.jsx(Te,{variant:"outline",onClick:()=>{P(!1),R(null)},disabled:L,children:"Cancel"}),o.jsx(Te,{onClick:me,disabled:L,children:L?o.jsxs(o.Fragment,{children:[o.jsx(Bi,{className:"w-4 h-4 mr-2 animate-spin"}),"Booking..."]}):"Confirm Booking"})]})]})})]})})},Zce=({session:t,onBookClick:e})=>{const r=Ut(t.start_time),n=Ut(t.end_time),i=Math.round((n.getTime()-r.getTime())/6e4),s=t.availableSpots===0,a=t.availableSpots>0&&t.availableSpots<=3;return o.jsxs(Xe,{className:"hover:shadow-lg transition-shadow overflow-hidden flex flex-col",children:[o.jsxs(Ot,{children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s&&o.jsx(cr,{variant:"destructive",children:"Full"}),a&&!s&&o.jsx(cr,{variant:"secondary",children:"Few Spots Left"}),t.isBooked&&o.jsx(cr,{variant:"default",children:"Booked"})]}),o.jsx(Lt,{children:t.name}),o.jsx(mr,{children:t.instructor?`with ${t.instructor}`:"Instructor TBA"})]}),o.jsxs(Ze,{className:"space-y-4 flex-1 flex flex-col",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(ei,{className:"w-4 h-4"}),o.jsx("span",{children:at(r,"MMM d, yyyy 'at' h:mm a")})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(ul,{className:"w-4 h-4"}),o.jsxs("span",{children:[i," minutes"]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(wl,{className:"w-4 h-4"}),o.jsxs("span",{children:[t.availableSpots," of ",t.capacity||0," spots available"]})]}),o.jsx(Te,{className:"w-full mt-auto",onClick:()=>e(t),disabled:t.isBooked||s||t.isPast,variant:t.isBooked?"secondary":"default",children:t.isBooked?"Already Booked":s?"Fully Booked":t.isPast?"Past Class":"Book Class"})]})]})};var cx="Tabs",[Qce]=Ji(cx,[G1]),gV=G1(),[Jce,IO]=Qce(cx),vV=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:c,activationMode:u="automatic",...h}=t,g=z1(c),[v,w]=Za({prop:n,onChange:i,defaultProp:s??"",caller:cx});return o.jsx(Jce,{scope:r,baseId:_a(),value:v,onValueChange:w,orientation:a,dir:g,activationMode:u,children:o.jsx(Tt.div,{dir:g,"data-orientation":a,...h,ref:e})})});vV.displayName=cx;var yV="TabsList",xV=j.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,s=IO(yV,r),a=gV(r);return o.jsx(d9,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:n,children:o.jsx(Tt.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});xV.displayName=yV;var wV="TabsTrigger",bV=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=t,a=IO(wV,r),c=gV(r),u=EV(a.baseId,n),h=CV(a.baseId,n),g=n===a.value;return o.jsx(f9,{asChild:!0,...c,focusable:!i,active:g,children:o.jsx(Tt.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":h,"data-state":g?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...s,ref:e,onMouseDown:ot(t.onMouseDown,v=>{!i&&v.button===0&&v.ctrlKey===!1?a.onValueChange(n):v.preventDefault()}),onKeyDown:ot(t.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&a.onValueChange(n)}),onFocus:ot(t.onFocus,()=>{const v=a.activationMode!=="manual";!g&&!i&&v&&a.onValueChange(n)})})})});bV.displayName=wV;var _V="TabsContent",SV=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...a}=t,c=IO(_V,r),u=EV(c.baseId,n),h=CV(c.baseId,n),g=n===c.value,v=j.useRef(g);return j.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),o.jsx(js,{present:i||g,children:({present:w})=>o.jsx(Tt.div,{"data-state":g?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!w,id:h,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:v.current?"0s":void 0},children:w&&s})})});SV.displayName=_V;function EV(t,e){return`${t}-trigger-${e}`}function CV(t,e){return`${t}-content-${e}`}var eue=vV,AV=xV,NV=bV,jV=SV;const Pg=eue,Th=j.forwardRef(({className:t,...e},r)=>o.jsx(AV,{ref:r,className:De("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Th.displayName=AV.displayName;const Yi=j.forwardRef(({className:t,...e},r)=>o.jsx(NV,{ref:r,className:De("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));Yi.displayName=NV.displayName;const Xi=j.forwardRef(({className:t,...e},r)=>o.jsx(jV,{ref:r,className:De("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Xi.displayName=jV.displayName;var OV="AlertDialog",[tue]=Ji(OV,[VF]),_l=VF(),TV=t=>{const{__scopeAlertDialog:e,...r}=t,n=_l(e);return o.jsx(Xj,{...n,...r,modal:!0})};TV.displayName=OV;var rue="AlertDialogTrigger",nue=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=_l(r);return o.jsx(iU,{...i,...n,ref:e})});nue.displayName=rue;var iue="AlertDialogPortal",kV=t=>{const{__scopeAlertDialog:e,...r}=t,n=_l(e);return o.jsx(Zj,{...n,...r})};kV.displayName=iue;var sue="AlertDialogOverlay",PV=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=_l(r);return o.jsx(Eg,{...i,...n,ref:e})});PV.displayName=sue;var Af="AlertDialogContent",[aue,oue]=tue(Af),lue=lB("AlertDialogContent"),IV=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,s=_l(r),a=j.useRef(null),c=br(e,a),u=j.useRef(null);return o.jsx(jre,{contentName:Af,titleName:RV,docsSlug:"alert-dialog",children:o.jsx(aue,{scope:r,cancelRef:u,children:o.jsxs(Cg,{role:"alertdialog",...s,...i,ref:c,onOpenAutoFocus:ot(i.onOpenAutoFocus,h=>{h.preventDefault(),u.current?.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[o.jsx(lue,{children:n}),o.jsx(uue,{contentRef:a})]})})})});IV.displayName=Af;var RV="AlertDialogTitle",MV=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=_l(r);return o.jsx(Ag,{...i,...n,ref:e})});MV.displayName=RV;var DV="AlertDialogDescription",LV=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=_l(r);return o.jsx(Ng,{...i,...n,ref:e})});LV.displayName=DV;var cue="AlertDialogAction",BV=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=_l(r);return o.jsx(tx,{...i,...n,ref:e})});BV.displayName=cue;var FV="AlertDialogCancel",UV=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=oue(FV,r),s=_l(r),a=br(e,i);return o.jsx(tx,{...s,...n,ref:a})});UV.displayName=FV;var uue=({contentRef:t})=>{const e=`\`${Af}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Af}\` by passing a \`${DV}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Af}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return j.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},due=TV,fue=kV,$V=PV,VV=IV,qV=BV,WV=UV,zV=MV,HV=LV;const RO=due,hue=fue,GV=j.forwardRef(({className:t,...e},r)=>o.jsx($V,{className:De("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));GV.displayName=$V.displayName;const ux=j.forwardRef(({className:t,...e},r)=>o.jsxs(hue,{children:[o.jsx(GV,{}),o.jsx(VV,{ref:r,className:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));ux.displayName=VV.displayName;const dx=({className:t,...e})=>o.jsx("div",{className:De("flex flex-col space-y-2 text-center sm:text-left",t),...e});dx.displayName="AlertDialogHeader";const fx=({className:t,...e})=>o.jsx("div",{className:De("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});fx.displayName="AlertDialogFooter";const hx=j.forwardRef(({className:t,...e},r)=>o.jsx(zV,{ref:r,className:De("text-lg font-semibold",t),...e}));hx.displayName=zV.displayName;const px=j.forwardRef(({className:t,...e},r)=>o.jsx(HV,{ref:r,className:De("text-sm text-muted-foreground",t),...e}));px.displayName=HV.displayName;const mx=j.forwardRef(({className:t,...e},r)=>o.jsx(qV,{ref:r,className:De(vm(),t),...e}));mx.displayName=qV.displayName;const gx=j.forwardRef(({className:t,...e},r)=>o.jsx(WV,{ref:r,className:De(vm({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));gx.displayName=WV.displayName;const pue=()=>o.jsxs(Xe,{children:[o.jsx(Ot,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"space-y-2 flex-1",children:[o.jsx(Hr,{className:"h-6 w-3/4"}),o.jsx(Hr,{className:"h-4 w-1/2"})]}),o.jsx(Hr,{className:"h-6 w-16 rounded-full"})]})}),o.jsxs(Ze,{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Hr,{className:"h-4 w-4 rounded-full"}),o.jsx(Hr,{className:"h-4 w-32"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Hr,{className:"h-4 w-4 rounded-full"}),o.jsx(Hr,{className:"h-4 w-40"})]}),o.jsx("div",{className:"flex gap-2 mt-4",children:o.jsx(Hr,{className:"h-9 w-20"})})]})]}),mue=({count:t=4})=>o.jsx("div",{className:"space-y-4",children:Array.from({length:t}).map((e,r)=>o.jsx(pue,{},r))}),gue=({bookings:t,onDateClick:e,onBookingClick:r,selectedDate:n,viewMode:i="month",onViewModeChange:s})=>{const[a,c]=j.useState(new Date),u=j.useMemo(()=>t.filter(P=>P.class_sessions!==null),[t]),h=j.useMemo(()=>{const P=new Map;return u.forEach(L=>{if(L.class_sessions?.start_time){const T=at(Ut(L.class_sessions.start_time),"yyyy-MM-dd");P.has(T)||P.set(T,[]),P.get(T).push(L)}}),P},[u]),g=P=>{const L=at(P,"yyyy-MM-dd");return h.get(L)||[]},v=Hn(a),w=Ah(a),b=Ni(v),A=bl(w),E=Nh({start:b,end:A}),C=()=>{c(NO(a))},R=()=>{c(Qi(a,1))},I=P=>{e?.(P),s&&s("day")};return i==="day"&&n?o.jsx(vue,{date:n,bookings:g(n),onBookingClick:r,onBack:()=>{s&&s("month")},onDateChange:P=>{c(Hn(P)),e?.(P)}}):o.jsxs(Xe,{children:[o.jsx(Ot,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Lt,{className:"text-2xl font-bold",children:at(a,"MMMM yyyy")}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Te,{variant:"outline",size:"icon",onClick:C,children:o.jsx(Qa,{className:"h-4 w-4"})}),o.jsx(Te,{variant:"outline",size:"icon",onClick:R,children:o.jsx(xl,{className:"h-4 w-4"})}),o.jsx(Te,{variant:"outline",onClick:()=>c(new Date),children:"Today"})]})]})}),o.jsx(Ze,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-7 gap-1",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(P=>o.jsx("div",{className:"text-center text-sm font-medium text-muted-foreground py-2",children:P},P))}),o.jsx("div",{className:"border-t border-border"}),o.jsx("div",{className:"space-y-0",children:Array.from({length:Math.ceil(E.length/7)},(P,L)=>{const T=L*7,D=E.slice(T,T+7);return o.jsxs("div",{children:[o.jsx("div",{className:"grid grid-cols-7",children:D.map((M,$)=>{const V=g(M),K=jh(M,a),H=Jr(M,new Date),z=n&&Jr(M,n);return o.jsxs("div",{className:De("min-h-[100px] p-2 cursor-pointer transition-colors",!K&&"opacity-40",H&&"bg-primary/5",z&&"bg-primary/10","hover:bg-accent"),onClick:()=>I(M),children:[o.jsx("div",{className:De("text-sm font-semibold mb-1",H&&"text-primary",z&&"text-primary"),children:at(M,"d")}),o.jsxs("div",{className:"space-y-1",children:[V.slice(0,3).map(Z=>Z.class_sessions?o.jsx(cr,{variant:Z.status==="cancelled"?"secondary":"default",className:De("w-full text-xs truncate cursor-pointer",Z.status==="cancelled"?"opacity-50 line-through":"hover:bg-primary hover:text-primary-foreground"),onClick:W=>{W.stopPropagation(),r?.(Z)},children:Z.class_sessions.name},Z.id):null),V.length>3&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",V.length-3," more"]})]})]},$)})}),L<Math.ceil(E.length/7)-1&&o.jsx("div",{className:"border-t border-border my-0"})]},L)})})]})})]})},vue=({date:t,bookings:e,onBookingClick:r,onBack:n,onDateChange:i})=>{const s=Ni(t),a=Nh({start:s,end:bl(t)}),c=j.useMemo(()=>[...e].filter(b=>b.class_sessions!==null).sort((b,A)=>{const E=b.class_sessions?.start_time?Ut(b.class_sessions.start_time).getTime():0,C=A.class_sessions?.start_time?Ut(A.class_sessions.start_time).getTime():0;return E-C}),[e]),u=j.useMemo(()=>{const b=new Map;return c.forEach(A=>{if(A.class_sessions?.start_time){const E=Ut(A.class_sessions.start_time).getHours();b.has(E)||b.set(E,[]),b.get(E).push(A)}}),b},[c]),h=Array.from({length:17},(b,A)=>A+6),g=()=>{const b=new Date(t);b.setDate(b.getDate()-1),i(b)},v=()=>{const b=new Date(t);b.setDate(b.getDate()+1),i(b)},w=b=>{switch(b.toLowerCase()){case"booked":case"confirmed":return o.jsx(cr,{variant:"default",children:"Booked"});case"cancelled":return o.jsx(cr,{variant:"secondary",children:"Cancelled"});case"attended":return o.jsx(cr,{variant:"outline",children:"Attended"});case"no_show":return o.jsx(cr,{variant:"destructive",children:"No Show"});default:return o.jsx(cr,{variant:"secondary",children:b})}};return o.jsxs(Xe,{children:[o.jsx(Ot,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Te,{variant:"outline",size:"icon",onClick:n,children:o.jsx(Qa,{className:"h-4 w-4"})}),o.jsx(Lt,{className:"text-2xl font-bold",children:at(t,"EEEE, MMMM d, yyyy")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Te,{variant:"outline",size:"icon",onClick:g,children:o.jsx(Qa,{className:"h-4 w-4"})}),o.jsx(Te,{variant:"outline",size:"icon",onClick:v,children:o.jsx(xl,{className:"h-4 w-4"})}),o.jsx(Te,{variant:"outline",onClick:()=>i(new Date),children:"Today"})]})]})}),o.jsx(Ze,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex gap-2",children:a.map(b=>{const A=Jr(b,t),E=Jr(b,new Date);return o.jsxs("button",{onClick:()=>i(b),className:De("flex-1 p-3 rounded-lg border transition-colors text-center",A&&"bg-primary text-primary-foreground border-primary",!A&&"hover:bg-accent",E&&!A&&"border-primary"),children:[o.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:at(b,"EEE")}),o.jsx("div",{className:"text-lg font-semibold",children:at(b,"d")})]},b.toISOString())})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"My Bookings"}),c.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(ei,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No bookings scheduled for this day"})]}):o.jsx("div",{className:"space-y-2",children:h.map(b=>{const A=u.get(b)||[];return A.length===0?null:o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"w-16 text-sm text-muted-foreground pt-2",children:at(new Date().setHours(b,0,0,0),"h:mm a")}),o.jsx("div",{className:"flex-1 space-y-2",children:A.map(E=>{if(!E.class_sessions)return null;const C=Ut(E.class_sessions.start_time),R=Ut(E.class_sessions.end_time),I=(R.getTime()-C.getTime())/(1e3*60);return o.jsx("div",{onClick:()=>r?.(E),className:De("p-4 rounded-lg border cursor-pointer transition-colors","hover:shadow-md hover:border-primary",E.status==="cancelled"&&"opacity-50",E.status==="booked"&&"bg-primary/5 border-primary/20"),children:o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h4",{className:"font-semibold",children:E.class_sessions.name}),w(E.status)]}),E.class_sessions.instructor&&o.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:["with ",E.class_sessions.instructor]}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[o.jsxs("span",{children:[at(C,"h:mm a")," - ",at(R,"h:mm a")]}),o.jsxs("span",{children:[I," min"]}),E.class_sessions.capacity&&o.jsxs("span",{children:["Capacity: ",E.class_sessions.capacity]})]})]})})},E.id)})})]},b)})})]})]})})]})},yue=()=>{const[t,e]=j.useState("calendar"),[r,n]=j.useState("month"),[i,s]=j.useState(null),[a,c]=j.useState(!1),[u,h]=j.useState(!1),[g,v]=j.useState(!1),[w,b]=j.useState(null),{toast:A}=Bn(),{bookings:E,loading:C,cancelBooking:R,refreshBookings:I}=mV(),{upcomingBookings:P,pastBookings:L}=j.useMemo(()=>{const z=new Date,Z=[],W=[];return E.forEach(G=>{if(G.class_sessions?.start_time){const J=Ut(G.class_sessions.start_time);Nm(J,z)||Jr(J,z)?Z.push(G):W.push(G)}else W.push(G)}),Z.sort((G,J)=>{const ie=G.class_sessions?.start_time?Ut(G.class_sessions.start_time).getTime():0,ne=J.class_sessions?.start_time?Ut(J.class_sessions.start_time).getTime():0;return ie-ne}),W.sort((G,J)=>{const ie=G.class_sessions?.start_time?Ut(G.class_sessions.start_time).getTime():0;return(J.class_sessions?.start_time?Ut(J.class_sessions.start_time).getTime():0)-ie}),{upcomingBookings:Z,pastBookings:W}},[E]),T=z=>{s(z),c(!0)},D=z=>{b(z)},M=z=>{s(z),c(!0)},$=z=>{s(z),h(!0)},V=async()=>{if(i){v(!0);try{const z=await R(i.id);z.success?(A(xa.bookingCancelled()),h(!1),s(null),await I()):A(xa.cancellationFailed(z.error))}catch(z){Ft({title:"Error",description:z.message||"An error occurred while cancelling the booking."})}finally{v(!1)}}},K=z=>{switch(z.toLowerCase()){case"booked":case"confirmed":return o.jsx(cr,{variant:"default",children:"Booked"});case"cancelled":return o.jsx(cr,{variant:"secondary",children:"Cancelled"});case"attended":return o.jsx(cr,{variant:"outline",children:"Attended"});case"no_show":return o.jsx(cr,{variant:"destructive",children:"No Show"});default:return o.jsx(cr,{variant:"secondary",children:z})}},H=z=>{if(z.status==="cancelled"||!z.class_sessions?.start_time)return!1;const Z=Ut(z.class_sessions.start_time),W=new Date;return(Z.getTime()-W.getTime())/(1e3*60*60)>=24&&Nm(Z,W)};return C?o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"container mx-auto max-w-7xl",children:[o.jsx(Hr,{className:"h-10 w-48 mb-8"}),o.jsxs("div",{className:"flex gap-4 mb-6",children:[o.jsx(Hr,{className:"h-10 w-32"}),o.jsx(Hr,{className:"h-10 w-32"})]}),o.jsx(mue,{count:4})]})}):o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"container mx-auto max-w-7xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"My Bookings"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Te,{variant:t==="list"?"default":"outline",size:"sm",onClick:()=>e("list"),children:[o.jsx(fY,{className:"w-4 h-4 mr-2"}),"List"]}),o.jsxs(Te,{variant:t==="calendar"?"default":"outline",size:"sm",onClick:()=>e("calendar"),children:[o.jsx(MB,{className:"w-4 h-4 mr-2"}),"Calendar"]})]})]}),t==="list"?o.jsxs(Pg,{defaultValue:"upcoming",className:"w-full",children:[o.jsxs(Th,{children:[o.jsxs(Yi,{value:"upcoming",children:["Upcoming (",P.length,")"]}),o.jsxs(Yi,{value:"past",children:["Past (",L.length,")"]})]}),o.jsx(Xi,{value:"upcoming",className:"mt-6",children:P.length===0?o.jsx(Xe,{children:o.jsx(Ze,{className:"p-12 text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"You don't have any upcoming bookings. Book a class to get started!"})})}):o.jsx("div",{className:"space-y-4",children:P.map(z=>o.jsx(VR,{booking:z,onViewDetails:M,onCancel:$,getStatusBadge:K,canCancel:H},z.id))})}),o.jsx(Xi,{value:"past",className:"mt-6",children:L.length===0?o.jsx(Xe,{children:o.jsx(Ze,{className:"p-12 text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"No past bookings."})})}):o.jsx("div",{className:"space-y-4",children:L.map(z=>o.jsx(VR,{booking:z,onViewDetails:M,onCancel:$,getStatusBadge:K,canCancel:H},z.id))})})]}):o.jsx(gue,{bookings:E,selectedDate:w,viewMode:r,onViewModeChange:n,onDateClick:D,onBookingClick:T}),o.jsx(Xs,{open:a,onOpenChange:c,children:o.jsxs(Ss,{className:"max-w-2xl",children:[o.jsxs(Es,{children:[o.jsx(Cs,{children:"Booking Details"}),o.jsx(Zs,{children:"View full details of your booking"})]}),i&&i.class_sessions&&o.jsx("div",{className:"space-y-4 py-4",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Class Name"}),o.jsx("p",{className:"text-base",children:i.class_sessions.name})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),o.jsx("div",{children:K(i.status)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Instructor"}),o.jsx("p",{className:"text-base",children:i.class_sessions.instructor||"TBA"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Capacity"}),o.jsxs("p",{className:"text-base",children:[i.class_sessions.capacity||"N/A"," participants"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Start Time"}),o.jsx("p",{className:"text-base",children:at(Ut(i.class_sessions.start_time),"MMM d, yyyy 'at' h:mm a")})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"End Time"}),o.jsx("p",{className:"text-base",children:at(Ut(i.class_sessions.end_time),"MMM d, yyyy 'at' h:mm a")})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Duration"}),o.jsxs("p",{className:"text-base",children:[Math.round((Ut(i.class_sessions.end_time).getTime()-Ut(i.class_sessions.start_time).getTime())/6e4)," ","minutes"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Booked On"}),o.jsx("p",{className:"text-base",children:at(Ut(i.created_at),"MMM d, yyyy 'at' h:mm a")})]})]})})]})}),o.jsx(RO,{open:u,onOpenChange:h,children:o.jsxs(ux,{children:[o.jsxs(dx,{children:[o.jsx(hx,{children:"Cancel Booking"}),o.jsxs(px,{children:["Are you sure you want to cancel this booking? This action cannot be undone.",i?.class_sessions?.start_time&&o.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-md",children:[o.jsx("p",{className:"font-medium mb-2",children:i.class_sessions.name}),o.jsx("p",{className:"text-sm",children:at(Ut(i.class_sessions.start_time),"MMM d, yyyy 'at' h:mm a")})]})]})]}),o.jsxs(fx,{children:[o.jsx(gx,{disabled:g,children:"Keep Booking"}),o.jsx(mx,{onClick:V,disabled:g,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:g?o.jsxs(o.Fragment,{children:[o.jsx(Bi,{className:"w-4 h-4 mr-2 animate-spin"}),"Cancelling..."]}):"Cancel Booking"})]})]})})]})})},VR=({booking:t,onViewDetails:e,onCancel:r,getStatusBadge:n,canCancel:i})=>{if(!t.class_sessions)return null;const s=Ut(t.class_sessions.start_time),a=Ut(t.class_sessions.end_time),c=Math.round((a.getTime()-s.getTime())/6e4);return o.jsxs(Xe,{className:"hover:shadow-md transition-shadow",children:[o.jsx(Ot,{children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(Lt,{className:"mb-1",children:t.class_sessions.name}),o.jsxs(mr,{children:["with ",t.class_sessions.instructor||"TBA"]})]}),n(t.status)]})}),o.jsxs(Ze,{children:[o.jsxs("div",{className:"space-y-3 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(ei,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{children:at(s,"MMM d, yyyy")})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(ul,{className:"w-4 h-4 text-muted-foreground"}),o.jsxs("span",{children:[at(s,"h:mm a")," - ",at(a,"h:mm a")," (",c," min)"]})]}),t.class_sessions.capacity&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(wl,{className:"w-4 h-4 text-muted-foreground"}),o.jsxs("span",{children:["Capacity: ",t.class_sessions.capacity]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Te,{variant:"outline",onClick:()=>e(t),className:"flex-1",children:"View Details"}),i(t)&&o.jsx(Te,{variant:"outline",onClick:()=>r(t),className:"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:"Cancel"})]})]})]})};var gt;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(gt||(gt={}));var qR=new Map([[gt.QR_CODE,"QR_CODE"],[gt.AZTEC,"AZTEC"],[gt.CODABAR,"CODABAR"],[gt.CODE_39,"CODE_39"],[gt.CODE_93,"CODE_93"],[gt.CODE_128,"CODE_128"],[gt.DATA_MATRIX,"DATA_MATRIX"],[gt.MAXICODE,"MAXICODE"],[gt.ITF,"ITF"],[gt.EAN_13,"EAN_13"],[gt.EAN_8,"EAN_8"],[gt.PDF_417,"PDF_417"],[gt.RSS_14,"RSS_14"],[gt.RSS_EXPANDED,"RSS_EXPANDED"],[gt.UPC_A,"UPC_A"],[gt.UPC_E,"UPC_E"],[gt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),WR;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(WR||(WR={}));function xue(t){return Object.values(gt).includes(t)}var Ey;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Ey||(Ey={}));var wue=(function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[Ey.SCAN_TYPE_CAMERA,Ey.SCAN_TYPE_FILE],t})(),KV=(function(){function t(e,r){this.format=e,this.formatName=r}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!qR.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,qR.get(e))},t})(),zR=(function(){function t(){}return t.createFromText=function(e){var r={text:e};return{decodedText:e,result:r}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t})(),DA;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(DA||(DA={}));var bue=(function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:DA.UNKWOWN_ERROR}},t})(),_ue=(function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,r){(this.verbose||r===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t})();function Jo(t){return typeof t>"u"||t===null}var pf=(function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t})(),YV=(function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,r){if(typeof e!="object"){var n=typeof e;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),a=Object.keys(e),c=0,u=a;c<u.length;c++){var h=u[c];if(s.has(h))return r.logError("".concat(h," is not supported videoConstaints."),!0),!1}return!0},t})(),Gp={exports:{}},Sue=Gp.exports,HR;function Eue(){return HR||(HR=1,(function(t,e){(function(r,n){n(e)})(Sue,(function(r){function n(Y){return Y==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,l){Y.__proto__=l}||function(Y,l){for(var f in l)l.hasOwnProperty(f)&&(Y[f]=l[f])};function s(Y,l){i(Y,l);function f(){this.constructor=Y}Y.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}function a(Y,l){var f=Object.setPrototypeOf;f?f(Y,l):Y.__proto__=l}function c(Y,l){l===void 0&&(l=Y.constructor);var f=Error.captureStackTrace;f&&f(Y,l)}var u=(function(Y){s(l,Y);function l(f){var p=this.constructor,y=Y.call(this,f)||this;return Object.defineProperty(y,"name",{value:p.name,enumerable:!1}),a(y,p.prototype),c(y),y}return l})(Error);class h extends u{constructor(l=void 0){super(l),this.message=l}getKind(){return this.constructor.kind}}h.kind="Exception";class g extends h{}g.kind="ArgumentException";class v extends h{}v.kind="IllegalArgumentException";class w{constructor(l){if(this.binarizer=l,l===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(l,f){return this.binarizer.getBlackRow(l,f)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(l,f,p,y){const x=this.binarizer.getLuminanceSource().crop(l,f,p,y);return new w(this.binarizer.createBinarizer(x))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new w(this.binarizer.createBinarizer(l))}rotateCounterClockwise45(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new w(this.binarizer.createBinarizer(l))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class b extends h{static getChecksumInstance(){return new b}}b.kind="ChecksumException";class A{constructor(l){this.source=l}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class E{static arraycopy(l,f,p,y,x){for(;x--;)p[y++]=l[f++]}static currentTimeMillis(){return Date.now()}}class C extends h{}C.kind="IndexOutOfBoundsException";class R extends C{constructor(l=void 0,f=void 0){super(f),this.index=l,this.message=f}}R.kind="ArrayIndexOutOfBoundsException";class I{static fill(l,f){for(let p=0,y=l.length;p<y;p++)l[p]=f}static fillWithin(l,f,p,y){I.rangeCheck(l.length,f,p);for(let x=f;x<p;x++)l[x]=y}static rangeCheck(l,f,p){if(f>p)throw new v("fromIndex("+f+") > toIndex("+p+")");if(f<0)throw new R(f);if(p>l)throw new R(p)}static asList(...l){return l}static create(l,f,p){return Array.from({length:l}).map(x=>Array.from({length:f}).fill(p))}static createInt32Array(l,f,p){return Array.from({length:l}).map(x=>Int32Array.from({length:f}).fill(p))}static equals(l,f){if(!l||!f||!l.length||!f.length||l.length!==f.length)return!1;for(let p=0,y=l.length;p<y;p++)if(l[p]!==f[p])return!1;return!0}static hashCode(l){if(l===null)return 0;let f=1;for(const p of l)f=31*f+p;return f}static fillUint8Array(l,f){for(let p=0;p!==l.length;p++)l[p]=f}static copyOf(l,f){return l.slice(0,f)}static copyOfUint8Array(l,f){if(l.length<=f){const p=new Uint8Array(f);return p.set(l),p}return l.slice(0,f)}static copyOfRange(l,f,p){const y=p-f,x=new Int32Array(y);return E.arraycopy(l,f,x,0,y),x}static binarySearch(l,f,p){p===void 0&&(p=I.numberComparator);let y=0,x=l.length-1;for(;y<=x;){const _=x+y>>1,N=p(f,l[_]);if(N>0)y=_+1;else if(N<0)x=_-1;else return _}return-y-1}static numberComparator(l,f){return l-f}}class P{static numberOfTrailingZeros(l){let f;if(l===0)return 32;let p=31;return f=l<<16,f!==0&&(p-=16,l=f),f=l<<8,f!==0&&(p-=8,l=f),f=l<<4,f!==0&&(p-=4,l=f),f=l<<2,f!==0&&(p-=2,l=f),p-(l<<1>>>31)}static numberOfLeadingZeros(l){if(l===0)return 32;let f=1;return l>>>16||(f+=16,l<<=16),l>>>24||(f+=8,l<<=8),l>>>28||(f+=4,l<<=4),l>>>30||(f+=2,l<<=2),f-=l>>>31,f}static toHexString(l){return l.toString(16)}static toBinaryString(l){return String(parseInt(String(l),2))}static bitCount(l){return l=l-(l>>>1&1431655765),l=(l&858993459)+(l>>>2&858993459),l=l+(l>>>4)&252645135,l=l+(l>>>8),l=l+(l>>>16),l&63}static truncDivision(l,f){return Math.trunc(l/f)}static parseInt(l,f=void 0){return parseInt(l,f)}}P.MIN_VALUE_32_BITS=-2147483648,P.MAX_VALUE=Number.MAX_SAFE_INTEGER;class L{constructor(l,f){l===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=l,f==null?this.bits=L.makeArray(l):this.bits=f)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(l){if(l>this.bits.length*32){const f=L.makeArray(l);E.arraycopy(this.bits,0,f,0,this.bits.length),this.bits=f}}get(l){return(this.bits[Math.floor(l/32)]&1<<(l&31))!==0}set(l){this.bits[Math.floor(l/32)]|=1<<(l&31)}flip(l){this.bits[Math.floor(l/32)]^=1<<(l&31)}getNextSet(l){const f=this.size;if(l>=f)return f;const p=this.bits;let y=Math.floor(l/32),x=p[y];x&=~((1<<(l&31))-1);const _=p.length;for(;x===0;){if(++y===_)return f;x=p[y]}const N=y*32+P.numberOfTrailingZeros(x);return N>f?f:N}getNextUnset(l){const f=this.size;if(l>=f)return f;const p=this.bits;let y=Math.floor(l/32),x=~p[y];x&=~((1<<(l&31))-1);const _=p.length;for(;x===0;){if(++y===_)return f;x=~p[y]}const N=y*32+P.numberOfTrailingZeros(x);return N>f?f:N}setBulk(l,f){this.bits[Math.floor(l/32)]=f}setRange(l,f){if(f<l||l<0||f>this.size)throw new v;if(f===l)return;f--;const p=Math.floor(l/32),y=Math.floor(f/32),x=this.bits;for(let _=p;_<=y;_++){const N=_>p?0:l&31,B=(2<<(_<y?31:f&31))-(1<<N);x[_]|=B}}clear(){const l=this.bits.length,f=this.bits;for(let p=0;p<l;p++)f[p]=0}isRange(l,f,p){if(f<l||l<0||f>this.size)throw new v;if(f===l)return!0;f--;const y=Math.floor(l/32),x=Math.floor(f/32),_=this.bits;for(let N=y;N<=x;N++){const k=N>y?0:l&31,q=(2<<(N<x?31:f&31))-(1<<k)&4294967295;if((_[N]&q)!==(p?q:0))return!1}return!0}appendBit(l){this.ensureCapacity(this.size+1),l&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(l,f){if(f<0||f>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+f);for(let p=f;p>0;p--)this.appendBit((l>>p-1&1)===1)}appendBitArray(l){const f=l.size;this.ensureCapacity(this.size+f);for(let p=0;p<f;p++)this.appendBit(l.get(p))}xor(l){if(this.size!==l.size)throw new v("Sizes don't match");const f=this.bits;for(let p=0,y=f.length;p<y;p++)f[p]^=l.bits[p]}toBytes(l,f,p,y){for(let x=0;x<y;x++){let _=0;for(let N=0;N<8;N++)this.get(l)&&(_|=1<<7-N),l++;f[p+x]=_}}getBitArray(){return this.bits}reverse(){const l=new Int32Array(this.bits.length),f=Math.floor((this.size-1)/32),p=f+1,y=this.bits;for(let x=0;x<p;x++){let _=y[x];_=_>>1&1431655765|(_&1431655765)<<1,_=_>>2&858993459|(_&858993459)<<2,_=_>>4&252645135|(_&252645135)<<4,_=_>>8&16711935|(_&16711935)<<8,_=_>>16&65535|(_&65535)<<16,l[f-x]=_}if(this.size!==p*32){const x=p*32-this.size;let _=l[0]>>>x;for(let N=1;N<p;N++){const k=l[N];_|=k<<32-x,l[N-1]=_,_=k>>>x}l[p-1]=_}this.bits=l}static makeArray(l){return new Int32Array(Math.floor((l+31)/32))}equals(l){if(!(l instanceof L))return!1;const f=l;return this.size===f.size&&I.equals(this.bits,f.bits)}hashCode(){return 31*this.size+I.hashCode(this.bits)}toString(){let l="";for(let f=0,p=this.size;f<p;f++)(f&7)===0&&(l+=" "),l+=this.get(f)?"X":".";return l}clone(){return new L(this.size,this.bits.slice())}}var T;(function(Y){Y[Y.OTHER=0]="OTHER",Y[Y.PURE_BARCODE=1]="PURE_BARCODE",Y[Y.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",Y[Y.TRY_HARDER=3]="TRY_HARDER",Y[Y.CHARACTER_SET=4]="CHARACTER_SET",Y[Y.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",Y[Y.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",Y[Y.ASSUME_GS1=7]="ASSUME_GS1",Y[Y.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",Y[Y.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",Y[Y.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(T||(T={}));var D=T;class M extends h{static getFormatInstance(){return new M}}M.kind="FormatException";var $;(function(Y){Y[Y.Cp437=0]="Cp437",Y[Y.ISO8859_1=1]="ISO8859_1",Y[Y.ISO8859_2=2]="ISO8859_2",Y[Y.ISO8859_3=3]="ISO8859_3",Y[Y.ISO8859_4=4]="ISO8859_4",Y[Y.ISO8859_5=5]="ISO8859_5",Y[Y.ISO8859_6=6]="ISO8859_6",Y[Y.ISO8859_7=7]="ISO8859_7",Y[Y.ISO8859_8=8]="ISO8859_8",Y[Y.ISO8859_9=9]="ISO8859_9",Y[Y.ISO8859_10=10]="ISO8859_10",Y[Y.ISO8859_11=11]="ISO8859_11",Y[Y.ISO8859_13=12]="ISO8859_13",Y[Y.ISO8859_14=13]="ISO8859_14",Y[Y.ISO8859_15=14]="ISO8859_15",Y[Y.ISO8859_16=15]="ISO8859_16",Y[Y.SJIS=16]="SJIS",Y[Y.Cp1250=17]="Cp1250",Y[Y.Cp1251=18]="Cp1251",Y[Y.Cp1252=19]="Cp1252",Y[Y.Cp1256=20]="Cp1256",Y[Y.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",Y[Y.UTF8=22]="UTF8",Y[Y.ASCII=23]="ASCII",Y[Y.Big5=24]="Big5",Y[Y.GB18030=25]="GB18030",Y[Y.EUC_KR=26]="EUC_KR"})($||($={}));class V{constructor(l,f,p,...y){this.valueIdentifier=l,this.name=p,typeof f=="number"?this.values=Int32Array.from([f]):this.values=f,this.otherEncodingNames=y,V.VALUE_IDENTIFIER_TO_ECI.set(l,this),V.NAME_TO_ECI.set(p,this);const x=this.values;for(let _=0,N=x.length;_!==N;_++){const k=x[_];V.VALUES_TO_ECI.set(k,this)}for(const _ of y)V.NAME_TO_ECI.set(_,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(l){if(l<0||l>=900)throw new M("incorect value");const f=V.VALUES_TO_ECI.get(l);if(f===void 0)throw new M("incorect value");return f}static getCharacterSetECIByName(l){const f=V.NAME_TO_ECI.get(l);if(f===void 0)throw new M("incorect value");return f}equals(l){if(!(l instanceof V))return!1;const f=l;return this.getName()===f.getName()}}V.VALUE_IDENTIFIER_TO_ECI=new Map,V.VALUES_TO_ECI=new Map,V.NAME_TO_ECI=new Map,V.Cp437=new V($.Cp437,Int32Array.from([0,2]),"Cp437"),V.ISO8859_1=new V($.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),V.ISO8859_2=new V($.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),V.ISO8859_3=new V($.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),V.ISO8859_4=new V($.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),V.ISO8859_5=new V($.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),V.ISO8859_6=new V($.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),V.ISO8859_7=new V($.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),V.ISO8859_8=new V($.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),V.ISO8859_9=new V($.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),V.ISO8859_10=new V($.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),V.ISO8859_11=new V($.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),V.ISO8859_13=new V($.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),V.ISO8859_14=new V($.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),V.ISO8859_15=new V($.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),V.ISO8859_16=new V($.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),V.SJIS=new V($.SJIS,20,"SJIS","Shift_JIS"),V.Cp1250=new V($.Cp1250,21,"Cp1250","windows-1250"),V.Cp1251=new V($.Cp1251,22,"Cp1251","windows-1251"),V.Cp1252=new V($.Cp1252,23,"Cp1252","windows-1252"),V.Cp1256=new V($.Cp1256,24,"Cp1256","windows-1256"),V.UnicodeBigUnmarked=new V($.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),V.UTF8=new V($.UTF8,26,"UTF8","UTF-8"),V.ASCII=new V($.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),V.Big5=new V($.Big5,28,"Big5"),V.GB18030=new V($.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),V.EUC_KR=new V($.EUC_KR,30,"EUC_KR","EUC-KR");class K extends h{}K.kind="UnsupportedOperationException";class H{static decode(l,f){const p=this.encodingName(f);return this.customDecoder?this.customDecoder(l,p):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(p)?this.decodeFallback(l,p):new TextDecoder(p).decode(l)}static shouldDecodeOnFallback(l){return!H.isBrowser()&&l==="ISO-8859-1"}static encode(l,f){const p=this.encodingName(f);return this.customEncoder?this.customEncoder(l,p):typeof TextEncoder>"u"?this.encodeFallback(l):new TextEncoder().encode(l)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(l){return typeof l=="string"?l:l.getName()}static encodingCharacterSet(l){return l instanceof V?l:V.getCharacterSetECIByName(l)}static decodeFallback(l,f){const p=this.encodingCharacterSet(f);if(H.isDecodeFallbackSupported(p)){let y="";for(let x=0,_=l.length;x<_;x++){let N=l[x].toString(16);N.length<2&&(N="0"+N),y+="%"+N}return decodeURIComponent(y)}if(p.equals(V.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(l.buffer));throw new K(`Encoding ${this.encodingName(f)} not supported by fallback.`)}static isDecodeFallbackSupported(l){return l.equals(V.UTF8)||l.equals(V.ISO8859_1)||l.equals(V.ASCII)}static encodeFallback(l){const p=btoa(unescape(encodeURIComponent(l))).split(""),y=[];for(let x=0;x<p.length;x++)y.push(p[x].charCodeAt(0));return new Uint8Array(y)}}class z{static castAsNonUtf8Char(l,f=null){const p=f?f.getName():this.ISO88591;return H.decode(new Uint8Array([l]),p)}static guessEncoding(l,f){if(f!=null&&f.get(D.CHARACTER_SET)!==void 0)return f.get(D.CHARACTER_SET).toString();const p=l.length;let y=!0,x=!0,_=!0,N=0,k=0,B=0,q=0,X=0,te=0,ce=0,ge=0,ye=0,be=0,ke=0;const Je=l.length>3&&l[0]===239&&l[1]===187&&l[2]===191;for(let tt=0;tt<p&&(y||x||_);tt++){const Ge=l[tt]&255;_&&(N>0?(Ge&128)===0?_=!1:N--:(Ge&128)!==0&&((Ge&64)===0?_=!1:(N++,(Ge&32)===0?k++:(N++,(Ge&16)===0?B++:(N++,(Ge&8)===0?q++:_=!1))))),y&&(Ge>127&&Ge<160?y=!1:Ge>159&&(Ge<192||Ge===215||Ge===247)&&ke++),x&&(X>0?Ge<64||Ge===127||Ge>252?x=!1:X--:Ge===128||Ge===160||Ge>239?x=!1:Ge>160&&Ge<224?(te++,ge=0,ce++,ce>ye&&(ye=ce)):Ge>127?(X++,ce=0,ge++,ge>be&&(be=ge)):(ce=0,ge=0))}return _&&N>0&&(_=!1),x&&X>0&&(x=!1),_&&(Je||k+B+q>0)?z.UTF8:x&&(z.ASSUME_SHIFT_JIS||ye>=3||be>=3)?z.SHIFT_JIS:y&&x?ye===2&&te===2||ke*10>=p?z.SHIFT_JIS:z.ISO88591:y?z.ISO88591:x?z.SHIFT_JIS:_?z.UTF8:z.PLATFORM_DEFAULT_ENCODING}static format(l,...f){let p=-1;function y(_,N,k,B,q,X){if(_==="%%")return"%";if(f[++p]===void 0)return;_=B?parseInt(B.substr(1)):void 0;let te=q?parseInt(q.substr(1)):void 0,ce;switch(X){case"s":ce=f[p];break;case"c":ce=f[p][0];break;case"f":ce=parseFloat(f[p]).toFixed(_);break;case"p":ce=parseFloat(f[p]).toPrecision(_);break;case"e":ce=parseFloat(f[p]).toExponential(_);break;case"x":ce=parseInt(f[p]).toString(te||16);break;case"d":ce=parseFloat(parseInt(f[p],te||10).toPrecision(_)).toFixed(0);break}ce=typeof ce=="object"?JSON.stringify(ce):(+ce).toString(te);let ge=parseInt(k),ye=k&&k[0]+""=="0"?"0":" ";for(;ce.length<ge;)ce=N!==void 0?ce+ye:ye+ce;return ce}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(x,y)}static getBytes(l,f){return H.encode(l,f)}static getCharCode(l,f=0){return l.charCodeAt(f)}static getCharAt(l){return String.fromCharCode(l)}}z.SHIFT_JIS=V.SJIS.getName(),z.GB2312="GB2312",z.ISO88591=V.ISO8859_1.getName(),z.EUC_JP="EUC_JP",z.UTF8=V.UTF8.getName(),z.PLATFORM_DEFAULT_ENCODING=z.UTF8,z.ASSUME_SHIFT_JIS=!1;class Z{constructor(l=""){this.value=l}enableDecoding(l){return this.encoding=l,this}append(l){return typeof l=="string"?this.value+=l.toString():this.encoding?this.value+=z.castAsNonUtf8Char(l,this.encoding):this.value+=String.fromCharCode(l),this}appendChars(l,f,p){for(let y=f;f<f+p;y++)this.append(l[y]);return this}length(){return this.value.length}charAt(l){return this.value.charAt(l)}deleteCharAt(l){this.value=this.value.substr(0,l)+this.value.substring(l+1)}setCharAt(l,f){this.value=this.value.substr(0,l)+f+this.value.substr(l+1)}substring(l,f){return this.value.substring(l,f)}setLengthToZero(){this.value=""}toString(){return this.value}insert(l,f){this.value=this.value.substr(0,l)+f+this.value.substr(l+f.length)}}class W{constructor(l,f,p,y){if(this.width=l,this.height=f,this.rowSize=p,this.bits=y,f==null&&(f=l),this.height=f,l<1||f<1)throw new v("Both dimensions must be greater than 0");p==null&&(p=Math.floor((l+31)/32)),this.rowSize=p,y==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(l){const f=l.length,p=l[0].length,y=new W(p,f);for(let x=0;x<f;x++){const _=l[x];for(let N=0;N<p;N++)_[N]&&y.set(N,x)}return y}static parseFromString(l,f,p){if(l===null)throw new v("stringRepresentation cannot be null");const y=new Array(l.length);let x=0,_=0,N=-1,k=0,B=0;for(;B<l.length;)if(l.charAt(B)===`
`||l.charAt(B)==="\r"){if(x>_){if(N===-1)N=x-_;else if(x-_!==N)throw new v("row lengths do not match");_=x,k++}B++}else if(l.substring(B,B+f.length)===f)B+=f.length,y[x]=!0,x++;else if(l.substring(B,B+p.length)===p)B+=p.length,y[x]=!1,x++;else throw new v("illegal character encountered: "+l.substring(B));if(x>_){if(N===-1)N=x-_;else if(x-_!==N)throw new v("row lengths do not match");k++}const q=new W(N,k);for(let X=0;X<x;X++)y[X]&&q.set(Math.floor(X%N),Math.floor(X/N));return q}get(l,f){const p=f*this.rowSize+Math.floor(l/32);return(this.bits[p]>>>(l&31)&1)!==0}set(l,f){const p=f*this.rowSize+Math.floor(l/32);this.bits[p]|=1<<(l&31)&4294967295}unset(l,f){const p=f*this.rowSize+Math.floor(l/32);this.bits[p]&=~(1<<(l&31)&4294967295)}flip(l,f){const p=f*this.rowSize+Math.floor(l/32);this.bits[p]^=1<<(l&31)&4294967295}xor(l){if(this.width!==l.getWidth()||this.height!==l.getHeight()||this.rowSize!==l.getRowSize())throw new v("input matrix dimensions do not match");const f=new L(Math.floor(this.width/32)+1),p=this.rowSize,y=this.bits;for(let x=0,_=this.height;x<_;x++){const N=x*p,k=l.getRow(x,f).getBitArray();for(let B=0;B<p;B++)y[N+B]^=k[B]}}clear(){const l=this.bits,f=l.length;for(let p=0;p<f;p++)l[p]=0}setRegion(l,f,p,y){if(f<0||l<0)throw new v("Left and top must be nonnegative");if(y<1||p<1)throw new v("Height and width must be at least 1");const x=l+p,_=f+y;if(_>this.height||x>this.width)throw new v("The region must fit inside the matrix");const N=this.rowSize,k=this.bits;for(let B=f;B<_;B++){const q=B*N;for(let X=l;X<x;X++)k[q+Math.floor(X/32)]|=1<<(X&31)&4294967295}}getRow(l,f){f==null||f.getSize()<this.width?f=new L(this.width):f.clear();const p=this.rowSize,y=this.bits,x=l*p;for(let _=0;_<p;_++)f.setBulk(_*32,y[x+_]);return f}setRow(l,f){E.arraycopy(f.getBitArray(),0,this.bits,l*this.rowSize,this.rowSize)}rotate180(){const l=this.getWidth(),f=this.getHeight();let p=new L(l),y=new L(l);for(let x=0,_=Math.floor((f+1)/2);x<_;x++)p=this.getRow(x,p),y=this.getRow(f-1-x,y),p.reverse(),y.reverse(),this.setRow(x,y),this.setRow(f-1-x,p)}getEnclosingRectangle(){const l=this.width,f=this.height,p=this.rowSize,y=this.bits;let x=l,_=f,N=-1,k=-1;for(let B=0;B<f;B++)for(let q=0;q<p;q++){const X=y[B*p+q];if(X!==0){if(B<_&&(_=B),B>k&&(k=B),q*32<x){let te=0;for(;(X<<31-te&4294967295)===0;)te++;q*32+te<x&&(x=q*32+te)}if(q*32+31>N){let te=31;for(;!(X>>>te);)te--;q*32+te>N&&(N=q*32+te)}}}return N<x||k<_?null:Int32Array.from([x,_,N-x+1,k-_+1])}getTopLeftOnBit(){const l=this.rowSize,f=this.bits;let p=0;for(;p<f.length&&f[p]===0;)p++;if(p===f.length)return null;const y=p/l;let x=p%l*32;const _=f[p];let N=0;for(;(_<<31-N&4294967295)===0;)N++;return x+=N,Int32Array.from([x,y])}getBottomRightOnBit(){const l=this.rowSize,f=this.bits;let p=f.length-1;for(;p>=0&&f[p]===0;)p--;if(p<0)return null;const y=Math.floor(p/l);let x=Math.floor(p%l)*32;const _=f[p];let N=31;for(;!(_>>>N);)N--;return x+=N,Int32Array.from([x,y])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(l){if(!(l instanceof W))return!1;const f=l;return this.width===f.width&&this.height===f.height&&this.rowSize===f.rowSize&&I.equals(this.bits,f.bits)}hashCode(){let l=this.width;return l=31*l+this.width,l=31*l+this.height,l=31*l+this.rowSize,l=31*l+I.hashCode(this.bits),l}toString(l="X ",f="  ",p=`
`){return this.buildToString(l,f,p)}buildToString(l,f,p){let y=new Z;for(let x=0,_=this.height;x<_;x++){for(let N=0,k=this.width;N<k;N++)y.append(this.get(N,x)?l:f);y.append(p)}return y.toString()}clone(){return new W(this.width,this.height,this.rowSize,this.bits.slice())}}class G extends h{static getNotFoundInstance(){return new G}}G.kind="NotFoundException";class J extends A{constructor(l){super(l),this.luminances=J.EMPTY,this.buckets=new Int32Array(J.LUMINANCE_BUCKETS)}getBlackRow(l,f){const p=this.getLuminanceSource(),y=p.getWidth();f==null||f.getSize()<y?f=new L(y):f.clear(),this.initArrays(y);const x=p.getRow(l,this.luminances),_=this.buckets;for(let k=0;k<y;k++)_[(x[k]&255)>>J.LUMINANCE_SHIFT]++;const N=J.estimateBlackPoint(_);if(y<3)for(let k=0;k<y;k++)(x[k]&255)<N&&f.set(k);else{let k=x[0]&255,B=x[1]&255;for(let q=1;q<y-1;q++){const X=x[q+1]&255;(B*4-k-X)/2<N&&f.set(q),k=B,B=X}}return f}getBlackMatrix(){const l=this.getLuminanceSource(),f=l.getWidth(),p=l.getHeight(),y=new W(f,p);this.initArrays(f);const x=this.buckets;for(let k=1;k<5;k++){const B=Math.floor(p*k/5),q=l.getRow(B,this.luminances),X=Math.floor(f*4/5);for(let te=Math.floor(f/5);te<X;te++){const ce=q[te]&255;x[ce>>J.LUMINANCE_SHIFT]++}}const _=J.estimateBlackPoint(x),N=l.getMatrix();for(let k=0;k<p;k++){const B=k*f;for(let q=0;q<f;q++)(N[B+q]&255)<_&&y.set(q,k)}return y}createBinarizer(l){return new J(l)}initArrays(l){this.luminances.length<l&&(this.luminances=new Uint8ClampedArray(l));const f=this.buckets;for(let p=0;p<J.LUMINANCE_BUCKETS;p++)f[p]=0}static estimateBlackPoint(l){const f=l.length;let p=0,y=0,x=0;for(let q=0;q<f;q++)l[q]>x&&(y=q,x=l[q]),l[q]>p&&(p=l[q]);let _=0,N=0;for(let q=0;q<f;q++){const X=q-y,te=l[q]*X*X;te>N&&(_=q,N=te)}if(y>_){const q=y;y=_,_=q}if(_-y<=f/16)throw new G;let k=_-1,B=-1;for(let q=_-1;q>y;q--){const X=q-y,te=X*X*(_-q)*(p-l[q]);te>B&&(k=q,B=te)}return k<<J.LUMINANCE_SHIFT}}J.LUMINANCE_BITS=5,J.LUMINANCE_SHIFT=8-J.LUMINANCE_BITS,J.LUMINANCE_BUCKETS=1<<J.LUMINANCE_BITS,J.EMPTY=Uint8ClampedArray.from([0]);class ie extends J{constructor(l){super(l),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const l=this.getLuminanceSource(),f=l.getWidth(),p=l.getHeight();if(f>=ie.MINIMUM_DIMENSION&&p>=ie.MINIMUM_DIMENSION){const y=l.getMatrix();let x=f>>ie.BLOCK_SIZE_POWER;(f&ie.BLOCK_SIZE_MASK)!==0&&x++;let _=p>>ie.BLOCK_SIZE_POWER;(p&ie.BLOCK_SIZE_MASK)!==0&&_++;const N=ie.calculateBlackPoints(y,x,_,f,p),k=new W(f,p);ie.calculateThresholdForBlock(y,x,_,f,p,N,k),this.matrix=k}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(l){return new ie(l)}static calculateThresholdForBlock(l,f,p,y,x,_,N){const k=x-ie.BLOCK_SIZE,B=y-ie.BLOCK_SIZE;for(let q=0;q<p;q++){let X=q<<ie.BLOCK_SIZE_POWER;X>k&&(X=k);const te=ie.cap(q,2,p-3);for(let ce=0;ce<f;ce++){let ge=ce<<ie.BLOCK_SIZE_POWER;ge>B&&(ge=B);const ye=ie.cap(ce,2,f-3);let be=0;for(let Je=-2;Je<=2;Je++){const tt=_[te+Je];be+=tt[ye-2]+tt[ye-1]+tt[ye]+tt[ye+1]+tt[ye+2]}const ke=be/25;ie.thresholdBlock(l,ge,X,ke,y,N)}}}static cap(l,f,p){return l<f?f:l>p?p:l}static thresholdBlock(l,f,p,y,x,_){for(let N=0,k=p*x+f;N<ie.BLOCK_SIZE;N++,k+=x)for(let B=0;B<ie.BLOCK_SIZE;B++)(l[k+B]&255)<=y&&_.set(f+B,p+N)}static calculateBlackPoints(l,f,p,y,x){const _=x-ie.BLOCK_SIZE,N=y-ie.BLOCK_SIZE,k=new Array(p);for(let B=0;B<p;B++){k[B]=new Int32Array(f);let q=B<<ie.BLOCK_SIZE_POWER;q>_&&(q=_);for(let X=0;X<f;X++){let te=X<<ie.BLOCK_SIZE_POWER;te>N&&(te=N);let ce=0,ge=255,ye=0;for(let ke=0,Je=q*y+te;ke<ie.BLOCK_SIZE;ke++,Je+=y){for(let tt=0;tt<ie.BLOCK_SIZE;tt++){const Ge=l[Je+tt]&255;ce+=Ge,Ge<ge&&(ge=Ge),Ge>ye&&(ye=Ge)}if(ye-ge>ie.MIN_DYNAMIC_RANGE)for(ke++,Je+=y;ke<ie.BLOCK_SIZE;ke++,Je+=y)for(let tt=0;tt<ie.BLOCK_SIZE;tt++)ce+=l[Je+tt]&255}let be=ce>>ie.BLOCK_SIZE_POWER*2;if(ye-ge<=ie.MIN_DYNAMIC_RANGE&&(be=ge/2,B>0&&X>0)){const ke=(k[B-1][X]+2*k[B][X-1]+k[B-1][X-1])/4;ge<ke&&(be=ke)}k[B][X]=be}}return k}}ie.BLOCK_SIZE_POWER=3,ie.BLOCK_SIZE=1<<ie.BLOCK_SIZE_POWER,ie.BLOCK_SIZE_MASK=ie.BLOCK_SIZE-1,ie.MINIMUM_DIMENSION=ie.BLOCK_SIZE*5,ie.MIN_DYNAMIC_RANGE=24;class ne{constructor(l,f){this.width=l,this.height=f}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(l,f,p,y){throw new K("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new K("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new K("This luminance source does not support rotation by 45 degrees.")}toString(){const l=new Uint8ClampedArray(this.width);let f=new Z;for(let p=0;p<this.height;p++){const y=this.getRow(p,l);for(let x=0;x<this.width;x++){const _=y[x]&255;let N;_<64?N="#":_<128?N="+":_<192?N=".":N=" ",f.append(N)}f.append(`
`)}return f.toString()}}class ee extends ne{constructor(l){super(l.getWidth(),l.getHeight()),this.delegate=l}getRow(l,f){const p=this.delegate.getRow(l,f),y=this.getWidth();for(let x=0;x<y;x++)p[x]=255-(p[x]&255);return p}getMatrix(){const l=this.delegate.getMatrix(),f=this.getWidth()*this.getHeight(),p=new Uint8ClampedArray(f);for(let y=0;y<f;y++)p[y]=255-(l[y]&255);return p}isCropSupported(){return this.delegate.isCropSupported()}crop(l,f,p,y){return new ee(this.delegate.crop(l,f,p,y))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ee(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ee(this.delegate.rotateCounterClockwise45())}}class de extends ne{constructor(l){super(l.width,l.height),this.canvas=l,this.tempCanvasElement=null,this.buffer=de.makeBufferFromCanvasImageData(l)}static makeBufferFromCanvasImageData(l){const f=l.getContext("2d").getImageData(0,0,l.width,l.height);return de.toGrayscaleBuffer(f.data,l.width,l.height)}static toGrayscaleBuffer(l,f,p){const y=new Uint8ClampedArray(f*p);for(let x=0,_=0,N=l.length;x<N;x+=4,_++){let k;if(l[x+3]===0)k=255;else{const q=l[x],X=l[x+1],te=l[x+2];k=306*q+601*X+117*te+512>>10}y[_]=k}return y}getRow(l,f){if(l<0||l>=this.getHeight())throw new v("Requested row is outside the image: "+l);const p=this.getWidth(),y=l*p;return f===null?f=this.buffer.slice(y,y+p):(f.length<p&&(f=new Uint8ClampedArray(p)),f.set(this.buffer.slice(y,y+p))),f}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(l,f,p,y){return super.crop(l,f,p,y),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const l=this.canvas.ownerDocument.createElement("canvas");l.width=this.canvas.width,l.height=this.canvas.height,this.tempCanvasElement=l}return this.tempCanvasElement}rotate(l){const f=this.getTempCanvasElement(),p=f.getContext("2d"),y=l*de.DEGREE_TO_RADIANS,x=this.canvas.width,_=this.canvas.height,N=Math.ceil(Math.abs(Math.cos(y))*x+Math.abs(Math.sin(y))*_),k=Math.ceil(Math.abs(Math.sin(y))*x+Math.abs(Math.cos(y))*_);return f.width=N,f.height=k,p.translate(N/2,k/2),p.rotate(y),p.drawImage(this.canvas,x/-2,_/-2),this.buffer=de.makeBufferFromCanvasImageData(f),this}invert(){return new ee(this)}}de.DEGREE_TO_RADIANS=Math.PI/180;class se{constructor(l,f,p){this.deviceId=l,this.label=f,this.kind="videoinput",this.groupId=p||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var le=(globalThis||uc||self||window||void 0)&&(globalThis||uc||self||window||void 0).__awaiter||function(Y,l,f,p){function y(x){return x instanceof f?x:new f(function(_){_(x)})}return new(f||(f=Promise))(function(x,_){function N(q){try{B(p.next(q))}catch(X){_(X)}}function k(q){try{B(p.throw(q))}catch(X){_(X)}}function B(q){q.done?x(q.value):y(q.value).then(N,k)}B((p=p.apply(Y,l||[])).next())})};class me{constructor(l,f=500,p){this.reader=l,this.timeBetweenScansMillis=f,this._hints=p,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(l){this._timeBetweenDecodingAttempts=l<0?0:l}set hints(l){this._hints=l||null}get hints(){return this._hints}listVideoInputDevices(){return le(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const l=yield navigator.mediaDevices.enumerateDevices(),f=[];for(const p of l){const y=p.kind==="video"?"videoinput":p.kind;if(y!=="videoinput")continue;const x=p.deviceId||p.id,_=p.label||`Video device ${f.length+1}`,N=p.groupId,k={deviceId:x,label:_,kind:y,groupId:N};f.push(k)}return f})}getVideoInputDevices(){return le(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(f=>new se(f.deviceId,f.label))})}findDeviceById(l){return le(this,void 0,void 0,function*(){const f=yield this.listVideoInputDevices();return f?f.find(p=>p.deviceId===l):null})}decodeFromInputVideoDevice(l,f){return le(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(l,f)})}decodeOnceFromVideoDevice(l,f){return le(this,void 0,void 0,function*(){this.reset();let p;l?p={deviceId:{exact:l}}:p={facingMode:"environment"};const y={video:p};return yield this.decodeOnceFromConstraints(y,f)})}decodeOnceFromConstraints(l,f){return le(this,void 0,void 0,function*(){const p=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeOnceFromStream(p,f)})}decodeOnceFromStream(l,f){return le(this,void 0,void 0,function*(){this.reset();const p=yield this.attachStreamToVideo(l,f);return yield this.decodeOnce(p)})}decodeFromInputVideoDeviceContinuously(l,f,p){return le(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(l,f,p)})}decodeFromVideoDevice(l,f,p){return le(this,void 0,void 0,function*(){let y;l?y={deviceId:{exact:l}}:y={facingMode:"environment"};const x={video:y};return yield this.decodeFromConstraints(x,f,p)})}decodeFromConstraints(l,f,p){return le(this,void 0,void 0,function*(){const y=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeFromStream(y,f,p)})}decodeFromStream(l,f,p){return le(this,void 0,void 0,function*(){this.reset();const y=yield this.attachStreamToVideo(l,f);return yield this.decodeContinuously(y,p)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(l,f){return le(this,void 0,void 0,function*(){const p=this.prepareVideoElement(f);return this.addVideoSource(p,l),this.videoElement=p,this.stream=l,yield this.playVideoOnLoadAsync(p),p})}playVideoOnLoadAsync(l){return new Promise((f,p)=>this.playVideoOnLoad(l,()=>f()))}playVideoOnLoad(l,f){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(l),l.addEventListener("ended",this.videoEndedListener),l.addEventListener("canplay",this.videoCanPlayListener),l.addEventListener("playing",f),this.tryPlayVideo(l)}isVideoPlaying(l){return l.currentTime>0&&!l.paused&&!l.ended&&l.readyState>2}tryPlayVideo(l){return le(this,void 0,void 0,function*(){if(this.isVideoPlaying(l)){console.warn("Trying to play video that is already playing.");return}try{yield l.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(l,f){const p=document.getElementById(l);if(!p)throw new g(`element with id '${l}' not found`);if(p.nodeName.toLowerCase()!==f.toLowerCase())throw new g(`element with id '${l}' must be an ${f} element`);return p}decodeFromImage(l,f){if(!l&&!f)throw new g("either imageElement with a src set or an url must be provided");return f&&!l?this.decodeFromImageUrl(f):this.decodeFromImageElement(l)}decodeFromVideo(l,f){if(!l&&!f)throw new g("Either an element with a src set or an URL must be provided");return f&&!l?this.decodeFromVideoUrl(f):this.decodeFromVideoElement(l)}decodeFromVideoContinuously(l,f,p){if(l===void 0&&f===void 0)throw new g("Either an element with a src set or an URL must be provided");return f&&!l?this.decodeFromVideoUrlContinuously(f,p):this.decodeFromVideoElementContinuously(l,p)}decodeFromImageElement(l){if(!l)throw new g("An image element must be provided.");this.reset();const f=this.prepareImageElement(l);this.imageElement=f;let p;return this.isImageLoaded(f)?p=this.decodeOnce(f,!1,!0):p=this._decodeOnLoadImage(f),p}decodeFromVideoElement(l){const f=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideo(f)}decodeFromVideoElementContinuously(l,f){const p=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideoContinuously(p,f)}_decodeFromVideoElementSetup(l){if(!l)throw new g("A video element must be provided.");this.reset();const f=this.prepareVideoElement(l);return this.videoElement=f,f}decodeFromImageUrl(l){if(!l)throw new g("An URL must be provided.");this.reset();const f=this.prepareImageElement();this.imageElement=f;const p=this._decodeOnLoadImage(f);return f.src=l,p}decodeFromVideoUrl(l){if(!l)throw new g("An URL must be provided.");this.reset();const f=this.prepareVideoElement(),p=this.decodeFromVideoElement(f);return f.src=l,p}decodeFromVideoUrlContinuously(l,f){if(!l)throw new g("An URL must be provided.");this.reset();const p=this.prepareVideoElement(),y=this.decodeFromVideoElementContinuously(p,f);return p.src=l,y}_decodeOnLoadImage(l){return new Promise((f,p)=>{this.imageLoadedListener=()=>this.decodeOnce(l,!1,!0).then(f,p),l.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(l){return le(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(l),yield this.decodeOnce(l)})}_decodeOnLoadVideoContinuously(l,f){return le(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(l),this.decodeContinuously(l,f)})}isImageLoaded(l){return!(!l.complete||l.naturalWidth===0)}prepareImageElement(l){let f;return typeof l>"u"&&(f=document.createElement("img"),f.width=200,f.height=200),typeof l=="string"&&(f=this.getMediaElement(l,"img")),l instanceof HTMLImageElement&&(f=l),f}prepareVideoElement(l){let f;return!l&&typeof document<"u"&&(f=document.createElement("video"),f.width=200,f.height=200),typeof l=="string"&&(f=this.getMediaElement(l,"video")),l instanceof HTMLVideoElement&&(f=l),f.setAttribute("autoplay","true"),f.setAttribute("muted","true"),f.setAttribute("playsinline","true"),f}decodeOnce(l,f=!0,p=!0){this._stopAsyncDecode=!1;const y=(x,_)=>{if(this._stopAsyncDecode){_(new G("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const N=this.decode(l);x(N)}catch(N){const k=f&&N instanceof G,q=(N instanceof b||N instanceof M)&&p;if(k||q)return setTimeout(y,this._timeBetweenDecodingAttempts,x,_);_(N)}};return new Promise((x,_)=>y(x,_))}decodeContinuously(l,f){this._stopContinuousDecode=!1;const p=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const y=this.decode(l);f(y,null),setTimeout(p,this.timeBetweenScansMillis)}catch(y){f(null,y);const x=y instanceof b||y instanceof M,_=y instanceof G;(x||_)&&setTimeout(p,this._timeBetweenDecodingAttempts)}};p()}decode(l){const f=this.createBinaryBitmap(l);return this.decodeBitmap(f)}_isHTMLVideoElement(l){return l.videoWidth!==0}drawFrameOnCanvas(l,f,p){f||(f={sx:0,sy:0,sWidth:l.videoWidth,sHeight:l.videoHeight,dx:0,dy:0,dWidth:l.videoWidth,dHeight:l.videoHeight}),p||(p=this.captureCanvasContext),p.drawImage(l,f.sx,f.sy,f.sWidth,f.sHeight,f.dx,f.dy,f.dWidth,f.dHeight)}drawImageOnCanvas(l,f,p=this.captureCanvasContext){f||(f={sx:0,sy:0,sWidth:l.naturalWidth,sHeight:l.naturalHeight,dx:0,dy:0,dWidth:l.naturalWidth,dHeight:l.naturalHeight}),p||(p=this.captureCanvasContext),p.drawImage(l,f.sx,f.sy,f.sWidth,f.sHeight,f.dx,f.dy,f.dWidth,f.dHeight)}createBinaryBitmap(l){this.getCaptureCanvasContext(l),this._isHTMLVideoElement(l)?this.drawFrameOnCanvas(l):this.drawImageOnCanvas(l);const f=this.getCaptureCanvas(l),p=new de(f),y=new ie(p);return new w(y)}getCaptureCanvasContext(l){if(!this.captureCanvasContext){const p=this.getCaptureCanvas(l).getContext("2d");this.captureCanvasContext=p}return this.captureCanvasContext}getCaptureCanvas(l){if(!this.captureCanvas){const f=this.createCaptureCanvas(l);this.captureCanvas=f}return this.captureCanvas}decodeBitmap(l){return this.reader.decode(l,this._hints)}createCaptureCanvas(l){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const f=document.createElement("canvas");let p,y;return typeof l<"u"&&(l instanceof HTMLVideoElement?(p=l.videoWidth,y=l.videoHeight):l instanceof HTMLImageElement&&(p=l.naturalWidth||l.width,y=l.naturalHeight||l.height)),f.style.width=p+"px",f.style.height=y+"px",f.width=p,f.height=y,f}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(l=>l.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(l,f){try{l.srcObject=f}catch{l.src=URL.createObjectURL(f)}}cleanVideoSource(l){try{l.srcObject=null}catch{l.src=""}this.videoElement.removeAttribute("src")}}class pe{constructor(l,f,p=f==null?0:8*f.length,y,x,_=E.currentTimeMillis()){this.text=l,this.rawBytes=f,this.numBits=p,this.resultPoints=y,this.format=x,this.timestamp=_,this.text=l,this.rawBytes=f,p==null?this.numBits=f==null?0:8*f.length:this.numBits=p,this.resultPoints=y,this.format=x,this.resultMetadata=null,_==null?this.timestamp=E.currentTimeMillis():this.timestamp=_}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(l,f){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(l,f)}putAllMetadata(l){l!==null&&(this.resultMetadata===null?this.resultMetadata=l:this.resultMetadata=new Map(l))}addResultPoints(l){const f=this.resultPoints;if(f===null)this.resultPoints=l;else if(l!==null&&l.length>0){const p=new Array(f.length+l.length);E.arraycopy(f,0,p,0,f.length),E.arraycopy(l,0,p,f.length,l.length),this.resultPoints=p}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Re;(function(Y){Y[Y.AZTEC=0]="AZTEC",Y[Y.CODABAR=1]="CODABAR",Y[Y.CODE_39=2]="CODE_39",Y[Y.CODE_93=3]="CODE_93",Y[Y.CODE_128=4]="CODE_128",Y[Y.DATA_MATRIX=5]="DATA_MATRIX",Y[Y.EAN_8=6]="EAN_8",Y[Y.EAN_13=7]="EAN_13",Y[Y.ITF=8]="ITF",Y[Y.MAXICODE=9]="MAXICODE",Y[Y.PDF_417=10]="PDF_417",Y[Y.QR_CODE=11]="QR_CODE",Y[Y.RSS_14=12]="RSS_14",Y[Y.RSS_EXPANDED=13]="RSS_EXPANDED",Y[Y.UPC_A=14]="UPC_A",Y[Y.UPC_E=15]="UPC_E",Y[Y.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Re||(Re={}));var _e=Re,we;(function(Y){Y[Y.OTHER=0]="OTHER",Y[Y.ORIENTATION=1]="ORIENTATION",Y[Y.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",Y[Y.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",Y[Y.ISSUE_NUMBER=4]="ISSUE_NUMBER",Y[Y.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",Y[Y.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",Y[Y.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",Y[Y.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",Y[Y.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",Y[Y.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(we||(we={}));var Le=we;class je{constructor(l,f,p,y,x=-1,_=-1){this.rawBytes=l,this.text=f,this.byteSegments=p,this.ecLevel=y,this.structuredAppendSequenceNumber=x,this.structuredAppendParity=_,this.numBits=l==null?0:8*l.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(l){this.numBits=l}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(l){this.errorsCorrected=l}getErasures(){return this.erasures}setErasures(l){this.erasures=l}getOther(){return this.other}setOther(l){this.other=l}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Fe{exp(l){return this.expTable[l]}log(l){if(l===0)throw new v;return this.logTable[l]}static addOrSubtract(l,f){return l^f}}class We{constructor(l,f){if(f.length===0)throw new v;this.field=l;const p=f.length;if(p>1&&f[0]===0){let y=1;for(;y<p&&f[y]===0;)y++;y===p?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(p-y),E.arraycopy(f,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=f}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);const f=this.coefficients;let p;if(l===1){p=0;for(let _=0,N=f.length;_!==N;_++){const k=f[_];p=Fe.addOrSubtract(p,k)}return p}p=f[0];const y=f.length,x=this.field;for(let _=1;_<y;_++)p=Fe.addOrSubtract(x.multiply(l,p),f[_]);return p}addOrSubtract(l){if(!this.field.equals(l.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return l;if(l.isZero())return this;let f=this.coefficients,p=l.coefficients;if(f.length>p.length){const _=f;f=p,p=_}let y=new Int32Array(p.length);const x=p.length-f.length;E.arraycopy(p,0,y,0,x);for(let _=x;_<p.length;_++)y[_]=Fe.addOrSubtract(f[_-x],p[_]);return new We(this.field,y)}multiply(l){if(!this.field.equals(l.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||l.isZero())return this.field.getZero();const f=this.coefficients,p=f.length,y=l.coefficients,x=y.length,_=new Int32Array(p+x-1),N=this.field;for(let k=0;k<p;k++){const B=f[k];for(let q=0;q<x;q++)_[k+q]=Fe.addOrSubtract(_[k+q],N.multiply(B,y[q]))}return new We(N,_)}multiplyScalar(l){if(l===0)return this.field.getZero();if(l===1)return this;const f=this.coefficients.length,p=this.field,y=new Int32Array(f),x=this.coefficients;for(let _=0;_<f;_++)y[_]=p.multiply(x[_],l);return new We(p,y)}multiplyByMonomial(l,f){if(l<0)throw new v;if(f===0)return this.field.getZero();const p=this.coefficients,y=p.length,x=new Int32Array(y+l),_=this.field;for(let N=0;N<y;N++)x[N]=_.multiply(p[N],f);return new We(_,x)}divide(l){if(!this.field.equals(l.field))throw new v("GenericGFPolys do not have same GenericGF field");if(l.isZero())throw new v("Divide by 0");const f=this.field;let p=f.getZero(),y=this;const x=l.getCoefficient(l.getDegree()),_=f.inverse(x);for(;y.getDegree()>=l.getDegree()&&!y.isZero();){const N=y.getDegree()-l.getDegree(),k=f.multiply(y.getCoefficient(y.getDegree()),_),B=l.multiplyByMonomial(N,k),q=f.buildMonomial(N,k);p=p.addOrSubtract(q),y=y.addOrSubtract(B)}return[p,y]}toString(){let l="";for(let f=this.getDegree();f>=0;f--){let p=this.getCoefficient(f);if(p!==0){if(p<0?(l+=" - ",p=-p):l.length>0&&(l+=" + "),f===0||p!==1){const y=this.field.log(p);y===0?l+="1":y===1?l+="a":(l+="a^",l+=y)}f!==0&&(f===1?l+="x":(l+="x^",l+=f))}}return l}}class Oe extends h{}Oe.kind="ArithmeticException";class et extends Fe{constructor(l,f,p){super(),this.primitive=l,this.size=f,this.generatorBase=p;const y=new Int32Array(f);let x=1;for(let N=0;N<f;N++)y[N]=x,x*=2,x>=f&&(x^=l,x&=f-1);this.expTable=y;const _=new Int32Array(f);for(let N=0;N<f-1;N++)_[y[N]]=N;this.logTable=_,this.zero=new We(this,Int32Array.from([0])),this.one=new We(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,f){if(l<0)throw new v;if(f===0)return this.zero;const p=new Int32Array(l+1);return p[0]=f,new We(this,p)}inverse(l){if(l===0)throw new Oe;return this.expTable[this.size-this.logTable[l]-1]}multiply(l,f){return l===0||f===0?0:this.expTable[(this.logTable[l]+this.logTable[f])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+P.toHexString(this.primitive)+","+this.size+")"}equals(l){return l===this}}et.AZTEC_DATA_12=new et(4201,4096,1),et.AZTEC_DATA_10=new et(1033,1024,1),et.AZTEC_DATA_6=new et(67,64,1),et.AZTEC_PARAM=new et(19,16,1),et.QR_CODE_FIELD_256=new et(285,256,0),et.DATA_MATRIX_FIELD_256=new et(301,256,1),et.AZTEC_DATA_8=et.DATA_MATRIX_FIELD_256,et.MAXICODE_FIELD_64=et.AZTEC_DATA_6;class Ue extends h{}Ue.kind="ReedSolomonException";class st extends h{}st.kind="IllegalStateException";class Et{constructor(l){this.field=l}decode(l,f){const p=this.field,y=new We(p,l),x=new Int32Array(f);let _=!0;for(let ce=0;ce<f;ce++){const ge=y.evaluateAt(p.exp(ce+p.getGeneratorBase()));x[x.length-1-ce]=ge,ge!==0&&(_=!1)}if(_)return;const N=new We(p,x),k=this.runEuclideanAlgorithm(p.buildMonomial(f,1),N,f),B=k[0],q=k[1],X=this.findErrorLocations(B),te=this.findErrorMagnitudes(q,X);for(let ce=0;ce<X.length;ce++){const ge=l.length-1-p.log(X[ce]);if(ge<0)throw new Ue("Bad error location");l[ge]=et.addOrSubtract(l[ge],te[ce])}}runEuclideanAlgorithm(l,f,p){if(l.getDegree()<f.getDegree()){const ce=l;l=f,f=ce}const y=this.field;let x=l,_=f,N=y.getZero(),k=y.getOne();for(;_.getDegree()>=(p/2|0);){let ce=x,ge=N;if(x=_,N=k,x.isZero())throw new Ue("r_{i-1} was zero");_=ce;let ye=y.getZero();const be=x.getCoefficient(x.getDegree()),ke=y.inverse(be);for(;_.getDegree()>=x.getDegree()&&!_.isZero();){const Je=_.getDegree()-x.getDegree(),tt=y.multiply(_.getCoefficient(_.getDegree()),ke);ye=ye.addOrSubtract(y.buildMonomial(Je,tt)),_=_.addOrSubtract(x.multiplyByMonomial(Je,tt))}if(k=ye.multiply(N).addOrSubtract(ge),_.getDegree()>=x.getDegree())throw new st("Division algorithm failed to reduce polynomial?")}const B=k.getCoefficient(0);if(B===0)throw new Ue("sigmaTilde(0) was zero");const q=y.inverse(B),X=k.multiplyScalar(q),te=_.multiplyScalar(q);return[X,te]}findErrorLocations(l){const f=l.getDegree();if(f===1)return Int32Array.from([l.getCoefficient(1)]);const p=new Int32Array(f);let y=0;const x=this.field;for(let _=1;_<x.getSize()&&y<f;_++)l.evaluateAt(_)===0&&(p[y]=x.inverse(_),y++);if(y!==f)throw new Ue("Error locator degree does not match number of roots");return p}findErrorMagnitudes(l,f){const p=f.length,y=new Int32Array(p),x=this.field;for(let _=0;_<p;_++){const N=x.inverse(f[_]);let k=1;for(let B=0;B<p;B++)if(_!==B){const q=x.multiply(f[B],N),X=(q&1)===0?q|1:q&-2;k=x.multiply(k,X)}y[_]=x.multiply(l.evaluateAt(N),x.inverse(k)),x.getGeneratorBase()!==0&&(y[_]=x.multiply(y[_],N))}return y}}var dt;(function(Y){Y[Y.UPPER=0]="UPPER",Y[Y.LOWER=1]="LOWER",Y[Y.MIXED=2]="MIXED",Y[Y.DIGIT=3]="DIGIT",Y[Y.PUNCT=4]="PUNCT",Y[Y.BINARY=5]="BINARY"})(dt||(dt={}));class kt{decode(l){this.ddata=l;let f=l.getBits(),p=this.extractBits(f),y=this.correctBits(p),x=kt.convertBoolArrayToByteArray(y),_=kt.getEncodedData(y),N=new je(x,_,null,null);return N.setNumBits(y.length),N}static highLevelDecode(l){return this.getEncodedData(l)}static getEncodedData(l){let f=l.length,p=dt.UPPER,y=dt.UPPER,x="",_=0;for(;_<f;)if(y===dt.BINARY){if(f-_<5)break;let N=kt.readCode(l,_,5);if(_+=5,N===0){if(f-_<11)break;N=kt.readCode(l,_,11)+31,_+=11}for(let k=0;k<N;k++){if(f-_<8){_=f;break}const B=kt.readCode(l,_,8);x+=z.castAsNonUtf8Char(B),_+=8}y=p}else{let N=y===dt.DIGIT?4:5;if(f-_<N)break;let k=kt.readCode(l,_,N);_+=N;let B=kt.getCharacter(y,k);B.startsWith("CTRL_")?(p=y,y=kt.getTable(B.charAt(5)),B.charAt(6)==="L"&&(p=y)):(x+=B,y=p)}return x}static getTable(l){switch(l){case"L":return dt.LOWER;case"P":return dt.PUNCT;case"M":return dt.MIXED;case"D":return dt.DIGIT;case"B":return dt.BINARY;case"U":default:return dt.UPPER}}static getCharacter(l,f){switch(l){case dt.UPPER:return kt.UPPER_TABLE[f];case dt.LOWER:return kt.LOWER_TABLE[f];case dt.MIXED:return kt.MIXED_TABLE[f];case dt.PUNCT:return kt.PUNCT_TABLE[f];case dt.DIGIT:return kt.DIGIT_TABLE[f];default:throw new st("Bad table")}}correctBits(l){let f,p;this.ddata.getNbLayers()<=2?(p=6,f=et.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(p=8,f=et.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(p=10,f=et.AZTEC_DATA_10):(p=12,f=et.AZTEC_DATA_12);let y=this.ddata.getNbDatablocks(),x=l.length/p;if(x<y)throw new M;let _=l.length%p,N=new Int32Array(x);for(let te=0;te<x;te++,_+=p)N[te]=kt.readCode(l,_,p);try{new Et(f).decode(N,x-y)}catch(te){throw new M(te)}let k=(1<<p)-1,B=0;for(let te=0;te<y;te++){let ce=N[te];if(ce===0||ce===k)throw new M;(ce===1||ce===k-1)&&B++}let q=new Array(y*p-B),X=0;for(let te=0;te<y;te++){let ce=N[te];if(ce===1||ce===k-1)q.fill(ce>1,X,X+p-1),X+=p-1;else for(let ge=p-1;ge>=0;--ge)q[X++]=(ce&1<<ge)!==0}return q}extractBits(l){let f=this.ddata.isCompact(),p=this.ddata.getNbLayers(),y=(f?11:14)+p*4,x=new Int32Array(y),_=new Array(this.totalBitsInLayer(p,f));if(f)for(let N=0;N<x.length;N++)x[N]=N;else{let N=y+1+2*P.truncDivision(P.truncDivision(y,2)-1,15),k=y/2,B=P.truncDivision(N,2);for(let q=0;q<k;q++){let X=q+P.truncDivision(q,15);x[k-q-1]=B-X-1,x[k+q]=B+X+1}}for(let N=0,k=0;N<p;N++){let B=(p-N)*4+(f?9:12),q=N*2,X=y-1-q;for(let te=0;te<B;te++){let ce=te*2;for(let ge=0;ge<2;ge++)_[k+ce+ge]=l.get(x[q+ge],x[q+te]),_[k+2*B+ce+ge]=l.get(x[q+te],x[X-ge]),_[k+4*B+ce+ge]=l.get(x[X-ge],x[X-te]),_[k+6*B+ce+ge]=l.get(x[X-te],x[q+ge])}k+=B*8}return _}static readCode(l,f,p){let y=0;for(let x=f;x<f+p;x++)y<<=1,l[x]&&(y|=1);return y}static readByte(l,f){let p=l.length-f;return p>=8?kt.readCode(l,f,8):kt.readCode(l,f,p)<<8-p}static convertBoolArrayToByteArray(l){let f=new Uint8Array((l.length+7)/8);for(let p=0;p<f.length;p++)f[p]=kt.readByte(l,8*p);return f}totalBitsInLayer(l,f){return((f?88:112)+16*l)*l}}kt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],kt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],kt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],kt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],kt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ut{constructor(){}static round(l){return l===NaN?0:l<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:l>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:l+(l<0?-.5:.5)|0}static distance(l,f,p,y){const x=l-p,_=f-y;return Math.sqrt(x*x+_*_)}static sum(l){let f=0;for(let p=0,y=l.length;p!==y;p++){const x=l[p];f+=x}return f}}class fe{static floatToIntBits(l){return l}}fe.MAX_VALUE=Number.MAX_SAFE_INTEGER;class he{constructor(l,f){this.x=l,this.y=f}getX(){return this.x}getY(){return this.y}equals(l){if(l instanceof he){const f=l;return this.x===f.x&&this.y===f.y}return!1}hashCode(){return 31*fe.floatToIntBits(this.x)+fe.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(l){const f=this.distance(l[0],l[1]),p=this.distance(l[1],l[2]),y=this.distance(l[0],l[2]);let x,_,N;if(p>=f&&p>=y?(_=l[0],x=l[1],N=l[2]):y>=p&&y>=f?(_=l[1],x=l[0],N=l[2]):(_=l[2],x=l[0],N=l[1]),this.crossProductZ(x,_,N)<0){const k=x;x=N,N=k}l[0]=x,l[1]=_,l[2]=N}static distance(l,f){return ut.distance(l.x,l.y,f.x,f.y)}static crossProductZ(l,f,p){const y=f.x,x=f.y;return(p.x-y)*(l.y-x)-(p.y-x)*(l.x-y)}}class Ne{constructor(l,f){this.bits=l,this.points=f}getBits(){return this.bits}getPoints(){return this.points}}class Ye extends Ne{constructor(l,f,p,y,x){super(l,f),this.compact=p,this.nbDatablocks=y,this.nbLayers=x}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ve{constructor(l,f,p,y){this.image=l,this.height=l.getHeight(),this.width=l.getWidth(),f==null&&(f=Ve.INIT_SIZE),p==null&&(p=l.getWidth()/2|0),y==null&&(y=l.getHeight()/2|0);const x=f/2|0;if(this.leftInit=p-x,this.rightInit=p+x,this.upInit=y-x,this.downInit=y+x,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new G}detect(){let l=this.leftInit,f=this.rightInit,p=this.upInit,y=this.downInit,x=!1,_=!0,N=!1,k=!1,B=!1,q=!1,X=!1;const te=this.width,ce=this.height;for(;_;){_=!1;let ge=!0;for(;(ge||!k)&&f<te;)ge=this.containsBlackPoint(p,y,f,!1),ge?(f++,_=!0,k=!0):k||f++;if(f>=te){x=!0;break}let ye=!0;for(;(ye||!B)&&y<ce;)ye=this.containsBlackPoint(l,f,y,!0),ye?(y++,_=!0,B=!0):B||y++;if(y>=ce){x=!0;break}let be=!0;for(;(be||!q)&&l>=0;)be=this.containsBlackPoint(p,y,l,!1),be?(l--,_=!0,q=!0):q||l--;if(l<0){x=!0;break}let ke=!0;for(;(ke||!X)&&p>=0;)ke=this.containsBlackPoint(l,f,p,!0),ke?(p--,_=!0,X=!0):X||p--;if(p<0){x=!0;break}_&&(N=!0)}if(!x&&N){const ge=f-l;let ye=null;for(let tt=1;ye===null&&tt<ge;tt++)ye=this.getBlackPointOnSegment(l,y-tt,l+tt,y);if(ye==null)throw new G;let be=null;for(let tt=1;be===null&&tt<ge;tt++)be=this.getBlackPointOnSegment(l,p+tt,l+tt,p);if(be==null)throw new G;let ke=null;for(let tt=1;ke===null&&tt<ge;tt++)ke=this.getBlackPointOnSegment(f,p+tt,f-tt,p);if(ke==null)throw new G;let Je=null;for(let tt=1;Je===null&&tt<ge;tt++)Je=this.getBlackPointOnSegment(f,y-tt,f-tt,y);if(Je==null)throw new G;return this.centerEdges(Je,ye,ke,be)}else throw new G}getBlackPointOnSegment(l,f,p,y){const x=ut.round(ut.distance(l,f,p,y)),_=(p-l)/x,N=(y-f)/x,k=this.image;for(let B=0;B<x;B++){const q=ut.round(l+B*_),X=ut.round(f+B*N);if(k.get(q,X))return new he(q,X)}return null}centerEdges(l,f,p,y){const x=l.getX(),_=l.getY(),N=f.getX(),k=f.getY(),B=p.getX(),q=p.getY(),X=y.getX(),te=y.getY(),ce=Ve.CORR;return x<this.width/2?[new he(X-ce,te+ce),new he(N+ce,k+ce),new he(B-ce,q-ce),new he(x+ce,_-ce)]:[new he(X+ce,te+ce),new he(N+ce,k-ce),new he(B-ce,q+ce),new he(x-ce,_-ce)]}containsBlackPoint(l,f,p,y){const x=this.image;if(y){for(let _=l;_<=f;_++)if(x.get(_,p))return!0}else for(let _=l;_<=f;_++)if(x.get(p,_))return!0;return!1}}Ve.INIT_SIZE=10,Ve.CORR=1;class qe{static checkAndNudgePoints(l,f){const p=l.getWidth(),y=l.getHeight();let x=!0;for(let _=0;_<f.length&&x;_+=2){const N=Math.floor(f[_]),k=Math.floor(f[_+1]);if(N<-1||N>p||k<-1||k>y)throw new G;x=!1,N===-1?(f[_]=0,x=!0):N===p&&(f[_]=p-1,x=!0),k===-1?(f[_+1]=0,x=!0):k===y&&(f[_+1]=y-1,x=!0)}x=!0;for(let _=f.length-2;_>=0&&x;_-=2){const N=Math.floor(f[_]),k=Math.floor(f[_+1]);if(N<-1||N>p||k<-1||k>y)throw new G;x=!1,N===-1?(f[_]=0,x=!0):N===p&&(f[_]=p-1,x=!0),k===-1?(f[_+1]=0,x=!0):k===y&&(f[_+1]=y-1,x=!0)}}}class ae{constructor(l,f,p,y,x,_,N,k,B){this.a11=l,this.a21=f,this.a31=p,this.a12=y,this.a22=x,this.a32=_,this.a13=N,this.a23=k,this.a33=B}static quadrilateralToQuadrilateral(l,f,p,y,x,_,N,k,B,q,X,te,ce,ge,ye,be){const ke=ae.quadrilateralToSquare(l,f,p,y,x,_,N,k);return ae.squareToQuadrilateral(B,q,X,te,ce,ge,ye,be).times(ke)}transformPoints(l){const f=l.length,p=this.a11,y=this.a12,x=this.a13,_=this.a21,N=this.a22,k=this.a23,B=this.a31,q=this.a32,X=this.a33;for(let te=0;te<f;te+=2){const ce=l[te],ge=l[te+1],ye=x*ce+k*ge+X;l[te]=(p*ce+_*ge+B)/ye,l[te+1]=(y*ce+N*ge+q)/ye}}transformPointsWithValues(l,f){const p=this.a11,y=this.a12,x=this.a13,_=this.a21,N=this.a22,k=this.a23,B=this.a31,q=this.a32,X=this.a33,te=l.length;for(let ce=0;ce<te;ce++){const ge=l[ce],ye=f[ce],be=x*ge+k*ye+X;l[ce]=(p*ge+_*ye+B)/be,f[ce]=(y*ge+N*ye+q)/be}}static squareToQuadrilateral(l,f,p,y,x,_,N,k){const B=l-p+x-N,q=f-y+_-k;if(B===0&&q===0)return new ae(p-l,x-p,l,y-f,_-y,f,0,0,1);{const X=p-x,te=N-x,ce=y-_,ge=k-_,ye=X*ge-te*ce,be=(B*ge-te*q)/ye,ke=(X*q-B*ce)/ye;return new ae(p-l+be*p,N-l+ke*N,l,y-f+be*y,k-f+ke*k,f,be,ke,1)}}static quadrilateralToSquare(l,f,p,y,x,_,N,k){return ae.squareToQuadrilateral(l,f,p,y,x,_,N,k).buildAdjoint()}buildAdjoint(){return new ae(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(l){return new ae(this.a11*l.a11+this.a21*l.a12+this.a31*l.a13,this.a11*l.a21+this.a21*l.a22+this.a31*l.a23,this.a11*l.a31+this.a21*l.a32+this.a31*l.a33,this.a12*l.a11+this.a22*l.a12+this.a32*l.a13,this.a12*l.a21+this.a22*l.a22+this.a32*l.a23,this.a12*l.a31+this.a22*l.a32+this.a32*l.a33,this.a13*l.a11+this.a23*l.a12+this.a33*l.a13,this.a13*l.a21+this.a23*l.a22+this.a33*l.a23,this.a13*l.a31+this.a23*l.a32+this.a33*l.a33)}}class Me extends qe{sampleGrid(l,f,p,y,x,_,N,k,B,q,X,te,ce,ge,ye,be,ke,Je,tt){const Ge=ae.quadrilateralToQuadrilateral(y,x,_,N,k,B,q,X,te,ce,ge,ye,be,ke,Je,tt);return this.sampleGridWithTransform(l,f,p,Ge)}sampleGridWithTransform(l,f,p,y){if(f<=0||p<=0)throw new G;const x=new W(f,p),_=new Float32Array(2*f);for(let N=0;N<p;N++){const k=_.length,B=N+.5;for(let q=0;q<k;q+=2)_[q]=q/2+.5,_[q+1]=B;y.transformPoints(_),qe.checkAndNudgePoints(l,_);try{for(let q=0;q<k;q+=2)l.get(Math.floor(_[q]),Math.floor(_[q+1]))&&x.set(q/2,N)}catch{throw new G}}return x}}class lt{static setGridSampler(l){lt.gridSampler=l}static getInstance(){return lt.gridSampler}}lt.gridSampler=new Me;class ft{constructor(l,f){this.x=l,this.y=f}toResultPoint(){return new he(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class _r{constructor(l){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=l}detect(){return this.detectMirror(!1)}detectMirror(l){let f=this.getMatrixCenter(),p=this.getBullsEyeCorners(f);if(l){let _=p[0];p[0]=p[2],p[2]=_}this.extractParameters(p);let y=this.sampleGrid(this.image,p[this.shift%4],p[(this.shift+1)%4],p[(this.shift+2)%4],p[(this.shift+3)%4]),x=this.getMatrixCornerPoints(p);return new Ye(y,x,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(l){if(!this.isValidPoint(l[0])||!this.isValidPoint(l[1])||!this.isValidPoint(l[2])||!this.isValidPoint(l[3]))throw new G;let f=2*this.nbCenterLayers,p=new Int32Array([this.sampleLine(l[0],l[1],f),this.sampleLine(l[1],l[2],f),this.sampleLine(l[2],l[3],f),this.sampleLine(l[3],l[0],f)]);this.shift=this.getRotation(p,f);let y=0;for(let _=0;_<4;_++){let N=p[(this.shift+_)%4];this.compact?(y<<=7,y+=N>>1&127):(y<<=10,y+=(N>>2&992)+(N>>1&31))}let x=this.getCorrectedParameterData(y,this.compact);this.compact?(this.nbLayers=(x>>6)+1,this.nbDataBlocks=(x&63)+1):(this.nbLayers=(x>>11)+1,this.nbDataBlocks=(x&2047)+1)}getRotation(l,f){let p=0;l.forEach((y,x,_)=>{let N=(y>>f-2<<1)+(y&1);p=(p<<3)+N}),p=((p&1)<<11)+(p>>1);for(let y=0;y<4;y++)if(P.bitCount(p^this.EXPECTED_CORNER_BITS[y])<=2)return y;throw new G}getCorrectedParameterData(l,f){let p,y;f?(p=7,y=2):(p=10,y=4);let x=p-y,_=new Int32Array(p);for(let k=p-1;k>=0;--k)_[k]=l&15,l>>=4;try{new Et(et.AZTEC_PARAM).decode(_,x)}catch{throw new G}let N=0;for(let k=0;k<y;k++)N=(N<<4)+_[k];return N}getBullsEyeCorners(l){let f=l,p=l,y=l,x=l,_=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let X=this.getFirstDifferent(f,_,1,-1),te=this.getFirstDifferent(p,_,1,1),ce=this.getFirstDifferent(y,_,-1,1),ge=this.getFirstDifferent(x,_,-1,-1);if(this.nbCenterLayers>2){let ye=this.distancePoint(ge,X)*this.nbCenterLayers/(this.distancePoint(x,f)*(this.nbCenterLayers+2));if(ye<.75||ye>1.25||!this.isWhiteOrBlackRectangle(X,te,ce,ge))break}f=X,p=te,y=ce,x=ge,_=!_}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new G;this.compact=this.nbCenterLayers===5;let N=new he(f.getX()+.5,f.getY()-.5),k=new he(p.getX()+.5,p.getY()+.5),B=new he(y.getX()-.5,y.getY()+.5),q=new he(x.getX()-.5,x.getY()-.5);return this.expandSquare([N,k,B,q],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let l,f,p,y;try{let N=new Ve(this.image).detect();l=N[0],f=N[1],p=N[2],y=N[3]}catch{let k=this.image.getWidth()/2,B=this.image.getHeight()/2;l=this.getFirstDifferent(new ft(k+7,B-7),!1,1,-1).toResultPoint(),f=this.getFirstDifferent(new ft(k+7,B+7),!1,1,1).toResultPoint(),p=this.getFirstDifferent(new ft(k-7,B+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new ft(k-7,B-7),!1,-1,-1).toResultPoint()}let x=ut.round((l.getX()+y.getX()+f.getX()+p.getX())/4),_=ut.round((l.getY()+y.getY()+f.getY()+p.getY())/4);try{let N=new Ve(this.image,15,x,_).detect();l=N[0],f=N[1],p=N[2],y=N[3]}catch{l=this.getFirstDifferent(new ft(x+7,_-7),!1,1,-1).toResultPoint(),f=this.getFirstDifferent(new ft(x+7,_+7),!1,1,1).toResultPoint(),p=this.getFirstDifferent(new ft(x-7,_+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new ft(x-7,_-7),!1,-1,-1).toResultPoint()}return x=ut.round((l.getX()+y.getX()+f.getX()+p.getX())/4),_=ut.round((l.getY()+y.getY()+f.getY()+p.getY())/4),new ft(x,_)}getMatrixCornerPoints(l){return this.expandSquare(l,2*this.nbCenterLayers,this.getDimension())}sampleGrid(l,f,p,y,x){let _=lt.getInstance(),N=this.getDimension(),k=N/2-this.nbCenterLayers,B=N/2+this.nbCenterLayers;return _.sampleGrid(l,N,N,k,k,B,k,B,B,k,B,f.getX(),f.getY(),p.getX(),p.getY(),y.getX(),y.getY(),x.getX(),x.getY())}sampleLine(l,f,p){let y=0,x=this.distanceResultPoint(l,f),_=x/p,N=l.getX(),k=l.getY(),B=_*(f.getX()-l.getX())/x,q=_*(f.getY()-l.getY())/x;for(let X=0;X<p;X++)this.image.get(ut.round(N+X*B),ut.round(k+X*q))&&(y|=1<<p-X-1);return y}isWhiteOrBlackRectangle(l,f,p,y){let x=3;l=new ft(l.getX()-x,l.getY()+x),f=new ft(f.getX()-x,f.getY()-x),p=new ft(p.getX()+x,p.getY()-x),y=new ft(y.getX()+x,y.getY()+x);let _=this.getColor(y,l);if(_===0)return!1;let N=this.getColor(l,f);return N!==_||(N=this.getColor(f,p),N!==_)?!1:(N=this.getColor(p,y),N===_)}getColor(l,f){let p=this.distancePoint(l,f),y=(f.getX()-l.getX())/p,x=(f.getY()-l.getY())/p,_=0,N=l.getX(),k=l.getY(),B=this.image.get(l.getX(),l.getY()),q=Math.ceil(p);for(let te=0;te<q;te++)N+=y,k+=x,this.image.get(ut.round(N),ut.round(k))!==B&&_++;let X=_/p;return X>.1&&X<.9?0:X<=.1===B?1:-1}getFirstDifferent(l,f,p,y){let x=l.getX()+p,_=l.getY()+y;for(;this.isValid(x,_)&&this.image.get(x,_)===f;)x+=p,_+=y;for(x-=p,_-=y;this.isValid(x,_)&&this.image.get(x,_)===f;)x+=p;for(x-=p;this.isValid(x,_)&&this.image.get(x,_)===f;)_+=y;return _-=y,new ft(x,_)}expandSquare(l,f,p){let y=p/(2*f),x=l[0].getX()-l[2].getX(),_=l[0].getY()-l[2].getY(),N=(l[0].getX()+l[2].getX())/2,k=(l[0].getY()+l[2].getY())/2,B=new he(N+y*x,k+y*_),q=new he(N-y*x,k-y*_);x=l[1].getX()-l[3].getX(),_=l[1].getY()-l[3].getY(),N=(l[1].getX()+l[3].getX())/2,k=(l[1].getY()+l[3].getY())/2;let X=new he(N+y*x,k+y*_),te=new he(N-y*x,k-y*_);return[B,X,q,te]}isValid(l,f){return l>=0&&l<this.image.getWidth()&&f>0&&f<this.image.getHeight()}isValidPoint(l){let f=ut.round(l.getX()),p=ut.round(l.getY());return this.isValid(f,p)}distancePoint(l,f){return ut.distance(l.getX(),l.getY(),f.getX(),f.getY())}distanceResultPoint(l,f){return ut.distance(l.getX(),l.getY(),f.getX(),f.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(P.truncDivision(this.nbLayers-4,8)+1)+15}}class Sr{decode(l,f=null){let p=null,y=new _r(l.getBlackMatrix()),x=null,_=null;try{let q=y.detectMirror(!1);x=q.getPoints(),this.reportFoundResultPoints(f,x),_=new kt().decode(q)}catch(q){p=q}if(_==null)try{let q=y.detectMirror(!0);x=q.getPoints(),this.reportFoundResultPoints(f,x),_=new kt().decode(q)}catch(q){throw p??q}let N=new pe(_.getText(),_.getRawBytes(),_.getNumBits(),x,_e.AZTEC,E.currentTimeMillis()),k=_.getByteSegments();k!=null&&N.putMetadata(Le.BYTE_SEGMENTS,k);let B=_.getECLevel();return B!=null&&N.putMetadata(Le.ERROR_CORRECTION_LEVEL,B),N}reportFoundResultPoints(l,f){if(l!=null){let p=l.get(D.NEED_RESULT_POINT_CALLBACK);p!=null&&f.forEach((y,x,_)=>{p.foundPossibleResultPoint(y)})}}reset(){}}class kr extends me{constructor(l=500){super(new Sr,l)}}class Bt{decode(l,f){try{return this.doDecode(l,f)}catch{if(f&&f.get(D.TRY_HARDER)===!0&&l.isRotateSupported()){const x=l.rotateCounterClockwise(),_=this.doDecode(x,f),N=_.getResultMetadata();let k=270;N!==null&&N.get(Le.ORIENTATION)===!0&&(k=k+N.get(Le.ORIENTATION)%360),_.putMetadata(Le.ORIENTATION,k);const B=_.getResultPoints();if(B!==null){const q=x.getHeight();for(let X=0;X<B.length;X++)B[X]=new he(q-B[X].getY()-1,B[X].getX())}return _}else throw new G}}reset(){}doDecode(l,f){const p=l.getWidth(),y=l.getHeight();let x=new L(p);const _=f&&f.get(D.TRY_HARDER)===!0,N=Math.max(1,y>>(_?8:5));let k;_?k=y:k=15;const B=Math.trunc(y/2);for(let q=0;q<k;q++){const X=Math.trunc((q+1)/2),te=(q&1)===0,ce=B+N*(te?X:-X);if(ce<0||ce>=y)break;try{x=l.getBlackRow(ce,x)}catch{continue}for(let ge=0;ge<2;ge++){if(ge===1&&(x.reverse(),f&&f.get(D.NEED_RESULT_POINT_CALLBACK)===!0)){const ye=new Map;f.forEach((be,ke)=>ye.set(ke,be)),ye.delete(D.NEED_RESULT_POINT_CALLBACK),f=ye}try{const ye=this.decodeRow(ce,x,f);if(ge===1){ye.putMetadata(Le.ORIENTATION,180);const be=ye.getResultPoints();be!==null&&(be[0]=new he(p-be[0].getX()-1,be[0].getY()),be[1]=new he(p-be[1].getX()-1,be[1].getY()))}return ye}catch{}}}throw new G}static recordPattern(l,f,p){const y=p.length;for(let B=0;B<y;B++)p[B]=0;const x=l.getSize();if(f>=x)throw new G;let _=!l.get(f),N=0,k=f;for(;k<x;){if(l.get(k)!==_)p[N]++;else{if(++N===y)break;p[N]=1,_=!_}k++}if(!(N===y||N===y-1&&k===x))throw new G}static recordPatternInReverse(l,f,p){let y=p.length,x=l.get(f);for(;f>0&&y>=0;)l.get(--f)!==x&&(y--,x=!x);if(y>=0)throw new G;Bt.recordPattern(l,f+1,p)}static patternMatchVariance(l,f,p){const y=l.length;let x=0,_=0;for(let B=0;B<y;B++)x+=l[B],_+=f[B];if(x<_)return Number.POSITIVE_INFINITY;const N=x/_;p*=N;let k=0;for(let B=0;B<y;B++){const q=l[B],X=f[B]*N,te=q>X?q-X:X-q;if(te>p)return Number.POSITIVE_INFINITY;k+=te}return k/x}}class ze extends Bt{static findStartPattern(l){const f=l.getSize(),p=l.getNextSet(0);let y=0,x=Int32Array.from([0,0,0,0,0,0]),_=p,N=!1;const k=6;for(let B=p;B<f;B++)if(l.get(B)!==N)x[y]++;else{if(y===k-1){let q=ze.MAX_AVG_VARIANCE,X=-1;for(let te=ze.CODE_START_A;te<=ze.CODE_START_C;te++){const ce=Bt.patternMatchVariance(x,ze.CODE_PATTERNS[te],ze.MAX_INDIVIDUAL_VARIANCE);ce<q&&(q=ce,X=te)}if(X>=0&&l.isRange(Math.max(0,_-(B-_)/2),_,!1))return Int32Array.from([_,B,X]);_+=x[0]+x[1],x=x.slice(2,x.length-1),x[y-1]=0,x[y]=0,y--}else y++;x[y]=1,N=!N}throw new G}static decodeCode(l,f,p){Bt.recordPattern(l,p,f);let y=ze.MAX_AVG_VARIANCE,x=-1;for(let _=0;_<ze.CODE_PATTERNS.length;_++){const N=ze.CODE_PATTERNS[_],k=this.patternMatchVariance(f,N,ze.MAX_INDIVIDUAL_VARIANCE);k<y&&(y=k,x=_)}if(x>=0)return x;throw new G}decodeRow(l,f,p){const y=p&&p.get(D.ASSUME_GS1)===!0,x=ze.findStartPattern(f),_=x[2];let N=0;const k=new Uint8Array(20);k[N++]=_;let B;switch(_){case ze.CODE_START_A:B=ze.CODE_CODE_A;break;case ze.CODE_START_B:B=ze.CODE_CODE_B;break;case ze.CODE_START_C:B=ze.CODE_CODE_C;break;default:throw new M}let q=!1,X=!1,te="",ce=x[0],ge=x[1];const ye=Int32Array.from([0,0,0,0,0,0]);let be=0,ke=0,Je=_,tt=0,Ge=!0,wr=!1,er=!1;for(;!q;){const ka=X;switch(X=!1,be=ke,ke=ze.decodeCode(f,ye,ge),k[N++]=ke,ke!==ze.CODE_STOP&&(Ge=!0),ke!==ze.CODE_STOP&&(tt++,Je+=tt*ke),ce=ge,ge+=ye.reduce((Ll,tp)=>Ll+tp,0),ke){case ze.CODE_START_A:case ze.CODE_START_B:case ze.CODE_START_C:throw new M}switch(B){case ze.CODE_CODE_A:if(ke<64)er===wr?te+=String.fromCharCode(32+ke):te+=String.fromCharCode(32+ke+128),er=!1;else if(ke<96)er===wr?te+=String.fromCharCode(ke-64):te+=String.fromCharCode(ke+64),er=!1;else switch(ke!==ze.CODE_STOP&&(Ge=!1),ke){case ze.CODE_FNC_1:y&&(te.length===0?te+="]C1":te+="");break;case ze.CODE_FNC_2:case ze.CODE_FNC_3:break;case ze.CODE_FNC_4_A:!wr&&er?(wr=!0,er=!1):wr&&er?(wr=!1,er=!1):er=!0;break;case ze.CODE_SHIFT:X=!0,B=ze.CODE_CODE_B;break;case ze.CODE_CODE_B:B=ze.CODE_CODE_B;break;case ze.CODE_CODE_C:B=ze.CODE_CODE_C;break;case ze.CODE_STOP:q=!0;break}break;case ze.CODE_CODE_B:if(ke<96)er===wr?te+=String.fromCharCode(32+ke):te+=String.fromCharCode(32+ke+128),er=!1;else switch(ke!==ze.CODE_STOP&&(Ge=!1),ke){case ze.CODE_FNC_1:y&&(te.length===0?te+="]C1":te+="");break;case ze.CODE_FNC_2:case ze.CODE_FNC_3:break;case ze.CODE_FNC_4_B:!wr&&er?(wr=!0,er=!1):wr&&er?(wr=!1,er=!1):er=!0;break;case ze.CODE_SHIFT:X=!0,B=ze.CODE_CODE_A;break;case ze.CODE_CODE_A:B=ze.CODE_CODE_A;break;case ze.CODE_CODE_C:B=ze.CODE_CODE_C;break;case ze.CODE_STOP:q=!0;break}break;case ze.CODE_CODE_C:if(ke<100)ke<10&&(te+="0"),te+=ke;else switch(ke!==ze.CODE_STOP&&(Ge=!1),ke){case ze.CODE_FNC_1:y&&(te.length===0?te+="]C1":te+="");break;case ze.CODE_CODE_A:B=ze.CODE_CODE_A;break;case ze.CODE_CODE_B:B=ze.CODE_CODE_B;break;case ze.CODE_STOP:q=!0;break}break}ka&&(B=B===ze.CODE_CODE_A?ze.CODE_CODE_B:ze.CODE_CODE_A)}const $i=ge-ce;if(ge=f.getNextUnset(ge),!f.isRange(ge,Math.min(f.getSize(),ge+(ge-ce)/2),!1))throw new G;if(Je-=tt*be,Je%103!==be)throw new b;const Ds=te.length;if(Ds===0)throw new G;Ds>0&&Ge&&(B===ze.CODE_CODE_C?te=te.substring(0,Ds-2):te=te.substring(0,Ds-1));const $n=(x[1]+x[0])/2,Fr=ce+$i/2,jn=k.length,Pi=new Uint8Array(jn);for(let ka=0;ka<jn;ka++)Pi[ka]=k[ka];const Bo=[new he($n,l),new he(Fr,l)];return new pe(te,Pi,0,Bo,_e.CODE_128,new Date().getTime())}}ze.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ze.MAX_AVG_VARIANCE=.25,ze.MAX_INDIVIDUAL_VARIANCE=.7,ze.CODE_SHIFT=98,ze.CODE_CODE_C=99,ze.CODE_CODE_B=100,ze.CODE_CODE_A=101,ze.CODE_FNC_1=102,ze.CODE_FNC_2=97,ze.CODE_FNC_3=96,ze.CODE_FNC_4_A=101,ze.CODE_FNC_4_B=100,ze.CODE_START_A=103,ze.CODE_START_B=104,ze.CODE_START_C=105,ze.CODE_STOP=106;class Ur extends Bt{constructor(l=!1,f=!1){super(),this.usingCheckDigit=l,this.extendedMode=f,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(l,f,p){let y=this.counters;y.fill(0),this.decodeRowResult="";let x=Ur.findAsteriskPattern(f,y),_=f.getNextSet(x[1]),N=f.getSize(),k,B;do{Ur.recordPattern(f,_,y);let ye=Ur.toNarrowWidePattern(y);if(ye<0)throw new G;k=Ur.patternToChar(ye),this.decodeRowResult+=k,B=_;for(let be of y)_+=be;_=f.getNextSet(_)}while(k!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let q=0;for(let ye of y)q+=ye;let X=_-B-q;if(_!==N&&X*2<q)throw new G;if(this.usingCheckDigit){let ye=this.decodeRowResult.length-1,be=0;for(let ke=0;ke<ye;ke++)be+=Ur.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ke));if(this.decodeRowResult.charAt(ye)!==Ur.ALPHABET_STRING.charAt(be%43))throw new b;this.decodeRowResult=this.decodeRowResult.substring(0,ye)}if(this.decodeRowResult.length===0)throw new G;let te;this.extendedMode?te=Ur.decodeExtended(this.decodeRowResult):te=this.decodeRowResult;let ce=(x[1]+x[0])/2,ge=B+q/2;return new pe(te,null,0,[new he(ce,l),new he(ge,l)],_e.CODE_39,new Date().getTime())}static findAsteriskPattern(l,f){let p=l.getSize(),y=l.getNextSet(0),x=0,_=y,N=!1,k=f.length;for(let B=y;B<p;B++)if(l.get(B)!==N)f[x]++;else{if(x===k-1){if(this.toNarrowWidePattern(f)===Ur.ASTERISK_ENCODING&&l.isRange(Math.max(0,_-Math.floor((B-_)/2)),_,!1))return[_,B];_+=f[0]+f[1],f.copyWithin(0,2,2+x-1),f[x-1]=0,f[x]=0,x--}else x++;f[x]=1,N=!N}throw new G}static toNarrowWidePattern(l){let f=l.length,p=0,y;do{let x=2147483647;for(let k of l)k<x&&k>p&&(x=k);p=x,y=0;let _=0,N=0;for(let k=0;k<f;k++){let B=l[k];B>p&&(N|=1<<f-1-k,y++,_+=B)}if(y===3){for(let k=0;k<f&&y>0;k++){let B=l[k];if(B>p&&(y--,B*2>=_))return-1}return N}}while(y>3);return-1}static patternToChar(l){for(let f=0;f<Ur.CHARACTER_ENCODINGS.length;f++)if(Ur.CHARACTER_ENCODINGS[f]===l)return Ur.ALPHABET_STRING.charAt(f);if(l===Ur.ASTERISK_ENCODING)return"*";throw new G}static decodeExtended(l){let f=l.length,p="";for(let y=0;y<f;y++){let x=l.charAt(y);if(x==="+"||x==="$"||x==="%"||x==="/"){let _=l.charAt(y+1),N="\0";switch(x){case"+":if(_>="A"&&_<="Z")N=String.fromCharCode(_.charCodeAt(0)+32);else throw new M;break;case"$":if(_>="A"&&_<="Z")N=String.fromCharCode(_.charCodeAt(0)-64);else throw new M;break;case"%":if(_>="A"&&_<="E")N=String.fromCharCode(_.charCodeAt(0)-38);else if(_>="F"&&_<="J")N=String.fromCharCode(_.charCodeAt(0)-11);else if(_>="K"&&_<="O")N=String.fromCharCode(_.charCodeAt(0)+16);else if(_>="P"&&_<="T")N=String.fromCharCode(_.charCodeAt(0)+43);else if(_==="U")N="\0";else if(_==="V")N="@";else if(_==="W")N="`";else if(_==="X"||_==="Y"||_==="Z")N="";else throw new M;break;case"/":if(_>="A"&&_<="O")N=String.fromCharCode(_.charCodeAt(0)-32);else if(_==="Z")N=":";else throw new M;break}p+=N,y++}else p+=x}return p}}Ur.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ur.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ur.ASTERISK_ENCODING=148;class gr extends Bt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(l,f,p){let y=this.decodeStart(f),x=this.decodeEnd(f),_=new Z;gr.decodeMiddle(f,y[1],x[0],_);let N=_.toString(),k=null;p!=null&&(k=p.get(D.ALLOWED_LENGTHS)),k==null&&(k=gr.DEFAULT_ALLOWED_LENGTHS);let B=N.length,q=!1,X=0;for(let ge of k){if(B===ge){q=!0;break}ge>X&&(X=ge)}if(!q&&B>X&&(q=!0),!q)throw new M;const te=[new he(y[1],l),new he(x[0],l)];return new pe(N,null,0,te,_e.ITF,new Date().getTime())}static decodeMiddle(l,f,p,y){let x=new Int32Array(10),_=new Int32Array(5),N=new Int32Array(5);for(x.fill(0),_.fill(0),N.fill(0);f<p;){Bt.recordPattern(l,f,x);for(let B=0;B<5;B++){let q=2*B;_[B]=x[q],N[B]=x[q+1]}let k=gr.decodeDigit(_);y.append(k.toString()),k=this.decodeDigit(N),y.append(k.toString()),x.forEach(function(B){f+=B})}}decodeStart(l){let f=gr.skipWhiteSpace(l),p=gr.findGuardPattern(l,f,gr.START_PATTERN);return this.narrowLineWidth=(p[1]-p[0])/4,this.validateQuietZone(l,p[0]),p}validateQuietZone(l,f){let p=this.narrowLineWidth*10;p=p<f?p:f;for(let y=f-1;p>0&&y>=0&&!l.get(y);y--)p--;if(p!==0)throw new G}static skipWhiteSpace(l){const f=l.getSize(),p=l.getNextSet(0);if(p===f)throw new G;return p}decodeEnd(l){l.reverse();try{let f=gr.skipWhiteSpace(l),p;try{p=gr.findGuardPattern(l,f,gr.END_PATTERN_REVERSED[0])}catch(x){x instanceof G&&(p=gr.findGuardPattern(l,f,gr.END_PATTERN_REVERSED[1]))}this.validateQuietZone(l,p[0]);let y=p[0];return p[0]=l.getSize()-p[1],p[1]=l.getSize()-y,p}finally{l.reverse()}}static findGuardPattern(l,f,p){let y=p.length,x=new Int32Array(y),_=l.getSize(),N=!1,k=0,B=f;x.fill(0);for(let q=f;q<_;q++)if(l.get(q)!==N)x[k]++;else{if(k===y-1){if(Bt.patternMatchVariance(x,p,gr.MAX_INDIVIDUAL_VARIANCE)<gr.MAX_AVG_VARIANCE)return[B,q];B+=x[0]+x[1],E.arraycopy(x,2,x,0,k-1),x[k-1]=0,x[k]=0,k--}else k++;x[k]=1,N=!N}throw new G}static decodeDigit(l){let f=gr.MAX_AVG_VARIANCE,p=-1,y=gr.PATTERNS.length;for(let x=0;x<y;x++){let _=gr.PATTERNS[x],N=Bt.patternMatchVariance(l,_,gr.MAX_INDIVIDUAL_VARIANCE);N<f?(f=N,p=x):N===f&&(p=-1)}if(p>=0)return p%10;throw new G}}gr.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],gr.MAX_AVG_VARIANCE=.38,gr.MAX_INDIVIDUAL_VARIANCE=.5,gr.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],gr.START_PATTERN=Int32Array.from([1,1,1,1]),gr.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class $r extends Bt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(l){let f=!1,p,y=0,x=Int32Array.from([0,0,0]);for(;!f;){x=Int32Array.from([0,0,0]),p=$r.findGuardPattern(l,y,!1,this.START_END_PATTERN,x);let _=p[0];y=p[1];let N=_-(y-_);N>=0&&(f=l.isRange(N,_,!1))}return p}static checkChecksum(l){return $r.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let f=l.length;if(f===0)return!1;let p=parseInt(l.charAt(f-1),10);return $r.getStandardUPCEANChecksum(l.substring(0,f-1))===p}static getStandardUPCEANChecksum(l){let f=l.length,p=0;for(let y=f-1;y>=0;y-=2){let x=l.charAt(y).charCodeAt(0)-48;if(x<0||x>9)throw new M;p+=x}p*=3;for(let y=f-2;y>=0;y-=2){let x=l.charAt(y).charCodeAt(0)-48;if(x<0||x>9)throw new M;p+=x}return(1e3-p)%10}static decodeEnd(l,f){return $r.findGuardPattern(l,f,!1,$r.START_END_PATTERN,new Int32Array($r.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(l,f,p,y){return this.findGuardPattern(l,f,p,y,new Int32Array(y.length))}static findGuardPattern(l,f,p,y,x){let _=l.getSize();f=p?l.getNextUnset(f):l.getNextSet(f);let N=0,k=f,B=y.length,q=p;for(let X=f;X<_;X++)if(l.get(X)!==q)x[N]++;else{if(N===B-1){if(Bt.patternMatchVariance(x,y,$r.MAX_INDIVIDUAL_VARIANCE)<$r.MAX_AVG_VARIANCE)return Int32Array.from([k,X]);k+=x[0]+x[1];let te=x.slice(2,x.length-1);for(let ce=0;ce<N-1;ce++)x[ce]=te[ce];x[N-1]=0,x[N]=0,N--}else N++;x[N]=1,q=!q}throw new G}static decodeDigit(l,f,p,y){this.recordPattern(l,p,f);let x=this.MAX_AVG_VARIANCE,_=-1,N=y.length;for(let k=0;k<N;k++){let B=y[k],q=Bt.patternMatchVariance(f,B,$r.MAX_INDIVIDUAL_VARIANCE);q<x&&(x=q,_=k)}if(_>=0)return _;throw new G}}$r.MAX_AVG_VARIANCE=.48,$r.MAX_INDIVIDUAL_VARIANCE=.7,$r.START_END_PATTERN=Int32Array.from([1,1,1]),$r.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),$r.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),$r.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class us{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,f,p){let y=this.decodeRowStringBuffer,x=this.decodeMiddle(f,p,y),_=y.toString(),N=us.parseExtensionString(_),k=[new he((p[0]+p[1])/2,l),new he(x,l)],B=new pe(_,null,0,k,_e.UPC_EAN_EXTENSION,new Date().getTime());return N!=null&&B.putAllMetadata(N),B}decodeMiddle(l,f,p){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let x=l.getSize(),_=f[1],N=0;for(let B=0;B<5&&_<x;B++){let q=$r.decodeDigit(l,y,_,$r.L_AND_G_PATTERNS);p+=String.fromCharCode(48+q%10);for(let X of y)_+=X;q>=10&&(N|=1<<4-B),B!==4&&(_=l.getNextSet(_),_=l.getNextUnset(_))}if(p.length!==5)throw new G;let k=this.determineCheckDigit(N);if(us.extensionChecksum(p.toString())!==k)throw new G;return _}static extensionChecksum(l){let f=l.length,p=0;for(let y=f-2;y>=0;y-=2)p+=l.charAt(y).charCodeAt(0)-48;p*=3;for(let y=f-1;y>=0;y-=2)p+=l.charAt(y).charCodeAt(0)-48;return p*=3,p%10}determineCheckDigit(l){for(let f=0;f<10;f++)if(l===this.CHECK_DIGIT_ENCODINGS[f])return f;throw new G}static parseExtensionString(l){if(l.length!==5)return null;let f=us.parseExtension5String(l);return f==null?null:new Map([[Le.SUGGESTED_PRICE,f]])}static parseExtension5String(l){let f;switch(l.charAt(0)){case"0":f="";break;case"5":f="$";break;case"9":switch(l){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}f="";break;default:f="";break}let p=parseInt(l.substring(1)),y=(p/100).toString(),x=p%100,_=x<10?"0"+x:x.toString();return f+y+"."+_}}class so{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,f,p){let y=this.decodeRowStringBuffer,x=this.decodeMiddle(f,p,y),_=y.toString(),N=so.parseExtensionString(_),k=[new he((p[0]+p[1])/2,l),new he(x,l)],B=new pe(_,null,0,k,_e.UPC_EAN_EXTENSION,new Date().getTime());return N!=null&&B.putAllMetadata(N),B}decodeMiddle(l,f,p){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let x=l.getSize(),_=f[1],N=0;for(let k=0;k<2&&_<x;k++){let B=$r.decodeDigit(l,y,_,$r.L_AND_G_PATTERNS);p+=String.fromCharCode(48+B%10);for(let q of y)_+=q;B>=10&&(N|=1<<1-k),k!==1&&(_=l.getNextSet(_),_=l.getNextUnset(_))}if(p.length!==2)throw new G;if(parseInt(p.toString())%4!==N)throw new G;return _}static parseExtensionString(l){return l.length!==2?null:new Map([[Le.ISSUE_NUMBER,parseInt(l)]])}}class Io{static decodeRow(l,f,p){let y=$r.findGuardPattern(f,p,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new us().decodeRow(l,f,y)}catch{return new so().decodeRow(l,f,y)}}}Io.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class yr extends $r{constructor(){super(),this.decodeRowStringBuffer="",yr.L_AND_G_PATTERNS=yr.L_PATTERNS.map(l=>Int32Array.from(l));for(let l=10;l<20;l++){let f=yr.L_PATTERNS[l-10],p=new Int32Array(f.length);for(let y=0;y<f.length;y++)p[y]=f[f.length-y-1];yr.L_AND_G_PATTERNS[l]=p}}decodeRow(l,f,p){let y=yr.findStartGuardPattern(f),x=p==null?null:p.get(D.NEED_RESULT_POINT_CALLBACK);if(x!=null){const Ge=new he((y[0]+y[1])/2,l);x.foundPossibleResultPoint(Ge)}let _=this.decodeMiddle(f,y,this.decodeRowStringBuffer),N=_.rowOffset,k=_.resultString;if(x!=null){const Ge=new he(N,l);x.foundPossibleResultPoint(Ge)}let B=this.decodeEnd(f,N);if(x!=null){const Ge=new he((B[0]+B[1])/2,l);x.foundPossibleResultPoint(Ge)}let q=B[1],X=q+(q-B[0]);if(X>=f.getSize()||!f.isRange(q,X,!1))throw new G;let te=k.toString();if(te.length<8)throw new M;if(!yr.checkChecksum(te))throw new b;let ce=(y[1]+y[0])/2,ge=(B[1]+B[0])/2,ye=this.getBarcodeFormat(),be=[new he(ce,l),new he(ge,l)],ke=new pe(te,null,0,be,ye,new Date().getTime()),Je=0;try{let Ge=Io.decodeRow(l,f,B[1]);ke.putMetadata(Le.UPC_EAN_EXTENSION,Ge.getText()),ke.putAllMetadata(Ge.getResultMetadata()),ke.addResultPoints(Ge.getResultPoints()),Je=Ge.getText().length}catch{}let tt=p==null?null:p.get(D.ALLOWED_EAN_EXTENSIONS);if(tt!=null){let Ge=!1;for(let wr in tt)if(Je.toString()===wr){Ge=!0;break}if(!Ge)throw new G}return ke}decodeEnd(l,f){return yr.findGuardPattern(l,f,!1,yr.START_END_PATTERN,new Int32Array(yr.START_END_PATTERN.length).fill(0))}static checkChecksum(l){return yr.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let f=l.length;if(f===0)return!1;let p=parseInt(l.charAt(f-1),10);return yr.getStandardUPCEANChecksum(l.substring(0,f-1))===p}static getStandardUPCEANChecksum(l){let f=l.length,p=0;for(let y=f-1;y>=0;y-=2){let x=l.charAt(y).charCodeAt(0)-48;if(x<0||x>9)throw new M;p+=x}p*=3;for(let y=f-2;y>=0;y-=2){let x=l.charAt(y).charCodeAt(0)-48;if(x<0||x>9)throw new M;p+=x}return(1e3-p)%10}}class xi extends yr{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,f,p){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let x=l.getSize(),_=f[1],N=0;for(let B=0;B<6&&_<x;B++){let q=yr.decodeDigit(l,y,_,yr.L_AND_G_PATTERNS);p+=String.fromCharCode(48+q%10);for(let X of y)_+=X;q>=10&&(N|=1<<5-B)}p=xi.determineFirstDigit(p,N),_=yr.findGuardPattern(l,_,!0,yr.MIDDLE_PATTERN,new Int32Array(yr.MIDDLE_PATTERN.length).fill(0))[1];for(let B=0;B<6&&_<x;B++){let q=yr.decodeDigit(l,y,_,yr.L_PATTERNS);p+=String.fromCharCode(48+q);for(let X of y)_+=X}return{rowOffset:_,resultString:p}}getBarcodeFormat(){return _e.EAN_13}static determineFirstDigit(l,f){for(let p=0;p<10;p++)if(f===this.FIRST_DIGIT_ENCODINGS[p])return l=String.fromCharCode(48+p)+l,l;throw new G}}xi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ds extends yr{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,f,p){const y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let x=l.getSize(),_=f[1];for(let k=0;k<4&&_<x;k++){let B=yr.decodeDigit(l,y,_,yr.L_PATTERNS);p+=String.fromCharCode(48+B);for(let q of y)_+=q}_=yr.findGuardPattern(l,_,!0,yr.MIDDLE_PATTERN,new Int32Array(yr.MIDDLE_PATTERN.length).fill(0))[1];for(let k=0;k<4&&_<x;k++){let B=yr.decodeDigit(l,y,_,yr.L_PATTERNS);p+=String.fromCharCode(48+B);for(let q of y)_+=q}return{rowOffset:_,resultString:p}}getBarcodeFormat(){return _e.EAN_8}}class Hc extends yr{constructor(){super(...arguments),this.ean13Reader=new xi}getBarcodeFormat(){return _e.UPC_A}decode(l,f){return this.maybeReturnResult(this.ean13Reader.decode(l))}decodeRow(l,f,p){return this.maybeReturnResult(this.ean13Reader.decodeRow(l,f,p))}decodeMiddle(l,f,p){return this.ean13Reader.decodeMiddle(l,f,p)}maybeReturnResult(l){let f=l.getText();if(f.charAt(0)==="0"){let p=new pe(f.substring(1),null,null,l.getResultPoints(),_e.UPC_A);return l.getResultMetadata()!=null&&p.putAllMetadata(l.getResultMetadata()),p}else throw new G}reset(){this.ean13Reader.reset()}}class Pt extends yr{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(l,f,p){const y=this.decodeMiddleCounters.map(B=>B);y[0]=0,y[1]=0,y[2]=0,y[3]=0;const x=l.getSize();let _=f[1],N=0;for(let B=0;B<6&&_<x;B++){const q=Pt.decodeDigit(l,y,_,Pt.L_AND_G_PATTERNS);p+=String.fromCharCode(48+q%10);for(let X of y)_+=X;q>=10&&(N|=1<<5-B)}let k=Pt.determineNumSysAndCheckDigit(p,N);return{rowOffset:_,resultString:k}}decodeEnd(l,f){return Pt.findGuardPatternWithoutCounters(l,f,!0,Pt.MIDDLE_END_PATTERN)}checkChecksum(l){return yr.checkChecksum(Pt.convertUPCEtoUPCA(l))}static determineNumSysAndCheckDigit(l,f){for(let p=0;p<=1;p++)for(let y=0;y<10;y++)if(f===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[p][y]){let x=String.fromCharCode(48+p),_=String.fromCharCode(48+y);return x+l+_}throw G.getNotFoundInstance()}getBarcodeFormat(){return _e.UPC_E}static convertUPCEtoUPCA(l){const f=l.slice(1,7).split("").map(x=>x.charCodeAt(0)),p=new Z;p.append(l.charAt(0));let y=f[5];switch(y){case 0:case 1:case 2:p.appendChars(f,0,2),p.append(y),p.append("0000"),p.appendChars(f,2,3);break;case 3:p.appendChars(f,0,3),p.append("00000"),p.appendChars(f,3,2);break;case 4:p.appendChars(f,0,4),p.append("00000"),p.append(f[4]);break;default:p.appendChars(f,0,5),p.append("0000"),p.append(y);break}return l.length>=8&&p.append(l.charAt(7)),p.toString()}}Pt.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Pt.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Or extends Bt{constructor(l){super();let f=l==null?null:l.get(D.POSSIBLE_FORMATS),p=[];n(f)?(p.push(new xi),p.push(new Hc),p.push(new ds),p.push(new Pt)):(f.indexOf(_e.EAN_13)>-1&&p.push(new xi),f.indexOf(_e.UPC_A)>-1&&p.push(new Hc),f.indexOf(_e.EAN_8)>-1&&p.push(new ds),f.indexOf(_e.UPC_E)>-1&&p.push(new Pt)),this.readers=p}decodeRow(l,f,p){for(let y of this.readers)try{const x=y.decodeRow(l,f,p),_=x.getBarcodeFormat()===_e.EAN_13&&x.getText().charAt(0)==="0",N=p==null?null:p.get(D.POSSIBLE_FORMATS),k=N==null||N.includes(_e.UPC_A);if(_&&k){const B=x.getRawBytes(),q=new pe(x.getText().substring(1),B,B?B.length:null,x.getResultPoints(),_e.UPC_A);return q.putAllMetadata(x.getResultMetadata()),q}return x}catch{}throw new G}reset(){for(let l of this.readers)l.reset()}}class ir extends Bt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(l,f){for(let p=0;p<f.length;p++)if(Bt.patternMatchVariance(l,f[p],ir.MAX_INDIVIDUAL_VARIANCE)<ir.MAX_AVG_VARIANCE)return p;throw new G}static count(l){return ut.sum(new Int32Array(l))}static increment(l,f){let p=0,y=f[0];for(let x=1;x<l.length;x++)f[x]>y&&(y=f[x],p=x);l[p]++}static decrement(l,f){let p=0,y=f[0];for(let x=1;x<l.length;x++)f[x]<y&&(y=f[x],p=x);l[p]--}static isFinderPattern(l){let f=l[0]+l[1],p=f+l[2]+l[3],y=f/p;if(y>=ir.MIN_FINDER_PATTERN_RATIO&&y<=ir.MAX_FINDER_PATTERN_RATIO){let x=Number.MAX_SAFE_INTEGER,_=Number.MIN_SAFE_INTEGER;for(let N of l)N>_&&(_=N),N<x&&(x=N);return _<10*x}return!1}}ir.MAX_AVG_VARIANCE=.2,ir.MAX_INDIVIDUAL_VARIANCE=.45,ir.MIN_FINDER_PATTERN_RATIO=9.5/12,ir.MAX_FINDER_PATTERN_RATIO=12.5/14;class Pn{constructor(l,f){this.value=l,this.checksumPortion=f}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(l){if(!(l instanceof Pn))return!1;const f=l;return this.value===f.value&&this.checksumPortion===f.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class si{constructor(l,f,p,y,x){this.value=l,this.startEnd=f,this.value=l,this.startEnd=f,this.resultPoints=new Array,this.resultPoints.push(new he(p,x)),this.resultPoints.push(new he(y,x))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(l){if(!(l instanceof si))return!1;const f=l;return this.value===f.value}hashCode(){return this.value}}class mn{constructor(){}static getRSSvalue(l,f,p){let y=0;for(let k of l)y+=k;let x=0,_=0,N=l.length;for(let k=0;k<N-1;k++){let B;for(B=1,_|=1<<k;B<l[k];B++,_&=~(1<<k)){let q=mn.combins(y-B-1,N-k-2);if(p&&_===0&&y-B-(N-k-1)>=N-k-1&&(q-=mn.combins(y-B-(N-k),N-k-2)),N-k-1>1){let X=0;for(let te=y-B-(N-k-2);te>f;te--)X+=mn.combins(y-B-te-1,N-k-3);q-=X*(N-1-k)}else y-B>f&&q--;x+=q}y-=B}return x}static combins(l,f){let p,y;l-f>f?(y=f,p=l-f):(y=l-f,p=f);let x=1,_=1;for(let N=l;N>p;N--)x*=N,_<=y&&(x/=_,_++);for(;_<=y;)x/=_,_++;return x}}class Ts{static buildBitArray(l){let f=l.length*2-1;l[l.length-1].getRightChar()==null&&(f-=1);let p=12*f,y=new L(p),x=0,N=l[0].getRightChar().getValue();for(let k=11;k>=0;--k)(N&1<<k)!=0&&y.set(x),x++;for(let k=1;k<l.length;++k){let B=l[k],q=B.getLeftChar().getValue();for(let X=11;X>=0;--X)(q&1<<X)!=0&&y.set(x),x++;if(B.getRightChar()!=null){let X=B.getRightChar().getValue();for(let te=11;te>=0;--te)(X&1<<te)!=0&&y.set(x),x++}}return y}}class gn{constructor(l,f){f?this.decodedInformation=null:(this.finished=l,this.decodedInformation=f)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class fs{constructor(l){this.newPosition=l}getNewPosition(){return this.newPosition}}class Gn extends fs{constructor(l,f){super(l),this.value=f}getValue(){return this.value}isFNC1(){return this.value===Gn.FNC1}}Gn.FNC1="$";class ra extends fs{constructor(l,f,p){super(l),p?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=f}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Oi extends fs{constructor(l,f,p){if(super(l),f<0||f>10||p<0||p>10)throw new M;this.firstDigit=f,this.secondDigit=p}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Oi.FNC1}isSecondDigitFNC1(){return this.secondDigit===Oi.FNC1}isAnyFNC1(){return this.firstDigit===Oi.FNC1||this.secondDigit===Oi.FNC1}}Oi.FNC1=10;class ht{constructor(){}static parseFieldsInGeneralPurpose(l){if(!l)return null;if(l.length<2)throw new G;let f=l.substring(0,2);for(let x of ht.TWO_DIGIT_DATA_LENGTH)if(x[0]===f)return x[1]===ht.VARIABLE_LENGTH?ht.processVariableAI(2,x[2],l):ht.processFixedAI(2,x[1],l);if(l.length<3)throw new G;let p=l.substring(0,3);for(let x of ht.THREE_DIGIT_DATA_LENGTH)if(x[0]===p)return x[1]===ht.VARIABLE_LENGTH?ht.processVariableAI(3,x[2],l):ht.processFixedAI(3,x[1],l);for(let x of ht.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(x[0]===p)return x[1]===ht.VARIABLE_LENGTH?ht.processVariableAI(4,x[2],l):ht.processFixedAI(4,x[1],l);if(l.length<4)throw new G;let y=l.substring(0,4);for(let x of ht.FOUR_DIGIT_DATA_LENGTH)if(x[0]===y)return x[1]===ht.VARIABLE_LENGTH?ht.processVariableAI(4,x[2],l):ht.processFixedAI(4,x[1],l);throw new G}static processFixedAI(l,f,p){if(p.length<l)throw new G;let y=p.substring(0,l);if(p.length<l+f)throw new G;let x=p.substring(l,l+f),_=p.substring(l+f),N="("+y+")"+x,k=ht.parseFieldsInGeneralPurpose(_);return k==null?N:N+k}static processVariableAI(l,f,p){let y=p.substring(0,l),x;p.length<l+f?x=p.length:x=l+f;let _=p.substring(l,x),N=p.substring(x),k="("+y+")"+_,B=ht.parseFieldsInGeneralPurpose(N);return B==null?k:k+B}}ht.VARIABLE_LENGTH=[],ht.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ht.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ht.VARIABLE_LENGTH,20],["22",ht.VARIABLE_LENGTH,29],["30",ht.VARIABLE_LENGTH,8],["37",ht.VARIABLE_LENGTH,8],["90",ht.VARIABLE_LENGTH,30],["91",ht.VARIABLE_LENGTH,30],["92",ht.VARIABLE_LENGTH,30],["93",ht.VARIABLE_LENGTH,30],["94",ht.VARIABLE_LENGTH,30],["95",ht.VARIABLE_LENGTH,30],["96",ht.VARIABLE_LENGTH,30],["97",ht.VARIABLE_LENGTH,3],["98",ht.VARIABLE_LENGTH,30],["99",ht.VARIABLE_LENGTH,30]],ht.THREE_DIGIT_DATA_LENGTH=[["240",ht.VARIABLE_LENGTH,30],["241",ht.VARIABLE_LENGTH,30],["242",ht.VARIABLE_LENGTH,6],["250",ht.VARIABLE_LENGTH,30],["251",ht.VARIABLE_LENGTH,30],["253",ht.VARIABLE_LENGTH,17],["254",ht.VARIABLE_LENGTH,20],["400",ht.VARIABLE_LENGTH,30],["401",ht.VARIABLE_LENGTH,30],["402",17],["403",ht.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ht.VARIABLE_LENGTH,20],["421",ht.VARIABLE_LENGTH,15],["422",3],["423",ht.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ht.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ht.VARIABLE_LENGTH,15],["391",ht.VARIABLE_LENGTH,18],["392",ht.VARIABLE_LENGTH,15],["393",ht.VARIABLE_LENGTH,18],["703",ht.VARIABLE_LENGTH,30]],ht.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ht.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ht.VARIABLE_LENGTH,20],["8003",ht.VARIABLE_LENGTH,30],["8004",ht.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ht.VARIABLE_LENGTH,30],["8008",ht.VARIABLE_LENGTH,12],["8018",18],["8020",ht.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ht.VARIABLE_LENGTH,70],["8200",ht.VARIABLE_LENGTH,70]];class Nl{constructor(l){this.buffer=new Z,this.information=l}decodeAllCodes(l,f){let p=f,y=null;do{let x=this.decodeGeneralPurposeField(p,y),_=ht.parseFieldsInGeneralPurpose(x.getNewString());if(_!=null&&l.append(_),x.isRemaining()?y=""+x.getRemainingValue():y=null,p===x.getNewPosition())break;p=x.getNewPosition()}while(!0);return l.toString()}isStillNumeric(l){if(l+7>this.information.getSize())return l+4<=this.information.getSize();for(let f=l;f<l+3;++f)if(this.information.get(f))return!0;return this.information.get(l+3)}decodeNumeric(l){if(l+7>this.information.getSize()){let x=this.extractNumericValueFromBitArray(l,4);return x===0?new Oi(this.information.getSize(),Oi.FNC1,Oi.FNC1):new Oi(this.information.getSize(),x-1,Oi.FNC1)}let f=this.extractNumericValueFromBitArray(l,7),p=(f-8)/11,y=(f-8)%11;return new Oi(l+7,p,y)}extractNumericValueFromBitArray(l,f){return Nl.extractNumericValueFromBitArray(this.information,l,f)}static extractNumericValueFromBitArray(l,f,p){let y=0;for(let x=0;x<p;++x)l.get(f+x)&&(y|=1<<p-x-1);return y}decodeGeneralPurposeField(l,f){this.buffer.setLengthToZero(),f!=null&&this.buffer.append(f),this.current.setPosition(l);let p=this.parseBlocks();return p!=null&&p.isRemaining()?new ra(this.current.getPosition(),this.buffer.toString(),p.getRemainingValue()):new ra(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let l,f;do{let p=this.current.getPosition();if(this.current.isAlpha()?(f=this.parseAlphaBlock(),l=f.isFinished()):this.current.isIsoIec646()?(f=this.parseIsoIec646Block(),l=f.isFinished()):(f=this.parseNumericBlock(),l=f.isFinished()),!(p!==this.current.getPosition())&&!l)break}while(!l);return f.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let l=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFirstDigitFNC1()){let f;return l.isSecondDigitFNC1()?f=new ra(this.current.getPosition(),this.buffer.toString()):f=new ra(this.current.getPosition(),this.buffer.toString(),l.getSecondDigit()),new gn(!0,f)}if(this.buffer.append(l.getFirstDigit()),l.isSecondDigitFNC1()){let f=new ra(this.current.getPosition(),this.buffer.toString());return new gn(!0,f)}this.buffer.append(l.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new gn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let l=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let f=new ra(this.current.getPosition(),this.buffer.toString());return new gn(!0,f)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new gn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let l=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let f=new ra(this.current.getPosition(),this.buffer.toString());return new gn(!0,f)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new gn(!1)}isStillIsoIec646(l){if(l+5>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(l,5);if(f>=5&&f<16)return!0;if(l+7>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(l,7);if(p>=64&&p<116)return!0;if(l+8>this.information.getSize())return!1;let y=this.extractNumericValueFromBitArray(l,8);return y>=232&&y<253}decodeIsoIec646(l){let f=this.extractNumericValueFromBitArray(l,5);if(f===15)return new Gn(l+5,Gn.FNC1);if(f>=5&&f<15)return new Gn(l+5,"0"+(f-5));let p=this.extractNumericValueFromBitArray(l,7);if(p>=64&&p<90)return new Gn(l+7,""+(p+1));if(p>=90&&p<116)return new Gn(l+7,""+(p+7));let y=this.extractNumericValueFromBitArray(l,8),x;switch(y){case 232:x="!";break;case 233:x='"';break;case 234:x="%";break;case 235:x="&";break;case 236:x="'";break;case 237:x="(";break;case 238:x=")";break;case 239:x="*";break;case 240:x="+";break;case 241:x=",";break;case 242:x="-";break;case 243:x=".";break;case 244:x="/";break;case 245:x=":";break;case 246:x=";";break;case 247:x="<";break;case 248:x="=";break;case 249:x=">";break;case 250:x="?";break;case 251:x="_";break;case 252:x=" ";break;default:throw new M}return new Gn(l+8,x)}isStillAlpha(l){if(l+5>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(l,5);if(f>=5&&f<16)return!0;if(l+6>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(l,6);return p>=16&&p<63}decodeAlphanumeric(l){let f=this.extractNumericValueFromBitArray(l,5);if(f===15)return new Gn(l+5,Gn.FNC1);if(f>=5&&f<15)return new Gn(l+5,"0"+(f-5));let p=this.extractNumericValueFromBitArray(l,6);if(p>=32&&p<58)return new Gn(l+6,""+(p+33));let y;switch(p){case 58:y="*";break;case 59:y=",";break;case 60:y="-";break;case 61:y=".";break;case 62:y="/";break;default:throw new st("Decoding invalid alphanumeric value: "+p)}return new Gn(l+6,y)}isAlphaTo646ToAlphaLatch(l){if(l+1>this.information.getSize())return!1;for(let f=0;f<5&&f+l<this.information.getSize();++f)if(f===2){if(!this.information.get(l+2))return!1}else if(this.information.get(l+f))return!1;return!0}isAlphaOr646ToNumericLatch(l){if(l+3>this.information.getSize())return!1;for(let f=l;f<l+3;++f)if(this.information.get(f))return!1;return!0}isNumericToAlphaNumericLatch(l){if(l+1>this.information.getSize())return!1;for(let f=0;f<4&&f+l<this.information.getSize();++f)if(this.information.get(l+f))return!1;return!0}}class Fh{constructor(l){this.information=l,this.generalDecoder=new Nl(l)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Fi extends Fh{constructor(l){super(l)}encodeCompressedGtin(l,f){l.append("(01)");let p=l.length();l.append("9"),this.encodeCompressedGtinWithoutAI(l,f,p)}encodeCompressedGtinWithoutAI(l,f,p){for(let y=0;y<4;++y){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(f+10*y,10);x/100===0&&l.append("0"),x/10===0&&l.append("0"),l.append(x)}Fi.appendCheckDigit(l,p)}static appendCheckDigit(l,f){let p=0;for(let y=0;y<13;y++){let x=l.charAt(y+f).charCodeAt(0)-48;p+=(y&1)===0?3*x:x}p=10-p%10,p===10&&(p=0),l.append(p)}}Fi.GTIN_SIZE=40;class hs extends Fi{constructor(l){super(l)}parseInformation(){let l=new Z;l.append("(01)");let f=l.length(),p=this.getGeneralDecoder().extractNumericValueFromBitArray(hs.HEADER_SIZE,4);return l.append(p),this.encodeCompressedGtinWithoutAI(l,hs.HEADER_SIZE+4,f),this.getGeneralDecoder().decodeAllCodes(l,hs.HEADER_SIZE+44)}}hs.HEADER_SIZE=4;class Gc extends Fh{constructor(l){super(l)}parseInformation(){let l=new Z;return this.getGeneralDecoder().decodeAllCodes(l,Gc.HEADER_SIZE)}}Gc.HEADER_SIZE=5;class Kc extends Fi{constructor(l){super(l)}encodeCompressedWeight(l,f,p){let y=this.getGeneralDecoder().extractNumericValueFromBitArray(f,p);this.addWeightCode(l,y);let x=this.checkWeight(y),_=1e5;for(let N=0;N<5;++N)x/_===0&&l.append("0"),_/=10;l.append(x)}}class na extends Kc{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()!=na.HEADER_SIZE+Kc.GTIN_SIZE+na.WEIGHT_SIZE)throw new G;let l=new Z;return this.encodeCompressedGtin(l,na.HEADER_SIZE),this.encodeCompressedWeight(l,na.HEADER_SIZE+Kc.GTIN_SIZE,na.WEIGHT_SIZE),l.toString()}}na.HEADER_SIZE=5,na.WEIGHT_SIZE=15;class zg extends na{constructor(l){super(l)}addWeightCode(l,f){l.append("(3103)")}checkWeight(l){return l}}class Hg extends na{constructor(l){super(l)}addWeightCode(l,f){f<1e4?l.append("(3202)"):l.append("(3203)")}checkWeight(l){return l<1e4?l:l-1e4}}class ks extends Fi{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<ks.HEADER_SIZE+Fi.GTIN_SIZE)throw new G;let l=new Z;this.encodeCompressedGtin(l,ks.HEADER_SIZE);let f=this.getGeneralDecoder().extractNumericValueFromBitArray(ks.HEADER_SIZE+Fi.GTIN_SIZE,ks.LAST_DIGIT_SIZE);l.append("(392"),l.append(f),l.append(")");let p=this.getGeneralDecoder().decodeGeneralPurposeField(ks.HEADER_SIZE+Fi.GTIN_SIZE+ks.LAST_DIGIT_SIZE,null);return l.append(p.getNewString()),l.toString()}}ks.HEADER_SIZE=8,ks.LAST_DIGIT_SIZE=2;class wi extends Fi{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<wi.HEADER_SIZE+Fi.GTIN_SIZE)throw new G;let l=new Z;this.encodeCompressedGtin(l,wi.HEADER_SIZE);let f=this.getGeneralDecoder().extractNumericValueFromBitArray(wi.HEADER_SIZE+Fi.GTIN_SIZE,wi.LAST_DIGIT_SIZE);l.append("(393"),l.append(f),l.append(")");let p=this.getGeneralDecoder().extractNumericValueFromBitArray(wi.HEADER_SIZE+Fi.GTIN_SIZE+wi.LAST_DIGIT_SIZE,wi.FIRST_THREE_DIGITS_SIZE);p/100==0&&l.append("0"),p/10==0&&l.append("0"),l.append(p);let y=this.getGeneralDecoder().decodeGeneralPurposeField(wi.HEADER_SIZE+Fi.GTIN_SIZE+wi.LAST_DIGIT_SIZE+wi.FIRST_THREE_DIGITS_SIZE,null);return l.append(y.getNewString()),l.toString()}}wi.HEADER_SIZE=8,wi.LAST_DIGIT_SIZE=2,wi.FIRST_THREE_DIGITS_SIZE=10;class nn extends Kc{constructor(l,f,p){super(l),this.dateCode=p,this.firstAIdigits=f}parseInformation(){if(this.getInformation().getSize()!=nn.HEADER_SIZE+nn.GTIN_SIZE+nn.WEIGHT_SIZE+nn.DATE_SIZE)throw new G;let l=new Z;return this.encodeCompressedGtin(l,nn.HEADER_SIZE),this.encodeCompressedWeight(l,nn.HEADER_SIZE+nn.GTIN_SIZE,nn.WEIGHT_SIZE),this.encodeCompressedDate(l,nn.HEADER_SIZE+nn.GTIN_SIZE+nn.WEIGHT_SIZE),l.toString()}encodeCompressedDate(l,f){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(f,nn.DATE_SIZE);if(p==38400)return;l.append("("),l.append(this.dateCode),l.append(")");let y=p%32;p/=32;let x=p%12+1;p/=12;let _=p;_/10==0&&l.append("0"),l.append(_),x/10==0&&l.append("0"),l.append(x),y/10==0&&l.append("0"),l.append(y)}addWeightCode(l,f){l.append("("),l.append(this.firstAIdigits),l.append(f/1e5),l.append(")")}checkWeight(l){return l%1e5}}nn.HEADER_SIZE=8,nn.WEIGHT_SIZE=20,nn.DATE_SIZE=16;function Gg(Y){try{if(Y.get(1))return new hs(Y);if(!Y.get(2))return new Gc(Y);switch(Nl.extractNumericValueFromBitArray(Y,1,4)){case 4:return new zg(Y);case 5:return new Hg(Y)}switch(Nl.extractNumericValueFromBitArray(Y,1,5)){case 12:return new ks(Y);case 13:return new wi(Y)}switch(Nl.extractNumericValueFromBitArray(Y,1,7)){case 56:return new nn(Y,"310","11");case 57:return new nn(Y,"320","11");case 58:return new nn(Y,"310","13");case 59:return new nn(Y,"320","13");case 60:return new nn(Y,"310","15");case 61:return new nn(Y,"320","15");case 62:return new nn(Y,"310","17");case 63:return new nn(Y,"320","17")}}catch(l){throw console.log(l),new st("unknown decoder: "+Y)}}class Vr{constructor(l,f,p,y){this.leftchar=l,this.rightchar=f,this.finderpattern=p,this.maybeLast=y}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(l,f){return l instanceof Vr?Vr.equalsOrNull(l.leftchar,f.leftchar)&&Vr.equalsOrNull(l.rightchar,f.rightchar)&&Vr.equalsOrNull(l.finderpattern,f.finderpattern):!1}static equalsOrNull(l,f){return l===null?f===null:Vr.equals(l,f)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Uh{constructor(l,f,p){this.pairs=l,this.rowNumber=f,this.wasReversed=p}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(l){return this.checkEqualitity(this,l)}toString(){return"{ "+this.pairs+" }"}equals(l,f){return l instanceof Uh?this.checkEqualitity(l,f)&&l.wasReversed===f.wasReversed:!1}checkEqualitity(l,f){if(!l||!f)return;let p;return l.forEach((y,x)=>{f.forEach(_=>{y.getLeftChar().getValue()===_.getLeftChar().getValue()&&y.getRightChar().getValue()===_.getRightChar().getValue()&&y.getFinderPatter().getValue()===_.getFinderPatter().getValue()&&(p=!0)})}),p}}class $e extends ir{constructor(l){super(...arguments),this.pairs=new Array($e.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=l===!0}decodeRow(l,f,p){this.pairs.length=0,this.startFromEven=!1;try{return $e.constructResult(this.decodeRow2pairs(l,f))}catch(y){this.verbose&&console.log(y)}return this.pairs.length=0,this.startFromEven=!0,$e.constructResult(this.decodeRow2pairs(l,f))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(l,f){let p=!1;for(;!p;)try{this.pairs.push(this.retrieveNextPair(f,this.pairs,l))}catch(x){if(x instanceof G){if(!this.pairs.length)throw new G;p=!0}}if(this.checkChecksum())return this.pairs;let y;if(this.rows.length?y=!0:y=!1,this.storeRow(l,!1),y){let x=this.checkRowsBoolean(!1);if(x!=null||(x=this.checkRowsBoolean(!0),x!=null))return x}throw new G}checkRowsBoolean(l){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,l&&(this.rows=this.rows.reverse());let f=null;try{f=this.checkRows(new Array,0)}catch(p){this.verbose&&console.log(p)}return l&&(this.rows=this.rows.reverse()),f}checkRows(l,f){for(let p=f;p<this.rows.length;p++){let y=this.rows[p];this.pairs.length=0;for(let _ of l)this.pairs.push(_.getPairs());if(this.pairs.push(y.getPairs()),!$e.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let x=new Array(l);x.push(y);try{return this.checkRows(x,p+1)}catch(_){this.verbose&&console.log(_)}}throw new G}static isValidSequence(l){for(let f of $e.FINDER_PATTERN_SEQUENCES){if(l.length>f.length)continue;let p=!0;for(let y=0;y<l.length;y++)if(l[y].getFinderPattern().getValue()!=f[y]){p=!1;break}if(p)return!0}return!1}storeRow(l,f){let p=0,y=!1,x=!1;for(;p<this.rows.length;){let _=this.rows[p];if(_.getRowNumber()>l){x=_.isEquivalent(this.pairs);break}y=_.isEquivalent(this.pairs),p++}x||y||$e.isPartialRow(this.pairs,this.rows)||(this.rows.push(p,new Uh(this.pairs,l,f)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(l,f){for(let p of f)if(p.getPairs().length!==l.length){for(let y of p.getPairs())for(let x of l)if(Vr.equals(y,x))break}}static isPartialRow(l,f){for(let p of f){let y=!0;for(let x of l){let _=!1;for(let N of p.getPairs())if(x.equals(N)){_=!0;break}if(!_){y=!1;break}}if(y)return!0}return!1}getRows(){return this.rows}static constructResult(l){let f=Ts.buildBitArray(l),y=Gg(f).parseInformation(),x=l[0].getFinderPattern().getResultPoints(),_=l[l.length-1].getFinderPattern().getResultPoints(),N=[x[0],x[1],_[0],_[1]];return new pe(y,null,null,N,_e.RSS_EXPANDED,null)}checkChecksum(){let l=this.pairs.get(0),f=l.getLeftChar(),p=l.getRightChar();if(p==null)return!1;let y=p.getChecksumPortion(),x=2;for(let N=1;N<this.pairs.size();++N){let k=this.pairs.get(N);y+=k.getLeftChar().getChecksumPortion(),x++;let B=k.getRightChar();B!=null&&(y+=B.getChecksumPortion(),x++)}return y%=211,211*(x-4)+y==f.getValue()}static getNextSecondBar(l,f){let p;return l.get(f)?(p=l.getNextUnset(f),p=l.getNextSet(p)):(p=l.getNextSet(f),p=l.getNextUnset(p)),p}retrieveNextPair(l,f,p){let y=f.length%2==0;this.startFromEven&&(y=!y);let x,_=!0,N=-1;do this.findNextPair(l,f,N),x=this.parseFoundFinderPattern(l,p,y),x==null?N=$e.getNextSecondBar(l,this.startEnd[0]):_=!1;while(_);let k=this.decodeDataCharacter(l,x,y,!0);if(!this.isEmptyPair(f)&&f[f.length-1].mustBeLast())throw new G;let B;try{B=this.decodeDataCharacter(l,x,y,!1)}catch(q){B=null,this.verbose&&console.log(q)}return new Vr(k,B,x,!0)}isEmptyPair(l){return l.length===0}findNextPair(l,f,p){let y=this.getDecodeFinderCounters();y[0]=0,y[1]=0,y[2]=0,y[3]=0;let x=l.getSize(),_;p>=0?_=p:this.isEmptyPair(f)?_=0:_=f[f.length-1].getFinderPattern().getStartEnd()[1];let N=f.length%2!=0;this.startFromEven&&(N=!N);let k=!1;for(;_<x&&(k=!l.get(_),!!k);)_++;let B=0,q=_;for(let X=_;X<x;X++)if(l.get(X)!=k)y[B]++;else{if(B==3){if(N&&$e.reverseCounters(y),$e.isFinderPattern(y)){this.startEnd[0]=q,this.startEnd[1]=X;return}N&&$e.reverseCounters(y),q+=y[0]+y[1],y[0]=y[2],y[1]=y[3],y[2]=0,y[3]=0,B--}else B++;y[B]=1,k=!k}throw new G}static reverseCounters(l){let f=l.length;for(let p=0;p<f/2;++p){let y=l[p];l[p]=l[f-p-1],l[f-p-1]=y}}parseFoundFinderPattern(l,f,p){let y,x,_;if(p){let B=this.startEnd[0]-1;for(;B>=0&&!l.get(B);)B--;B++,y=this.startEnd[0]-B,x=B,_=this.startEnd[1]}else x=this.startEnd[0],_=l.getNextUnset(this.startEnd[1]+1),y=_-this.startEnd[1];let N=this.getDecodeFinderCounters();E.arraycopy(N,0,N,1,N.length-1),N[0]=y;let k;try{k=this.parseFinderValue(N,$e.FINDER_PATTERNS)}catch{return null}return new si(k,[x,_],x,_,f)}decodeDataCharacter(l,f,p,y){let x=this.getDataCharacterCounters();for(let Fr=0;Fr<x.length;Fr++)x[Fr]=0;if(y)$e.recordPatternInReverse(l,f.getStartEnd()[0],x);else{$e.recordPattern(l,f.getStartEnd()[1],x);for(let Fr=0,jn=x.length-1;Fr<jn;Fr++,jn--){let Pi=x[Fr];x[Fr]=x[jn],x[jn]=Pi}}let _=17,N=ut.sum(new Int32Array(x))/_,k=(f.getStartEnd()[1]-f.getStartEnd()[0])/15;if(Math.abs(N-k)/k>.3)throw new G;let B=this.getOddCounts(),q=this.getEvenCounts(),X=this.getOddRoundingErrors(),te=this.getEvenRoundingErrors();for(let Fr=0;Fr<x.length;Fr++){let jn=1*x[Fr]/N,Pi=jn+.5;if(Pi<1){if(jn<.3)throw new G;Pi=1}else if(Pi>8){if(jn>8.7)throw new G;Pi=8}let Bo=Fr/2;(Fr&1)==0?(B[Bo]=Pi,X[Bo]=jn-Pi):(q[Bo]=Pi,te[Bo]=jn-Pi)}this.adjustOddEvenCounts(_);let ce=4*f.getValue()+(p?0:2)+(y?0:1)-1,ge=0,ye=0;for(let Fr=B.length-1;Fr>=0;Fr--){if($e.isNotA1left(f,p,y)){let jn=$e.WEIGHTS[ce][2*Fr];ye+=B[Fr]*jn}ge+=B[Fr]}let be=0;for(let Fr=q.length-1;Fr>=0;Fr--)if($e.isNotA1left(f,p,y)){let jn=$e.WEIGHTS[ce][2*Fr+1];be+=q[Fr]*jn}let ke=ye+be;if((ge&1)!=0||ge>13||ge<4)throw new G;let Je=(13-ge)/2,tt=$e.SYMBOL_WIDEST[Je],Ge=9-tt,wr=mn.getRSSvalue(B,tt,!0),er=mn.getRSSvalue(q,Ge,!1),$i=$e.EVEN_TOTAL_SUBSET[Je],Ds=$e.GSUM[Je],$n=wr*$i+er+Ds;return new Pn($n,ke)}static isNotA1left(l,f,p){return!(l.getValue()==0&&f&&p)}adjustOddEvenCounts(l){let f=ut.sum(new Int32Array(this.getOddCounts())),p=ut.sum(new Int32Array(this.getEvenCounts())),y=!1,x=!1;f>13?x=!0:f<4&&(y=!0);let _=!1,N=!1;p>13?N=!0:p<4&&(_=!0);let k=f+p-l,B=(f&1)==1,q=(p&1)==0;if(k==1)if(B){if(q)throw new G;x=!0}else{if(!q)throw new G;N=!0}else if(k==-1)if(B){if(q)throw new G;y=!0}else{if(!q)throw new G;_=!0}else if(k==0){if(B){if(!q)throw new G;f<p?(y=!0,N=!0):(x=!0,_=!0)}else if(q)throw new G}else throw new G;if(y){if(x)throw new G;$e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&$e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),_){if(N)throw new G;$e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}N&&$e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}$e.SYMBOL_WIDEST=[7,5,4,3,1],$e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],$e.GSUM=[0,348,1388,2948,3988],$e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],$e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],$e.FINDER_PAT_A=0,$e.FINDER_PAT_B=1,$e.FINDER_PAT_C=2,$e.FINDER_PAT_D=3,$e.FINDER_PAT_E=4,$e.FINDER_PAT_F=5,$e.FINDER_PATTERN_SEQUENCES=[[$e.FINDER_PAT_A,$e.FINDER_PAT_A],[$e.FINDER_PAT_A,$e.FINDER_PAT_B,$e.FINDER_PAT_B],[$e.FINDER_PAT_A,$e.FINDER_PAT_C,$e.FINDER_PAT_B,$e.FINDER_PAT_D],[$e.FINDER_PAT_A,$e.FINDER_PAT_E,$e.FINDER_PAT_B,$e.FINDER_PAT_D,$e.FINDER_PAT_C],[$e.FINDER_PAT_A,$e.FINDER_PAT_E,$e.FINDER_PAT_B,$e.FINDER_PAT_D,$e.FINDER_PAT_D,$e.FINDER_PAT_F],[$e.FINDER_PAT_A,$e.FINDER_PAT_E,$e.FINDER_PAT_B,$e.FINDER_PAT_D,$e.FINDER_PAT_E,$e.FINDER_PAT_F,$e.FINDER_PAT_F],[$e.FINDER_PAT_A,$e.FINDER_PAT_A,$e.FINDER_PAT_B,$e.FINDER_PAT_B,$e.FINDER_PAT_C,$e.FINDER_PAT_C,$e.FINDER_PAT_D,$e.FINDER_PAT_D],[$e.FINDER_PAT_A,$e.FINDER_PAT_A,$e.FINDER_PAT_B,$e.FINDER_PAT_B,$e.FINDER_PAT_C,$e.FINDER_PAT_C,$e.FINDER_PAT_D,$e.FINDER_PAT_E,$e.FINDER_PAT_E],[$e.FINDER_PAT_A,$e.FINDER_PAT_A,$e.FINDER_PAT_B,$e.FINDER_PAT_B,$e.FINDER_PAT_C,$e.FINDER_PAT_C,$e.FINDER_PAT_D,$e.FINDER_PAT_E,$e.FINDER_PAT_F,$e.FINDER_PAT_F],[$e.FINDER_PAT_A,$e.FINDER_PAT_A,$e.FINDER_PAT_B,$e.FINDER_PAT_B,$e.FINDER_PAT_C,$e.FINDER_PAT_D,$e.FINDER_PAT_D,$e.FINDER_PAT_E,$e.FINDER_PAT_E,$e.FINDER_PAT_F,$e.FINDER_PAT_F]],$e.MAX_PAIRS=11;class Kg extends Pn{constructor(l,f,p){super(l,f),this.count=0,this.finderPattern=p}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class en extends ir{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(l,f,p){const y=this.decodePair(f,!1,l,p);en.addOrTally(this.possibleLeftPairs,y),f.reverse();let x=this.decodePair(f,!0,l,p);en.addOrTally(this.possibleRightPairs,x),f.reverse();for(let _ of this.possibleLeftPairs)if(_.getCount()>1){for(let N of this.possibleRightPairs)if(N.getCount()>1&&en.checkChecksum(_,N))return en.constructResult(_,N)}throw new G}static addOrTally(l,f){if(f==null)return;let p=!1;for(let y of l)if(y.getValue()===f.getValue()){y.incrementCount(),p=!0;break}p||l.push(f)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(l,f){let p=4537077*l.getValue()+f.getValue(),y=new String(p).toString(),x=new Z;for(let B=13-y.length;B>0;B--)x.append("0");x.append(y);let _=0;for(let B=0;B<13;B++){let q=x.charAt(B).charCodeAt(0)-48;_+=(B&1)===0?3*q:q}_=10-_%10,_===10&&(_=0),x.append(_.toString());let N=l.getFinderPattern().getResultPoints(),k=f.getFinderPattern().getResultPoints();return new pe(x.toString(),null,0,[N[0],N[1],k[0],k[1]],_e.RSS_14,new Date().getTime())}static checkChecksum(l,f){let p=(l.getChecksumPortion()+16*f.getChecksumPortion())%79,y=9*l.getFinderPattern().getValue()+f.getFinderPattern().getValue();return y>72&&y--,y>8&&y--,p===y}decodePair(l,f,p,y){try{let x=this.findFinderPattern(l,f),_=this.parseFoundFinderPattern(l,p,f,x),N=y==null?null:y.get(D.NEED_RESULT_POINT_CALLBACK);if(N!=null){let q=(x[0]+x[1])/2;f&&(q=l.getSize()-1-q),N.foundPossibleResultPoint(new he(q,p))}let k=this.decodeDataCharacter(l,_,!0),B=this.decodeDataCharacter(l,_,!1);return new Kg(1597*k.getValue()+B.getValue(),k.getChecksumPortion()+4*B.getChecksumPortion(),_)}catch{return null}}decodeDataCharacter(l,f,p){let y=this.getDataCharacterCounters();for(let be=0;be<y.length;be++)y[be]=0;if(p)Bt.recordPatternInReverse(l,f.getStartEnd()[0],y);else{Bt.recordPattern(l,f.getStartEnd()[1]+1,y);for(let be=0,ke=y.length-1;be<ke;be++,ke--){let Je=y[be];y[be]=y[ke],y[ke]=Je}}let x=p?16:15,_=ut.sum(new Int32Array(y))/x,N=this.getOddCounts(),k=this.getEvenCounts(),B=this.getOddRoundingErrors(),q=this.getEvenRoundingErrors();for(let be=0;be<y.length;be++){let ke=y[be]/_,Je=Math.floor(ke+.5);Je<1?Je=1:Je>8&&(Je=8);let tt=Math.floor(be/2);(be&1)===0?(N[tt]=Je,B[tt]=ke-Je):(k[tt]=Je,q[tt]=ke-Je)}this.adjustOddEvenCounts(p,x);let X=0,te=0;for(let be=N.length-1;be>=0;be--)te*=9,te+=N[be],X+=N[be];let ce=0,ge=0;for(let be=k.length-1;be>=0;be--)ce*=9,ce+=k[be],ge+=k[be];let ye=te+3*ce;if(p){if((X&1)!==0||X>12||X<4)throw new G;let be=(12-X)/2,ke=en.OUTSIDE_ODD_WIDEST[be],Je=9-ke,tt=mn.getRSSvalue(N,ke,!1),Ge=mn.getRSSvalue(k,Je,!0),wr=en.OUTSIDE_EVEN_TOTAL_SUBSET[be],er=en.OUTSIDE_GSUM[be];return new Pn(tt*wr+Ge+er,ye)}else{if((ge&1)!==0||ge>10||ge<4)throw new G;let be=(10-ge)/2,ke=en.INSIDE_ODD_WIDEST[be],Je=9-ke,tt=mn.getRSSvalue(N,ke,!0),Ge=mn.getRSSvalue(k,Je,!1),wr=en.INSIDE_ODD_TOTAL_SUBSET[be],er=en.INSIDE_GSUM[be];return new Pn(Ge*wr+tt+er,ye)}}findFinderPattern(l,f){let p=this.getDecodeFinderCounters();p[0]=0,p[1]=0,p[2]=0,p[3]=0;let y=l.getSize(),x=!1,_=0;for(;_<y&&(x=!l.get(_),f!==x);)_++;let N=0,k=_;for(let B=_;B<y;B++)if(l.get(B)!==x)p[N]++;else{if(N===3){if(ir.isFinderPattern(p))return[k,B];k+=p[0]+p[1],p[0]=p[2],p[1]=p[3],p[2]=0,p[3]=0,N--}else N++;p[N]=1,x=!x}throw new G}parseFoundFinderPattern(l,f,p,y){let x=l.get(y[0]),_=y[0]-1;for(;_>=0&&x!==l.get(_);)_--;_++;const N=y[0]-_,k=this.getDecodeFinderCounters(),B=new Int32Array(k.length);E.arraycopy(k,0,B,1,k.length-1),B[0]=N;const q=this.parseFinderValue(B,en.FINDER_PATTERNS);let X=_,te=y[1];return p&&(X=l.getSize()-1-X,te=l.getSize()-1-te),new si(q,[_,y[1]],X,te,f)}adjustOddEvenCounts(l,f){let p=ut.sum(new Int32Array(this.getOddCounts())),y=ut.sum(new Int32Array(this.getEvenCounts())),x=!1,_=!1,N=!1,k=!1;l?(p>12?_=!0:p<4&&(x=!0),y>12?k=!0:y<4&&(N=!0)):(p>11?_=!0:p<5&&(x=!0),y>10?k=!0:y<4&&(N=!0));let B=p+y-f,q=(p&1)===(l?1:0),X=(y&1)===1;if(B===1)if(q){if(X)throw new G;_=!0}else{if(!X)throw new G;k=!0}else if(B===-1)if(q){if(X)throw new G;x=!0}else{if(!X)throw new G;N=!0}else if(B===0){if(q){if(!X)throw new G;p<y?(x=!0,k=!0):(_=!0,N=!0)}else if(X)throw new G}else throw new G;if(x){if(_)throw new G;ir.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(_&&ir.decrement(this.getOddCounts(),this.getOddRoundingErrors()),N){if(k)throw new G;ir.increment(this.getEvenCounts(),this.getOddRoundingErrors())}k&&ir.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}en.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],en.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],en.OUTSIDE_GSUM=[0,161,961,2015,2715],en.INSIDE_GSUM=[0,336,1036,1516],en.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],en.INSIDE_ODD_WIDEST=[2,4,6,8],en.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class jl extends Bt{constructor(l,f){super(),this.readers=[],this.verbose=f===!0;const p=l?l.get(D.POSSIBLE_FORMATS):null,y=l&&l.get(D.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;p?((p.includes(_e.EAN_13)||p.includes(_e.UPC_A)||p.includes(_e.EAN_8)||p.includes(_e.UPC_E))&&this.readers.push(new Or(l)),p.includes(_e.CODE_39)&&this.readers.push(new Ur(y)),p.includes(_e.CODE_128)&&this.readers.push(new ze),p.includes(_e.ITF)&&this.readers.push(new gr),p.includes(_e.RSS_14)&&this.readers.push(new en),p.includes(_e.RSS_EXPANDED)&&this.readers.push(new $e(this.verbose))):(this.readers.push(new Or(l)),this.readers.push(new Ur),this.readers.push(new Or(l)),this.readers.push(new ze),this.readers.push(new gr),this.readers.push(new en),this.readers.push(new $e(this.verbose)))}decodeRow(l,f,p){for(let y=0;y<this.readers.length;y++)try{return this.readers[y].decodeRow(l,f,p)}catch{}throw new G}reset(){this.readers.forEach(l=>l.reset())}}class Yg extends me{constructor(l=500,f){super(new jl(f),l,f)}}class Tr{constructor(l,f,p){this.ecCodewords=l,this.ecBlocks=[f],p&&this.ecBlocks.push(p)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class fr{constructor(l,f){this.count=l,this.dataCodewords=f}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ar{constructor(l,f,p,y,x,_){this.versionNumber=l,this.symbolSizeRows=f,this.symbolSizeColumns=p,this.dataRegionSizeRows=y,this.dataRegionSizeColumns=x,this.ecBlocks=_;let N=0;const k=_.getECCodewords(),B=_.getECBlocks();for(let q of B)N+=q.getCount()*(q.getDataCodewords()+k);this.totalCodewords=N}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(l,f){if((l&1)!==0||(f&1)!==0)throw new M;for(let p of Ar.VERSIONS)if(p.symbolSizeRows===l&&p.symbolSizeColumns===f)return p;throw new M}toString(){return""+this.versionNumber}static buildVersions(){return[new Ar(1,10,10,8,8,new Tr(5,new fr(1,3))),new Ar(2,12,12,10,10,new Tr(7,new fr(1,5))),new Ar(3,14,14,12,12,new Tr(10,new fr(1,8))),new Ar(4,16,16,14,14,new Tr(12,new fr(1,12))),new Ar(5,18,18,16,16,new Tr(14,new fr(1,18))),new Ar(6,20,20,18,18,new Tr(18,new fr(1,22))),new Ar(7,22,22,20,20,new Tr(20,new fr(1,30))),new Ar(8,24,24,22,22,new Tr(24,new fr(1,36))),new Ar(9,26,26,24,24,new Tr(28,new fr(1,44))),new Ar(10,32,32,14,14,new Tr(36,new fr(1,62))),new Ar(11,36,36,16,16,new Tr(42,new fr(1,86))),new Ar(12,40,40,18,18,new Tr(48,new fr(1,114))),new Ar(13,44,44,20,20,new Tr(56,new fr(1,144))),new Ar(14,48,48,22,22,new Tr(68,new fr(1,174))),new Ar(15,52,52,24,24,new Tr(42,new fr(2,102))),new Ar(16,64,64,14,14,new Tr(56,new fr(2,140))),new Ar(17,72,72,16,16,new Tr(36,new fr(4,92))),new Ar(18,80,80,18,18,new Tr(48,new fr(4,114))),new Ar(19,88,88,20,20,new Tr(56,new fr(4,144))),new Ar(20,96,96,22,22,new Tr(68,new fr(4,174))),new Ar(21,104,104,24,24,new Tr(56,new fr(6,136))),new Ar(22,120,120,18,18,new Tr(68,new fr(6,175))),new Ar(23,132,132,20,20,new Tr(62,new fr(8,163))),new Ar(24,144,144,22,22,new Tr(62,new fr(8,156),new fr(2,155))),new Ar(25,8,18,6,16,new Tr(7,new fr(1,5))),new Ar(26,8,32,6,14,new Tr(11,new fr(1,10))),new Ar(27,12,26,10,24,new Tr(14,new fr(1,16))),new Ar(28,12,36,10,16,new Tr(18,new fr(1,22))),new Ar(29,16,36,14,16,new Tr(24,new fr(1,32))),new Ar(30,16,48,14,22,new Tr(28,new fr(1,49)))]}}Ar.VERSIONS=Ar.buildVersions();class es{constructor(l){const f=l.getHeight();if(f<8||f>144||(f&1)!==0)throw new M;this.version=es.readVersion(l),this.mappingBitMatrix=this.extractDataRegion(l),this.readMappingMatrix=new W(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(l){const f=l.getHeight(),p=l.getWidth();return Ar.getVersionForDimensions(f,p)}readCodewords(){const l=new Int8Array(this.version.getTotalCodewords());let f=0,p=4,y=0;const x=this.mappingBitMatrix.getHeight(),_=this.mappingBitMatrix.getWidth();let N=!1,k=!1,B=!1,q=!1;do if(p===x&&y===0&&!N)l[f++]=this.readCorner1(x,_)&255,p-=2,y+=2,N=!0;else if(p===x-2&&y===0&&(_&3)!==0&&!k)l[f++]=this.readCorner2(x,_)&255,p-=2,y+=2,k=!0;else if(p===x+4&&y===2&&(_&7)===0&&!B)l[f++]=this.readCorner3(x,_)&255,p-=2,y+=2,B=!0;else if(p===x-2&&y===0&&(_&7)===4&&!q)l[f++]=this.readCorner4(x,_)&255,p-=2,y+=2,q=!0;else{do p<x&&y>=0&&!this.readMappingMatrix.get(y,p)&&(l[f++]=this.readUtah(p,y,x,_)&255),p-=2,y+=2;while(p>=0&&y<_);p+=1,y+=3;do p>=0&&y<_&&!this.readMappingMatrix.get(y,p)&&(l[f++]=this.readUtah(p,y,x,_)&255),p+=2,y-=2;while(p<x&&y>=0);p+=3,y+=1}while(p<x||y<_);if(f!==this.version.getTotalCodewords())throw new M;return l}readModule(l,f,p,y){return l<0&&(l+=p,f+=4-(p+4&7)),f<0&&(f+=y,l+=4-(y+4&7)),this.readMappingMatrix.set(f,l),this.mappingBitMatrix.get(f,l)}readUtah(l,f,p,y){let x=0;return this.readModule(l-2,f-2,p,y)&&(x|=1),x<<=1,this.readModule(l-2,f-1,p,y)&&(x|=1),x<<=1,this.readModule(l-1,f-2,p,y)&&(x|=1),x<<=1,this.readModule(l-1,f-1,p,y)&&(x|=1),x<<=1,this.readModule(l-1,f,p,y)&&(x|=1),x<<=1,this.readModule(l,f-2,p,y)&&(x|=1),x<<=1,this.readModule(l,f-1,p,y)&&(x|=1),x<<=1,this.readModule(l,f,p,y)&&(x|=1),x}readCorner1(l,f){let p=0;return this.readModule(l-1,0,l,f)&&(p|=1),p<<=1,this.readModule(l-1,1,l,f)&&(p|=1),p<<=1,this.readModule(l-1,2,l,f)&&(p|=1),p<<=1,this.readModule(0,f-2,l,f)&&(p|=1),p<<=1,this.readModule(0,f-1,l,f)&&(p|=1),p<<=1,this.readModule(1,f-1,l,f)&&(p|=1),p<<=1,this.readModule(2,f-1,l,f)&&(p|=1),p<<=1,this.readModule(3,f-1,l,f)&&(p|=1),p}readCorner2(l,f){let p=0;return this.readModule(l-3,0,l,f)&&(p|=1),p<<=1,this.readModule(l-2,0,l,f)&&(p|=1),p<<=1,this.readModule(l-1,0,l,f)&&(p|=1),p<<=1,this.readModule(0,f-4,l,f)&&(p|=1),p<<=1,this.readModule(0,f-3,l,f)&&(p|=1),p<<=1,this.readModule(0,f-2,l,f)&&(p|=1),p<<=1,this.readModule(0,f-1,l,f)&&(p|=1),p<<=1,this.readModule(1,f-1,l,f)&&(p|=1),p}readCorner3(l,f){let p=0;return this.readModule(l-1,0,l,f)&&(p|=1),p<<=1,this.readModule(l-1,f-1,l,f)&&(p|=1),p<<=1,this.readModule(0,f-3,l,f)&&(p|=1),p<<=1,this.readModule(0,f-2,l,f)&&(p|=1),p<<=1,this.readModule(0,f-1,l,f)&&(p|=1),p<<=1,this.readModule(1,f-3,l,f)&&(p|=1),p<<=1,this.readModule(1,f-2,l,f)&&(p|=1),p<<=1,this.readModule(1,f-1,l,f)&&(p|=1),p}readCorner4(l,f){let p=0;return this.readModule(l-3,0,l,f)&&(p|=1),p<<=1,this.readModule(l-2,0,l,f)&&(p|=1),p<<=1,this.readModule(l-1,0,l,f)&&(p|=1),p<<=1,this.readModule(0,f-2,l,f)&&(p|=1),p<<=1,this.readModule(0,f-1,l,f)&&(p|=1),p<<=1,this.readModule(1,f-1,l,f)&&(p|=1),p<<=1,this.readModule(2,f-1,l,f)&&(p|=1),p<<=1,this.readModule(3,f-1,l,f)&&(p|=1),p}extractDataRegion(l){const f=this.version.getSymbolSizeRows(),p=this.version.getSymbolSizeColumns();if(l.getHeight()!==f)throw new v("Dimension of bitMatrix must match the version size");const y=this.version.getDataRegionSizeRows(),x=this.version.getDataRegionSizeColumns(),_=f/y|0,N=p/x|0,k=_*y,B=N*x,q=new W(B,k);for(let X=0;X<_;++X){const te=X*y;for(let ce=0;ce<N;++ce){const ge=ce*x;for(let ye=0;ye<y;++ye){const be=X*(y+2)+1+ye,ke=te+ye;for(let Je=0;Je<x;++Je){const tt=ce*(x+2)+1+Je;if(l.get(tt,be)){const Ge=ge+Je;q.set(Ge,ke)}}}}}return q}}class $h{constructor(l,f){this.numDataCodewords=l,this.codewords=f}static getDataBlocks(l,f){const p=f.getECBlocks();let y=0;const x=p.getECBlocks();for(let ye of x)y+=ye.getCount();const _=new Array(y);let N=0;for(let ye of x)for(let be=0;be<ye.getCount();be++){const ke=ye.getDataCodewords(),Je=p.getECCodewords()+ke;_[N++]=new $h(ke,new Uint8Array(Je))}const B=_[0].codewords.length-p.getECCodewords(),q=B-1;let X=0;for(let ye=0;ye<q;ye++)for(let be=0;be<N;be++)_[be].codewords[ye]=l[X++];const te=f.getVersionNumber()===24,ce=te?8:N;for(let ye=0;ye<ce;ye++)_[ye].codewords[B-1]=l[X++];const ge=_[0].codewords.length;for(let ye=B;ye<ge;ye++)for(let be=0;be<N;be++){const ke=te?(be+8)%N:be,Je=te&&ke>7?ye-1:ye;_[ke].codewords[Je]=l[X++]}if(X!==l.length)throw new v;return _}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Vh{constructor(l){this.bytes=l,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(l){if(l<1||l>32||l>this.available())throw new v(""+l);let f=0,p=this.bitOffset,y=this.byteOffset;const x=this.bytes;if(p>0){const _=8-p,N=l<_?l:_,k=_-N,B=255>>8-N<<k;f=(x[y]&B)>>k,l-=N,p+=N,p===8&&(p=0,y++)}if(l>0){for(;l>=8;)f=f<<8|x[y]&255,y++,l-=8;if(l>0){const _=8-l,N=255>>_<<_;f=f<<l|(x[y]&N)>>_,p+=l}}return this.bitOffset=p,this.byteOffset=y,f}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Fn;(function(Y){Y[Y.PAD_ENCODE=0]="PAD_ENCODE",Y[Y.ASCII_ENCODE=1]="ASCII_ENCODE",Y[Y.C40_ENCODE=2]="C40_ENCODE",Y[Y.TEXT_ENCODE=3]="TEXT_ENCODE",Y[Y.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",Y[Y.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",Y[Y.BASE256_ENCODE=6]="BASE256_ENCODE"})(Fn||(Fn={}));class Ps{static decode(l){const f=new Vh(l),p=new Z,y=new Z,x=new Array;let _=Fn.ASCII_ENCODE;do if(_===Fn.ASCII_ENCODE)_=this.decodeAsciiSegment(f,p,y);else{switch(_){case Fn.C40_ENCODE:this.decodeC40Segment(f,p);break;case Fn.TEXT_ENCODE:this.decodeTextSegment(f,p);break;case Fn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(f,p);break;case Fn.EDIFACT_ENCODE:this.decodeEdifactSegment(f,p);break;case Fn.BASE256_ENCODE:this.decodeBase256Segment(f,p,x);break;default:throw new M}_=Fn.ASCII_ENCODE}while(_!==Fn.PAD_ENCODE&&f.available()>0);return y.length()>0&&p.append(y.toString()),new je(l,p.toString(),x.length===0?null:x,null)}static decodeAsciiSegment(l,f,p){let y=!1;do{let x=l.readBits(8);if(x===0)throw new M;if(x<=128)return y&&(x+=128),f.append(String.fromCharCode(x-1)),Fn.ASCII_ENCODE;if(x===129)return Fn.PAD_ENCODE;if(x<=229){const _=x-130;_<10&&f.append("0"),f.append(""+_)}else switch(x){case 230:return Fn.C40_ENCODE;case 231:return Fn.BASE256_ENCODE;case 232:f.append("");break;case 233:case 234:break;case 235:y=!0;break;case 236:f.append("[)>05"),p.insert(0,"");break;case 237:f.append("[)>06"),p.insert(0,"");break;case 238:return Fn.ANSIX12_ENCODE;case 239:return Fn.TEXT_ENCODE;case 240:return Fn.EDIFACT_ENCODE;case 241:break;default:if(x!==254||l.available()!==0)throw new M;break}}while(l.available()>0);return Fn.ASCII_ENCODE}static decodeC40Segment(l,f){let p=!1;const y=[];let x=0;do{if(l.available()===8)return;const _=l.readBits(8);if(_===254)return;this.parseTwoBytes(_,l.readBits(8),y);for(let N=0;N<3;N++){const k=y[N];switch(x){case 0:if(k<3)x=k+1;else if(k<this.C40_BASIC_SET_CHARS.length){const B=this.C40_BASIC_SET_CHARS[k];p?(f.append(String.fromCharCode(B.charCodeAt(0)+128)),p=!1):f.append(B)}else throw new M;break;case 1:p?(f.append(String.fromCharCode(k+128)),p=!1):f.append(String.fromCharCode(k)),x=0;break;case 2:if(k<this.C40_SHIFT2_SET_CHARS.length){const B=this.C40_SHIFT2_SET_CHARS[k];p?(f.append(String.fromCharCode(B.charCodeAt(0)+128)),p=!1):f.append(B)}else switch(k){case 27:f.append("");break;case 30:p=!0;break;default:throw new M}x=0;break;case 3:p?(f.append(String.fromCharCode(k+224)),p=!1):f.append(String.fromCharCode(k+96)),x=0;break;default:throw new M}}}while(l.available()>0)}static decodeTextSegment(l,f){let p=!1,y=[],x=0;do{if(l.available()===8)return;const _=l.readBits(8);if(_===254)return;this.parseTwoBytes(_,l.readBits(8),y);for(let N=0;N<3;N++){const k=y[N];switch(x){case 0:if(k<3)x=k+1;else if(k<this.TEXT_BASIC_SET_CHARS.length){const B=this.TEXT_BASIC_SET_CHARS[k];p?(f.append(String.fromCharCode(B.charCodeAt(0)+128)),p=!1):f.append(B)}else throw new M;break;case 1:p?(f.append(String.fromCharCode(k+128)),p=!1):f.append(String.fromCharCode(k)),x=0;break;case 2:if(k<this.TEXT_SHIFT2_SET_CHARS.length){const B=this.TEXT_SHIFT2_SET_CHARS[k];p?(f.append(String.fromCharCode(B.charCodeAt(0)+128)),p=!1):f.append(B)}else switch(k){case 27:f.append("");break;case 30:p=!0;break;default:throw new M}x=0;break;case 3:if(k<this.TEXT_SHIFT3_SET_CHARS.length){const B=this.TEXT_SHIFT3_SET_CHARS[k];p?(f.append(String.fromCharCode(B.charCodeAt(0)+128)),p=!1):f.append(B),x=0}else throw new M;break;default:throw new M}}}while(l.available()>0)}static decodeAnsiX12Segment(l,f){const p=[];do{if(l.available()===8)return;const y=l.readBits(8);if(y===254)return;this.parseTwoBytes(y,l.readBits(8),p);for(let x=0;x<3;x++){const _=p[x];switch(_){case 0:f.append("\r");break;case 1:f.append("*");break;case 2:f.append(">");break;case 3:f.append(" ");break;default:if(_<14)f.append(String.fromCharCode(_+44));else if(_<40)f.append(String.fromCharCode(_+51));else throw new M;break}}}while(l.available()>0)}static parseTwoBytes(l,f,p){let y=(l<<8)+f-1,x=Math.floor(y/1600);p[0]=x,y-=x*1600,x=Math.floor(y/40),p[1]=x,p[2]=y-x*40}static decodeEdifactSegment(l,f){do{if(l.available()<=16)return;for(let p=0;p<4;p++){let y=l.readBits(6);if(y===31){const x=8-l.getBitOffset();x!==8&&l.readBits(x);return}(y&32)===0&&(y|=64),f.append(String.fromCharCode(y))}}while(l.available()>0)}static decodeBase256Segment(l,f,p){let y=1+l.getByteOffset();const x=this.unrandomize255State(l.readBits(8),y++);let _;if(x===0?_=l.available()/8|0:x<250?_=x:_=250*(x-249)+this.unrandomize255State(l.readBits(8),y++),_<0)throw new M;const N=new Uint8Array(_);for(let k=0;k<_;k++){if(l.available()<8)throw new M;N[k]=this.unrandomize255State(l.readBits(8),y++)}p.push(N);try{f.append(H.decode(N,z.ISO88591))}catch(k){throw new st("Platform does not support required encoding: "+k.message)}}static unrandomize255State(l,f){const p=149*f%255+1,y=l-p;return y>=0?y:y+256}}Ps.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ps.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ps.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ps.TEXT_SHIFT2_SET_CHARS=Ps.C40_SHIFT2_SET_CHARS,Ps.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class _d{constructor(){this.rsDecoder=new Et(et.DATA_MATRIX_FIELD_256)}decode(l){const f=new es(l),p=f.getVersion(),y=f.readCodewords(),x=$h.getDataBlocks(y,p);let _=0;for(let B of x)_+=B.getNumDataCodewords();const N=new Uint8Array(_),k=x.length;for(let B=0;B<k;B++){const q=x[B],X=q.getCodewords(),te=q.getNumDataCodewords();this.correctErrors(X,te);for(let ce=0;ce<te;ce++)N[ce*k+B]=X[ce]}return Ps.decode(N)}correctErrors(l,f){const p=new Int32Array(l);try{this.rsDecoder.decode(p,l.length-f)}catch{throw new b}for(let y=0;y<f;y++)l[y]=p[y]}}class tn{constructor(l){this.image=l,this.rectangleDetector=new Ve(this.image)}detect(){const l=this.rectangleDetector.detect();let f=this.detectSolid1(l);if(f=this.detectSolid2(f),f[3]=this.correctTopRight(f),!f[3])throw new G;f=this.shiftToModuleCenter(f);const p=f[0],y=f[1],x=f[2],_=f[3];let N=this.transitionsBetween(p,_)+1,k=this.transitionsBetween(x,_)+1;(N&1)===1&&(N+=1),(k&1)===1&&(k+=1),4*N<7*k&&4*k<7*N&&(N=k=Math.max(N,k));let B=tn.sampleGrid(this.image,p,y,x,_,N,k);return new Ne(B,[p,y,x,_])}static shiftPoint(l,f,p){let y=(f.getX()-l.getX())/(p+1),x=(f.getY()-l.getY())/(p+1);return new he(l.getX()+y,l.getY()+x)}static moveAway(l,f,p){let y=l.getX(),x=l.getY();return y<f?y-=1:y+=1,x<p?x-=1:x+=1,new he(y,x)}detectSolid1(l){let f=l[0],p=l[1],y=l[3],x=l[2],_=this.transitionsBetween(f,p),N=this.transitionsBetween(p,y),k=this.transitionsBetween(y,x),B=this.transitionsBetween(x,f),q=_,X=[x,f,p,y];return q>N&&(q=N,X[0]=f,X[1]=p,X[2]=y,X[3]=x),q>k&&(q=k,X[0]=p,X[1]=y,X[2]=x,X[3]=f),q>B&&(X[0]=y,X[1]=x,X[2]=f,X[3]=p),X}detectSolid2(l){let f=l[0],p=l[1],y=l[2],x=l[3],_=this.transitionsBetween(f,x),N=tn.shiftPoint(p,y,(_+1)*4),k=tn.shiftPoint(y,p,(_+1)*4),B=this.transitionsBetween(N,f),q=this.transitionsBetween(k,x);return B<q?(l[0]=f,l[1]=p,l[2]=y,l[3]=x):(l[0]=p,l[1]=y,l[2]=x,l[3]=f),l}correctTopRight(l){let f=l[0],p=l[1],y=l[2],x=l[3],_=this.transitionsBetween(f,x),N=this.transitionsBetween(p,x),k=tn.shiftPoint(f,p,(N+1)*4),B=tn.shiftPoint(y,p,(_+1)*4);_=this.transitionsBetween(k,x),N=this.transitionsBetween(B,x);let q=new he(x.getX()+(y.getX()-p.getX())/(_+1),x.getY()+(y.getY()-p.getY())/(_+1)),X=new he(x.getX()+(f.getX()-p.getX())/(N+1),x.getY()+(f.getY()-p.getY())/(N+1));if(!this.isValid(q))return this.isValid(X)?X:null;if(!this.isValid(X))return q;let te=this.transitionsBetween(k,q)+this.transitionsBetween(B,q),ce=this.transitionsBetween(k,X)+this.transitionsBetween(B,X);return te>ce?q:X}shiftToModuleCenter(l){let f=l[0],p=l[1],y=l[2],x=l[3],_=this.transitionsBetween(f,x)+1,N=this.transitionsBetween(y,x)+1,k=tn.shiftPoint(f,p,N*4),B=tn.shiftPoint(y,p,_*4);_=this.transitionsBetween(k,x)+1,N=this.transitionsBetween(B,x)+1,(_&1)===1&&(_+=1),(N&1)===1&&(N+=1);let q=(f.getX()+p.getX()+y.getX()+x.getX())/4,X=(f.getY()+p.getY()+y.getY()+x.getY())/4;f=tn.moveAway(f,q,X),p=tn.moveAway(p,q,X),y=tn.moveAway(y,q,X),x=tn.moveAway(x,q,X);let te,ce;return k=tn.shiftPoint(f,p,N*4),k=tn.shiftPoint(k,x,_*4),te=tn.shiftPoint(p,f,N*4),te=tn.shiftPoint(te,y,_*4),B=tn.shiftPoint(y,x,N*4),B=tn.shiftPoint(B,p,_*4),ce=tn.shiftPoint(x,y,N*4),ce=tn.shiftPoint(ce,f,_*4),[k,te,B,ce]}isValid(l){return l.getX()>=0&&l.getX()<this.image.getWidth()&&l.getY()>0&&l.getY()<this.image.getHeight()}static sampleGrid(l,f,p,y,x,_,N){return lt.getInstance().sampleGrid(l,_,N,.5,.5,_-.5,.5,_-.5,N-.5,.5,N-.5,f.getX(),f.getY(),x.getX(),x.getY(),y.getX(),y.getY(),p.getX(),p.getY())}transitionsBetween(l,f){let p=Math.trunc(l.getX()),y=Math.trunc(l.getY()),x=Math.trunc(f.getX()),_=Math.trunc(f.getY()),N=Math.abs(_-y)>Math.abs(x-p);if(N){let ye=p;p=y,y=ye,ye=x,x=_,_=ye}let k=Math.abs(x-p),B=Math.abs(_-y),q=-k/2,X=y<_?1:-1,te=p<x?1:-1,ce=0,ge=this.image.get(N?y:p,N?p:y);for(let ye=p,be=y;ye!==x;ye+=te){let ke=this.image.get(N?be:ye,N?ye:be);if(ke!==ge&&(ce++,ge=ke),q+=B,q>0){if(be===_)break;be+=X,q-=k}}return ce}}class Is{constructor(){this.decoder=new _d}decode(l,f=null){let p,y;if(f!=null&&f.has(D.PURE_BARCODE)){const B=Is.extractPureBits(l.getBlackMatrix());p=this.decoder.decode(B),y=Is.NO_POINTS}else{const B=new tn(l.getBlackMatrix()).detect();p=this.decoder.decode(B.getBits()),y=B.getPoints()}const x=p.getRawBytes(),_=new pe(p.getText(),x,8*x.length,y,_e.DATA_MATRIX,E.currentTimeMillis()),N=p.getByteSegments();N!=null&&_.putMetadata(Le.BYTE_SEGMENTS,N);const k=p.getECLevel();return k!=null&&_.putMetadata(Le.ERROR_CORRECTION_LEVEL,k),_}reset(){}static extractPureBits(l){const f=l.getTopLeftOnBit(),p=l.getBottomRightOnBit();if(f==null||p==null)throw new G;const y=this.moduleSize(f,l);let x=f[1];const _=p[1];let N=f[0];const B=(p[0]-N+1)/y,q=(_-x+1)/y;if(B<=0||q<=0)throw new G;const X=y/2;x+=X,N+=X;const te=new W(B,q);for(let ce=0;ce<q;ce++){const ge=x+ce*y;for(let ye=0;ye<B;ye++)l.get(N+ye*y,ge)&&te.set(ye,ce)}return te}static moduleSize(l,f){const p=f.getWidth();let y=l[0];const x=l[1];for(;y<p&&f.get(y,x);)y++;if(y===p)throw new G;const _=y-l[0];if(_===0)throw new G;return _}}Is.NO_POINTS=[];class nw extends me{constructor(l=500){super(new Is,l)}}var Ol;(function(Y){Y[Y.L=0]="L",Y[Y.M=1]="M",Y[Y.Q=2]="Q",Y[Y.H=3]="H"})(Ol||(Ol={}));class qr{constructor(l,f,p){this.value=l,this.stringValue=f,this.bits=p,qr.FOR_BITS.set(p,this),qr.FOR_VALUE.set(l,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(l){switch(l){case"L":return qr.L;case"M":return qr.M;case"Q":return qr.Q;case"H":return qr.H;default:throw new g(l+"not available")}}toString(){return this.stringValue}equals(l){if(!(l instanceof qr))return!1;const f=l;return this.value===f.value}static forBits(l){if(l<0||l>=qr.FOR_BITS.size)throw new v;return qr.FOR_BITS.get(l)}}qr.FOR_BITS=new Map,qr.FOR_VALUE=new Map,qr.L=new qr(Ol.L,"L",1),qr.M=new qr(Ol.M,"M",0),qr.Q=new qr(Ol.Q,"Q",3),qr.H=new qr(Ol.H,"H",2);class ai{constructor(l){this.errorCorrectionLevel=qr.forBits(l>>3&3),this.dataMask=l&7}static numBitsDiffering(l,f){return P.bitCount(l^f)}static decodeFormatInformation(l,f){const p=ai.doDecodeFormatInformation(l,f);return p!==null?p:ai.doDecodeFormatInformation(l^ai.FORMAT_INFO_MASK_QR,f^ai.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(l,f){let p=Number.MAX_SAFE_INTEGER,y=0;for(const x of ai.FORMAT_INFO_DECODE_LOOKUP){const _=x[0];if(_===l||_===f)return new ai(x[1]);let N=ai.numBitsDiffering(l,_);N<p&&(y=x[1],p=N),l!==f&&(N=ai.numBitsDiffering(f,_),N<p&&(y=x[1],p=N))}return p<=3?new ai(y):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(l){if(!(l instanceof ai))return!1;const f=l;return this.errorCorrectionLevel===f.errorCorrectionLevel&&this.dataMask===f.dataMask}}ai.FORMAT_INFO_MASK_QR=21522,ai.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Ee{constructor(l,...f){this.ecCodewordsPerBlock=l,this.ecBlocks=f}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let l=0;const f=this.ecBlocks;for(const p of f)l+=p.getCount();return l}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class oe{constructor(l,f){this.count=l,this.dataCodewords=f}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class It{constructor(l,f,...p){this.versionNumber=l,this.alignmentPatternCenters=f,this.ecBlocks=p;let y=0;const x=p[0].getECCodewordsPerBlock(),_=p[0].getECBlocks();for(const N of _)y+=N.getCount()*(N.getDataCodewords()+x);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(l){return this.ecBlocks[l.getValue()]}static getProvisionalVersionForDimension(l){if(l%4!==1)throw new M;try{return this.getVersionForNumber((l-17)/4)}catch{throw new M}}static getVersionForNumber(l){if(l<1||l>40)throw new v;return It.VERSIONS[l-1]}static decodeVersionInformation(l){let f=Number.MAX_SAFE_INTEGER,p=0;for(let y=0;y<It.VERSION_DECODE_INFO.length;y++){const x=It.VERSION_DECODE_INFO[y];if(x===l)return It.getVersionForNumber(y+7);const _=ai.numBitsDiffering(l,x);_<f&&(p=y+7,f=_)}return f<=3?It.getVersionForNumber(p):null}buildFunctionPattern(){const l=this.getDimensionForVersion(),f=new W(l);f.setRegion(0,0,9,9),f.setRegion(l-8,0,8,9),f.setRegion(0,l-8,9,8);const p=this.alignmentPatternCenters.length;for(let y=0;y<p;y++){const x=this.alignmentPatternCenters[y]-2;for(let _=0;_<p;_++)y===0&&(_===0||_===p-1)||y===p-1&&_===0||f.setRegion(this.alignmentPatternCenters[_]-2,x,5,5)}return f.setRegion(6,9,1,l-17),f.setRegion(9,6,l-17,1),this.versionNumber>6&&(f.setRegion(l-11,0,3,6),f.setRegion(0,l-11,6,3)),f}toString(){return""+this.versionNumber}}It.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),It.VERSIONS=[new It(1,new Int32Array(0),new Ee(7,new oe(1,19)),new Ee(10,new oe(1,16)),new Ee(13,new oe(1,13)),new Ee(17,new oe(1,9))),new It(2,Int32Array.from([6,18]),new Ee(10,new oe(1,34)),new Ee(16,new oe(1,28)),new Ee(22,new oe(1,22)),new Ee(28,new oe(1,16))),new It(3,Int32Array.from([6,22]),new Ee(15,new oe(1,55)),new Ee(26,new oe(1,44)),new Ee(18,new oe(2,17)),new Ee(22,new oe(2,13))),new It(4,Int32Array.from([6,26]),new Ee(20,new oe(1,80)),new Ee(18,new oe(2,32)),new Ee(26,new oe(2,24)),new Ee(16,new oe(4,9))),new It(5,Int32Array.from([6,30]),new Ee(26,new oe(1,108)),new Ee(24,new oe(2,43)),new Ee(18,new oe(2,15),new oe(2,16)),new Ee(22,new oe(2,11),new oe(2,12))),new It(6,Int32Array.from([6,34]),new Ee(18,new oe(2,68)),new Ee(16,new oe(4,27)),new Ee(24,new oe(4,19)),new Ee(28,new oe(4,15))),new It(7,Int32Array.from([6,22,38]),new Ee(20,new oe(2,78)),new Ee(18,new oe(4,31)),new Ee(18,new oe(2,14),new oe(4,15)),new Ee(26,new oe(4,13),new oe(1,14))),new It(8,Int32Array.from([6,24,42]),new Ee(24,new oe(2,97)),new Ee(22,new oe(2,38),new oe(2,39)),new Ee(22,new oe(4,18),new oe(2,19)),new Ee(26,new oe(4,14),new oe(2,15))),new It(9,Int32Array.from([6,26,46]),new Ee(30,new oe(2,116)),new Ee(22,new oe(3,36),new oe(2,37)),new Ee(20,new oe(4,16),new oe(4,17)),new Ee(24,new oe(4,12),new oe(4,13))),new It(10,Int32Array.from([6,28,50]),new Ee(18,new oe(2,68),new oe(2,69)),new Ee(26,new oe(4,43),new oe(1,44)),new Ee(24,new oe(6,19),new oe(2,20)),new Ee(28,new oe(6,15),new oe(2,16))),new It(11,Int32Array.from([6,30,54]),new Ee(20,new oe(4,81)),new Ee(30,new oe(1,50),new oe(4,51)),new Ee(28,new oe(4,22),new oe(4,23)),new Ee(24,new oe(3,12),new oe(8,13))),new It(12,Int32Array.from([6,32,58]),new Ee(24,new oe(2,92),new oe(2,93)),new Ee(22,new oe(6,36),new oe(2,37)),new Ee(26,new oe(4,20),new oe(6,21)),new Ee(28,new oe(7,14),new oe(4,15))),new It(13,Int32Array.from([6,34,62]),new Ee(26,new oe(4,107)),new Ee(22,new oe(8,37),new oe(1,38)),new Ee(24,new oe(8,20),new oe(4,21)),new Ee(22,new oe(12,11),new oe(4,12))),new It(14,Int32Array.from([6,26,46,66]),new Ee(30,new oe(3,115),new oe(1,116)),new Ee(24,new oe(4,40),new oe(5,41)),new Ee(20,new oe(11,16),new oe(5,17)),new Ee(24,new oe(11,12),new oe(5,13))),new It(15,Int32Array.from([6,26,48,70]),new Ee(22,new oe(5,87),new oe(1,88)),new Ee(24,new oe(5,41),new oe(5,42)),new Ee(30,new oe(5,24),new oe(7,25)),new Ee(24,new oe(11,12),new oe(7,13))),new It(16,Int32Array.from([6,26,50,74]),new Ee(24,new oe(5,98),new oe(1,99)),new Ee(28,new oe(7,45),new oe(3,46)),new Ee(24,new oe(15,19),new oe(2,20)),new Ee(30,new oe(3,15),new oe(13,16))),new It(17,Int32Array.from([6,30,54,78]),new Ee(28,new oe(1,107),new oe(5,108)),new Ee(28,new oe(10,46),new oe(1,47)),new Ee(28,new oe(1,22),new oe(15,23)),new Ee(28,new oe(2,14),new oe(17,15))),new It(18,Int32Array.from([6,30,56,82]),new Ee(30,new oe(5,120),new oe(1,121)),new Ee(26,new oe(9,43),new oe(4,44)),new Ee(28,new oe(17,22),new oe(1,23)),new Ee(28,new oe(2,14),new oe(19,15))),new It(19,Int32Array.from([6,30,58,86]),new Ee(28,new oe(3,113),new oe(4,114)),new Ee(26,new oe(3,44),new oe(11,45)),new Ee(26,new oe(17,21),new oe(4,22)),new Ee(26,new oe(9,13),new oe(16,14))),new It(20,Int32Array.from([6,34,62,90]),new Ee(28,new oe(3,107),new oe(5,108)),new Ee(26,new oe(3,41),new oe(13,42)),new Ee(30,new oe(15,24),new oe(5,25)),new Ee(28,new oe(15,15),new oe(10,16))),new It(21,Int32Array.from([6,28,50,72,94]),new Ee(28,new oe(4,116),new oe(4,117)),new Ee(26,new oe(17,42)),new Ee(28,new oe(17,22),new oe(6,23)),new Ee(30,new oe(19,16),new oe(6,17))),new It(22,Int32Array.from([6,26,50,74,98]),new Ee(28,new oe(2,111),new oe(7,112)),new Ee(28,new oe(17,46)),new Ee(30,new oe(7,24),new oe(16,25)),new Ee(24,new oe(34,13))),new It(23,Int32Array.from([6,30,54,78,102]),new Ee(30,new oe(4,121),new oe(5,122)),new Ee(28,new oe(4,47),new oe(14,48)),new Ee(30,new oe(11,24),new oe(14,25)),new Ee(30,new oe(16,15),new oe(14,16))),new It(24,Int32Array.from([6,28,54,80,106]),new Ee(30,new oe(6,117),new oe(4,118)),new Ee(28,new oe(6,45),new oe(14,46)),new Ee(30,new oe(11,24),new oe(16,25)),new Ee(30,new oe(30,16),new oe(2,17))),new It(25,Int32Array.from([6,32,58,84,110]),new Ee(26,new oe(8,106),new oe(4,107)),new Ee(28,new oe(8,47),new oe(13,48)),new Ee(30,new oe(7,24),new oe(22,25)),new Ee(30,new oe(22,15),new oe(13,16))),new It(26,Int32Array.from([6,30,58,86,114]),new Ee(28,new oe(10,114),new oe(2,115)),new Ee(28,new oe(19,46),new oe(4,47)),new Ee(28,new oe(28,22),new oe(6,23)),new Ee(30,new oe(33,16),new oe(4,17))),new It(27,Int32Array.from([6,34,62,90,118]),new Ee(30,new oe(8,122),new oe(4,123)),new Ee(28,new oe(22,45),new oe(3,46)),new Ee(30,new oe(8,23),new oe(26,24)),new Ee(30,new oe(12,15),new oe(28,16))),new It(28,Int32Array.from([6,26,50,74,98,122]),new Ee(30,new oe(3,117),new oe(10,118)),new Ee(28,new oe(3,45),new oe(23,46)),new Ee(30,new oe(4,24),new oe(31,25)),new Ee(30,new oe(11,15),new oe(31,16))),new It(29,Int32Array.from([6,30,54,78,102,126]),new Ee(30,new oe(7,116),new oe(7,117)),new Ee(28,new oe(21,45),new oe(7,46)),new Ee(30,new oe(1,23),new oe(37,24)),new Ee(30,new oe(19,15),new oe(26,16))),new It(30,Int32Array.from([6,26,52,78,104,130]),new Ee(30,new oe(5,115),new oe(10,116)),new Ee(28,new oe(19,47),new oe(10,48)),new Ee(30,new oe(15,24),new oe(25,25)),new Ee(30,new oe(23,15),new oe(25,16))),new It(31,Int32Array.from([6,30,56,82,108,134]),new Ee(30,new oe(13,115),new oe(3,116)),new Ee(28,new oe(2,46),new oe(29,47)),new Ee(30,new oe(42,24),new oe(1,25)),new Ee(30,new oe(23,15),new oe(28,16))),new It(32,Int32Array.from([6,34,60,86,112,138]),new Ee(30,new oe(17,115)),new Ee(28,new oe(10,46),new oe(23,47)),new Ee(30,new oe(10,24),new oe(35,25)),new Ee(30,new oe(19,15),new oe(35,16))),new It(33,Int32Array.from([6,30,58,86,114,142]),new Ee(30,new oe(17,115),new oe(1,116)),new Ee(28,new oe(14,46),new oe(21,47)),new Ee(30,new oe(29,24),new oe(19,25)),new Ee(30,new oe(11,15),new oe(46,16))),new It(34,Int32Array.from([6,34,62,90,118,146]),new Ee(30,new oe(13,115),new oe(6,116)),new Ee(28,new oe(14,46),new oe(23,47)),new Ee(30,new oe(44,24),new oe(7,25)),new Ee(30,new oe(59,16),new oe(1,17))),new It(35,Int32Array.from([6,30,54,78,102,126,150]),new Ee(30,new oe(12,121),new oe(7,122)),new Ee(28,new oe(12,47),new oe(26,48)),new Ee(30,new oe(39,24),new oe(14,25)),new Ee(30,new oe(22,15),new oe(41,16))),new It(36,Int32Array.from([6,24,50,76,102,128,154]),new Ee(30,new oe(6,121),new oe(14,122)),new Ee(28,new oe(6,47),new oe(34,48)),new Ee(30,new oe(46,24),new oe(10,25)),new Ee(30,new oe(2,15),new oe(64,16))),new It(37,Int32Array.from([6,28,54,80,106,132,158]),new Ee(30,new oe(17,122),new oe(4,123)),new Ee(28,new oe(29,46),new oe(14,47)),new Ee(30,new oe(49,24),new oe(10,25)),new Ee(30,new oe(24,15),new oe(46,16))),new It(38,Int32Array.from([6,32,58,84,110,136,162]),new Ee(30,new oe(4,122),new oe(18,123)),new Ee(28,new oe(13,46),new oe(32,47)),new Ee(30,new oe(48,24),new oe(14,25)),new Ee(30,new oe(42,15),new oe(32,16))),new It(39,Int32Array.from([6,26,54,82,110,138,166]),new Ee(30,new oe(20,117),new oe(4,118)),new Ee(28,new oe(40,47),new oe(7,48)),new Ee(30,new oe(43,24),new oe(22,25)),new Ee(30,new oe(10,15),new oe(67,16))),new It(40,Int32Array.from([6,30,58,86,114,142,170]),new Ee(30,new oe(19,118),new oe(6,119)),new Ee(28,new oe(18,47),new oe(31,48)),new Ee(30,new oe(34,24),new oe(34,25)),new Ee(30,new oe(20,15),new oe(61,16)))];var In;(function(Y){Y[Y.DATA_MASK_000=0]="DATA_MASK_000",Y[Y.DATA_MASK_001=1]="DATA_MASK_001",Y[Y.DATA_MASK_010=2]="DATA_MASK_010",Y[Y.DATA_MASK_011=3]="DATA_MASK_011",Y[Y.DATA_MASK_100=4]="DATA_MASK_100",Y[Y.DATA_MASK_101=5]="DATA_MASK_101",Y[Y.DATA_MASK_110=6]="DATA_MASK_110",Y[Y.DATA_MASK_111=7]="DATA_MASK_111"})(In||(In={}));class hr{constructor(l,f){this.value=l,this.isMasked=f}unmaskBitMatrix(l,f){for(let p=0;p<f;p++)for(let y=0;y<f;y++)this.isMasked(p,y)&&l.flip(y,p)}}hr.values=new Map([[In.DATA_MASK_000,new hr(In.DATA_MASK_000,(Y,l)=>(Y+l&1)===0)],[In.DATA_MASK_001,new hr(In.DATA_MASK_001,(Y,l)=>(Y&1)===0)],[In.DATA_MASK_010,new hr(In.DATA_MASK_010,(Y,l)=>l%3===0)],[In.DATA_MASK_011,new hr(In.DATA_MASK_011,(Y,l)=>(Y+l)%3===0)],[In.DATA_MASK_100,new hr(In.DATA_MASK_100,(Y,l)=>(Math.floor(Y/2)+Math.floor(l/3)&1)===0)],[In.DATA_MASK_101,new hr(In.DATA_MASK_101,(Y,l)=>Y*l%6===0)],[In.DATA_MASK_110,new hr(In.DATA_MASK_110,(Y,l)=>Y*l%6<3)],[In.DATA_MASK_111,new hr(In.DATA_MASK_111,(Y,l)=>(Y+l+Y*l%3&1)===0)]]);class Xg{constructor(l){const f=l.getHeight();if(f<21||(f&3)!==1)throw new M;this.bitMatrix=l}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let l=0;for(let x=0;x<6;x++)l=this.copyBit(x,8,l);l=this.copyBit(7,8,l),l=this.copyBit(8,8,l),l=this.copyBit(8,7,l);for(let x=5;x>=0;x--)l=this.copyBit(8,x,l);const f=this.bitMatrix.getHeight();let p=0;const y=f-7;for(let x=f-1;x>=y;x--)p=this.copyBit(8,x,p);for(let x=f-8;x<f;x++)p=this.copyBit(x,8,p);if(this.parsedFormatInfo=ai.decodeFormatInformation(l,p),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new M}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const l=this.bitMatrix.getHeight(),f=Math.floor((l-17)/4);if(f<=6)return It.getVersionForNumber(f);let p=0;const y=l-11;for(let _=5;_>=0;_--)for(let N=l-9;N>=y;N--)p=this.copyBit(N,_,p);let x=It.decodeVersionInformation(p);if(x!==null&&x.getDimensionForVersion()===l)return this.parsedVersion=x,x;p=0;for(let _=5;_>=0;_--)for(let N=l-9;N>=y;N--)p=this.copyBit(_,N,p);if(x=It.decodeVersionInformation(p),x!==null&&x.getDimensionForVersion()===l)return this.parsedVersion=x,x;throw new M}copyBit(l,f,p){return(this.isMirror?this.bitMatrix.get(f,l):this.bitMatrix.get(l,f))?p<<1|1:p<<1}readCodewords(){const l=this.readFormatInformation(),f=this.readVersion(),p=hr.values.get(l.getDataMask()),y=this.bitMatrix.getHeight();p.unmaskBitMatrix(this.bitMatrix,y);const x=f.buildFunctionPattern();let _=!0;const N=new Uint8Array(f.getTotalCodewords());let k=0,B=0,q=0;for(let X=y-1;X>0;X-=2){X===6&&X--;for(let te=0;te<y;te++){const ce=_?y-1-te:te;for(let ge=0;ge<2;ge++)x.get(X-ge,ce)||(q++,B<<=1,this.bitMatrix.get(X-ge,ce)&&(B|=1),q===8&&(N[k++]=B,q=0,B=0))}_=!_}if(k!==f.getTotalCodewords())throw new M;return N}remask(){if(this.parsedFormatInfo===null)return;const l=hr.values[this.parsedFormatInfo.getDataMask()],f=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,f)}setMirror(l){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=l}mirror(){const l=this.bitMatrix;for(let f=0,p=l.getWidth();f<p;f++)for(let y=f+1,x=l.getHeight();y<x;y++)l.get(f,y)!==l.get(y,f)&&(l.flip(y,f),l.flip(f,y))}}class Sd{constructor(l,f){this.numDataCodewords=l,this.codewords=f}static getDataBlocks(l,f,p){if(l.length!==f.getTotalCodewords())throw new v;const y=f.getECBlocksForLevel(p);let x=0;const _=y.getECBlocks();for(const ge of _)x+=ge.getCount();const N=new Array(x);let k=0;for(const ge of _)for(let ye=0;ye<ge.getCount();ye++){const be=ge.getDataCodewords(),ke=y.getECCodewordsPerBlock()+be;N[k++]=new Sd(be,new Uint8Array(ke))}const B=N[0].codewords.length;let q=N.length-1;for(;q>=0&&N[q].codewords.length!==B;)q--;q++;const X=B-y.getECCodewordsPerBlock();let te=0;for(let ge=0;ge<X;ge++)for(let ye=0;ye<k;ye++)N[ye].codewords[ge]=l[te++];for(let ge=q;ge<k;ge++)N[ge].codewords[X]=l[te++];const ce=N[0].codewords.length;for(let ge=X;ge<ce;ge++)for(let ye=0;ye<k;ye++){const be=ye<q?ge:ge+1;N[ye].codewords[be]=l[te++]}return N}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Ui;(function(Y){Y[Y.TERMINATOR=0]="TERMINATOR",Y[Y.NUMERIC=1]="NUMERIC",Y[Y.ALPHANUMERIC=2]="ALPHANUMERIC",Y[Y.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",Y[Y.BYTE=4]="BYTE",Y[Y.ECI=5]="ECI",Y[Y.KANJI=6]="KANJI",Y[Y.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",Y[Y.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",Y[Y.HANZI=9]="HANZI"})(Ui||(Ui={}));class Mt{constructor(l,f,p,y){this.value=l,this.stringValue=f,this.characterCountBitsForVersions=p,this.bits=y,Mt.FOR_BITS.set(y,this),Mt.FOR_VALUE.set(l,this)}static forBits(l){const f=Mt.FOR_BITS.get(l);if(f===void 0)throw new v;return f}getCharacterCountBits(l){const f=l.getVersionNumber();let p;return f<=9?p=0:f<=26?p=1:p=2,this.characterCountBitsForVersions[p]}getValue(){return this.value}getBits(){return this.bits}equals(l){if(!(l instanceof Mt))return!1;const f=l;return this.value===f.value}toString(){return this.stringValue}}Mt.FOR_BITS=new Map,Mt.FOR_VALUE=new Map,Mt.TERMINATOR=new Mt(Ui.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Mt.NUMERIC=new Mt(Ui.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Mt.ALPHANUMERIC=new Mt(Ui.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Mt.STRUCTURED_APPEND=new Mt(Ui.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Mt.BYTE=new Mt(Ui.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Mt.ECI=new Mt(Ui.ECI,"ECI",Int32Array.from([0,0,0]),7),Mt.KANJI=new Mt(Ui.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Mt.FNC1_FIRST_POSITION=new Mt(Ui.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Mt.FNC1_SECOND_POSITION=new Mt(Ui.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Mt.HANZI=new Mt(Ui.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class sn{static decode(l,f,p,y){const x=new Vh(l);let _=new Z;const N=new Array;let k=-1,B=-1;try{let q=null,X=!1,te;do{if(x.available()<4)te=Mt.TERMINATOR;else{const ce=x.readBits(4);te=Mt.forBits(ce)}switch(te){case Mt.TERMINATOR:break;case Mt.FNC1_FIRST_POSITION:case Mt.FNC1_SECOND_POSITION:X=!0;break;case Mt.STRUCTURED_APPEND:if(x.available()<16)throw new M;k=x.readBits(8),B=x.readBits(8);break;case Mt.ECI:const ce=sn.parseECIValue(x);if(q=V.getCharacterSetECIByValue(ce),q===null)throw new M;break;case Mt.HANZI:const ge=x.readBits(4),ye=x.readBits(te.getCharacterCountBits(f));ge===sn.GB2312_SUBSET&&sn.decodeHanziSegment(x,_,ye);break;default:const be=x.readBits(te.getCharacterCountBits(f));switch(te){case Mt.NUMERIC:sn.decodeNumericSegment(x,_,be);break;case Mt.ALPHANUMERIC:sn.decodeAlphanumericSegment(x,_,be,X);break;case Mt.BYTE:sn.decodeByteSegment(x,_,be,q,N,y);break;case Mt.KANJI:sn.decodeKanjiSegment(x,_,be);break;default:throw new M}break}}while(te!==Mt.TERMINATOR)}catch{throw new M}return new je(l,_.toString(),N.length===0?null:N,p===null?null:p.toString(),k,B)}static decodeHanziSegment(l,f,p){if(p*13>l.available())throw new M;const y=new Uint8Array(2*p);let x=0;for(;p>0;){const _=l.readBits(13);let N=_/96<<8&4294967295|_%96;N<959?N+=41377:N+=42657,y[x]=N>>8&255,y[x+1]=N&255,x+=2,p--}try{f.append(H.decode(y,z.GB2312))}catch(_){throw new M(_)}}static decodeKanjiSegment(l,f,p){if(p*13>l.available())throw new M;const y=new Uint8Array(2*p);let x=0;for(;p>0;){const _=l.readBits(13);let N=_/192<<8&4294967295|_%192;N<7936?N+=33088:N+=49472,y[x]=N>>8,y[x+1]=N,x+=2,p--}try{f.append(H.decode(y,z.SHIFT_JIS))}catch(_){throw new M(_)}}static decodeByteSegment(l,f,p,y,x,_){if(8*p>l.available())throw new M;const N=new Uint8Array(p);for(let B=0;B<p;B++)N[B]=l.readBits(8);let k;y===null?k=z.guessEncoding(N,_):k=y.getName();try{f.append(H.decode(N,k))}catch(B){throw new M(B)}x.push(N)}static toAlphaNumericChar(l){if(l>=sn.ALPHANUMERIC_CHARS.length)throw new M;return sn.ALPHANUMERIC_CHARS[l]}static decodeAlphanumericSegment(l,f,p,y){const x=f.length();for(;p>1;){if(l.available()<11)throw new M;const _=l.readBits(11);f.append(sn.toAlphaNumericChar(Math.floor(_/45))),f.append(sn.toAlphaNumericChar(_%45)),p-=2}if(p===1){if(l.available()<6)throw new M;f.append(sn.toAlphaNumericChar(l.readBits(6)))}if(y)for(let _=x;_<f.length();_++)f.charAt(_)==="%"&&(_<f.length()-1&&f.charAt(_+1)==="%"?f.deleteCharAt(_+1):f.setCharAt(_,""))}static decodeNumericSegment(l,f,p){for(;p>=3;){if(l.available()<10)throw new M;const y=l.readBits(10);if(y>=1e3)throw new M;f.append(sn.toAlphaNumericChar(Math.floor(y/100))),f.append(sn.toAlphaNumericChar(Math.floor(y/10)%10)),f.append(sn.toAlphaNumericChar(y%10)),p-=3}if(p===2){if(l.available()<7)throw new M;const y=l.readBits(7);if(y>=100)throw new M;f.append(sn.toAlphaNumericChar(Math.floor(y/10))),f.append(sn.toAlphaNumericChar(y%10))}else if(p===1){if(l.available()<4)throw new M;const y=l.readBits(4);if(y>=10)throw new M;f.append(sn.toAlphaNumericChar(y))}}static parseECIValue(l){const f=l.readBits(8);if((f&128)===0)return f&127;if((f&192)===128){const p=l.readBits(8);return(f&63)<<8&4294967295|p}if((f&224)===192){const p=l.readBits(16);return(f&31)<<16&4294967295|p}throw new M}}sn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",sn.GB2312_SUBSET=1;class qh{constructor(l){this.mirrored=l}isMirrored(){return this.mirrored}applyMirroredCorrection(l){if(!this.mirrored||l===null||l.length<3)return;const f=l[0];l[0]=l[2],l[2]=f}}class Wh{constructor(){this.rsDecoder=new Et(et.QR_CODE_FIELD_256)}decodeBooleanArray(l,f){return this.decodeBitMatrix(W.parseFromBooleanArray(l),f)}decodeBitMatrix(l,f){const p=new Xg(l);let y=null;try{return this.decodeBitMatrixParser(p,f)}catch(x){y=x}try{p.remask(),p.setMirror(!0),p.readVersion(),p.readFormatInformation(),p.mirror();const x=this.decodeBitMatrixParser(p,f);return x.setOther(new qh(!0)),x}catch(x){throw y!==null?y:x}}decodeBitMatrixParser(l,f){const p=l.readVersion(),y=l.readFormatInformation().getErrorCorrectionLevel(),x=l.readCodewords(),_=Sd.getDataBlocks(x,p,y);let N=0;for(const q of _)N+=q.getNumDataCodewords();const k=new Uint8Array(N);let B=0;for(const q of _){const X=q.getCodewords(),te=q.getNumDataCodewords();this.correctErrors(X,te);for(let ce=0;ce<te;ce++)k[B++]=X[ce]}return sn.decode(k,p,y,f)}correctErrors(l,f){const p=new Int32Array(l);try{this.rsDecoder.decode(p,l.length-f)}catch{throw new b}for(let y=0;y<f;y++)l[y]=p[y]}}class Tl extends he{constructor(l,f,p){super(l,f),this.estimatedModuleSize=p}aboutEquals(l,f,p){if(Math.abs(f-this.getY())<=l&&Math.abs(p-this.getX())<=l){const y=Math.abs(l-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(l,f,p){const y=(this.getX()+f)/2,x=(this.getY()+l)/2,_=(this.estimatedModuleSize+p)/2;return new Tl(y,x,_)}}class Rs{constructor(l,f,p,y,x,_,N){this.image=l,this.startX=f,this.startY=p,this.width=y,this.height=x,this.moduleSize=_,this.resultPointCallback=N,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const l=this.startX,f=this.height,p=this.width,y=l+p,x=this.startY+f/2,_=new Int32Array(3),N=this.image;for(let k=0;k<f;k++){const B=x+((k&1)===0?Math.floor((k+1)/2):-Math.floor((k+1)/2));_[0]=0,_[1]=0,_[2]=0;let q=l;for(;q<y&&!N.get(q,B);)q++;let X=0;for(;q<y;){if(N.get(q,B))if(X===1)_[1]++;else if(X===2){if(this.foundPatternCross(_)){const te=this.handlePossibleCenter(_,B,q);if(te!==null)return te}_[0]=_[2],_[1]=1,_[2]=0,X=1}else _[++X]++;else X===1&&X++,_[X]++;q++}if(this.foundPatternCross(_)){const te=this.handlePossibleCenter(_,B,y);if(te!==null)return te}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new G}static centerFromEnd(l,f){return f-l[2]-l[1]/2}foundPatternCross(l){const f=this.moduleSize,p=f/2;for(let y=0;y<3;y++)if(Math.abs(f-l[y])>=p)return!1;return!0}crossCheckVertical(l,f,p,y){const x=this.image,_=x.getHeight(),N=this.crossCheckStateCount;N[0]=0,N[1]=0,N[2]=0;let k=l;for(;k>=0&&x.get(f,k)&&N[1]<=p;)N[1]++,k--;if(k<0||N[1]>p)return NaN;for(;k>=0&&!x.get(f,k)&&N[0]<=p;)N[0]++,k--;if(N[0]>p)return NaN;for(k=l+1;k<_&&x.get(f,k)&&N[1]<=p;)N[1]++,k++;if(k===_||N[1]>p)return NaN;for(;k<_&&!x.get(f,k)&&N[2]<=p;)N[2]++,k++;if(N[2]>p)return NaN;const B=N[0]+N[1]+N[2];return 5*Math.abs(B-y)>=2*y?NaN:this.foundPatternCross(N)?Rs.centerFromEnd(N,k):NaN}handlePossibleCenter(l,f,p){const y=l[0]+l[1]+l[2],x=Rs.centerFromEnd(l,p),_=this.crossCheckVertical(f,x,2*l[1],y);if(!isNaN(_)){const N=(l[0]+l[1]+l[2])/3;for(const B of this.possibleCenters)if(B.aboutEquals(N,_,x))return B.combineEstimate(_,x,N);const k=new Tl(x,_,N);this.possibleCenters.push(k),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(k)}return null}}class ia extends he{constructor(l,f,p,y){super(l,f),this.estimatedModuleSize=p,this.count=y,y===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(l,f,p){if(Math.abs(f-this.getY())<=l&&Math.abs(p-this.getX())<=l){const y=Math.abs(l-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(l,f,p){const y=this.count+1,x=(this.count*this.getX()+f)/y,_=(this.count*this.getY()+l)/y,N=(this.count*this.estimatedModuleSize+p)/y;return new ia(x,_,N,y)}}class ao{constructor(l){this.bottomLeft=l[0],this.topLeft=l[1],this.topRight=l[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Cn{constructor(l,f){this.image=l,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=f}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(l){const f=l!=null&&l.get(D.TRY_HARDER)!==void 0,p=l!=null&&l.get(D.PURE_BARCODE)!==void 0,y=this.image,x=y.getHeight(),_=y.getWidth();let N=Math.floor(3*x/(4*Cn.MAX_MODULES));(N<Cn.MIN_SKIP||f)&&(N=Cn.MIN_SKIP);let k=!1;const B=new Int32Array(5);for(let X=N-1;X<x&&!k;X+=N){B[0]=0,B[1]=0,B[2]=0,B[3]=0,B[4]=0;let te=0;for(let ce=0;ce<_;ce++)if(y.get(ce,X))(te&1)===1&&te++,B[te]++;else if((te&1)===0)if(te===4)if(Cn.foundPatternCross(B)){if(this.handlePossibleCenter(B,X,ce,p)===!0)if(N=2,this.hasSkipped===!0)k=this.haveMultiplyConfirmedCenters();else{const ye=this.findRowSkip();ye>B[2]&&(X+=ye-B[2]-N,ce=_-1)}else{B[0]=B[2],B[1]=B[3],B[2]=B[4],B[3]=1,B[4]=0,te=3;continue}te=0,B[0]=0,B[1]=0,B[2]=0,B[3]=0,B[4]=0}else B[0]=B[2],B[1]=B[3],B[2]=B[4],B[3]=1,B[4]=0,te=3;else B[++te]++;else B[te]++;Cn.foundPatternCross(B)&&this.handlePossibleCenter(B,X,_,p)===!0&&(N=B[0],this.hasSkipped&&(k=this.haveMultiplyConfirmedCenters()))}const q=this.selectBestPatterns();return he.orderBestPatterns(q),new ao(q)}static centerFromEnd(l,f){return f-l[4]-l[3]-l[2]/2}static foundPatternCross(l){let f=0;for(let x=0;x<5;x++){const _=l[x];if(_===0)return!1;f+=_}if(f<7)return!1;const p=f/7,y=p/2;return Math.abs(p-l[0])<y&&Math.abs(p-l[1])<y&&Math.abs(3*p-l[2])<3*y&&Math.abs(p-l[3])<y&&Math.abs(p-l[4])<y}getCrossCheckStateCount(){const l=this.crossCheckStateCount;return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l}crossCheckDiagonal(l,f,p,y){const x=this.getCrossCheckStateCount();let _=0;const N=this.image;for(;l>=_&&f>=_&&N.get(f-_,l-_);)x[2]++,_++;if(l<_||f<_)return!1;for(;l>=_&&f>=_&&!N.get(f-_,l-_)&&x[1]<=p;)x[1]++,_++;if(l<_||f<_||x[1]>p)return!1;for(;l>=_&&f>=_&&N.get(f-_,l-_)&&x[0]<=p;)x[0]++,_++;if(x[0]>p)return!1;const k=N.getHeight(),B=N.getWidth();for(_=1;l+_<k&&f+_<B&&N.get(f+_,l+_);)x[2]++,_++;if(l+_>=k||f+_>=B)return!1;for(;l+_<k&&f+_<B&&!N.get(f+_,l+_)&&x[3]<p;)x[3]++,_++;if(l+_>=k||f+_>=B||x[3]>=p)return!1;for(;l+_<k&&f+_<B&&N.get(f+_,l+_)&&x[4]<p;)x[4]++,_++;if(x[4]>=p)return!1;const q=x[0]+x[1]+x[2]+x[3]+x[4];return Math.abs(q-y)<2*y&&Cn.foundPatternCross(x)}crossCheckVertical(l,f,p,y){const x=this.image,_=x.getHeight(),N=this.getCrossCheckStateCount();let k=l;for(;k>=0&&x.get(f,k);)N[2]++,k--;if(k<0)return NaN;for(;k>=0&&!x.get(f,k)&&N[1]<=p;)N[1]++,k--;if(k<0||N[1]>p)return NaN;for(;k>=0&&x.get(f,k)&&N[0]<=p;)N[0]++,k--;if(N[0]>p)return NaN;for(k=l+1;k<_&&x.get(f,k);)N[2]++,k++;if(k===_)return NaN;for(;k<_&&!x.get(f,k)&&N[3]<p;)N[3]++,k++;if(k===_||N[3]>=p)return NaN;for(;k<_&&x.get(f,k)&&N[4]<p;)N[4]++,k++;if(N[4]>=p)return NaN;const B=N[0]+N[1]+N[2]+N[3]+N[4];return 5*Math.abs(B-y)>=2*y?NaN:Cn.foundPatternCross(N)?Cn.centerFromEnd(N,k):NaN}crossCheckHorizontal(l,f,p,y){const x=this.image,_=x.getWidth(),N=this.getCrossCheckStateCount();let k=l;for(;k>=0&&x.get(k,f);)N[2]++,k--;if(k<0)return NaN;for(;k>=0&&!x.get(k,f)&&N[1]<=p;)N[1]++,k--;if(k<0||N[1]>p)return NaN;for(;k>=0&&x.get(k,f)&&N[0]<=p;)N[0]++,k--;if(N[0]>p)return NaN;for(k=l+1;k<_&&x.get(k,f);)N[2]++,k++;if(k===_)return NaN;for(;k<_&&!x.get(k,f)&&N[3]<p;)N[3]++,k++;if(k===_||N[3]>=p)return NaN;for(;k<_&&x.get(k,f)&&N[4]<p;)N[4]++,k++;if(N[4]>=p)return NaN;const B=N[0]+N[1]+N[2]+N[3]+N[4];return 5*Math.abs(B-y)>=y?NaN:Cn.foundPatternCross(N)?Cn.centerFromEnd(N,k):NaN}handlePossibleCenter(l,f,p,y){const x=l[0]+l[1]+l[2]+l[3]+l[4];let _=Cn.centerFromEnd(l,p),N=this.crossCheckVertical(f,Math.floor(_),l[2],x);if(!isNaN(N)&&(_=this.crossCheckHorizontal(Math.floor(_),Math.floor(N),l[2],x),!isNaN(_)&&(!y||this.crossCheckDiagonal(Math.floor(N),Math.floor(_),l[2],x)))){const k=x/7;let B=!1;const q=this.possibleCenters;for(let X=0,te=q.length;X<te;X++){const ce=q[X];if(ce.aboutEquals(k,N,_)){q[X]=ce.combineEstimate(N,_,k),B=!0;break}}if(!B){const X=new ia(_,N,k);q.push(X),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(X)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let f=null;for(const p of this.possibleCenters)if(p.getCount()>=Cn.CENTER_QUORUM)if(f==null)f=p;else return this.hasSkipped=!0,Math.floor((Math.abs(f.getX()-p.getX())-Math.abs(f.getY()-p.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let l=0,f=0;const p=this.possibleCenters.length;for(const _ of this.possibleCenters)_.getCount()>=Cn.CENTER_QUORUM&&(l++,f+=_.getEstimatedModuleSize());if(l<3)return!1;const y=f/p;let x=0;for(const _ of this.possibleCenters)x+=Math.abs(_.getEstimatedModuleSize()-y);return x<=.05*f}selectBestPatterns(){const l=this.possibleCenters.length;if(l<3)throw new G;const f=this.possibleCenters;let p;if(l>3){let y=0,x=0;for(const k of this.possibleCenters){const B=k.getEstimatedModuleSize();y+=B,x+=B*B}p=y/l;let _=Math.sqrt(x/l-p*p);f.sort((k,B)=>{const q=Math.abs(B.getEstimatedModuleSize()-p),X=Math.abs(k.getEstimatedModuleSize()-p);return q<X?-1:q>X?1:0});const N=Math.max(.2*p,_);for(let k=0;k<f.length&&f.length>3;k++){const B=f[k];Math.abs(B.getEstimatedModuleSize()-p)>N&&(f.splice(k,1),k--)}}if(f.length>3){let y=0;for(const x of f)y+=x.getEstimatedModuleSize();p=y/f.length,f.sort((x,_)=>{if(_.getCount()===x.getCount()){const N=Math.abs(_.getEstimatedModuleSize()-p),k=Math.abs(x.getEstimatedModuleSize()-p);return N<k?1:N>k?-1:0}else return _.getCount()-x.getCount()}),f.splice(3)}return[f[0],f[1],f[2]]}}Cn.CENTER_QUORUM=2,Cn.MIN_SKIP=3,Cn.MAX_MODULES=57;class ja{constructor(l){this.image=l}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(l){this.resultPointCallback=l==null?null:l.get(D.NEED_RESULT_POINT_CALLBACK);const p=new Cn(this.image,this.resultPointCallback).find(l);return this.processFinderPatternInfo(p)}processFinderPatternInfo(l){const f=l.getTopLeft(),p=l.getTopRight(),y=l.getBottomLeft(),x=this.calculateModuleSize(f,p,y);if(x<1)throw new G("No pattern found in proccess finder.");const _=ja.computeDimension(f,p,y,x),N=It.getProvisionalVersionForDimension(_),k=N.getDimensionForVersion()-7;let B=null;if(N.getAlignmentPatternCenters().length>0){const ce=p.getX()-f.getX()+y.getX(),ge=p.getY()-f.getY()+y.getY(),ye=1-3/k,be=Math.floor(f.getX()+ye*(ce-f.getX())),ke=Math.floor(f.getY()+ye*(ge-f.getY()));for(let Je=4;Je<=16;Je<<=1)try{B=this.findAlignmentInRegion(x,be,ke,Je);break}catch(tt){if(!(tt instanceof G))throw tt}}const q=ja.createTransform(f,p,y,B,_),X=ja.sampleGrid(this.image,q,_);let te;return B===null?te=[y,f,p]:te=[y,f,p,B],new Ne(X,te)}static createTransform(l,f,p,y,x){const _=x-3.5;let N,k,B,q;return y!==null?(N=y.getX(),k=y.getY(),B=_-3,q=B):(N=f.getX()-l.getX()+p.getX(),k=f.getY()-l.getY()+p.getY(),B=_,q=_),ae.quadrilateralToQuadrilateral(3.5,3.5,_,3.5,B,q,3.5,_,l.getX(),l.getY(),f.getX(),f.getY(),N,k,p.getX(),p.getY())}static sampleGrid(l,f,p){return lt.getInstance().sampleGridWithTransform(l,p,p,f)}static computeDimension(l,f,p,y){const x=ut.round(he.distance(l,f)/y),_=ut.round(he.distance(l,p)/y);let N=Math.floor((x+_)/2)+7;switch(N&3){case 0:N++;break;case 2:N--;break;case 3:throw new G("Dimensions could be not found.")}return N}calculateModuleSize(l,f,p){return(this.calculateModuleSizeOneWay(l,f)+this.calculateModuleSizeOneWay(l,p))/2}calculateModuleSizeOneWay(l,f){const p=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(f.getX()),Math.floor(f.getY())),y=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(f.getX()),Math.floor(f.getY()),Math.floor(l.getX()),Math.floor(l.getY()));return isNaN(p)?y/7:isNaN(y)?p/7:(p+y)/14}sizeOfBlackWhiteBlackRunBothWays(l,f,p,y){let x=this.sizeOfBlackWhiteBlackRun(l,f,p,y),_=1,N=l-(p-l);N<0?(_=l/(l-N),N=0):N>=this.image.getWidth()&&(_=(this.image.getWidth()-1-l)/(N-l),N=this.image.getWidth()-1);let k=Math.floor(f-(y-f)*_);return _=1,k<0?(_=f/(f-k),k=0):k>=this.image.getHeight()&&(_=(this.image.getHeight()-1-f)/(k-f),k=this.image.getHeight()-1),N=Math.floor(l+(N-l)*_),x+=this.sizeOfBlackWhiteBlackRun(l,f,N,k),x-1}sizeOfBlackWhiteBlackRun(l,f,p,y){const x=Math.abs(y-f)>Math.abs(p-l);if(x){let ce=l;l=f,f=ce,ce=p,p=y,y=ce}const _=Math.abs(p-l),N=Math.abs(y-f);let k=-_/2;const B=l<p?1:-1,q=f<y?1:-1;let X=0;const te=p+B;for(let ce=l,ge=f;ce!==te;ce+=B){const ye=x?ge:ce,be=x?ce:ge;if(X===1===this.image.get(ye,be)){if(X===2)return ut.distance(ce,ge,l,f);X++}if(k+=N,k>0){if(ge===y)break;ge+=q,k-=_}}return X===2?ut.distance(p+B,y,l,f):NaN}findAlignmentInRegion(l,f,p,y){const x=Math.floor(y*l),_=Math.max(0,f-x),N=Math.min(this.image.getWidth()-1,f+x);if(N-_<l*3)throw new G("Alignment top exceeds estimated module size.");const k=Math.max(0,p-x),B=Math.min(this.image.getHeight()-1,p+x);if(B-k<l*3)throw new G("Alignment bottom exceeds estimated module size.");return new Rs(this.image,_,k,N-_,B-k,l,this.resultPointCallback).find()}}class Ti{constructor(){this.decoder=new Wh}getDecoder(){return this.decoder}decode(l,f){let p,y;if(f!=null&&f.get(D.PURE_BARCODE)!==void 0){const k=Ti.extractPureBits(l.getBlackMatrix());p=this.decoder.decodeBitMatrix(k,f),y=Ti.NO_POINTS}else{const k=new ja(l.getBlackMatrix()).detect(f);p=this.decoder.decodeBitMatrix(k.getBits(),f),y=k.getPoints()}p.getOther()instanceof qh&&p.getOther().applyMirroredCorrection(y);const x=new pe(p.getText(),p.getRawBytes(),void 0,y,_e.QR_CODE,void 0),_=p.getByteSegments();_!==null&&x.putMetadata(Le.BYTE_SEGMENTS,_);const N=p.getECLevel();return N!==null&&x.putMetadata(Le.ERROR_CORRECTION_LEVEL,N),p.hasStructuredAppend()&&(x.putMetadata(Le.STRUCTURED_APPEND_SEQUENCE,p.getStructuredAppendSequenceNumber()),x.putMetadata(Le.STRUCTURED_APPEND_PARITY,p.getStructuredAppendParity())),x}reset(){}static extractPureBits(l){const f=l.getTopLeftOnBit(),p=l.getBottomRightOnBit();if(f===null||p===null)throw new G;const y=this.moduleSize(f,l);let x=f[1],_=p[1],N=f[0],k=p[0];if(N>=k||x>=_)throw new G;if(_-x!==k-N&&(k=N+(_-x),k>=l.getWidth()))throw new G;const B=Math.round((k-N+1)/y),q=Math.round((_-x+1)/y);if(B<=0||q<=0)throw new G;if(q!==B)throw new G;const X=Math.floor(y/2);x+=X,N+=X;const te=N+Math.floor((B-1)*y)-k;if(te>0){if(te>X)throw new G;N-=te}const ce=x+Math.floor((q-1)*y)-_;if(ce>0){if(ce>X)throw new G;x-=ce}const ge=new W(B,q);for(let ye=0;ye<q;ye++){const be=x+Math.floor(ye*y);for(let ke=0;ke<B;ke++)l.get(N+Math.floor(ke*y),be)&&ge.set(ke,ye)}return ge}static moduleSize(l,f){const p=f.getHeight(),y=f.getWidth();let x=l[0],_=l[1],N=!0,k=0;for(;x<y&&_<p;){if(N!==f.get(x,_)){if(++k===5)break;N=!N}x++,_++}if(x===y||_===p)throw new G;return(x-l[0])/7}}Ti.NO_POINTS=new Array;class Wt{PDF417Common(){}static getBitCountSum(l){return ut.sum(l)}static toIntArray(l){if(l==null||!l.length)return Wt.EMPTY_INT_ARRAY;const f=new Int32Array(l.length);let p=0;for(const y of l)f[p++]=y;return f}static getCodeword(l){const f=I.binarySearch(Wt.SYMBOL_TABLE,l&262143);return f<0?-1:(Wt.CODEWORD_TABLE[f]-1)%Wt.NUMBER_OF_CODEWORDS}}Wt.NUMBER_OF_CODEWORDS=929,Wt.MAX_CODEWORDS_IN_BARCODE=Wt.NUMBER_OF_CODEWORDS-1,Wt.MIN_ROWS_IN_BARCODE=3,Wt.MAX_ROWS_IN_BARCODE=90,Wt.MODULES_IN_CODEWORD=17,Wt.MODULES_IN_STOP_PATTERN=18,Wt.BARS_IN_MODULE=8,Wt.EMPTY_INT_ARRAY=new Int32Array([]),Wt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Wt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Zg{constructor(l,f){this.bits=l,this.points=f}getBits(){return this.bits}getPoints(){return this.points}}class Jt{static detectMultiple(l,f,p){let y=l.getBlackMatrix(),x=Jt.detect(p,y);return x.length||(y=y.clone(),y.rotate180(),x=Jt.detect(p,y)),new Zg(y,x)}static detect(l,f){const p=new Array;let y=0,x=0,_=!1;for(;y<f.getHeight();){const N=Jt.findVertices(f,y,x);if(N[0]==null&&N[3]==null){if(!_)break;_=!1,x=0;for(const k of p)k[1]!=null&&(y=Math.trunc(Math.max(y,k[1].getY()))),k[3]!=null&&(y=Math.max(y,Math.trunc(k[3].getY())));y+=Jt.ROW_STEP;continue}if(_=!0,p.push(N),!l)break;N[2]!=null?(x=Math.trunc(N[2].getX()),y=Math.trunc(N[2].getY())):(x=Math.trunc(N[4].getX()),y=Math.trunc(N[4].getY()))}return p}static findVertices(l,f,p){const y=l.getHeight(),x=l.getWidth(),_=new Array(8);return Jt.copyToResult(_,Jt.findRowsWithPattern(l,y,x,f,p,Jt.START_PATTERN),Jt.INDEXES_START_PATTERN),_[4]!=null&&(p=Math.trunc(_[4].getX()),f=Math.trunc(_[4].getY())),Jt.copyToResult(_,Jt.findRowsWithPattern(l,y,x,f,p,Jt.STOP_PATTERN),Jt.INDEXES_STOP_PATTERN),_}static copyToResult(l,f,p){for(let y=0;y<p.length;y++)l[p[y]]=f[y]}static findRowsWithPattern(l,f,p,y,x,_){const N=new Array(4);let k=!1;const B=new Int32Array(_.length);for(;y<f;y+=Jt.ROW_STEP){let X=Jt.findGuardPattern(l,x,y,p,!1,_,B);if(X!=null){for(;y>0;){const te=Jt.findGuardPattern(l,x,--y,p,!1,_,B);if(te!=null)X=te;else{y++;break}}N[0]=new he(X[0],y),N[1]=new he(X[1],y),k=!0;break}}let q=y+1;if(k){let X=0,te=Int32Array.from([Math.trunc(N[0].getX()),Math.trunc(N[1].getX())]);for(;q<f;q++){const ce=Jt.findGuardPattern(l,te[0],q,p,!1,_,B);if(ce!=null&&Math.abs(te[0]-ce[0])<Jt.MAX_PATTERN_DRIFT&&Math.abs(te[1]-ce[1])<Jt.MAX_PATTERN_DRIFT)te=ce,X=0;else{if(X>Jt.SKIPPED_ROW_COUNT_MAX)break;X++}}q-=X+1,N[2]=new he(te[0],q),N[3]=new he(te[1],q)}return q-y<Jt.BARCODE_MIN_HEIGHT&&I.fill(N,null),N}static findGuardPattern(l,f,p,y,x,_,N){I.fillWithin(N,0,N.length,0);let k=f,B=0;for(;l.get(k,p)&&k>0&&B++<Jt.MAX_PIXEL_DRIFT;)k--;let q=k,X=0,te=_.length;for(let ce=x;q<y;q++)if(l.get(q,p)!==ce)N[X]++;else{if(X===te-1){if(Jt.patternMatchVariance(N,_,Jt.MAX_INDIVIDUAL_VARIANCE)<Jt.MAX_AVG_VARIANCE)return new Int32Array([k,q]);k+=N[0]+N[1],E.arraycopy(N,2,N,0,X-1),N[X-1]=0,N[X]=0,X--}else X++;N[X]=1,ce=!ce}return X===te-1&&Jt.patternMatchVariance(N,_,Jt.MAX_INDIVIDUAL_VARIANCE)<Jt.MAX_AVG_VARIANCE?new Int32Array([k,q-1]):null}static patternMatchVariance(l,f,p){let y=l.length,x=0,_=0;for(let B=0;B<y;B++)x+=l[B],_+=f[B];if(x<_)return 1/0;let N=x/_;p*=N;let k=0;for(let B=0;B<y;B++){let q=l[B],X=f[B]*N,te=q>X?q-X:X-q;if(te>p)return 1/0;k+=te}return k/x}}Jt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Jt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Jt.MAX_AVG_VARIANCE=.42,Jt.MAX_INDIVIDUAL_VARIANCE=.8,Jt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Jt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Jt.MAX_PIXEL_DRIFT=3,Jt.MAX_PATTERN_DRIFT=5,Jt.SKIPPED_ROW_COUNT_MAX=25,Jt.ROW_STEP=5,Jt.BARCODE_MIN_HEIGHT=10;class oi{constructor(l,f){if(f.length===0)throw new v;this.field=l;let p=f.length;if(p>1&&f[0]===0){let y=1;for(;y<p&&f[y]===0;)y++;y===p?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(p-y),E.arraycopy(f,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=f}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);if(l===1){let y=0;for(let x of this.coefficients)y=this.field.add(y,x);return y}let f=this.coefficients[0],p=this.coefficients.length;for(let y=1;y<p;y++)f=this.field.add(this.field.multiply(l,f),this.coefficients[y]);return f}add(l){if(!this.field.equals(l.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return l;if(l.isZero())return this;let f=this.coefficients,p=l.coefficients;if(f.length>p.length){let _=f;f=p,p=_}let y=new Int32Array(p.length),x=p.length-f.length;E.arraycopy(p,0,y,0,x);for(let _=x;_<p.length;_++)y[_]=this.field.add(f[_-x],p[_]);return new oi(this.field,y)}subtract(l){if(!this.field.equals(l.field))throw new v("ModulusPolys do not have same ModulusGF field");return l.isZero()?this:this.add(l.negative())}multiply(l){return l instanceof oi?this.multiplyOther(l):this.multiplyScalar(l)}multiplyOther(l){if(!this.field.equals(l.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||l.isZero())return new oi(this.field,new Int32Array([0]));let f=this.coefficients,p=f.length,y=l.coefficients,x=y.length,_=new Int32Array(p+x-1);for(let N=0;N<p;N++){let k=f[N];for(let B=0;B<x;B++)_[N+B]=this.field.add(_[N+B],this.field.multiply(k,y[B]))}return new oi(this.field,_)}negative(){let l=this.coefficients.length,f=new Int32Array(l);for(let p=0;p<l;p++)f[p]=this.field.subtract(0,this.coefficients[p]);return new oi(this.field,f)}multiplyScalar(l){if(l===0)return new oi(this.field,new Int32Array([0]));if(l===1)return this;let f=this.coefficients.length,p=new Int32Array(f);for(let y=0;y<f;y++)p[y]=this.field.multiply(this.coefficients[y],l);return new oi(this.field,p)}multiplyByMonomial(l,f){if(l<0)throw new v;if(f===0)return new oi(this.field,new Int32Array([0]));let p=this.coefficients.length,y=new Int32Array(p+l);for(let x=0;x<p;x++)y[x]=this.field.multiply(this.coefficients[x],f);return new oi(this.field,y)}toString(){let l=new Z;for(let f=this.getDegree();f>=0;f--){let p=this.getCoefficient(f);p!==0&&(p<0?(l.append(" - "),p=-p):l.length()>0&&l.append(" + "),(f===0||p!==1)&&l.append(p),f!==0&&(f===1?l.append("x"):(l.append("x^"),l.append(f))))}return l.toString()}}class Qg{add(l,f){return(l+f)%this.modulus}subtract(l,f){return(this.modulus+l-f)%this.modulus}exp(l){return this.expTable[l]}log(l){if(l===0)throw new v;return this.logTable[l]}inverse(l){if(l===0)throw new Oe;return this.expTable[this.modulus-this.logTable[l]-1]}multiply(l,f){return l===0||f===0?0:this.expTable[(this.logTable[l]+this.logTable[f])%(this.modulus-1)]}getSize(){return this.modulus}equals(l){return l===this}}class kl extends Qg{constructor(l,f){super(),this.modulus=l,this.expTable=new Int32Array(l),this.logTable=new Int32Array(l);let p=1;for(let y=0;y<l;y++)this.expTable[y]=p,p=p*f%l;for(let y=0;y<l-1;y++)this.logTable[this.expTable[y]]=y;this.zero=new oi(this,new Int32Array([0])),this.one=new oi(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,f){if(l<0)throw new v;if(f===0)return this.zero;let p=new Int32Array(l+1);return p[0]=f,new oi(this,p)}}kl.PDF417_GF=new kl(Wt.NUMBER_OF_CODEWORDS,3);class zh{constructor(){this.field=kl.PDF417_GF}decode(l,f,p){let y=new oi(this.field,l),x=new Int32Array(f),_=!1;for(let ge=f;ge>0;ge--){let ye=y.evaluateAt(this.field.exp(ge));x[f-ge]=ye,ye!==0&&(_=!0)}if(!_)return 0;let N=this.field.getOne();if(p!=null)for(const ge of p){let ye=this.field.exp(l.length-1-ge),be=new oi(this.field,new Int32Array([this.field.subtract(0,ye),1]));N=N.multiply(be)}let k=new oi(this.field,x),B=this.runEuclideanAlgorithm(this.field.buildMonomial(f,1),k,f),q=B[0],X=B[1],te=this.findErrorLocations(q),ce=this.findErrorMagnitudes(X,q,te);for(let ge=0;ge<te.length;ge++){let ye=l.length-1-this.field.log(te[ge]);if(ye<0)throw b.getChecksumInstance();l[ye]=this.field.subtract(l[ye],ce[ge])}return te.length}runEuclideanAlgorithm(l,f,p){if(l.getDegree()<f.getDegree()){let te=l;l=f,f=te}let y=l,x=f,_=this.field.getZero(),N=this.field.getOne();for(;x.getDegree()>=Math.round(p/2);){let te=y,ce=_;if(y=x,_=N,y.isZero())throw b.getChecksumInstance();x=te;let ge=this.field.getZero(),ye=y.getCoefficient(y.getDegree()),be=this.field.inverse(ye);for(;x.getDegree()>=y.getDegree()&&!x.isZero();){let ke=x.getDegree()-y.getDegree(),Je=this.field.multiply(x.getCoefficient(x.getDegree()),be);ge=ge.add(this.field.buildMonomial(ke,Je)),x=x.subtract(y.multiplyByMonomial(ke,Je))}N=ge.multiply(_).subtract(ce).negative()}let k=N.getCoefficient(0);if(k===0)throw b.getChecksumInstance();let B=this.field.inverse(k),q=N.multiply(B),X=x.multiply(B);return[q,X]}findErrorLocations(l){let f=l.getDegree(),p=new Int32Array(f),y=0;for(let x=1;x<this.field.getSize()&&y<f;x++)l.evaluateAt(x)===0&&(p[y]=this.field.inverse(x),y++);if(y!==f)throw b.getChecksumInstance();return p}findErrorMagnitudes(l,f,p){let y=f.getDegree(),x=new Int32Array(y);for(let B=1;B<=y;B++)x[y-B]=this.field.multiply(B,f.getCoefficient(B));let _=new oi(this.field,x),N=p.length,k=new Int32Array(N);for(let B=0;B<N;B++){let q=this.field.inverse(p[B]),X=this.field.subtract(0,l.evaluateAt(q)),te=this.field.inverse(_.evaluateAt(q));k[B]=this.field.multiply(X,te)}return k}}class Ro{constructor(l,f,p,y,x){l instanceof Ro?this.constructor_2(l):this.constructor_1(l,f,p,y,x)}constructor_1(l,f,p,y,x){const _=f==null||p==null,N=y==null||x==null;if(_&&N)throw new G;_?(f=new he(0,y.getY()),p=new he(0,x.getY())):N&&(y=new he(l.getWidth()-1,f.getY()),x=new he(l.getWidth()-1,p.getY())),this.image=l,this.topLeft=f,this.bottomLeft=p,this.topRight=y,this.bottomRight=x,this.minX=Math.trunc(Math.min(f.getX(),p.getX())),this.maxX=Math.trunc(Math.max(y.getX(),x.getX())),this.minY=Math.trunc(Math.min(f.getY(),y.getY())),this.maxY=Math.trunc(Math.max(p.getY(),x.getY()))}constructor_2(l){this.image=l.image,this.topLeft=l.getTopLeft(),this.bottomLeft=l.getBottomLeft(),this.topRight=l.getTopRight(),this.bottomRight=l.getBottomRight(),this.minX=l.getMinX(),this.maxX=l.getMaxX(),this.minY=l.getMinY(),this.maxY=l.getMaxY()}static merge(l,f){return l==null?f:f==null?l:new Ro(l.image,l.topLeft,l.bottomLeft,f.topRight,f.bottomRight)}addMissingRows(l,f,p){let y=this.topLeft,x=this.bottomLeft,_=this.topRight,N=this.bottomRight;if(l>0){let k=p?this.topLeft:this.topRight,B=Math.trunc(k.getY()-l);B<0&&(B=0);let q=new he(k.getX(),B);p?y=q:_=q}if(f>0){let k=p?this.bottomLeft:this.bottomRight,B=Math.trunc(k.getY()+f);B>=this.image.getHeight()&&(B=this.image.getHeight()-1);let q=new he(k.getX(),B);p?x=q:N=q}return new Ro(this.image,y,x,_,N)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Yc{constructor(l,f,p,y){this.columnCount=l,this.errorCorrectionLevel=y,this.rowCountUpperPart=f,this.rowCountLowerPart=p,this.rowCount=f+p}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Oa{constructor(){this.buffer=""}static form(l,f){let p=-1;function y(_,N,k,B,q,X){if(_==="%%")return"%";if(f[++p]===void 0)return;_=B?parseInt(B.substr(1)):void 0;let te=q?parseInt(q.substr(1)):void 0,ce;switch(X){case"s":ce=f[p];break;case"c":ce=f[p][0];break;case"f":ce=parseFloat(f[p]).toFixed(_);break;case"p":ce=parseFloat(f[p]).toPrecision(_);break;case"e":ce=parseFloat(f[p]).toExponential(_);break;case"x":ce=parseInt(f[p]).toString(te||16);break;case"d":ce=parseFloat(parseInt(f[p],te||10).toPrecision(_)).toFixed(0);break}ce=typeof ce=="object"?JSON.stringify(ce):(+ce).toString(te);let ge=parseInt(k),ye=k&&k[0]+""=="0"?"0":" ";for(;ce.length<ge;)ce=N!==void 0?ce+ye:ye+ce;return ce}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(x,y)}format(l,...f){this.buffer+=Oa.form(l,f)}toString(){return this.buffer}}class sa{constructor(l){this.boundingBox=new Ro(l),this.codewords=new Array(l.getMaxY()-l.getMinY()+1)}getCodewordNearby(l){let f=this.getCodeword(l);if(f!=null)return f;for(let p=1;p<sa.MAX_NEARBY_DISTANCE;p++){let y=this.imageRowToCodewordIndex(l)-p;if(y>=0&&(f=this.codewords[y],f!=null)||(y=this.imageRowToCodewordIndex(l)+p,y<this.codewords.length&&(f=this.codewords[y],f!=null)))return f}return null}imageRowToCodewordIndex(l){return l-this.boundingBox.getMinY()}setCodeword(l,f){this.codewords[this.imageRowToCodewordIndex(l)]=f}getCodeword(l){return this.codewords[this.imageRowToCodewordIndex(l)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const l=new Oa;let f=0;for(const p of this.codewords){if(p==null){l.format("%3d:    |   %n",f++);continue}l.format("%3d: %3d|%3d%n",f++,p.getRowNumber(),p.getValue())}return l.toString()}}sa.MAX_NEARBY_DISTANCE=5;class oo{constructor(){this.values=new Map}setValue(l){l=Math.trunc(l);let f=this.values.get(l);f==null&&(f=0),f++,this.values.set(l,f)}getValue(){let l=-1,f=new Array;for(const[p,y]of this.values.entries()){const x={getKey:()=>p,getValue:()=>y};x.getValue()>l?(l=x.getValue(),f=[],f.push(x.getKey())):x.getValue()===l&&f.push(x.getKey())}return Wt.toIntArray(f)}getConfidence(l){return this.values.get(l)}}class Jg extends sa{constructor(l,f){super(l),this._isLeft=f}setRowNumbers(){for(let l of this.getCodewords())l?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(l){let f=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(f,l);let p=this.getBoundingBox(),y=this._isLeft?p.getTopLeft():p.getTopRight(),x=this._isLeft?p.getBottomLeft():p.getBottomRight(),_=this.imageRowToCodewordIndex(Math.trunc(y.getY())),N=this.imageRowToCodewordIndex(Math.trunc(x.getY())),k=-1,B=1,q=0;for(let X=_;X<N;X++){if(f[X]==null)continue;let te=f[X],ce=te.getRowNumber()-k;if(ce===0)q++;else if(ce===1)B=Math.max(B,q),q=1,k=te.getRowNumber();else if(ce<0||te.getRowNumber()>=l.getRowCount()||ce>X)f[X]=null;else{let ge;B>2?ge=(B-2)*ce:ge=ce;let ye=ge>=X;for(let be=1;be<=ge&&!ye;be++)ye=f[X-be]!=null;ye?f[X]=null:(k=te.getRowNumber(),q=1)}}}getRowHeights(){let l=this.getBarcodeMetadata();if(l==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(l);let f=new Int32Array(l.getRowCount());for(let p of this.getCodewords())if(p!=null){let y=p.getRowNumber();if(y>=f.length)continue;f[y]++}return f}adjustIncompleteIndicatorColumnRowNumbers(l){let f=this.getBoundingBox(),p=this._isLeft?f.getTopLeft():f.getTopRight(),y=this._isLeft?f.getBottomLeft():f.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(p.getY())),_=this.imageRowToCodewordIndex(Math.trunc(y.getY())),N=this.getCodewords(),k=-1;for(let B=x;B<_;B++){if(N[B]==null)continue;let q=N[B];q.setRowNumberAsRowIndicatorColumn();let X=q.getRowNumber()-k;X===0||(X===1?k=q.getRowNumber():q.getRowNumber()>=l.getRowCount()?N[B]=null:k=q.getRowNumber())}}getBarcodeMetadata(){let l=this.getCodewords(),f=new oo,p=new oo,y=new oo,x=new oo;for(let N of l){if(N==null)continue;N.setRowNumberAsRowIndicatorColumn();let k=N.getValue()%30,B=N.getRowNumber();switch(this._isLeft||(B+=2),B%3){case 0:p.setValue(k*3+1);break;case 1:x.setValue(k/3),y.setValue(k%3);break;case 2:f.setValue(k+1);break}}if(f.getValue().length===0||p.getValue().length===0||y.getValue().length===0||x.getValue().length===0||f.getValue()[0]<1||p.getValue()[0]+y.getValue()[0]<Wt.MIN_ROWS_IN_BARCODE||p.getValue()[0]+y.getValue()[0]>Wt.MAX_ROWS_IN_BARCODE)return null;let _=new Yc(f.getValue()[0],p.getValue()[0],y.getValue()[0],x.getValue()[0]);return this.removeIncorrectCodewords(l,_),_}removeIncorrectCodewords(l,f){for(let p=0;p<l.length;p++){let y=l[p];if(l[p]==null)continue;let x=y.getValue()%30,_=y.getRowNumber();if(_>f.getRowCount()){l[p]=null;continue}switch(this._isLeft||(_+=2),_%3){case 0:x*3+1!==f.getRowCountUpperPart()&&(l[p]=null);break;case 1:(Math.trunc(x/3)!==f.getErrorCorrectionLevel()||x%3!==f.getRowCountLowerPart())&&(l[p]=null);break;case 2:x+1!==f.getColumnCount()&&(l[p]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Xc{constructor(l,f){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=l,this.barcodeColumnCount=l.getColumnCount(),this.boundingBox=f,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let l=Wt.MAX_CODEWORDS_IN_BARCODE,f;do f=l,l=this.adjustRowNumbersAndGetCount();while(l>0&&l<f);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(l){l?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let l=this.adjustRowNumbersByRow();if(l===0)return 0;for(let f=1;f<this.barcodeColumnCount+1;f++){let p=this.detectionResultColumns[f].getCodewords();for(let y=0;y<p.length;y++)p[y]!=null&&(p[y].hasValidRowNumber()||this.adjustRowNumbers(f,y,p))}return l}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let l=this.detectionResultColumns[0].getCodewords(),f=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let p=0;p<l.length;p++)if(l[p]!=null&&f[p]!=null&&l[p].getRowNumber()===f[p].getRowNumber())for(let y=1;y<=this.barcodeColumnCount;y++){let x=this.detectionResultColumns[y].getCodewords()[p];x!=null&&(x.setRowNumber(l[p].getRowNumber()),x.hasValidRowNumber()||(this.detectionResultColumns[y].getCodewords()[p]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let l=0,f=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let p=0;p<f.length;p++){if(f[p]==null)continue;let y=f[p].getRowNumber(),x=0;for(let _=this.barcodeColumnCount+1;_>0&&x<this.ADJUST_ROW_NUMBER_SKIP;_--){let N=this.detectionResultColumns[_].getCodewords()[p];N!=null&&(x=Xc.adjustRowNumberIfValid(y,x,N),N.hasValidRowNumber()||l++)}}return l}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let l=0,f=this.detectionResultColumns[0].getCodewords();for(let p=0;p<f.length;p++){if(f[p]==null)continue;let y=f[p].getRowNumber(),x=0;for(let _=1;_<this.barcodeColumnCount+1&&x<this.ADJUST_ROW_NUMBER_SKIP;_++){let N=this.detectionResultColumns[_].getCodewords()[p];N!=null&&(x=Xc.adjustRowNumberIfValid(y,x,N),N.hasValidRowNumber()||l++)}}return l}static adjustRowNumberIfValid(l,f,p){return p==null||p.hasValidRowNumber()||(p.isValidRowNumber(l)?(p.setRowNumber(l),f=0):++f),f}adjustRowNumbers(l,f,p){if(!this.detectionResultColumns[l-1])return;let y=p[f],x=this.detectionResultColumns[l-1].getCodewords(),_=x;this.detectionResultColumns[l+1]!=null&&(_=this.detectionResultColumns[l+1].getCodewords());let N=new Array(14);N[2]=x[f],N[3]=_[f],f>0&&(N[0]=p[f-1],N[4]=x[f-1],N[5]=_[f-1]),f>1&&(N[8]=p[f-2],N[10]=x[f-2],N[11]=_[f-2]),f<p.length-1&&(N[1]=p[f+1],N[6]=x[f+1],N[7]=_[f+1]),f<p.length-2&&(N[9]=p[f+2],N[12]=x[f+2],N[13]=_[f+2]);for(let k of N)if(Xc.adjustRowNumber(y,k))return}static adjustRowNumber(l,f){return f==null?!1:f.hasValidRowNumber()&&f.getBucket()===l.getBucket()?(l.setRowNumber(f.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(l){this.boundingBox=l}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(l,f){this.detectionResultColumns[l]=f}getDetectionResultColumn(l){return this.detectionResultColumns[l]}toString(){let l=this.detectionResultColumns[0];l==null&&(l=this.detectionResultColumns[this.barcodeColumnCount+1]);let f=new Oa;for(let p=0;p<l.getCodewords().length;p++){f.format("CW %3d:",p);for(let y=0;y<this.barcodeColumnCount+2;y++){if(this.detectionResultColumns[y]==null){f.format("    |   ");continue}let x=this.detectionResultColumns[y].getCodewords()[p];if(x==null){f.format("    |   ");continue}f.format(" %3d|%3d",x.getRowNumber(),x.getValue())}f.format("%n")}return f.toString()}}class Mo{constructor(l,f,p,y){this.rowNumber=Mo.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(l),this.endX=Math.trunc(f),this.bucket=Math.trunc(p),this.value=Math.trunc(y)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(l){return l!==Mo.BARCODE_ROW_UNKNOWN&&this.bucket===l%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(l){this.rowNumber=l}toString(){return this.rowNumber+"|"+this.value}}Mo.BARCODE_ROW_UNKNOWN=-1;class li{static initialize(){for(let l=0;l<Wt.SYMBOL_TABLE.length;l++){let f=Wt.SYMBOL_TABLE[l],p=f&1;for(let y=0;y<Wt.BARS_IN_MODULE;y++){let x=0;for(;(f&1)===p;)x+=1,f>>=1;p=f&1,li.RATIOS_TABLE[l]||(li.RATIOS_TABLE[l]=new Array(Wt.BARS_IN_MODULE)),li.RATIOS_TABLE[l][Wt.BARS_IN_MODULE-y-1]=Math.fround(x/Wt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(l){let f=li.getDecodedCodewordValue(li.sampleBitCounts(l));return f!==-1?f:li.getClosestDecodedValue(l)}static sampleBitCounts(l){let f=ut.sum(l),p=new Int32Array(Wt.BARS_IN_MODULE),y=0,x=0;for(let _=0;_<Wt.MODULES_IN_CODEWORD;_++){let N=f/(2*Wt.MODULES_IN_CODEWORD)+_*f/Wt.MODULES_IN_CODEWORD;x+l[y]<=N&&(x+=l[y],y++),p[y]++}return p}static getDecodedCodewordValue(l){let f=li.getBitValue(l);return Wt.getCodeword(f)===-1?-1:f}static getBitValue(l){let f=0;for(let p=0;p<l.length;p++)for(let y=0;y<l[p];y++)f=f<<1|(p%2===0?1:0);return Math.trunc(f)}static getClosestDecodedValue(l){let f=ut.sum(l),p=new Array(Wt.BARS_IN_MODULE);if(f>1)for(let _=0;_<p.length;_++)p[_]=Math.fround(l[_]/f);let y=fe.MAX_VALUE,x=-1;this.bSymbolTableReady||li.initialize();for(let _=0;_<li.RATIOS_TABLE.length;_++){let N=0,k=li.RATIOS_TABLE[_];for(let B=0;B<Wt.BARS_IN_MODULE;B++){let q=Math.fround(k[B]-p[B]);if(N+=Math.fround(q*q),N>=y)break}N<y&&(y=N,x=Wt.SYMBOL_TABLE[_])}return x}}li.bSymbolTableReady=!1,li.RATIOS_TABLE=new Array(Wt.SYMBOL_TABLE.length).map(Y=>new Array(Wt.BARS_IN_MODULE));class Ed{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(l){this.segmentIndex=l}getFileId(){return this.fileId}setFileId(l){this.fileId=l}getOptionalData(){return this.optionalData}setOptionalData(l){this.optionalData=l}isLastSegment(){return this.lastSegment}setLastSegment(l){this.lastSegment=l}getSegmentCount(){return this.segmentCount}setSegmentCount(l){this.segmentCount=l}getSender(){return this.sender||null}setSender(l){this.sender=l}getAddressee(){return this.addressee||null}setAddressee(l){this.addressee=l}getFileName(){return this.fileName}setFileName(l){this.fileName=l}getFileSize(){return this.fileSize}setFileSize(l){this.fileSize=l}getChecksum(){return this.checksum}setChecksum(l){this.checksum=l}getTimestamp(){return this.timestamp}setTimestamp(l){this.timestamp=l}}class Hh{static parseLong(l,f=void 0){return parseInt(l,f)}}class Ta extends h{}Ta.kind="NullPointerException";class Gh{writeBytes(l){this.writeBytesOffset(l,0,l.length)}writeBytesOffset(l,f,p){if(l==null)throw new Ta;if(f<0||f>l.length||p<0||f+p>l.length||f+p<0)throw new C;if(p===0)return;for(let y=0;y<p;y++)this.write(l[f+y])}flush(){}close(){}}class Cd extends h{}class e0 extends Gh{constructor(l=32){if(super(),this.count=0,l<0)throw new v("Negative initial size: "+l);this.buf=new Uint8Array(l)}ensureCapacity(l){l-this.buf.length>0&&this.grow(l)}grow(l){let p=this.buf.length<<1;if(p-l<0&&(p=l),p<0){if(l<0)throw new Cd;p=P.MAX_VALUE}this.buf=I.copyOfUint8Array(this.buf,p)}write(l){this.ensureCapacity(this.count+1),this.buf[this.count]=l,this.count+=1}writeBytesOffset(l,f,p){if(f<0||f>l.length||p<0||f+p-l.length>0)throw new C;this.ensureCapacity(this.count+p),E.arraycopy(l,f,this.buf,this.count,p),this.count+=p}writeTo(l){l.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return I.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(l){return l?typeof l=="string"?this.toString_string(l):this.toString_number(l):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(l){return new String(this.buf).toString()}toString_number(l){return new String(this.buf).toString()}close(){}}var Pr;(function(Y){Y[Y.ALPHA=0]="ALPHA",Y[Y.LOWER=1]="LOWER",Y[Y.MIXED=2]="MIXED",Y[Y.PUNCT=3]="PUNCT",Y[Y.ALPHA_SHIFT=4]="ALPHA_SHIFT",Y[Y.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Pr||(Pr={}));function Zc(){if(typeof window<"u")return window.BigInt||null;if(typeof uc<"u")return uc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Qc;function Rn(Y){if(typeof Qc>"u"&&(Qc=Zc()),Qc===null)throw new Error("BigInt is not supported!");return Qc(Y)}function Pl(){let Y=[];Y[0]=Rn(1);let l=Rn(900);Y[1]=l;for(let f=2;f<16;f++)Y[f]=Y[f-1]*l;return Y}class Pe{static decode(l,f){let p=new Z(""),y=V.ISO8859_1;p.enableDecoding(y);let x=1,_=l[x++],N=new Ed;for(;x<l[0];){switch(_){case Pe.TEXT_COMPACTION_MODE_LATCH:x=Pe.textCompaction(l,x,p);break;case Pe.BYTE_COMPACTION_MODE_LATCH:case Pe.BYTE_COMPACTION_MODE_LATCH_6:x=Pe.byteCompaction(_,l,y,x,p);break;case Pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(l[x++]);break;case Pe.NUMERIC_COMPACTION_MODE_LATCH:x=Pe.numericCompaction(l,x,p);break;case Pe.ECI_CHARSET:V.getCharacterSetECIByValue(l[x++]);break;case Pe.ECI_GENERAL_PURPOSE:x+=2;break;case Pe.ECI_USER_DEFINED:x++;break;case Pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:x=Pe.decodeMacroBlock(l,x,N);break;case Pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Pe.MACRO_PDF417_TERMINATOR:throw new M;default:x--,x=Pe.textCompaction(l,x,p);break}if(x<l.length)_=l[x++];else throw M.getFormatInstance()}if(p.length()===0)throw M.getFormatInstance();let k=new je(null,p.toString(),null,f);return k.setOther(N),k}static decodeMacroBlock(l,f,p){if(f+Pe.NUMBER_OF_SEQUENCE_CODEWORDS>l[0])throw M.getFormatInstance();let y=new Int32Array(Pe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let N=0;N<Pe.NUMBER_OF_SEQUENCE_CODEWORDS;N++,f++)y[N]=l[f];p.setSegmentIndex(P.parseInt(Pe.decodeBase900toBase10(y,Pe.NUMBER_OF_SEQUENCE_CODEWORDS)));let x=new Z;f=Pe.textCompaction(l,f,x),p.setFileId(x.toString());let _=-1;for(l[f]===Pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(_=f+1);f<l[0];)switch(l[f]){case Pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(f++,l[f]){case Pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let N=new Z;f=Pe.textCompaction(l,f+1,N),p.setFileName(N.toString());break;case Pe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let k=new Z;f=Pe.textCompaction(l,f+1,k),p.setSender(k.toString());break;case Pe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let B=new Z;f=Pe.textCompaction(l,f+1,B),p.setAddressee(B.toString());break;case Pe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let q=new Z;f=Pe.numericCompaction(l,f+1,q),p.setSegmentCount(P.parseInt(q.toString()));break;case Pe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let X=new Z;f=Pe.numericCompaction(l,f+1,X),p.setTimestamp(Hh.parseLong(X.toString()));break;case Pe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let te=new Z;f=Pe.numericCompaction(l,f+1,te),p.setChecksum(P.parseInt(te.toString()));break;case Pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ce=new Z;f=Pe.numericCompaction(l,f+1,ce),p.setFileSize(Hh.parseLong(ce.toString()));break;default:throw M.getFormatInstance()}break;case Pe.MACRO_PDF417_TERMINATOR:f++,p.setLastSegment(!0);break;default:throw M.getFormatInstance()}if(_!==-1){let N=f-_;p.isLastSegment()&&N--,p.setOptionalData(I.copyOfRange(l,_,_+N))}return f}static textCompaction(l,f,p){let y=new Int32Array((l[0]-f)*2),x=new Int32Array((l[0]-f)*2),_=0,N=!1;for(;f<l[0]&&!N;){let k=l[f++];if(k<Pe.TEXT_COMPACTION_MODE_LATCH)y[_]=k/30,y[_+1]=k%30,_+=2;else switch(k){case Pe.TEXT_COMPACTION_MODE_LATCH:y[_++]=Pe.TEXT_COMPACTION_MODE_LATCH;break;case Pe.BYTE_COMPACTION_MODE_LATCH:case Pe.BYTE_COMPACTION_MODE_LATCH_6:case Pe.NUMERIC_COMPACTION_MODE_LATCH:case Pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Pe.MACRO_PDF417_TERMINATOR:f--,N=!0;break;case Pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y[_]=Pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,k=l[f++],x[_]=k,_++;break}}return Pe.decodeTextCompaction(y,x,_,p),f}static decodeTextCompaction(l,f,p,y){let x=Pr.ALPHA,_=Pr.ALPHA,N=0;for(;N<p;){let k=l[N],B="";switch(x){case Pr.ALPHA:if(k<26)B=String.fromCharCode(65+k);else switch(k){case 26:B=" ";break;case Pe.LL:x=Pr.LOWER;break;case Pe.ML:x=Pr.MIXED;break;case Pe.PS:_=x,x=Pr.PUNCT_SHIFT;break;case Pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(f[N]);break;case Pe.TEXT_COMPACTION_MODE_LATCH:x=Pr.ALPHA;break}break;case Pr.LOWER:if(k<26)B=String.fromCharCode(97+k);else switch(k){case 26:B=" ";break;case Pe.AS:_=x,x=Pr.ALPHA_SHIFT;break;case Pe.ML:x=Pr.MIXED;break;case Pe.PS:_=x,x=Pr.PUNCT_SHIFT;break;case Pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(f[N]);break;case Pe.TEXT_COMPACTION_MODE_LATCH:x=Pr.ALPHA;break}break;case Pr.MIXED:if(k<Pe.PL)B=Pe.MIXED_CHARS[k];else switch(k){case Pe.PL:x=Pr.PUNCT;break;case 26:B=" ";break;case Pe.LL:x=Pr.LOWER;break;case Pe.AL:x=Pr.ALPHA;break;case Pe.PS:_=x,x=Pr.PUNCT_SHIFT;break;case Pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(f[N]);break;case Pe.TEXT_COMPACTION_MODE_LATCH:x=Pr.ALPHA;break}break;case Pr.PUNCT:if(k<Pe.PAL)B=Pe.PUNCT_CHARS[k];else switch(k){case Pe.PAL:x=Pr.ALPHA;break;case Pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(f[N]);break;case Pe.TEXT_COMPACTION_MODE_LATCH:x=Pr.ALPHA;break}break;case Pr.ALPHA_SHIFT:if(x=_,k<26)B=String.fromCharCode(65+k);else switch(k){case 26:B=" ";break;case Pe.TEXT_COMPACTION_MODE_LATCH:x=Pr.ALPHA;break}break;case Pr.PUNCT_SHIFT:if(x=_,k<Pe.PAL)B=Pe.PUNCT_CHARS[k];else switch(k){case Pe.PAL:x=Pr.ALPHA;break;case Pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(f[N]);break;case Pe.TEXT_COMPACTION_MODE_LATCH:x=Pr.ALPHA;break}break}B!==""&&y.append(B),N++}}static byteCompaction(l,f,p,y,x){let _=new e0,N=0,k=0,B=!1;switch(l){case Pe.BYTE_COMPACTION_MODE_LATCH:let q=new Int32Array(6),X=f[y++];for(;y<f[0]&&!B;)switch(q[N++]=X,k=900*k+X,X=f[y++],X){case Pe.TEXT_COMPACTION_MODE_LATCH:case Pe.BYTE_COMPACTION_MODE_LATCH:case Pe.NUMERIC_COMPACTION_MODE_LATCH:case Pe.BYTE_COMPACTION_MODE_LATCH_6:case Pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Pe.MACRO_PDF417_TERMINATOR:y--,B=!0;break;default:if(N%5===0&&N>0){for(let te=0;te<6;++te)_.write(Number(Rn(k)>>Rn(8*(5-te))));k=0,N=0}break}y===f[0]&&X<Pe.TEXT_COMPACTION_MODE_LATCH&&(q[N++]=X);for(let te=0;te<N;te++)_.write(q[te]);break;case Pe.BYTE_COMPACTION_MODE_LATCH_6:for(;y<f[0]&&!B;){let te=f[y++];if(te<Pe.TEXT_COMPACTION_MODE_LATCH)N++,k=900*k+te;else switch(te){case Pe.TEXT_COMPACTION_MODE_LATCH:case Pe.BYTE_COMPACTION_MODE_LATCH:case Pe.NUMERIC_COMPACTION_MODE_LATCH:case Pe.BYTE_COMPACTION_MODE_LATCH_6:case Pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Pe.MACRO_PDF417_TERMINATOR:y--,B=!0;break}if(N%5===0&&N>0){for(let ce=0;ce<6;++ce)_.write(Number(Rn(k)>>Rn(8*(5-ce))));k=0,N=0}}break}return x.append(H.decode(_.toByteArray(),p)),y}static numericCompaction(l,f,p){let y=0,x=!1,_=new Int32Array(Pe.MAX_NUMERIC_CODEWORDS);for(;f<l[0]&&!x;){let N=l[f++];if(f===l[0]&&(x=!0),N<Pe.TEXT_COMPACTION_MODE_LATCH)_[y]=N,y++;else switch(N){case Pe.TEXT_COMPACTION_MODE_LATCH:case Pe.BYTE_COMPACTION_MODE_LATCH:case Pe.BYTE_COMPACTION_MODE_LATCH_6:case Pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Pe.MACRO_PDF417_TERMINATOR:f--,x=!0;break}(y%Pe.MAX_NUMERIC_CODEWORDS===0||N===Pe.NUMERIC_COMPACTION_MODE_LATCH||x)&&y>0&&(p.append(Pe.decodeBase900toBase10(_,y)),y=0)}return f}static decodeBase900toBase10(l,f){let p=Rn(0);for(let x=0;x<f;x++)p+=Pe.EXP900[f-x-1]*Rn(l[x]);let y=p.toString();if(y.charAt(0)!=="1")throw new M;return y.substring(1)}}Pe.TEXT_COMPACTION_MODE_LATCH=900,Pe.BYTE_COMPACTION_MODE_LATCH=901,Pe.NUMERIC_COMPACTION_MODE_LATCH=902,Pe.BYTE_COMPACTION_MODE_LATCH_6=924,Pe.ECI_USER_DEFINED=925,Pe.ECI_GENERAL_PURPOSE=926,Pe.ECI_CHARSET=927,Pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Pe.MACRO_PDF417_TERMINATOR=922,Pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Pe.MAX_NUMERIC_CODEWORDS=15,Pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Pe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Pe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Pe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Pe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Pe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Pe.PL=25,Pe.LL=27,Pe.AS=27,Pe.ML=28,Pe.AL=28,Pe.PS=29,Pe.PAL=29,Pe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Pe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Pe.EXP900=Zc()?Pl():[],Pe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class rr{constructor(){}static decode(l,f,p,y,x,_,N){let k=new Ro(l,f,p,y,x),B=null,q=null,X;for(let ge=!0;;ge=!1){if(f!=null&&(B=rr.getRowIndicatorColumn(l,k,f,!0,_,N)),y!=null&&(q=rr.getRowIndicatorColumn(l,k,y,!1,_,N)),X=rr.merge(B,q),X==null)throw G.getNotFoundInstance();let ye=X.getBoundingBox();if(ge&&ye!=null&&(ye.getMinY()<k.getMinY()||ye.getMaxY()>k.getMaxY()))k=ye;else break}X.setBoundingBox(k);let te=X.getBarcodeColumnCount()+1;X.setDetectionResultColumn(0,B),X.setDetectionResultColumn(te,q);let ce=B!=null;for(let ge=1;ge<=te;ge++){let ye=ce?ge:te-ge;if(X.getDetectionResultColumn(ye)!==void 0)continue;let be;ye===0||ye===te?be=new Jg(k,ye===0):be=new sa(k),X.setDetectionResultColumn(ye,be);let ke=-1,Je=ke;for(let tt=k.getMinY();tt<=k.getMaxY();tt++){if(ke=rr.getStartColumn(X,ye,tt,ce),ke<0||ke>k.getMaxX()){if(Je===-1)continue;ke=Je}let Ge=rr.detectCodeword(l,k.getMinX(),k.getMaxX(),ce,ke,tt,_,N);Ge!=null&&(be.setCodeword(tt,Ge),Je=ke,_=Math.min(_,Ge.getWidth()),N=Math.max(N,Ge.getWidth()))}}return rr.createDecoderResult(X)}static merge(l,f){if(l==null&&f==null)return null;let p=rr.getBarcodeMetadata(l,f);if(p==null)return null;let y=Ro.merge(rr.adjustBoundingBox(l),rr.adjustBoundingBox(f));return new Xc(p,y)}static adjustBoundingBox(l){if(l==null)return null;let f=l.getRowHeights();if(f==null)return null;let p=rr.getMax(f),y=0;for(let N of f)if(y+=p-N,N>0)break;let x=l.getCodewords();for(let N=0;y>0&&x[N]==null;N++)y--;let _=0;for(let N=f.length-1;N>=0&&(_+=p-f[N],!(f[N]>0));N--);for(let N=x.length-1;_>0&&x[N]==null;N--)_--;return l.getBoundingBox().addMissingRows(y,_,l.isLeft())}static getMax(l){let f=-1;for(let p of l)f=Math.max(f,p);return f}static getBarcodeMetadata(l,f){let p;if(l==null||(p=l.getBarcodeMetadata())==null)return f==null?null:f.getBarcodeMetadata();let y;return f==null||(y=f.getBarcodeMetadata())==null?p:p.getColumnCount()!==y.getColumnCount()&&p.getErrorCorrectionLevel()!==y.getErrorCorrectionLevel()&&p.getRowCount()!==y.getRowCount()?null:p}static getRowIndicatorColumn(l,f,p,y,x,_){let N=new Jg(f,y);for(let k=0;k<2;k++){let B=k===0?1:-1,q=Math.trunc(Math.trunc(p.getX()));for(let X=Math.trunc(Math.trunc(p.getY()));X<=f.getMaxY()&&X>=f.getMinY();X+=B){let te=rr.detectCodeword(l,0,l.getWidth(),y,q,X,x,_);te!=null&&(N.setCodeword(X,te),y?q=te.getStartX():q=te.getEndX())}}return N}static adjustCodewordCount(l,f){let p=f[0][1],y=p.getValue(),x=l.getBarcodeColumnCount()*l.getBarcodeRowCount()-rr.getNumberOfECCodeWords(l.getBarcodeECLevel());if(y.length===0){if(x<1||x>Wt.MAX_CODEWORDS_IN_BARCODE)throw G.getNotFoundInstance();p.setValue(x)}else y[0]!==x&&p.setValue(x)}static createDecoderResult(l){let f=rr.createBarcodeMatrix(l);rr.adjustCodewordCount(l,f);let p=new Array,y=new Int32Array(l.getBarcodeRowCount()*l.getBarcodeColumnCount()),x=[],_=new Array;for(let k=0;k<l.getBarcodeRowCount();k++)for(let B=0;B<l.getBarcodeColumnCount();B++){let q=f[k][B+1].getValue(),X=k*l.getBarcodeColumnCount()+B;q.length===0?p.push(X):q.length===1?y[X]=q[0]:(_.push(X),x.push(q))}let N=new Array(x.length);for(let k=0;k<N.length;k++)N[k]=x[k];return rr.createDecoderResultFromAmbiguousValues(l.getBarcodeECLevel(),y,Wt.toIntArray(p),Wt.toIntArray(_),N)}static createDecoderResultFromAmbiguousValues(l,f,p,y,x){let _=new Int32Array(y.length),N=100;for(;N-- >0;){for(let k=0;k<_.length;k++)f[y[k]]=x[k][_[k]];try{return rr.decodeCodewords(f,l,p)}catch(k){if(!(k instanceof b))throw k}if(_.length===0)throw b.getChecksumInstance();for(let k=0;k<_.length;k++)if(_[k]<x[k].length-1){_[k]++;break}else if(_[k]=0,k===_.length-1)throw b.getChecksumInstance()}throw b.getChecksumInstance()}static createBarcodeMatrix(l){let f=Array.from({length:l.getBarcodeRowCount()},()=>new Array(l.getBarcodeColumnCount()+2));for(let y=0;y<f.length;y++)for(let x=0;x<f[y].length;x++)f[y][x]=new oo;let p=0;for(let y of l.getDetectionResultColumns()){if(y!=null){for(let x of y.getCodewords())if(x!=null){let _=x.getRowNumber();if(_>=0){if(_>=f.length)continue;f[_][p].setValue(x.getValue())}}}p++}return f}static isValidBarcodeColumn(l,f){return f>=0&&f<=l.getBarcodeColumnCount()+1}static getStartColumn(l,f,p,y){let x=y?1:-1,_=null;if(rr.isValidBarcodeColumn(l,f-x)&&(_=l.getDetectionResultColumn(f-x).getCodeword(p)),_!=null)return y?_.getEndX():_.getStartX();if(_=l.getDetectionResultColumn(f).getCodewordNearby(p),_!=null)return y?_.getStartX():_.getEndX();if(rr.isValidBarcodeColumn(l,f-x)&&(_=l.getDetectionResultColumn(f-x).getCodewordNearby(p)),_!=null)return y?_.getEndX():_.getStartX();let N=0;for(;rr.isValidBarcodeColumn(l,f-x);){f-=x;for(let k of l.getDetectionResultColumn(f).getCodewords())if(k!=null)return(y?k.getEndX():k.getStartX())+x*N*(k.getEndX()-k.getStartX());N++}return y?l.getBoundingBox().getMinX():l.getBoundingBox().getMaxX()}static detectCodeword(l,f,p,y,x,_,N,k){x=rr.adjustCodewordStartColumn(l,f,p,y,x,_);let B=rr.getModuleBitCount(l,f,p,y,x,_);if(B==null)return null;let q,X=ut.sum(B);if(y)q=x+X;else{for(let ge=0;ge<B.length/2;ge++){let ye=B[ge];B[ge]=B[B.length-1-ge],B[B.length-1-ge]=ye}q=x,x=q-X}if(!rr.checkCodewordSkew(X,N,k))return null;let te=li.getDecodedValue(B),ce=Wt.getCodeword(te);return ce===-1?null:new Mo(x,q,rr.getCodewordBucketNumber(te),ce)}static getModuleBitCount(l,f,p,y,x,_){let N=x,k=new Int32Array(8),B=0,q=y?1:-1,X=y;for(;(y?N<p:N>=f)&&B<k.length;)l.get(N,_)===X?(k[B]++,N+=q):(B++,X=!X);return B===k.length||N===(y?p:f)&&B===k.length-1?k:null}static getNumberOfECCodeWords(l){return 2<<l}static adjustCodewordStartColumn(l,f,p,y,x,_){let N=x,k=y?-1:1;for(let B=0;B<2;B++){for(;(y?N>=f:N<p)&&y===l.get(N,_);){if(Math.abs(x-N)>rr.CODEWORD_SKEW_SIZE)return x;N+=k}k=-k,y=!y}return N}static checkCodewordSkew(l,f,p){return f-rr.CODEWORD_SKEW_SIZE<=l&&l<=p+rr.CODEWORD_SKEW_SIZE}static decodeCodewords(l,f,p){if(l.length===0)throw M.getFormatInstance();let y=1<<f+1,x=rr.correctErrors(l,p,y);rr.verifyCodewordCount(l,y);let _=Pe.decode(l,""+f);return _.setErrorsCorrected(x),_.setErasures(p.length),_}static correctErrors(l,f,p){if(f!=null&&f.length>p/2+rr.MAX_ERRORS||p<0||p>rr.MAX_EC_CODEWORDS)throw b.getChecksumInstance();return rr.errorCorrection.decode(l,p,f)}static verifyCodewordCount(l,f){if(l.length<4)throw M.getFormatInstance();let p=l[0];if(p>l.length)throw M.getFormatInstance();if(p===0)if(f<l.length)l[0]=l.length-f;else throw M.getFormatInstance()}static getBitCountForCodeword(l){let f=new Int32Array(8),p=0,y=f.length-1;for(;!((l&1)!==p&&(p=l&1,y--,y<0));)f[y]++,l>>=1;return f}static getCodewordBucketNumber(l){return l instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(l):this.getCodewordBucketNumber_number(l)}static getCodewordBucketNumber_number(l){return rr.getCodewordBucketNumber(rr.getBitCountForCodeword(l))}static getCodewordBucketNumber_Int32Array(l){return(l[0]-l[2]+l[4]-l[6]+9)%9}static toString(l){let f=new Oa;for(let p=0;p<l.length;p++){f.format("Row %2d: ",p);for(let y=0;y<l[p].length;y++){let x=l[p][y];x.getValue().length===0?f.format("        ",null):f.format("%4d(%2d)",x.getValue()[0],x.getConfidence(x.getValue()[0]))}f.format("%n")}return f.toString()}}rr.CODEWORD_SKEW_SIZE=2,rr.MAX_ERRORS=3,rr.MAX_EC_CODEWORDS=512,rr.errorCorrection=new zh;class ci{decode(l,f=null){let p=ci.decode(l,f,!1);if(p==null||p.length===0||p[0]==null)throw G.getNotFoundInstance();return p[0]}decodeMultiple(l,f=null){try{return ci.decode(l,f,!0)}catch(p){throw p instanceof M||p instanceof b?G.getNotFoundInstance():p}}static decode(l,f,p){const y=new Array,x=Jt.detectMultiple(l,f,p);for(const _ of x.getPoints()){const N=rr.decode(x.getBits(),_[4],_[5],_[6],_[7],ci.getMinCodewordWidth(_),ci.getMaxCodewordWidth(_)),k=new pe(N.getText(),N.getRawBytes(),void 0,_,_e.PDF_417);k.putMetadata(Le.ERROR_CORRECTION_LEVEL,N.getECLevel());const B=N.getOther();B!=null&&k.putMetadata(Le.PDF417_EXTRA_METADATA,B),y.push(k)}return y.map(_=>_)}static getMaxWidth(l,f){return l==null||f==null?0:Math.trunc(Math.abs(l.getX()-f.getX()))}static getMinWidth(l,f){return l==null||f==null?P.MAX_VALUE:Math.trunc(Math.abs(l.getX()-f.getX()))}static getMaxCodewordWidth(l){return Math.floor(Math.max(Math.max(ci.getMaxWidth(l[0],l[4]),ci.getMaxWidth(l[6],l[2])*Wt.MODULES_IN_CODEWORD/Wt.MODULES_IN_STOP_PATTERN),Math.max(ci.getMaxWidth(l[1],l[5]),ci.getMaxWidth(l[7],l[3])*Wt.MODULES_IN_CODEWORD/Wt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(l){return Math.floor(Math.min(Math.min(ci.getMinWidth(l[0],l[4]),ci.getMinWidth(l[6],l[2])*Wt.MODULES_IN_CODEWORD/Wt.MODULES_IN_STOP_PATTERN),Math.min(ci.getMinWidth(l[1],l[5]),ci.getMinWidth(l[7],l[3])*Wt.MODULES_IN_CODEWORD/Wt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Il extends h{}Il.kind="ReaderException";class Ad{constructor(l,f){this.verbose=l===!0,f&&this.setHints(f)}decode(l,f){return f&&this.setHints(f),this.decodeInternal(l)}decodeWithState(l){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(l)}setHints(l){this.hints=l;const f=!n(l)&&l.get(D.TRY_HARDER)===!0,p=n(l)?null:l.get(D.POSSIBLE_FORMATS),y=new Array;if(!n(p)){const x=p.some(_=>_===_e.UPC_A||_===_e.UPC_E||_===_e.EAN_13||_===_e.EAN_8||_===_e.CODABAR||_===_e.CODE_39||_===_e.CODE_93||_===_e.CODE_128||_===_e.ITF||_===_e.RSS_14||_===_e.RSS_EXPANDED);x&&!f&&y.push(new jl(l,this.verbose)),p.includes(_e.QR_CODE)&&y.push(new Ti),p.includes(_e.DATA_MATRIX)&&y.push(new Is),p.includes(_e.AZTEC)&&y.push(new Sr),p.includes(_e.PDF_417)&&y.push(new ci),x&&f&&y.push(new jl(l,this.verbose))}y.length===0&&(f||y.push(new jl(l,this.verbose)),y.push(new Ti),y.push(new Is),y.push(new Sr),y.push(new ci),f&&y.push(new jl(l,this.verbose))),this.readers=y}reset(){if(this.readers!==null)for(const l of this.readers)l.reset()}decodeInternal(l){if(this.readers===null)throw new Il("No readers where selected, nothing can be read.");for(const f of this.readers)try{return f.decode(l,this.hints)}catch(p){if(p instanceof Il)continue}throw new G("No MultiFormat Readers were able to detect the code.")}}class Jc extends me{constructor(l=null,f=500){const p=new Ad;p.setHints(l),super(p,f)}decodeBitmap(l){return this.reader.decodeWithState(l)}}class Nd extends me{constructor(l=500){super(new ci,l)}}class t0 extends me{constructor(l=500){super(new Ti,l)}}var Kh;(function(Y){Y[Y.ERROR_CORRECTION=0]="ERROR_CORRECTION",Y[Y.CHARACTER_SET=1]="CHARACTER_SET",Y[Y.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",Y[Y.MIN_SIZE=3]="MIN_SIZE",Y[Y.MAX_SIZE=4]="MAX_SIZE",Y[Y.MARGIN=5]="MARGIN",Y[Y.PDF417_COMPACT=6]="PDF417_COMPACT",Y[Y.PDF417_COMPACTION=7]="PDF417_COMPACTION",Y[Y.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",Y[Y.AZTEC_LAYERS=9]="AZTEC_LAYERS",Y[Y.QR_VERSION=10]="QR_VERSION"})(Kh||(Kh={}));var Un=Kh;class Yh{constructor(l){this.field=l,this.cachedGenerators=[],this.cachedGenerators.push(new We(l,Int32Array.from([1])))}buildGenerator(l){const f=this.cachedGenerators;if(l>=f.length){let p=f[f.length-1];const y=this.field;for(let x=f.length;x<=l;x++){const _=p.multiply(new We(y,Int32Array.from([1,y.exp(x-1+y.getGeneratorBase())])));f.push(_),p=_}}return f[l]}encode(l,f){if(f===0)throw new v("No error correction bytes");const p=l.length-f;if(p<=0)throw new v("No data bytes provided");const y=this.buildGenerator(f),x=new Int32Array(p);E.arraycopy(l,0,x,0,p);let _=new We(this.field,x);_=_.multiplyByMonomial(f,1);const k=_.divide(y)[1].getCoefficients(),B=f-k.length;for(let q=0;q<B;q++)l[p+q]=0;E.arraycopy(k,0,l,p+B,k.length)}}class an{constructor(){}static applyMaskPenaltyRule1(l){return an.applyMaskPenaltyRule1Internal(l,!0)+an.applyMaskPenaltyRule1Internal(l,!1)}static applyMaskPenaltyRule2(l){let f=0;const p=l.getArray(),y=l.getWidth(),x=l.getHeight();for(let _=0;_<x-1;_++){const N=p[_];for(let k=0;k<y-1;k++){const B=N[k];B===N[k+1]&&B===p[_+1][k]&&B===p[_+1][k+1]&&f++}}return an.N2*f}static applyMaskPenaltyRule3(l){let f=0;const p=l.getArray(),y=l.getWidth(),x=l.getHeight();for(let _=0;_<x;_++)for(let N=0;N<y;N++){const k=p[_];N+6<y&&k[N]===1&&k[N+1]===0&&k[N+2]===1&&k[N+3]===1&&k[N+4]===1&&k[N+5]===0&&k[N+6]===1&&(an.isWhiteHorizontal(k,N-4,N)||an.isWhiteHorizontal(k,N+7,N+11))&&f++,_+6<x&&p[_][N]===1&&p[_+1][N]===0&&p[_+2][N]===1&&p[_+3][N]===1&&p[_+4][N]===1&&p[_+5][N]===0&&p[_+6][N]===1&&(an.isWhiteVertical(p,N,_-4,_)||an.isWhiteVertical(p,N,_+7,_+11))&&f++}return f*an.N3}static isWhiteHorizontal(l,f,p){f=Math.max(f,0),p=Math.min(p,l.length);for(let y=f;y<p;y++)if(l[y]===1)return!1;return!0}static isWhiteVertical(l,f,p,y){p=Math.max(p,0),y=Math.min(y,l.length);for(let x=p;x<y;x++)if(l[x][f]===1)return!1;return!0}static applyMaskPenaltyRule4(l){let f=0;const p=l.getArray(),y=l.getWidth(),x=l.getHeight();for(let k=0;k<x;k++){const B=p[k];for(let q=0;q<y;q++)B[q]===1&&f++}const _=l.getHeight()*l.getWidth();return Math.floor(Math.abs(f*2-_)*10/_)*an.N4}static getDataMaskBit(l,f,p){let y,x;switch(l){case 0:y=p+f&1;break;case 1:y=p&1;break;case 2:y=f%3;break;case 3:y=(p+f)%3;break;case 4:y=Math.floor(p/2)+Math.floor(f/3)&1;break;case 5:x=p*f,y=(x&1)+x%3;break;case 6:x=p*f,y=(x&1)+x%3&1;break;case 7:x=p*f,y=x%3+(p+f&1)&1;break;default:throw new v("Invalid mask pattern: "+l)}return y===0}static applyMaskPenaltyRule1Internal(l,f){let p=0;const y=f?l.getHeight():l.getWidth(),x=f?l.getWidth():l.getHeight(),_=l.getArray();for(let N=0;N<y;N++){let k=0,B=-1;for(let q=0;q<x;q++){const X=f?_[N][q]:_[q][N];X===B?k++:(k>=5&&(p+=an.N1+(k-5)),k=1,B=X)}k>=5&&(p+=an.N1+(k-5))}return p}}an.N1=3,an.N2=3,an.N3=40,an.N4=10;class jd{constructor(l,f){this.width=l,this.height=f;const p=new Array(f);for(let y=0;y!==f;y++)p[y]=new Uint8Array(l);this.bytes=p}getHeight(){return this.height}getWidth(){return this.width}get(l,f){return this.bytes[f][l]}getArray(){return this.bytes}setNumber(l,f,p){this.bytes[f][l]=p}setBoolean(l,f,p){this.bytes[f][l]=p?1:0}clear(l){for(const f of this.bytes)I.fill(f,l)}equals(l){if(!(l instanceof jd))return!1;const f=l;if(this.width!==f.width||this.height!==f.height)return!1;for(let p=0,y=this.height;p<y;++p){const x=this.bytes[p],_=f.bytes[p];for(let N=0,k=this.width;N<k;++N)if(x[N]!==_[N])return!1}return!0}toString(){const l=new Z;for(let f=0,p=this.height;f<p;++f){const y=this.bytes[f];for(let x=0,_=this.width;x<_;++x)switch(y[x]){case 0:l.append(" 0");break;case 1:l.append(" 1");break;default:l.append("  ");break}l.append(`
`)}return l.toString()}}class Do{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const l=new Z;return l.append(`<<
`),l.append(" mode: "),l.append(this.mode?this.mode.toString():"null"),l.append(`
 ecLevel: `),l.append(this.ecLevel?this.ecLevel.toString():"null"),l.append(`
 version: `),l.append(this.version?this.version.toString():"null"),l.append(`
 maskPattern: `),l.append(this.maskPattern.toString()),this.matrix?(l.append(`
 matrix:
`),l.append(this.matrix.toString())):l.append(`
 matrix: null
`),l.append(`>>
`),l.toString()}setMode(l){this.mode=l}setECLevel(l){this.ecLevel=l}setVersion(l){this.version=l}setMaskPattern(l){this.maskPattern=l}setMatrix(l){this.matrix=l}static isValidMaskPattern(l){return l>=0&&l<Do.NUM_MASK_PATTERNS}}Do.NUM_MASK_PATTERNS=8;class Kr extends h{}Kr.kind="WriterException";class $t{constructor(){}static clearMatrix(l){l.clear(255)}static buildMatrix(l,f,p,y,x){$t.clearMatrix(x),$t.embedBasicPatterns(p,x),$t.embedTypeInfo(f,y,x),$t.maybeEmbedVersionInfo(p,x),$t.embedDataBits(l,y,x)}static embedBasicPatterns(l,f){$t.embedPositionDetectionPatternsAndSeparators(f),$t.embedDarkDotAtLeftBottomCorner(f),$t.maybeEmbedPositionAdjustmentPatterns(l,f),$t.embedTimingPatterns(f)}static embedTypeInfo(l,f,p){const y=new L;$t.makeTypeInfoBits(l,f,y);for(let x=0,_=y.getSize();x<_;++x){const N=y.get(y.getSize()-1-x),k=$t.TYPE_INFO_COORDINATES[x],B=k[0],q=k[1];if(p.setBoolean(B,q,N),x<8){const X=p.getWidth()-x-1;p.setBoolean(X,8,N)}else{const te=p.getHeight()-7+(x-8);p.setBoolean(8,te,N)}}}static maybeEmbedVersionInfo(l,f){if(l.getVersionNumber()<7)return;const p=new L;$t.makeVersionInfoBits(l,p);let y=17;for(let x=0;x<6;++x)for(let _=0;_<3;++_){const N=p.get(y);y--,f.setBoolean(x,f.getHeight()-11+_,N),f.setBoolean(f.getHeight()-11+_,x,N)}}static embedDataBits(l,f,p){let y=0,x=-1,_=p.getWidth()-1,N=p.getHeight()-1;for(;_>0;){for(_===6&&(_-=1);N>=0&&N<p.getHeight();){for(let k=0;k<2;++k){const B=_-k;if(!$t.isEmpty(p.get(B,N)))continue;let q;y<l.getSize()?(q=l.get(y),++y):q=!1,f!==255&&an.getDataMaskBit(f,B,N)&&(q=!q),p.setBoolean(B,N,q)}N+=x}x=-x,N+=x,_-=2}if(y!==l.getSize())throw new Kr("Not all bits consumed: "+y+"/"+l.getSize())}static findMSBSet(l){return 32-P.numberOfLeadingZeros(l)}static calculateBCHCode(l,f){if(f===0)throw new v("0 polynomial");const p=$t.findMSBSet(f);for(l<<=p-1;$t.findMSBSet(l)>=p;)l^=f<<$t.findMSBSet(l)-p;return l}static makeTypeInfoBits(l,f,p){if(!Do.isValidMaskPattern(f))throw new Kr("Invalid mask pattern");const y=l.getBits()<<3|f;p.appendBits(y,5);const x=$t.calculateBCHCode(y,$t.TYPE_INFO_POLY);p.appendBits(x,10);const _=new L;if(_.appendBits($t.TYPE_INFO_MASK_PATTERN,15),p.xor(_),p.getSize()!==15)throw new Kr("should not happen but we got: "+p.getSize())}static makeVersionInfoBits(l,f){f.appendBits(l.getVersionNumber(),6);const p=$t.calculateBCHCode(l.getVersionNumber(),$t.VERSION_INFO_POLY);if(f.appendBits(p,12),f.getSize()!==18)throw new Kr("should not happen but we got: "+f.getSize())}static isEmpty(l){return l===255}static embedTimingPatterns(l){for(let f=8;f<l.getWidth()-8;++f){const p=(f+1)%2;$t.isEmpty(l.get(f,6))&&l.setNumber(f,6,p),$t.isEmpty(l.get(6,f))&&l.setNumber(6,f,p)}}static embedDarkDotAtLeftBottomCorner(l){if(l.get(8,l.getHeight()-8)===0)throw new Kr;l.setNumber(8,l.getHeight()-8,1)}static embedHorizontalSeparationPattern(l,f,p){for(let y=0;y<8;++y){if(!$t.isEmpty(p.get(l+y,f)))throw new Kr;p.setNumber(l+y,f,0)}}static embedVerticalSeparationPattern(l,f,p){for(let y=0;y<7;++y){if(!$t.isEmpty(p.get(l,f+y)))throw new Kr;p.setNumber(l,f+y,0)}}static embedPositionAdjustmentPattern(l,f,p){for(let y=0;y<5;++y){const x=$t.POSITION_ADJUSTMENT_PATTERN[y];for(let _=0;_<5;++_)p.setNumber(l+_,f+y,x[_])}}static embedPositionDetectionPattern(l,f,p){for(let y=0;y<7;++y){const x=$t.POSITION_DETECTION_PATTERN[y];for(let _=0;_<7;++_)p.setNumber(l+_,f+y,x[_])}}static embedPositionDetectionPatternsAndSeparators(l){const f=$t.POSITION_DETECTION_PATTERN[0].length;$t.embedPositionDetectionPattern(0,0,l),$t.embedPositionDetectionPattern(l.getWidth()-f,0,l),$t.embedPositionDetectionPattern(0,l.getWidth()-f,l);const p=8;$t.embedHorizontalSeparationPattern(0,p-1,l),$t.embedHorizontalSeparationPattern(l.getWidth()-p,p-1,l),$t.embedHorizontalSeparationPattern(0,l.getWidth()-p,l);const y=7;$t.embedVerticalSeparationPattern(y,0,l),$t.embedVerticalSeparationPattern(l.getHeight()-y-1,0,l),$t.embedVerticalSeparationPattern(y,l.getHeight()-y,l)}static maybeEmbedPositionAdjustmentPatterns(l,f){if(l.getVersionNumber()<2)return;const p=l.getVersionNumber()-1,y=$t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[p];for(let x=0,_=y.length;x!==_;x++){const N=y[x];if(N>=0)for(let k=0;k!==_;k++){const B=y[k];B>=0&&$t.isEmpty(f.get(B,N))&&$t.embedPositionAdjustmentPattern(B-2,N-2,f)}}}}$t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),$t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),$t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),$t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),$t.VERSION_INFO_POLY=7973,$t.TYPE_INFO_POLY=1335,$t.TYPE_INFO_MASK_PATTERN=21522;class iw{constructor(l,f){this.dataBytes=l,this.errorCorrectionBytes=f}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Zr{constructor(){}static calculateMaskPenalty(l){return an.applyMaskPenaltyRule1(l)+an.applyMaskPenaltyRule2(l)+an.applyMaskPenaltyRule3(l)+an.applyMaskPenaltyRule4(l)}static encode(l,f,p=null){let y=Zr.DEFAULT_BYTE_MODE_ENCODING;const x=p!==null&&p.get(Un.CHARACTER_SET)!==void 0;x&&(y=p.get(Un.CHARACTER_SET).toString());const _=this.chooseMode(l,y),N=new L;if(_===Mt.BYTE&&(x||Zr.DEFAULT_BYTE_MODE_ENCODING!==y)){const tt=V.getCharacterSetECIByName(y);tt!==void 0&&this.appendECI(tt,N)}this.appendModeInfo(_,N);const k=new L;this.appendBytes(l,_,k,y);let B;if(p!==null&&p.get(Un.QR_VERSION)!==void 0){const tt=Number.parseInt(p.get(Un.QR_VERSION).toString(),10);B=It.getVersionForNumber(tt);const Ge=this.calculateBitsNeeded(_,N,k,B);if(!this.willFit(Ge,B,f))throw new Kr("Data too big for requested version")}else B=this.recommendVersion(f,_,N,k);const q=new L;q.appendBitArray(N);const X=_===Mt.BYTE?k.getSizeInBytes():l.length;this.appendLengthInfo(X,B,_,q),q.appendBitArray(k);const te=B.getECBlocksForLevel(f),ce=B.getTotalCodewords()-te.getTotalECCodewords();this.terminateBits(ce,q);const ge=this.interleaveWithECBytes(q,B.getTotalCodewords(),ce,te.getNumBlocks()),ye=new Do;ye.setECLevel(f),ye.setMode(_),ye.setVersion(B);const be=B.getDimensionForVersion(),ke=new jd(be,be),Je=this.chooseMaskPattern(ge,f,B,ke);return ye.setMaskPattern(Je),$t.buildMatrix(ge,f,B,Je,ke),ye.setMatrix(ke),ye}static recommendVersion(l,f,p,y){const x=this.calculateBitsNeeded(f,p,y,It.getVersionForNumber(1)),_=this.chooseVersion(x,l),N=this.calculateBitsNeeded(f,p,y,_);return this.chooseVersion(N,l)}static calculateBitsNeeded(l,f,p,y){return f.getSize()+l.getCharacterCountBits(y)+p.getSize()}static getAlphanumericCode(l){return l<Zr.ALPHANUMERIC_TABLE.length?Zr.ALPHANUMERIC_TABLE[l]:-1}static chooseMode(l,f=null){if(V.SJIS.getName()===f&&this.isOnlyDoubleByteKanji(l))return Mt.KANJI;let p=!1,y=!1;for(let x=0,_=l.length;x<_;++x){const N=l.charAt(x);if(Zr.isDigit(N))p=!0;else if(this.getAlphanumericCode(N.charCodeAt(0))!==-1)y=!0;else return Mt.BYTE}return y?Mt.ALPHANUMERIC:p?Mt.NUMERIC:Mt.BYTE}static isOnlyDoubleByteKanji(l){let f;try{f=H.encode(l,V.SJIS)}catch{return!1}const p=f.length;if(p%2!==0)return!1;for(let y=0;y<p;y+=2){const x=f[y]&255;if((x<129||x>159)&&(x<224||x>235))return!1}return!0}static chooseMaskPattern(l,f,p,y){let x=Number.MAX_SAFE_INTEGER,_=-1;for(let N=0;N<Do.NUM_MASK_PATTERNS;N++){$t.buildMatrix(l,f,p,N,y);let k=this.calculateMaskPenalty(y);k<x&&(x=k,_=N)}return _}static chooseVersion(l,f){for(let p=1;p<=40;p++){const y=It.getVersionForNumber(p);if(Zr.willFit(l,y,f))return y}throw new Kr("Data too big")}static willFit(l,f,p){const y=f.getTotalCodewords(),_=f.getECBlocksForLevel(p).getTotalECCodewords(),N=y-_,k=(l+7)/8;return N>=k}static terminateBits(l,f){const p=l*8;if(f.getSize()>p)throw new Kr("data bits cannot fit in the QR Code"+f.getSize()+" > "+p);for(let _=0;_<4&&f.getSize()<p;++_)f.appendBit(!1);const y=f.getSize()&7;if(y>0)for(let _=y;_<8;_++)f.appendBit(!1);const x=l-f.getSizeInBytes();for(let _=0;_<x;++_)f.appendBits((_&1)===0?236:17,8);if(f.getSize()!==p)throw new Kr("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(l,f,p,y,x,_){if(y>=p)throw new Kr("Block ID too large");const N=l%p,k=p-N,B=Math.floor(l/p),q=B+1,X=Math.floor(f/p),te=X+1,ce=B-X,ge=q-te;if(ce!==ge)throw new Kr("EC bytes mismatch");if(p!==k+N)throw new Kr("RS blocks mismatch");if(l!==(X+ce)*k+(te+ge)*N)throw new Kr("Total bytes mismatch");y<k?(x[0]=X,_[0]=ce):(x[0]=te,_[0]=ge)}static interleaveWithECBytes(l,f,p,y){if(l.getSizeInBytes()!==p)throw new Kr("Number of bits and data bytes does not match");let x=0,_=0,N=0;const k=new Array;for(let q=0;q<y;++q){const X=new Int32Array(1),te=new Int32Array(1);Zr.getNumDataBytesAndNumECBytesForBlockID(f,p,y,q,X,te);const ce=X[0],ge=new Uint8Array(ce);l.toBytes(8*x,ge,0,ce);const ye=Zr.generateECBytes(ge,te[0]);k.push(new iw(ge,ye)),_=Math.max(_,ce),N=Math.max(N,ye.length),x+=X[0]}if(p!==x)throw new Kr("Data bytes does not match offset");const B=new L;for(let q=0;q<_;++q)for(const X of k){const te=X.getDataBytes();q<te.length&&B.appendBits(te[q],8)}for(let q=0;q<N;++q)for(const X of k){const te=X.getErrorCorrectionBytes();q<te.length&&B.appendBits(te[q],8)}if(f!==B.getSizeInBytes())throw new Kr("Interleaving error: "+f+" and "+B.getSizeInBytes()+" differ.");return B}static generateECBytes(l,f){const p=l.length,y=new Int32Array(p+f);for(let _=0;_<p;_++)y[_]=l[_]&255;new Yh(et.QR_CODE_FIELD_256).encode(y,f);const x=new Uint8Array(f);for(let _=0;_<f;_++)x[_]=y[p+_];return x}static appendModeInfo(l,f){f.appendBits(l.getBits(),4)}static appendLengthInfo(l,f,p,y){const x=p.getCharacterCountBits(f);if(l>=1<<x)throw new Kr(l+" is bigger than "+((1<<x)-1));y.appendBits(l,x)}static appendBytes(l,f,p,y){switch(f){case Mt.NUMERIC:Zr.appendNumericBytes(l,p);break;case Mt.ALPHANUMERIC:Zr.appendAlphanumericBytes(l,p);break;case Mt.BYTE:Zr.append8BitBytes(l,p,y);break;case Mt.KANJI:Zr.appendKanjiBytes(l,p);break;default:throw new Kr("Invalid mode: "+f)}}static getDigit(l){return l.charCodeAt(0)-48}static isDigit(l){const f=Zr.getDigit(l);return f>=0&&f<=9}static appendNumericBytes(l,f){const p=l.length;let y=0;for(;y<p;){const x=Zr.getDigit(l.charAt(y));if(y+2<p){const _=Zr.getDigit(l.charAt(y+1)),N=Zr.getDigit(l.charAt(y+2));f.appendBits(x*100+_*10+N,10),y+=3}else if(y+1<p){const _=Zr.getDigit(l.charAt(y+1));f.appendBits(x*10+_,7),y+=2}else f.appendBits(x,4),y++}}static appendAlphanumericBytes(l,f){const p=l.length;let y=0;for(;y<p;){const x=Zr.getAlphanumericCode(l.charCodeAt(y));if(x===-1)throw new Kr;if(y+1<p){const _=Zr.getAlphanumericCode(l.charCodeAt(y+1));if(_===-1)throw new Kr;f.appendBits(x*45+_,11),y+=2}else f.appendBits(x,6),y++}}static append8BitBytes(l,f,p){let y;try{y=H.encode(l,p)}catch(x){throw new Kr(x)}for(let x=0,_=y.length;x!==_;x++){const N=y[x];f.appendBits(N,8)}}static appendKanjiBytes(l,f){let p;try{p=H.encode(l,V.SJIS)}catch(x){throw new Kr(x)}const y=p.length;for(let x=0;x<y;x+=2){const _=p[x]&255,N=p[x+1]&255,k=_<<8&4294967295|N;let B=-1;if(k>=33088&&k<=40956?B=k-33088:k>=57408&&k<=60351&&(B=k-49472),B===-1)throw new Kr("Invalid byte sequence");const q=(B>>8)*192+(B&255);f.appendBits(q,13)}}static appendECI(l,f){f.appendBits(Mt.ECI.getBits(),4),f.appendBits(l.getValue(),8)}}Zr.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Zr.DEFAULT_BYTE_MODE_ENCODING=V.UTF8.getName();class Lo{write(l,f,p,y=null){if(l.length===0)throw new v("Found empty contents");if(f<0||p<0)throw new v("Requested dimensions are too small: "+f+"x"+p);let x=qr.L,_=Lo.QUIET_ZONE_SIZE;y!==null&&(y.get(Un.ERROR_CORRECTION)!==void 0&&(x=qr.fromString(y.get(Un.ERROR_CORRECTION).toString())),y.get(Un.MARGIN)!==void 0&&(_=Number.parseInt(y.get(Un.MARGIN).toString(),10)));const N=Zr.encode(l,x,y);return this.renderResult(N,f,p,_)}writeToDom(l,f,p,y,x=null){typeof l=="string"&&(l=document.querySelector(l));const _=this.write(f,p,y,x);l&&l.appendChild(_)}renderResult(l,f,p,y){const x=l.getMatrix();if(x===null)throw new st;const _=x.getWidth(),N=x.getHeight(),k=_+y*2,B=N+y*2,q=Math.max(f,k),X=Math.max(p,B),te=Math.min(Math.floor(q/k),Math.floor(X/B)),ce=Math.floor((q-_*te)/2),ge=Math.floor((X-N*te)/2),ye=this.createSVGElement(q,X);for(let be=0,ke=ge;be<N;be++,ke+=te)for(let Je=0,tt=ce;Je<_;Je++,tt+=te)if(x.get(Je,be)===1){const Ge=this.createSvgRectElement(tt,ke,te,te);ye.appendChild(Ge)}return ye}createSVGElement(l,f){const p=document.createElementNS(Lo.SVG_NS,"svg");return p.setAttributeNS(null,"height",l.toString()),p.setAttributeNS(null,"width",f.toString()),p}createSvgRectElement(l,f,p,y){const x=document.createElementNS(Lo.SVG_NS,"rect");return x.setAttributeNS(null,"x",l.toString()),x.setAttributeNS(null,"y",f.toString()),x.setAttributeNS(null,"height",p.toString()),x.setAttributeNS(null,"width",y.toString()),x.setAttributeNS(null,"fill","#000000"),x}}Lo.QUIET_ZONE_SIZE=4,Lo.SVG_NS="http://www.w3.org/2000/svg";class Rl{encode(l,f,p,y,x){if(l.length===0)throw new v("Found empty contents");if(f!==_e.QR_CODE)throw new v("Can only encode QR_CODE, but got "+f);if(p<0||y<0)throw new v(`Requested dimensions are too small: ${p}x${y}`);let _=qr.L,N=Rl.QUIET_ZONE_SIZE;x!==null&&(x.get(Un.ERROR_CORRECTION)!==void 0&&(_=qr.fromString(x.get(Un.ERROR_CORRECTION).toString())),x.get(Un.MARGIN)!==void 0&&(N=Number.parseInt(x.get(Un.MARGIN).toString(),10)));const k=Zr.encode(l,_,x);return Rl.renderResult(k,p,y,N)}static renderResult(l,f,p,y){const x=l.getMatrix();if(x===null)throw new st;const _=x.getWidth(),N=x.getHeight(),k=_+y*2,B=N+y*2,q=Math.max(f,k),X=Math.max(p,B),te=Math.min(Math.floor(q/k),Math.floor(X/B)),ce=Math.floor((q-_*te)/2),ge=Math.floor((X-N*te)/2),ye=new W(q,X);for(let be=0,ke=ge;be<N;be++,ke+=te)for(let Je=0,tt=ce;Je<_;Je++,tt+=te)x.get(Je,be)===1&&ye.setRegion(tt,ke,te,te);return ye}}Rl.QUIET_ZONE_SIZE=4;class sw{encode(l,f,p,y,x){let _;switch(f){case _e.QR_CODE:_=new Rl;break;default:throw new v("No encoder available for format "+f)}return _.encode(l,f,p,y,x)}}class aa extends ne{constructor(l,f,p,y,x,_,N,k){if(super(_,N),this.yuvData=l,this.dataWidth=f,this.dataHeight=p,this.left=y,this.top=x,y+_>f||x+N>p)throw new v("Crop rectangle does not fit within image data.");k&&this.reverseHorizontal(_,N)}getRow(l,f){if(l<0||l>=this.getHeight())throw new v("Requested row is outside the image: "+l);const p=this.getWidth();(f==null||f.length<p)&&(f=new Uint8ClampedArray(p));const y=(l+this.top)*this.dataWidth+this.left;return E.arraycopy(this.yuvData,y,f,0,p),f}getMatrix(){const l=this.getWidth(),f=this.getHeight();if(l===this.dataWidth&&f===this.dataHeight)return this.yuvData;const p=l*f,y=new Uint8ClampedArray(p);let x=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return E.arraycopy(this.yuvData,x,y,0,p),y;for(let _=0;_<f;_++){const N=_*l;E.arraycopy(this.yuvData,x,y,N,l),x+=this.dataWidth}return y}isCropSupported(){return!0}crop(l,f,p,y){return new aa(this.yuvData,this.dataWidth,this.dataHeight,this.left+l,this.top+f,p,y,!1)}renderThumbnail(){const l=this.getWidth()/aa.THUMBNAIL_SCALE_FACTOR,f=this.getHeight()/aa.THUMBNAIL_SCALE_FACTOR,p=new Int32Array(l*f),y=this.yuvData;let x=this.top*this.dataWidth+this.left;for(let _=0;_<f;_++){const N=_*l;for(let k=0;k<l;k++){const B=y[x+k*aa.THUMBNAIL_SCALE_FACTOR]&255;p[N+k]=4278190080|B*65793}x+=this.dataWidth*aa.THUMBNAIL_SCALE_FACTOR}return p}getThumbnailWidth(){return this.getWidth()/aa.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/aa.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(l,f){const p=this.yuvData;for(let y=0,x=this.top*this.dataWidth+this.left;y<f;y++,x+=this.dataWidth){const _=x+l/2;for(let N=x,k=x+l-1;N<_;N++,k--){const B=p[N];p[N]=p[k],p[k]=B}}}invert(){return new ee(this)}}aa.THUMBNAIL_SCALE_FACTOR=2;class eu extends ne{constructor(l,f,p,y,x,_,N){if(super(f,p),this.dataWidth=y,this.dataHeight=x,this.left=_,this.top=N,l.BYTES_PER_ELEMENT===4){const k=f*p,B=new Uint8ClampedArray(k);for(let q=0;q<k;q++){const X=l[q],te=X>>16&255,ce=X>>7&510,ge=X&255;B[q]=(te+ce+ge)/4&255}this.luminances=B}else this.luminances=l;if(y===void 0&&(this.dataWidth=f),x===void 0&&(this.dataHeight=p),_===void 0&&(this.left=0),N===void 0&&(this.top=0),this.left+f>this.dataWidth||this.top+p>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(l,f){if(l<0||l>=this.getHeight())throw new v("Requested row is outside the image: "+l);const p=this.getWidth();(f==null||f.length<p)&&(f=new Uint8ClampedArray(p));const y=(l+this.top)*this.dataWidth+this.left;return E.arraycopy(this.luminances,y,f,0,p),f}getMatrix(){const l=this.getWidth(),f=this.getHeight();if(l===this.dataWidth&&f===this.dataHeight)return this.luminances;const p=l*f,y=new Uint8ClampedArray(p);let x=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return E.arraycopy(this.luminances,x,y,0,p),y;for(let _=0;_<f;_++){const N=_*l;E.arraycopy(this.luminances,x,y,N,l),x+=this.dataWidth}return y}isCropSupported(){return!0}crop(l,f,p,y){return new eu(this.luminances,p,y,this.dataWidth,this.dataHeight,this.left+l,this.top+f)}invert(){return new ee(this)}}class r0 extends V{static forName(l){return this.getCharacterSetECIByName(l)}}class Xh{}Xh.ISO_8859_1=V.ISO8859_1;class n0{isCompact(){return this.compact}setCompact(l){this.compact=l}getSize(){return this.size}setSize(l){this.size=l}getLayers(){return this.layers}setLayers(l){this.layers=l}getCodeWords(){return this.codeWords}setCodeWords(l){this.codeWords=l}getMatrix(){return this.matrix}setMatrix(l){this.matrix=l}}class Zh{static singletonList(l){return[l]}static min(l,f){return l.sort(f)[0]}}class aw{constructor(l){this.previous=l}getPrevious(){return this.previous}}class Ml extends aw{constructor(l,f,p){super(l),this.value=f,this.bitCount=p}appendTo(l,f){l.appendBits(this.value,this.bitCount)}add(l,f){return new Ml(this,l,f)}addBinaryShift(l,f){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ml(this,l,f)}toString(){let l=this.value&(1<<this.bitCount)-1;return l|=1<<this.bitCount,"<"+P.toBinaryString(l|1<<this.bitCount).substring(1)+">"}}class Qh extends Ml{constructor(l,f,p){super(l,0,0),this.binaryShiftStart=f,this.binaryShiftByteCount=p}appendTo(l,f){for(let p=0;p<this.binaryShiftByteCount;p++)(p===0||p===31&&this.binaryShiftByteCount<=62)&&(l.appendBits(31,5),this.binaryShiftByteCount>62?l.appendBits(this.binaryShiftByteCount-31,16):p===0?l.appendBits(Math.min(this.binaryShiftByteCount,31),5):l.appendBits(this.binaryShiftByteCount-31,5)),l.appendBits(f[this.binaryShiftStart+p],8)}addBinaryShift(l,f){return new Qh(this,l,f)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function ow(Y,l,f){return new Qh(Y,l,f)}function tu(Y,l,f){return new Ml(Y,l,f)}const lw=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],lo=0,Dl=1,bi=2,i0=3,Ms=4,s0=new Ml(null,0,0),Od=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function a0(Y){for(let l of Y)I.fill(l,-1);return Y[lo][Ms]=0,Y[Dl][Ms]=0,Y[Dl][lo]=28,Y[i0][Ms]=0,Y[bi][Ms]=0,Y[bi][lo]=15,Y}const Jh=a0(I.createInt32Array(6,6));class ki{constructor(l,f,p,y){this.token=l,this.mode=f,this.binaryShiftByteCount=p,this.bitCount=y}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(l,f){let p=this.bitCount,y=this.token;if(l!==this.mode){let _=Od[this.mode][l];y=tu(y,_&65535,_>>16),p+=_>>16}let x=l===bi?4:5;return y=tu(y,f,x),new ki(y,l,0,p+x)}shiftAndAppend(l,f){let p=this.token,y=this.mode===bi?4:5;return p=tu(p,Jh[this.mode][l],y),p=tu(p,f,5),new ki(p,this.mode,0,this.bitCount+y+5)}addBinaryShiftChar(l){let f=this.token,p=this.mode,y=this.bitCount;if(this.mode===Ms||this.mode===bi){let N=Od[p][lo];f=tu(f,N&65535,N>>16),y+=N>>16,p=lo}let x=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,_=new ki(f,p,this.binaryShiftByteCount+1,y+x);return _.binaryShiftByteCount===2078&&(_=_.endBinaryShift(l+1)),_}endBinaryShift(l){if(this.binaryShiftByteCount===0)return this;let f=this.token;return f=ow(f,l-this.binaryShiftByteCount,this.binaryShiftByteCount),new ki(f,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(l){let f=this.bitCount+(Od[this.mode][l.mode]>>16);return this.binaryShiftByteCount<l.binaryShiftByteCount?f+=ki.calculateBinaryShiftCost(l)-ki.calculateBinaryShiftCost(this):this.binaryShiftByteCount>l.binaryShiftByteCount&&l.binaryShiftByteCount>0&&(f+=10),f<=l.bitCount}toBitArray(l){let f=[];for(let y=this.endBinaryShift(l.length).token;y!==null;y=y.getPrevious())f.unshift(y);let p=new L;for(const y of f)y.appendTo(p,l);return p}toString(){return z.format("%s bits=%d bytes=%d",lw[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(l){return l.binaryShiftByteCount>62?21:l.binaryShiftByteCount>31?20:l.binaryShiftByteCount>0?10:0}}ki.INITIAL_STATE=new ki(s0,lo,0,0);function cw(Y){const l=z.getCharCode(" "),f=z.getCharCode("."),p=z.getCharCode(",");Y[lo][l]=1;const y=z.getCharCode("Z"),x=z.getCharCode("A");for(let te=x;te<=y;te++)Y[lo][te]=te-x+2;Y[Dl][l]=1;const _=z.getCharCode("z"),N=z.getCharCode("a");for(let te=N;te<=_;te++)Y[Dl][te]=te-N+2;Y[bi][l]=1;const k=z.getCharCode("9"),B=z.getCharCode("0");for(let te=B;te<=k;te++)Y[bi][te]=te-B+2;Y[bi][p]=12,Y[bi][f]=13;const q=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let te=0;te<q.length;te++)Y[i0][z.getCharCode(q[te])]=te;const X=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let te=0;te<X.length;te++)z.getCharCode(X[te])>0&&(Y[Ms][z.getCharCode(X[te])]=te);return Y}const ep=cw(I.createInt32Array(5,256));class ru{constructor(l){this.text=l}encode(){const l=z.getCharCode(" "),f=z.getCharCode(`
`);let p=Zh.singletonList(ki.INITIAL_STATE);for(let x=0;x<this.text.length;x++){let _,N=x+1<this.text.length?this.text[x+1]:0;switch(this.text[x]){case z.getCharCode("\r"):_=N===f?2:0;break;case z.getCharCode("."):_=N===l?3:0;break;case z.getCharCode(","):_=N===l?4:0;break;case z.getCharCode(":"):_=N===l?5:0;break;default:_=0}_>0?(p=ru.updateStateListForPair(p,x,_),x++):p=this.updateStateListForChar(p,x)}return Zh.min(p,(x,_)=>x.getBitCount()-_.getBitCount()).toBitArray(this.text)}updateStateListForChar(l,f){const p=[];for(let y of l)this.updateStateForChar(y,f,p);return ru.simplifyStates(p)}updateStateForChar(l,f,p){let y=this.text[f]&255,x=ep[l.getMode()][y]>0,_=null;for(let N=0;N<=Ms;N++){let k=ep[N][y];if(k>0){if(_==null&&(_=l.endBinaryShift(f)),!x||N===l.getMode()||N===bi){const B=_.latchAndAppend(N,k);p.push(B)}if(!x&&Jh[l.getMode()][N]>=0){const B=_.shiftAndAppend(N,k);p.push(B)}}}if(l.getBinaryShiftByteCount()>0||ep[l.getMode()][y]===0){let N=l.addBinaryShiftChar(f);p.push(N)}}static updateStateListForPair(l,f,p){const y=[];for(let x of l)this.updateStateForPair(x,f,p,y);return this.simplifyStates(y)}static updateStateForPair(l,f,p,y){let x=l.endBinaryShift(f);if(y.push(x.latchAndAppend(Ms,p)),l.getMode()!==Ms&&y.push(x.shiftAndAppend(Ms,p)),p===3||p===4){let _=x.latchAndAppend(bi,16-p).latchAndAppend(bi,1);y.push(_)}if(l.getBinaryShiftByteCount()>0){let _=l.addBinaryShiftChar(f).addBinaryShiftChar(f+1);y.push(_)}}static simplifyStates(l){let f=[];for(const p of l){let y=!0;for(const x of f){if(x.isBetterThanOrEqualTo(p)){y=!1;break}p.isBetterThanOrEqualTo(x)&&(f=f.filter(_=>_!==x))}y&&f.push(p)}return f}}class jr{constructor(){}static encodeBytes(l){return jr.encode(l,jr.DEFAULT_EC_PERCENT,jr.DEFAULT_AZTEC_LAYERS)}static encode(l,f,p){let y=new ru(l).encode(),x=P.truncDivision(y.getSize()*f,100)+11,_=y.getSize()+x,N,k,B,q,X;if(p!==jr.DEFAULT_AZTEC_LAYERS){if(N=p<0,k=Math.abs(p),k>(N?jr.MAX_NB_BITS_COMPACT:jr.MAX_NB_BITS))throw new v(z.format("Illegal value %s for layers",p));B=jr.totalBitsInLayer(k,N),q=jr.WORD_SIZE[k];let Ge=B-B%q;if(X=jr.stuffBits(y,q),X.getSize()+x>Ge)throw new v("Data to large for user specified layer");if(N&&X.getSize()>q*64)throw new v("Data to large for user specified layer")}else{q=0,X=null;for(let Ge=0;;Ge++){if(Ge>jr.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(N=Ge<=3,k=N?Ge+1:Ge,B=jr.totalBitsInLayer(k,N),_>B)continue;(X==null||q!==jr.WORD_SIZE[k])&&(q=jr.WORD_SIZE[k],X=jr.stuffBits(y,q));let wr=B-B%q;if(!(N&&X.getSize()>q*64)&&X.getSize()+x<=wr)break}}let te=jr.generateCheckWords(X,B,q),ce=X.getSize()/q,ge=jr.generateModeMessage(N,k,ce),ye=(N?11:14)+k*4,be=new Int32Array(ye),ke;if(N){ke=ye;for(let Ge=0;Ge<be.length;Ge++)be[Ge]=Ge}else{ke=ye+1+2*P.truncDivision(P.truncDivision(ye,2)-1,15);let Ge=P.truncDivision(ye,2),wr=P.truncDivision(ke,2);for(let er=0;er<Ge;er++){let $i=er+P.truncDivision(er,15);be[Ge-er-1]=wr-$i-1,be[Ge+er]=wr+$i+1}}let Je=new W(ke);for(let Ge=0,wr=0;Ge<k;Ge++){let er=(k-Ge)*4+(N?9:12);for(let $i=0;$i<er;$i++){let Ds=$i*2;for(let $n=0;$n<2;$n++)te.get(wr+Ds+$n)&&Je.set(be[Ge*2+$n],be[Ge*2+$i]),te.get(wr+er*2+Ds+$n)&&Je.set(be[Ge*2+$i],be[ye-1-Ge*2-$n]),te.get(wr+er*4+Ds+$n)&&Je.set(be[ye-1-Ge*2-$n],be[ye-1-Ge*2-$i]),te.get(wr+er*6+Ds+$n)&&Je.set(be[ye-1-Ge*2-$i],be[Ge*2+$n])}wr+=er*8}if(jr.drawModeMessage(Je,N,ke,ge),N)jr.drawBullsEye(Je,P.truncDivision(ke,2),5);else{jr.drawBullsEye(Je,P.truncDivision(ke,2),7);for(let Ge=0,wr=0;Ge<P.truncDivision(ye,2)-1;Ge+=15,wr+=16)for(let er=P.truncDivision(ke,2)&1;er<ke;er+=2)Je.set(P.truncDivision(ke,2)-wr,er),Je.set(P.truncDivision(ke,2)+wr,er),Je.set(er,P.truncDivision(ke,2)-wr),Je.set(er,P.truncDivision(ke,2)+wr)}let tt=new n0;return tt.setCompact(N),tt.setSize(ke),tt.setLayers(k),tt.setCodeWords(ce),tt.setMatrix(Je),tt}static drawBullsEye(l,f,p){for(let y=0;y<p;y+=2)for(let x=f-y;x<=f+y;x++)l.set(x,f-y),l.set(x,f+y),l.set(f-y,x),l.set(f+y,x);l.set(f-p,f-p),l.set(f-p+1,f-p),l.set(f-p,f-p+1),l.set(f+p,f-p),l.set(f+p,f-p+1),l.set(f+p,f+p-1)}static generateModeMessage(l,f,p){let y=new L;return l?(y.appendBits(f-1,2),y.appendBits(p-1,6),y=jr.generateCheckWords(y,28,4)):(y.appendBits(f-1,5),y.appendBits(p-1,11),y=jr.generateCheckWords(y,40,4)),y}static drawModeMessage(l,f,p,y){let x=P.truncDivision(p,2);if(f)for(let _=0;_<7;_++){let N=x-3+_;y.get(_)&&l.set(N,x-5),y.get(_+7)&&l.set(x+5,N),y.get(20-_)&&l.set(N,x+5),y.get(27-_)&&l.set(x-5,N)}else for(let _=0;_<10;_++){let N=x-5+_+P.truncDivision(_,5);y.get(_)&&l.set(N,x-7),y.get(_+10)&&l.set(x+7,N),y.get(29-_)&&l.set(N,x+7),y.get(39-_)&&l.set(x-7,N)}}static generateCheckWords(l,f,p){let y=l.getSize()/p,x=new Yh(jr.getGF(p)),_=P.truncDivision(f,p),N=jr.bitsToWords(l,p,_);x.encode(N,_-y);let k=f%p,B=new L;B.appendBits(0,k);for(const q of Array.from(N))B.appendBits(q,p);return B}static bitsToWords(l,f,p){let y=new Int32Array(p),x,_;for(x=0,_=l.getSize()/f;x<_;x++){let N=0;for(let k=0;k<f;k++)N|=l.get(x*f+k)?1<<f-k-1:0;y[x]=N}return y}static getGF(l){switch(l){case 4:return et.AZTEC_PARAM;case 6:return et.AZTEC_DATA_6;case 8:return et.AZTEC_DATA_8;case 10:return et.AZTEC_DATA_10;case 12:return et.AZTEC_DATA_12;default:throw new v("Unsupported word size "+l)}}static stuffBits(l,f){let p=new L,y=l.getSize(),x=(1<<f)-2;for(let _=0;_<y;_+=f){let N=0;for(let k=0;k<f;k++)(_+k>=y||l.get(_+k))&&(N|=1<<f-1-k);(N&x)===x?(p.appendBits(N&x,f),_--):(N&x)===0?(p.appendBits(N|1,f),_--):p.appendBits(N,f)}return p}static totalBitsInLayer(l,f){return((f?88:112)+16*l)*l}}jr.DEFAULT_EC_PERCENT=33,jr.DEFAULT_AZTEC_LAYERS=0,jr.MAX_NB_BITS=32,jr.MAX_NB_BITS_COMPACT=4,jr.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class nu{encode(l,f,p,y){return this.encodeWithHints(l,f,p,y,null)}encodeWithHints(l,f,p,y,x){let _=Xh.ISO_8859_1,N=jr.DEFAULT_EC_PERCENT,k=jr.DEFAULT_AZTEC_LAYERS;return x!=null&&(x.has(Un.CHARACTER_SET)&&(_=r0.forName(x.get(Un.CHARACTER_SET).toString())),x.has(Un.ERROR_CORRECTION)&&(N=P.parseInt(x.get(Un.ERROR_CORRECTION).toString())),x.has(Un.AZTEC_LAYERS)&&(k=P.parseInt(x.get(Un.AZTEC_LAYERS).toString()))),nu.encodeLayers(l,f,p,y,_,N,k)}static encodeLayers(l,f,p,y,x,_,N){if(f!==_e.AZTEC)throw new v("Can only encode AZTEC, but got "+f);let k=jr.encode(z.getBytes(l,x),_,N);return nu.renderResult(k,p,y)}static renderResult(l,f,p){let y=l.getMatrix();if(y==null)throw new st;let x=y.getWidth(),_=y.getHeight(),N=Math.max(f,x),k=Math.max(p,_),B=Math.min(N/x,k/_),q=(N-x*B)/2,X=(k-_*B)/2,te=new W(N,k);for(let ce=0,ge=X;ce<_;ce++,ge+=B)for(let ye=0,be=q;ye<x;ye++,be+=B)y.get(ye,ce)&&te.setRegion(be,ge,B,B);return te}}r.AbstractExpandedDecoder=Fh,r.ArgumentException=g,r.ArithmeticException=Oe,r.AztecCode=n0,r.AztecCodeReader=Sr,r.AztecCodeWriter=nu,r.AztecDecoder=kt,r.AztecDetector=_r,r.AztecDetectorResult=Ye,r.AztecEncoder=jr,r.AztecHighLevelEncoder=ru,r.AztecPoint=ft,r.BarcodeFormat=_e,r.Binarizer=A,r.BinaryBitmap=w,r.BitArray=L,r.BitMatrix=W,r.BitSource=Vh,r.BrowserAztecCodeReader=kr,r.BrowserBarcodeReader=Yg,r.BrowserCodeReader=me,r.BrowserDatamatrixCodeReader=nw,r.BrowserMultiFormatReader=Jc,r.BrowserPDF417Reader=Nd,r.BrowserQRCodeReader=t0,r.BrowserQRCodeSvgWriter=Lo,r.CharacterSetECI=V,r.ChecksumException=b,r.Code128Reader=ze,r.Code39Reader=Ur,r.DataMatrixDecodedBitStreamParser=Ps,r.DataMatrixReader=Is,r.DecodeHintType=D,r.DecoderResult=je,r.DefaultGridSampler=Me,r.DetectorResult=Ne,r.EAN13Reader=xi,r.EncodeHintType=Un,r.Exception=h,r.FormatException=M,r.GenericGF=et,r.GenericGFPoly=We,r.GlobalHistogramBinarizer=J,r.GridSampler=qe,r.GridSamplerInstance=lt,r.HTMLCanvasElementLuminanceSource=de,r.HybridBinarizer=ie,r.ITFReader=gr,r.IllegalArgumentException=v,r.IllegalStateException=st,r.InvertedLuminanceSource=ee,r.LuminanceSource=ne,r.MathUtils=ut,r.MultiFormatOneDReader=jl,r.MultiFormatReader=Ad,r.MultiFormatWriter=sw,r.NotFoundException=G,r.OneDReader=Bt,r.PDF417DecodedBitStreamParser=Pe,r.PDF417DecoderErrorCorrection=zh,r.PDF417Reader=ci,r.PDF417ResultMetadata=Ed,r.PerspectiveTransform=ae,r.PlanarYUVLuminanceSource=aa,r.QRCodeByteMatrix=jd,r.QRCodeDataMask=hr,r.QRCodeDecodedBitStreamParser=sn,r.QRCodeDecoderErrorCorrectionLevel=qr,r.QRCodeDecoderFormatInformation=ai,r.QRCodeEncoder=Zr,r.QRCodeEncoderQRCode=Do,r.QRCodeMaskUtil=an,r.QRCodeMatrixUtil=$t,r.QRCodeMode=Mt,r.QRCodeReader=Ti,r.QRCodeVersion=It,r.QRCodeWriter=Rl,r.RGBLuminanceSource=eu,r.RSS14Reader=en,r.RSSExpandedReader=$e,r.ReaderException=Il,r.ReedSolomonDecoder=Et,r.ReedSolomonEncoder=Yh,r.ReedSolomonException=Ue,r.Result=pe,r.ResultMetadataType=Le,r.ResultPoint=he,r.StringUtils=z,r.UnsupportedOperationException=K,r.VideoInputDevice=se,r.WhiteRectangleDetector=Ve,r.WriterException=Kr,r.ZXingArrays=I,r.ZXingCharset=r0,r.ZXingInteger=P,r.ZXingStandardCharsets=Xh,r.ZXingStringBuilder=Z,r.ZXingStringEncoding=H,r.ZXingSystem=E,r.createAbstractExpandedDecoder=Gg,Object.defineProperty(r,"__esModule",{value:!0})}))})(Gp,Gp.exports)),Gp.exports}var bn=Eue();const Cue=Rr(bn),Aue=aj({__proto__:null,default:Cue},[bn]);var GR=(function(){function t(e,r,n){if(this.formatMap=new Map([[gt.QR_CODE,bn.BarcodeFormat.QR_CODE],[gt.AZTEC,bn.BarcodeFormat.AZTEC],[gt.CODABAR,bn.BarcodeFormat.CODABAR],[gt.CODE_39,bn.BarcodeFormat.CODE_39],[gt.CODE_93,bn.BarcodeFormat.CODE_93],[gt.CODE_128,bn.BarcodeFormat.CODE_128],[gt.DATA_MATRIX,bn.BarcodeFormat.DATA_MATRIX],[gt.MAXICODE,bn.BarcodeFormat.MAXICODE],[gt.ITF,bn.BarcodeFormat.ITF],[gt.EAN_13,bn.BarcodeFormat.EAN_13],[gt.EAN_8,bn.BarcodeFormat.EAN_8],[gt.PDF_417,bn.BarcodeFormat.PDF_417],[gt.RSS_14,bn.BarcodeFormat.RSS_14],[gt.RSS_EXPANDED,bn.BarcodeFormat.RSS_EXPANDED],[gt.UPC_A,bn.BarcodeFormat.UPC_A],[gt.UPC_E,bn.BarcodeFormat.UPC_E],[gt.UPC_EAN_EXTENSION,bn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Aue)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(e),s=new Map;s.set(bn.DecodeHintType.POSSIBLE_FORMATS,i),s.set(bn.DecodeHintType.TRY_HARDER,!1),this.hints=s}return t.prototype.decodeAsync=function(e){var r=this;return new Promise(function(n,i){try{n(r.decode(e))}catch(s){i(s)}})},t.prototype.decode=function(e){var r=new bn.MultiFormatReader(this.verbose,this.hints),n=new bn.HTMLCanvasElementLuminanceSource(e),i=new bn.BinaryBitmap(new bn.HybridBinarizer(n)),s=r.decode(i);return{text:s.text,format:KV.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,i){e.set(r,n)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var r=[],n=0,i=e;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return r},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t})(),Nue=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(g){try{h(n.next(g))}catch(v){a(v)}}function u(g){try{h(n.throw(g))}catch(v){a(v)}}function h(g){g.done?s(g.value):i(g.value).then(c,u)}h((n=n.apply(t,e||[])).next())})},jue=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(h){return function(g){return u([h,g])}}function u(h){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(g){h=[6,g],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},KR=(function(){function t(e,r,n){if(this.formatMap=new Map([[gt.QR_CODE,"qr_code"],[gt.AZTEC,"aztec"],[gt.CODABAR,"codabar"],[gt.CODE_39,"code_39"],[gt.CODE_93,"code_93"],[gt.CODE_128,"code_128"],[gt.DATA_MATRIX,"data_matrix"],[gt.ITF,"itf"],[gt.EAN_13,"ean_13"],[gt.EAN_8,"ean_8"],[gt.PDF_417,"pdf417"],[gt.UPC_A,"upc_a"],[gt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return Nue(this,void 0,void 0,function(){var r,n;return jue(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:KV.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var r=null,n=0,i=0,s=e;i<s.length;i++){var a=s[i],c=a.boundingBox.width*a.boundingBox.height;c>n&&(n=c,r=a)}if(!r)throw"No largest barcode found";return r},t.prototype.createBarcodeDetectorFormats=function(e){for(var r=[],n=0,i=e;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,i){e.set(r,n)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t})(),YR=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(g){try{h(n.next(g))}catch(v){a(v)}}function u(g){try{h(n.throw(g))}catch(v){a(v)}}function h(g){g.done?s(g.value):i(g.value).then(c,u)}h((n=n.apply(t,e||[])).next())})},XR=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(h){return function(g){return u([h,g])}}function u(h){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(g){h=[6,g],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Oue=(function(){function t(e,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&KR.isSupported()?(this.primaryDecoder=new KR(e,n,i),this.secondaryDecoder=new GR(e,n,i)):this.primaryDecoder=new GR(e,n,i)}return t.prototype.decodeAsync=function(e){return YR(this,void 0,void 0,function(){var r;return XR(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return YR(this,void 0,void 0,function(){var r,n;return XR(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var r=performance.now()-e;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];e+=i}var s=e/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t})(),MO=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Cy=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(g){try{h(n.next(g))}catch(v){a(v)}}function u(g){try{h(n.throw(g))}catch(v){a(v)}}function h(g){g.done?s(g.value):i(g.value).then(c,u)}h((n=n.apply(t,e||[])).next())})},Ay=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(h){return function(g){return u([h,g])}}function u(h){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(g){h=[6,g],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},XV=(function(){function t(e,r){this.name=e,this.track=r}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var r={};r[this.name]=e;var n={advanced:[r]};return this.track.applyConstraints(n)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var r=e[this.name];return r}return null},t})(),Tue=(function(t){MO(e,t);function e(r,n){return t.call(this,r,n)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(XV),kue=(function(t){MO(e,t);function e(r){return t.call(this,"zoom",r)||this}return e})(Tue),Pue=(function(t){MO(e,t);function e(r){return t.call(this,"torch",r)||this}return e})(XV),Iue=(function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new kue(this.track)},t.prototype.torchFeature=function(){return new Pue(this.track)},t})(),Rue=(function(){function t(e,r,n){this.isClosed=!1,this.parentElement=e,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var r=document.createElement("video");return r.style.width="".concat(e,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(n,i),e.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,r,n,i){return Cy(this,void 0,void 0,function(){var s,a;return Ay(this,function(c){switch(c.label){case 0:return s=new t(e,r,i),n.aspectRatio?(a={aspectRatio:n.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(a)]):[3,2];case 1:c.sent(),c.label=2;case 2:return s.setupSurface(),[2,s]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var r=this,n=function(){setTimeout(e,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return Cy(this,void 0,void 0,function(){return Ay(this,function(r){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(r,n){var i=e.mediaStream.getVideoTracks(),s=i.length,a=0;e.mediaStream.getVideoTracks().forEach(function(c){e.mediaStream.removeTrack(c),c.stop(),++a,a>=s&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),r())})})},t.prototype.getCapabilities=function(){return new Iue(this.getFirstTrackOrFail())},t})(),Mue=(function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,r,n){return Cy(this,void 0,void 0,function(){return Ay(this,function(i){return[2,Rue.create(e,this.mediaStream,r,n)]})})},t.create=function(e){return Cy(this,void 0,void 0,function(){var r,n;return Ay(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new t(n)]}})})},t})(),ZR=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(g){try{h(n.next(g))}catch(v){a(v)}}function u(g){try{h(n.throw(g))}catch(v){a(v)}}function h(g){g.done?s(g.value):i(g.value).then(c,u)}h((n=n.apply(t,e||[])).next())})},QR=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(h){return function(g){return u([h,g])}}function u(h){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(g){h=[6,g],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Due=(function(){function t(){}return t.failIfNotSupported=function(){return ZR(this,void 0,void 0,function(){return QR(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return ZR(this,void 0,void 0,function(){return QR(this,function(r){return[2,Mue.create(e)]})})},t})(),Lue=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(g){try{h(n.next(g))}catch(v){a(v)}}function u(g){try{h(n.throw(g))}catch(v){a(v)}}function h(g){g.done?s(g.value):i(g.value).then(c,u)}h((n=n.apply(t,e||[])).next())})},Bue=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(h){return function(g){return u([h,g])}}function u(h){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(g){h=[6,g],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Fue=(function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=pf.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=pf.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return Lue(this,void 0,void 0,function(){var e,r,n,i,s,a,c;return Bue(this,function(u){switch(u.label){case 0:return e=function(h){for(var g=h.getVideoTracks(),v=0,w=g;v<w.length;v++){var b=w[v];b.enabled=!1,b.stop(),h.removeTrack(b)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=u.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=u.sent(),i=[],s=0,a=n;s<a.length;s++)c=a[s],c.kind==="videoinput"&&i.push({id:c.deviceId,label:c.label});return e(r),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,r){var n=function(s){for(var a=[],c=0,u=s;c<u.length;c++){var h=u[c];h.kind==="video"&&a.push({id:h.id,label:h.label})}e(a)},i=MediaStreamTrack;i.getSources(n)})},t})(),Dn;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Dn||(Dn={}));var Uue=(function(){function t(){this.state=Dn.NOT_STARTED,this.onGoingTransactionNewState=Dn.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Dn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Dn.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Dn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Dn.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Dn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case Dn.UNKNOWN:throw"Transition from unknown is not allowed";case Dn.NOT_STARTED:this.failIfNewStateIs(e,[Dn.PAUSED]);break;case Dn.SCANNING:break;case Dn.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,r){for(var n=0,i=r;n<i.length;n++){var s=i[n];if(e===s)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t})(),$ue=(function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Dn.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Dn.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Dn.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Dn.PAUSED},t})(),Vue=(function(){function t(){}return t.create=function(){return new $ue(new Uue)},t})(),que=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),$s=(function(t){que(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(wue),Wue=(function(){function t(e,r){this.logger=r,this.fps=$s.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=$s.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?YV.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Jo(this.qrbox)},t.create=function(e,r){return new t(e,r)},t})(),zue=(function(){function t(e,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new _ue(this.verbose),this.qrcode=new Oue(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Vue.create()}return t.prototype.start=function(e,r,n,i){var s=this;if(!e)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var a;i?a=i:a=this.verbose?this.logger.log:function(){};var c=Wue.create(r,this.logger);this.clearElement();var u=!1;c.videoConstraints&&(c.isMediaStreamConstraintsValid()?u=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var h=u,g=document.getElementById(this.elementId);g.clientWidth?g.clientWidth:$s.DEFAULT_WIDTH,g.style.position="relative",this.shouldScan=!0,this.element=g;var v=this,w=this.stateManagerProxy.startTransition(Dn.SCANNING);return new Promise(function(b,A){var E=h?c.videoConstraints:v.createVideoConstraints(e);if(!E){w.cancel(),A("videoConstraints should be defined");return}var C={};(!h||c.aspectRatio)&&(C.aspectRatio=c.aspectRatio);var R={onRenderSurfaceReady:function(I,P){v.setupUi(I,P,c),v.isScanning=!0,v.foreverScan(c,n,a)}};Due.failIfNotSupported().then(function(I){I.create(E).then(function(P){return P.render(s.element,C,R).then(function(L){v.renderedCamera=L,w.execute(),b(null)}).catch(function(L){w.cancel(),A(L)})}).catch(function(P){w.cancel(),A(pf.errorGettingUserMedia(P))})}).catch(function(I){w.cancel(),A(pf.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Dn.PAUSED),this.showPausedState(),(Jo(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,r=function(){e.stateManagerProxy.directTransition(Dn.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Dn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(e.element){var s=document.getElementById($s.SHADED_REGION_ELEMENT_ID);s&&e.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,r){return this.scanFileV2(e,r).then(function(n){return n.decodedText})},t.prototype.scanFileV2=function(e,r){var n=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Jo(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(e);var a=new Image;a.onload=function(){var c=a.width,u=a.height,h=document.getElementById(n.elementId),g=h.clientWidth?h.clientWidth:$s.DEFAULT_WIDTH,v=Math.max(h.clientHeight?h.clientHeight:u,$s.FILE_SCAN_MIN_HEIGHT),w=n.computeCanvasDrawConfig(c,u,g,v);if(r){var b=n.createCanvasElement(g,v,"qr-canvas-visible");b.style.display="inline-block",h.appendChild(b);var A=b.getContext("2d");if(!A)throw"Unable to get 2d context from canvas";A.canvas.width=g,A.canvas.height=v,A.drawImage(a,0,0,c,u,w.x,w.y,w.width,w.height)}var E=$s.FILE_SCAN_HIDDEN_CANVAS_PADDING,C=Math.max(a.width,w.width),R=Math.max(a.height,w.height),I=C+2*E,P=R+2*E,L=n.createCanvasElement(I,P);h.appendChild(L);var T=L.getContext("2d");if(!T)throw"Unable to get 2d context from canvas";T.canvas.width=I,T.canvas.height=P,T.drawImage(a,0,0,c,u,E,E,C,R);try{n.qrcode.decodeRobustlyAsync(L).then(function(D){i(zR.createFromQrcodeResult(D))}).catch(s)}catch(D){s("QR code parse error, error = ".concat(D))}},a.onerror=s,a.onabort=s,a.onstalled=s,a.onsuspend=s,a.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return Fue.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!YV.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var r=[gt.QR_CODE,gt.AZTEC,gt.CODABAR,gt.CODE_39,gt.CODE_93,gt.CODE_128,gt.DATA_MATRIX,gt.MAXICODE,gt.ITF,gt.EAN_13,gt.EAN_8,gt.PDF_417,gt.RSS_14,gt.RSS_EXPANDED,gt.UPC_A,gt.UPC_E,gt.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return r;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,s=e.formatsToSupport;i<s.length;i++){var a=s[i];xue(a)?n.push(a):this.logger.warn("Invalid format: ".concat(a," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Jo(e))return!0;if(!Jo(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Jo(e.experimentalFeatures))return!0;var r=e.experimentalFeatures;return Jo(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,r,n){var i=this,s=n.qrbox;this.validateQrboxConfig(s);var a=this.toQrdimensions(e,r,s),c=function(h){if(h<$s.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat($s.MIN_QR_BOX_SIZE,"px.")},u=function(h){return h>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),h=e),h};c(a.width),c(a.height),a.width=u(a.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(e,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},t.prototype.setupUi=function(e,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(e,r,n);var i=Jo(n.qrbox)?{width:e,height:r}:n.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(e,r,i);s.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var a=n.isShadedBoxEnabled()&&s.height<=r,c={x:0,y:0,width:e,height:r},u=a?this.getShadedRegionBounds(e,r,s):c,h=this.createCanvasElement(u.width,u.height),g={willReadFrequently:!0},v=h.getContext("2d",g);v.canvas.width=u.width,v.canvas.height=u.height,this.element.append(h),a&&this.possiblyInsertShadingElement(this.element,e,r,s),this.createScannerPausedUiElement(this.element),this.qrRegion=u,this.context=v,this.canvasElement=h},t.prototype.createScannerPausedUiElement=function(e){var r=document.createElement("div");r.innerText=pf.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",e.appendChild(r),this.scannerPausedUiElement=r},t.prototype.scanContext=function(e,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,zR.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var s=pf.codeParseError(i);return r(s,bue.createFrom(s)),!1})},t.prototype.foreverScan=function(e,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),a=s.videoWidth/s.clientWidth,c=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var u=this.qrRegion.width*a,h=this.qrRegion.height*c,g=this.qrRegion.x*a,v=this.qrRegion.y*c;this.context.drawImage(s,g,v,u,h,0,0,this.qrRegion.width,this.qrRegion.height);var w=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,r,n)},i.getTimeoutFps(e.fps))};this.scanContext(r,n).then(function(b){!b&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){w()})):w()}).catch(function(b){i.logger.logError("Error happend while scanning context",b),w()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},s="exact",a=function(A){if(A in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(A,"'")},c=Object.keys(e);if(c.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(c.length," keys");var u=Object.keys(e)[0];if(u!==r&&u!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(u===r){var h=e.facingMode;if(typeof h=="string"){if(a(h))return{facingMode:h}}else if(typeof h=="object")if(s in h){if(a(h["".concat(s)]))return{facingMode:{exact:h["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var g=typeof h;throw"Invalid type of 'facingMode' = ".concat(g)}}else{var v=e.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(s in v)return{deviceId:{exact:v["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var w=typeof v;throw"Invalid type of 'deviceId' = ".concat(w)}}}var b=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(b)},t.prototype.computeCanvasDrawConfig=function(e,r,n,i){if(e<=n&&r<=i){var s=(n-e)/2,a=(i-r)/2;return{x:s,y:a,width:e,height:r}}else{var c=e,u=r;return e>n&&(r=n/e*r,e=n),r>i&&(e=i/r*e,r=i),this.logger.log("Image downsampled from "+"".concat(c,"X").concat(u)+" to ".concat(e,"X").concat(r,".")),this.computeCanvasDrawConfig(e,r,n,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=e?$s.BORDER_SHADER_MATCH_COLOR:$s.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,r,n){var i=e,s=r,a=document.createElement("canvas");return a.style.width="".concat(i,"px"),a.style.height="".concat(s,"px"),a.style.display="none",a.id=Jo(n)?"qr-canvas":n,a},t.prototype.getShadedRegionBounds=function(e,r,n){if(n.width>e||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},t.prototype.possiblyInsertShadingElement=function(e,r,n,i){if(!(r-i.width<1||n-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var a=(r-i.width)/2,c=(n-i.height)/2;if(s.style.borderLeft="".concat(a,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(a,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat($s.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var u=5,h=40;this.insertShaderBorders(s,h,u,-u,null,0,!0),this.insertShaderBorders(s,h,u,-u,null,0,!1),this.insertShaderBorders(s,h,u,null,-u,0,!0),this.insertShaderBorders(s,h,u,null,-u,0,!1),this.insertShaderBorders(s,u,h+u,-u,null,-u,!0),this.insertShaderBorders(s,u,h+u,null,-u,-u,!0),this.insertShaderBorders(s,u,h+u,-u,null,-u,!1),this.insertShaderBorders(s,u,h+u,null,-u,-u,!1),this.hasBorderShaders=!0}e.append(s)}},t.prototype.insertShaderBorders=function(e,r,n,i,s,a,c){var u=document.createElement("div");u.style.position="absolute",u.style.backgroundColor=$s.BORDER_SHADER_DEFAULT_COLOR,u.style.width="".concat(r,"px"),u.style.height="".concat(n,"px"),i!==null&&(u.style.top="".concat(i,"px")),s!==null&&(u.style.bottom="".concat(s,"px")),c?u.style.left="".concat(a,"px"):u.style.right="".concat(a,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(u),e.appendChild(u)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t})(),JR;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(JR||(JR={}));const ZV=({onScan:t,onError:e,className:r,showCamera:n=!0})=>{const[i,s]=j.useState(!1),[a,c]=j.useState(null),u=j.useRef(null),h="qr-scanner",g=async()=>{try{c(null);const b=new zue(h);u.current=b,await b.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},A=>{try{const E=kR(A);E&&xy(E)?(t(E),v()):(c("Invalid or expired QR code"),e?.("Invalid or expired QR code"))}catch(E){c("Failed to decode QR code: "+E.message),e?.(E.message)}},A=>{}),s(!0)}catch(b){let A="Failed to start camera: "+b.message;b.name==="NotAllowedError"?A="Camera permission denied. Please enable camera access in your browser settings.":b.name==="NotFoundError"?A="No camera found on this device.":b.name==="NotReadableError"&&(A="Camera is already in use by another application."),c(A),e?.(A),s(!1)}},v=async()=>{if(u.current&&i){try{await u.current.stop(),u.current.clear()}catch{}u.current=null}s(!1)};j.useEffect(()=>()=>{v()},[]);const w=()=>{const b=prompt("Enter QR code data (JSON string):");if(b)try{const A=kR(b);A&&xy(A)?t(A):(c("Invalid or expired QR code"),e?.("Invalid or expired QR code"))}catch(A){c("Failed to decode QR code: "+A.message),e?.(A.message)}};return o.jsx(Xe,{className:De("w-full",r),children:o.jsxs(Ze,{className:"p-6 space-y-4",children:[a&&o.jsxs(Yu,{variant:"destructive",children:[o.jsx(cl,{className:"h-4 w-4"}),o.jsx(Xu,{children:a})]}),n&&o.jsxs("div",{className:"relative aspect-square bg-muted rounded-lg overflow-hidden",children:[o.jsx("div",{id:h,className:"w-full h-full"}),!i&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 z-10",children:o.jsxs("div",{className:"text-center text-white",children:[o.jsx(oI,{className:"w-12 h-12 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:"Camera not active"})]})})]}),o.jsxs("div",{className:"flex gap-2",children:[i?o.jsxs(Te,{onClick:v,variant:"destructive",className:"flex-1",children:[o.jsx(pg,{className:"w-4 h-4 mr-2"}),"Stop Scanning"]}):o.jsxs(Te,{onClick:g,className:"flex-1",children:[o.jsx(oI,{className:"w-4 h-4 mr-2"}),"Start Scanning"]}),o.jsx(Te,{onClick:w,variant:"outline",children:"Manual Entry"})]}),o.jsx("p",{className:"text-xs text-muted-foreground text-center",children:i?"Point your camera at a QR code":'Click "Start Scanning" to begin'})]})})},Hue=51.4881,Gue=-.03,Kue=100,kp="Grinstead Rd, London SE8 5FE, United Kingdom",Yue=(t,e,r,n)=>{const s=t*Math.PI/180,a=r*Math.PI/180,c=(r-t)*Math.PI/180,u=(n-e)*Math.PI/180,h=Math.sin(c/2)*Math.sin(c/2)+Math.cos(s)*Math.cos(a)*Math.sin(u/2)*Math.sin(u/2);return 6371e3*(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)))},Xue=()=>{const[t,e]=j.useState("checking"),[r,n]=j.useState(!1),[i,s]=j.useState(null),[a,c]=j.useState(!0),[u,h]=j.useState(!1),[g,v]=j.useState(null),[w,b]=j.useState(!0),{toast:A}=Bn(),{user:E}=Oo(),C=g===!1,R=g===!0;j.useEffect(()=>{I(),P()},[]);const I=async()=>{try{const{data:{user:M}}=await Se.auth.getUser();if(!M){s(!1),c(!1);return}const{data:$,error:V}=await Se.rpc("has_valid_membership",{_user_id:M.id});if(V)throw V;s($)}catch(M){console.error("Error checking membership:",M),s(!1)}finally{c(!1)}},P=async()=>{try{b(!0);const{data:{user:M}}=await Se.auth.getUser();if(!M){v(!1),b(!1);return}const{data:$,error:V}=await Se.from("check_ins").select("id").eq("user_id",M.id).is("check_out_time",null).order("check_in_time",{ascending:!1}).limit(1);if(V)throw V;v($&&$.length>0)}catch(M){console.error("Error checking active check-in:",M),v(!1)}finally{b(!1)}};j.useEffect(()=>{let M=!0;return(()=>{if(!navigator.geolocation){M&&(e("invalid"),Ft({title:"Location not supported",description:"Your device doesn't support geolocation."}));return}navigator.geolocation.getCurrentPosition(V=>{if(!M)return;Yue(V.coords.latitude,V.coords.longitude,Hue,Gue)<=Kue?e("valid"):(e("invalid"),Ft({title:"Location Error",description:`You must be at ${kp} to check in/out.`}))},V=>{M&&(e("invalid"),Ft({title:"Location Access Denied",description:"Please enable location services to check in/out."}))})})(),()=>{M=!1}},[]);const L=async()=>{if(!i){Ft({title:"No Valid Membership",description:"You need an active paid membership to check in."});return}if(t!=="valid"){Ft({title:"Cannot Check In",description:`You must be at ${kp} to check in.`});return}n(!0);try{const{data:{user:M}}=await Se.auth.getUser();if(!M)throw new Error("Not authenticated");const{error:$}=await Se.from("check_ins").insert([{user_id:M.id,check_in_time:new Date().toISOString(),location:kp}]);if($)throw $;A(xa.bookingCreated("Check-in")),await P()}catch(M){Ft({title:"Error",description:M.message})}finally{setTimeout(()=>n(!1),1e3)}},T=async()=>{if(!i){Ft({title:"No Valid Membership",description:"You need an active paid membership to check out."});return}if(t!=="valid"){Ft({title:"Cannot Check Out",description:`You must be at ${kp} to check out.`});return}n(!0);try{const{data:{user:M}}=await Se.auth.getUser();if(!M)throw new Error("Not authenticated");const{data:$,error:V}=await Se.from("check_ins").select("id").eq("user_id",M.id).is("check_out_time",null).order("check_in_time",{ascending:!1}).limit(1);if(V)throw V;if(!$||$.length===0){Ft({title:"No Check-In Found",description:"You don't have an active check-in to check out from."});return}const{error:K}=await Se.from("check_ins").update({check_out_time:new Date().toISOString()}).eq("id",$[0].id);if(K)throw K;A(xa.bookingCancelled()),await P()}catch(M){Ft({title:"Error",description:M.message})}finally{setTimeout(()=>n(!1),1e3)}},D=M=>{if(!xy(M)){Ft({title:"QR Code Expired",description:"This QR code has expired. Please generate a new one."});return}if(C&&M.action!=="entry"){Ft({title:"Invalid QR Code",description:"This QR code is for check-out, not check-in."});return}if(R&&M.action!=="exit"){Ft({title:"Invalid QR Code",description:"This QR code is for check-in, not check-out."});return}M.action==="entry"?L():T(),h(!1)};return w||a?o.jsx("div",{className:"min-h-screen bg-gradient-hero flex items-center justify-center p-6",children:o.jsx(Xe,{className:"w-full max-w-md shadow-lg",children:o.jsx(Ze,{className:"p-6 text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})})}):o.jsx("div",{className:"min-h-screen bg-gradient-hero flex items-center justify-center p-6",children:o.jsxs(Xe,{className:"w-full max-w-md shadow-lg",children:[!a&&!i&&o.jsxs(Yu,{variant:"destructive",className:"m-4",children:[o.jsx(cl,{className:"h-4 w-4"}),o.jsx(Xu,{children:"You need an active paid membership to check in/out. Please contact admin."})]}),o.jsxs(Ot,{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:`p-4 rounded-full ${C?"bg-gradient-secondary":"bg-gradient-accent"}`,children:o.jsx(cm,{className:`w-12 h-12 ${C?"text-secondary-foreground":"text-accent-foreground"}`})})}),o.jsx(Lt,{className:"text-2xl",children:C?"Check In":"Check Out"}),o.jsx(mr,{children:C?"Scan your QR code to enter the gym":"Scan your QR code to exit the gym"}),o.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4",children:[o.jsx(FB,{className:`w-4 h-4 ${t==="valid"?"text-green-500":t==="invalid"?"text-red-500":"text-muted-foreground"}`}),o.jsxs("span",{className:`text-sm ${t==="valid"?"text-green-500":t==="invalid"?"text-red-500":"text-muted-foreground"}`,children:[t==="checking"&&"Checking location...",t==="valid"&&"Location verified",t==="invalid"&&`Must be at ${kp}`]})]})]}),o.jsx(Ze,{className:"space-y-6",children:u?o.jsx(ZV,{onScan:D,onError:M=>{Ft({title:"Scanning Error",description:M})}}):o.jsxs(o.Fragment,{children:[E&&o.jsx(bO,{userId:E.id,action:C?"entry":"exit",size:250,className:"max-w-sm mx-auto"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Te,{className:`flex-1 ${C?"bg-secondary hover:bg-secondary/90":"bg-accent hover:bg-accent/90"}`,size:"lg",onClick:()=>h(!0),disabled:!i||a,children:[o.jsx(cm,{className:"w-5 h-5 mr-2"}),"Scan QR Code"]}),o.jsx(Te,{variant:"outline",className:"flex-1",size:"lg",onClick:C?L:T,disabled:t!=="valid"||r||!i||a,children:C?o.jsxs(o.Fragment,{children:[o.jsx(BB,{className:"w-5 h-5 mr-2"}),"Manual Check In"]}):o.jsxs(o.Fragment,{children:[o.jsx(pj,{className:"w-5 h-5 mr-2"}),"Manual Check Out"]})})]}),R&&o.jsxs(Yu,{className:"mt-4",children:[o.jsx(cl,{className:"h-4 w-4"}),o.jsx(Xu,{children:"You have an active check-in. Scan the exit QR code or use manual check-out to exit."})]})]})})]})})},QV=t=>{const[e,r]=j.useState(null),[n,i]=j.useState(!0),[s,a]=j.useState(null),[c,u]=j.useState([]),[h,g]=j.useState(null),v=j.useCallback(()=>{const M=new Date,$=new Date;return $.setDate($.getDate()-30),{startDate:$,endDate:M}},[]),w=j.useMemo(()=>t?.dateRange?t.dateRange:v(),[t?.dateRange?.startDate?.getTime()??null,t?.dateRange?.endDate?.getTime()??null,v]),b=j.useCallback(async()=>{try{const{count:M,error:$}=await Se.from("profiles").select("*",{count:"exact",head:!0});if($)throw $;const{data:V,error:K}=await Se.from("user_memberships").select("user_id").eq("status","active").eq("payment_status","paid").gte("end_date",new Date().toISOString());if(K)throw K;const z=new Set(V?.map(se=>se.user_id)||[]).size,Z=new Date;Z.setDate(1),Z.setHours(0,0,0,0);const{count:W,error:G}=await Se.from("profiles").select("*",{count:"exact",head:!0}).gte("created_at",Z.toISOString());if(G)throw G;const J=new Date(Z);J.setMonth(J.getMonth()-1);const ie=new Date(Z);ie.setMilliseconds(ie.getMilliseconds()-1);const{count:ne,error:ee}=await Se.from("profiles").select("*",{count:"exact",head:!0}).gte("created_at",J.toISOString()).lte("created_at",ie.toISOString());if(ee)throw ee;const de=ne&&ne>0?((W||0)-ne)/ne*100:0;return{totalMembers:M||0,activeMembers:z,growthThisMonth:W||0,growthPercentage:Math.round(de*10)/10}}catch(M){throw console.error("Error fetching member growth:",M),M}},[]),A=j.useCallback(async()=>{try{const{startDate:M,endDate:$}=w,{data:V,error:K}=await Se.from("class_bookings").select("*, class_sessions(start_time, end_time)").gte("created_at",M.toISOString()).lte("created_at",$.toISOString()).in("status",["booked","confirmed"]);if(K)throw K;if(!V||V.length===0)return 0;const H=new Date,z=V.filter(ie=>{const ne=ie.class_sessions;return ne?.start_time?new Date(ne.start_time)<H:!1});if(z.length===0)return 0;const{data:Z,error:W}=await Se.from("class_bookings").select("id").in("id",z.map(ie=>ie.id)).eq("status","attended");if(W)throw W;const J=(Z?.length||0)/z.length*100;return Math.round(J*10)/10}catch(M){return console.error("Error fetching class attendance:",M),0}},[w]),E=j.useCallback(async()=>{try{const M=new Date,$=new Date(M);$.setDate($.getDate()-7);const{data:V,error:K}=await Se.from("check_ins").select("user_id").gte("check_in_time",$.toISOString());if(K)throw K;const z=new Set(V?.map(le=>le.user_id)||[]).size,Z=new Date(M);Z.setMonth(Z.getMonth()-1);const{data:W,error:G}=await Se.from("check_ins").select("user_id").gte("check_in_time",Z.toISOString());if(G)throw G;const ie=new Set(W?.map(le=>le.user_id)||[]).size,{data:ne,error:ee}=await Se.from("user_memberships").select("user_id").eq("status","active").eq("payment_status","paid").gte("end_date",M.toISOString());if(ee)throw ee;const se=new Set(ne?.map(le=>le.user_id)||[]).size;return{thisWeek:z,thisMonth:ie,total:se}}catch(M){throw console.error("Error fetching active users:",M),M}},[]),C=j.useCallback(async()=>{try{const{startDate:M,endDate:$}=w,{data:V,error:K}=await Se.from("check_ins").select("check_in_time, user_id").gte("check_in_time",M.toISOString()).lte("check_in_time",$.toISOString()).order("check_in_time",{ascending:!0});if(K)throw K;if(!V||V.length===0)return[];const H=new Map;return V.forEach(Z=>{const W=new Date(Z.check_in_time).toISOString().split("T")[0];H.has(W)||H.set(W,{visitCount:0,uniqueVisitors:new Set});const G=H.get(W);G.visitCount++,G.uniqueVisitors.add(Z.user_id)}),Array.from(H.entries()).map(([Z,W])=>({date:Z,visit_count:W.visitCount,unique_visitors:W.uniqueVisitors.size})).sort((Z,W)=>Z.date.localeCompare(W.date))}catch(M){return console.error("Error fetching visit trends:",M),[]}},[w]),R=j.useCallback(async()=>{try{const{startDate:M,endDate:$}=w,{data:V,error:K}=await Se.from("class_bookings").select("*, class_sessions(id, name, class_id, start_time)").gte("created_at",M.toISOString()).lte("created_at",$.toISOString()).in("status",["booked","confirmed","attended"]);if(K)throw K;if(!V||V.length===0)return[];const H=new Map;V.forEach(W=>{const G=W.class_sessions,J=G?.class_id||G?.id||"unknown",ie=G?.name||"Unknown Class";H.has(J)||H.set(J,{classId:J,className:ie,totalBookings:0,attendedCount:0,category:"General"});const ne=H.get(J);ne.totalBookings++,W.status==="attended"&&ne.attendedCount++});const z=Array.from(H.keys()).filter(W=>W!=="unknown");if(z.length>0){const{data:W,error:G}=await Se.from("classes").select("id, category").in("id",z);!G&&W&&W.forEach(J=>{const ie=H.get(J.id);ie&&(ie.category=J.category||"General")})}return Array.from(H.values()).map(W=>({class_id:W.classId,class_name:W.className,total_bookings:W.totalBookings,attendance_rate:W.totalBookings>0?Math.round(W.attendedCount/W.totalBookings*100*10)/10:0,category:W.category})).sort((W,G)=>G.total_bookings-W.total_bookings)}catch(M){return console.error("Error fetching class popularity:",M),[]}},[w]),I=j.useCallback(async()=>{try{const{startDate:M,endDate:$}=w,{data:V,error:K}=await Se.from("user_memberships").select("*, memberships(price)").eq("payment_status","paid").gte("created_at",M.toISOString()).lte("created_at",$.toISOString());if(K)throw K;if(!V||V.length===0)return[];const H=new Map;return V.forEach(Z=>{const W=new Date(Z.created_at),G=`${W.getFullYear()}-${String(W.getMonth()+1).padStart(2,"0")}`;H.has(G)||H.set(G,{revenue:0,newMembers:0,renewals:0});const J=H.get(G),ie=Z.memberships?.price||0;J.revenue+=Number(ie),J.newMembers++}),Array.from(H.entries()).map(([Z,W])=>({period:Z,revenue:Math.round(W.revenue*100)/100,new_members:W.newMembers,renewals:W.renewals})).sort((Z,W)=>Z.period.localeCompare(W.period))}catch(M){return console.error("Error fetching revenue data:",M),[]}},[w]),P=j.useCallback(async()=>{try{const M=new Date().toISOString(),{count:$,error:V}=await Se.from("user_memberships").select("*",{count:"exact",head:!0}).eq("status","active").eq("payment_status","paid").gte("end_date",M);if(V)throw V;const{count:K,error:H}=await Se.from("user_memberships").select("*",{count:"exact",head:!0}).eq("status","expired").or("end_date.lt."+M);if(H)throw H;const{count:z,error:Z}=await Se.from("user_memberships").select("*",{count:"exact",head:!0}).eq("status","cancelled");if(Z)throw Z;return{active:$||0,inactive:K||0,suspended:z||0}}catch(M){return console.error("Error fetching membership breakdown:",M),{active:0,inactive:0,suspended:0}}},[]),L=j.useCallback(async()=>{try{const{count:M,error:$}=await Se.from("reward_claims").select("*",{count:"exact",head:!0});if($)throw $;return M||0}catch(M){return console.error("Error fetching rewards claimed:",M),0}},[]),T=j.useCallback(async()=>{try{i(!0),a(null);const[M,$,V,K,H,z,Z,W]=await Promise.all([b(),A(),E(),C(),R(),P(),I(),L()]),G=new Date;G.setHours(0,0,0,0);const J=new Date(G);J.setDate(J.getDate()+1);const{count:ie,error:ne}=await Se.from("check_ins").select("*",{count:"exact",head:!0}).gte("check_in_time",G.toISOString()).lt("check_in_time",J.toISOString());if(ne)throw ne;const{count:ee,error:de}=await Se.from("class_bookings").select("*",{count:"exact",head:!0}).in("status",["booked","confirmed"]);if(de)throw de;const se={total_members:M.totalMembers,active_members:M.activeMembers,total_visits_today:ie||0,total_bookings:ee||0,total_rewards_claimed:W,popular_classes:H,visit_trends:K,membership_breakdown:z};r(se),u(Z),g(M)}catch(M){console.error("Error fetching analytics:",M),a(M.message||"Failed to fetch analytics data"),r(null)}finally{i(!1)}},[b,A,E,C,R,P,I,L]);j.useEffect(()=>{T()},[T]);const D=j.useCallback(()=>{T()},[T]);return{data:e,revenueData:c,memberGrowth:h,loading:n,error:s,refresh:D,fetchMemberGrowth:b,fetchClassAttendance:A,fetchActiveUsers:E,fetchVisitTrends:C,fetchClassPopularity:R,fetchRevenueData:I,fetchMembershipBreakdown:P}},Zue=()=>{const{data:t,memberGrowth:e,revenueData:r,loading:n,refresh:i}=QV(),[s,a]=j.useState([]),[c,u]=j.useState([]),[h,g]=j.useState(0),[v,w]=j.useState(!0);return j.useEffect(()=>{(async()=>{try{w(!0);const{data:A,error:E}=await Se.from("check_ins").select("*, profiles(full_name)").order("check_in_time",{ascending:!1}).limit(5);if(E)throw E;const{data:C,error:R}=await Se.from("class_bookings").select("*, class_sessions(name, start_time), profiles(full_name)").order("created_at",{ascending:!1}).limit(5);if(R)throw R;a(A||[]),u(C||[])}catch(A){console.error("Error fetching recent activity:",A)}finally{w(!1)}})()},[]),j.useEffect(()=>{if(r&&r.length>0){const b=at(new Date,"yyyy-MM"),A=r.find(E=>E.period===b);g(A?.revenue||0)}},[r]),n?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx(Ea,{size:"lg",text:"Loading dashboard..."})}):o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"container mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),o.jsxs(Te,{onClick:i,variant:"outline",size:"sm",disabled:n,children:[n?o.jsx(Bi,{className:"mr-2 h-4 w-4 animate-spin"}):o.jsx(zu,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6 mb-8",children:[o.jsx(Pp,{title:"Total Members",value:t?.total_members?.toString()||"0",icon:o.jsx(wl,{className:"w-5 h-5 text-primary"}),trend:e?`${e.growthThisMonth} new this month`:"Loading..."}),o.jsx(Pp,{title:"Active Bookings",value:t?.total_bookings?.toString()||"0",icon:o.jsx(ei,{className:"w-5 h-5 text-secondary"}),trend:"Active bookings"}),o.jsx(Pp,{title:"Monthly Revenue",value:`${h.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:o.jsx(oY,{className:"w-5 h-5 text-success"}),trend:at(new Date,"MMMM yyyy")}),o.jsx(Pp,{title:"Visits Today",value:t?.total_visits_today?.toString()||"0",icon:o.jsx(kf,{className:"w-5 h-5 text-accent"}),trend:"Check-ins today"}),o.jsx(Pp,{title:"Rewards Claimed",value:t?.total_rewards_claimed?.toString()||"0",icon:o.jsx(P1,{className:"w-5 h-5 text-primary"}),trend:"Total claimed"})]}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[o.jsxs(Xe,{children:[o.jsx(Ot,{children:o.jsx(Lt,{children:"Recent Activity"})}),o.jsx(Ze,{children:v?o.jsx("p",{className:"text-muted-foreground",children:"Loading activity..."}):s.length===0&&c.length===0?o.jsx("p",{className:"text-muted-foreground",children:"No recent activity"}):o.jsxs("div",{className:"space-y-3",children:[s.map(b=>o.jsx("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted",children:o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm font-medium",children:[b.profiles?.full_name||"User"," checked in"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:at(new Date(b.check_in_time),"MMM d, yyyy 'at' h:mm a")})]})},b.id)),c.map(b=>o.jsx("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted",children:o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm font-medium",children:[b.profiles?.full_name||"User"," booked ",b.class_sessions?.name||"a class"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:at(new Date(b.created_at),"MMM d, yyyy 'at' h:mm a")})]})},b.id))]})})]}),o.jsxs(Xe,{children:[o.jsx(Ot,{children:o.jsx(Lt,{children:"Popular Classes"})}),o.jsx(Ze,{children:!t?.popular_classes||t.popular_classes.length===0?o.jsx("p",{className:"text-muted-foreground",children:"No class data available"}):o.jsx("div",{className:"space-y-2",children:t.popular_classes.slice(0,5).map((b,A)=>o.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:["#",A+1]}),o.jsx("span",{className:"text-sm font-medium",children:b.class_name})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("span",{className:"text-sm text-muted-foreground",children:[b.total_bookings," bookings"]}),o.jsxs("span",{className:"text-sm font-semibold",children:[b.attendance_rate,"% attendance"]})]})]},b.class_id))})})]})]})]})})},Pp=({title:t,value:e,icon:r,trend:n})=>o.jsx(Xe,{children:o.jsxs(Ze,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:t}),r]}),o.jsx("div",{className:"text-2xl font-bold mb-1",children:e}),o.jsx("p",{className:"text-xs text-muted-foreground",children:n})]})}),Pc=j.forwardRef(({className:t,...e},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:De("w-full caption-bottom text-sm",t),...e})}));Pc.displayName="Table";const Ic=j.forwardRef(({className:t,...e},r)=>o.jsx("thead",{ref:r,className:De("[&_tr]:border-b",t),...e}));Ic.displayName="TableHeader";const Rc=j.forwardRef(({className:t,...e},r)=>o.jsx("tbody",{ref:r,className:De("[&_tr:last-child]:border-0",t),...e}));Rc.displayName="TableBody";const Que=j.forwardRef(({className:t,...e},r)=>o.jsx("tfoot",{ref:r,className:De("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Que.displayName="TableFooter";const Zi=j.forwardRef(({className:t,...e},r)=>o.jsx("tr",{ref:r,className:De("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));Zi.displayName="TableRow";const Kt=j.forwardRef(({className:t,...e},r)=>o.jsx("th",{ref:r,className:De("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Kt.displayName="TableHead";const Ht=j.forwardRef(({className:t,...e},r)=>o.jsx("td",{ref:r,className:De("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Ht.displayName="TableCell";const Jue=j.forwardRef(({className:t,...e},r)=>o.jsx("caption",{ref:r,className:De("mt-4 text-sm text-muted-foreground",t),...e}));Jue.displayName="TableCaption";var vx="Checkbox",[ede]=Ji(vx),[tde,DO]=ede(vx);function rde(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:i,disabled:s,form:a,name:c,onCheckedChange:u,required:h,value:g="on",internal_do_not_use_render:v}=t,[w,b]=Za({prop:r,defaultProp:i??!1,onChange:u,caller:vx}),[A,E]=j.useState(null),[C,R]=j.useState(null),I=j.useRef(!1),P=A?!!a||!!A.closest("form"):!0,L={checked:w,disabled:s,setChecked:b,control:A,setControl:E,name:c,form:a,value:g,hasConsumerStoppedPropagationRef:I,required:h,defaultChecked:yc(i)?!1:i,isFormControl:P,bubbleInput:C,setBubbleInput:R};return o.jsx(tde,{scope:e,...L,children:nde(v)?v(L):n})}var JV="CheckboxTrigger",eq=j.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},i)=>{const{control:s,value:a,disabled:c,checked:u,required:h,setControl:g,setChecked:v,hasConsumerStoppedPropagationRef:w,isFormControl:b,bubbleInput:A}=DO(JV,t),E=br(i,g),C=j.useRef(u);return j.useEffect(()=>{const R=s?.form;if(R){const I=()=>v(C.current);return R.addEventListener("reset",I),()=>R.removeEventListener("reset",I)}},[s,v]),o.jsx(Tt.button,{type:"button",role:"checkbox","aria-checked":yc(u)?"mixed":u,"aria-required":h,"data-state":sq(u),"data-disabled":c?"":void 0,disabled:c,value:a,...n,ref:E,onKeyDown:ot(e,R=>{R.key==="Enter"&&R.preventDefault()}),onClick:ot(r,R=>{v(I=>yc(I)?!0:!I),A&&b&&(w.current=R.isPropagationStopped(),w.current||R.stopPropagation())})})});eq.displayName=JV;var LO=j.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:a,disabled:c,value:u,onCheckedChange:h,form:g,...v}=t;return o.jsx(rde,{__scopeCheckbox:r,checked:i,defaultChecked:s,disabled:c,required:a,onCheckedChange:h,name:n,form:g,value:u,internal_do_not_use_render:({isFormControl:w})=>o.jsxs(o.Fragment,{children:[o.jsx(eq,{...v,ref:e,__scopeCheckbox:r}),w&&o.jsx(iq,{__scopeCheckbox:r})]})})});LO.displayName=vx;var tq="CheckboxIndicator",rq=j.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,s=DO(tq,r);return o.jsx(js,{present:n||yc(s.checked)||s.checked===!0,children:o.jsx(Tt.span,{"data-state":sq(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});rq.displayName=tq;var nq="CheckboxBubbleInput",iq=j.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:a,required:c,disabled:u,name:h,value:g,form:v,bubbleInput:w,setBubbleInput:b}=DO(nq,t),A=br(r,b),E=TO(s),C=Cj(n);j.useEffect(()=>{const I=w;if(!I)return;const P=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(P,"checked").set,D=!i.current;if(E!==s&&T){const M=new Event("click",{bubbles:D});I.indeterminate=yc(s),T.call(I,yc(s)?!1:s),I.dispatchEvent(M)}},[w,E,s,i]);const R=j.useRef(yc(s)?!1:s);return o.jsx(Tt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??R.current,required:c,disabled:u,name:h,value:g,form:v,...e,tabIndex:-1,ref:A,style:{...e.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});iq.displayName=nq;function nde(t){return typeof t=="function"}function yc(t){return t==="indeterminate"}function sq(t){return yc(t)?"indeterminate":t?"checked":"unchecked"}const LA=j.forwardRef(({className:t,...e},r)=>o.jsx(LO,{ref:r,className:De("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(rq,{className:De("flex items-center justify-center text-current"),children:o.jsx(hj,{className:"h-4 w-4"})})}));LA.displayName=LO.displayName;const ide=()=>{const{isAdmin:t,isLoading:e}=MU(),r=ii();Bn();const[n,i]=j.useState([]),[s,a]=j.useState(!0),[c,u]=j.useState(""),[h,g]=j.useState("all"),[v,w]=j.useState("all"),[b,A]=j.useState(new Set),[E,C]=j.useState(!1),[R,I]=j.useState(null),[P,L]=j.useState("member"),[T,D]=j.useState(!1),[M,$]=j.useState(null),[V,K]=j.useState([]);j.useEffect(()=>{!e&&!t&&r("/admin")},[t,e,r]),j.useEffect(()=>{t&&H()},[t]);const H=async()=>{try{a(!0);const{data:ee,error:de}=await Se.from("profiles").select("*").order("created_at",{ascending:!1});if(de)throw de;const{data:se,error:le}=await Se.from("user_roles").select("user_id, role");if(le)throw le;const{data:me,error:pe}=await Se.from("user_memberships").select("user_id, status, end_date").order("created_at",{ascending:!1});if(pe)throw pe;const{data:Re,error:_e}=await Se.from("check_ins").select("user_id, check_in_time").order("check_in_time",{ascending:!1});if(_e)throw _e;const{data:we,error:Le}=await Se.from("class_bookings").select("user_id, created_at").order("created_at",{ascending:!1});if(Le)throw Le;const je=ee.map(Fe=>{const We=se.find(dt=>dt.user_id===Fe.id)?.role||"member",Oe=me?.find(dt=>dt.user_id===Fe.id),et=Re?.filter(dt=>dt.user_id===Fe.id)[0],Ue=we?.filter(dt=>dt.user_id===Fe.id)[0],st=et||Ue?new Date(et&&Ue?new Date(et.check_in_time)>new Date(Ue.created_at)?et.check_in_time:Ue.created_at:et?.check_in_time||Ue?.created_at||"").toISOString():void 0;let Et="none";return Oe&&(Oe.status==="active"&&new Date(Oe.end_date)>new Date?Et="active":Et="expired"),{...Fe,role:We,membership_status:Et,last_activity:st,total_visits:Re?.filter(dt=>dt.user_id===Fe.id).length||0,total_bookings:we?.filter(dt=>dt.user_id===Fe.id).length||0}});i(je)}catch(ee){console.error("Error fetching users:",ee),Ft({title:"Error loading users",description:ee.message})}finally{a(!1)}},z=j.useMemo(()=>n.filter(ee=>{const de=c===""||ee.full_name?.toLowerCase().includes(c.toLowerCase())||ee.id.toLowerCase().includes(c.toLowerCase())||ee.phone?.toLowerCase().includes(c.toLowerCase()),se=h==="all"||ee.role===h,le=v==="all"||ee.membership_status===v;return de&&se&&le}),[n,c,h,v]),Z=ee=>{const de=new Set(b);de.has(ee)?de.delete(ee):de.add(ee),A(de)},W=()=>{b.size===z.length?A(new Set):A(new Set(z.map(ee=>ee.id)))},G=async(ee,de)=>{try{const{data:se}=await Se.from("user_roles").select("id").eq("user_id",ee).single();if(se){const{error:le}=await Se.from("user_roles").update({role:de}).eq("user_id",ee);if(le)throw le}else{const{error:le}=await Se.from("user_roles").insert([{user_id:ee,role:de}]);if(le)throw le}Jn(`User role updated to ${de}`),await H(),C(!1),I(null)}catch(se){console.error("Error updating role:",se),Ft({title:"Error updating role",description:se.message})}},J=async ee=>{try{const de=Array.from(b).map(async se=>{const{data:le}=await Se.from("user_roles").select("id").eq("user_id",se).single();return le?Se.from("user_roles").update({role:ee}).eq("user_id",se):Se.from("user_roles").insert([{user_id:se,role:ee}])});await Promise.all(de),Jn(`Updated ${b.size} user(s) to ${ee}`),A(new Set),await H()}catch(de){console.error("Error bulk updating roles:",de),Ft({title:"Error updating roles",description:de.message})}},ie=async ee=>{try{Ft({title:"Not implemented",description:"User suspension feature requires additional database fields."})}catch(de){console.error("Error suspending user:",de),Ft({title:"Error suspending user",description:de.message})}},ne=async ee=>{$(ee),D(!0);try{const[de,se]=await Promise.all([Se.from("check_ins").select("check_in_time, check_out_time, location").eq("user_id",ee.id).order("check_in_time",{ascending:!1}).limit(20),Se.from("class_bookings").select("*, class_sessions(name, start_time)").eq("user_id",ee.id).order("created_at",{ascending:!1}).limit(20)]);if(de.error)throw de.error;if(se.error)throw se.error;const le=[...(de.data||[]).map(me=>({type:"check-in",date:me.check_in_time,description:`Checked in at ${me.location||"Main Gym"}`})),...(se.data||[]).map(me=>({type:"booking",date:me.created_at,description:`Booked ${me.class_sessions?.name||"Class"}`}))].sort((me,pe)=>new Date(pe.date).getTime()-new Date(me.date).getTime());K(le)}catch(de){console.error("Error fetching activity:",de),Ft({title:"Error loading activity",description:de.message})}};return e||!t?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsx(Ea,{size:"lg",text:"Loading..."})}):s?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsx(Ea,{size:"lg",text:"Loading users..."})}):o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"container mx-auto max-w-7xl",children:[o.jsx("div",{className:"flex items-center justify-between mb-8",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"User Management"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage users, roles, and permissions"})]})}),o.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-6",children:[o.jsx(Xe,{className:"md:col-span-2",children:o.jsx(Ze,{className:"p-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(mj,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(Nt,{placeholder:"Search by name, ID, or phone...",className:"pl-10",value:c,onChange:ee=>u(ee.target.value)})]})})}),o.jsx(Xe,{children:o.jsx(Ze,{className:"p-4",children:o.jsxs(_n,{value:h,onValueChange:g,children:[o.jsx(dn,{children:o.jsx(Sn,{placeholder:"Filter by role"})}),o.jsxs(fn,{children:[o.jsx(bt,{value:"all",children:"All Roles"}),o.jsx(bt,{value:"admin",children:"Admin"}),o.jsx(bt,{value:"staff",children:"Staff"}),o.jsx(bt,{value:"member",children:"Member"})]})]})})}),o.jsx(Xe,{children:o.jsx(Ze,{className:"p-4",children:o.jsxs(_n,{value:v,onValueChange:w,children:[o.jsx(dn,{children:o.jsx(Sn,{placeholder:"Filter by status"})}),o.jsxs(fn,{children:[o.jsx(bt,{value:"all",children:"All Status"}),o.jsx(bt,{value:"active",children:"Active Membership"}),o.jsx(bt,{value:"expired",children:"Expired Membership"}),o.jsx(bt,{value:"none",children:"No Membership"})]})]})})})]}),b.size>0&&o.jsx(Xe,{className:"mb-6",children:o.jsx(Ze,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("span",{className:"text-sm font-medium",children:[b.size," user(s) selected"]}),o.jsx("div",{className:"flex gap-2",children:o.jsxs(_n,{value:"",onValueChange:ee=>{ee&&J(ee)},children:[o.jsx(dn,{className:"w-[180px]",children:o.jsx(Sn,{placeholder:"Change role..."})}),o.jsxs(fn,{children:[o.jsx(bt,{value:"admin",children:"Set as Admin"}),o.jsx(bt,{value:"staff",children:"Set as Staff"}),o.jsx(bt,{value:"member",children:"Set as Member"})]})]})})]}),o.jsx(Te,{variant:"outline",size:"sm",onClick:()=>A(new Set),children:"Clear Selection"})]})})}),o.jsxs(Xe,{children:[o.jsx(Ot,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(Lt,{children:["All Users (",z.length,")"]}),o.jsx(mr,{children:b.size>0&&`${b.size} selected`})]}),o.jsx(Te,{variant:"outline",size:"sm",onClick:W,children:b.size===z.length?o.jsxs(o.Fragment,{children:[o.jsx(yY,{className:"w-4 h-4 mr-2"}),"Deselect All"]}):o.jsxs(o.Fragment,{children:[o.jsx(xY,{className:"w-4 h-4 mr-2"}),"Select All"]})})]})}),o.jsx(Ze,{children:z.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-muted-foreground",children:"No users found"})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Pc,{children:[o.jsx(Ic,{children:o.jsxs(Zi,{children:[o.jsx(Kt,{className:"w-12",children:o.jsx(LA,{checked:b.size===z.length&&z.length>0,onCheckedChange:W})}),o.jsx(Kt,{children:"User"}),o.jsx(Kt,{children:"Role"}),o.jsx(Kt,{children:"Membership"}),o.jsx(Kt,{children:"Activity"}),o.jsx(Kt,{children:"Stats"}),o.jsx(Kt,{className:"text-right",children:"Actions"})]})}),o.jsx(Rc,{children:z.map(ee=>o.jsxs(Zi,{children:[o.jsx(Ht,{children:o.jsx(LA,{checked:b.has(ee.id),onCheckedChange:()=>Z(ee.id)})}),o.jsx(Ht,{children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:ee.full_name||"No name"}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",ee.id.slice(0,8),"..."]}),ee.phone&&o.jsx("div",{className:"text-xs text-muted-foreground",children:ee.phone})]})}),o.jsx(Ht,{children:o.jsxs(cr,{variant:ee.role==="admin"?"destructive":ee.role==="staff"?"default":"secondary",children:[ee.role==="admin"&&o.jsx($B,{className:"w-3 h-3 mr-1"}),ee.role==="staff"&&o.jsx(bf,{className:"w-3 h-3 mr-1"}),ee.role==="member"&&o.jsx(bf,{className:"w-3 h-3 mr-1"}),ee.role]})}),o.jsx(Ht,{children:o.jsx(cr,{variant:ee.membership_status==="active"?"default":ee.membership_status==="expired"?"destructive":"secondary",children:ee.membership_status||"none"})}),o.jsx(Ht,{children:ee.last_activity?o.jsx("div",{className:"text-sm",children:o.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[o.jsx(ul,{className:"w-3 h-3"}),at(new Date(ee.last_activity),"MMM d, yyyy")]})}):o.jsx("span",{className:"text-sm text-muted-foreground",children:"No activity"})}),o.jsx(Ht,{children:o.jsxs("div",{className:"text-sm space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(iI,{className:"w-3 h-3 text-muted-foreground"}),o.jsxs("span",{children:[ee.total_visits||0," visits"]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ei,{className:"w-3 h-3 text-muted-foreground"}),o.jsxs("span",{children:[ee.total_bookings||0," bookings"]})]})]})}),o.jsx(Ht,{className:"text-right",children:o.jsxs(LF,{children:[o.jsx(BF,{asChild:!0,children:o.jsx(Te,{variant:"ghost",size:"sm",children:o.jsx(cY,{className:"w-4 h-4"})})}),o.jsxs(zj,{align:"end",children:[o.jsx(Hj,{children:"Actions"}),o.jsxs(fc,{onClick:()=>ne(ee),children:[o.jsx(iI,{className:"w-4 h-4 mr-2"}),"View Activity"]}),o.jsxs(fc,{onClick:()=>{I(ee),L(ee.role),C(!0)},children:[o.jsx(wh,{className:"w-4 h-4 mr-2"}),"Edit Role"]}),o.jsx(iy,{}),o.jsxs(fc,{onClick:()=>r(`/profile?id=${ee.id}`),children:[o.jsx(bf,{className:"w-4 h-4 mr-2"}),"View Profile"]}),o.jsxs(fc,{onClick:()=>ie(ee.id),className:"text-destructive",children:[o.jsx(EY,{className:"w-4 h-4 mr-2"}),"Suspend User"]})]})]})})]},ee.id))})]})})})]}),o.jsx(Xs,{open:E,onOpenChange:C,children:o.jsxs(Ss,{children:[o.jsxs(Es,{children:[o.jsx(Cs,{children:"Edit User Role"}),o.jsxs(Zs,{children:["Change the role for ",R?.full_name||`User ${R?.id.slice(0,8)}`]})]}),o.jsx("div",{className:"space-y-4 py-4",children:o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:"Role"}),o.jsxs(_n,{value:P,onValueChange:ee=>L(ee),children:[o.jsx(dn,{className:"mt-2",children:o.jsx(Sn,{})}),o.jsxs(fn,{children:[o.jsx(bt,{value:"member",children:"Member"}),o.jsx(bt,{value:"staff",children:"Staff"}),o.jsx(bt,{value:"admin",children:"Admin"})]})]})]})}),o.jsxs(wa,{children:[o.jsx(Te,{variant:"outline",onClick:()=>C(!1),children:"Cancel"}),o.jsx(Te,{onClick:()=>R&&G(R.id,P),children:"Save Changes"})]})]})}),o.jsx(Xs,{open:T,onOpenChange:D,children:o.jsxs(Ss,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[o.jsxs(Es,{children:[o.jsxs(Cs,{children:["Activity History - ",M?.full_name||`User ${M?.id.slice(0,8)}`]}),o.jsx(Zs,{children:"Recent check-ins and bookings"})]}),o.jsx("div",{className:"space-y-4 py-4",children:V.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No activity found"}):o.jsx("div",{className:"space-y-2",children:V.map((ee,de)=>o.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border bg-muted/30",children:[o.jsx("div",{className:`p-2 rounded-full ${ee.type==="check-in"?"bg-success/20":"bg-primary/20"}`,children:ee.type==="check-in"?o.jsx(SY,{className:"w-4 h-4 text-success"}):o.jsx(ei,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-sm",children:ee.description}),o.jsx("p",{className:"text-xs text-muted-foreground",children:at(new Date(ee.date),"MMM d, yyyy 'at' h:mm a")})]})]},de))})}),o.jsx(wa,{children:o.jsx(Te,{onClick:()=>D(!1),children:"Close"})})]})})]})})};var Xt=function(){return Xt=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Xt.apply(this,arguments)};function sde(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function aq(t,e,r){for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function Ig(t){return t.mode==="multiple"}function Rg(t){return t.mode==="range"}function yx(t){return t.mode==="single"}var ade={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function ode(t,e){return at(t,"LLLL y",e)}function lde(t,e){return at(t,"d",e)}function cde(t,e){return at(t,"LLLL",e)}function ude(t){return"".concat(t)}function dde(t,e){return at(t,"cccccc",e)}function fde(t,e){return at(t,"yyyy",e)}var hde=Object.freeze({__proto__:null,formatCaption:ode,formatDay:lde,formatMonthCaption:cde,formatWeekNumber:ude,formatWeekdayName:dde,formatYearCaption:fde}),pde=function(t,e,r){return at(t,"do MMMM (EEEE)",r)},mde=function(){return"Month: "},gde=function(){return"Go to next month"},vde=function(){return"Go to previous month"},yde=function(t,e){return at(t,"cccc",e)},xde=function(t){return"Week n. ".concat(t)},wde=function(){return"Year: "},bde=Object.freeze({__proto__:null,labelDay:pde,labelMonthDropdown:mde,labelNext:gde,labelPrevious:vde,labelWeekNumber:xde,labelWeekday:yde,labelYearDropdown:wde});function _de(){var t="buttons",e=ade,r=w$,n={},i={},s=1,a={},c=new Date;return{captionLayout:t,classNames:e,formatters:hde,labels:bde,locale:r,modifiersClassNames:n,modifiers:i,numberOfMonths:s,styles:a,today:c,mode:"default"}}function Sde(t){var e=t.fromYear,r=t.toYear,n=t.fromMonth,i=t.toMonth,s=t.fromDate,a=t.toDate;return n?s=Hn(n):e&&(s=new Date(e,0,1)),i?a=Ah(i):r&&(a=new Date(r,11,31)),{fromDate:s?Qu(s):void 0,toDate:a?Qu(a):void 0}}var oq=j.createContext(void 0);function Ede(t){var e,r=t.initialProps,n=_de(),i=Sde(r),s=i.fromDate,a=i.toDate,c=(e=r.captionLayout)!==null&&e!==void 0?e:n.captionLayout;c!=="buttons"&&(!s||!a)&&(c="buttons");var u;(yx(r)||Ig(r)||Rg(r))&&(u=r.onSelect);var h=Xt(Xt(Xt({},n),r),{captionLayout:c,classNames:Xt(Xt({},n.classNames),r.classNames),components:Xt({},r.components),formatters:Xt(Xt({},n.formatters),r.formatters),fromDate:s,labels:Xt(Xt({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Xt(Xt({},n.modifiers),r.modifiers),modifiersClassNames:Xt(Xt({},n.modifiersClassNames),r.modifiersClassNames),onSelect:u,styles:Xt(Xt({},n.styles),r.styles),toDate:a});return o.jsx(oq.Provider,{value:h,children:t.children})}function pn(){var t=j.useContext(oq);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function lq(t){var e=pn(),r=e.locale,n=e.classNames,i=e.styles,s=e.formatters.formatCaption;return o.jsx("div",{className:n.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:s(t.displayMonth,{locale:r})})}function Cde(t){return o.jsx("svg",Xt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function cq(t){var e,r,n=t.onChange,i=t.value,s=t.children,a=t.caption,c=t.className,u=t.style,h=pn(),g=(r=(e=h.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:Cde;return o.jsxs("div",{className:c,style:u,children:[o.jsx("span",{className:h.classNames.vhidden,children:t["aria-label"]}),o.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:h.classNames.dropdown,style:h.styles.dropdown,value:i,onChange:n,children:s}),o.jsxs("div",{className:h.classNames.caption_label,style:h.styles.caption_label,"aria-hidden":"true",children:[a,o.jsx(g,{className:h.classNames.dropdown_icon,style:h.styles.dropdown_icon})]})]})}function Ade(t){var e,r=pn(),n=r.fromDate,i=r.toDate,s=r.styles,a=r.locale,c=r.formatters.formatMonthCaption,u=r.classNames,h=r.components,g=r.labels.labelMonthDropdown;if(!n)return o.jsx(o.Fragment,{});if(!i)return o.jsx(o.Fragment,{});var v=[];if($le(n,i))for(var w=Hn(n),b=n.getMonth();b<=i.getMonth();b++)v.push(P_(w,b));else for(var w=Hn(new Date),b=0;b<=11;b++)v.push(P_(w,b));var A=function(C){var R=Number(C.target.value),I=P_(Hn(t.displayMonth),R);t.onChange(I)},E=(e=h?.Dropdown)!==null&&e!==void 0?e:cq;return o.jsx(E,{name:"months","aria-label":g(),className:u.dropdown_month,style:s.dropdown_month,onChange:A,value:t.displayMonth.getMonth(),caption:c(t.displayMonth,{locale:a}),children:v.map(function(C){return o.jsx("option",{value:C.getMonth(),children:c(C,{locale:a})},C.getMonth())})})}function Nde(t){var e,r=t.displayMonth,n=pn(),i=n.fromDate,s=n.toDate,a=n.locale,c=n.styles,u=n.classNames,h=n.components,g=n.formatters.formatYearCaption,v=n.labels.labelYearDropdown,w=[];if(!i)return o.jsx(o.Fragment,{});if(!s)return o.jsx(o.Fragment,{});for(var b=i.getFullYear(),A=s.getFullYear(),E=b;E<=A;E++)w.push(LR(y$(new Date),E));var C=function(I){var P=LR(Hn(r),Number(I.target.value));t.onChange(P)},R=(e=h?.Dropdown)!==null&&e!==void 0?e:cq;return o.jsx(R,{name:"years","aria-label":v(),className:u.dropdown_year,style:c.dropdown_year,onChange:C,value:r.getFullYear(),caption:g(r,{locale:a}),children:w.map(function(I){return o.jsx("option",{value:I.getFullYear(),children:g(I,{locale:a})},I.getFullYear())})})}function jde(t,e){var r=j.useState(t),n=r[0],i=r[1],s=e===void 0?n:e;return[s,i]}function Ode(t){var e=t.month,r=t.defaultMonth,n=t.today,i=e||r||n||new Date,s=t.toDate,a=t.fromDate,c=t.numberOfMonths,u=c===void 0?1:c;if(s&&Am(s,i)<0){var h=-1*(u-1);i=Qi(s,h)}return a&&Am(i,a)<0&&(i=a),Hn(i)}function Tde(){var t=pn(),e=Ode(t),r=jde(e,t.month),n=r[0],i=r[1],s=function(a){var c;if(!t.disableNavigation){var u=Hn(a);i(u),(c=t.onMonthChange)===null||c===void 0||c.call(t,u)}};return[n,s]}function kde(t,e){for(var r=e.reverseMonths,n=e.numberOfMonths,i=Hn(t),s=Hn(Qi(i,n)),a=Am(s,i),c=[],u=0;u<a;u++){var h=Qi(i,u);c.push(h)}return r&&(c=c.reverse()),c}function Pde(t,e){if(!e.disableNavigation){var r=e.toDate,n=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,a=n?s:1,c=Hn(t);if(!r)return Qi(c,a);var u=Am(r,t);if(!(u<s))return Qi(c,a)}}function Ide(t,e){if(!e.disableNavigation){var r=e.fromDate,n=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,a=n?s:1,c=Hn(t);if(!r)return Qi(c,-a);var u=Am(c,r);if(!(u<=0))return Qi(c,-a)}}var uq=j.createContext(void 0);function Rde(t){var e=pn(),r=Tde(),n=r[0],i=r[1],s=kde(n,e),a=Pde(n,e),c=Ide(n,e),u=function(v){return s.some(function(w){return jh(v,w)})},h=function(v,w){u(v)||(w&&AO(v,w)?i(Qi(v,1+e.numberOfMonths*-1)):i(v))},g={currentMonth:n,displayMonths:s,goToMonth:i,goToDate:h,previousMonth:c,nextMonth:a,isDateDisplayed:u};return o.jsx(uq.Provider,{value:g,children:t.children})}function Mg(){var t=j.useContext(uq);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function e4(t){var e,r=pn(),n=r.classNames,i=r.styles,s=r.components,a=Mg().goToMonth,c=function(g){a(Qi(g,t.displayIndex?-t.displayIndex:0))},u=(e=s?.CaptionLabel)!==null&&e!==void 0?e:lq,h=o.jsx(u,{id:t.id,displayMonth:t.displayMonth});return o.jsxs("div",{className:n.caption_dropdowns,style:i.caption_dropdowns,children:[o.jsx("div",{className:n.vhidden,children:h}),o.jsx(Ade,{onChange:c,displayMonth:t.displayMonth}),o.jsx(Nde,{onChange:c,displayMonth:t.displayMonth})]})}function Mde(t){return o.jsx("svg",Xt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Dde(t){return o.jsx("svg",Xt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Ny=j.forwardRef(function(t,e){var r=pn(),n=r.classNames,i=r.styles,s=[n.button_reset,n.button];t.className&&s.push(t.className);var a=s.join(" "),c=Xt(Xt({},i.button_reset),i.button);return t.style&&Object.assign(c,t.style),o.jsx("button",Xt({},t,{ref:e,type:"button",className:a,style:c}))});function Lde(t){var e,r,n=pn(),i=n.dir,s=n.locale,a=n.classNames,c=n.styles,u=n.labels,h=u.labelPrevious,g=u.labelNext,v=n.components;if(!t.nextMonth&&!t.previousMonth)return o.jsx(o.Fragment,{});var w=h(t.previousMonth,{locale:s}),b=[a.nav_button,a.nav_button_previous].join(" "),A=g(t.nextMonth,{locale:s}),E=[a.nav_button,a.nav_button_next].join(" "),C=(e=v?.IconRight)!==null&&e!==void 0?e:Dde,R=(r=v?.IconLeft)!==null&&r!==void 0?r:Mde;return o.jsxs("div",{className:a.nav,style:c.nav,children:[!t.hidePrevious&&o.jsx(Ny,{name:"previous-month","aria-label":w,className:b,style:c.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?o.jsx(C,{className:a.nav_icon,style:c.nav_icon}):o.jsx(R,{className:a.nav_icon,style:c.nav_icon})}),!t.hideNext&&o.jsx(Ny,{name:"next-month","aria-label":A,className:E,style:c.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?o.jsx(R,{className:a.nav_icon,style:c.nav_icon}):o.jsx(C,{className:a.nav_icon,style:c.nav_icon})})]})}function t4(t){var e=pn().numberOfMonths,r=Mg(),n=r.previousMonth,i=r.nextMonth,s=r.goToMonth,a=r.displayMonths,c=a.findIndex(function(A){return jh(t.displayMonth,A)}),u=c===0,h=c===a.length-1,g=e>1&&(u||!h),v=e>1&&(h||!u),w=function(){n&&s(n)},b=function(){i&&s(i)};return o.jsx(Lde,{displayMonth:t.displayMonth,hideNext:g,hidePrevious:v,nextMonth:i,previousMonth:n,onPreviousClick:w,onNextClick:b})}function Bde(t){var e,r=pn(),n=r.classNames,i=r.disableNavigation,s=r.styles,a=r.captionLayout,c=r.components,u=(e=c?.CaptionLabel)!==null&&e!==void 0?e:lq,h;return i?h=o.jsx(u,{id:t.id,displayMonth:t.displayMonth}):a==="dropdown"?h=o.jsx(e4,{displayMonth:t.displayMonth,id:t.id}):a==="dropdown-buttons"?h=o.jsxs(o.Fragment,{children:[o.jsx(e4,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),o.jsx(t4,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):h=o.jsxs(o.Fragment,{children:[o.jsx(u,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),o.jsx(t4,{displayMonth:t.displayMonth,id:t.id})]}),o.jsx("div",{className:n.caption,style:s.caption,children:h})}function Fde(t){var e=pn(),r=e.footer,n=e.styles,i=e.classNames.tfoot;return r?o.jsx("tfoot",{className:i,style:n.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:r})})}):o.jsx(o.Fragment,{})}function Ude(t,e,r){for(var n=r?Zu(new Date):Ni(new Date,{locale:t,weekStartsOn:e}),i=[],s=0;s<7;s++){var a=Li(n,s);i.push(a)}return i}function $de(){var t=pn(),e=t.classNames,r=t.styles,n=t.showWeekNumber,i=t.locale,s=t.weekStartsOn,a=t.ISOWeek,c=t.formatters.formatWeekdayName,u=t.labels.labelWeekday,h=Ude(i,s,a);return o.jsxs("tr",{style:r.head_row,className:e.head_row,children:[n&&o.jsx("td",{style:r.head_cell,className:e.head_cell}),h.map(function(g,v){return o.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":u(g,{locale:i}),children:c(g,{locale:i})},v)})]})}function Vde(){var t,e=pn(),r=e.classNames,n=e.styles,i=e.components,s=(t=i?.HeadRow)!==null&&t!==void 0?t:$de;return o.jsx("thead",{style:n.head,className:r.head,children:o.jsx(s,{})})}function qde(t){var e=pn(),r=e.locale,n=e.formatters.formatDay;return o.jsx(o.Fragment,{children:n(t.date,{locale:r})})}var BO=j.createContext(void 0);function Wde(t){if(!Ig(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return o.jsx(BO.Provider,{value:e,children:t.children})}return o.jsx(zde,{initialProps:t.initialProps,children:t.children})}function zde(t){var e=t.initialProps,r=t.children,n=e.selected,i=e.min,s=e.max,a=function(h,g,v){var w,b;(w=e.onDayClick)===null||w===void 0||w.call(e,h,g,v);var A=!!(g.selected&&i&&n?.length===i);if(!A){var E=!!(!g.selected&&s&&n?.length===s);if(!E){var C=n?aq([],n):[];if(g.selected){var R=C.findIndex(function(I){return Jr(h,I)});C.splice(R,1)}else C.push(h);(b=e.onSelect)===null||b===void 0||b.call(e,C,h,g,v)}}},c={disabled:[]};n&&c.disabled.push(function(h){var g=s&&n.length>s-1,v=n.some(function(w){return Jr(w,h)});return!!(g&&!v)});var u={selected:n,onDayClick:a,modifiers:c};return o.jsx(BO.Provider,{value:u,children:r})}function FO(){var t=j.useContext(BO);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Hde(t,e){var r=e||{},n=r.from,i=r.to;return n&&i?Jr(i,t)&&Jr(n,t)?void 0:Jr(i,t)?{from:i,to:void 0}:Jr(n,t)?void 0:Nm(n,t)?{from:t,to:i}:{from:n,to:t}:i?Nm(t,i)?{from:i,to:t}:{from:t,to:i}:n?AO(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var UO=j.createContext(void 0);function Gde(t){if(!Rg(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(UO.Provider,{value:e,children:t.children})}return o.jsx(Kde,{initialProps:t.initialProps,children:t.children})}function Kde(t){var e=t.initialProps,r=t.children,n=e.selected,i=n||{},s=i.from,a=i.to,c=e.min,u=e.max,h=function(b,A,E){var C,R;(C=e.onDayClick)===null||C===void 0||C.call(e,b,A,E);var I=Hde(b,n);(R=e.onSelect)===null||R===void 0||R.call(e,I,b,A,E)},g={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(g.range_start=[s],a?(g.range_end=[a],Jr(s,a)||(g.range_middle=[{after:s,before:a}])):g.range_end=[s]):a&&(g.range_start=[a],g.range_end=[a]),c&&(s&&!a&&g.disabled.push({after:lc(s,c-1),before:Li(s,c-1)}),s&&a&&g.disabled.push({after:s,before:Li(s,c-1)}),!s&&a&&g.disabled.push({after:lc(a,c-1),before:Li(a,c-1)})),u){if(s&&!a&&(g.disabled.push({before:Li(s,-u+1)}),g.disabled.push({after:Li(s,u-1)})),s&&a){var v=Ya(a,s)+1,w=u-v;g.disabled.push({before:lc(s,w)}),g.disabled.push({after:Li(a,w)})}!s&&a&&(g.disabled.push({before:Li(a,-u+1)}),g.disabled.push({after:Li(a,u-1)}))}return o.jsx(UO.Provider,{value:{selected:n,onDayClick:h,modifiers:g},children:r})}function $O(){var t=j.useContext(UO);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function zv(t){return Array.isArray(t)?aq([],t):t!==void 0?[t]:[]}function Yde(t){var e={};return Object.entries(t).forEach(function(r){var n=r[0],i=r[1];e[n]=zv(i)}),e}var to;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(to||(to={}));var Xde=to.Selected,Xo=to.Disabled,Zde=to.Hidden,Qde=to.Today,R_=to.RangeEnd,M_=to.RangeMiddle,D_=to.RangeStart,Jde=to.Outside;function efe(t,e,r){var n,i=(n={},n[Xde]=zv(t.selected),n[Xo]=zv(t.disabled),n[Zde]=zv(t.hidden),n[Qde]=[t.today],n[R_]=[],n[M_]=[],n[D_]=[],n[Jde]=[],n);return t.fromDate&&i[Xo].push({before:t.fromDate}),t.toDate&&i[Xo].push({after:t.toDate}),Ig(t)?i[Xo]=i[Xo].concat(e.modifiers[Xo]):Rg(t)&&(i[Xo]=i[Xo].concat(r.modifiers[Xo]),i[D_]=r.modifiers[D_],i[M_]=r.modifiers[M_],i[R_]=r.modifiers[R_]),i}var dq=j.createContext(void 0);function tfe(t){var e=pn(),r=FO(),n=$O(),i=efe(e,r,n),s=Yde(e.modifiers),a=Xt(Xt({},i),s);return o.jsx(dq.Provider,{value:a,children:t.children})}function fq(){var t=j.useContext(dq);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function rfe(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function nfe(t){return!!(t&&typeof t=="object"&&"from"in t)}function ife(t){return!!(t&&typeof t=="object"&&"after"in t)}function sfe(t){return!!(t&&typeof t=="object"&&"before"in t)}function afe(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function ofe(t,e){var r,n=e.from,i=e.to;if(n&&i){var s=Ya(i,n)<0;s&&(r=[i,n],n=r[0],i=r[1]);var a=Ya(t,n)>=0&&Ya(i,t)>=0;return a}return i?Jr(i,t):n?Jr(n,t):!1}function lfe(t){return CO(t)}function cfe(t){return Array.isArray(t)&&t.every(CO)}function ufe(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if(lfe(r))return Jr(t,r);if(cfe(r))return r.includes(t);if(nfe(r))return ofe(t,r);if(afe(r))return r.dayOfWeek.includes(t.getDay());if(rfe(r)){var n=Ya(r.before,t),i=Ya(r.after,t),s=n>0,a=i<0,c=Nm(r.before,r.after);return c?a&&s:s||a}return ife(r)?Ya(t,r.after)>0:sfe(r)?Ya(r.before,t)>0:typeof r=="function"?r(t):!1})}function VO(t,e,r){var n=Object.keys(e).reduce(function(s,a){var c=e[a];return ufe(t,c)&&s.push(a),s},[]),i={};return n.forEach(function(s){return i[s]=!0}),r&&!jh(t,r)&&(i.outside=!0),i}function dfe(t,e){for(var r=Hn(t[0]),n=Ah(t[t.length-1]),i,s,a=r;a<=n;){var c=VO(a,e),u=!c.disabled&&!c.hidden;if(!u){a=Li(a,1);continue}if(c.selected)return a;c.today&&!s&&(s=a),i||(i=a),a=Li(a,1)}return s||i}var ffe=365;function hq(t,e){var r=e.moveBy,n=e.direction,i=e.context,s=e.modifiers,a=e.retry,c=a===void 0?{count:0,lastFocused:t}:a,u=i.weekStartsOn,h=i.fromDate,g=i.toDate,v=i.locale,w={day:Li,week:by,month:Qi,year:Ioe,startOfWeek:function(C){return i.ISOWeek?Zu(C):Ni(C,{locale:v,weekStartsOn:u})},endOfWeek:function(C){return i.ISOWeek?x$(C):bl(C,{locale:v,weekStartsOn:u})}},b=w[r](t,n==="after"?1:-1);n==="before"&&h?b=Roe([h,b]):n==="after"&&g&&(b=Moe([g,b]));var A=!0;if(s){var E=VO(b,s);A=!E.disabled&&!E.hidden}return A?b:c.count>ffe?c.lastFocused:hq(b,{moveBy:r,direction:n,context:i,modifiers:s,retry:Xt(Xt({},c),{count:c.count+1})})}var pq=j.createContext(void 0);function hfe(t){var e=Mg(),r=fq(),n=j.useState(),i=n[0],s=n[1],a=j.useState(),c=a[0],u=a[1],h=dfe(e.displayMonths,r),g=i??(c&&e.isDateDisplayed(c))?c:h,v=function(){u(i),s(void 0)},w=function(C){s(C)},b=pn(),A=function(C,R){if(i){var I=hq(i,{moveBy:C,direction:R,context:b,modifiers:r});Jr(i,I)||(e.goToDate(I,i),w(I))}},E={focusedDay:i,focusTarget:g,blur:v,focus:w,focusDayAfter:function(){return A("day","after")},focusDayBefore:function(){return A("day","before")},focusWeekAfter:function(){return A("week","after")},focusWeekBefore:function(){return A("week","before")},focusMonthBefore:function(){return A("month","before")},focusMonthAfter:function(){return A("month","after")},focusYearBefore:function(){return A("year","before")},focusYearAfter:function(){return A("year","after")},focusStartOfWeek:function(){return A("startOfWeek","before")},focusEndOfWeek:function(){return A("endOfWeek","after")}};return o.jsx(pq.Provider,{value:E,children:t.children})}function qO(){var t=j.useContext(pq);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function pfe(t,e){var r=fq(),n=VO(t,r,e);return n}var WO=j.createContext(void 0);function mfe(t){if(!yx(t.initialProps)){var e={selected:void 0};return o.jsx(WO.Provider,{value:e,children:t.children})}return o.jsx(gfe,{initialProps:t.initialProps,children:t.children})}function gfe(t){var e=t.initialProps,r=t.children,n=function(s,a,c){var u,h,g;if((u=e.onDayClick)===null||u===void 0||u.call(e,s,a,c),a.selected&&!e.required){(h=e.onSelect)===null||h===void 0||h.call(e,void 0,s,a,c);return}(g=e.onSelect)===null||g===void 0||g.call(e,s,s,a,c)},i={selected:e.selected,onDayClick:n};return o.jsx(WO.Provider,{value:i,children:r})}function mq(){var t=j.useContext(WO);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function vfe(t,e){var r=pn(),n=mq(),i=FO(),s=$O(),a=qO(),c=a.focusDayAfter,u=a.focusDayBefore,h=a.focusWeekAfter,g=a.focusWeekBefore,v=a.blur,w=a.focus,b=a.focusMonthBefore,A=a.focusMonthAfter,E=a.focusYearBefore,C=a.focusYearAfter,R=a.focusStartOfWeek,I=a.focusEndOfWeek,P=function(ie){var ne,ee,de,se;yx(r)?(ne=n.onDayClick)===null||ne===void 0||ne.call(n,t,e,ie):Ig(r)?(ee=i.onDayClick)===null||ee===void 0||ee.call(i,t,e,ie):Rg(r)?(de=s.onDayClick)===null||de===void 0||de.call(s,t,e,ie):(se=r.onDayClick)===null||se===void 0||se.call(r,t,e,ie)},L=function(ie){var ne;w(t),(ne=r.onDayFocus)===null||ne===void 0||ne.call(r,t,e,ie)},T=function(ie){var ne;v(),(ne=r.onDayBlur)===null||ne===void 0||ne.call(r,t,e,ie)},D=function(ie){var ne;(ne=r.onDayMouseEnter)===null||ne===void 0||ne.call(r,t,e,ie)},M=function(ie){var ne;(ne=r.onDayMouseLeave)===null||ne===void 0||ne.call(r,t,e,ie)},$=function(ie){var ne;(ne=r.onDayPointerEnter)===null||ne===void 0||ne.call(r,t,e,ie)},V=function(ie){var ne;(ne=r.onDayPointerLeave)===null||ne===void 0||ne.call(r,t,e,ie)},K=function(ie){var ne;(ne=r.onDayTouchCancel)===null||ne===void 0||ne.call(r,t,e,ie)},H=function(ie){var ne;(ne=r.onDayTouchEnd)===null||ne===void 0||ne.call(r,t,e,ie)},z=function(ie){var ne;(ne=r.onDayTouchMove)===null||ne===void 0||ne.call(r,t,e,ie)},Z=function(ie){var ne;(ne=r.onDayTouchStart)===null||ne===void 0||ne.call(r,t,e,ie)},W=function(ie){var ne;(ne=r.onDayKeyUp)===null||ne===void 0||ne.call(r,t,e,ie)},G=function(ie){var ne;switch(ie.key){case"ArrowLeft":ie.preventDefault(),ie.stopPropagation(),r.dir==="rtl"?c():u();break;case"ArrowRight":ie.preventDefault(),ie.stopPropagation(),r.dir==="rtl"?u():c();break;case"ArrowDown":ie.preventDefault(),ie.stopPropagation(),h();break;case"ArrowUp":ie.preventDefault(),ie.stopPropagation(),g();break;case"PageUp":ie.preventDefault(),ie.stopPropagation(),ie.shiftKey?E():b();break;case"PageDown":ie.preventDefault(),ie.stopPropagation(),ie.shiftKey?C():A();break;case"Home":ie.preventDefault(),ie.stopPropagation(),R();break;case"End":ie.preventDefault(),ie.stopPropagation(),I();break}(ne=r.onDayKeyDown)===null||ne===void 0||ne.call(r,t,e,ie)},J={onClick:P,onFocus:L,onBlur:T,onKeyDown:G,onKeyUp:W,onMouseEnter:D,onMouseLeave:M,onPointerEnter:$,onPointerLeave:V,onTouchCancel:K,onTouchEnd:H,onTouchMove:z,onTouchStart:Z};return J}function yfe(){var t=pn(),e=mq(),r=FO(),n=$O(),i=yx(t)?e.selected:Ig(t)?r.selected:Rg(t)?n.selected:void 0;return i}function xfe(t){return Object.values(to).includes(t)}function wfe(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(n){var i=t.modifiersClassNames[n];if(i)r.push(i);else if(xfe(n)){var s=t.classNames["day_".concat(n)];s&&r.push(s)}}),r}function bfe(t,e){var r=Xt({},t.styles.day);return Object.keys(e).forEach(function(n){var i;r=Xt(Xt({},r),(i=t.modifiersStyles)===null||i===void 0?void 0:i[n])}),r}function _fe(t,e,r){var n,i,s,a=pn(),c=qO(),u=pfe(t,e),h=vfe(t,u),g=yfe(),v=!!(a.onDayClick||a.mode!=="default");j.useEffect(function(){var D;u.outside||c.focusedDay&&v&&Jr(c.focusedDay,t)&&((D=r.current)===null||D===void 0||D.focus())},[c.focusedDay,t,r,v,u.outside]);var w=wfe(a,u).join(" "),b=bfe(a,u),A=!!(u.outside&&!a.showOutsideDays||u.hidden),E=(s=(i=a.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:qde,C=o.jsx(E,{date:t,displayMonth:e,activeModifiers:u}),R={style:b,className:w,children:C,role:"gridcell"},I=c.focusTarget&&Jr(c.focusTarget,t)&&!u.outside,P=c.focusedDay&&Jr(c.focusedDay,t),L=Xt(Xt(Xt({},R),(n={disabled:u.disabled,role:"gridcell"},n["aria-selected"]=u.selected,n.tabIndex=P||I?0:-1,n)),h),T={isButton:v,isHidden:A,activeModifiers:u,selectedDays:g,buttonProps:L,divProps:R};return T}function Sfe(t){var e=j.useRef(null),r=_fe(t.date,t.displayMonth,e);return r.isHidden?o.jsx("div",{role:"gridcell"}):r.isButton?o.jsx(Ny,Xt({name:"day",ref:e},r.buttonProps)):o.jsx("div",Xt({},r.divProps))}function Efe(t){var e=t.number,r=t.dates,n=pn(),i=n.onWeekNumberClick,s=n.styles,a=n.classNames,c=n.locale,u=n.labels.labelWeekNumber,h=n.formatters.formatWeekNumber,g=h(Number(e),{locale:c});if(!i)return o.jsx("span",{className:a.weeknumber,style:s.weeknumber,children:g});var v=u(Number(e),{locale:c}),w=function(b){i(e,r,b)};return o.jsx(Ny,{name:"week-number","aria-label":v,className:a.weeknumber,style:s.weeknumber,onClick:w,children:g})}function Cfe(t){var e,r,n=pn(),i=n.styles,s=n.classNames,a=n.showWeekNumber,c=n.components,u=(e=c?.Day)!==null&&e!==void 0?e:Sfe,h=(r=c?.WeekNumber)!==null&&r!==void 0?r:Efe,g;return a&&(g=o.jsx("td",{className:s.cell,style:i.cell,children:o.jsx(h,{number:t.weekNumber,dates:t.dates})})),o.jsxs("tr",{className:s.row,style:i.row,children:[g,t.dates.map(function(v){return o.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:o.jsx(u,{displayMonth:t.displayMonth,date:v})},Lle(v))})]})}function r4(t,e,r){for(var n=r?.ISOWeek?x$(e):bl(e,r),i=r?.ISOWeek?Zu(t):Ni(t,r),s=Ya(n,i),a=[],c=0;c<=s;c++)a.push(Li(i,c));var u=a.reduce(function(h,g){var v=r?.ISOWeek?b$(g):S$(g,r),w=h.find(function(b){return b.weekNumber===v});return w?(w.dates.push(g),h):(h.push({weekNumber:v,dates:[g]}),h)},[]);return u}function Afe(t,e){var r=r4(Hn(t),Ah(t),e);if(e?.useFixedWeeks){var n=Fle(t,e);if(n<6){var i=r[r.length-1],s=i.dates[i.dates.length-1],a=by(s,6-n),c=r4(by(s,1),a,e);r.push.apply(r,c)}}return r}function Nfe(t){var e,r,n,i=pn(),s=i.locale,a=i.classNames,c=i.styles,u=i.hideHead,h=i.fixedWeeks,g=i.components,v=i.weekStartsOn,w=i.firstWeekContainsDate,b=i.ISOWeek,A=Afe(t.displayMonth,{useFixedWeeks:!!h,ISOWeek:b,locale:s,weekStartsOn:v,firstWeekContainsDate:w}),E=(e=g?.Head)!==null&&e!==void 0?e:Vde,C=(r=g?.Row)!==null&&r!==void 0?r:Cfe,R=(n=g?.Footer)!==null&&n!==void 0?n:Fde;return o.jsxs("table",{id:t.id,className:a.table,style:c.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!u&&o.jsx(E,{}),o.jsx("tbody",{className:a.tbody,style:c.tbody,children:A.map(function(I){return o.jsx(C,{displayMonth:t.displayMonth,dates:I.dates,weekNumber:I.weekNumber},I.weekNumber)})}),o.jsx(R,{displayMonth:t.displayMonth})]})}function jfe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Ofe=jfe()?j.useLayoutEffect:j.useEffect,L_=!1,Tfe=0;function n4(){return"react-day-picker-".concat(++Tfe)}function kfe(t){var e,r=t??(L_?n4():null),n=j.useState(r),i=n[0],s=n[1];return Ofe(function(){i===null&&s(n4())},[]),j.useEffect(function(){L_===!1&&(L_=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function Pfe(t){var e,r,n=pn(),i=n.dir,s=n.classNames,a=n.styles,c=n.components,u=Mg().displayMonths,h=kfe(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),g=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,v=[s.month],w=a.month,b=t.displayIndex===0,A=t.displayIndex===u.length-1,E=!b&&!A;i==="rtl"&&(e=[b,A],A=e[0],b=e[1]),b&&(v.push(s.caption_start),w=Xt(Xt({},w),a.caption_start)),A&&(v.push(s.caption_end),w=Xt(Xt({},w),a.caption_end)),E&&(v.push(s.caption_between),w=Xt(Xt({},w),a.caption_between));var C=(r=c?.Caption)!==null&&r!==void 0?r:Bde;return o.jsxs("div",{className:v.join(" "),style:w,children:[o.jsx(C,{id:h,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),o.jsx(Nfe,{id:g,"aria-labelledby":h,displayMonth:t.displayMonth})]},t.displayIndex)}function Ife(t){var e=pn(),r=e.classNames,n=e.styles;return o.jsx("div",{className:r.months,style:n.months,children:t.children})}function Rfe(t){var e,r,n=t.initialProps,i=pn(),s=qO(),a=Mg(),c=j.useState(!1),u=c[0],h=c[1];j.useEffect(function(){i.initialFocus&&s.focusTarget&&(u||(s.focus(s.focusTarget),h(!0)))},[i.initialFocus,u,s.focus,s.focusTarget,s]);var g=[i.classNames.root,i.className];i.numberOfMonths>1&&g.push(i.classNames.multiple_months),i.showWeekNumber&&g.push(i.classNames.with_weeknumber);var v=Xt(Xt({},i.styles.root),i.style),w=Object.keys(n).filter(function(A){return A.startsWith("data-")}).reduce(function(A,E){var C;return Xt(Xt({},A),(C={},C[E]=n[E],C))},{}),b=(r=(e=n.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:Ife;return o.jsx("div",Xt({className:g.join(" "),style:v,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},w,{children:o.jsx(b,{children:a.displayMonths.map(function(A,E){return o.jsx(Pfe,{displayIndex:E,displayMonth:A},E)})})}))}function Mfe(t){var e=t.children,r=sde(t,["children"]);return o.jsx(Ede,{initialProps:r,children:o.jsx(Rde,{children:o.jsx(mfe,{initialProps:r,children:o.jsx(Wde,{initialProps:r,children:o.jsx(Gde,{initialProps:r,children:o.jsx(tfe,{children:o.jsx(hfe,{children:e})})})})})})})}function Dfe(t){return o.jsx(Mfe,Xt({},t,{children:o.jsx(Rfe,{initialProps:t})}))}function $f({className:t,classNames:e,showOutsideDays:r=!0,...n}){return o.jsx(Dfe,{showOutsideDays:r,className:De("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:De(vm({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:De(vm({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...i})=>o.jsx(Qa,{className:"h-4 w-4"}),IconRight:({...i})=>o.jsx(xl,{className:"h-4 w-4"})},...n})}$f.displayName="Calendar";var xx="Popover",[gq]=Ji(xx,[Mc]),Dg=Mc(),[Lfe,Uc]=gq(xx),vq=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:a=!1}=t,c=Dg(e),u=j.useRef(null),[h,g]=j.useState(!1),[v,w]=Za({prop:n,defaultProp:i??!1,onChange:s,caller:xx});return o.jsx(D1,{...c,children:o.jsx(Lfe,{scope:e,contentId:_a(),triggerRef:u,open:v,onOpenChange:w,onOpenToggle:j.useCallback(()=>w(b=>!b),[w]),hasCustomAnchor:h,onCustomAnchorAdd:j.useCallback(()=>g(!0),[]),onCustomAnchorRemove:j.useCallback(()=>g(!1),[]),modal:a,children:r})})};vq.displayName=xx;var yq="PopoverAnchor",Bfe=j.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Uc(yq,r),s=Dg(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:c}=i;return j.useEffect(()=>(a(),()=>c()),[a,c]),o.jsx(gg,{...s,...n,ref:e})});Bfe.displayName=yq;var xq="PopoverTrigger",wq=j.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Uc(xq,r),s=Dg(r),a=br(e,i.triggerRef),c=o.jsx(Tt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Cq(i.open),...n,ref:a,onClick:ot(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?c:o.jsx(gg,{asChild:!0,...s,children:c})});wq.displayName=xq;var zO="PopoverPortal",[Ffe,Ufe]=gq(zO,{forceMount:void 0}),bq=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,s=Uc(zO,e);return o.jsx(Ffe,{scope:e,forceMount:r,children:o.jsx(js,{present:r||s.open,children:o.jsx(yh,{asChild:!0,container:i,children:n})})})};bq.displayName=zO;var Vf="PopoverContent",_q=j.forwardRef((t,e)=>{const r=Ufe(Vf,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,s=Uc(Vf,t.__scopePopover);return o.jsx(js,{present:n||s.open,children:s.modal?o.jsx(Vfe,{...i,ref:e}):o.jsx(qfe,{...i,ref:e})})});_q.displayName=Vf;var $fe=_c("PopoverContent.RemoveScroll"),Vfe=j.forwardRef((t,e)=>{const r=Uc(Vf,t.__scopePopover),n=j.useRef(null),i=br(e,n),s=j.useRef(!1);return j.useEffect(()=>{const a=n.current;if(a)return K1(a)},[]),o.jsx(bg,{as:$fe,allowPinchZoom:!0,children:o.jsx(Sq,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ot(t.onCloseAutoFocus,a=>{a.preventDefault(),s.current||r.triggerRef.current?.focus()}),onPointerDownOutside:ot(t.onPointerDownOutside,a=>{const c=a.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;s.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:ot(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),qfe=j.forwardRef((t,e)=>{const r=Uc(Vf,t.__scopePopover),n=j.useRef(!1),i=j.useRef(!1);return o.jsx(Sq,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||r.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;r.triggerRef.current?.contains(a)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Sq=j.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:g,...v}=t,w=Uc(Vf,r),b=Dg(r);return H1(),o.jsx(xg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:o.jsx(cd,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:g,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onDismiss:()=>w.onOpenChange(!1),children:o.jsx(L1,{"data-state":Cq(w.open),role:"dialog",id:w.contentId,...b,...v,ref:e,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Eq="PopoverClose",Wfe=j.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Uc(Eq,r);return o.jsx(Tt.button,{type:"button",...n,ref:e,onClick:ot(t.onClick,()=>i.onOpenChange(!1))})});Wfe.displayName=Eq;var zfe="PopoverArrow",Hfe=j.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Dg(r);return o.jsx(B1,{...i,...n,ref:e})});Hfe.displayName=zfe;function Cq(t){return t?"open":"closed"}var Gfe=vq,Kfe=wq,Yfe=bq,Aq=_q;const Om=Gfe,Tm=Kfe,qf=j.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>o.jsx(Yfe,{children:o.jsx(Aq,{ref:i,align:e,sideOffset:r,className:De("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));qf.displayName=Aq.displayName;const Xfe=()=>o.jsxs(Xe,{children:[o.jsxs(Ot,{children:[o.jsx(Hr,{className:"h-6 w-48"}),o.jsx(Hr,{className:"h-4 w-32 mt-2"})]}),o.jsx(Ze,{children:o.jsx(Hr,{className:"h-64 w-full"})})]}),Zfe=({count:t=2})=>o.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:Array.from({length:t}).map((e,r)=>o.jsx(Xfe,{},r))});var B_,i4;function Os(){if(i4)return B_;i4=1;var t=Array.isArray;return B_=t,B_}var F_,s4;function Nq(){if(s4)return F_;s4=1;var t=typeof uc=="object"&&uc&&uc.Object===Object&&uc;return F_=t,F_}var U_,a4;function ko(){if(a4)return U_;a4=1;var t=Nq(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return U_=r,U_}var $_,o4;function Lg(){if(o4)return $_;o4=1;var t=ko(),e=t.Symbol;return $_=e,$_}var V_,l4;function Qfe(){if(l4)return V_;l4=1;var t=Lg(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function s(a){var c=r.call(a,i),u=a[i];try{a[i]=void 0;var h=!0}catch{}var g=n.call(a);return h&&(c?a[i]=u:delete a[i]),g}return V_=s,V_}var q_,c4;function Jfe(){if(c4)return q_;c4=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return q_=r,q_}var W_,u4;function Sl(){if(u4)return W_;u4=1;var t=Lg(),e=Qfe(),r=Jfe(),n="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function a(c){return c==null?c===void 0?i:n:s&&s in Object(c)?e(c):r(c)}return W_=a,W_}var z_,d4;function El(){if(d4)return z_;d4=1;function t(e){return e!=null&&typeof e=="object"}return z_=t,z_}var H_,f4;function kh(){if(f4)return H_;f4=1;var t=Sl(),e=El(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return H_=n,H_}var G_,h4;function HO(){if(h4)return G_;h4=1;var t=Os(),e=kh(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){if(t(s))return!1;var c=typeof s;return c=="number"||c=="symbol"||c=="boolean"||s==null||e(s)?!0:n.test(s)||!r.test(s)||a!=null&&s in Object(a)}return G_=i,G_}var K_,p4;function $c(){if(p4)return K_;p4=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return K_=t,K_}var Y_,m4;function GO(){if(m4)return Y_;m4=1;var t=Sl(),e=$c(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function a(c){if(!e(c))return!1;var u=t(c);return u==n||u==i||u==r||u==s}return Y_=a,Y_}var X_,g4;function ehe(){if(g4)return X_;g4=1;var t=ko(),e=t["__core-js_shared__"];return X_=e,X_}var Z_,v4;function the(){if(v4)return Z_;v4=1;var t=ehe(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return Z_=r,Z_}var Q_,y4;function jq(){if(y4)return Q_;y4=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Q_=r,Q_}var J_,x4;function rhe(){if(x4)return J_;x4=1;var t=GO(),e=the(),r=$c(),n=jq(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,a=Function.prototype,c=Object.prototype,u=a.toString,h=c.hasOwnProperty,g=RegExp("^"+u.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(w){if(!r(w)||e(w))return!1;var b=t(w)?g:s;return b.test(n(w))}return J_=v,J_}var e2,w4;function nhe(){if(w4)return e2;w4=1;function t(e,r){return e?.[r]}return e2=t,e2}var t2,b4;function gd(){if(b4)return t2;b4=1;var t=rhe(),e=nhe();function r(n,i){var s=e(n,i);return t(s)?s:void 0}return t2=r,t2}var r2,_4;function wx(){if(_4)return r2;_4=1;var t=gd(),e=t(Object,"create");return r2=e,r2}var n2,S4;function ihe(){if(S4)return n2;S4=1;var t=wx();function e(){this.__data__=t?t(null):{},this.size=0}return n2=e,n2}var i2,E4;function she(){if(E4)return i2;E4=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return i2=t,i2}var s2,C4;function ahe(){if(C4)return s2;C4=1;var t=wx(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var a=this.__data__;if(t){var c=a[s];return c===e?void 0:c}return n.call(a,s)?a[s]:void 0}return s2=i,s2}var a2,A4;function ohe(){if(A4)return a2;A4=1;var t=wx(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var s=this.__data__;return t?s[i]!==void 0:r.call(s,i)}return a2=n,a2}var o2,N4;function lhe(){if(N4)return o2;N4=1;var t=wx(),e="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&i===void 0?e:i,this}return o2=r,o2}var l2,j4;function che(){if(j4)return l2;j4=1;var t=ihe(),e=she(),r=ahe(),n=ohe(),i=lhe();function s(a){var c=-1,u=a==null?0:a.length;for(this.clear();++c<u;){var h=a[c];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,l2=s,l2}var c2,O4;function uhe(){if(O4)return c2;O4=1;function t(){this.__data__=[],this.size=0}return c2=t,c2}var u2,T4;function KO(){if(T4)return u2;T4=1;function t(e,r){return e===r||e!==e&&r!==r}return u2=t,u2}var d2,k4;function bx(){if(k4)return d2;k4=1;var t=KO();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return d2=e,d2}var f2,P4;function dhe(){if(P4)return f2;P4=1;var t=bx(),e=Array.prototype,r=e.splice;function n(i){var s=this.__data__,a=t(s,i);if(a<0)return!1;var c=s.length-1;return a==c?s.pop():r.call(s,a,1),--this.size,!0}return f2=n,f2}var h2,I4;function fhe(){if(I4)return h2;I4=1;var t=bx();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return h2=e,h2}var p2,R4;function hhe(){if(R4)return p2;R4=1;var t=bx();function e(r){return t(this.__data__,r)>-1}return p2=e,p2}var m2,M4;function phe(){if(M4)return m2;M4=1;var t=bx();function e(r,n){var i=this.__data__,s=t(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return m2=e,m2}var g2,D4;function _x(){if(D4)return g2;D4=1;var t=uhe(),e=dhe(),r=fhe(),n=hhe(),i=phe();function s(a){var c=-1,u=a==null?0:a.length;for(this.clear();++c<u;){var h=a[c];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,g2=s,g2}var v2,L4;function YO(){if(L4)return v2;L4=1;var t=gd(),e=ko(),r=t(e,"Map");return v2=r,v2}var y2,B4;function mhe(){if(B4)return y2;B4=1;var t=che(),e=_x(),r=YO();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return y2=n,y2}var x2,F4;function ghe(){if(F4)return x2;F4=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return x2=t,x2}var w2,U4;function Sx(){if(U4)return w2;U4=1;var t=ghe();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return w2=e,w2}var b2,$4;function vhe(){if($4)return b2;$4=1;var t=Sx();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return b2=e,b2}var _2,V4;function yhe(){if(V4)return _2;V4=1;var t=Sx();function e(r){return t(this,r).get(r)}return _2=e,_2}var S2,q4;function xhe(){if(q4)return S2;q4=1;var t=Sx();function e(r){return t(this,r).has(r)}return S2=e,S2}var E2,W4;function whe(){if(W4)return E2;W4=1;var t=Sx();function e(r,n){var i=t(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return E2=e,E2}var C2,z4;function XO(){if(z4)return C2;z4=1;var t=mhe(),e=vhe(),r=yhe(),n=xhe(),i=whe();function s(a){var c=-1,u=a==null?0:a.length;for(this.clear();++c<u;){var h=a[c];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,C2=s,C2}var A2,H4;function Oq(){if(H4)return A2;H4=1;var t=XO(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var a=arguments,c=i?i.apply(this,a):a[0],u=s.cache;if(u.has(c))return u.get(c);var h=n.apply(this,a);return s.cache=u.set(c,h)||u,h};return s.cache=new(r.Cache||t),s}return r.Cache=t,A2=r,A2}var N2,G4;function bhe(){if(G4)return N2;G4=1;var t=Oq(),e=500;function r(n){var i=t(n,function(a){return s.size===e&&s.clear(),a}),s=i.cache;return i}return N2=r,N2}var j2,K4;function _he(){if(K4)return j2;K4=1;var t=bhe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(a,c,u,h){s.push(u?h.replace(r,"$1"):c||a)}),s});return j2=n,j2}var O2,Y4;function ZO(){if(Y4)return O2;Y4=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=Array(i);++n<i;)s[n]=r(e[n],n,e);return s}return O2=t,O2}var T2,X4;function She(){if(X4)return T2;X4=1;var t=Lg(),e=ZO(),r=Os(),n=kh(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function a(c){if(typeof c=="string")return c;if(r(c))return e(c,a)+"";if(n(c))return s?s.call(c):"";var u=c+"";return u=="0"&&1/c==-1/0?"-0":u}return T2=a,T2}var k2,Z4;function Tq(){if(Z4)return k2;Z4=1;var t=She();function e(r){return r==null?"":t(r)}return k2=e,k2}var P2,Q4;function kq(){if(Q4)return P2;Q4=1;var t=Os(),e=HO(),r=_he(),n=Tq();function i(s,a){return t(s)?s:e(s,a)?[s]:r(n(s))}return P2=i,P2}var I2,J4;function Ex(){if(J4)return I2;J4=1;var t=kh();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return I2=e,I2}var R2,eM;function QO(){if(eM)return R2;eM=1;var t=kq(),e=Ex();function r(n,i){i=t(i,n);for(var s=0,a=i.length;n!=null&&s<a;)n=n[e(i[s++])];return s&&s==a?n:void 0}return R2=r,R2}var M2,tM;function Pq(){if(tM)return M2;tM=1;var t=QO();function e(r,n,i){var s=r==null?void 0:t(r,n);return s===void 0?i:s}return M2=e,M2}var Ehe=Pq();const Js=Rr(Ehe);var D2,rM;function Che(){if(rM)return D2;rM=1;function t(e){return e==null}return D2=t,D2}var Ahe=Che();const tr=Rr(Ahe);var L2,nM;function Nhe(){if(nM)return L2;nM=1;var t=Sl(),e=Os(),r=El(),n="[object String]";function i(s){return typeof s=="string"||!e(s)&&r(s)&&t(s)==n}return L2=i,L2}var jhe=Nhe();const td=Rr(jhe);var Ohe=GO();const Gt=Rr(Ohe);var The=$c();const Ph=Rr(The);var B2={exports:{}},Wr={};var iM;function khe(){if(iM)return Wr;iM=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),A;A=Symbol.for("react.module.reference");function E(C){if(typeof C=="object"&&C!==null){var R=C.$$typeof;switch(R){case t:switch(C=C.type,C){case r:case i:case n:case h:case g:return C;default:switch(C=C&&C.$$typeof,C){case c:case a:case u:case w:case v:case s:return C;default:return R}}case e:return R}}}return Wr.ContextConsumer=a,Wr.ContextProvider=s,Wr.Element=t,Wr.ForwardRef=u,Wr.Fragment=r,Wr.Lazy=w,Wr.Memo=v,Wr.Portal=e,Wr.Profiler=i,Wr.StrictMode=n,Wr.Suspense=h,Wr.SuspenseList=g,Wr.isAsyncMode=function(){return!1},Wr.isConcurrentMode=function(){return!1},Wr.isContextConsumer=function(C){return E(C)===a},Wr.isContextProvider=function(C){return E(C)===s},Wr.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===t},Wr.isForwardRef=function(C){return E(C)===u},Wr.isFragment=function(C){return E(C)===r},Wr.isLazy=function(C){return E(C)===w},Wr.isMemo=function(C){return E(C)===v},Wr.isPortal=function(C){return E(C)===e},Wr.isProfiler=function(C){return E(C)===i},Wr.isStrictMode=function(C){return E(C)===n},Wr.isSuspense=function(C){return E(C)===h},Wr.isSuspenseList=function(C){return E(C)===g},Wr.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===r||C===i||C===n||C===h||C===g||C===b||typeof C=="object"&&C!==null&&(C.$$typeof===w||C.$$typeof===v||C.$$typeof===s||C.$$typeof===a||C.$$typeof===u||C.$$typeof===A||C.getModuleId!==void 0)},Wr.typeOf=E,Wr}var sM;function Phe(){return sM||(sM=1,B2.exports=khe()),B2.exports}var Ihe=Phe(),F2,aM;function Iq(){if(aM)return F2;aM=1;var t=Sl(),e=El(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return F2=n,F2}var U2,oM;function Rhe(){if(oM)return U2;oM=1;var t=Iq();function e(r){return t(r)&&r!=+r}return U2=e,U2}var Mhe=Rhe();const Ih=Rr(Mhe);var Dhe=Iq();const Lhe=Rr(Dhe);var ss=function(e){return e===0?0:e>0?1:-1},Mu=function(e){return td(e)&&e.indexOf("%")===e.length-1},rt=function(e){return Lhe(e)&&!Ih(e)},Bhe=function(e){return tr(e)},vi=function(e){return rt(e)||td(e)},Fhe=0,vd=function(e){var r=++Fhe;return"".concat(e||"").concat(r)},as=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!rt(e)&&!td(e))return n;var s;if(Mu(e)){var a=e.indexOf("%");s=r*parseFloat(e.slice(0,a))/100}else s=+e;return Ih(s)&&(s=n),i&&s>r&&(s=r),s},cc=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Uhe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},gi=function(e,r){return rt(e)&&rt(r)?function(n){return e+n*(r-e)}:function(){return r}};function jy(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Js(n,e))===r})}var $he=function(e,r){return rt(e)&&rt(r)?e-r:td(e)&&td(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Nf(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function BA(t){"@babel/helpers - typeof";return BA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BA(t)}var Vhe=["viewBox","children"],qhe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],lM=["points","pathLength"],$2={svg:Vhe,polygon:lM,polyline:lM},JO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Oy=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(j.isValidElement(e)&&(n=e.props),!Ph(n))return null;var i={};return Object.keys(n).forEach(function(s){JO.includes(s)&&(i[s]=r||function(a){return n[s](n,a)})}),i},Whe=function(e,r,n){return function(i){return e(r,n,i),null}},rd=function(e,r,n){if(!Ph(e)||BA(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];JO.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=Whe(a,r,n))}),i},zhe=["children"],Hhe=["children"];function cM(t,e){if(t==null)return{};var r=Ghe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ghe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function FA(t){"@babel/helpers - typeof";return FA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FA(t)}var uM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},al=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},dM=null,V2=null,eT=function t(e){if(e===dM&&Array.isArray(V2))return V2;var r=[];return j.Children.forEach(e,function(n){tr(n)||(Ihe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),V2=r,dM=e,r};function ea(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return al(i)}):n=[al(e)],eT(t).forEach(function(i){var s=Js(i,"type.displayName")||Js(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function qs(t,e){var r=ea(t,e);return r&&r[0]}var fM=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!rt(n)||n<=0||!rt(i)||i<=0)},Khe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Yhe=function(e){return e&&e.type&&td(e.type)&&Khe.indexOf(e.type)>=0},Rq=function(e){return e&&FA(e)==="object"&&"clipDot"in e},Xhe=function(e,r,n,i){var s,a=(s=$2?.[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Gt(e)&&(i&&a.includes(r)||qhe.includes(r))||n&&JO.includes(r)},Rt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(j.isValidElement(e)&&(i=e.props),!Ph(i))return null;var s={};return Object.keys(i).forEach(function(a){var c;Xhe((c=i)===null||c===void 0?void 0:c[a],a,r,n)&&(s[a]=i[a])}),s},UA=function t(e,r){if(e===r)return!0;var n=j.Children.count(e);if(n!==j.Children.count(r))return!1;if(n===0)return!0;if(n===1)return hM(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=e[i],a=r[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!hM(s,a))return!1}return!0},hM=function(e,r){if(tr(e)&&tr(r))return!0;if(!tr(e)&&!tr(r)){var n=e.props||{},i=n.children,s=cM(n,zhe),a=r.props||{},c=a.children,u=cM(a,Hhe);return i&&c?Nf(s,u)&&UA(i,c):!i&&!c?Nf(s,u):!1}return!1},pM=function(e,r){var n=[],i={};return eT(e).forEach(function(s,a){if(Yhe(s))n.push(s);else if(s){var c=al(s.type),u=r[c]||{},h=u.handler,g=u.once;if(h&&(!g||!i[c])){var v=h(s,c,a);n.push(v),i[c]=!0}}}),n},Zhe=function(e){var r=e&&e.type;return r&&uM[r]?uM[r]:null},Qhe=function(e,r){return eT(r).indexOf(e)},Jhe=["children","width","height","viewBox","className","style","title","desc"];function $A(){return $A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$A.apply(this,arguments)}function epe(t,e){if(t==null)return{};var r=tpe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function VA(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,s=t.className,a=t.style,c=t.title,u=t.desc,h=epe(t,Jhe),g=i||{width:r,height:n,x:0,y:0},v=nr("recharts-surface",s);return re.createElement("svg",$A({},Rt(h,!0,"svg"),{className:v,width:r,height:n,style:a,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height)}),re.createElement("title",null,c),re.createElement("desc",null,u),e)}var rpe=["children","className"];function qA(){return qA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qA.apply(this,arguments)}function npe(t,e){if(t==null)return{};var r=ipe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ipe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Nr=re.forwardRef(function(t,e){var r=t.children,n=t.className,i=npe(t,rpe),s=nr("recharts-layer",n);return re.createElement("g",qA({className:s},Rt(i,!0),{ref:e}),r)}),Xa=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},q2,mM;function spe(){if(mM)return q2;mM=1;function t(e,r,n){var i=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var a=Array(s);++i<s;)a[i]=e[i+r];return a}return q2=t,q2}var W2,gM;function ape(){if(gM)return W2;gM=1;var t=spe();function e(r,n,i){var s=r.length;return i=i===void 0?s:i,!n&&i>=s?r:t(r,n,i)}return W2=e,W2}var z2,vM;function Mq(){if(vM)return z2;vM=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",a="\\u200d",c=RegExp("["+a+t+i+s+"]");function u(h){return c.test(h)}return z2=u,z2}var H2,yM;function ope(){if(yM)return H2;yM=1;function t(e){return e.split("")}return H2=t,H2}var G2,xM;function lpe(){if(xM)return G2;xM=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",a="["+t+"]",c="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",h="(?:"+c+"|"+u+")",g="[^"+t+"]",v="(?:\\ud83c[\\udde6-\\uddff]){2}",w="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",A=h+"?",E="["+s+"]?",C="(?:"+b+"(?:"+[g,v,w].join("|")+")"+E+A+")*",R=E+A+C,I="(?:"+[g+c+"?",c,v,w,a].join("|")+")",P=RegExp(u+"(?="+u+")|"+I+R,"g");function L(T){return T.match(P)||[]}return G2=L,G2}var K2,wM;function cpe(){if(wM)return K2;wM=1;var t=ope(),e=Mq(),r=lpe();function n(i){return e(i)?r(i):t(i)}return K2=n,K2}var Y2,bM;function upe(){if(bM)return Y2;bM=1;var t=ape(),e=Mq(),r=cpe(),n=Tq();function i(s){return function(a){a=n(a);var c=e(a)?r(a):void 0,u=c?c[0]:a.charAt(0),h=c?t(c,1).join(""):a.slice(1);return u[s]()+h}}return Y2=i,Y2}var X2,_M;function dpe(){if(_M)return X2;_M=1;var t=upe(),e=t("toUpperCase");return X2=e,X2}var fpe=dpe();const Cx=Rr(fpe);function un(t){return function(){return t}}const Dq=Math.cos,Ty=Math.sin,io=Math.sqrt,ky=Math.PI,Ax=2*ky,WA=Math.PI,zA=2*WA,Au=1e-6,hpe=zA-Au;function Lq(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function ppe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Lq;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class mpe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Lq:ppe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,c=this._y1,u=n-e,h=i-r,g=a-e,v=c-r,w=g*g+v*v;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(w>Au)if(!(Math.abs(v*u-h*g)>Au)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let b=n-a,A=i-c,E=u*u+h*h,C=b*b+A*A,R=Math.sqrt(E),I=Math.sqrt(w),P=s*Math.tan((WA-Math.acos((E+w-C)/(2*R*I)))/2),L=P/I,T=P/R;Math.abs(L-1)>Au&&this._append`L${e+L*g},${r+L*v}`,this._append`A${s},${s},0,0,${+(v*b>g*A)},${this._x1=e+T*u},${this._y1=r+T*h}`}}arc(e,r,n,i,s,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(i),u=n*Math.sin(i),h=e+c,g=r+u,v=1^a,w=a?i-s:s-i;this._x1===null?this._append`M${h},${g}`:(Math.abs(this._x1-h)>Au||Math.abs(this._y1-g)>Au)&&this._append`L${h},${g}`,n&&(w<0&&(w=w%zA+zA),w>hpe?this._append`A${n},${n},0,1,${v},${e-c},${r-u}A${n},${n},0,1,${v},${this._x1=h},${this._y1=g}`:w>Au&&this._append`A${n},${n},0,${+(w>=WA)},${v},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function tT(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new mpe(e)}function rT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Bq(t){this._context=t}Bq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Nx(t){return new Bq(t)}function Fq(t){return t[0]}function Uq(t){return t[1]}function $q(t,e){var r=un(!0),n=null,i=Nx,s=null,a=tT(c);t=typeof t=="function"?t:t===void 0?Fq:un(t),e=typeof e=="function"?e:e===void 0?Uq:un(e);function c(u){var h,g=(u=rT(u)).length,v,w=!1,b;for(n==null&&(s=i(b=a())),h=0;h<=g;++h)!(h<g&&r(v=u[h],h,u))===w&&((w=!w)?s.lineStart():s.lineEnd()),w&&s.point(+t(v,h,u),+e(v,h,u));if(b)return s=null,b+""||null}return c.x=function(u){return arguments.length?(t=typeof u=="function"?u:un(+u),c):t},c.y=function(u){return arguments.length?(e=typeof u=="function"?u:un(+u),c):e},c.defined=function(u){return arguments.length?(r=typeof u=="function"?u:un(!!u),c):r},c.curve=function(u){return arguments.length?(i=u,n!=null&&(s=i(n)),c):i},c.context=function(u){return arguments.length?(u==null?n=s=null:s=i(n=u),c):n},c}function xv(t,e,r){var n=null,i=un(!0),s=null,a=Nx,c=null,u=tT(h);t=typeof t=="function"?t:t===void 0?Fq:un(+t),e=typeof e=="function"?e:un(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Uq:un(+r);function h(v){var w,b,A,E=(v=rT(v)).length,C,R=!1,I,P=new Array(E),L=new Array(E);for(s==null&&(c=a(I=u())),w=0;w<=E;++w){if(!(w<E&&i(C=v[w],w,v))===R)if(R=!R)b=w,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),A=w-1;A>=b;--A)c.point(P[A],L[A]);c.lineEnd(),c.areaEnd()}R&&(P[w]=+t(C,w,v),L[w]=+e(C,w,v),c.point(n?+n(C,w,v):P[w],r?+r(C,w,v):L[w]))}if(I)return c=null,I+""||null}function g(){return $q().defined(i).curve(a).context(s)}return h.x=function(v){return arguments.length?(t=typeof v=="function"?v:un(+v),n=null,h):t},h.x0=function(v){return arguments.length?(t=typeof v=="function"?v:un(+v),h):t},h.x1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:un(+v),h):n},h.y=function(v){return arguments.length?(e=typeof v=="function"?v:un(+v),r=null,h):e},h.y0=function(v){return arguments.length?(e=typeof v=="function"?v:un(+v),h):e},h.y1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:un(+v),h):r},h.lineX0=h.lineY0=function(){return g().x(t).y(e)},h.lineY1=function(){return g().x(t).y(r)},h.lineX1=function(){return g().x(n).y(e)},h.defined=function(v){return arguments.length?(i=typeof v=="function"?v:un(!!v),h):i},h.curve=function(v){return arguments.length?(a=v,s!=null&&(c=a(s)),h):a},h.context=function(v){return arguments.length?(v==null?s=c=null:c=a(s=v),h):s},h}class Vq{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function gpe(t){return new Vq(t,!0)}function vpe(t){return new Vq(t,!1)}const nT={draw(t,e){const r=io(e/ky);t.moveTo(r,0),t.arc(0,0,r,0,Ax)}},ype={draw(t,e){const r=io(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},qq=io(1/3),xpe=qq*2,wpe={draw(t,e){const r=io(e/xpe),n=r*qq;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},bpe={draw(t,e){const r=io(e),n=-r/2;t.rect(n,n,r,r)}},_pe=.8908130915292852,Wq=Ty(ky/10)/Ty(7*ky/10),Spe=Ty(Ax/10)*Wq,Epe=-Dq(Ax/10)*Wq,Cpe={draw(t,e){const r=io(e*_pe),n=Spe*r,i=Epe*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const a=Ax*s/5,c=Dq(a),u=Ty(a);t.lineTo(u*r,-c*r),t.lineTo(c*n-u*i,u*n+c*i)}t.closePath()}},Z2=io(3),Ape={draw(t,e){const r=-io(e/(Z2*3));t.moveTo(0,r*2),t.lineTo(-Z2*r,-r),t.lineTo(Z2*r,-r),t.closePath()}},ha=-.5,pa=io(3)/2,HA=1/io(12),Npe=(HA/2+1)*3,jpe={draw(t,e){const r=io(e/Npe),n=r/2,i=r*HA,s=n,a=r*HA+r,c=-s,u=a;t.moveTo(n,i),t.lineTo(s,a),t.lineTo(c,u),t.lineTo(ha*n-pa*i,pa*n+ha*i),t.lineTo(ha*s-pa*a,pa*s+ha*a),t.lineTo(ha*c-pa*u,pa*c+ha*u),t.lineTo(ha*n+pa*i,ha*i-pa*n),t.lineTo(ha*s+pa*a,ha*a-pa*s),t.lineTo(ha*c+pa*u,ha*u-pa*c),t.closePath()}};function Ope(t,e){let r=null,n=tT(i);t=typeof t=="function"?t:un(t||nT),e=typeof e=="function"?e:un(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:un(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:un(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Py(){}function Iy(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function zq(t){this._context=t}zq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Iy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Iy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Tpe(t){return new zq(t)}function Hq(t){this._context=t}Hq.prototype={areaStart:Py,areaEnd:Py,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Iy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kpe(t){return new Hq(t)}function Gq(t){this._context=t}Gq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Iy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ppe(t){return new Gq(t)}function Kq(t){this._context=t}Kq.prototype={areaStart:Py,areaEnd:Py,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Ipe(t){return new Kq(t)}function SM(t){return t<0?-1:1}function EM(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),c=(s*i+a*n)/(n+i);return(SM(s)+SM(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(c))||0}function CM(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Q2(t,e,r){var n=t._x0,i=t._y0,s=t._x1,a=t._y1,c=(s-n)/3;t._context.bezierCurveTo(n+c,i+c*e,s-c,a-c*r,s,a)}function Ry(t){this._context=t}Ry.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Q2(this,this._t0,CM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Q2(this,CM(this,r=EM(this,t,e)),r);break;default:Q2(this,this._t0,r=EM(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function Yq(t){this._context=new Xq(t)}(Yq.prototype=Object.create(Ry.prototype)).point=function(t,e){Ry.prototype.point.call(this,e,t)};function Xq(t){this._context=t}Xq.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function Rpe(t){return new Ry(t)}function Mpe(t){return new Yq(t)}function Zq(t){this._context=t}Zq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=AM(t),i=AM(e),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function AM(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Dpe(t){return new Zq(t)}function jx(t,e){this._context=t,this._t=e}jx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Lpe(t){return new jx(t,.5)}function Bpe(t){return new jx(t,0)}function Fpe(t){return new jx(t,1)}function Wf(t,e){if((a=t.length)>1)for(var r=1,n,i,s=t[e[0]],a,c=s.length;r<a;++r)for(i=s,s=t[e[r]],n=0;n<c;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function GA(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Upe(t,e){return t[e]}function $pe(t){const e=[];return e.key=t,e}function Vpe(){var t=un([]),e=GA,r=Wf,n=Upe;function i(s){var a=Array.from(t.apply(this,arguments),$pe),c,u=a.length,h=-1,g;for(const v of s)for(c=0,++h;c<u;++c)(a[c][h]=[0,+n(v,a[c].key,h,s)]).data=v;for(c=0,g=rT(e(a));c<u;++c)a[g[c]].index=c;return r(a,g),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:un(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:un(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?GA:typeof s=="function"?s:un(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??Wf,i):r},i}function qpe(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}Wf(t,e)}}function Wpe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var a=0,c=0;a<i;++a)c+=t[a][r][1]||0;n[r][1]+=n[r][0]=-c/2}Wf(t,e)}}function zpe(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var c=0,u=0,h=0;c<a;++c){for(var g=t[e[c]],v=g[n][1]||0,w=g[n-1][1]||0,b=(v-w)/2,A=0;A<c;++A){var E=t[e[A]],C=E[n][1]||0,R=E[n-1][1]||0;b+=C-R}u+=v,h+=b*v}i[n-1][1]+=i[n-1][0]=r,u&&(r-=h/u)}i[n-1][1]+=i[n-1][0]=r,Wf(t,e)}}function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}var Hpe=["type","size","sizeType"];function KA(){return KA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},KA.apply(this,arguments)}function NM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NM(Object(r),!0).forEach(function(n){Gpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gpe(t,e,r){return e=Kpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kpe(t){var e=Ype(t,"string");return km(e)=="symbol"?e:e+""}function Ype(t,e){if(km(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xpe(t,e){if(t==null)return{};var r=Zpe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Qq={symbolCircle:nT,symbolCross:ype,symbolDiamond:wpe,symbolSquare:bpe,symbolStar:Cpe,symbolTriangle:Ape,symbolWye:jpe},Qpe=Math.PI/180,Jpe=function(e){var r="symbol".concat(Cx(e));return Qq[r]||nT},eme=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Qpe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},tme=function(e,r){Qq["symbol".concat(Cx(e))]=r},iT=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,s=i===void 0?64:i,a=e.sizeType,c=a===void 0?"area":a,u=Xpe(e,Hpe),h=jM(jM({},u),{},{type:n,size:s,sizeType:c}),g=function(){var C=Jpe(n),R=Ope().type(C).size(eme(s,c,n));return R()},v=h.className,w=h.cx,b=h.cy,A=Rt(h,!0);return w===+w&&b===+b&&s===+s?re.createElement("path",KA({},A,{className:nr("recharts-symbols",v),transform:"translate(".concat(w,", ").concat(b,")"),d:g()})):null};iT.registerSymbol=tme;function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function YA(){return YA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},YA.apply(this,arguments)}function OM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rme(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OM(Object(r),!0).forEach(function(n){Pm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ime(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eW(n.key),n)}}function sme(t,e,r){return e&&ime(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ame(t,e,r){return e=My(e),ome(t,Jq()?Reflect.construct(e,r||[],My(t).constructor):e.apply(t,r))}function ome(t,e){if(e&&(zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lme(t)}function lme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jq=function(){return!!t})()}function My(t){return My=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},My(t)}function cme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XA(t,e)}function XA(t,e){return XA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},XA(t,e)}function Pm(t,e,r){return e=eW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eW(t){var e=ume(t,"string");return zf(e)=="symbol"?e:e+""}function ume(t,e){if(zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ma=32,sT=(function(t){function e(){return nme(this,e),ame(this,e,arguments)}return cme(e,t),sme(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=ma/2,a=ma/6,c=ma/3,u=n.inactive?i:n.color;if(n.type==="plainline")return re.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:ma,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return re.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(s,"h").concat(c,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*c,",").concat(s,`
            H`).concat(ma,"M").concat(2*c,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(c,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return re.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(ma/8,"h").concat(ma,"v").concat(ma*3/4,"h").concat(-ma,"z"),className:"recharts-legend-icon"});if(re.isValidElement(n.legendIcon)){var h=rme({},n);return delete h.legendIcon,re.cloneElement(n.legendIcon,h)}return re.createElement(iT,{fill:u,cx:s,cy:s,size:ma,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,a=i.iconSize,c=i.layout,u=i.formatter,h=i.inactiveColor,g={x:0,y:0,width:ma,height:ma},v={display:c==="horizontal"?"inline-block":"block",marginRight:10},w={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(b,A){var E=b.formatter||u,C=nr(Pm(Pm({"recharts-legend-item":!0},"legend-item-".concat(A),!0),"inactive",b.inactive));if(b.type==="none")return null;var R=Gt(b.value)?null:b.value;Xa(!Gt(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var I=b.inactive?h:b.color;return re.createElement("li",YA({className:C,style:v,key:"legend-item-".concat(A)},rd(n.props,b,A)),re.createElement(VA,{width:a,height:a,viewBox:g,style:w},n.renderIcon(b)),re.createElement("span",{className:"recharts-legend-item-text",style:{color:I}},E?E(R,b,A):R))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,a=n.align;if(!i||!i.length)return null;var c={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return re.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])})(j.PureComponent);Pm(sT,"displayName","Legend");Pm(sT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var J2,TM;function dme(){if(TM)return J2;TM=1;var t=_x();function e(){this.__data__=new t,this.size=0}return J2=e,J2}var eS,kM;function fme(){if(kM)return eS;kM=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return eS=t,eS}var tS,PM;function hme(){if(PM)return tS;PM=1;function t(e){return this.__data__.get(e)}return tS=t,tS}var rS,IM;function pme(){if(IM)return rS;IM=1;function t(e){return this.__data__.has(e)}return rS=t,rS}var nS,RM;function mme(){if(RM)return nS;RM=1;var t=_x(),e=YO(),r=XO(),n=200;function i(s,a){var c=this.__data__;if(c instanceof t){var u=c.__data__;if(!e||u.length<n-1)return u.push([s,a]),this.size=++c.size,this;c=this.__data__=new r(u)}return c.set(s,a),this.size=c.size,this}return nS=i,nS}var iS,MM;function tW(){if(MM)return iS;MM=1;var t=_x(),e=dme(),r=fme(),n=hme(),i=pme(),s=mme();function a(c){var u=this.__data__=new t(c);this.size=u.size}return a.prototype.clear=e,a.prototype.delete=r,a.prototype.get=n,a.prototype.has=i,a.prototype.set=s,iS=a,iS}var sS,DM;function gme(){if(DM)return sS;DM=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return sS=e,sS}var aS,LM;function vme(){if(LM)return aS;LM=1;function t(e){return this.__data__.has(e)}return aS=t,aS}var oS,BM;function rW(){if(BM)return oS;BM=1;var t=XO(),e=gme(),r=vme();function n(i){var s=-1,a=i==null?0:i.length;for(this.__data__=new t;++s<a;)this.add(i[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,oS=n,oS}var lS,FM;function nW(){if(FM)return lS;FM=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return lS=t,lS}var cS,UM;function iW(){if(UM)return cS;UM=1;function t(e,r){return e.has(r)}return cS=t,cS}var uS,$M;function sW(){if($M)return uS;$M=1;var t=rW(),e=nW(),r=iW(),n=1,i=2;function s(a,c,u,h,g,v){var w=u&n,b=a.length,A=c.length;if(b!=A&&!(w&&A>b))return!1;var E=v.get(a),C=v.get(c);if(E&&C)return E==c&&C==a;var R=-1,I=!0,P=u&i?new t:void 0;for(v.set(a,c),v.set(c,a);++R<b;){var L=a[R],T=c[R];if(h)var D=w?h(T,L,R,c,a,v):h(L,T,R,a,c,v);if(D!==void 0){if(D)continue;I=!1;break}if(P){if(!e(c,function(M,$){if(!r(P,$)&&(L===M||g(L,M,u,h,v)))return P.push($)})){I=!1;break}}else if(!(L===T||g(L,T,u,h,v))){I=!1;break}}return v.delete(a),v.delete(c),I}return uS=s,uS}var dS,VM;function yme(){if(VM)return dS;VM=1;var t=ko(),e=t.Uint8Array;return dS=e,dS}var fS,qM;function xme(){if(qM)return fS;qM=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,s){n[++r]=[s,i]}),n}return fS=t,fS}var hS,WM;function aT(){if(WM)return hS;WM=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return hS=t,hS}var pS,zM;function wme(){if(zM)return pS;zM=1;var t=Lg(),e=yme(),r=KO(),n=sW(),i=xme(),s=aT(),a=1,c=2,u="[object Boolean]",h="[object Date]",g="[object Error]",v="[object Map]",w="[object Number]",b="[object RegExp]",A="[object Set]",E="[object String]",C="[object Symbol]",R="[object ArrayBuffer]",I="[object DataView]",P=t?t.prototype:void 0,L=P?P.valueOf:void 0;function T(D,M,$,V,K,H,z){switch($){case I:if(D.byteLength!=M.byteLength||D.byteOffset!=M.byteOffset)return!1;D=D.buffer,M=M.buffer;case R:return!(D.byteLength!=M.byteLength||!H(new e(D),new e(M)));case u:case h:case w:return r(+D,+M);case g:return D.name==M.name&&D.message==M.message;case b:case E:return D==M+"";case v:var Z=i;case A:var W=V&a;if(Z||(Z=s),D.size!=M.size&&!W)return!1;var G=z.get(D);if(G)return G==M;V|=c,z.set(D,M);var J=n(Z(D),Z(M),V,K,H,z);return z.delete(D),J;case C:if(L)return L.call(D)==L.call(M)}return!1}return pS=T,pS}var mS,HM;function aW(){if(HM)return mS;HM=1;function t(e,r){for(var n=-1,i=r.length,s=e.length;++n<i;)e[s+n]=r[n];return e}return mS=t,mS}var gS,GM;function bme(){if(GM)return gS;GM=1;var t=aW(),e=Os();function r(n,i,s){var a=i(n);return e(n)?a:t(a,s(n))}return gS=r,gS}var vS,KM;function _me(){if(KM)return vS;KM=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=0,a=[];++n<i;){var c=e[n];r(c,n,e)&&(a[s++]=c)}return a}return vS=t,vS}var yS,YM;function Sme(){if(YM)return yS;YM=1;function t(){return[]}return yS=t,yS}var xS,XM;function Eme(){if(XM)return xS;XM=1;var t=_me(),e=Sme(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(c){return n.call(a,c)}))}:e;return xS=s,xS}var wS,ZM;function Cme(){if(ZM)return wS;ZM=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return wS=t,wS}var bS,QM;function Ame(){if(QM)return bS;QM=1;var t=Sl(),e=El(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return bS=n,bS}var _S,JM;function oT(){if(JM)return _S;JM=1;var t=Ame(),e=El(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(a){return e(a)&&n.call(a,"callee")&&!i.call(a,"callee")};return _S=s,_S}var Kp={exports:{}},SS,eD;function Nme(){if(eD)return SS;eD=1;function t(){return!1}return SS=t,SS}Kp.exports;var tD;function oW(){return tD||(tD=1,(function(t,e){var r=ko(),n=Nme(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,c=a?r.Buffer:void 0,u=c?c.isBuffer:void 0,h=u||n;t.exports=h})(Kp,Kp.exports)),Kp.exports}var ES,rD;function lT(){if(rD)return ES;rD=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return ES=r,ES}var CS,nD;function cT(){if(nD)return CS;nD=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return CS=e,CS}var AS,iD;function jme(){if(iD)return AS;iD=1;var t=Sl(),e=cT(),r=El(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",a="[object Date]",c="[object Error]",u="[object Function]",h="[object Map]",g="[object Number]",v="[object Object]",w="[object RegExp]",b="[object Set]",A="[object String]",E="[object WeakMap]",C="[object ArrayBuffer]",R="[object DataView]",I="[object Float32Array]",P="[object Float64Array]",L="[object Int8Array]",T="[object Int16Array]",D="[object Int32Array]",M="[object Uint8Array]",$="[object Uint8ClampedArray]",V="[object Uint16Array]",K="[object Uint32Array]",H={};H[I]=H[P]=H[L]=H[T]=H[D]=H[M]=H[$]=H[V]=H[K]=!0,H[n]=H[i]=H[C]=H[s]=H[R]=H[a]=H[c]=H[u]=H[h]=H[g]=H[v]=H[w]=H[b]=H[A]=H[E]=!1;function z(Z){return r(Z)&&e(Z.length)&&!!H[t(Z)]}return AS=z,AS}var NS,sD;function lW(){if(sD)return NS;sD=1;function t(e){return function(r){return e(r)}}return NS=t,NS}var Yp={exports:{}};Yp.exports;var aD;function Ome(){return aD||(aD=1,(function(t,e){var r=Nq(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,a=s&&r.process,c=(function(){try{var u=i&&i.require&&i.require("util").types;return u||a&&a.binding&&a.binding("util")}catch{}})();t.exports=c})(Yp,Yp.exports)),Yp.exports}var jS,oD;function cW(){if(oD)return jS;oD=1;var t=jme(),e=lW(),r=Ome(),n=r&&r.isTypedArray,i=n?e(n):t;return jS=i,jS}var OS,lD;function Tme(){if(lD)return OS;lD=1;var t=Cme(),e=oT(),r=Os(),n=oW(),i=lT(),s=cW(),a=Object.prototype,c=a.hasOwnProperty;function u(h,g){var v=r(h),w=!v&&e(h),b=!v&&!w&&n(h),A=!v&&!w&&!b&&s(h),E=v||w||b||A,C=E?t(h.length,String):[],R=C.length;for(var I in h)(g||c.call(h,I))&&!(E&&(I=="length"||b&&(I=="offset"||I=="parent")||A&&(I=="buffer"||I=="byteLength"||I=="byteOffset")||i(I,R)))&&C.push(I);return C}return OS=u,OS}var TS,cD;function kme(){if(cD)return TS;cD=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return TS=e,TS}var kS,uD;function uW(){if(uD)return kS;uD=1;function t(e,r){return function(n){return e(r(n))}}return kS=t,kS}var PS,dD;function Pme(){if(dD)return PS;dD=1;var t=uW(),e=t(Object.keys,Object);return PS=e,PS}var IS,fD;function Ime(){if(fD)return IS;fD=1;var t=kme(),e=Pme(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!t(s))return e(s);var a=[];for(var c in Object(s))n.call(s,c)&&c!="constructor"&&a.push(c);return a}return IS=i,IS}var RS,hD;function Bg(){if(hD)return RS;hD=1;var t=GO(),e=cT();function r(n){return n!=null&&e(n.length)&&!t(n)}return RS=r,RS}var MS,pD;function Ox(){if(pD)return MS;pD=1;var t=Tme(),e=Ime(),r=Bg();function n(i){return r(i)?t(i):e(i)}return MS=n,MS}var DS,mD;function Rme(){if(mD)return DS;mD=1;var t=bme(),e=Eme(),r=Ox();function n(i){return t(i,r,e)}return DS=n,DS}var LS,gD;function Mme(){if(gD)return LS;gD=1;var t=Rme(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,a,c,u,h,g){var v=c&e,w=t(s),b=w.length,A=t(a),E=A.length;if(b!=E&&!v)return!1;for(var C=b;C--;){var R=w[C];if(!(v?R in a:n.call(a,R)))return!1}var I=g.get(s),P=g.get(a);if(I&&P)return I==a&&P==s;var L=!0;g.set(s,a),g.set(a,s);for(var T=v;++C<b;){R=w[C];var D=s[R],M=a[R];if(u)var $=v?u(M,D,R,a,s,g):u(D,M,R,s,a,g);if(!($===void 0?D===M||h(D,M,c,u,g):$)){L=!1;break}T||(T=R=="constructor")}if(L&&!T){var V=s.constructor,K=a.constructor;V!=K&&"constructor"in s&&"constructor"in a&&!(typeof V=="function"&&V instanceof V&&typeof K=="function"&&K instanceof K)&&(L=!1)}return g.delete(s),g.delete(a),L}return LS=i,LS}var BS,vD;function Dme(){if(vD)return BS;vD=1;var t=gd(),e=ko(),r=t(e,"DataView");return BS=r,BS}var FS,yD;function Lme(){if(yD)return FS;yD=1;var t=gd(),e=ko(),r=t(e,"Promise");return FS=r,FS}var US,xD;function dW(){if(xD)return US;xD=1;var t=gd(),e=ko(),r=t(e,"Set");return US=r,US}var $S,wD;function Bme(){if(wD)return $S;wD=1;var t=gd(),e=ko(),r=t(e,"WeakMap");return $S=r,$S}var VS,bD;function Fme(){if(bD)return VS;bD=1;var t=Dme(),e=YO(),r=Lme(),n=dW(),i=Bme(),s=Sl(),a=jq(),c="[object Map]",u="[object Object]",h="[object Promise]",g="[object Set]",v="[object WeakMap]",w="[object DataView]",b=a(t),A=a(e),E=a(r),C=a(n),R=a(i),I=s;return(t&&I(new t(new ArrayBuffer(1)))!=w||e&&I(new e)!=c||r&&I(r.resolve())!=h||n&&I(new n)!=g||i&&I(new i)!=v)&&(I=function(P){var L=s(P),T=L==u?P.constructor:void 0,D=T?a(T):"";if(D)switch(D){case b:return w;case A:return c;case E:return h;case C:return g;case R:return v}return L}),VS=I,VS}var qS,_D;function Ume(){if(_D)return qS;_D=1;var t=tW(),e=sW(),r=wme(),n=Mme(),i=Fme(),s=Os(),a=oW(),c=cW(),u=1,h="[object Arguments]",g="[object Array]",v="[object Object]",w=Object.prototype,b=w.hasOwnProperty;function A(E,C,R,I,P,L){var T=s(E),D=s(C),M=T?g:i(E),$=D?g:i(C);M=M==h?v:M,$=$==h?v:$;var V=M==v,K=$==v,H=M==$;if(H&&a(E)){if(!a(C))return!1;T=!0,V=!1}if(H&&!V)return L||(L=new t),T||c(E)?e(E,C,R,I,P,L):r(E,C,M,R,I,P,L);if(!(R&u)){var z=V&&b.call(E,"__wrapped__"),Z=K&&b.call(C,"__wrapped__");if(z||Z){var W=z?E.value():E,G=Z?C.value():C;return L||(L=new t),P(W,G,R,I,L)}}return H?(L||(L=new t),n(E,C,R,I,P,L)):!1}return qS=A,qS}var WS,SD;function uT(){if(SD)return WS;SD=1;var t=Ume(),e=El();function r(n,i,s,a,c){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,s,a,r,c)}return WS=r,WS}var zS,ED;function $me(){if(ED)return zS;ED=1;var t=tW(),e=uT(),r=1,n=2;function i(s,a,c,u){var h=c.length,g=h,v=!u;if(s==null)return!g;for(s=Object(s);h--;){var w=c[h];if(v&&w[2]?w[1]!==s[w[0]]:!(w[0]in s))return!1}for(;++h<g;){w=c[h];var b=w[0],A=s[b],E=w[1];if(v&&w[2]){if(A===void 0&&!(b in s))return!1}else{var C=new t;if(u)var R=u(A,E,b,s,a,C);if(!(R===void 0?e(E,A,r|n,u,C):R))return!1}}return!0}return zS=i,zS}var HS,CD;function fW(){if(CD)return HS;CD=1;var t=$c();function e(r){return r===r&&!t(r)}return HS=e,HS}var GS,AD;function Vme(){if(AD)return GS;AD=1;var t=fW(),e=Ox();function r(n){for(var i=e(n),s=i.length;s--;){var a=i[s],c=n[a];i[s]=[a,c,t(c)]}return i}return GS=r,GS}var KS,ND;function hW(){if(ND)return KS;ND=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return KS=t,KS}var YS,jD;function qme(){if(jD)return YS;jD=1;var t=$me(),e=Vme(),r=hW();function n(i){var s=e(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(a){return a===i||t(a,i,s)}}return YS=n,YS}var XS,OD;function Wme(){if(OD)return XS;OD=1;function t(e,r){return e!=null&&r in Object(e)}return XS=t,XS}var ZS,TD;function zme(){if(TD)return ZS;TD=1;var t=kq(),e=oT(),r=Os(),n=lT(),i=cT(),s=Ex();function a(c,u,h){u=t(u,c);for(var g=-1,v=u.length,w=!1;++g<v;){var b=s(u[g]);if(!(w=c!=null&&h(c,b)))break;c=c[b]}return w||++g!=v?w:(v=c==null?0:c.length,!!v&&i(v)&&n(b,v)&&(r(c)||e(c)))}return ZS=a,ZS}var QS,kD;function Hme(){if(kD)return QS;kD=1;var t=Wme(),e=zme();function r(n,i){return n!=null&&e(n,i,t)}return QS=r,QS}var JS,PD;function Gme(){if(PD)return JS;PD=1;var t=uT(),e=Pq(),r=Hme(),n=HO(),i=fW(),s=hW(),a=Ex(),c=1,u=2;function h(g,v){return n(g)&&i(v)?s(a(g),v):function(w){var b=e(w,g);return b===void 0&&b===v?r(w,g):t(v,b,c|u)}}return JS=h,JS}var eE,ID;function Rh(){if(ID)return eE;ID=1;function t(e){return e}return eE=t,eE}var tE,RD;function Kme(){if(RD)return tE;RD=1;function t(e){return function(r){return r?.[e]}}return tE=t,tE}var rE,MD;function Yme(){if(MD)return rE;MD=1;var t=QO();function e(r){return function(n){return t(n,r)}}return rE=e,rE}var nE,DD;function Xme(){if(DD)return nE;DD=1;var t=Kme(),e=Yme(),r=HO(),n=Ex();function i(s){return r(s)?t(n(s)):e(s)}return nE=i,nE}var iE,LD;function Po(){if(LD)return iE;LD=1;var t=qme(),e=Gme(),r=Rh(),n=Os(),i=Xme();function s(a){return typeof a=="function"?a:a==null?r:typeof a=="object"?n(a)?e(a[0],a[1]):t(a):i(a)}return iE=s,iE}var sE,BD;function pW(){if(BD)return sE;BD=1;function t(e,r,n,i){for(var s=e.length,a=n+(i?1:-1);i?a--:++a<s;)if(r(e[a],a,e))return a;return-1}return sE=t,sE}var aE,FD;function Zme(){if(FD)return aE;FD=1;function t(e){return e!==e}return aE=t,aE}var oE,UD;function Qme(){if(UD)return oE;UD=1;function t(e,r,n){for(var i=n-1,s=e.length;++i<s;)if(e[i]===r)return i;return-1}return oE=t,oE}var lE,$D;function Jme(){if($D)return lE;$D=1;var t=pW(),e=Zme(),r=Qme();function n(i,s,a){return s===s?r(i,s,a):t(i,e,a)}return lE=n,lE}var cE,VD;function ege(){if(VD)return cE;VD=1;var t=Jme();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return cE=e,cE}var uE,qD;function tge(){if(qD)return uE;qD=1;function t(e,r,n){for(var i=-1,s=e==null?0:e.length;++i<s;)if(n(r,e[i]))return!0;return!1}return uE=t,uE}var dE,WD;function rge(){if(WD)return dE;WD=1;function t(){}return dE=t,dE}var fE,zD;function nge(){if(zD)return fE;zD=1;var t=dW(),e=rge(),r=aT(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(s){return new t(s)}:e;return fE=i,fE}var hE,HD;function ige(){if(HD)return hE;HD=1;var t=rW(),e=ege(),r=tge(),n=iW(),i=nge(),s=aT(),a=200;function c(u,h,g){var v=-1,w=e,b=u.length,A=!0,E=[],C=E;if(g)A=!1,w=r;else if(b>=a){var R=h?null:i(u);if(R)return s(R);A=!1,w=n,C=new t}else C=h?[]:E;e:for(;++v<b;){var I=u[v],P=h?h(I):I;if(I=g||I!==0?I:0,A&&P===P){for(var L=C.length;L--;)if(C[L]===P)continue e;h&&C.push(P),E.push(I)}else w(C,P,g)||(C!==E&&C.push(P),E.push(I))}return E}return hE=c,hE}var pE,GD;function sge(){if(GD)return pE;GD=1;var t=Po(),e=ige();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return pE=r,pE}var age=sge();const KD=Rr(age);function mW(t,e,r){return e===!0?KD(t,r):Gt(e)?KD(t,e):t}function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}var oge=["ref"];function YD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YD(Object(r),!0).forEach(function(n){Tx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vW(n.key),n)}}function cge(t,e,r){return e&&XD(t.prototype,e),r&&XD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function uge(t,e,r){return e=Dy(e),dge(t,gW()?Reflect.construct(e,r||[],Dy(t).constructor):e.apply(t,r))}function dge(t,e){if(e&&(Hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fge(t)}function fge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gW=function(){return!!t})()}function Dy(t){return Dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dy(t)}function hge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZA(t,e)}function ZA(t,e){return ZA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZA(t,e)}function Tx(t,e,r){return e=vW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vW(t){var e=pge(t,"string");return Hf(e)=="symbol"?e:e+""}function pge(t,e){if(Hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function mge(t,e){if(t==null)return{};var r=gge(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vge(t){return t.value}function yge(t,e){if(re.isValidElement(t))return re.cloneElement(t,e);if(typeof t=="function")return re.createElement(t,e);e.ref;var r=mge(e,oge);return re.createElement(sT,r)}var ZD=1,ol=(function(t){function e(){var r;lge(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=uge(this,e,[].concat(i)),Tx(r,"lastBoundingBox",{width:-1,height:-1}),r}return hge(e,t),cge(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>ZD||Math.abs(i.height-this.lastBoundingBox.height)>ZD)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Zo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,a=i.align,c=i.verticalAlign,u=i.margin,h=i.chartWidth,g=i.chartHeight,v,w;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(a==="center"&&s==="vertical"){var b=this.getBBoxSnapshot();v={left:((h||0)-b.width)/2}}else v=a==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(c==="middle"){var A=this.getBBoxSnapshot();w={top:((g||0)-A.height)/2}}else w=c==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return Zo(Zo({},v),w)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,a=i.width,c=i.height,u=i.wrapperStyle,h=i.payloadUniqBy,g=i.payload,v=Zo(Zo({position:"absolute",width:a||"auto",height:c||"auto"},this.getDefaultPosition(u)),u);return re.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:function(b){n.wrapperNode=b}},yge(s,Zo(Zo({},this.props),{},{payload:mW(g,h,vge)})))}}],[{key:"getWithHeight",value:function(n,i){var s=Zo(Zo({},this.defaultProps),n.props),a=s.layout;return a==="vertical"&&rt(n.props.height)?{height:n.props.height}:a==="horizontal"?{width:n.props.width||i}:null}}])})(j.PureComponent);Tx(ol,"displayName","Legend");Tx(ol,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var mE,QD;function xge(){if(QD)return mE;QD=1;var t=Lg(),e=oT(),r=Os(),n=t?t.isConcatSpreadable:void 0;function i(s){return r(s)||e(s)||!!(n&&s&&s[n])}return mE=i,mE}var gE,JD;function yW(){if(JD)return gE;JD=1;var t=aW(),e=xge();function r(n,i,s,a,c){var u=-1,h=n.length;for(s||(s=e),c||(c=[]);++u<h;){var g=n[u];i>0&&s(g)?i>1?r(g,i-1,s,a,c):t(c,g):a||(c[c.length]=g)}return c}return gE=r,gE}var vE,e8;function wge(){if(e8)return vE;e8=1;function t(e){return function(r,n,i){for(var s=-1,a=Object(r),c=i(r),u=c.length;u--;){var h=c[e?u:++s];if(n(a[h],h,a)===!1)break}return r}}return vE=t,vE}var yE,t8;function bge(){if(t8)return yE;t8=1;var t=wge(),e=t();return yE=e,yE}var xE,r8;function xW(){if(r8)return xE;r8=1;var t=bge(),e=Ox();function r(n,i){return n&&t(n,i,e)}return xE=r,xE}var wE,n8;function _ge(){if(n8)return wE;n8=1;var t=Bg();function e(r,n){return function(i,s){if(i==null)return i;if(!t(i))return r(i,s);for(var a=i.length,c=n?a:-1,u=Object(i);(n?c--:++c<a)&&s(u[c],c,u)!==!1;);return i}}return wE=e,wE}var bE,i8;function dT(){if(i8)return bE;i8=1;var t=xW(),e=_ge(),r=e(t);return bE=r,bE}var _E,s8;function wW(){if(s8)return _E;s8=1;var t=dT(),e=Bg();function r(n,i){var s=-1,a=e(n)?Array(n.length):[];return t(n,function(c,u,h){a[++s]=i(c,u,h)}),a}return _E=r,_E}var SE,a8;function Sge(){if(a8)return SE;a8=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return SE=t,SE}var EE,o8;function Ege(){if(o8)return EE;o8=1;var t=kh();function e(r,n){if(r!==n){var i=r!==void 0,s=r===null,a=r===r,c=t(r),u=n!==void 0,h=n===null,g=n===n,v=t(n);if(!h&&!v&&!c&&r>n||c&&u&&g&&!h&&!v||s&&u&&g||!i&&g||!a)return 1;if(!s&&!c&&!v&&r<n||v&&i&&a&&!s&&!c||h&&i&&a||!u&&a||!g)return-1}return 0}return EE=e,EE}var CE,l8;function Cge(){if(l8)return CE;l8=1;var t=Ege();function e(r,n,i){for(var s=-1,a=r.criteria,c=n.criteria,u=a.length,h=i.length;++s<u;){var g=t(a[s],c[s]);if(g){if(s>=h)return g;var v=i[s];return g*(v=="desc"?-1:1)}}return r.index-n.index}return CE=e,CE}var AE,c8;function Age(){if(c8)return AE;c8=1;var t=ZO(),e=QO(),r=Po(),n=wW(),i=Sge(),s=lW(),a=Cge(),c=Rh(),u=Os();function h(g,v,w){v.length?v=t(v,function(E){return u(E)?function(C){return e(C,E.length===1?E[0]:E)}:E}):v=[c];var b=-1;v=t(v,s(r));var A=n(g,function(E,C,R){var I=t(v,function(P){return P(E)});return{criteria:I,index:++b,value:E}});return i(A,function(E,C){return a(E,C,w)})}return AE=h,AE}var NE,u8;function Nge(){if(u8)return NE;u8=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return NE=t,NE}var jE,d8;function jge(){if(d8)return jE;d8=1;var t=Nge(),e=Math.max;function r(n,i,s){return i=e(i===void 0?n.length-1:i,0),function(){for(var a=arguments,c=-1,u=e(a.length-i,0),h=Array(u);++c<u;)h[c]=a[i+c];c=-1;for(var g=Array(i+1);++c<i;)g[c]=a[c];return g[i]=s(h),t(n,this,g)}}return jE=r,jE}var OE,f8;function Oge(){if(f8)return OE;f8=1;function t(e){return function(){return e}}return OE=t,OE}var TE,h8;function bW(){if(h8)return TE;h8=1;var t=gd(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return TE=e,TE}var kE,p8;function Tge(){if(p8)return kE;p8=1;var t=Oge(),e=bW(),r=Rh(),n=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:r;return kE=n,kE}var PE,m8;function kge(){if(m8)return PE;m8=1;var t=800,e=16,r=Date.now;function n(i){var s=0,a=0;return function(){var c=r(),u=e-(c-a);if(a=c,u>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return PE=n,PE}var IE,g8;function Pge(){if(g8)return IE;g8=1;var t=Tge(),e=kge(),r=e(t);return IE=r,IE}var RE,v8;function Ige(){if(v8)return RE;v8=1;var t=Rh(),e=jge(),r=Pge();function n(i,s){return r(e(i,s,t),i+"")}return RE=n,RE}var ME,y8;function kx(){if(y8)return ME;y8=1;var t=KO(),e=Bg(),r=lT(),n=$c();function i(s,a,c){if(!n(c))return!1;var u=typeof a;return(u=="number"?e(c)&&r(a,c.length):u=="string"&&a in c)?t(c[a],s):!1}return ME=i,ME}var DE,x8;function Rge(){if(x8)return DE;x8=1;var t=yW(),e=Age(),r=Ige(),n=kx(),i=r(function(s,a){if(s==null)return[];var c=a.length;return c>1&&n(s,a[0],a[1])?a=[]:c>2&&n(a[0],a[1],a[2])&&(a=[a[0]]),e(s,t(a,1),[])});return DE=i,DE}var Mge=Rge();const fT=Rr(Mge);function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}function QA(){return QA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QA.apply(this,arguments)}function Dge(t,e){return Uge(t)||Fge(t,e)||Bge(t,e)||Lge()}function Lge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bge(t,e){if(t){if(typeof t=="string")return w8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w8(t,e)}}function w8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,c=[],u=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(h)throw i}}return c}}function Uge(t){if(Array.isArray(t))return t}function b8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b8(Object(r),!0).forEach(function(n){$ge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ge(t,e,r){return e=Vge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vge(t){var e=qge(t,"string");return Im(e)=="symbol"?e:e+""}function qge(t,e){if(Im(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wge(t){return Array.isArray(t)&&vi(t[0])&&vi(t[1])?t.join(" ~ "):t}var zge=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,c=a===void 0?{}:a,u=e.labelStyle,h=u===void 0?{}:u,g=e.payload,v=e.formatter,w=e.itemSorter,b=e.wrapperClassName,A=e.labelClassName,E=e.label,C=e.labelFormatter,R=e.accessibilityLayer,I=R===void 0?!1:R,P=function(){if(g&&g.length){var z={padding:0,margin:0},Z=(w?fT(g,w):g).map(function(W,G){if(W.type==="none")return null;var J=LE({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},c),ie=W.formatter||v||Wge,ne=W.value,ee=W.name,de=ne,se=ee;if(ie&&de!=null&&se!=null){var le=ie(ne,ee,W,G,g);if(Array.isArray(le)){var me=Dge(le,2);de=me[0],se=me[1]}else de=le}return re.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:J},vi(se)?re.createElement("span",{className:"recharts-tooltip-item-name"},se):null,vi(se)?re.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,re.createElement("span",{className:"recharts-tooltip-item-value"},de),re.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return re.createElement("ul",{className:"recharts-tooltip-item-list",style:z},Z)}return null},L=LE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),T=LE({margin:0},h),D=!tr(E),M=D?E:"",$=nr("recharts-default-tooltip",b),V=nr("recharts-tooltip-label",A);D&&C&&g!==void 0&&g!==null&&(M=C(E,g));var K=I?{role:"status","aria-live":"assertive"}:{};return re.createElement("div",QA({className:$,style:L},K),re.createElement("p",{className:V,style:T},re.isValidElement(M)?M:"".concat(M)),P())};function Rm(t){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rm(t)}function wv(t,e,r){return e=Hge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hge(t){var e=Gge(t,"string");return Rm(e)=="symbol"?e:e+""}function Gge(t,e){if(Rm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ip="recharts-tooltip-wrapper",Kge={visibility:"hidden"};function Yge(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return nr(Ip,wv(wv(wv(wv({},"".concat(Ip,"-right"),rt(r)&&e&&rt(e.x)&&r>=e.x),"".concat(Ip,"-left"),rt(r)&&e&&rt(e.x)&&r<e.x),"".concat(Ip,"-bottom"),rt(n)&&e&&rt(e.y)&&n>=e.y),"".concat(Ip,"-top"),rt(n)&&e&&rt(e.y)&&n<e.y))}function _8(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,c=t.tooltipDimension,u=t.viewBox,h=t.viewBoxDimension;if(s&&rt(s[n]))return s[n];var g=r[n]-c-i,v=r[n]+i;if(e[n])return a[n]?g:v;if(a[n]){var w=g,b=u[n];return w<b?Math.max(v,u[n]):Math.max(g,u[n])}var A=v+c,E=u[n]+h;return A>E?Math.max(g,u[n]):Math.max(v,u[n])}function Xge(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Zge(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,c=t.useTranslate3d,u=t.viewBox,h,g,v;return a.height>0&&a.width>0&&r?(g=_8({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:u,viewBoxDimension:u.width}),v=_8({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:u,viewBoxDimension:u.height}),h=Xge({translateX:g,translateY:v,useTranslate3d:c})):h=Kge,{cssProperties:h,cssClasses:Yge({translateX:g,translateY:v,coordinate:r})}}function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function S8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function E8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S8(Object(r),!0).forEach(function(n){eN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SW(n.key),n)}}function e0e(t,e,r){return e&&Jge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function t0e(t,e,r){return e=Ly(e),r0e(t,_W()?Reflect.construct(e,r||[],Ly(t).constructor):e.apply(t,r))}function r0e(t,e){if(e&&(Gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n0e(t)}function n0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _W(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_W=function(){return!!t})()}function Ly(t){return Ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ly(t)}function i0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JA(t,e)}function JA(t,e){return JA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JA(t,e)}function eN(t,e,r){return e=SW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SW(t){var e=s0e(t,"string");return Gf(e)=="symbol"?e:e+""}function s0e(t,e){if(Gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var C8=1,a0e=(function(t){function e(){var r;Qge(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=t0e(this,e,[].concat(i)),eN(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),eN(r,"handleKeyDown",function(a){if(a.key==="Escape"){var c,u,h,g;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&c!==void 0?c:0,y:(h=(g=r.props.coordinate)===null||g===void 0?void 0:g.y)!==null&&h!==void 0?h:0}})}}),r}return i0e(e,t),e0e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>C8||Math.abs(n.height-this.state.lastBoundingBox.height)>C8)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,c=i.animationDuration,u=i.animationEasing,h=i.children,g=i.coordinate,v=i.hasPayload,w=i.isAnimationActive,b=i.offset,A=i.position,E=i.reverseDirection,C=i.useTranslate3d,R=i.viewBox,I=i.wrapperStyle,P=Zge({allowEscapeViewBox:a,coordinate:g,offsetTopLeft:b,position:A,reverseDirection:E,tooltipBox:this.state.lastBoundingBox,useTranslate3d:C,viewBox:R}),L=P.cssClasses,T=P.cssProperties,D=E8(E8({transition:w&&s?"transform ".concat(c,"ms ").concat(u):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&v?"visible":"hidden",position:"absolute",top:0,left:0},I);return re.createElement("div",{tabIndex:-1,className:L,style:D,ref:function($){n.wrapperNode=$}},h)}}])})(j.PureComponent),o0e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Vc={isSsr:o0e()};function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function A8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function N8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A8(Object(r),!0).forEach(function(n){hT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function l0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CW(n.key),n)}}function u0e(t,e,r){return e&&c0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function d0e(t,e,r){return e=By(e),f0e(t,EW()?Reflect.construct(e,r||[],By(t).constructor):e.apply(t,r))}function f0e(t,e){if(e&&(Kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h0e(t)}function h0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EW=function(){return!!t})()}function By(t){return By=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},By(t)}function p0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tN(t,e)}function tN(t,e){return tN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tN(t,e)}function hT(t,e,r){return e=CW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CW(t){var e=m0e(t,"string");return Kf(e)=="symbol"?e:e+""}function m0e(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function g0e(t){return t.dataKey}function v0e(t,e){return re.isValidElement(t)?re.cloneElement(t,e):typeof t=="function"?re.createElement(t,e):re.createElement(zge,e)}var zs=(function(t){function e(){return l0e(this,e),d0e(this,e,arguments)}return p0e(e,t),u0e(e,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,c=i.animationDuration,u=i.animationEasing,h=i.content,g=i.coordinate,v=i.filterNull,w=i.isAnimationActive,b=i.offset,A=i.payload,E=i.payloadUniqBy,C=i.position,R=i.reverseDirection,I=i.useTranslate3d,P=i.viewBox,L=i.wrapperStyle,T=A??[];v&&T.length&&(T=mW(A.filter(function(M){return M.value!=null&&(M.hide!==!0||n.props.includeHidden)}),E,g0e));var D=T.length>0;return re.createElement(a0e,{allowEscapeViewBox:a,animationDuration:c,animationEasing:u,isAnimationActive:w,active:s,coordinate:g,hasPayload:D,offset:b,position:C,reverseDirection:R,useTranslate3d:I,viewBox:P,wrapperStyle:L},v0e(h,N8(N8({},this.props),{},{payload:T})))}}])})(j.PureComponent);hT(zs,"displayName","Tooltip");hT(zs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Vc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var BE,j8;function y0e(){if(j8)return BE;j8=1;var t=ko(),e=function(){return t.Date.now()};return BE=e,BE}var FE,O8;function x0e(){if(O8)return FE;O8=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return FE=e,FE}var UE,T8;function w0e(){if(T8)return UE;T8=1;var t=x0e(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return UE=r,UE}var $E,k8;function AW(){if(k8)return $E;k8=1;var t=w0e(),e=$c(),r=kh(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,c=parseInt;function u(h){if(typeof h=="number")return h;if(r(h))return n;if(e(h)){var g=typeof h.valueOf=="function"?h.valueOf():h;h=e(g)?g+"":g}if(typeof h!="string")return h===0?h:+h;h=t(h);var v=s.test(h);return v||a.test(h)?c(h.slice(2),v?2:8):i.test(h)?n:+h}return $E=u,$E}var VE,P8;function b0e(){if(P8)return VE;P8=1;var t=$c(),e=y0e(),r=AW(),n="Expected a function",i=Math.max,s=Math.min;function a(c,u,h){var g,v,w,b,A,E,C=0,R=!1,I=!1,P=!0;if(typeof c!="function")throw new TypeError(n);u=r(u)||0,t(h)&&(R=!!h.leading,I="maxWait"in h,w=I?i(r(h.maxWait)||0,u):w,P="trailing"in h?!!h.trailing:P);function L(Z){var W=g,G=v;return g=v=void 0,C=Z,b=c.apply(G,W),b}function T(Z){return C=Z,A=setTimeout($,u),R?L(Z):b}function D(Z){var W=Z-E,G=Z-C,J=u-W;return I?s(J,w-G):J}function M(Z){var W=Z-E,G=Z-C;return E===void 0||W>=u||W<0||I&&G>=w}function $(){var Z=e();if(M(Z))return V(Z);A=setTimeout($,D(Z))}function V(Z){return A=void 0,P&&g?L(Z):(g=v=void 0,b)}function K(){A!==void 0&&clearTimeout(A),C=0,g=E=v=A=void 0}function H(){return A===void 0?b:V(e())}function z(){var Z=e(),W=M(Z);if(g=arguments,v=this,E=Z,W){if(A===void 0)return T(E);if(I)return clearTimeout(A),A=setTimeout($,u),L(E)}return A===void 0&&(A=setTimeout($,u)),b}return z.cancel=K,z.flush=H,z}return VE=a,VE}var qE,I8;function _0e(){if(I8)return qE;I8=1;var t=b0e(),e=$c(),r="Expected a function";function n(i,s,a){var c=!0,u=!0;if(typeof i!="function")throw new TypeError(r);return e(a)&&(c="leading"in a?!!a.leading:c,u="trailing"in a?!!a.trailing:u),t(i,s,{leading:c,maxWait:s,trailing:u})}return qE=n,qE}var S0e=_0e();const NW=Rr(S0e);function Mm(t){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mm(t)}function R8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R8(Object(r),!0).forEach(function(n){E0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function E0e(t,e,r){return e=C0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C0e(t){var e=A0e(t,"string");return Mm(e)=="symbol"?e:e+""}function A0e(t,e){if(Mm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N0e(t,e){return k0e(t)||T0e(t,e)||O0e(t,e)||j0e()}function j0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O0e(t,e){if(t){if(typeof t=="string")return M8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M8(t,e)}}function M8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function T0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,c=[],u=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(h)throw i}}return c}}function k0e(t){if(Array.isArray(t))return t}var _v=j.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=t.width,a=s===void 0?"100%":s,c=t.height,u=c===void 0?"100%":c,h=t.minWidth,g=h===void 0?0:h,v=t.minHeight,w=t.maxHeight,b=t.children,A=t.debounce,E=A===void 0?0:A,C=t.id,R=t.className,I=t.onResize,P=t.style,L=P===void 0?{}:P,T=j.useRef(null),D=j.useRef();D.current=I,j.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var M=j.useState({containerWidth:i.width,containerHeight:i.height}),$=N0e(M,2),V=$[0],K=$[1],H=j.useCallback(function(Z,W){K(function(G){var J=Math.round(Z),ie=Math.round(W);return G.containerWidth===J&&G.containerHeight===ie?G:{containerWidth:J,containerHeight:ie}})},[]);j.useEffect(function(){var Z=function(ee){var de,se=ee[0].contentRect,le=se.width,me=se.height;H(le,me),(de=D.current)===null||de===void 0||de.call(D,le,me)};E>0&&(Z=NW(Z,E,{trailing:!0,leading:!1}));var W=new ResizeObserver(Z),G=T.current.getBoundingClientRect(),J=G.width,ie=G.height;return H(J,ie),W.observe(T.current),function(){W.disconnect()}},[H,E]);var z=j.useMemo(function(){var Z=V.containerWidth,W=V.containerHeight;if(Z<0||W<0)return null;Xa(Mu(a)||Mu(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,u),Xa(!r||r>0,"The aspect(%s) must be greater than zero.",r);var G=Mu(a)?Z:a,J=Mu(u)?W:u;r&&r>0&&(G?J=G/r:J&&(G=J*r),w&&J>w&&(J=w)),Xa(G>0||J>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,J,a,u,g,v,r);var ie=!Array.isArray(b)&&al(b.type).endsWith("Chart");return re.Children.map(b,function(ne){return re.isValidElement(ne)?j.cloneElement(ne,bv({width:G,height:J},ie?{style:bv({height:"100%",width:"100%",maxHeight:J,maxWidth:G},ne.props.style)}:{})):ne})},[r,b,u,w,v,g,V,a]);return re.createElement("div",{id:C?"".concat(C):void 0,className:nr("recharts-responsive-container",R),style:bv(bv({},L),{},{width:a,height:u,minWidth:g,minHeight:v,maxHeight:w}),ref:T},z)}),Px=function(e){return null};Px.displayName="Cell";function Dm(t){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(t)}function D8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D8(Object(r),!0).forEach(function(n){P0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P0e(t,e,r){return e=I0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I0e(t){var e=R0e(t,"string");return Dm(e)=="symbol"?e:e+""}function R0e(t,e){if(Dm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sf={widthCache:{},cacheCount:0},M0e=2e3,D0e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},L8="recharts_measurement_span";function L0e(t){var e=rN({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var tm=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Vc.isSsr)return{width:0,height:0};var n=L0e(r),i=JSON.stringify({text:e,copyStyle:n});if(sf.widthCache[i])return sf.widthCache[i];try{var s=document.getElementById(L8);s||(s=document.createElement("span"),s.setAttribute("id",L8),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=rN(rN({},D0e),n);Object.assign(s.style,a),s.textContent="".concat(e);var c=s.getBoundingClientRect(),u={width:c.width,height:c.height};return sf.widthCache[i]=u,++sf.cacheCount>M0e&&(sf.cacheCount=0,sf.widthCache={}),u}catch{return{width:0,height:0}}},B0e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Lm(t){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lm(t)}function Fy(t,e){return V0e(t)||$0e(t,e)||U0e(t,e)||F0e()}function F0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U0e(t,e){if(t){if(typeof t=="string")return B8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B8(t,e)}}function B8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,c=[],u=!0,h=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(h)throw i}}return c}}function V0e(t){if(Array.isArray(t))return t}function q0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,z0e(n.key),n)}}function W0e(t,e,r){return e&&F8(t.prototype,e),r&&F8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function z0e(t){var e=H0e(t,"string");return Lm(e)=="symbol"?e:e+""}function H0e(t,e){if(Lm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var U8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,G0e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,K0e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,jW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Y0e=Object.keys(jW),mf="NaN";function X0e(t,e){return t*jW[e]}var Sv=(function(){function t(e,r){q0e(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!G0e.test(r)&&(this.num=NaN,this.unit=""),Y0e.includes(r)&&(this.num=X0e(e,r),this.unit="px")}return W0e(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=K0e.exec(r))!==null&&n!==void 0?n:[],s=Fy(i,3),a=s[1],c=s[2];return new t(parseFloat(a),c??"")}}])})();function OW(t){if(t.includes(mf))return mf;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=U8.exec(e))!==null&&r!==void 0?r:[],i=Fy(n,4),s=i[1],a=i[2],c=i[3],u=Sv.parse(s??""),h=Sv.parse(c??""),g=a==="*"?u.multiply(h):u.divide(h);if(g.isNaN())return mf;e=e.replace(U8,g.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var v,w=(v=$8.exec(e))!==null&&v!==void 0?v:[],b=Fy(w,4),A=b[1],E=b[2],C=b[3],R=Sv.parse(A??""),I=Sv.parse(C??""),P=E==="+"?R.add(I):R.subtract(I);if(P.isNaN())return mf;e=e.replace($8,P.toString())}return e}var V8=/\(([^()]*)\)/;function Z0e(t){for(var e=t;e.includes("(");){var r=V8.exec(e),n=Fy(r,2),i=n[1];e=e.replace(V8,OW(i))}return e}function Q0e(t){var e=t.replace(/\s+/g,"");return e=Z0e(e),e=OW(e),e}function J0e(t){try{return Q0e(t)}catch{return mf}}function WE(t){var e=J0e(t.slice(5,-1));return e===mf?"":e}var eve=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],tve=["dx","dy","angle","className","breakAll"];function nN(){return nN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nN.apply(this,arguments)}function q8(t,e){if(t==null)return{};var r=rve(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rve(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function W8(t,e){return ave(t)||sve(t,e)||ive(t,e)||nve()}function nve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ive(t,e){if(t){if(typeof t=="string")return z8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z8(t,e)}}function z8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,c=[],u=!0,h=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(h)throw i}}return c}}function ave(t){if(Array.isArray(t))return t}var TW=/[ \f\n\r\t\v\u2028\u2029]+/,kW=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var s=[];tr(r)||(n?s=r.toString().split(""):s=r.toString().split(TW));var a=s.map(function(u){return{word:u,width:tm(u,i).width}}),c=n?0:tm("",i).width;return{wordsWithComputedWidth:a,spaceWidth:c}}catch{return null}},ove=function(e,r,n,i,s){var a=e.maxLines,c=e.children,u=e.style,h=e.breakAll,g=rt(a),v=c,w=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(J,ie){var ne=ie.word,ee=ie.width,de=J[J.length-1];if(de&&(i==null||s||de.width+ee+n<Number(i)))de.words.push(ne),de.width+=ee+n;else{var se={words:[ne],width:ee};J.push(se)}return J},[])},b=w(r),A=function(G){return G.reduce(function(J,ie){return J.width>ie.width?J:ie})};if(!g)return b;for(var E="",C=function(G){var J=v.slice(0,G),ie=kW({breakAll:h,style:u,children:J+E}).wordsWithComputedWidth,ne=w(ie),ee=ne.length>a||A(ne).width>Number(i);return[ee,ne]},R=0,I=v.length-1,P=0,L;R<=I&&P<=v.length-1;){var T=Math.floor((R+I)/2),D=T-1,M=C(D),$=W8(M,2),V=$[0],K=$[1],H=C(T),z=W8(H,1),Z=z[0];if(!V&&!Z&&(R=T+1),V&&Z&&(I=T-1),!V&&Z){L=K;break}P++}return L||b},H8=function(e){var r=tr(e)?[]:e.toString().split(TW);return[{words:r}]},lve=function(e){var r=e.width,n=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,c=e.maxLines;if((r||n)&&!Vc.isSsr){var u,h,g=kW({breakAll:a,children:i,style:s});if(g){var v=g.wordsWithComputedWidth,w=g.spaceWidth;u=v,h=w}else return H8(i);return ove({breakAll:a,children:i,maxLines:c,style:s},u,h,r,n)}return H8(i)},G8="#808080",nd=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,a=e.lineHeight,c=a===void 0?"1em":a,u=e.capHeight,h=u===void 0?"0.71em":u,g=e.scaleToFit,v=g===void 0?!1:g,w=e.textAnchor,b=w===void 0?"start":w,A=e.verticalAnchor,E=A===void 0?"end":A,C=e.fill,R=C===void 0?G8:C,I=q8(e,eve),P=j.useMemo(function(){return lve({breakAll:I.breakAll,children:I.children,maxLines:I.maxLines,scaleToFit:v,style:I.style,width:I.width})},[I.breakAll,I.children,I.maxLines,v,I.style,I.width]),L=I.dx,T=I.dy,D=I.angle,M=I.className,$=I.breakAll,V=q8(I,tve);if(!vi(n)||!vi(s))return null;var K=n+(rt(L)?L:0),H=s+(rt(T)?T:0),z;switch(E){case"start":z=WE("calc(".concat(h,")"));break;case"middle":z=WE("calc(".concat((P.length-1)/2," * -").concat(c," + (").concat(h," / 2))"));break;default:z=WE("calc(".concat(P.length-1," * -").concat(c,")"));break}var Z=[];if(v){var W=P[0].width,G=I.width;Z.push("scale(".concat((rt(G)?G/W:1)/W,")"))}return D&&Z.push("rotate(".concat(D,", ").concat(K,", ").concat(H,")")),Z.length&&(V.transform=Z.join(" ")),re.createElement("text",nN({},Rt(V,!0),{x:K,y:H,className:nr("recharts-text",M),textAnchor:b,fill:R.includes("url")?G8:R}),P.map(function(J,ie){var ne=J.words.join($?"":" ");return re.createElement("tspan",{x:K,dy:ie===0?z:c,key:"".concat(ne,"-").concat(ie)},ne)}))};function xc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function cve(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pT(t){let e,r,n;t.length!==2?(e=xc,r=(c,u)=>xc(t(c),u),n=(c,u)=>t(c)-u):(e=t===xc||t===cve?t:uve,r=t,n=t);function i(c,u,h=0,g=c.length){if(h<g){if(e(u,u)!==0)return g;do{const v=h+g>>>1;r(c[v],u)<0?h=v+1:g=v}while(h<g)}return h}function s(c,u,h=0,g=c.length){if(h<g){if(e(u,u)!==0)return g;do{const v=h+g>>>1;r(c[v],u)<=0?h=v+1:g=v}while(h<g)}return h}function a(c,u,h=0,g=c.length){const v=i(c,u,h,g-1);return v>h&&n(c[v-1],u)>-n(c[v],u)?v-1:v}return{left:i,center:a,right:s}}function uve(){return 0}function PW(t){return t===null?NaN:+t}function*dve(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const fve=pT(xc),Fg=fve.right;pT(PW).center;class K8 extends Map{constructor(e,r=mve){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(Y8(this,e))}has(e){return super.has(Y8(this,e))}set(e,r){return super.set(hve(this,e),r)}delete(e){return super.delete(pve(this,e))}}function Y8({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function hve({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function pve({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function mve(t){return t!==null&&typeof t=="object"?t.valueOf():t}function gve(t=xc){if(t===xc)return IW;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function IW(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const vve=Math.sqrt(50),yve=Math.sqrt(10),xve=Math.sqrt(2);function Uy(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=vve?10:s>=yve?5:s>=xve?2:1;let c,u,h;return i<0?(h=Math.pow(10,-i)/a,c=Math.round(t*h),u=Math.round(e*h),c/h<t&&++c,u/h>e&&--u,h=-h):(h=Math.pow(10,i)*a,c=Math.round(t/h),u=Math.round(e/h),c*h<t&&++c,u*h>e&&--u),u<c&&.5<=r&&r<2?Uy(t,e,r*2):[c,u,h]}function iN(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,a]=n?Uy(e,t,r):Uy(t,e,r);if(!(s>=i))return[];const c=s-i+1,u=new Array(c);if(n)if(a<0)for(let h=0;h<c;++h)u[h]=(s-h)/-a;else for(let h=0;h<c;++h)u[h]=(s-h)*a;else if(a<0)for(let h=0;h<c;++h)u[h]=(i+h)/-a;else for(let h=0;h<c;++h)u[h]=(i+h)*a;return u}function sN(t,e,r){return e=+e,t=+t,r=+r,Uy(t,e,r)[2]}function aN(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?sN(e,t,r):sN(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function X8(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Z8(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function RW(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?IW:gve(i);n>r;){if(n-r>600){const u=n-r+1,h=e-r+1,g=Math.log(u),v=.5*Math.exp(2*g/3),w=.5*Math.sqrt(g*v*(u-v)/u)*(h-u/2<0?-1:1),b=Math.max(r,Math.floor(e-h*v/u+w)),A=Math.min(n,Math.floor(e+(u-h)*v/u+w));RW(t,e,b,A,i)}const s=t[e];let a=r,c=n;for(Rp(t,r,e),i(t[n],s)>0&&Rp(t,r,n);a<c;){for(Rp(t,a,c),++a,--c;i(t[a],s)<0;)++a;for(;i(t[c],s)>0;)--c}i(t[r],s)===0?Rp(t,r,c):(++c,Rp(t,c,n)),c<=e&&(r=c+1),e<=c&&(n=c-1)}return t}function Rp(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function wve(t,e,r){if(t=Float64Array.from(dve(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return Z8(t);if(e>=1)return X8(t);var n,i=(n-1)*e,s=Math.floor(i),a=X8(RW(t,s).subarray(0,s+1)),c=Z8(t.subarray(s+1));return a+(c-a)*(i-s)}}function bve(t,e,r=PW){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),a=+r(t[s],s,t),c=+r(t[s+1],s+1,t);return a+(c-a)*(i-s)}}function _ve(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function Na(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Cl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const oN=Symbol("implicit");function mT(){var t=new K8,e=[],r=[],n=oN;function i(s){let a=t.get(s);if(a===void 0){if(n!==oN)return n;t.set(s,a=e.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new K8;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return mT(e,r).unknown(n)},Na.apply(i,arguments),i}function Bm(){var t=mT().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,a,c=!1,u=0,h=0,g=.5;delete t.unknown;function v(){var w=e().length,b=i<n,A=b?i:n,E=b?n:i;s=(E-A)/Math.max(1,w-u+h*2),c&&(s=Math.floor(s)),A+=(E-A-s*(w-u))*g,a=s*(1-u),c&&(A=Math.round(A),a=Math.round(a));var C=_ve(w).map(function(R){return A+s*R});return r(b?C.reverse():C)}return t.domain=function(w){return arguments.length?(e(w),v()):e()},t.range=function(w){return arguments.length?([n,i]=w,n=+n,i=+i,v()):[n,i]},t.rangeRound=function(w){return[n,i]=w,n=+n,i=+i,c=!0,v()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(w){return arguments.length?(c=!!w,v()):c},t.padding=function(w){return arguments.length?(u=Math.min(1,h=+w),v()):u},t.paddingInner=function(w){return arguments.length?(u=Math.min(1,w),v()):u},t.paddingOuter=function(w){return arguments.length?(h=+w,v()):h},t.align=function(w){return arguments.length?(g=Math.max(0,Math.min(1,w)),v()):g},t.copy=function(){return Bm(e(),[n,i]).round(c).paddingInner(u).paddingOuter(h).align(g)},Na.apply(v(),arguments)}function MW(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return MW(e())},t}function rm(){return MW(Bm.apply(null,arguments).paddingInner(1))}function gT(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function DW(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Ug(){}var Fm=.7,$y=1/Fm,jf="\\s*([+-]?\\d+)\\s*",Um="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Sve=/^#([0-9a-f]{3,8})$/,Eve=new RegExp(`^rgb\\(${jf},${jf},${jf}\\)$`),Cve=new RegExp(`^rgb\\(${_o},${_o},${_o}\\)$`),Ave=new RegExp(`^rgba\\(${jf},${jf},${jf},${Um}\\)$`),Nve=new RegExp(`^rgba\\(${_o},${_o},${_o},${Um}\\)$`),jve=new RegExp(`^hsl\\(${Um},${_o},${_o}\\)$`),Ove=new RegExp(`^hsla\\(${Um},${_o},${_o},${Um}\\)$`),Q8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gT(Ug,$m,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:J8,formatHex:J8,formatHex8:Tve,formatHsl:kve,formatRgb:e6,toString:e6});function J8(){return this.rgb().formatHex()}function Tve(){return this.rgb().formatHex8()}function kve(){return LW(this).formatHsl()}function e6(){return this.rgb().formatRgb()}function $m(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Sve.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?t6(e):r===3?new As(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Ev(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Ev(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Eve.exec(t))?new As(e[1],e[2],e[3],1):(e=Cve.exec(t))?new As(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ave.exec(t))?Ev(e[1],e[2],e[3],e[4]):(e=Nve.exec(t))?Ev(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=jve.exec(t))?i6(e[1],e[2]/100,e[3]/100,1):(e=Ove.exec(t))?i6(e[1],e[2]/100,e[3]/100,e[4]):Q8.hasOwnProperty(t)?t6(Q8[t]):t==="transparent"?new As(NaN,NaN,NaN,0):null}function t6(t){return new As(t>>16&255,t>>8&255,t&255,1)}function Ev(t,e,r,n){return n<=0&&(t=e=r=NaN),new As(t,e,r,n)}function Pve(t){return t instanceof Ug||(t=$m(t)),t?(t=t.rgb(),new As(t.r,t.g,t.b,t.opacity)):new As}function lN(t,e,r,n){return arguments.length===1?Pve(t):new As(t,e,r,n??1)}function As(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}gT(As,lN,DW(Ug,{brighter(t){return t=t==null?$y:Math.pow($y,t),new As(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Fm:Math.pow(Fm,t),new As(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new As(Vu(this.r),Vu(this.g),Vu(this.b),Vy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:r6,formatHex:r6,formatHex8:Ive,formatRgb:n6,toString:n6}));function r6(){return`#${Du(this.r)}${Du(this.g)}${Du(this.b)}`}function Ive(){return`#${Du(this.r)}${Du(this.g)}${Du(this.b)}${Du((isNaN(this.opacity)?1:this.opacity)*255)}`}function n6(){const t=Vy(this.opacity);return`${t===1?"rgb(":"rgba("}${Vu(this.r)}, ${Vu(this.g)}, ${Vu(this.b)}${t===1?")":`, ${t})`}`}function Vy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Du(t){return t=Vu(t),(t<16?"0":"")+t.toString(16)}function i6(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ka(t,e,r,n)}function LW(t){if(t instanceof Ka)return new Ka(t.h,t.s,t.l,t.opacity);if(t instanceof Ug||(t=$m(t)),!t)return new Ka;if(t instanceof Ka)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,c=s-i,u=(s+i)/2;return c?(e===s?a=(r-n)/c+(r<n)*6:r===s?a=(n-e)/c+2:a=(e-r)/c+4,c/=u<.5?s+i:2-s-i,a*=60):c=u>0&&u<1?0:a,new Ka(a,c,u,t.opacity)}function Rve(t,e,r,n){return arguments.length===1?LW(t):new Ka(t,e,r,n??1)}function Ka(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}gT(Ka,Rve,DW(Ug,{brighter(t){return t=t==null?$y:Math.pow($y,t),new Ka(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Fm:Math.pow(Fm,t),new Ka(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new As(zE(t>=240?t-240:t+120,i,n),zE(t,i,n),zE(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Ka(s6(this.h),Cv(this.s),Cv(this.l),Vy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Vy(this.opacity);return`${t===1?"hsl(":"hsla("}${s6(this.h)}, ${Cv(this.s)*100}%, ${Cv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function s6(t){return t=(t||0)%360,t<0?t+360:t}function Cv(t){return Math.max(0,Math.min(1,t||0))}function zE(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const vT=t=>()=>t;function Mve(t,e){return function(r){return t+r*e}}function Dve(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Lve(t){return(t=+t)==1?BW:function(e,r){return r-e?Dve(e,r,t):vT(isNaN(e)?r:e)}}function BW(t,e){var r=e-t;return r?Mve(t,r):vT(isNaN(t)?e:t)}const a6=(function t(e){var r=Lve(e);function n(i,s){var a=r((i=lN(i)).r,(s=lN(s)).r),c=r(i.g,s.g),u=r(i.b,s.b),h=BW(i.opacity,s.opacity);return function(g){return i.r=a(g),i.g=c(g),i.b=u(g),i.opacity=h(g),i+""}}return n.gamma=t,n})(1);function Bve(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function Fve(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Uve(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=Mh(t[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(c){for(a=0;a<n;++a)s[a]=i[a](c);return s}}function $ve(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function qy(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Vve(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Mh(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var cN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,HE=new RegExp(cN.source,"g");function qve(t){return function(){return t}}function Wve(t){return function(e){return t(e)+""}}function zve(t,e){var r=cN.lastIndex=HE.lastIndex=0,n,i,s,a=-1,c=[],u=[];for(t=t+"",e=e+"";(n=cN.exec(t))&&(i=HE.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),c[a]?c[a]+=s:c[++a]=s),(n=n[0])===(i=i[0])?c[a]?c[a]+=i:c[++a]=i:(c[++a]=null,u.push({i:a,x:qy(n,i)})),r=HE.lastIndex;return r<e.length&&(s=e.slice(r),c[a]?c[a]+=s:c[++a]=s),c.length<2?u[0]?Wve(u[0].x):qve(e):(e=u.length,function(h){for(var g=0,v;g<e;++g)c[(v=u[g]).i]=v.x(h);return c.join("")})}function Mh(t,e){var r=typeof e,n;return e==null||r==="boolean"?vT(e):(r==="number"?qy:r==="string"?(n=$m(e))?(e=n,a6):zve:e instanceof $m?a6:e instanceof Date?$ve:Fve(e)?Bve:Array.isArray(e)?Uve:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Vve:qy)(t,e)}function yT(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Hve(t,e){e===void 0&&(e=t,t=Mh);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(a){var c=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[c](a-c)}}function Gve(t){return function(){return t}}function Wy(t){return+t}var o6=[0,1];function os(t){return t}function uN(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Gve(isNaN(e)?NaN:.5)}function Kve(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Yve(t,e,r){var n=t[0],i=t[1],s=e[0],a=e[1];return i<n?(n=uN(i,n),s=r(a,s)):(n=uN(n,i),s=r(s,a)),function(c){return s(n(c))}}function Xve(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=uN(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(c){var u=Fg(t,c,1,n)-1;return s[u](i[u](c))}}function $g(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ix(){var t=o6,e=o6,r=Mh,n,i,s,a=os,c,u,h;function g(){var w=Math.min(t.length,e.length);return a!==os&&(a=Kve(t[0],t[w-1])),c=w>2?Xve:Yve,u=h=null,v}function v(w){return w==null||isNaN(w=+w)?s:(u||(u=c(t.map(n),e,r)))(n(a(w)))}return v.invert=function(w){return a(i((h||(h=c(e,t.map(n),qy)))(w)))},v.domain=function(w){return arguments.length?(t=Array.from(w,Wy),g()):t.slice()},v.range=function(w){return arguments.length?(e=Array.from(w),g()):e.slice()},v.rangeRound=function(w){return e=Array.from(w),r=yT,g()},v.clamp=function(w){return arguments.length?(a=w?!0:os,g()):a!==os},v.interpolate=function(w){return arguments.length?(r=w,g()):r},v.unknown=function(w){return arguments.length?(s=w,v):s},function(w,b){return n=w,i=b,g()}}function xT(){return Ix()(os,os)}function Zve(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function zy(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Yf(t){return t=zy(Math.abs(t)),t?t[1]:NaN}function Qve(t,e){return function(r,n){for(var i=r.length,s=[],a=0,c=t[0],u=0;i>0&&c>0&&(u+c+1>n&&(c=Math.max(1,n-u)),s.push(r.substring(i-=c,i+c)),!((u+=c+1)>n));)c=t[a=(a+1)%t.length];return s.reverse().join(e)}}function Jve(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var eye=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vm(t){if(!(e=eye.exec(t)))throw new Error("invalid format: "+t);var e;return new wT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Vm.prototype=wT.prototype;function wT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}wT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function tye(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var FW;function rye(t,e){var r=zy(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(FW=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+zy(t,Math.max(0,e+s-1))[0]}function l6(t,e){var r=zy(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const c6={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Zve,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>l6(t*100,e),r:l6,s:rye,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function u6(t){return t}var d6=Array.prototype.map,f6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function nye(t){var e=t.grouping===void 0||t.thousands===void 0?u6:Qve(d6.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?u6:Jve(d6.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function h(v){v=Vm(v);var w=v.fill,b=v.align,A=v.sign,E=v.symbol,C=v.zero,R=v.width,I=v.comma,P=v.precision,L=v.trim,T=v.type;T==="n"?(I=!0,T="g"):c6[T]||(P===void 0&&(P=12),L=!0,T="g"),(C||w==="0"&&b==="=")&&(C=!0,w="0",b="=");var D=E==="$"?r:E==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",M=E==="$"?n:/[%p]/.test(T)?a:"",$=c6[T],V=/[defgprs%]/.test(T);P=P===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function K(H){var z=D,Z=M,W,G,J;if(T==="c")Z=$(H)+Z,H="";else{H=+H;var ie=H<0||1/H<0;if(H=isNaN(H)?u:$(Math.abs(H),P),L&&(H=tye(H)),ie&&+H==0&&A!=="+"&&(ie=!1),z=(ie?A==="("?A:c:A==="-"||A==="("?"":A)+z,Z=(T==="s"?f6[8+FW/3]:"")+Z+(ie&&A==="("?")":""),V){for(W=-1,G=H.length;++W<G;)if(J=H.charCodeAt(W),48>J||J>57){Z=(J===46?i+H.slice(W+1):H.slice(W))+Z,H=H.slice(0,W);break}}}I&&!C&&(H=e(H,1/0));var ne=z.length+H.length+Z.length,ee=ne<R?new Array(R-ne+1).join(w):"";switch(I&&C&&(H=e(ee+H,ee.length?R-Z.length:1/0),ee=""),b){case"<":H=z+H+Z+ee;break;case"=":H=z+ee+H+Z;break;case"^":H=ee.slice(0,ne=ee.length>>1)+z+H+Z+ee.slice(ne);break;default:H=ee+z+H+Z;break}return s(H)}return K.toString=function(){return v+""},K}function g(v,w){var b=h((v=Vm(v),v.type="f",v)),A=Math.max(-8,Math.min(8,Math.floor(Yf(w)/3)))*3,E=Math.pow(10,-A),C=f6[8+A/3];return function(R){return b(E*R)+C}}return{format:h,formatPrefix:g}}var Av,bT,UW;iye({thousands:",",grouping:[3],currency:["$",""]});function iye(t){return Av=nye(t),bT=Av.format,UW=Av.formatPrefix,Av}function sye(t){return Math.max(0,-Yf(Math.abs(t)))}function aye(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yf(e)/3)))*3-Yf(Math.abs(t)))}function oye(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Yf(e)-Yf(t))+1}function $W(t,e,r,n){var i=aN(t,e,r),s;switch(n=Vm(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=aye(i,a))&&(n.precision=s),UW(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=oye(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=sye(i))&&(n.precision=s-(n.type==="%")*2);break}}return bT(n)}function qc(t){var e=t.domain;return t.ticks=function(r){var n=e();return iN(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return $W(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,a=n[i],c=n[s],u,h,g=10;for(c<a&&(h=a,a=c,c=h,h=i,i=s,s=h);g-- >0;){if(h=sN(a,c,r),h===u)return n[i]=a,n[s]=c,e(n);if(h>0)a=Math.floor(a/h)*h,c=Math.ceil(c/h)*h;else if(h<0)a=Math.ceil(a*h)/h,c=Math.floor(c*h)/h;else break;u=h}return t},t}function Hy(){var t=xT();return t.copy=function(){return $g(t,Hy())},Na.apply(t,arguments),qc(t)}function VW(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Wy),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return VW(t).unknown(e)},t=arguments.length?Array.from(t,Wy):[0,1],qc(r)}function qW(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),t[r]=e.floor(i),t[n]=e.ceil(s),t}function h6(t){return Math.log(t)}function p6(t){return Math.exp(t)}function lye(t){return-Math.log(-t)}function cye(t){return-Math.exp(-t)}function uye(t){return isFinite(t)?+("1e"+t):t<0?0:t}function dye(t){return t===10?uye:t===Math.E?Math.exp:e=>Math.pow(t,e)}function fye(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function m6(t){return(e,r)=>-t(-e,r)}function _T(t){const e=t(h6,p6),r=e.domain;let n=10,i,s;function a(){return i=fye(n),s=dye(n),r()[0]<0?(i=m6(i),s=m6(s),t(lye,cye)):t(h6,p6),e}return e.base=function(c){return arguments.length?(n=+c,a()):n},e.domain=function(c){return arguments.length?(r(c),a()):r()},e.ticks=c=>{const u=r();let h=u[0],g=u[u.length-1];const v=g<h;v&&([h,g]=[g,h]);let w=i(h),b=i(g),A,E;const C=c==null?10:+c;let R=[];if(!(n%1)&&b-w<C){if(w=Math.floor(w),b=Math.ceil(b),h>0){for(;w<=b;++w)for(A=1;A<n;++A)if(E=w<0?A/s(-w):A*s(w),!(E<h)){if(E>g)break;R.push(E)}}else for(;w<=b;++w)for(A=n-1;A>=1;--A)if(E=w>0?A/s(-w):A*s(w),!(E<h)){if(E>g)break;R.push(E)}R.length*2<C&&(R=iN(h,g,C))}else R=iN(w,b,Math.min(b-w,C)).map(s);return v?R.reverse():R},e.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=Vm(u)).precision==null&&(u.trim=!0),u=bT(u)),c===1/0)return u;const h=Math.max(1,n*c/e.ticks().length);return g=>{let v=g/s(Math.round(i(g)));return v*n<n-.5&&(v*=n),v<=h?u(g):""}},e.nice=()=>r(qW(r(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),e}function WW(){const t=_T(Ix()).domain([1,10]);return t.copy=()=>$g(t,WW()).base(t.base()),Na.apply(t,arguments),t}function g6(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function v6(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ST(t){var e=1,r=t(g6(e),v6(e));return r.constant=function(n){return arguments.length?t(g6(e=+n),v6(e)):e},qc(r)}function zW(){var t=ST(Ix());return t.copy=function(){return $g(t,zW()).constant(t.constant())},Na.apply(t,arguments)}function y6(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function hye(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function pye(t){return t<0?-t*t:t*t}function ET(t){var e=t(os,os),r=1;function n(){return r===1?t(os,os):r===.5?t(hye,pye):t(y6(r),y6(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},qc(e)}function CT(){var t=ET(Ix());return t.copy=function(){return $g(t,CT()).exponent(t.exponent())},Na.apply(t,arguments),t}function mye(){return CT.apply(null,arguments).exponent(.5)}function x6(t){return Math.sign(t)*t*t}function gye(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function HW(){var t=xT(),e=[0,1],r=!1,n;function i(s){var a=gye(t(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return t.invert(x6(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Wy)).map(x6)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return HW(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Na.apply(i,arguments),qc(i)}function GW(){var t=[],e=[],r=[],n;function i(){var a=0,c=Math.max(1,e.length);for(r=new Array(c-1);++a<c;)r[a-1]=bve(t,a/c);return s}function s(a){return a==null||isNaN(a=+a)?n:e[Fg(r,a)]}return s.invertExtent=function(a){var c=e.indexOf(a);return c<0?[NaN,NaN]:[c>0?r[c-1]:t[0],c<r.length?r[c]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let c of a)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(xc),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return GW().domain(t).range(e).unknown(n)},Na.apply(s,arguments)}function KW(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function a(u){return u!=null&&u<=u?i[Fg(n,u,0,r)]:s}function c(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*e-(u-r)*t)/(r+1);return a}return a.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,c()):[t,e]},a.range=function(u){return arguments.length?(r=(i=Array.from(u)).length-1,c()):i.slice()},a.invertExtent=function(u){var h=i.indexOf(u);return h<0?[NaN,NaN]:h<1?[t,n[0]]:h>=r?[n[r-1],e]:[n[h-1],n[h]]},a.unknown=function(u){return arguments.length&&(s=u),a},a.thresholds=function(){return n.slice()},a.copy=function(){return KW().domain([t,e]).range(i).unknown(s)},Na.apply(qc(a),arguments)}function YW(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[Fg(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return YW().domain(t).range(e).unknown(r)},Na.apply(i,arguments)}const GE=new Date,KE=new Date;function yi(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),c=i.ceil(s);return s-a<c-s?a:c},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,c)=>{const u=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<a)||!(c>0))return u;let h;do u.push(h=new Date(+s)),e(s,c),t(s);while(h<s&&s<a);return u},i.filter=s=>yi(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,c)=>{if(a>=a)if(c<0)for(;++c<=0;)for(;e(a,-1),!s(a););else for(;--c>=0;)for(;e(a,1),!s(a););}),r&&(i.count=(s,a)=>(GE.setTime(+s),KE.setTime(+a),t(GE),t(KE),Math.floor(r(GE,KE))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Gy=yi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Gy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?yi(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Gy);Gy.range;const nl=1e3,ba=nl*60,il=ba*60,ml=il*24,AT=ml*7,w6=ml*30,YE=ml*365,Lu=yi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*nl)},(t,e)=>(e-t)/nl,t=>t.getUTCSeconds());Lu.range;const NT=yi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*nl)},(t,e)=>{t.setTime(+t+e*ba)},(t,e)=>(e-t)/ba,t=>t.getMinutes());NT.range;const jT=yi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ba)},(t,e)=>(e-t)/ba,t=>t.getUTCMinutes());jT.range;const OT=yi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*nl-t.getMinutes()*ba)},(t,e)=>{t.setTime(+t+e*il)},(t,e)=>(e-t)/il,t=>t.getHours());OT.range;const TT=yi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*il)},(t,e)=>(e-t)/il,t=>t.getUTCHours());TT.range;const Vg=yi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ba)/ml,t=>t.getDate()-1);Vg.range;const Rx=yi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ml,t=>t.getUTCDate()-1);Rx.range;const XW=yi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ml,t=>Math.floor(t/ml));XW.range;function yd(t){return yi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*ba)/AT)}const Mx=yd(0),Ky=yd(1),vye=yd(2),yye=yd(3),Xf=yd(4),xye=yd(5),wye=yd(6);Mx.range;Ky.range;vye.range;yye.range;Xf.range;xye.range;wye.range;function xd(t){return yi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/AT)}const Dx=xd(0),Yy=xd(1),bye=xd(2),_ye=xd(3),Zf=xd(4),Sye=xd(5),Eye=xd(6);Dx.range;Yy.range;bye.range;_ye.range;Zf.range;Sye.range;Eye.range;const kT=yi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());kT.range;const PT=yi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());PT.range;const gl=yi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());gl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});gl.range;const vl=yi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());vl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});vl.range;function ZW(t,e,r,n,i,s){const a=[[Lu,1,nl],[Lu,5,5*nl],[Lu,15,15*nl],[Lu,30,30*nl],[s,1,ba],[s,5,5*ba],[s,15,15*ba],[s,30,30*ba],[i,1,il],[i,3,3*il],[i,6,6*il],[i,12,12*il],[n,1,ml],[n,2,2*ml],[r,1,AT],[e,1,w6],[e,3,3*w6],[t,1,YE]];function c(h,g,v){const w=g<h;w&&([h,g]=[g,h]);const b=v&&typeof v.range=="function"?v:u(h,g,v),A=b?b.range(h,+g+1):[];return w?A.reverse():A}function u(h,g,v){const w=Math.abs(g-h)/v,b=pT(([,,C])=>C).right(a,w);if(b===a.length)return t.every(aN(h/YE,g/YE,v));if(b===0)return Gy.every(Math.max(aN(h,g,v),1));const[A,E]=a[w/a[b-1][2]<a[b][2]/w?b-1:b];return A.every(E)}return[c,u]}const[Cye,Aye]=ZW(vl,PT,Dx,XW,TT,jT),[Nye,jye]=ZW(gl,kT,Mx,Vg,OT,NT);function XE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ZE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Mp(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Oye(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,a=t.shortDays,c=t.months,u=t.shortMonths,h=Dp(i),g=Lp(i),v=Dp(s),w=Lp(s),b=Dp(a),A=Lp(a),E=Dp(c),C=Lp(c),R=Dp(u),I=Lp(u),P={a:ie,A:ne,b:ee,B:de,c:null,d:A6,e:A6,f:Qye,g:l1e,G:u1e,H:Yye,I:Xye,j:Zye,L:QW,m:Jye,M:e1e,p:se,q:le,Q:O6,s:T6,S:t1e,u:r1e,U:n1e,V:i1e,w:s1e,W:a1e,x:null,X:null,y:o1e,Y:c1e,Z:d1e,"%":j6},L={a:me,A:pe,b:Re,B:_e,c:null,d:N6,e:N6,f:m1e,g:C1e,G:N1e,H:f1e,I:h1e,j:p1e,L:ez,m:g1e,M:v1e,p:we,q:Le,Q:O6,s:T6,S:y1e,u:x1e,U:w1e,V:b1e,w:_1e,W:S1e,x:null,X:null,y:E1e,Y:A1e,Z:j1e,"%":j6},T={a:K,A:H,b:z,B:Z,c:W,d:E6,e:E6,f:zye,g:S6,G:_6,H:C6,I:C6,j:$ye,L:Wye,m:Uye,M:Vye,p:V,q:Fye,Q:Gye,s:Kye,S:qye,u:Rye,U:Mye,V:Dye,w:Iye,W:Lye,x:G,X:J,y:S6,Y:_6,Z:Bye,"%":Hye};P.x=D(r,P),P.X=D(n,P),P.c=D(e,P),L.x=D(r,L),L.X=D(n,L),L.c=D(e,L);function D(je,Fe){return function(We){var Oe=[],et=-1,Ue=0,st=je.length,Et,dt,kt;for(We instanceof Date||(We=new Date(+We));++et<st;)je.charCodeAt(et)===37&&(Oe.push(je.slice(Ue,et)),(dt=b6[Et=je.charAt(++et)])!=null?Et=je.charAt(++et):dt=Et==="e"?" ":"0",(kt=Fe[Et])&&(Et=kt(We,dt)),Oe.push(Et),Ue=et+1);return Oe.push(je.slice(Ue,et)),Oe.join("")}}function M(je,Fe){return function(We){var Oe=Mp(1900,void 0,1),et=$(Oe,je,We+="",0),Ue,st;if(et!=We.length)return null;if("Q"in Oe)return new Date(Oe.Q);if("s"in Oe)return new Date(Oe.s*1e3+("L"in Oe?Oe.L:0));if(Fe&&!("Z"in Oe)&&(Oe.Z=0),"p"in Oe&&(Oe.H=Oe.H%12+Oe.p*12),Oe.m===void 0&&(Oe.m="q"in Oe?Oe.q:0),"V"in Oe){if(Oe.V<1||Oe.V>53)return null;"w"in Oe||(Oe.w=1),"Z"in Oe?(Ue=ZE(Mp(Oe.y,0,1)),st=Ue.getUTCDay(),Ue=st>4||st===0?Yy.ceil(Ue):Yy(Ue),Ue=Rx.offset(Ue,(Oe.V-1)*7),Oe.y=Ue.getUTCFullYear(),Oe.m=Ue.getUTCMonth(),Oe.d=Ue.getUTCDate()+(Oe.w+6)%7):(Ue=XE(Mp(Oe.y,0,1)),st=Ue.getDay(),Ue=st>4||st===0?Ky.ceil(Ue):Ky(Ue),Ue=Vg.offset(Ue,(Oe.V-1)*7),Oe.y=Ue.getFullYear(),Oe.m=Ue.getMonth(),Oe.d=Ue.getDate()+(Oe.w+6)%7)}else("W"in Oe||"U"in Oe)&&("w"in Oe||(Oe.w="u"in Oe?Oe.u%7:"W"in Oe?1:0),st="Z"in Oe?ZE(Mp(Oe.y,0,1)).getUTCDay():XE(Mp(Oe.y,0,1)).getDay(),Oe.m=0,Oe.d="W"in Oe?(Oe.w+6)%7+Oe.W*7-(st+5)%7:Oe.w+Oe.U*7-(st+6)%7);return"Z"in Oe?(Oe.H+=Oe.Z/100|0,Oe.M+=Oe.Z%100,ZE(Oe)):XE(Oe)}}function $(je,Fe,We,Oe){for(var et=0,Ue=Fe.length,st=We.length,Et,dt;et<Ue;){if(Oe>=st)return-1;if(Et=Fe.charCodeAt(et++),Et===37){if(Et=Fe.charAt(et++),dt=T[Et in b6?Fe.charAt(et++):Et],!dt||(Oe=dt(je,We,Oe))<0)return-1}else if(Et!=We.charCodeAt(Oe++))return-1}return Oe}function V(je,Fe,We){var Oe=h.exec(Fe.slice(We));return Oe?(je.p=g.get(Oe[0].toLowerCase()),We+Oe[0].length):-1}function K(je,Fe,We){var Oe=b.exec(Fe.slice(We));return Oe?(je.w=A.get(Oe[0].toLowerCase()),We+Oe[0].length):-1}function H(je,Fe,We){var Oe=v.exec(Fe.slice(We));return Oe?(je.w=w.get(Oe[0].toLowerCase()),We+Oe[0].length):-1}function z(je,Fe,We){var Oe=R.exec(Fe.slice(We));return Oe?(je.m=I.get(Oe[0].toLowerCase()),We+Oe[0].length):-1}function Z(je,Fe,We){var Oe=E.exec(Fe.slice(We));return Oe?(je.m=C.get(Oe[0].toLowerCase()),We+Oe[0].length):-1}function W(je,Fe,We){return $(je,e,Fe,We)}function G(je,Fe,We){return $(je,r,Fe,We)}function J(je,Fe,We){return $(je,n,Fe,We)}function ie(je){return a[je.getDay()]}function ne(je){return s[je.getDay()]}function ee(je){return u[je.getMonth()]}function de(je){return c[je.getMonth()]}function se(je){return i[+(je.getHours()>=12)]}function le(je){return 1+~~(je.getMonth()/3)}function me(je){return a[je.getUTCDay()]}function pe(je){return s[je.getUTCDay()]}function Re(je){return u[je.getUTCMonth()]}function _e(je){return c[je.getUTCMonth()]}function we(je){return i[+(je.getUTCHours()>=12)]}function Le(je){return 1+~~(je.getUTCMonth()/3)}return{format:function(je){var Fe=D(je+="",P);return Fe.toString=function(){return je},Fe},parse:function(je){var Fe=M(je+="",!1);return Fe.toString=function(){return je},Fe},utcFormat:function(je){var Fe=D(je+="",L);return Fe.toString=function(){return je},Fe},utcParse:function(je){var Fe=M(je+="",!0);return Fe.toString=function(){return je},Fe}}}var b6={"-":"",_:" ",0:"0"},ji=/^\s*\d+/,Tye=/^%/,kye=/[\\^$*+?|[\]().{}]/g;function Br(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function Pye(t){return t.replace(kye,"\\$&")}function Dp(t){return new RegExp("^(?:"+t.map(Pye).join("|")+")","i")}function Lp(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Iye(t,e,r){var n=ji.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Rye(t,e,r){var n=ji.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Mye(t,e,r){var n=ji.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Dye(t,e,r){var n=ji.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Lye(t,e,r){var n=ji.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function _6(t,e,r){var n=ji.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function S6(t,e,r){var n=ji.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Bye(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Fye(t,e,r){var n=ji.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Uye(t,e,r){var n=ji.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function E6(t,e,r){var n=ji.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function $ye(t,e,r){var n=ji.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function C6(t,e,r){var n=ji.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Vye(t,e,r){var n=ji.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function qye(t,e,r){var n=ji.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Wye(t,e,r){var n=ji.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function zye(t,e,r){var n=ji.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Hye(t,e,r){var n=Tye.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Gye(t,e,r){var n=ji.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Kye(t,e,r){var n=ji.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function A6(t,e){return Br(t.getDate(),e,2)}function Yye(t,e){return Br(t.getHours(),e,2)}function Xye(t,e){return Br(t.getHours()%12||12,e,2)}function Zye(t,e){return Br(1+Vg.count(gl(t),t),e,3)}function QW(t,e){return Br(t.getMilliseconds(),e,3)}function Qye(t,e){return QW(t,e)+"000"}function Jye(t,e){return Br(t.getMonth()+1,e,2)}function e1e(t,e){return Br(t.getMinutes(),e,2)}function t1e(t,e){return Br(t.getSeconds(),e,2)}function r1e(t){var e=t.getDay();return e===0?7:e}function n1e(t,e){return Br(Mx.count(gl(t)-1,t),e,2)}function JW(t){var e=t.getDay();return e>=4||e===0?Xf(t):Xf.ceil(t)}function i1e(t,e){return t=JW(t),Br(Xf.count(gl(t),t)+(gl(t).getDay()===4),e,2)}function s1e(t){return t.getDay()}function a1e(t,e){return Br(Ky.count(gl(t)-1,t),e,2)}function o1e(t,e){return Br(t.getFullYear()%100,e,2)}function l1e(t,e){return t=JW(t),Br(t.getFullYear()%100,e,2)}function c1e(t,e){return Br(t.getFullYear()%1e4,e,4)}function u1e(t,e){var r=t.getDay();return t=r>=4||r===0?Xf(t):Xf.ceil(t),Br(t.getFullYear()%1e4,e,4)}function d1e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Br(e/60|0,"0",2)+Br(e%60,"0",2)}function N6(t,e){return Br(t.getUTCDate(),e,2)}function f1e(t,e){return Br(t.getUTCHours(),e,2)}function h1e(t,e){return Br(t.getUTCHours()%12||12,e,2)}function p1e(t,e){return Br(1+Rx.count(vl(t),t),e,3)}function ez(t,e){return Br(t.getUTCMilliseconds(),e,3)}function m1e(t,e){return ez(t,e)+"000"}function g1e(t,e){return Br(t.getUTCMonth()+1,e,2)}function v1e(t,e){return Br(t.getUTCMinutes(),e,2)}function y1e(t,e){return Br(t.getUTCSeconds(),e,2)}function x1e(t){var e=t.getUTCDay();return e===0?7:e}function w1e(t,e){return Br(Dx.count(vl(t)-1,t),e,2)}function tz(t){var e=t.getUTCDay();return e>=4||e===0?Zf(t):Zf.ceil(t)}function b1e(t,e){return t=tz(t),Br(Zf.count(vl(t),t)+(vl(t).getUTCDay()===4),e,2)}function _1e(t){return t.getUTCDay()}function S1e(t,e){return Br(Yy.count(vl(t)-1,t),e,2)}function E1e(t,e){return Br(t.getUTCFullYear()%100,e,2)}function C1e(t,e){return t=tz(t),Br(t.getUTCFullYear()%100,e,2)}function A1e(t,e){return Br(t.getUTCFullYear()%1e4,e,4)}function N1e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Zf(t):Zf.ceil(t),Br(t.getUTCFullYear()%1e4,e,4)}function j1e(){return"+0000"}function j6(){return"%"}function O6(t){return+t}function T6(t){return Math.floor(+t/1e3)}var af,rz,nz;O1e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function O1e(t){return af=Oye(t),rz=af.format,af.parse,nz=af.utcFormat,af.utcParse,af}function T1e(t){return new Date(t)}function k1e(t){return t instanceof Date?+t:+new Date(+t)}function IT(t,e,r,n,i,s,a,c,u,h){var g=xT(),v=g.invert,w=g.domain,b=h(".%L"),A=h(":%S"),E=h("%I:%M"),C=h("%I %p"),R=h("%a %d"),I=h("%b %d"),P=h("%B"),L=h("%Y");function T(D){return(u(D)<D?b:c(D)<D?A:a(D)<D?E:s(D)<D?C:n(D)<D?i(D)<D?R:I:r(D)<D?P:L)(D)}return g.invert=function(D){return new Date(v(D))},g.domain=function(D){return arguments.length?w(Array.from(D,k1e)):w().map(T1e)},g.ticks=function(D){var M=w();return t(M[0],M[M.length-1],D??10)},g.tickFormat=function(D,M){return M==null?T:h(M)},g.nice=function(D){var M=w();return(!D||typeof D.range!="function")&&(D=e(M[0],M[M.length-1],D??10)),D?w(qW(M,D)):g},g.copy=function(){return $g(g,IT(t,e,r,n,i,s,a,c,u,h))},g}function P1e(){return Na.apply(IT(Nye,jye,gl,kT,Mx,Vg,OT,NT,Lu,rz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function I1e(){return Na.apply(IT(Cye,Aye,vl,PT,Dx,Rx,TT,jT,Lu,nz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Lx(){var t=0,e=1,r,n,i,s,a=os,c=!1,u;function h(v){return v==null||isNaN(v=+v)?u:a(i===0?.5:(v=(s(v)-r)*i,c?Math.max(0,Math.min(1,v)):v))}h.domain=function(v){return arguments.length?([t,e]=v,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),h):[t,e]},h.clamp=function(v){return arguments.length?(c=!!v,h):c},h.interpolator=function(v){return arguments.length?(a=v,h):a};function g(v){return function(w){var b,A;return arguments.length?([b,A]=w,a=v(b,A),h):[a(0),a(1)]}}return h.range=g(Mh),h.rangeRound=g(yT),h.unknown=function(v){return arguments.length?(u=v,h):u},function(v){return s=v,r=v(t),n=v(e),i=r===n?0:1/(n-r),h}}function Wc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function iz(){var t=qc(Lx()(os));return t.copy=function(){return Wc(t,iz())},Cl.apply(t,arguments)}function sz(){var t=_T(Lx()).domain([1,10]);return t.copy=function(){return Wc(t,sz()).base(t.base())},Cl.apply(t,arguments)}function az(){var t=ST(Lx());return t.copy=function(){return Wc(t,az()).constant(t.constant())},Cl.apply(t,arguments)}function RT(){var t=ET(Lx());return t.copy=function(){return Wc(t,RT()).exponent(t.exponent())},Cl.apply(t,arguments)}function R1e(){return RT.apply(null,arguments).exponent(.5)}function oz(){var t=[],e=os;function r(n){if(n!=null&&!isNaN(n=+n))return e((Fg(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(xc),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>wve(t,s/n))},r.copy=function(){return oz(e).domain(t)},Cl.apply(r,arguments)}function Bx(){var t=0,e=.5,r=1,n=1,i,s,a,c,u,h=os,g,v=!1,w;function b(E){return isNaN(E=+E)?w:(E=.5+((E=+g(E))-s)*(n*E<n*s?c:u),h(v?Math.max(0,Math.min(1,E)):E))}b.domain=function(E){return arguments.length?([t,e,r]=E,i=g(t=+t),s=g(e=+e),a=g(r=+r),c=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),n=s<i?-1:1,b):[t,e,r]},b.clamp=function(E){return arguments.length?(v=!!E,b):v},b.interpolator=function(E){return arguments.length?(h=E,b):h};function A(E){return function(C){var R,I,P;return arguments.length?([R,I,P]=C,h=Hve(E,[R,I,P]),b):[h(0),h(.5),h(1)]}}return b.range=A(Mh),b.rangeRound=A(yT),b.unknown=function(E){return arguments.length?(w=E,b):w},function(E){return g=E,i=E(t),s=E(e),a=E(r),c=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),n=s<i?-1:1,b}}function lz(){var t=qc(Bx()(os));return t.copy=function(){return Wc(t,lz())},Cl.apply(t,arguments)}function cz(){var t=_T(Bx()).domain([.1,1,10]);return t.copy=function(){return Wc(t,cz()).base(t.base())},Cl.apply(t,arguments)}function uz(){var t=ST(Bx());return t.copy=function(){return Wc(t,uz()).constant(t.constant())},Cl.apply(t,arguments)}function MT(){var t=ET(Bx());return t.copy=function(){return Wc(t,MT()).exponent(t.exponent())},Cl.apply(t,arguments)}function M1e(){return MT.apply(null,arguments).exponent(.5)}const k6=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Bm,scaleDiverging:lz,scaleDivergingLog:cz,scaleDivergingPow:MT,scaleDivergingSqrt:M1e,scaleDivergingSymlog:uz,scaleIdentity:VW,scaleImplicit:oN,scaleLinear:Hy,scaleLog:WW,scaleOrdinal:mT,scalePoint:rm,scalePow:CT,scaleQuantile:GW,scaleQuantize:KW,scaleRadial:HW,scaleSequential:iz,scaleSequentialLog:sz,scaleSequentialPow:RT,scaleSequentialQuantile:oz,scaleSequentialSqrt:R1e,scaleSequentialSymlog:az,scaleSqrt:mye,scaleSymlog:zW,scaleThreshold:YW,scaleTime:P1e,scaleUtc:I1e,tickFormat:$W},Symbol.toStringTag,{value:"Module"}));var QE,P6;function Fx(){if(P6)return QE;P6=1;var t=kh();function e(r,n,i){for(var s=-1,a=r.length;++s<a;){var c=r[s],u=n(c);if(u!=null&&(h===void 0?u===u&&!t(u):i(u,h)))var h=u,g=c}return g}return QE=e,QE}var JE,I6;function dz(){if(I6)return JE;I6=1;function t(e,r){return e>r}return JE=t,JE}var eC,R6;function D1e(){if(R6)return eC;R6=1;var t=Fx(),e=dz(),r=Rh();function n(i){return i&&i.length?t(i,r,e):void 0}return eC=n,eC}var L1e=D1e();const pc=Rr(L1e);var tC,M6;function fz(){if(M6)return tC;M6=1;function t(e,r){return e<r}return tC=t,tC}var rC,D6;function B1e(){if(D6)return rC;D6=1;var t=Fx(),e=fz(),r=Rh();function n(i){return i&&i.length?t(i,r,e):void 0}return rC=n,rC}var F1e=B1e();const Ux=Rr(F1e);var nC,L6;function U1e(){if(L6)return nC;L6=1;var t=ZO(),e=Po(),r=wW(),n=Os();function i(s,a){var c=n(s)?t:r;return c(s,e(a,3))}return nC=i,nC}var iC,B6;function $1e(){if(B6)return iC;B6=1;var t=yW(),e=U1e();function r(n,i){return t(e(n,i),1)}return iC=r,iC}var V1e=$1e();const q1e=Rr(V1e);var sC,F6;function W1e(){if(F6)return sC;F6=1;var t=uT();function e(r,n){return t(r,n)}return sC=e,sC}var z1e=W1e();const id=Rr(z1e);var Dh=1e9,H1e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},LT,Nn=!0,Ca="[DecimalError] ",qu=Ca+"Invalid argument: ",DT=Ca+"Exponent out of range: ",Lh=Math.floor,Nu=Math.pow,G1e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ys,Ci=1e7,En=7,hz=9007199254740991,Xy=Lh(hz/En),xt={};xt.absoluteValue=xt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};xt.comparedTo=xt.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};xt.decimalPlaces=xt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*En;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};xt.dividedBy=xt.div=function(t){return ll(this,new this.constructor(t))};xt.dividedToIntegerBy=xt.idiv=function(t){var e=this,r=e.constructor;return rn(ll(e,new r(t),0,1),r.precision)};xt.equals=xt.eq=function(t){return!this.cmp(t)};xt.exponent=function(){return ri(this)};xt.greaterThan=xt.gt=function(t){return this.cmp(t)>0};xt.greaterThanOrEqualTo=xt.gte=function(t){return this.cmp(t)>=0};xt.isInteger=xt.isint=function(){return this.e>this.d.length-2};xt.isNegative=xt.isneg=function(){return this.s<0};xt.isPositive=xt.ispos=function(){return this.s>0};xt.isZero=function(){return this.s===0};xt.lessThan=xt.lt=function(t){return this.cmp(t)<0};xt.lessThanOrEqualTo=xt.lte=function(t){return this.cmp(t)<1};xt.logarithm=xt.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Ys))throw Error(Ca+"NaN");if(r.s<1)throw Error(Ca+(r.s?"NaN":"-Infinity"));return r.eq(Ys)?new n(0):(Nn=!1,e=ll(qm(r,s),qm(t,s),s),Nn=!0,rn(e,i))};xt.minus=xt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?gz(e,t):pz(e,(t.s=-t.s,t))};xt.modulo=xt.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Ca+"NaN");return r.s?(Nn=!1,e=ll(r,t,0,1).times(t),Nn=!0,r.minus(e)):rn(new n(r),i)};xt.naturalExponential=xt.exp=function(){return mz(this)};xt.naturalLogarithm=xt.ln=function(){return qm(this)};xt.negated=xt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};xt.plus=xt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?pz(e,t):gz(e,(t.s=-t.s,t))};xt.precision=xt.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(qu+t);if(e=ri(i)+1,n=i.d.length-1,r=n*En+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};xt.squareRoot=xt.sqrt=function(){var t,e,r,n,i,s,a,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(Ca+"NaN")}for(t=ri(c),Nn=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=yo(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Lh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new u(e)):n=new u(i.toString()),r=u.precision,i=a=r+3;;)if(s=n,n=s.plus(ll(c,s,a+2)).times(.5),yo(s.d).slice(0,a)===(e=yo(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(rn(s,r+1,0),s.times(s).eq(c)){n=s;break}}else if(e!="9999")break;a+=4}return Nn=!0,rn(n,r)};xt.times=xt.mul=function(t){var e,r,n,i,s,a,c,u,h,g=this,v=g.constructor,w=g.d,b=(t=new v(t)).d;if(!g.s||!t.s)return new v(0);for(t.s*=g.s,r=g.e+t.e,u=w.length,h=b.length,u<h&&(s=w,w=b,b=s,a=u,u=h,h=a),s=[],a=u+h,n=a;n--;)s.push(0);for(n=h;--n>=0;){for(e=0,i=u+n;i>n;)c=s[i]+b[n]*w[i-n-1]+e,s[i--]=c%Ci|0,e=c/Ci|0;s[i]=(s[i]+e)%Ci|0}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Nn?rn(t,v.precision):t};xt.toDecimalPlaces=xt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ao(t,0,Dh),e===void 0?e=n.rounding:Ao(e,0,8),rn(r,t+ri(r)+1,e))};xt.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=sd(n,!0):(Ao(t,0,Dh),e===void 0?e=i.rounding:Ao(e,0,8),n=rn(new i(n),t+1,e),r=sd(n,!0,t+1)),r};xt.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?sd(i):(Ao(t,0,Dh),e===void 0?e=s.rounding:Ao(e,0,8),n=rn(new s(i),t+ri(i)+1,e),r=sd(n.abs(),!1,t+ri(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};xt.toInteger=xt.toint=function(){var t=this,e=t.constructor;return rn(new e(t),ri(t)+1,e.rounding)};xt.toNumber=function(){return+this};xt.toPower=xt.pow=function(t){var e,r,n,i,s,a,c=this,u=c.constructor,h=12,g=+(t=new u(t));if(!t.s)return new u(Ys);if(c=new u(c),!c.s){if(t.s<1)throw Error(Ca+"Infinity");return c}if(c.eq(Ys))return c;if(n=u.precision,t.eq(Ys))return rn(c,n);if(e=t.e,r=t.d.length-1,a=e>=r,s=c.s,a){if((r=g<0?-g:g)<=hz){for(i=new u(Ys),e=Math.ceil(n/En+4),Nn=!1;r%2&&(i=i.times(c),$6(i.d,e)),r=Lh(r/2),r!==0;)c=c.times(c),$6(c.d,e);return Nn=!0,t.s<0?new u(Ys).div(i):rn(i,n)}}else if(s<0)throw Error(Ca+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,c.s=1,Nn=!1,i=t.times(qm(c,n+h)),Nn=!0,i=mz(i),i.s=s,i};xt.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=ri(i),n=sd(i,r<=s.toExpNeg||r>=s.toExpPos)):(Ao(t,1,Dh),e===void 0?e=s.rounding:Ao(e,0,8),i=rn(new s(i),t,e),r=ri(i),n=sd(i,t<=r||r<=s.toExpNeg,t)),n};xt.toSignificantDigits=xt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ao(t,1,Dh),e===void 0?e=n.rounding:Ao(e,0,8)),rn(new n(r),t,e)};xt.toString=xt.valueOf=xt.val=xt.toJSON=xt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ri(t),r=t.constructor;return sd(t,e<=r.toExpNeg||e>=r.toExpPos)};function pz(t,e){var r,n,i,s,a,c,u,h,g=t.constructor,v=g.precision;if(!t.s||!e.s)return e.s||(e=new g(t)),Nn?rn(e,v):e;if(u=t.d,h=e.d,a=t.e,i=e.e,u=u.slice(),s=a-i,s){for(s<0?(n=u,s=-s,c=h.length):(n=h,i=a,c=u.length),a=Math.ceil(v/En),c=a>c?a+1:c+1,s>c&&(s=c,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(c=u.length,s=h.length,c-s<0&&(s=c,n=h,h=u,u=n),r=0;s;)r=(u[--s]=u[s]+h[s]+r)/Ci|0,u[s]%=Ci;for(r&&(u.unshift(r),++i),c=u.length;u[--c]==0;)u.pop();return e.d=u,e.e=i,Nn?rn(e,v):e}function Ao(t,e,r){if(t!==~~t||t<e||t>r)throw Error(qu+t)}function yo(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)n=t[e]+"",r=En-n.length,r&&(s+=ac(r)),s+=n;a=t[e],n=a+"",r=En-n.length,r&&(s+=ac(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var ll=(function(){function t(n,i){var s,a=0,c=n.length;for(n=n.slice();c--;)s=n[c]*i+a,n[c]=s%Ci|0,a=s/Ci|0;return a&&n.unshift(a),n}function e(n,i,s,a){var c,u;if(s!=a)u=s>a?1:-1;else for(c=u=0;c<s;c++)if(n[c]!=i[c]){u=n[c]>i[c]?1:-1;break}return u}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*Ci+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var c,u,h,g,v,w,b,A,E,C,R,I,P,L,T,D,M,$,V=n.constructor,K=n.s==i.s?1:-1,H=n.d,z=i.d;if(!n.s)return new V(n);if(!i.s)throw Error(Ca+"Division by zero");for(u=n.e-i.e,M=z.length,T=H.length,b=new V(K),A=b.d=[],h=0;z[h]==(H[h]||0);)++h;if(z[h]>(H[h]||0)&&--u,s==null?I=s=V.precision:a?I=s+(ri(n)-ri(i))+1:I=s,I<0)return new V(0);if(I=I/En+2|0,h=0,M==1)for(g=0,z=z[0],I++;(h<T||g)&&I--;h++)P=g*Ci+(H[h]||0),A[h]=P/z|0,g=P%z|0;else{for(g=Ci/(z[0]+1)|0,g>1&&(z=t(z,g),H=t(H,g),M=z.length,T=H.length),L=M,E=H.slice(0,M),C=E.length;C<M;)E[C++]=0;$=z.slice(),$.unshift(0),D=z[0],z[1]>=Ci/2&&++D;do g=0,c=e(z,E,M,C),c<0?(R=E[0],M!=C&&(R=R*Ci+(E[1]||0)),g=R/D|0,g>1?(g>=Ci&&(g=Ci-1),v=t(z,g),w=v.length,C=E.length,c=e(v,E,w,C),c==1&&(g--,r(v,M<w?$:z,w))):(g==0&&(c=g=1),v=z.slice()),w=v.length,w<C&&v.unshift(0),r(E,v,C),c==-1&&(C=E.length,c=e(z,E,M,C),c<1&&(g++,r(E,M<C?$:z,C))),C=E.length):c===0&&(g++,E=[0]),A[h++]=g,c&&E[0]?E[C++]=H[L]||0:(E=[H[L]],C=1);while((L++<T||E[0]!==void 0)&&I--)}return A[0]||A.shift(),b.e=u,rn(b,a?s+ri(b)+1:s)}})();function mz(t,e){var r,n,i,s,a,c,u=0,h=0,g=t.constructor,v=g.precision;if(ri(t)>16)throw Error(DT+ri(t));if(!t.s)return new g(Ys);for(Nn=!1,c=v,a=new g(.03125);t.abs().gte(.1);)t=t.times(a),h+=5;for(n=Math.log(Nu(2,h))/Math.LN10*2+5|0,c+=n,r=i=s=new g(Ys),g.precision=c;;){if(i=rn(i.times(t),c),r=r.times(++u),a=s.plus(ll(i,r,c)),yo(a.d).slice(0,c)===yo(s.d).slice(0,c)){for(;h--;)s=rn(s.times(s),c);return g.precision=v,e==null?(Nn=!0,rn(s,v)):s}s=a}}function ri(t){for(var e=t.e*En,r=t.d[0];r>=10;r/=10)e++;return e}function aC(t,e,r){if(e>t.LN10.sd())throw Nn=!0,r&&(t.precision=r),Error(Ca+"LN10 precision limit exceeded");return rn(new t(t.LN10),e)}function ac(t){for(var e="";t--;)e+="0";return e}function qm(t,e){var r,n,i,s,a,c,u,h,g,v=1,w=10,b=t,A=b.d,E=b.constructor,C=E.precision;if(b.s<1)throw Error(Ca+(b.s?"NaN":"-Infinity"));if(b.eq(Ys))return new E(0);if(e==null?(Nn=!1,h=C):h=e,b.eq(10))return e==null&&(Nn=!0),aC(E,h);if(h+=w,E.precision=h,r=yo(A),n=r.charAt(0),s=ri(b),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(t),r=yo(b.d),n=r.charAt(0),v++;s=ri(b),n>1?(b=new E("0."+r),s++):b=new E(n+"."+r.slice(1))}else return u=aC(E,h+2,C).times(s+""),b=qm(new E(n+"."+r.slice(1)),h-w).plus(u),E.precision=C,e==null?(Nn=!0,rn(b,C)):b;for(c=a=b=ll(b.minus(Ys),b.plus(Ys),h),g=rn(b.times(b),h),i=3;;){if(a=rn(a.times(g),h),u=c.plus(ll(a,new E(i),h)),yo(u.d).slice(0,h)===yo(c.d).slice(0,h))return c=c.times(2),s!==0&&(c=c.plus(aC(E,h+2,C).times(s+""))),c=ll(c,new E(v),h),E.precision=C,e==null?(Nn=!0,rn(c,C)):c;c=u,i+=2}}function U6(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Lh(r/En),t.d=[],n=(r+1)%En,r<0&&(n+=En),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=En;n<i;)t.d.push(+e.slice(n,n+=En));e=e.slice(n),n=En-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Nn&&(t.e>Xy||t.e<-Xy))throw Error(DT+r)}else t.s=0,t.e=0,t.d=[0];return t}function rn(t,e,r){var n,i,s,a,c,u,h,g,v=t.d;for(a=1,s=v[0];s>=10;s/=10)a++;if(n=e-a,n<0)n+=En,i=e,h=v[g=0];else{if(g=Math.ceil((n+1)/En),s=v.length,g>=s)return t;for(h=s=v[g],a=1;s>=10;s/=10)a++;n%=En,i=n-En+a}if(r!==void 0&&(s=Nu(10,a-i-1),c=h/s%10|0,u=e<0||v[g+1]!==void 0||h%s,u=r<4?(c||u)&&(r==0||r==(t.s<0?3:2)):c>5||c==5&&(r==4||u||r==6&&(n>0?i>0?h/Nu(10,a-i):0:v[g-1])%10&1||r==(t.s<0?8:7))),e<1||!v[0])return u?(s=ri(t),v.length=1,e=e-s-1,v[0]=Nu(10,(En-e%En)%En),t.e=Lh(-e/En)||0):(v.length=1,v[0]=t.e=t.s=0),t;if(n==0?(v.length=g,s=1,g--):(v.length=g+1,s=Nu(10,En-n),v[g]=i>0?(h/Nu(10,a-i)%Nu(10,i)|0)*s:0),u)for(;;)if(g==0){(v[0]+=s)==Ci&&(v[0]=1,++t.e);break}else{if(v[g]+=s,v[g]!=Ci)break;v[g--]=0,s=1}for(n=v.length;v[--n]===0;)v.pop();if(Nn&&(t.e>Xy||t.e<-Xy))throw Error(DT+ri(t));return t}function gz(t,e){var r,n,i,s,a,c,u,h,g,v,w=t.constructor,b=w.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new w(t),Nn?rn(e,b):e;if(u=t.d,v=e.d,n=e.e,h=t.e,u=u.slice(),a=h-n,a){for(g=a<0,g?(r=u,a=-a,c=v.length):(r=v,n=h,c=u.length),i=Math.max(Math.ceil(b/En),c)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=u.length,c=v.length,g=i<c,g&&(c=i),i=0;i<c;i++)if(u[i]!=v[i]){g=u[i]<v[i];break}a=0}for(g&&(r=u,u=v,v=r,e.s=-e.s),c=u.length,i=v.length-c;i>0;--i)u[c++]=0;for(i=v.length;i>a;){if(u[--i]<v[i]){for(s=i;s&&u[--s]===0;)u[s]=Ci-1;--u[s],u[i]+=Ci}u[i]-=v[i]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(e.d=u,e.e=n,Nn?rn(e,b):e):new w(0)}function sd(t,e,r){var n,i=ri(t),s=yo(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+ac(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ac(-i-1)+s,r&&(n=r-a)>0&&(s+=ac(n))):i>=a?(s+=ac(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+ac(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=ac(n))),t.s<0?"-"+s:s}function $6(t,e){if(t.length>e)return t.length=e,!0}function vz(t){var e,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(qu+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return U6(a,s.toString())}else if(typeof s!="string")throw Error(qu+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,G1e.test(s))U6(a,s);else throw Error(qu+s)}if(i.prototype=xt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=vz,i.config=i.set=K1e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function K1e(t){if(!t||typeof t!="object")throw Error(Ca+"Object expected");var e,r,n,i=["precision",1,Dh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Lh(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(qu+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(qu+r+": "+n);return this}var LT=vz(H1e);Ys=new LT(1);const Qr=LT;function Y1e(t){return J1e(t)||Q1e(t)||Z1e(t)||X1e()}function X1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z1e(t,e){if(t){if(typeof t=="string")return dN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dN(t,e)}}function Q1e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function J1e(t){if(Array.isArray(t))return dN(t)}function dN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var exe=function(e){return e},yz={},xz=function(e){return e===yz},V6=function(e){return function r(){return arguments.length===0||arguments.length===1&&xz(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},txe=function t(e,r){return e===1?r:V6(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var a=i.filter(function(c){return c!==yz}).length;return a>=e?r.apply(void 0,i):t(e-a,V6(function(){for(var c=arguments.length,u=new Array(c),h=0;h<c;h++)u[h]=arguments[h];var g=i.map(function(v){return xz(v)?u.shift():v});return r.apply(void 0,Y1e(g).concat(u))}))})},$x=function(e){return txe(e.length,e)},fN=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},rxe=$x(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),nxe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return exe;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(c,u){return u(c)},s.apply(void 0,arguments))}},hN=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},wz=function(e){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r&&s.every(function(c,u){return c===r[u]})||(r=s,n=e.apply(void 0,s)),n}};function ixe(t){var e;return t===0?e=1:e=Math.floor(new Qr(t).abs().log(10).toNumber())+1,e}function sxe(t,e,r){for(var n=new Qr(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var axe=$x(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),oxe=$x(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),lxe=$x(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Vx={rangeStep:sxe,getDigitCount:ixe,interpolateNumber:axe,uninterpolateNumber:oxe,uninterpolateTruncation:lxe};function pN(t){return dxe(t)||uxe(t)||bz(t)||cxe()}function cxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uxe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function dxe(t){if(Array.isArray(t))return mN(t)}function Wm(t,e){return pxe(t)||hxe(t,e)||bz(t,e)||fxe()}function fxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bz(t,e){if(t){if(typeof t=="string")return mN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mN(t,e)}}function mN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hxe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),c;!(n=(c=a.next()).done)&&(r.push(c.value),!(e&&r.length===e));n=!0);}catch(u){i=!0,s=u}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw s}}return r}}function pxe(t){if(Array.isArray(t))return t}function _z(t){var e=Wm(t,2),r=e[0],n=e[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function Sz(t,e,r){if(t.lte(0))return new Qr(0);var n=Vx.getDigitCount(t.toNumber()),i=new Qr(10).pow(n),s=t.div(i),a=n!==1?.05:.1,c=new Qr(Math.ceil(s.div(a).toNumber())).add(r).mul(a),u=c.mul(i);return e?u:new Qr(Math.ceil(u))}function mxe(t,e,r){var n=1,i=new Qr(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new Qr(10).pow(Vx.getDigitCount(t)-1),i=new Qr(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Qr(Math.floor(t)))}else t===0?i=new Qr(Math.floor((e-1)/2)):r||(i=new Qr(Math.floor(t)));var a=Math.floor((e-1)/2),c=nxe(rxe(function(u){return i.add(new Qr(u-a).mul(n)).toNumber()}),fN);return c(0,e)}function Ez(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Qr(0),tickMin:new Qr(0),tickMax:new Qr(0)};var s=Sz(new Qr(e).sub(t).div(r-1),n,i),a;t<=0&&e>=0?a=new Qr(0):(a=new Qr(t).add(e).div(2),a=a.sub(new Qr(a).mod(s)));var c=Math.ceil(a.sub(t).div(s).toNumber()),u=Math.ceil(new Qr(e).sub(a).div(s).toNumber()),h=c+u+1;return h>r?Ez(t,e,r,n,i+1):(h<r&&(u=e>0?u+(r-h):u,c=e>0?c:c+(r-h)),{step:s,tickMin:a.sub(new Qr(c).mul(s)),tickMax:a.add(new Qr(u).mul(s))})}function gxe(t){var e=Wm(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),c=_z([r,n]),u=Wm(c,2),h=u[0],g=u[1];if(h===-1/0||g===1/0){var v=g===1/0?[h].concat(pN(fN(0,i-1).map(function(){return 1/0}))):[].concat(pN(fN(0,i-1).map(function(){return-1/0})),[g]);return r>n?hN(v):v}if(h===g)return mxe(h,i,s);var w=Ez(h,g,a,s),b=w.step,A=w.tickMin,E=w.tickMax,C=Vx.rangeStep(A,E.add(new Qr(.1).mul(b)),b);return r>n?hN(C):C}function vxe(t,e){var r=Wm(t,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=_z([n,i]),c=Wm(a,2),u=c[0],h=c[1];if(u===-1/0||h===1/0)return[n,i];if(u===h)return[u];var g=Math.max(e,2),v=Sz(new Qr(h).sub(u).div(g-1),s,0),w=[].concat(pN(Vx.rangeStep(new Qr(u),new Qr(h).sub(new Qr(.99).mul(v)),v)),[h]);return n>i?hN(w):w}var yxe=wz(gxe),xxe=wz(vxe),wxe="Invariant failed";function ad(t,e){throw new Error(wxe)}var bxe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function Zy(){return Zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zy.apply(this,arguments)}function _xe(t,e){return Axe(t)||Cxe(t,e)||Exe(t,e)||Sxe()}function Sxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Exe(t,e){if(t){if(typeof t=="string")return q6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q6(t,e)}}function q6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Cxe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,c=[],u=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(h)throw i}}return c}}function Axe(t){if(Array.isArray(t))return t}function Nxe(t,e){if(t==null)return{};var r=jxe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Oxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Txe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nz(n.key),n)}}function kxe(t,e,r){return e&&Txe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pxe(t,e,r){return e=Qy(e),Ixe(t,Cz()?Reflect.construct(e,r||[],Qy(t).constructor):e.apply(t,r))}function Ixe(t,e){if(e&&(Qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rxe(t)}function Rxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cz=function(){return!!t})()}function Qy(t){return Qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qy(t)}function Mxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gN(t,e)}function gN(t,e){return gN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gN(t,e)}function Az(t,e,r){return e=Nz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nz(t){var e=Dxe(t,"string");return Qf(e)=="symbol"?e:e+""}function Dxe(t,e){if(Qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qg=(function(t){function e(){return Oxe(this,e),Pxe(this,e,arguments)}return Mxe(e,t),kxe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,a=n.width,c=n.dataKey,u=n.data,h=n.dataPointFormatter,g=n.xAxis,v=n.yAxis,w=Nxe(n,bxe),b=Rt(w,!1);this.props.direction==="x"&&g.type!=="number"&&ad();var A=u.map(function(E){var C=h(E,c),R=C.x,I=C.y,P=C.value,L=C.errorVal;if(!L)return null;var T=[],D,M;if(Array.isArray(L)){var $=_xe(L,2);D=$[0],M=$[1]}else D=M=L;if(s==="vertical"){var V=g.scale,K=I+i,H=K+a,z=K-a,Z=V(P-D),W=V(P+M);T.push({x1:W,y1:H,x2:W,y2:z}),T.push({x1:Z,y1:K,x2:W,y2:K}),T.push({x1:Z,y1:H,x2:Z,y2:z})}else if(s==="horizontal"){var G=v.scale,J=R+i,ie=J-a,ne=J+a,ee=G(P-D),de=G(P+M);T.push({x1:ie,y1:de,x2:ne,y2:de}),T.push({x1:J,y1:ee,x2:J,y2:de}),T.push({x1:ie,y1:ee,x2:ne,y2:ee})}return re.createElement(Nr,Zy({className:"recharts-errorBar",key:"bar-".concat(T.map(function(se){return"".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))},b),T.map(function(se){return re.createElement("line",Zy({},se,{key:"line-".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))}))});return re.createElement(Nr,{className:"recharts-errorBars"},A)}}])})(re.Component);Az(qg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Az(qg,"displayName","ErrorBar");function zm(t){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zm(t)}function W6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W6(Object(r),!0).forEach(function(n){Lxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lxe(t,e,r){return e=Bxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bxe(t){var e=Fxe(t,"string");return zm(e)=="symbol"?e:e+""}function Fxe(t,e){if(zm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jz=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=qs(r,ol);if(!a)return null;var c=ol.defaultProps,u=c!==void 0?yu(yu({},c),a.props):{},h;return a.props&&a.props.payload?h=a.props&&a.props.payload:s==="children"?h=(n||[]).reduce(function(g,v){var w=v.item,b=v.props,A=b.sectors||b.data||[];return g.concat(A.map(function(E){return{type:a.props.iconType||w.props.legendType,value:E.name,color:E.fill,payload:E}}))},[]):h=(n||[]).map(function(g){var v=g.item,w=v.type.defaultProps,b=w!==void 0?yu(yu({},w),v.props):{},A=b.dataKey,E=b.name,C=b.legendType,R=b.hide;return{inactive:R,dataKey:A,type:u.iconType||C||"square",color:BT(v),value:E||A,payload:b}}),yu(yu(yu({},u),ol.getWithHeight(a,i)),{},{payload:h,item:a})};function Hm(t){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(t)}function z6(t){return qxe(t)||Vxe(t)||$xe(t)||Uxe()}function Uxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $xe(t,e){if(t){if(typeof t=="string")return vN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vN(t,e)}}function Vxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qxe(t){if(Array.isArray(t))return vN(t)}function vN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function H6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ln(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H6(Object(r),!0).forEach(function(n){Of(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Of(t,e,r){return e=Wxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wxe(t){var e=zxe(t,"string");return Hm(e)=="symbol"?e:e+""}function zxe(t,e){if(Hm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wn(t,e,r){return tr(t)||tr(e)?r:vi(e)?Js(t,e,r):Gt(e)?e(t):r}function nm(t,e,r,n){var i=q1e(t,function(c){return Wn(c,e)});if(r==="number"){var s=i.filter(function(c){return rt(c)||parseFloat(c)});return s.length?[Ux(s),pc(s)]:[1/0,-1/0]}var a=n?i.filter(function(c){return!tr(c)}):i;return a.map(function(c){return vi(c)||c instanceof Date?c:""})}var Hxe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,c=(r=n?.length)!==null&&r!==void 0?r:0;if(c<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var u=s.range,h=0;h<c;h++){var g=h>0?i[h-1].coordinate:i[c-1].coordinate,v=i[h].coordinate,w=h>=c-1?i[0].coordinate:i[h+1].coordinate,b=void 0;if(ss(v-g)!==ss(w-v)){var A=[];if(ss(w-v)===ss(u[1]-u[0])){b=w;var E=v+u[1]-u[0];A[0]=Math.min(E,(E+g)/2),A[1]=Math.max(E,(E+g)/2)}else{b=g;var C=w+u[1]-u[0];A[0]=Math.min(v,(C+v)/2),A[1]=Math.max(v,(C+v)/2)}var R=[Math.min(v,(b+v)/2),Math.max(v,(b+v)/2)];if(e>R[0]&&e<=R[1]||e>=A[0]&&e<=A[1]){a=i[h].index;break}}else{var I=Math.min(g,w),P=Math.max(g,w);if(e>(I+v)/2&&e<=(P+v)/2){a=i[h].index;break}}}else for(var L=0;L<c;L++)if(L===0&&e<=(n[L].coordinate+n[L+1].coordinate)/2||L>0&&L<c-1&&e>(n[L].coordinate+n[L-1].coordinate)/2&&e<=(n[L].coordinate+n[L+1].coordinate)/2||L===c-1&&e>(n[L].coordinate+n[L-1].coordinate)/2){a=n[L].index;break}return a},BT=function(e){var r,n=e,i=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ln(Ln({},e.type.defaultProps),e.props):e.props,a=s.stroke,c=s.fill,u;switch(i){case"Line":u=a;break;case"Area":case"Radar":u=a&&a!=="none"?a:c;break;default:u=c;break}return u},Gxe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},c=Object.keys(s),u=0,h=c.length;u<h;u++)for(var g=s[c[u]].stackGroups,v=Object.keys(g),w=0,b=v.length;w<b;w++){var A=g[v[w]],E=A.items,C=A.cateAxisId,R=E.filter(function(M){return al(M.type).indexOf("Bar")>=0});if(R&&R.length){var I=R[0].type.defaultProps,P=I!==void 0?Ln(Ln({},I),R[0].props):R[0].props,L=P.barSize,T=P[C];a[T]||(a[T]=[]);var D=tr(L)?r:L;a[T].push({item:R[0],stackList:R.slice(1),barSize:tr(D)?void 0:as(D,n,0)})}}return a},Kxe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,c=e.maxBarSize,u=a.length;if(u<1)return null;var h=as(r,i,0,!0),g,v=[];if(a[0].barSize===+a[0].barSize){var w=!1,b=i/u,A=a.reduce(function(L,T){return L+T.barSize||0},0);A+=(u-1)*h,A>=i&&(A-=(u-1)*h,h=0),A>=i&&b>0&&(w=!0,b*=.9,A=u*b);var E=(i-A)/2>>0,C={offset:E-h,size:0};g=a.reduce(function(L,T){var D={item:T.item,position:{offset:C.offset+C.size+h,size:w?b:T.barSize}},M=[].concat(z6(L),[D]);return C=M[M.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function($){M.push({item:$,position:C})}),M},v)}else{var R=as(n,i,0,!0);i-2*R-(u-1)*h<=0&&(h=0);var I=(i-2*R-(u-1)*h)/u;I>1&&(I>>=0);var P=c===+c?Math.min(I,c):I;g=a.reduce(function(L,T,D){var M=[].concat(z6(L),[{item:T.item,position:{offset:R+(I+h)*D+(I-P)/2,size:P}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function($){M.push({item:$,position:M[M.length-1].position})}),M},v)}return g},Yxe=function(e,r,n,i){var s=n.children,a=n.width,c=n.margin,u=a-(c.left||0)-(c.right||0),h=jz({children:s,legendWidth:u});if(h){var g=i||{},v=g.width,w=g.height,b=h.align,A=h.verticalAlign,E=h.layout;if((E==="vertical"||E==="horizontal"&&A==="middle")&&b!=="center"&&rt(e[b]))return Ln(Ln({},e),{},Of({},b,e[b]+(v||0)));if((E==="horizontal"||E==="vertical"&&b==="center")&&A!=="middle"&&rt(e[A]))return Ln(Ln({},e),{},Of({},A,e[A]+(w||0)))}return e},Xxe=function(e,r,n){return tr(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Oz=function(e,r,n,i,s){var a=r.props.children,c=ea(a,qg).filter(function(h){return Xxe(i,s,h.props.direction)});if(c&&c.length){var u=c.map(function(h){return h.props.dataKey});return e.reduce(function(h,g){var v=Wn(g,n);if(tr(v))return h;var w=Array.isArray(v)?[Ux(v),pc(v)]:[v,v],b=u.reduce(function(A,E){var C=Wn(g,E,0),R=w[0]-Math.abs(Array.isArray(C)?C[0]:C),I=w[1]+Math.abs(Array.isArray(C)?C[1]:C);return[Math.min(R,A[0]),Math.max(I,A[1])]},[1/0,-1/0]);return[Math.min(b[0],h[0]),Math.max(b[1],h[1])]},[1/0,-1/0])}return null},Zxe=function(e,r,n,i,s){var a=r.map(function(c){return Oz(e,c,n,s,i)}).filter(function(c){return!tr(c)});return a&&a.length?a.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]):null},Tz=function(e,r,n,i,s){var a=r.map(function(u){var h=u.props.dataKey;return n==="number"&&h&&Oz(e,u,h,i)||nm(e,h,n,s)});if(n==="number")return a.reduce(function(u,h){return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);var c={};return a.reduce(function(u,h){for(var g=0,v=h.length;g<v;g++)c[h[g]]||(c[h[g]]=!0,u.push(h[g]));return u},[])},kz=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},Pz=function(e,r,n,i){if(i)return e.map(function(u){return u.coordinate});var s,a,c=e.map(function(u){return u.coordinate===r&&(s=!0),u.coordinate===n&&(a=!0),u.coordinate});return s||c.push(r),a||c.push(n),c},sl=function(e,r,n){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,c=e.range,u=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(r||n)&&a==="category"&&i.bandwidth?i.bandwidth()/u:0;if(h=e.axisType==="angleAxis"&&c?.length>=2?ss(c[0]-c[1])*2*h:h,r&&(e.ticks||e.niceTicks)){var g=(e.ticks||e.niceTicks).map(function(v){var w=s?s.indexOf(v):v;return{coordinate:i(w)+h,value:v,offset:h}});return g.filter(function(v){return!Ih(v.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(v,w){return{coordinate:i(v)+h,value:v,index:w,offset:h}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(v){return{coordinate:i(v)+h,value:v,offset:h}}):i.domain().map(function(v,w){return{coordinate:i(v)+h,value:s?s[v]:v,index:w,offset:h}})},oC=new WeakMap,Nv=function(e,r){if(typeof r!="function")return e;oC.has(e)||oC.set(e,new WeakMap);var n=oC.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},Iz=function(e,r,n){var i=e.scale,s=e.type,a=e.layout,c=e.axisType;if(i==="auto")return a==="radial"&&c==="radiusAxis"?{scale:Bm(),realScaleType:"band"}:a==="radial"&&c==="angleAxis"?{scale:Hy(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:rm(),realScaleType:"point"}:s==="category"?{scale:Bm(),realScaleType:"band"}:{scale:Hy(),realScaleType:"linear"};if(td(i)){var u="scale".concat(Cx(i));return{scale:(k6[u]||rm)(),realScaleType:k6[u]?u:"point"}}return Gt(i)?{scale:i}:{scale:rm(),realScaleType:"point"}},G6=1e-4,Rz=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),s=Math.min(i[0],i[1])-G6,a=Math.max(i[0],i[1])+G6,c=e(r[0]),u=e(r[n-1]);(c<s||c>a||u<s||u>a)&&e.domain([r[0],r[n-1]])}},Qxe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Jxe=function(e,r){if(!r||r.length!==2||!rt(r[0])||!rt(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!rt(e[0])||e[0]<n)&&(s[0]=n),(!rt(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},ewe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,a=0,c=0;c<r;++c){var u=Ih(e[c][n][1])?e[c][n][0]:e[c][n][1];u>=0?(e[c][n][0]=s,e[c][n][1]=s+u,s=e[c][n][1]):(e[c][n][0]=a,e[c][n][1]=a+u,a=e[c][n][1])}},twe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,a=0;a<r;++a){var c=Ih(e[a][n][1])?e[a][n][0]:e[a][n][1];c>=0?(e[a][n][0]=s,e[a][n][1]=s+c,s=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},rwe={sign:ewe,expand:qpe,none:Wf,silhouette:Wpe,wiggle:zpe,positive:twe},nwe=function(e,r,n){var i=r.map(function(c){return c.props.dataKey}),s=rwe[n],a=Vpe().keys(i).value(function(c,u){return+Wn(c,u,0)}).order(GA).offset(s);return a(e)},iwe=function(e,r,n,i,s,a){if(!e)return null;var c=a?r.reverse():r,u={},h=c.reduce(function(v,w){var b,A=(b=w.type)!==null&&b!==void 0&&b.defaultProps?Ln(Ln({},w.type.defaultProps),w.props):w.props,E=A.stackId,C=A.hide;if(C)return v;var R=A[n],I=v[R]||{hasStack:!1,stackGroups:{}};if(vi(E)){var P=I.stackGroups[E]||{numericAxisId:n,cateAxisId:i,items:[]};P.items.push(w),I.hasStack=!0,I.stackGroups[E]=P}else I.stackGroups[vd("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[w]};return Ln(Ln({},v),{},Of({},R,I))},u),g={};return Object.keys(h).reduce(function(v,w){var b=h[w];if(b.hasStack){var A={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(E,C){var R=b.stackGroups[C];return Ln(Ln({},E),{},Of({},C,{numericAxisId:n,cateAxisId:i,items:R.items,stackedData:nwe(e,R.items,s)}))},A)}return Ln(Ln({},v),{},Of({},w,b))},g)},Mz=function(e,r){var n=r.realScaleType,i=r.type,s=r.tickCount,a=r.originalDomain,c=r.allowDecimals,u=n||r.scale;if(u!=="auto"&&u!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var h=e.domain();if(!h.length)return null;var g=yxe(h,s,c);return e.domain([Ux(g),pc(g)]),{niceTicks:g}}if(s&&i==="number"){var v=e.domain(),w=xxe(v,s,c);return{niceTicks:w}}return null};function Jy(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,s=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!tr(i[e.dataKey])){var c=jy(r,"value",i[e.dataKey]);if(c)return c.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var u=Wn(i,tr(a)?e.dataKey:a);return tr(u)?null:e.scale(u)}var K6=function(e){var r=e.axis,n=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,c=e.index;if(r.type==="category")return n[c]?n[c].coordinate+i:null;var u=Wn(a,r.dataKey,r.domain[c]);return tr(u)?null:r.scale(u)-s/2+i},swe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},awe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ln(Ln({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(vi(s)){var a=r[s];if(a){var c=a.items.indexOf(e);return c>=0?a.stackedData[c]:null}}return null},owe=function(e){return e.reduce(function(r,n){return[Ux(n.concat([r[0]]).filter(rt)),pc(n.concat([r[1]]).filter(rt))]},[1/0,-1/0])},Dz=function(e,r,n){return Object.keys(e).reduce(function(i,s){var a=e[s],c=a.stackedData,u=c.reduce(function(h,g){var v=owe(g.slice(r,n+1));return[Math.min(h[0],v[0]),Math.max(h[1],v[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Y6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,X6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yN=function(e,r,n){if(Gt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(rt(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(Y6.test(e[0])){var s=+Y6.exec(e[0])[1];i[0]=r[0]-s}else Gt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(rt(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(X6.test(e[1])){var a=+X6.exec(e[1])[1];i[1]=r[1]+a}else Gt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},e1=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var s=fT(r,function(v){return v.coordinate}),a=1/0,c=1,u=s.length;c<u;c++){var h=s[c],g=s[c-1];a=Math.min((h.coordinate||0)-(g.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},Z6=function(e,r,n){return!e||!e.length||id(e,Js(n,"type.defaultProps.domain"))?r:e},Lz=function(e,r){var n=e.type.defaultProps?Ln(Ln({},e.type.defaultProps),e.props):e.props,i=n.dataKey,s=n.name,a=n.unit,c=n.formatter,u=n.tooltipType,h=n.chartType,g=n.hide;return Ln(Ln({},Rt(e,!1)),{},{dataKey:i,unit:a,formatter:c,name:s||i,color:BT(e),value:Wn(r,i),type:u,payload:r,chartType:h,hide:g})};function Gm(t){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gm(t)}function Q6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q6(Object(r),!0).forEach(function(n){Bz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bz(t,e,r){return e=lwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lwe(t){var e=cwe(t,"string");return Gm(e)=="symbol"?e:e+""}function cwe(t,e){if(Gm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uwe(t,e){return pwe(t)||hwe(t,e)||fwe(t,e)||dwe()}function dwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fwe(t,e){if(t){if(typeof t=="string")return J6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J6(t,e)}}function J6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hwe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,c=[],u=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(h)throw i}}return c}}function pwe(t){if(Array.isArray(t))return t}var t1=Math.PI/180,mwe=function(e){return e*180/Math.PI},hn=function(e,r,n,i){return{x:e+Math.cos(-t1*i)*n,y:r+Math.sin(-t1*i)*n}},Fz=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},gwe=function(e,r,n,i,s){var a=e.width,c=e.height,u=e.startAngle,h=e.endAngle,g=as(e.cx,a,a/2),v=as(e.cy,c,c/2),w=Fz(a,c,n),b=as(e.innerRadius,w,0),A=as(e.outerRadius,w,w*.8),E=Object.keys(r);return E.reduce(function(C,R){var I=r[R],P=I.domain,L=I.reversed,T;if(tr(I.range))i==="angleAxis"?T=[u,h]:i==="radiusAxis"&&(T=[b,A]),L&&(T=[T[1],T[0]]);else{T=I.range;var D=T,M=uwe(D,2);u=M[0],h=M[1]}var $=Iz(I,s),V=$.realScaleType,K=$.scale;K.domain(P).range(T),Rz(K);var H=Mz(K,tl(tl({},I),{},{realScaleType:V})),z=tl(tl(tl({},I),H),{},{range:T,radius:A,realScaleType:V,scale:K,cx:g,cy:v,innerRadius:b,outerRadius:A,startAngle:u,endAngle:h});return tl(tl({},C),{},Bz({},R,z))},{})},vwe=function(e,r){var n=e.x,i=e.y,s=r.x,a=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-a,2))},ywe=function(e,r){var n=e.x,i=e.y,s=r.cx,a=r.cy,c=vwe({x:n,y:i},{x:s,y:a});if(c<=0)return{radius:c};var u=(n-s)/c,h=Math.acos(u);return i>a&&(h=2*Math.PI-h),{radius:c,angle:mwe(h),angleInRadian:h}},xwe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return{startAngle:r-a*360,endAngle:n-a*360}},wwe=function(e,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),a=Math.floor(i/360),c=Math.min(s,a);return e+c*360},e5=function(e,r){var n=e.x,i=e.y,s=ywe({x:n,y:i},r),a=s.radius,c=s.angle,u=r.innerRadius,h=r.outerRadius;if(a<u||a>h)return!1;if(a===0)return!0;var g=xwe(r),v=g.startAngle,w=g.endAngle,b=c,A;if(v<=w){for(;b>w;)b-=360;for(;b<v;)b+=360;A=b>=v&&b<=w}else{for(;b>v;)b-=360;for(;b<w;)b+=360;A=b>=w&&b<=v}return A?tl(tl({},r),{},{radius:a,angle:wwe(b,r)}):null},Uz=function(e){return!j.isValidElement(e)&&!Gt(e)&&typeof e!="boolean"?e.className:""};function Km(t){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Km(t)}var bwe=["offset"];function _we(t){return Awe(t)||Cwe(t)||Ewe(t)||Swe()}function Swe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ewe(t,e){if(t){if(typeof t=="string")return xN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xN(t,e)}}function Cwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Awe(t){if(Array.isArray(t))return xN(t)}function xN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Nwe(t,e){if(t==null)return{};var r=jwe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jwe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function t5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t5(Object(r),!0).forEach(function(n){Owe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Owe(t,e,r){return e=Twe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Twe(t){var e=kwe(t,"string");return Km(e)=="symbol"?e:e+""}function kwe(t,e){if(Km(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ym(){return Ym=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ym.apply(this,arguments)}var Pwe=function(e){var r=e.value,n=e.formatter,i=tr(e.children)?r:e.children;return Gt(n)?n(i):i},Iwe=function(e,r){var n=ss(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Rwe=function(e,r,n){var i=e.position,s=e.viewBox,a=e.offset,c=e.className,u=s,h=u.cx,g=u.cy,v=u.innerRadius,w=u.outerRadius,b=u.startAngle,A=u.endAngle,E=u.clockWise,C=(v+w)/2,R=Iwe(b,A),I=R>=0?1:-1,P,L;i==="insideStart"?(P=b+I*a,L=E):i==="insideEnd"?(P=A-I*a,L=!E):i==="end"&&(P=A+I*a,L=E),L=R<=0?L:!L;var T=hn(h,g,C,P),D=hn(h,g,C,P+(L?1:-1)*359),M="M".concat(T.x,",").concat(T.y,`
    A`).concat(C,",").concat(C,",0,1,").concat(L?0:1,`,
    `).concat(D.x,",").concat(D.y),$=tr(e.id)?vd("recharts-radial-line-"):e.id;return re.createElement("text",Ym({},n,{dominantBaseline:"central",className:nr("recharts-radial-bar-label",c)}),re.createElement("defs",null,re.createElement("path",{id:$,d:M})),re.createElement("textPath",{xlinkHref:"#".concat($)},r))},Mwe=function(e){var r=e.viewBox,n=e.offset,i=e.position,s=r,a=s.cx,c=s.cy,u=s.innerRadius,h=s.outerRadius,g=s.startAngle,v=s.endAngle,w=(g+v)/2;if(i==="outside"){var b=hn(a,c,h+n,w),A=b.x,E=b.y;return{x:A,y:E,textAnchor:A>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:c,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:c,textAnchor:"middle",verticalAnchor:"end"};var C=(u+h)/2,R=hn(a,c,C,w),I=R.x,P=R.y;return{x:I,y:P,textAnchor:"middle",verticalAnchor:"middle"}},Dwe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,s=e.position,a=r,c=a.x,u=a.y,h=a.width,g=a.height,v=g>=0?1:-1,w=v*i,b=v>0?"end":"start",A=v>0?"start":"end",E=h>=0?1:-1,C=E*i,R=E>0?"end":"start",I=E>0?"start":"end";if(s==="top"){var P={x:c+h/2,y:u-v*i,textAnchor:"middle",verticalAnchor:b};return hi(hi({},P),n?{height:Math.max(u-n.y,0),width:h}:{})}if(s==="bottom"){var L={x:c+h/2,y:u+g+w,textAnchor:"middle",verticalAnchor:A};return hi(hi({},L),n?{height:Math.max(n.y+n.height-(u+g),0),width:h}:{})}if(s==="left"){var T={x:c-C,y:u+g/2,textAnchor:R,verticalAnchor:"middle"};return hi(hi({},T),n?{width:Math.max(T.x-n.x,0),height:g}:{})}if(s==="right"){var D={x:c+h+C,y:u+g/2,textAnchor:I,verticalAnchor:"middle"};return hi(hi({},D),n?{width:Math.max(n.x+n.width-D.x,0),height:g}:{})}var M=n?{width:h,height:g}:{};return s==="insideLeft"?hi({x:c+C,y:u+g/2,textAnchor:I,verticalAnchor:"middle"},M):s==="insideRight"?hi({x:c+h-C,y:u+g/2,textAnchor:R,verticalAnchor:"middle"},M):s==="insideTop"?hi({x:c+h/2,y:u+w,textAnchor:"middle",verticalAnchor:A},M):s==="insideBottom"?hi({x:c+h/2,y:u+g-w,textAnchor:"middle",verticalAnchor:b},M):s==="insideTopLeft"?hi({x:c+C,y:u+w,textAnchor:I,verticalAnchor:A},M):s==="insideTopRight"?hi({x:c+h-C,y:u+w,textAnchor:R,verticalAnchor:A},M):s==="insideBottomLeft"?hi({x:c+C,y:u+g-w,textAnchor:I,verticalAnchor:b},M):s==="insideBottomRight"?hi({x:c+h-C,y:u+g-w,textAnchor:R,verticalAnchor:b},M):Ph(s)&&(rt(s.x)||Mu(s.x))&&(rt(s.y)||Mu(s.y))?hi({x:c+as(s.x,h),y:u+as(s.y,g),textAnchor:"end",verticalAnchor:"end"},M):hi({x:c+h/2,y:u+g/2,textAnchor:"middle",verticalAnchor:"middle"},M)},Lwe=function(e){return"cx"in e&&rt(e.cx)};function Ai(t){var e=t.offset,r=e===void 0?5:e,n=Nwe(t,bwe),i=hi({offset:r},n),s=i.viewBox,a=i.position,c=i.value,u=i.children,h=i.content,g=i.className,v=g===void 0?"":g,w=i.textBreakAll;if(!s||tr(c)&&tr(u)&&!j.isValidElement(h)&&!Gt(h))return null;if(j.isValidElement(h))return j.cloneElement(h,i);var b;if(Gt(h)){if(b=j.createElement(h,i),j.isValidElement(b))return b}else b=Pwe(i);var A=Lwe(s),E=Rt(i,!0);if(A&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Rwe(i,b,E);var C=A?Mwe(i):Dwe(i);return re.createElement(nd,Ym({className:nr("recharts-label",v)},E,C,{breakAll:w}),b)}Ai.displayName="Label";var $z=function(e){var r=e.cx,n=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,c=e.r,u=e.radius,h=e.innerRadius,g=e.outerRadius,v=e.x,w=e.y,b=e.top,A=e.left,E=e.width,C=e.height,R=e.clockWise,I=e.labelViewBox;if(I)return I;if(rt(E)&&rt(C)){if(rt(v)&&rt(w))return{x:v,y:w,width:E,height:C};if(rt(b)&&rt(A))return{x:b,y:A,width:E,height:C}}return rt(v)&&rt(w)?{x:v,y:w,width:0,height:0}:rt(r)&&rt(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:a||i||0,innerRadius:h||0,outerRadius:g||u||c||0,clockWise:R}:e.viewBox?e.viewBox:{}},Bwe=function(e,r){return e?e===!0?re.createElement(Ai,{key:"label-implicit",viewBox:r}):vi(e)?re.createElement(Ai,{key:"label-implicit",viewBox:r,value:e}):j.isValidElement(e)?e.type===Ai?j.cloneElement(e,{key:"label-implicit",viewBox:r}):re.createElement(Ai,{key:"label-implicit",content:e,viewBox:r}):Gt(e)?re.createElement(Ai,{key:"label-implicit",content:e,viewBox:r}):Ph(e)?re.createElement(Ai,Ym({viewBox:r},e,{key:"label-implicit"})):null:null},Fwe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=$z(e),a=ea(i,Ai).map(function(u,h){return j.cloneElement(u,{viewBox:r||s,key:"label-".concat(h)})});if(!n)return a;var c=Bwe(e.label,r||s);return[c].concat(_we(a))};Ai.parseViewBox=$z;Ai.renderCallByParent=Fwe;var lC,r5;function Uwe(){if(r5)return lC;r5=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return lC=t,lC}var $we=Uwe();const Vwe=Rr($we);function Xm(t){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xm(t)}var qwe=["valueAccessor"],Wwe=["data","dataKey","clockWise","id","textBreakAll"];function zwe(t){return Ywe(t)||Kwe(t)||Gwe(t)||Hwe()}function Hwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gwe(t,e){if(t){if(typeof t=="string")return wN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wN(t,e)}}function Kwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ywe(t){if(Array.isArray(t))return wN(t)}function wN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function r1(){return r1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},r1.apply(this,arguments)}function n5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function i5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n5(Object(r),!0).forEach(function(n){Xwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xwe(t,e,r){return e=Zwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zwe(t){var e=Qwe(t,"string");return Xm(e)=="symbol"?e:e+""}function Qwe(t,e){if(Xm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s5(t,e){if(t==null)return{};var r=Jwe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Jwe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ebe=function(e){return Array.isArray(e.value)?Vwe(e.value):e.value};function So(t){var e=t.valueAccessor,r=e===void 0?ebe:e,n=s5(t,qwe),i=n.data,s=n.dataKey,a=n.clockWise,c=n.id,u=n.textBreakAll,h=s5(n,Wwe);return!i||!i.length?null:re.createElement(Nr,{className:"recharts-label-list"},i.map(function(g,v){var w=tr(s)?r(g,v):Wn(g&&g.payload,s),b=tr(c)?{}:{id:"".concat(c,"-").concat(v)};return re.createElement(Ai,r1({},Rt(g,!0),h,b,{parentViewBox:g.parentViewBox,value:w,textBreakAll:u,viewBox:Ai.parseViewBox(tr(a)?g:i5(i5({},g),{},{clockWise:a})),key:"label-".concat(v),index:v}))}))}So.displayName="LabelList";function tbe(t,e){return t?t===!0?re.createElement(So,{key:"labelList-implicit",data:e}):re.isValidElement(t)||Gt(t)?re.createElement(So,{key:"labelList-implicit",data:e,content:t}):Ph(t)?re.createElement(So,r1({data:e},t,{key:"labelList-implicit"})):null:null}function rbe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=ea(n,So).map(function(a,c){return j.cloneElement(a,{data:e,key:"labelList-".concat(c)})});if(!r)return i;var s=tbe(t.label,e);return[s].concat(zwe(i))}So.renderCallByParent=rbe;function Zm(t){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(t)}function bN(){return bN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bN.apply(this,arguments)}function a5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function o5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a5(Object(r),!0).forEach(function(n){nbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nbe(t,e,r){return e=ibe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ibe(t){var e=sbe(t,"string");return Zm(e)=="symbol"?e:e+""}function sbe(t,e){if(Zm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var abe=function(e,r){var n=ss(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},jv=function(e){var r=e.cx,n=e.cy,i=e.radius,s=e.angle,a=e.sign,c=e.isExternal,u=e.cornerRadius,h=e.cornerIsExternal,g=u*(c?1:-1)+i,v=Math.asin(u/g)/t1,w=h?s:s+a*v,b=hn(r,n,g,w),A=hn(r,n,i,w),E=h?s-a*v:s,C=hn(r,n,g*Math.cos(v*t1),E);return{center:b,circleTangency:A,lineTangency:C,theta:v}},Vz=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,c=e.endAngle,u=abe(a,c),h=a+u,g=hn(r,n,s,a),v=hn(r,n,s,h),w="M ".concat(g.x,",").concat(g.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>h),`,
    `).concat(v.x,",").concat(v.y,`
  `);if(i>0){var b=hn(r,n,i,a),A=hn(r,n,i,h);w+="L ".concat(A.x,",").concat(A.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=h),`,
            `).concat(b.x,",").concat(b.y," Z")}else w+="L ".concat(r,",").concat(n," Z");return w},obe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,c=e.forceCornerRadius,u=e.cornerIsExternal,h=e.startAngle,g=e.endAngle,v=ss(g-h),w=jv({cx:r,cy:n,radius:s,angle:h,sign:v,cornerRadius:a,cornerIsExternal:u}),b=w.circleTangency,A=w.lineTangency,E=w.theta,C=jv({cx:r,cy:n,radius:s,angle:g,sign:-v,cornerRadius:a,cornerIsExternal:u}),R=C.circleTangency,I=C.lineTangency,P=C.theta,L=u?Math.abs(h-g):Math.abs(h-g)-E-P;if(L<0)return c?"M ".concat(A.x,",").concat(A.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Vz({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:h,endAngle:g});var T="M ".concat(A.x,",").concat(A.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(v<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(L>180),",").concat(+(v<0),",").concat(R.x,",").concat(R.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(v<0),",").concat(I.x,",").concat(I.y,`
  `);if(i>0){var D=jv({cx:r,cy:n,radius:i,angle:h,sign:v,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),M=D.circleTangency,$=D.lineTangency,V=D.theta,K=jv({cx:r,cy:n,radius:i,angle:g,sign:-v,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),H=K.circleTangency,z=K.lineTangency,Z=K.theta,W=u?Math.abs(h-g):Math.abs(h-g)-V-Z;if(W<0&&a===0)return"".concat(T,"L").concat(r,",").concat(n,"Z");T+="L".concat(z.x,",").concat(z.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(v<0),",").concat(H.x,",").concat(H.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(W>180),",").concat(+(v>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(v<0),",").concat($.x,",").concat($.y,"Z")}else T+="L".concat(r,",").concat(n,"Z");return T},lbe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},qz=function(e){var r=o5(o5({},lbe),e),n=r.cx,i=r.cy,s=r.innerRadius,a=r.outerRadius,c=r.cornerRadius,u=r.forceCornerRadius,h=r.cornerIsExternal,g=r.startAngle,v=r.endAngle,w=r.className;if(a<s||g===v)return null;var b=nr("recharts-sector",w),A=a-s,E=as(c,A,0,!0),C;return E>0&&Math.abs(g-v)<360?C=obe({cx:n,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(E,A/2),forceCornerRadius:u,cornerIsExternal:h,startAngle:g,endAngle:v}):C=Vz({cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:g,endAngle:v}),re.createElement("path",bN({},Rt(r,!0),{className:b,d:C,role:"img"}))};function Qm(t){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qm(t)}function _N(){return _N=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_N.apply(this,arguments)}function l5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function c5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l5(Object(r),!0).forEach(function(n){cbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cbe(t,e,r){return e=ube(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ube(t){var e=dbe(t,"string");return Qm(e)=="symbol"?e:e+""}function dbe(t,e){if(Qm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u5={curveBasisClosed:kpe,curveBasisOpen:Ppe,curveBasis:Tpe,curveBumpX:gpe,curveBumpY:vpe,curveLinearClosed:Ipe,curveLinear:Nx,curveMonotoneX:Rpe,curveMonotoneY:Mpe,curveNatural:Dpe,curveStep:Lpe,curveStepAfter:Fpe,curveStepBefore:Bpe},Ov=function(e){return e.x===+e.x&&e.y===+e.y},Bp=function(e){return e.x},Fp=function(e){return e.y},fbe=function(e,r){if(Gt(e))return e;var n="curve".concat(Cx(e));return(n==="curveMonotone"||n==="curveBump")&&r?u5["".concat(n).concat(r==="vertical"?"Y":"X")]:u5[n]||Nx},hbe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,s=i===void 0?[]:i,a=e.baseLine,c=e.layout,u=e.connectNulls,h=u===void 0?!1:u,g=fbe(n,c),v=h?s.filter(function(E){return Ov(E)}):s,w;if(Array.isArray(a)){var b=h?a.filter(function(E){return Ov(E)}):a,A=v.map(function(E,C){return c5(c5({},E),{},{base:b[C]})});return c==="vertical"?w=xv().y(Fp).x1(Bp).x0(function(E){return E.base.x}):w=xv().x(Bp).y1(Fp).y0(function(E){return E.base.y}),w.defined(Ov).curve(g),w(A)}return c==="vertical"&&rt(a)?w=xv().y(Fp).x1(Bp).x0(a):rt(a)?w=xv().x(Bp).y1(Fp).y0(a):w=$q().x(Bp).y(Fp),w.defined(Ov).curve(g),w(v)},Wu=function(e){var r=e.className,n=e.points,i=e.path,s=e.pathRef;if((!n||!n.length)&&!i)return null;var a=n&&n.length?hbe(e):i;return j.createElement("path",_N({},Rt(e,!1),Oy(e),{className:nr("recharts-curve",r),d:a,ref:s}))},cC={exports:{}},uC,d5;function pbe(){if(d5)return uC;d5=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return uC=t,uC}var dC,f5;function mbe(){if(f5)return dC;f5=1;var t=pbe();function e(){}function r(){}return r.resetWarningCache=e,dC=function(){function n(a,c,u,h,g,v){if(v!==t){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},dC}var h5;function gbe(){return h5||(h5=1,cC.exports=mbe()()),cC.exports}var vbe=gbe();const zr=Rr(vbe);var ybe=Object.getOwnPropertyNames,xbe=Object.getOwnPropertySymbols,wbe=Object.prototype.hasOwnProperty;function p5(t,e){return function(n,i,s){return t(n,i,s)&&e(n,i,s)}}function Tv(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var s=i.cache,a=s.get(r),c=s.get(n);if(a&&c)return a===n&&c===r;s.set(r,n),s.set(n,r);var u=t(r,n,i);return s.delete(r),s.delete(n),u}}function m5(t){return ybe(t).concat(xbe(t))}var bbe=Object.hasOwn||(function(t,e){return wbe.call(t,e)});function wd(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var _be="__v",Sbe="__o",Ebe="_owner",g5=Object.getOwnPropertyDescriptor,v5=Object.keys;function Cbe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Abe(t,e){return wd(t.getTime(),e.getTime())}function Nbe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function jbe(t,e){return t===e}function y5(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.entries(),a,c,u=0;(a=s.next())&&!a.done;){for(var h=e.entries(),g=!1,v=0;(c=h.next())&&!c.done;){if(i[v]){v++;continue}var w=a.value,b=c.value;if(r.equals(w[0],b[0],u,v,t,e,r)&&r.equals(w[1],b[1],w[0],b[0],t,e,r)){g=i[v]=!0;break}v++}if(!g)return!1;u++}return!0}var Obe=wd;function Tbe(t,e,r){var n=v5(t),i=n.length;if(v5(e).length!==i)return!1;for(;i-- >0;)if(!Wz(t,e,r,n[i]))return!1;return!0}function Up(t,e,r){var n=m5(t),i=n.length;if(m5(e).length!==i)return!1;for(var s,a,c;i-- >0;)if(s=n[i],!Wz(t,e,r,s)||(a=g5(t,s),c=g5(e,s),(a||c)&&(!a||!c||a.configurable!==c.configurable||a.enumerable!==c.enumerable||a.writable!==c.writable)))return!1;return!0}function kbe(t,e){return wd(t.valueOf(),e.valueOf())}function Pbe(t,e){return t.source===e.source&&t.flags===e.flags}function x5(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.values(),a,c;(a=s.next())&&!a.done;){for(var u=e.values(),h=!1,g=0;(c=u.next())&&!c.done;){if(!i[g]&&r.equals(a.value,c.value,a.value,c.value,t,e,r)){h=i[g]=!0;break}g++}if(!h)return!1}return!0}function Ibe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Rbe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Wz(t,e,r,n){return(n===Ebe||n===Sbe||n===_be)&&(t.$$typeof||e.$$typeof)?!0:bbe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Mbe="[object Arguments]",Dbe="[object Boolean]",Lbe="[object Date]",Bbe="[object Error]",Fbe="[object Map]",Ube="[object Number]",$be="[object Object]",Vbe="[object RegExp]",qbe="[object Set]",Wbe="[object String]",zbe="[object URL]",Hbe=Array.isArray,w5=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,b5=Object.assign,Gbe=Object.prototype.toString.call.bind(Object.prototype.toString);function Kbe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,a=t.areNumbersEqual,c=t.areObjectsEqual,u=t.arePrimitiveWrappersEqual,h=t.areRegExpsEqual,g=t.areSetsEqual,v=t.areTypedArraysEqual,w=t.areUrlsEqual;return function(A,E,C){if(A===E)return!0;if(A==null||E==null)return!1;var R=typeof A;if(R!==typeof E)return!1;if(R!=="object")return R==="number"?a(A,E,C):R==="function"?i(A,E,C):!1;var I=A.constructor;if(I!==E.constructor)return!1;if(I===Object)return c(A,E,C);if(Hbe(A))return e(A,E,C);if(w5!=null&&w5(A))return v(A,E,C);if(I===Date)return r(A,E,C);if(I===RegExp)return h(A,E,C);if(I===Map)return s(A,E,C);if(I===Set)return g(A,E,C);var P=Gbe(A);return P===Lbe?r(A,E,C):P===Vbe?h(A,E,C):P===Fbe?s(A,E,C):P===qbe?g(A,E,C):P===$be?typeof A.then!="function"&&typeof E.then!="function"&&c(A,E,C):P===zbe?w(A,E,C):P===Bbe?n(A,E,C):P===Mbe?c(A,E,C):P===Dbe||P===Ube||P===Wbe?u(A,E,C):!1}}function Ybe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Up:Cbe,areDatesEqual:Abe,areErrorsEqual:Nbe,areFunctionsEqual:jbe,areMapsEqual:n?p5(y5,Up):y5,areNumbersEqual:Obe,areObjectsEqual:n?Up:Tbe,arePrimitiveWrappersEqual:kbe,areRegExpsEqual:Pbe,areSetsEqual:n?p5(x5,Up):x5,areTypedArraysEqual:n?Up:Ibe,areUrlsEqual:Rbe};if(r&&(i=b5({},i,r(i))),e){var s=Tv(i.areArraysEqual),a=Tv(i.areMapsEqual),c=Tv(i.areObjectsEqual),u=Tv(i.areSetsEqual);i=b5({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:c,areSetsEqual:u})}return i}function Xbe(t){return function(e,r,n,i,s,a,c){return t(e,r,c)}}function Zbe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,s=t.strict;if(n)return function(u,h){var g=n(),v=g.cache,w=v===void 0?e?new WeakMap:void 0:v,b=g.meta;return r(u,h,{cache:w,equals:i,meta:b,strict:s})};if(e)return function(u,h){return r(u,h,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(u,h){return r(u,h,a)}}var Qbe=zc();zc({strict:!0});zc({circular:!0});zc({circular:!0,strict:!0});zc({createInternalComparator:function(){return wd}});zc({strict:!0,createInternalComparator:function(){return wd}});zc({circular:!0,createInternalComparator:function(){return wd}});zc({circular:!0,createInternalComparator:function(){return wd},strict:!0});function zc(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,s=t.strict,a=s===void 0?!1:s,c=Ybe(t),u=Kbe(c),h=n?n(u):Xbe(u);return Zbe({circular:r,comparator:u,createState:i,equals:h,strict:a})}function Jbe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function _5(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>e?(t(s),r=-1):Jbe(i)};requestAnimationFrame(n)}function SN(t){"@babel/helpers - typeof";return SN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SN(t)}function e_e(t){return i_e(t)||n_e(t)||r_e(t)||t_e()}function t_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r_e(t,e){if(t){if(typeof t=="string")return S5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S5(t,e)}}function S5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function n_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function i_e(t){if(Array.isArray(t))return t}function s_e(){var t={},e=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var a=s,c=e_e(a),u=c[0],h=c.slice(1);if(typeof u=="number"){_5(i.bind(null,h),u);return}i(u),_5(i.bind(null,h));return}SN(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Jm(t){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jm(t)}function E5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function C5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E5(Object(r),!0).forEach(function(n){zz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zz(t,e,r){return e=a_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a_e(t){var e=o_e(t,"string");return Jm(e)==="symbol"?e:String(e)}function o_e(t,e){if(Jm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var l_e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},c_e=function(e){return e},u_e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},im=function(e,r){return Object.keys(r).reduce(function(n,i){return C5(C5({},n),{},zz({},i,e(i,r[i])))},{})},A5=function(e,r,n){return e.map(function(i){return"".concat(u_e(i)," ").concat(r,"ms ").concat(n)}).join(",")};function d_e(t,e){return p_e(t)||h_e(t,e)||Hz(t,e)||f_e()}function f_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,c=[],u=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(h)throw i}}return c}}function p_e(t){if(Array.isArray(t))return t}function m_e(t){return y_e(t)||v_e(t)||Hz(t)||g_e()}function g_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hz(t,e){if(t){if(typeof t=="string")return EN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EN(t,e)}}function v_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function y_e(t){if(Array.isArray(t))return EN(t)}function EN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var n1=1e-4,Gz=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},Kz=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},N5=function(e,r){return function(n){var i=Gz(e,r);return Kz(i,n)}},x_e=function(e,r){return function(n){var i=Gz(e,r),s=[].concat(m_e(i.map(function(a,c){return a*c}).slice(1)),[0]);return Kz(s,n)}},j5=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],s=r[1],a=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,a=1,c=1;break;case"ease":i=.25,s=.1,a=.25,c=1;break;case"ease-in":i=.42,s=0,a=1,c=1;break;case"ease-out":i=.42,s=0,a=.58,c=1;break;case"ease-in-out":i=0,s=0,a=.58,c=1;break;default:{var u=r[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var h=u[1].split(")")[0].split(",").map(function(C){return parseFloat(C)}),g=d_e(h,4);i=g[0],s=g[1],a=g[2],c=g[3]}}}var v=N5(i,a),w=N5(s,c),b=x_e(i,a),A=function(R){return R>1?1:R<0?0:R},E=function(R){for(var I=R>1?1:R,P=I,L=0;L<8;++L){var T=v(P)-I,D=b(P);if(Math.abs(T-I)<n1||D<n1)return w(P);P=A(P-T/D)}return w(P)};return E.isStepper=!1,E},w_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,s=i===void 0?8:i,a=e.dt,c=a===void 0?17:a,u=function(g,v,w){var b=-(g-v)*n,A=w*s,E=w+(b-A)*c/1e3,C=w*c/1e3+g;return Math.abs(C-v)<n1&&Math.abs(E)<n1?[v,0]:[C,E]};return u.isStepper=!0,u.dt=c,u},b_e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return j5(i);case"spring":return w_e();default:if(i.split("(")[0]==="cubic-bezier")return j5(i)}return typeof i=="function"?i:null};function eg(t){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(t)}function O5(t){return E_e(t)||S_e(t)||Yz(t)||__e()}function __e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function E_e(t){if(Array.isArray(t))return AN(t)}function T5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Di(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T5(Object(r),!0).forEach(function(n){CN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CN(t,e,r){return e=C_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C_e(t){var e=A_e(t,"string");return eg(e)==="symbol"?e:String(e)}function A_e(t,e){if(eg(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N_e(t,e){return T_e(t)||O_e(t,e)||Yz(t,e)||j_e()}function j_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yz(t,e){if(t){if(typeof t=="string")return AN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AN(t,e)}}function AN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function O_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,c=[],u=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(h)throw i}}return c}}function T_e(t){if(Array.isArray(t))return t}var i1=function(e,r,n){return e+(r-e)*n},NN=function(e){var r=e.from,n=e.to;return r!==n},k_e=function t(e,r,n){var i=im(function(s,a){if(NN(a)){var c=e(a.from,a.to,a.velocity),u=N_e(c,2),h=u[0],g=u[1];return Di(Di({},a),{},{from:h,velocity:g})}return a},r);return n<1?im(function(s,a){return NN(a)?Di(Di({},a),{},{velocity:i1(a.velocity,i[s].velocity,n),from:i1(a.from,i[s].from,n)}):a},r):t(e,i,n-1)};const P_e=(function(t,e,r,n,i){var s=l_e(t,e),a=s.reduce(function(C,R){return Di(Di({},C),{},CN({},R,[t[R],e[R]]))},{}),c=s.reduce(function(C,R){return Di(Di({},C),{},CN({},R,{from:t[R],velocity:0,to:e[R]}))},{}),u=-1,h,g,v=function(){return null},w=function(){return im(function(R,I){return I.from},c)},b=function(){return!Object.values(c).filter(NN).length},A=function(R){h||(h=R);var I=R-h,P=I/r.dt;c=k_e(r,c,P),i(Di(Di(Di({},t),e),w())),h=R,b()||(u=requestAnimationFrame(v))},E=function(R){g||(g=R);var I=(R-g)/n,P=im(function(T,D){return i1.apply(void 0,O5(D).concat([r(I)]))},a);if(i(Di(Di(Di({},t),e),P)),I<1)u=requestAnimationFrame(v);else{var L=im(function(T,D){return i1.apply(void 0,O5(D).concat([r(1)]))},a);i(Di(Di(Di({},t),e),L))}};return v=r.isStepper?A:E,function(){return requestAnimationFrame(v),function(){cancelAnimationFrame(u)}}});function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}var I_e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function R_e(t,e){if(t==null)return{};var r=M_e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function M_e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function fC(t){return F_e(t)||B_e(t)||L_e(t)||D_e()}function D_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L_e(t,e){if(t){if(typeof t=="string")return jN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jN(t,e)}}function B_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function F_e(t){if(Array.isArray(t))return jN(t)}function jN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function k5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ba(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k5(Object(r),!0).forEach(function(n){Xp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xp(t,e,r){return e=Xz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xz(n.key),n)}}function V_e(t,e,r){return e&&$_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xz(t){var e=q_e(t,"string");return Jf(e)==="symbol"?e:String(e)}function q_e(t,e){if(Jf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ON(t,e)}function ON(t,e){return ON=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ON(t,e)}function z_e(t){var e=H_e();return function(){var n=s1(t),i;if(e){var s=s1(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return TN(this,i)}}function TN(t,e){if(e&&(Jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kN(t)}function kN(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H_e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function s1(t){return s1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s1(t)}var ro=(function(t){W_e(r,t);var e=z_e(r);function r(n,i){var s;U_e(this,r),s=e.call(this,n,i);var a=s.props,c=a.isActive,u=a.attributeName,h=a.from,g=a.to,v=a.steps,w=a.children,b=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(kN(s)),s.changeStyle=s.changeStyle.bind(kN(s)),!c||b<=0)return s.state={style:{}},typeof w=="function"&&(s.state={style:g}),TN(s);if(v&&v.length)s.state={style:v[0].style};else if(h){if(typeof w=="function")return s.state={style:h},TN(s);s.state={style:u?Xp({},u,h):h}}else s.state={style:{}};return s}return V_e(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,c=s.canBegin,u=s.attributeName,h=s.shouldReAnimate,g=s.to,v=s.from,w=this.state.style;if(c){if(!a){var b={style:u?Xp({},u,g):g};this.state&&w&&(u&&w[u]!==g||!u&&w!==g)&&this.setState(b);return}if(!(Qbe(i.to,g)&&i.canBegin&&i.isActive)){var A=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var E=A||h?v:i.to;if(this.state&&w){var C={style:u?Xp({},u,E):E};(u&&w[u]!==E||!u&&w!==E)&&this.setState(C)}this.runAnimation(Ba(Ba({},this.props),{},{from:E,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,c=i.to,u=i.duration,h=i.easing,g=i.begin,v=i.onAnimationEnd,w=i.onAnimationStart,b=P_e(a,c,b_e(h),u,this.changeStyle),A=function(){s.stopJSAnimation=b()};this.manager.start([w,g,A,u,v])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,c=i.begin,u=i.onAnimationStart,h=a[0],g=h.style,v=h.duration,w=v===void 0?0:v,b=function(E,C,R){if(R===0)return E;var I=C.duration,P=C.easing,L=P===void 0?"ease":P,T=C.style,D=C.properties,M=C.onAnimationEnd,$=R>0?a[R-1]:C,V=D||Object.keys(T);if(typeof L=="function"||L==="spring")return[].concat(fC(E),[s.runJSAnimation.bind(s,{from:$.style,to:T,duration:I,easing:L}),I]);var K=A5(V,I,L),H=Ba(Ba(Ba({},$.style),T),{},{transition:K});return[].concat(fC(E),[H,I,M]).filter(c_e)};return this.manager.start([u].concat(fC(a.reduce(b,[g,Math.max(w,c)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=s_e());var s=i.begin,a=i.duration,c=i.attributeName,u=i.to,h=i.easing,g=i.onAnimationStart,v=i.onAnimationEnd,w=i.steps,b=i.children,A=this.manager;if(this.unSubscribe=A.subscribe(this.handleStyleChange),typeof h=="function"||typeof b=="function"||h==="spring"){this.runJSAnimation(i);return}if(w.length>1){this.runStepAnimation(i);return}var E=c?Xp({},c,u):u,C=A5(Object.keys(E),a,h);A.start([g,s,Ba(Ba({},E),{},{transition:C}),a,v])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var c=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var u=R_e(i,I_e),h=j.Children.count(s),g=this.state.style;if(typeof s=="function")return s(g);if(!c||h===0||a<=0)return s;var v=function(b){var A=b.props,E=A.style,C=E===void 0?{}:E,R=A.className,I=j.cloneElement(b,Ba(Ba({},u),{},{style:Ba(Ba({},C),g),className:R}));return I};return h===1?v(j.Children.only(s)):re.createElement("div",null,j.Children.map(s,function(w){return v(w)}))}}]),r})(j.PureComponent);ro.displayName="Animate";ro.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ro.propTypes={from:zr.oneOfType([zr.object,zr.string]),to:zr.oneOfType([zr.object,zr.string]),attributeName:zr.string,duration:zr.number,begin:zr.number,easing:zr.oneOfType([zr.string,zr.func]),steps:zr.arrayOf(zr.shape({duration:zr.number.isRequired,style:zr.object.isRequired,easing:zr.oneOfType([zr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),zr.func]),properties:zr.arrayOf("string"),onAnimationEnd:zr.func})),children:zr.oneOfType([zr.node,zr.func]),isActive:zr.bool,canBegin:zr.bool,onAnimationEnd:zr.func,shouldReAnimate:zr.bool,onAnimationStart:zr.func,onAnimationReStart:zr.func};function tg(t){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(t)}function a1(){return a1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a1.apply(this,arguments)}function G_e(t,e){return Z_e(t)||X_e(t,e)||Y_e(t,e)||K_e()}function K_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y_e(t,e){if(t){if(typeof t=="string")return P5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P5(t,e)}}function P5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function X_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,c=[],u=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(h)throw i}}return c}}function Z_e(t){if(Array.isArray(t))return t}function I5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function R5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I5(Object(r),!0).forEach(function(n){Q_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q_e(t,e,r){return e=J_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J_e(t){var e=e2e(t,"string");return tg(e)=="symbol"?e:e+""}function e2e(t,e){if(tg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M5=function(e,r,n,i,s){var a=Math.min(Math.abs(n)/2,Math.abs(i)/2),c=i>=0?1:-1,u=n>=0?1:-1,h=i>=0&&n>=0||i<0&&n<0?1:0,g;if(a>0&&s instanceof Array){for(var v=[0,0,0,0],w=0,b=4;w<b;w++)v[w]=s[w]>a?a:s[w];g="M".concat(e,",").concat(r+c*v[0]),v[0]>0&&(g+="A ".concat(v[0],",").concat(v[0],",0,0,").concat(h,",").concat(e+u*v[0],",").concat(r)),g+="L ".concat(e+n-u*v[1],",").concat(r),v[1]>0&&(g+="A ".concat(v[1],",").concat(v[1],",0,0,").concat(h,`,
        `).concat(e+n,",").concat(r+c*v[1])),g+="L ".concat(e+n,",").concat(r+i-c*v[2]),v[2]>0&&(g+="A ".concat(v[2],",").concat(v[2],",0,0,").concat(h,`,
        `).concat(e+n-u*v[2],",").concat(r+i)),g+="L ".concat(e+u*v[3],",").concat(r+i),v[3]>0&&(g+="A ".concat(v[3],",").concat(v[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(r+i-c*v[3])),g+="Z"}else if(a>0&&s===+s&&s>0){var A=Math.min(a,s);g="M ".concat(e,",").concat(r+c*A,`
            A `).concat(A,",").concat(A,",0,0,").concat(h,",").concat(e+u*A,",").concat(r,`
            L `).concat(e+n-u*A,",").concat(r,`
            A `).concat(A,",").concat(A,",0,0,").concat(h,",").concat(e+n,",").concat(r+c*A,`
            L `).concat(e+n,",").concat(r+i-c*A,`
            A `).concat(A,",").concat(A,",0,0,").concat(h,",").concat(e+n-u*A,",").concat(r+i,`
            L `).concat(e+u*A,",").concat(r+i,`
            A `).concat(A,",").concat(A,",0,0,").concat(h,",").concat(e,",").concat(r+i-c*A," Z")}else g="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return g},t2e=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,s=r.x,a=r.y,c=r.width,u=r.height;if(Math.abs(c)>0&&Math.abs(u)>0){var h=Math.min(s,s+c),g=Math.max(s,s+c),v=Math.min(a,a+u),w=Math.max(a,a+u);return n>=h&&n<=g&&i>=v&&i<=w}return!1},r2e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FT=function(e){var r=R5(R5({},r2e),e),n=j.useRef(),i=j.useState(-1),s=G_e(i,2),a=s[0],c=s[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var L=n.current.getTotalLength();L&&c(L)}catch{}},[]);var u=r.x,h=r.y,g=r.width,v=r.height,w=r.radius,b=r.className,A=r.animationEasing,E=r.animationDuration,C=r.animationBegin,R=r.isAnimationActive,I=r.isUpdateAnimationActive;if(u!==+u||h!==+h||g!==+g||v!==+v||g===0||v===0)return null;var P=nr("recharts-rectangle",b);return I?re.createElement(ro,{canBegin:a>0,from:{width:g,height:v,x:u,y:h},to:{width:g,height:v,x:u,y:h},duration:E,animationEasing:A,isActive:I},function(L){var T=L.width,D=L.height,M=L.x,$=L.y;return re.createElement(ro,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:C,duration:E,isActive:R,easing:A},re.createElement("path",a1({},Rt(r,!0),{className:P,d:M5(M,$,T,D,w),ref:n})))}):re.createElement("path",a1({},Rt(r,!0),{className:P,d:M5(u,h,g,v,w)}))},n2e=["points","className","baseLinePoints","connectNulls"];function gf(){return gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gf.apply(this,arguments)}function i2e(t,e){if(t==null)return{};var r=s2e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function s2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function D5(t){return c2e(t)||l2e(t)||o2e(t)||a2e()}function a2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o2e(t,e){if(t){if(typeof t=="string")return PN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PN(t,e)}}function l2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function c2e(t){if(Array.isArray(t))return PN(t)}function PN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var L5=function(e){return e&&e.x===+e.x&&e.y===+e.y},u2e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){L5(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),L5(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},sm=function(e,r){var n=u2e(e);r&&(n=[n.reduce(function(s,a){return[].concat(D5(s),D5(a))},[])]);var i=n.map(function(s){return s.reduce(function(a,c,u){return"".concat(a).concat(u===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},d2e=function(e,r,n){var i=sm(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(sm(r.reverse(),n).slice(1))},f2e=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,s=e.connectNulls,a=i2e(e,n2e);if(!r||!r.length)return null;var c=nr("recharts-polygon",n);if(i&&i.length){var u=a.stroke&&a.stroke!=="none",h=d2e(r,i,s);return re.createElement("g",{className:c},re.createElement("path",gf({},Rt(a,!0),{fill:h.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:h})),u?re.createElement("path",gf({},Rt(a,!0),{fill:"none",d:sm(r,s)})):null,u?re.createElement("path",gf({},Rt(a,!0),{fill:"none",d:sm(i,s)})):null)}var g=sm(r,s);return re.createElement("path",gf({},Rt(a,!0),{fill:g.slice(-1)==="Z"?a.fill:"none",className:c,d:g}))};function IN(){return IN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},IN.apply(this,arguments)}var Wg=function(e){var r=e.cx,n=e.cy,i=e.r,s=e.className,a=nr("recharts-dot",s);return r===+r&&n===+n&&i===+i?j.createElement("circle",IN({},Rt(e,!1),Oy(e),{className:a,cx:r,cy:n,r:i})):null};function rg(t){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(t)}var h2e=["x","y","top","left","width","height","className"];function RN(){return RN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RN.apply(this,arguments)}function B5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function p2e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B5(Object(r),!0).forEach(function(n){m2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m2e(t,e,r){return e=g2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g2e(t){var e=v2e(t,"string");return rg(e)=="symbol"?e:e+""}function v2e(t,e){if(rg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function y2e(t,e){if(t==null)return{};var r=x2e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function x2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var w2e=function(e,r,n,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(r,"h").concat(n)},b2e=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,a=e.top,c=a===void 0?0:a,u=e.left,h=u===void 0?0:u,g=e.width,v=g===void 0?0:g,w=e.height,b=w===void 0?0:w,A=e.className,E=y2e(e,h2e),C=p2e({x:n,y:s,top:c,left:h,width:v,height:b},E);return!rt(n)||!rt(s)||!rt(v)||!rt(b)||!rt(c)||!rt(h)?null:re.createElement("path",RN({},Rt(C,!0),{className:nr("recharts-cross",A),d:w2e(n,s,v,b,c,h)}))},hC,F5;function _2e(){if(F5)return hC;F5=1;var t=Fx(),e=dz(),r=Po();function n(i,s){return i&&i.length?t(i,r(s,2),e):void 0}return hC=n,hC}var S2e=_2e();const E2e=Rr(S2e);var pC,U5;function C2e(){if(U5)return pC;U5=1;var t=Fx(),e=Po(),r=fz();function n(i,s){return i&&i.length?t(i,e(s,2),r):void 0}return pC=n,pC}var A2e=C2e();const N2e=Rr(A2e);var j2e=["cx","cy","angle","ticks","axisLine"],O2e=["ticks","tick","angle","tickFormatter","stroke"];function eh(t){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}function am(){return am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},am.apply(this,arguments)}function $5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$5(Object(r),!0).forEach(function(n){qx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function V5(t,e){if(t==null)return{};var r=T2e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function T2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function k2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qz(n.key),n)}}function P2e(t,e,r){return e&&q5(t.prototype,e),r&&q5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function I2e(t,e,r){return e=o1(e),R2e(t,Zz()?Reflect.construct(e,r||[],o1(t).constructor):e.apply(t,r))}function R2e(t,e){if(e&&(eh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M2e(t)}function M2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zz=function(){return!!t})()}function o1(t){return o1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},o1(t)}function D2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MN(t,e)}function MN(t,e){return MN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},MN(t,e)}function qx(t,e,r){return e=Qz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qz(t){var e=L2e(t,"string");return eh(e)=="symbol"?e:e+""}function L2e(t,e){if(eh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wx=(function(t){function e(){return k2e(this,e),I2e(this,e,arguments)}return D2e(e,t),P2e(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,s=this.props,a=s.angle,c=s.cx,u=s.cy;return hn(c,u,i,a)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,s=n.cy,a=n.angle,c=n.ticks,u=E2e(c,function(g){return g.coordinate||0}),h=N2e(c,function(g){return g.coordinate||0});return{cx:i,cy:s,startAngle:a,endAngle:a,innerRadius:h.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,a=n.angle,c=n.ticks,u=n.axisLine,h=V5(n,j2e),g=c.reduce(function(A,E){return[Math.min(A[0],E.coordinate),Math.max(A[1],E.coordinate)]},[1/0,-1/0]),v=hn(i,s,g[0],a),w=hn(i,s,g[1],a),b=xu(xu(xu({},Rt(h,!1)),{},{fill:"none"},Rt(u,!1)),{},{x1:v.x,y1:v.y,x2:w.x,y2:w.y});return re.createElement("line",am({className:"recharts-polar-radius-axis-line"},b))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,a=i.tick,c=i.angle,u=i.tickFormatter,h=i.stroke,g=V5(i,O2e),v=this.getTickTextAnchor(),w=Rt(g,!1),b=Rt(a,!1),A=s.map(function(E,C){var R=n.getTickValueCoord(E),I=xu(xu(xu(xu({textAnchor:v,transform:"rotate(".concat(90-c,", ").concat(R.x,", ").concat(R.y,")")},w),{},{stroke:"none",fill:h},b),{},{index:C},R),{},{payload:E});return re.createElement(Nr,am({className:nr("recharts-polar-radius-axis-tick",Uz(a)),key:"tick-".concat(E.coordinate)},rd(n.props,E,C)),e.renderTickItem(a,I,u?u(E.value,C):E.value))});return re.createElement(Nr,{className:"recharts-polar-radius-axis-ticks"},A)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.axisLine,a=n.tick;return!i||!i.length?null:re.createElement(Nr,{className:nr("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),a&&this.renderTicks(),Ai.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,s){var a;return re.isValidElement(n)?a=re.cloneElement(n,i):Gt(n)?a=n(i):a=re.createElement(nd,am({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),a}}])})(j.PureComponent);qx(Wx,"displayName","PolarRadiusAxis");qx(Wx,"axisType","radiusAxis");qx(Wx,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function th(t){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(t)}function ku(){return ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ku.apply(this,arguments)}function W5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W5(Object(r),!0).forEach(function(n){zx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eH(n.key),n)}}function F2e(t,e,r){return e&&z5(t.prototype,e),r&&z5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function U2e(t,e,r){return e=l1(e),$2e(t,Jz()?Reflect.construct(e,r||[],l1(t).constructor):e.apply(t,r))}function $2e(t,e){if(e&&(th(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V2e(t)}function V2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jz=function(){return!!t})()}function l1(t){return l1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},l1(t)}function q2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DN(t,e)}function DN(t,e){return DN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},DN(t,e)}function zx(t,e,r){return e=eH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eH(t){var e=W2e(t,"string");return th(e)=="symbol"?e:e+""}function W2e(t,e){if(th(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var z2e=Math.PI/180,H5=1e-5,Hx=(function(t){function e(){return B2e(this,e),U2e(this,e,arguments)}return q2e(e,t),F2e(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.cx,a=i.cy,c=i.radius,u=i.orientation,h=i.tickSize,g=h||8,v=hn(s,a,c,n.coordinate),w=hn(s,a,c+(u==="inner"?-1:1)*g,n.coordinate);return{x1:v.x,y1:v.y,x2:w.x,y2:w.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,s=Math.cos(-n.coordinate*z2e),a;return s>H5?a=i==="outer"?"start":"end":s<-H5?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,a=n.radius,c=n.axisLine,u=n.axisLineType,h=wu(wu({},Rt(this.props,!1)),{},{fill:"none"},Rt(c,!1));if(u==="circle")return re.createElement(Wg,ku({className:"recharts-polar-angle-axis-line"},h,{cx:i,cy:s,r:a}));var g=this.props.ticks,v=g.map(function(w){return hn(i,s,a,w.coordinate)});return re.createElement(f2e,ku({className:"recharts-polar-angle-axis-line"},h,{points:v}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,a=i.tick,c=i.tickLine,u=i.tickFormatter,h=i.stroke,g=Rt(this.props,!1),v=Rt(a,!1),w=wu(wu({},g),{},{fill:"none"},Rt(c,!1)),b=s.map(function(A,E){var C=n.getTickLineCoord(A),R=n.getTickTextAnchor(A),I=wu(wu(wu({textAnchor:R},g),{},{stroke:"none",fill:h},v),{},{index:E,payload:A,x:C.x2,y:C.y2});return re.createElement(Nr,ku({className:nr("recharts-polar-angle-axis-tick",Uz(a)),key:"tick-".concat(A.coordinate)},rd(n.props,A,E)),c&&re.createElement("line",ku({className:"recharts-polar-angle-axis-tick-line"},w,C)),a&&e.renderTickItem(a,I,u?u(A.value,E):A.value))});return re.createElement(Nr,{className:"recharts-polar-angle-axis-ticks"},b)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.radius,a=n.axisLine;return s<=0||!i||!i.length?null:re.createElement(Nr,{className:nr("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,s){var a;return re.isValidElement(n)?a=re.cloneElement(n,i):Gt(n)?a=n(i):a=re.createElement(nd,ku({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),a}}])})(j.PureComponent);zx(Hx,"displayName","PolarAngleAxis");zx(Hx,"axisType","angleAxis");zx(Hx,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var mC,G5;function H2e(){if(G5)return mC;G5=1;var t=uW(),e=t(Object.getPrototypeOf,Object);return mC=e,mC}var gC,K5;function G2e(){if(K5)return gC;K5=1;var t=Sl(),e=H2e(),r=El(),n="[object Object]",i=Function.prototype,s=Object.prototype,a=i.toString,c=s.hasOwnProperty,u=a.call(Object);function h(g){if(!r(g)||t(g)!=n)return!1;var v=e(g);if(v===null)return!0;var w=c.call(v,"constructor")&&v.constructor;return typeof w=="function"&&w instanceof w&&a.call(w)==u}return gC=h,gC}var K2e=G2e();const Y2e=Rr(K2e);var vC,Y5;function X2e(){if(Y5)return vC;Y5=1;var t=Sl(),e=El(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return vC=n,vC}var Z2e=X2e();const Q2e=Rr(Z2e);function ng(t){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ng(t)}function c1(){return c1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c1.apply(this,arguments)}function J2e(t,e){return nSe(t)||rSe(t,e)||tSe(t,e)||eSe()}function eSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tSe(t,e){if(t){if(typeof t=="string")return X5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X5(t,e)}}function X5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rSe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,c=[],u=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(h)throw i}}return c}}function nSe(t){if(Array.isArray(t))return t}function Z5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Q5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z5(Object(r),!0).forEach(function(n){iSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iSe(t,e,r){return e=sSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sSe(t){var e=aSe(t,"string");return ng(e)=="symbol"?e:e+""}function aSe(t,e){if(ng(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ng(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var J5=function(e,r,n,i,s){var a=n-i,c;return c="M ".concat(e,",").concat(r),c+="L ".concat(e+n,",").concat(r),c+="L ".concat(e+n-a/2,",").concat(r+s),c+="L ".concat(e+n-a/2-i,",").concat(r+s),c+="L ".concat(e,",").concat(r," Z"),c},oSe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lSe=function(e){var r=Q5(Q5({},oSe),e),n=j.useRef(),i=j.useState(-1),s=J2e(i,2),a=s[0],c=s[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var P=n.current.getTotalLength();P&&c(P)}catch{}},[]);var u=r.x,h=r.y,g=r.upperWidth,v=r.lowerWidth,w=r.height,b=r.className,A=r.animationEasing,E=r.animationDuration,C=r.animationBegin,R=r.isUpdateAnimationActive;if(u!==+u||h!==+h||g!==+g||v!==+v||w!==+w||g===0&&v===0||w===0)return null;var I=nr("recharts-trapezoid",b);return R?re.createElement(ro,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:w,x:u,y:h},to:{upperWidth:g,lowerWidth:v,height:w,x:u,y:h},duration:E,animationEasing:A,isActive:R},function(P){var L=P.upperWidth,T=P.lowerWidth,D=P.height,M=P.x,$=P.y;return re.createElement(ro,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:C,duration:E,easing:A},re.createElement("path",c1({},Rt(r,!0),{className:I,d:J5(M,$,L,T,D),ref:n})))}):re.createElement("g",null,re.createElement("path",c1({},Rt(r,!0),{className:I,d:J5(u,h,g,v,w)})))},cSe=["option","shapeType","propTransformer","activeClassName","isActive"];function ig(t){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ig(t)}function uSe(t,e){if(t==null)return{};var r=dSe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function u1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eL(Object(r),!0).forEach(function(n){fSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fSe(t,e,r){return e=hSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hSe(t){var e=pSe(t,"string");return ig(e)=="symbol"?e:e+""}function pSe(t,e){if(ig(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mSe(t,e){return u1(u1({},e),t)}function gSe(t,e){return t==="symbols"}function tL(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return re.createElement(FT,r);case"trapezoid":return re.createElement(lSe,r);case"sector":return re.createElement(qz,r);case"symbols":if(gSe(e))return re.createElement(iT,r);break;default:return null}}function vSe(t){return j.isValidElement(t)?t.props:t}function tH(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?mSe:n,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,c=t.isActive,u=uSe(t,cSe),h;if(j.isValidElement(e))h=j.cloneElement(e,u1(u1({},u),vSe(e)));else if(Gt(e))h=e(u);else if(Y2e(e)&&!Q2e(e)){var g=i(e,u);h=re.createElement(tL,{shapeType:r,elementProps:g})}else{var v=u;h=re.createElement(tL,{shapeType:r,elementProps:v})}return c?re.createElement(Nr,{className:a},h):h}function Gx(t,e){return e!=null&&"trapezoids"in t.props}function Kx(t,e){return e!=null&&"sectors"in t.props}function sg(t,e){return e!=null&&"points"in t.props}function ySe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&s}function xSe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function wSe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function bSe(t,e){var r;return Gx(t,e)?r=ySe:Kx(t,e)?r=xSe:sg(t,e)&&(r=wSe),r}function _Se(t,e){var r;return Gx(t,e)?r="trapezoids":Kx(t,e)?r="sectors":sg(t,e)&&(r="points"),r}function SSe(t,e){if(Gx(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Kx(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return sg(t,e)?e.payload:{}}function ESe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=_Se(r,e),s=SSe(r,e),a=n.filter(function(u,h){var g=id(s,u),v=r.props[i].filter(function(A){var E=bSe(r,e);return E(A,e)}),w=r.props[i].indexOf(v[v.length-1]),b=h===w;return g&&b}),c=n.indexOf(a[a.length-1]);return c}var Hv;function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}function vf(){return vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vf.apply(this,arguments)}function rL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rL(Object(r),!0).forEach(function(n){ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nH(n.key),n)}}function ASe(t,e,r){return e&&nL(t.prototype,e),r&&nL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function NSe(t,e,r){return e=d1(e),jSe(t,rH()?Reflect.construct(e,r||[],d1(t).constructor):e.apply(t,r))}function jSe(t,e){if(e&&(rh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OSe(t)}function OSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rH=function(){return!!t})()}function d1(t){return d1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},d1(t)}function TSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LN(t,e)}function LN(t,e){return LN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},LN(t,e)}function ya(t,e,r){return e=nH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nH(t){var e=kSe(t,"string");return rh(e)=="symbol"?e:e+""}function kSe(t,e){if(rh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Al=(function(t){function e(r){var n;return CSe(this,e),n=NSe(this,e,[r]),ya(n,"pieRef",null),ya(n,"sectorRefs",[]),ya(n,"id",vd("recharts-pie-")),ya(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Gt(i)&&i()}),ya(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Gt(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return TSe(e,t),ASe(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.label,c=s.labelLine,u=s.dataKey,h=s.valueKey,g=Rt(this.props,!1),v=Rt(a,!1),w=Rt(c,!1),b=a&&a.offsetRadius||20,A=n.map(function(E,C){var R=(E.startAngle+E.endAngle)/2,I=hn(E.cx,E.cy,E.outerRadius+b,R),P=cn(cn(cn(cn({},g),E),{},{stroke:"none"},v),{},{index:C,textAnchor:e.getTextAnchor(I.x,E.cx)},I),L=cn(cn(cn(cn({},g),E),{},{fill:"none",stroke:E.fill},w),{},{index:C,points:[hn(E.cx,E.cy,E.outerRadius,R),I]}),T=u;return tr(u)&&tr(h)?T="value":tr(u)&&(T=h),re.createElement(Nr,{key:"label-".concat(E.startAngle,"-").concat(E.endAngle,"-").concat(E.midAngle,"-").concat(C)},c&&e.renderLabelLineItem(c,L,"line"),e.renderLabelItem(a,P,Wn(E,T)))});return re.createElement(Nr,{className:"recharts-pie-labels"},A)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,a=s.activeShape,c=s.blendStroke,u=s.inactiveShape;return n.map(function(h,g){if(h?.startAngle===0&&h?.endAngle===0&&n.length!==1)return null;var v=i.isActiveIndex(g),w=u&&i.hasActiveIndex()?u:null,b=v?a:w,A=cn(cn({},h),{},{stroke:c?h.fill:h.stroke,tabIndex:-1});return re.createElement(Nr,vf({ref:function(C){C&&!i.sectorRefs.includes(C)&&i.sectorRefs.push(C)},tabIndex:-1,className:"recharts-pie-sector"},rd(i.props,h,g),{key:"sector-".concat(h?.startAngle,"-").concat(h?.endAngle,"-").concat(h.midAngle,"-").concat(g)}),re.createElement(tH,vf({option:b,isActive:v,shapeType:"sector"},A)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,a=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,h=i.animationEasing,g=i.animationId,v=this.state,w=v.prevSectors,b=v.prevIsAnimationActive;return re.createElement(ro,{begin:c,duration:u,isActive:a,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(g,"-").concat(b),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(A){var E=A.t,C=[],R=s&&s[0],I=R.startAngle;return s.forEach(function(P,L){var T=w&&w[L],D=L>0?Js(P,"paddingAngle",0):0;if(T){var M=gi(T.endAngle-T.startAngle,P.endAngle-P.startAngle),$=cn(cn({},P),{},{startAngle:I+D,endAngle:I+M(E)+D});C.push($),I=$.endAngle}else{var V=P.endAngle,K=P.startAngle,H=gi(0,V-K),z=H(E),Z=cn(cn({},P),{},{startAngle:I+D,endAngle:I+z+D});C.push(Z),I=Z.endAngle}}),re.createElement(Nr,null,n.renderSectorsStatically(C))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var c=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[c].focus(),i.setState({sectorToFocus:c});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,a=this.state.prevSectors;return s&&i&&i.length&&(!a||!id(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,a=i.sectors,c=i.className,u=i.label,h=i.cx,g=i.cy,v=i.innerRadius,w=i.outerRadius,b=i.isAnimationActive,A=this.state.isAnimationFinished;if(s||!a||!a.length||!rt(h)||!rt(g)||!rt(v)||!rt(w))return null;var E=nr("recharts-pie",c);return re.createElement(Nr,{tabIndex:this.props.rootTabIndex,className:E,ref:function(R){n.pieRef=R}},this.renderSectors(),u&&this.renderLabels(a),Ai.renderCallByParent(this.props,null,!1),(!b||A)&&So.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(re.isValidElement(n))return re.cloneElement(n,i);if(Gt(n))return n(i);var a=nr("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return re.createElement(Wu,vf({},i,{key:s,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(n,i,s){if(re.isValidElement(n))return re.cloneElement(n,i);var a=s;if(Gt(n)&&(a=n(i),re.isValidElement(a)))return a;var c=nr("recharts-pie-label-text",typeof n!="boolean"&&!Gt(n)?n.className:"");return re.createElement(nd,vf({},i,{alignmentBaseline:"middle",className:c}),a)}}])})(j.PureComponent);Hv=Al;ya(Al,"displayName","Pie");ya(Al,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Vc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ya(Al,"parseDeltaAngle",function(t,e){var r=ss(e-t),n=Math.min(Math.abs(e-t),360);return r*n});ya(Al,"getRealPieData",function(t){var e=t.data,r=t.children,n=Rt(t,!1),i=ea(r,Px);return e&&e.length?e.map(function(s,a){return cn(cn(cn({payload:s},n),s),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(s){return cn(cn({},n),s.props)}):[]});ya(Al,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,s=e.height,a=Fz(i,s),c=n+as(t.cx,i,i/2),u=r+as(t.cy,s,s/2),h=as(t.innerRadius,a,0),g=as(t.outerRadius,a,a*.8),v=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:c,cy:u,innerRadius:h,outerRadius:g,maxRadius:v}});ya(Al,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?cn(cn({},e.type.defaultProps),e.props):e.props,i=Hv.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,a=n.startAngle,c=n.endAngle,u=n.paddingAngle,h=n.dataKey,g=n.nameKey,v=n.valueKey,w=n.tooltipType,b=Math.abs(n.minAngle),A=Hv.parseCoordinateOfPie(n,r),E=Hv.parseDeltaAngle(a,c),C=Math.abs(E),R=h;tr(h)&&tr(v)?(Xa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),R="value"):tr(h)&&(Xa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),R=v);var I=i.filter(function($){return Wn($,R,0)!==0}).length,P=(C>=360?I:I-1)*u,L=C-I*b-P,T=i.reduce(function($,V){var K=Wn(V,R,0);return $+(rt(K)?K:0)},0),D;if(T>0){var M;D=i.map(function($,V){var K=Wn($,R,0),H=Wn($,g,V),z=(rt(K)?K:0)/T,Z;V?Z=M.endAngle+ss(E)*u*(K!==0?1:0):Z=a;var W=Z+ss(E)*((K!==0?b:0)+z*L),G=(Z+W)/2,J=(A.innerRadius+A.outerRadius)/2,ie=[{name:H,value:K,payload:$,dataKey:R,type:w}],ne=hn(A.cx,A.cy,J,G);return M=cn(cn(cn({percent:z,cornerRadius:s,name:H,tooltipPayload:ie,midAngle:G,middleRadius:J,tooltipPosition:ne},$),A),{},{value:Wn($,R),startAngle:Z,endAngle:W,payload:$,paddingAngle:ss(E)*u}),M})}return cn(cn({},A),{},{sectors:D,data:i})});var yC,iL;function PSe(){if(iL)return yC;iL=1;var t=Math.ceil,e=Math.max;function r(n,i,s,a){for(var c=-1,u=e(t((i-n)/(s||1)),0),h=Array(u);u--;)h[a?u:++c]=n,n+=s;return h}return yC=r,yC}var xC,sL;function iH(){if(sL)return xC;sL=1;var t=AW(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*r}return i===i?i:0}return xC=n,xC}var wC,aL;function ISe(){if(aL)return wC;aL=1;var t=PSe(),e=kx(),r=iH();function n(i){return function(s,a,c){return c&&typeof c!="number"&&e(s,a,c)&&(a=c=void 0),s=r(s),a===void 0?(a=s,s=0):a=r(a),c=c===void 0?s<a?1:-1:r(c),t(s,a,c,i)}}return wC=n,wC}var bC,oL;function RSe(){if(oL)return bC;oL=1;var t=ISe(),e=t();return bC=e,bC}var MSe=RSe();const f1=Rr(MSe);function ag(t){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ag(t)}function lL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lL(Object(r),!0).forEach(function(n){sH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sH(t,e,r){return e=DSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DSe(t){var e=LSe(t,"string");return ag(e)=="symbol"?e:e+""}function LSe(t,e){if(ag(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ag(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BSe=["Webkit","Moz","O","ms"],FSe=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=BSe.reduce(function(s,a){return cL(cL({},s),{},sH({},a+n,r))},{});return i[e]=r,i};function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function h1(){return h1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h1.apply(this,arguments)}function uL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _C(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uL(Object(r),!0).forEach(function(n){Vs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function USe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oH(n.key),n)}}function $Se(t,e,r){return e&&dL(t.prototype,e),r&&dL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function VSe(t,e,r){return e=p1(e),qSe(t,aH()?Reflect.construct(e,r||[],p1(t).constructor):e.apply(t,r))}function qSe(t,e){if(e&&(nh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WSe(t)}function WSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aH=function(){return!!t})()}function p1(t){return p1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p1(t)}function zSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BN(t,e)}function BN(t,e){return BN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},BN(t,e)}function Vs(t,e,r){return e=oH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oH(t){var e=HSe(t,"string");return nh(e)=="symbol"?e:e+""}function HSe(t,e){if(nh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var GSe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,s=e.x,a=e.width,c=e.travellerWidth;if(!r||!r.length)return{};var u=r.length,h=rm().domain(f1(0,u)).range([s,s+a-c]),g=h.domain().map(function(v){return h(v)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(n),endX:h(i),scale:h,scaleValues:g}},fL=function(e){return e.changedTouches&&!!e.changedTouches.length},ih=(function(t){function e(r){var n;return USe(this,e),n=VSe(this,e,[r]),Vs(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Vs(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Vs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,a=i.onDragEnd,c=i.startIndex;a?.({endIndex:s,startIndex:c})}),n.detachDragEndListener()}),Vs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Vs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Vs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Vs(n,"handleSlideDragStart",function(i){var s=fL(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return zSe(e,t),$Se(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,a=this.state.scaleValues,c=this.props,u=c.gap,h=c.data,g=h.length-1,v=Math.min(i,s),w=Math.max(i,s),b=e.getIndexInRange(a,v),A=e.getIndexInRange(a,w);return{startIndex:b-b%u,endIndex:A===g?g:A-A%u}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,a=i.tickFormatter,c=i.dataKey,u=Wn(s[n],c,n);return Gt(a)?a(u,n):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,a=i.startX,c=i.endX,u=this.props,h=u.x,g=u.width,v=u.travellerWidth,w=u.startIndex,b=u.endIndex,A=u.onChange,E=n.pageX-s;E>0?E=Math.min(E,h+g-v-c,h+g-v-a):E<0&&(E=Math.max(E,h-a,h-c));var C=this.getIndex({startX:a+E,endX:c+E});(C.startIndex!==w||C.endIndex!==b)&&A&&A(C),this.setState({startX:a+E,endX:c+E,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=fL(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,c=i.endX,u=i.startX,h=this.state[a],g=this.props,v=g.x,w=g.width,b=g.travellerWidth,A=g.onChange,E=g.gap,C=g.data,R={startX:this.state.startX,endX:this.state.endX},I=n.pageX-s;I>0?I=Math.min(I,v+w-b-h):I<0&&(I=Math.max(I,v-h)),R[a]=h+I;var P=this.getIndex(R),L=P.startIndex,T=P.endIndex,D=function(){var $=C.length-1;return a==="startX"&&(c>u?L%E===0:T%E===0)||c<u&&T===$||a==="endX"&&(c>u?T%E===0:L%E===0)||c>u&&T===$};this.setState(Vs(Vs({},a,h+I),"brushMoveStartX",n.pageX),function(){A&&D()&&A(P)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,a=this.state,c=a.scaleValues,u=a.startX,h=a.endX,g=this.state[i],v=c.indexOf(g);if(v!==-1){var w=v+n;if(!(w===-1||w>=c.length)){var b=c[w];i==="startX"&&b>=h||i==="endX"&&b<=u||this.setState(Vs({},i,b),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,c=n.height,u=n.fill,h=n.stroke;return re.createElement("rect",{stroke:h,fill:u,x:i,y:s,width:a,height:c})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,c=n.height,u=n.data,h=n.children,g=n.padding,v=j.Children.only(h);return v?re.cloneElement(v,{x:i,y:s,width:a,height:c,margin:g,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,a,c=this,u=this.props,h=u.y,g=u.travellerWidth,v=u.height,w=u.traveller,b=u.ariaLabel,A=u.data,E=u.startIndex,C=u.endIndex,R=Math.max(n,this.props.x),I=_C(_C({},Rt(this.props,!1)),{},{x:R,y:h,width:g,height:v}),P=b||"Min value: ".concat((s=A[E])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=A[C])===null||a===void 0?void 0:a.name);return re.createElement(Nr,{tabIndex:0,role:"slider","aria-label":P,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),c.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(w,I))}},{key:"renderSlide",value:function(n,i){var s=this.props,a=s.y,c=s.height,u=s.stroke,h=s.travellerWidth,g=Math.min(n,i)+h,v=Math.max(Math.abs(i-n)-h,0);return re.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:g,y:a,width:v,height:c})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,a=n.y,c=n.height,u=n.travellerWidth,h=n.stroke,g=this.state,v=g.startX,w=g.endX,b=5,A={pointerEvents:"none",fill:h};return re.createElement(Nr,{className:"recharts-brush-texts"},re.createElement(nd,h1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(v,w)-b,y:a+c/2},A),this.getTextOfTick(i)),re.createElement(nd,h1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(v,w)+u+b,y:a+c/2},A),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,a=n.children,c=n.x,u=n.y,h=n.width,g=n.height,v=n.alwaysShowText,w=this.state,b=w.startX,A=w.endX,E=w.isTextActive,C=w.isSlideMoving,R=w.isTravellerMoving,I=w.isTravellerFocused;if(!i||!i.length||!rt(c)||!rt(u)||!rt(h)||!rt(g)||h<=0||g<=0)return null;var P=nr("recharts-brush",s),L=re.Children.count(a)===1,T=FSe("userSelect","none");return re.createElement(Nr,{className:P,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),L&&this.renderPanorama(),this.renderSlide(b,A),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(A,"endX"),(E||C||R||I||v)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,a=n.width,c=n.height,u=n.stroke,h=Math.floor(s+c/2)-1;return re.createElement(re.Fragment,null,re.createElement("rect",{x:i,y:s,width:a,height:c,fill:u,stroke:"none"}),re.createElement("line",{x1:i+1,y1:h,x2:i+a-1,y2:h,fill:"none",stroke:"#fff"}),re.createElement("line",{x1:i+1,y1:h+2,x2:i+a-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return re.isValidElement(n)?s=re.cloneElement(n,i):Gt(n)?s=n(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,a=n.width,c=n.x,u=n.travellerWidth,h=n.updateId,g=n.startIndex,v=n.endIndex;if(s!==i.prevData||h!==i.prevUpdateId)return _C({prevData:s,prevTravellerWidth:u,prevUpdateId:h,prevX:c,prevWidth:a},s&&s.length?GSe({data:s,width:a,x:c,travellerWidth:u,startIndex:g,endIndex:v}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||c!==i.prevX||u!==i.prevTravellerWidth)){i.scale.range([c,c+a-u]);var w=i.scale.domain().map(function(b){return i.scale(b)});return{prevData:s,prevTravellerWidth:u,prevUpdateId:h,prevX:c,prevWidth:a,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:w}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,a=0,c=s-1;c-a>1;){var u=Math.floor((a+c)/2);n[u]>i?c=u:a=u}return i>=n[c]?c:a}}])})(j.PureComponent);Vs(ih,"displayName","Brush");Vs(ih,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var SC,hL;function KSe(){if(hL)return SC;hL=1;var t=dT();function e(r,n){var i;return t(r,function(s,a,c){return i=n(s,a,c),!i}),!!i}return SC=e,SC}var EC,pL;function YSe(){if(pL)return EC;pL=1;var t=nW(),e=Po(),r=KSe(),n=Os(),i=kx();function s(a,c,u){var h=n(a)?t:r;return u&&i(a,c,u)&&(c=void 0),h(a,e(c,3))}return EC=s,EC}var XSe=YSe();const ZSe=Rr(XSe);var Eo=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},CC,mL;function QSe(){if(mL)return CC;mL=1;var t=bW();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return CC=e,CC}var AC,gL;function JSe(){if(gL)return AC;gL=1;var t=QSe(),e=xW(),r=Po();function n(i,s){var a={};return s=r(s,3),e(i,function(c,u,h){t(a,u,s(c,u,h))}),a}return AC=n,AC}var eEe=JSe();const tEe=Rr(eEe);var NC,vL;function rEe(){if(vL)return NC;vL=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return NC=t,NC}var jC,yL;function nEe(){if(yL)return jC;yL=1;var t=dT();function e(r,n){var i=!0;return t(r,function(s,a,c){return i=!!n(s,a,c),i}),i}return jC=e,jC}var OC,xL;function iEe(){if(xL)return OC;xL=1;var t=rEe(),e=nEe(),r=Po(),n=Os(),i=kx();function s(a,c,u){var h=n(a)?t:e;return u&&i(a,c,u)&&(c=void 0),h(a,r(c,3))}return OC=s,OC}var sEe=iEe();const lH=Rr(sEe);var aEe=["x","y"];function og(t){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(t)}function FN(){return FN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FN.apply(this,arguments)}function wL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $p(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(r),!0).forEach(function(n){oEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oEe(t,e,r){return e=lEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lEe(t){var e=cEe(t,"string");return og(e)=="symbol"?e:e+""}function cEe(t,e){if(og(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(og(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uEe(t,e){if(t==null)return{};var r=dEe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dEe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fEe(t,e){var r=t.x,n=t.y,i=uEe(t,aEe),s="".concat(r),a=parseInt(s,10),c="".concat(n),u=parseInt(c,10),h="".concat(e.height||i.height),g=parseInt(h,10),v="".concat(e.width||i.width),w=parseInt(v,10);return $p($p($p($p($p({},e),i),a?{x:a}:{}),u?{y:u}:{}),{},{height:g,width:w,name:e.name,radius:e.radius})}function bL(t){return re.createElement(tH,FN({shapeType:"rectangle",propTransformer:fEe,activeClassName:"recharts-active-bar"},t))}var hEe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var s=rt(n)||Bhe(n);return s?e(n,i):(s||ad(),r)}},pEe=["value","background"],cH;function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function mEe(t,e){if(t==null)return{};var r=gEe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gEe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function m1(){return m1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m1.apply(this,arguments)}function _L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_L(Object(r),!0).forEach(function(n){mc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_L(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dH(n.key),n)}}function yEe(t,e,r){return e&&SL(t.prototype,e),r&&SL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xEe(t,e,r){return e=g1(e),wEe(t,uH()?Reflect.construct(e,r||[],g1(t).constructor):e.apply(t,r))}function wEe(t,e){if(e&&(sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bEe(t)}function bEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uH=function(){return!!t})()}function g1(t){return g1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},g1(t)}function _Ee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UN(t,e)}function UN(t,e){return UN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},UN(t,e)}function mc(t,e,r){return e=dH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dH(t){var e=SEe(t,"string");return sh(e)=="symbol"?e:e+""}function SEe(t,e){if(sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bd=(function(t){function e(){var r;vEe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=xEe(this,e,[].concat(i)),mc(r,"state",{isAnimationFinished:!1}),mc(r,"id",vd("recharts-bar-")),mc(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),a&&a()}),mc(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),a&&a()}),r}return _Ee(e,t),yEe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,a=s.shape,c=s.dataKey,u=s.activeIndex,h=s.activeBar,g=Rt(this.props,!1);return n&&n.map(function(v,w){var b=w===u,A=b?h:a,E=Xn(Xn(Xn({},g),v),{},{isActive:b,option:A,index:w,dataKey:c,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return re.createElement(Nr,m1({className:"recharts-bar-rectangle"},rd(i.props,v,w),{key:"rectangle-".concat(v?.x,"-").concat(v?.y,"-").concat(v?.value,"-").concat(w)}),re.createElement(bL,E))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,a=i.layout,c=i.isAnimationActive,u=i.animationBegin,h=i.animationDuration,g=i.animationEasing,v=i.animationId,w=this.state.prevData;return re.createElement(ro,{begin:u,duration:h,isActive:c,easing:g,from:{t:0},to:{t:1},key:"bar-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var A=b.t,E=s.map(function(C,R){var I=w&&w[R];if(I){var P=gi(I.x,C.x),L=gi(I.y,C.y),T=gi(I.width,C.width),D=gi(I.height,C.height);return Xn(Xn({},C),{},{x:P(A),y:L(A),width:T(A),height:D(A)})}if(a==="horizontal"){var M=gi(0,C.height),$=M(A);return Xn(Xn({},C),{},{y:C.y+C.height-$,height:$})}var V=gi(0,C.width),K=V(A);return Xn(Xn({},C),{},{width:K})});return re.createElement(Nr,null,n.renderRectanglesStatically(E))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!id(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,a=i.dataKey,c=i.activeIndex,u=Rt(this.props.background,!1);return s.map(function(h,g){h.value;var v=h.background,w=mEe(h,pEe);if(!v)return null;var b=Xn(Xn(Xn(Xn(Xn({},w),{},{fill:"#eee"},v),u),rd(n.props,h,g)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:a,index:g,className:"recharts-bar-background-rectangle"});return re.createElement(bL,m1({key:"background-bar-".concat(g),option:n.props.background,isActive:g===c},b))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,c=s.xAxis,u=s.yAxis,h=s.layout,g=s.children,v=ea(g,qg);if(!v)return null;var w=h==="vertical"?a[0].height/2:a[0].width/2,b=function(C,R){var I=Array.isArray(C.value)?C.value[1]:C.value;return{x:C.x,y:C.y,value:I,errorVal:Wn(C,R)}},A={clipPath:n?"url(#clipPath-".concat(i,")"):null};return re.createElement(Nr,A,v.map(function(E){return re.cloneElement(E,{key:"error-bar-".concat(i,"-").concat(E.props.dataKey),data:a,xAxis:c,yAxis:u,layout:h,offset:w,dataPointFormatter:b})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,a=n.className,c=n.xAxis,u=n.yAxis,h=n.left,g=n.top,v=n.width,w=n.height,b=n.isAnimationActive,A=n.background,E=n.id;if(i||!s||!s.length)return null;var C=this.state.isAnimationFinished,R=nr("recharts-bar",a),I=c&&c.allowDataOverflow,P=u&&u.allowDataOverflow,L=I||P,T=tr(E)?this.id:E;return re.createElement(Nr,{className:R},I||P?re.createElement("defs",null,re.createElement("clipPath",{id:"clipPath-".concat(T)},re.createElement("rect",{x:I?h:h-v/2,y:P?g:g-w/2,width:I?v:v*2,height:P?w:w*2}))):null,re.createElement(Nr,{className:"recharts-bar-rectangles",clipPath:L?"url(#clipPath-".concat(T,")"):null},A?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(L,T),(!b||C)&&So.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(j.PureComponent);cH=bd;mc(bd,"displayName","Bar");mc(bd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Vc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});mc(bd,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,s=t.xAxis,a=t.yAxis,c=t.xAxisTicks,u=t.yAxisTicks,h=t.stackedData,g=t.dataStartIndex,v=t.displayedData,w=t.offset,b=Qxe(n,r);if(!b)return null;var A=e.layout,E=r.type.defaultProps,C=E!==void 0?Xn(Xn({},E),r.props):r.props,R=C.dataKey,I=C.children,P=C.minPointSize,L=A==="horizontal"?a:s,T=h?L.scale.domain():null,D=swe({numericAxis:L}),M=ea(I,Px),$=v.map(function(V,K){var H,z,Z,W,G,J;h?H=Jxe(h[g+K],T):(H=Wn(V,R),Array.isArray(H)||(H=[D,H]));var ie=hEe(P,cH.defaultProps.minPointSize)(H[1],K);if(A==="horizontal"){var ne,ee=[a.scale(H[0]),a.scale(H[1])],de=ee[0],se=ee[1];z=K6({axis:s,ticks:c,bandSize:i,offset:b.offset,entry:V,index:K}),Z=(ne=se??de)!==null&&ne!==void 0?ne:void 0,W=b.size;var le=de-se;if(G=Number.isNaN(le)?0:le,J={x:z,y:a.y,width:W,height:a.height},Math.abs(ie)>0&&Math.abs(G)<Math.abs(ie)){var me=ss(G||ie)*(Math.abs(ie)-Math.abs(G));Z-=me,G+=me}}else{var pe=[s.scale(H[0]),s.scale(H[1])],Re=pe[0],_e=pe[1];if(z=Re,Z=K6({axis:a,ticks:u,bandSize:i,offset:b.offset,entry:V,index:K}),W=_e-Re,G=b.size,J={x:s.x,y:Z,width:s.width,height:G},Math.abs(ie)>0&&Math.abs(W)<Math.abs(ie)){var we=ss(W||ie)*(Math.abs(ie)-Math.abs(W));W+=we}}return Xn(Xn(Xn({},V),{},{x:z,y:Z,width:W,height:G,value:h?H:H[1],payload:V,background:J},M&&M[K]&&M[K].props),{},{tooltipPayload:[Lz(r,V)],tooltipPosition:{x:z+W/2,y:Z+G/2}})});return Xn({data:$,layout:A},w)});function lg(t){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lg(t)}function EEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fH(n.key),n)}}function CEe(t,e,r){return e&&EL(t.prototype,e),r&&EL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function CL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CL(Object(r),!0).forEach(function(n){Yx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yx(t,e,r){return e=fH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fH(t){var e=AEe(t,"string");return lg(e)=="symbol"?e:e+""}function AEe(t,e){if(lg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UT=function(e,r,n,i,s){var a=e.width,c=e.height,u=e.layout,h=e.children,g=Object.keys(r),v={left:n.left,leftMirror:n.left,right:a-n.right,rightMirror:a-n.right,top:n.top,topMirror:n.top,bottom:c-n.bottom,bottomMirror:c-n.bottom},w=!!qs(h,bd);return g.reduce(function(b,A){var E=r[A],C=E.orientation,R=E.domain,I=E.padding,P=I===void 0?{}:I,L=E.mirror,T=E.reversed,D="".concat(C).concat(L?"Mirror":""),M,$,V,K,H;if(E.type==="number"&&(E.padding==="gap"||E.padding==="no-gap")){var z=R[1]-R[0],Z=1/0,W=E.categoricalDomain.sort($he);if(W.forEach(function(pe,Re){Re>0&&(Z=Math.min((pe||0)-(W[Re-1]||0),Z))}),Number.isFinite(Z)){var G=Z/z,J=E.layout==="vertical"?n.height:n.width;if(E.padding==="gap"&&(M=G*J/2),E.padding==="no-gap"){var ie=as(e.barCategoryGap,G*J),ne=G*J/2;M=ne-ie-(ne-ie)/J*ie}}}i==="xAxis"?$=[n.left+(P.left||0)+(M||0),n.left+n.width-(P.right||0)-(M||0)]:i==="yAxis"?$=u==="horizontal"?[n.top+n.height-(P.bottom||0),n.top+(P.top||0)]:[n.top+(P.top||0)+(M||0),n.top+n.height-(P.bottom||0)-(M||0)]:$=E.range,T&&($=[$[1],$[0]]);var ee=Iz(E,s,w),de=ee.scale,se=ee.realScaleType;de.domain(R).range($),Rz(de);var le=Mz(de,Wa(Wa({},E),{},{realScaleType:se}));i==="xAxis"?(H=C==="top"&&!L||C==="bottom"&&L,V=n.left,K=v[D]-H*E.height):i==="yAxis"&&(H=C==="left"&&!L||C==="right"&&L,V=v[D]-H*E.width,K=n.top);var me=Wa(Wa(Wa({},E),le),{},{realScaleType:se,x:V,y:K,scale:de,width:i==="xAxis"?n.width:E.width,height:i==="yAxis"?n.height:E.height});return me.bandSize=e1(me,le),!E.hide&&i==="xAxis"?v[D]+=(H?-1:1)*me.height:E.hide||(v[D]+=(H?-1:1)*me.width),Wa(Wa({},b),{},Yx({},A,me))},{})},hH=function(e,r){var n=e.x,i=e.y,s=r.x,a=r.y;return{x:Math.min(n,s),y:Math.min(i,a),width:Math.abs(s-n),height:Math.abs(a-i)}},NEe=function(e){var r=e.x1,n=e.y1,i=e.x2,s=e.y2;return hH({x:r,y:n},{x:i,y:s})},pH=(function(){function t(e){EEe(this,t),this.scale=e}return CEe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+a}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(r)+c}default:return this.scale(r)}if(i){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+u}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();Yx(pH,"EPS",1e-4);var $T=function(e){var r=Object.keys(e).reduce(function(n,i){return Wa(Wa({},n),{},Yx({},i,pH.create(e[i])))},{});return Wa(Wa({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,c=s.position;return tEe(i,function(u,h){return r[h].apply(u,{bandAware:a,position:c})})},isInRange:function(i){return lH(i,function(s,a){return r[a].isInRange(s)})}})};function jEe(t){return(t%180+180)%180}var OEe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=jEe(i),a=s*Math.PI/180,c=Math.atan(n/r),u=a>c&&a<Math.PI-c?n/Math.sin(a):r/Math.cos(a);return Math.abs(u)},TC,AL;function TEe(){if(AL)return TC;AL=1;var t=Po(),e=Bg(),r=Ox();function n(i){return function(s,a,c){var u=Object(s);if(!e(s)){var h=t(a,3);s=r(s),a=function(v){return h(u[v],v,u)}}var g=i(s,a,c);return g>-1?u[h?s[g]:g]:void 0}}return TC=n,TC}var kC,NL;function kEe(){if(NL)return kC;NL=1;var t=iH();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return kC=e,kC}var PC,jL;function PEe(){if(jL)return PC;jL=1;var t=pW(),e=Po(),r=kEe(),n=Math.max;function i(s,a,c){var u=s==null?0:s.length;if(!u)return-1;var h=c==null?0:r(c);return h<0&&(h=n(u+h,0)),t(s,e(a,3),h)}return PC=i,PC}var IC,OL;function IEe(){if(OL)return IC;OL=1;var t=TEe(),e=PEe(),r=t(e);return IC=r,IC}var REe=IEe();const MEe=Rr(REe);var DEe=Oq();const LEe=Rr(DEe);var BEe=LEe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),VT=j.createContext(void 0),qT=j.createContext(void 0),mH=j.createContext(void 0),gH=j.createContext({}),vH=j.createContext(void 0),yH=j.createContext(0),xH=j.createContext(0),TL=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,a=e.clipPathId,c=e.children,u=e.width,h=e.height,g=BEe(s);return re.createElement(VT.Provider,{value:n},re.createElement(qT.Provider,{value:i},re.createElement(gH.Provider,{value:s},re.createElement(mH.Provider,{value:g},re.createElement(vH.Provider,{value:a},re.createElement(yH.Provider,{value:h},re.createElement(xH.Provider,{value:u},c)))))))},FEe=function(){return j.useContext(vH)},wH=function(e){var r=j.useContext(VT);r==null&&ad();var n=r[e];return n==null&&ad(),n},UEe=function(){var e=j.useContext(VT);return cc(e)},$Ee=function(){var e=j.useContext(qT),r=MEe(e,function(n){return lH(n.domain,Number.isFinite)});return r||cc(e)},bH=function(e){var r=j.useContext(qT);r==null&&ad();var n=r[e];return n==null&&ad(),n},VEe=function(){var e=j.useContext(mH);return e},qEe=function(){return j.useContext(gH)},WT=function(){return j.useContext(xH)},zT=function(){return j.useContext(yH)};function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function WEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zEe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SH(n.key),n)}}function HEe(t,e,r){return e&&zEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GEe(t,e,r){return e=v1(e),KEe(t,_H()?Reflect.construct(e,r||[],v1(t).constructor):e.apply(t,r))}function KEe(t,e){if(e&&(ah(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YEe(t)}function YEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _H(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_H=function(){return!!t})()}function v1(t){return v1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},v1(t)}function XEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$N(t,e)}function $N(t,e){return $N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$N(t,e)}function kL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kL(Object(r),!0).forEach(function(n){HT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HT(t,e,r){return e=SH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SH(t){var e=ZEe(t,"string");return ah(e)=="symbol"?e:e+""}function ZEe(t,e){if(ah(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function QEe(t,e){return rCe(t)||tCe(t,e)||eCe(t,e)||JEe()}function JEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eCe(t,e){if(t){if(typeof t=="string")return IL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IL(t,e)}}function IL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tCe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,c=[],u=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(h)throw i}}return c}}function rCe(t){if(Array.isArray(t))return t}function VN(){return VN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},VN.apply(this,arguments)}var nCe=function(e,r){var n;return re.isValidElement(e)?n=re.cloneElement(e,r):Gt(e)?n=e(r):n=re.createElement("line",VN({},r,{className:"recharts-reference-line-line"})),n},iCe=function(e,r,n,i,s,a,c,u,h){var g=s.x,v=s.y,w=s.width,b=s.height;if(n){var A=h.y,E=e.y.apply(A,{position:a});if(Eo(h,"discard")&&!e.y.isInRange(E))return null;var C=[{x:g+w,y:E},{x:g,y:E}];return u==="left"?C.reverse():C}if(r){var R=h.x,I=e.x.apply(R,{position:a});if(Eo(h,"discard")&&!e.x.isInRange(I))return null;var P=[{x:I,y:v+b},{x:I,y:v}];return c==="top"?P.reverse():P}if(i){var L=h.segment,T=L.map(function(D){return e.apply(D,{position:a})});return Eo(h,"discard")&&ZSe(T,function(D){return!e.isInRange(D)})?null:T}return null};function sCe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,c=t.className,u=t.alwaysShow,h=FEe(),g=wH(i),v=bH(s),w=VEe();if(!h||!w)return null;Xa(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=$T({x:g.scale,y:v.scale}),A=vi(e),E=vi(r),C=n&&n.length===2,R=iCe(b,A,E,C,w,t.position,g.orientation,v.orientation,t);if(!R)return null;var I=QEe(R,2),P=I[0],L=P.x,T=P.y,D=I[1],M=D.x,$=D.y,V=Eo(t,"hidden")?"url(#".concat(h,")"):void 0,K=PL(PL({clipPath:V},Rt(t,!0)),{},{x1:L,y1:T,x2:M,y2:$});return re.createElement(Nr,{className:nr("recharts-reference-line",c)},nCe(a,K),Ai.renderCallByParent(t,NEe({x1:L,y1:T,x2:M,y2:$})))}var GT=(function(t){function e(){return WEe(this,e),GEe(this,e,arguments)}return XEe(e,t),HEe(e,[{key:"render",value:function(){return re.createElement(sCe,this.props)}}])})(re.Component);HT(GT,"displayName","ReferenceLine");HT(GT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function qN(){return qN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qN.apply(this,arguments)}function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function RL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ML(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RL(Object(r),!0).forEach(function(n){Xx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oCe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CH(n.key),n)}}function lCe(t,e,r){return e&&oCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cCe(t,e,r){return e=y1(e),uCe(t,EH()?Reflect.construct(e,r||[],y1(t).constructor):e.apply(t,r))}function uCe(t,e){if(e&&(oh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dCe(t)}function dCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EH=function(){return!!t})()}function y1(t){return y1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},y1(t)}function fCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WN(t,e)}function WN(t,e){return WN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WN(t,e)}function Xx(t,e,r){return e=CH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CH(t){var e=hCe(t,"string");return oh(e)=="symbol"?e:e+""}function hCe(t,e){if(oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pCe=function(e){var r=e.x,n=e.y,i=e.xAxis,s=e.yAxis,a=$T({x:i.scale,y:s.scale}),c=a.apply({x:r,y:n},{bandAware:!0});return Eo(e,"discard")&&!a.isInRange(c)?null:c},Zx=(function(t){function e(){return aCe(this,e),cCe(this,e,arguments)}return fCe(e,t),lCe(e,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,a=n.r,c=n.alwaysShow,u=n.clipPathId,h=vi(i),g=vi(s);if(Xa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!g)return null;var v=pCe(this.props);if(!v)return null;var w=v.x,b=v.y,A=this.props,E=A.shape,C=A.className,R=Eo(this.props,"hidden")?"url(#".concat(u,")"):void 0,I=ML(ML({clipPath:R},Rt(this.props,!0)),{},{cx:w,cy:b});return re.createElement(Nr,{className:nr("recharts-reference-dot",C)},e.renderDot(E,I),Ai.renderCallByParent(this.props,{x:w-a,y:b-a,width:2*a,height:2*a}))}}])})(re.Component);Xx(Zx,"displayName","ReferenceDot");Xx(Zx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Xx(Zx,"renderDot",function(t,e){var r;return re.isValidElement(t)?r=re.cloneElement(t,e):Gt(t)?r=t(e):r=re.createElement(Wg,qN({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function zN(){return zN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zN.apply(this,arguments)}function lh(t){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}function DL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DL(Object(r),!0).forEach(function(n){Qx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gCe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NH(n.key),n)}}function vCe(t,e,r){return e&&gCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yCe(t,e,r){return e=x1(e),xCe(t,AH()?Reflect.construct(e,r||[],x1(t).constructor):e.apply(t,r))}function xCe(t,e){if(e&&(lh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wCe(t)}function wCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AH=function(){return!!t})()}function x1(t){return x1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},x1(t)}function bCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HN(t,e)}function HN(t,e){return HN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},HN(t,e)}function Qx(t,e,r){return e=NH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NH(t){var e=_Ce(t,"string");return lh(e)=="symbol"?e:e+""}function _Ce(t,e){if(lh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var SCe=function(e,r,n,i,s){var a=s.x1,c=s.x2,u=s.y1,h=s.y2,g=s.xAxis,v=s.yAxis;if(!g||!v)return null;var w=$T({x:g.scale,y:v.scale}),b={x:e?w.x.apply(a,{position:"start"}):w.x.rangeMin,y:n?w.y.apply(u,{position:"start"}):w.y.rangeMin},A={x:r?w.x.apply(c,{position:"end"}):w.x.rangeMax,y:i?w.y.apply(h,{position:"end"}):w.y.rangeMax};return Eo(s,"discard")&&(!w.isInRange(b)||!w.isInRange(A))?null:hH(b,A)},Jx=(function(t){function e(){return mCe(this,e),yCe(this,e,arguments)}return bCe(e,t),vCe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,a=n.y1,c=n.y2,u=n.className,h=n.alwaysShow,g=n.clipPathId;Xa(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=vi(i),w=vi(s),b=vi(a),A=vi(c),E=this.props.shape;if(!v&&!w&&!b&&!A&&!E)return null;var C=SCe(v,w,b,A,this.props);if(!C&&!E)return null;var R=Eo(this.props,"hidden")?"url(#".concat(g,")"):void 0;return re.createElement(Nr,{className:nr("recharts-reference-area",u)},e.renderRect(E,LL(LL({clipPath:R},Rt(this.props,!0)),C)),Ai.renderCallByParent(this.props,C))}}])})(re.Component);Qx(Jx,"displayName","ReferenceArea");Qx(Jx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Qx(Jx,"renderRect",function(t,e){var r;return re.isValidElement(t)?r=re.cloneElement(t,e):Gt(t)?r=t(e):r=re.createElement(FT,zN({},e,{className:"recharts-reference-area-rect"})),r});function jH(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function ECe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return OEe(n,r)}function CCe(t,e,r){var n=r==="width",i=t.x,s=t.y,a=t.width,c=t.height;return e===1?{start:n?i:s,end:n?i+a:s+c}:{start:n?i+a:s+c,end:n?i:s}}function w1(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function ACe(t,e){return jH(t,e+1)}function NCe(t,e,r,n,i){for(var s=(n||[]).slice(),a=e.start,c=e.end,u=0,h=1,g=a,v=function(){var A=n?.[u];if(A===void 0)return{v:jH(n,h)};var E=u,C,R=function(){return C===void 0&&(C=r(A,E)),C},I=A.coordinate,P=u===0||w1(t,I,R,g,c);P||(u=0,g=a,h+=1),P&&(g=I+t*(R()/2+i),u+=h)},w;h<=s.length;)if(w=v(),w)return w.v;return[]}function cg(t){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(t)}function BL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BL(Object(r),!0).forEach(function(n){jCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jCe(t,e,r){return e=OCe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OCe(t){var e=TCe(t,"string");return cg(e)=="symbol"?e:e+""}function TCe(t,e){if(cg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kCe(t,e,r,n,i){for(var s=(n||[]).slice(),a=s.length,c=e.start,u=e.end,h=function(w){var b=s[w],A,E=function(){return A===void 0&&(A=r(b,w)),A};if(w===a-1){var C=t*(b.coordinate+t*E()/2-u);s[w]=b=Gi(Gi({},b),{},{tickCoord:C>0?b.coordinate-C*t:b.coordinate})}else s[w]=b=Gi(Gi({},b),{},{tickCoord:b.coordinate});var R=w1(t,b.tickCoord,E,c,u);R&&(u=b.tickCoord-t*(E()/2+i),s[w]=Gi(Gi({},b),{},{isShow:!0}))},g=a-1;g>=0;g--)h(g);return s}function PCe(t,e,r,n,i,s){var a=(n||[]).slice(),c=a.length,u=e.start,h=e.end;if(s){var g=n[c-1],v=r(g,c-1),w=t*(g.coordinate+t*v/2-h);a[c-1]=g=Gi(Gi({},g),{},{tickCoord:w>0?g.coordinate-w*t:g.coordinate});var b=w1(t,g.tickCoord,function(){return v},u,h);b&&(h=g.tickCoord-t*(v/2+i),a[c-1]=Gi(Gi({},g),{},{isShow:!0}))}for(var A=s?c-1:c,E=function(I){var P=a[I],L,T=function(){return L===void 0&&(L=r(P,I)),L};if(I===0){var D=t*(P.coordinate-t*T()/2-u);a[I]=P=Gi(Gi({},P),{},{tickCoord:D<0?P.coordinate-D*t:P.coordinate})}else a[I]=P=Gi(Gi({},P),{},{tickCoord:P.coordinate});var M=w1(t,P.tickCoord,T,u,h);M&&(u=P.tickCoord+t*(T()/2+i),a[I]=Gi(Gi({},P),{},{isShow:!0}))},C=0;C<A;C++)E(C);return a}function KT(t,e,r){var n=t.tick,i=t.ticks,s=t.viewBox,a=t.minTickGap,c=t.orientation,u=t.interval,h=t.tickFormatter,g=t.unit,v=t.angle;if(!i||!i.length||!n)return[];if(rt(u)||Vc.isSsr)return ACe(i,typeof u=="number"&&rt(u)?u:0);var w=[],b=c==="top"||c==="bottom"?"width":"height",A=g&&b==="width"?tm(g,{fontSize:e,letterSpacing:r}):{width:0,height:0},E=function(P,L){var T=Gt(h)?h(P.value,L):P.value;return b==="width"?ECe(tm(T,{fontSize:e,letterSpacing:r}),A,v):tm(T,{fontSize:e,letterSpacing:r})[b]},C=i.length>=2?ss(i[1].coordinate-i[0].coordinate):1,R=CCe(s,C,b);return u==="equidistantPreserveStart"?NCe(C,R,E,i,a):(u==="preserveStart"||u==="preserveStartEnd"?w=PCe(C,R,E,i,a,u==="preserveStartEnd"):w=kCe(C,R,E,i,a),w.filter(function(I){return I.isShow}))}var ICe=["viewBox"],RCe=["viewBox"],MCe=["ticks"];function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}function yf(){return yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yf.apply(this,arguments)}function FL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FL(Object(r),!0).forEach(function(n){YT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RC(t,e){if(t==null)return{};var r=DCe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function DCe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function LCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TH(n.key),n)}}function BCe(t,e,r){return e&&UL(t.prototype,e),r&&UL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function FCe(t,e,r){return e=b1(e),UCe(t,OH()?Reflect.construct(e,r||[],b1(t).constructor):e.apply(t,r))}function UCe(t,e){if(e&&(ch(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ce(t)}function $Ce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OH=function(){return!!t})()}function b1(t){return b1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},b1(t)}function VCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GN(t,e)}function GN(t,e){return GN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},GN(t,e)}function YT(t,e,r){return e=TH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TH(t){var e=qCe(t,"string");return ch(e)=="symbol"?e:e+""}function qCe(t,e){if(ch(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bh=(function(t){function e(r){var n;return LCe(this,e),n=FCe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return VCe(e,t),BCe(e,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,a=RC(n,ICe),c=this.props,u=c.viewBox,h=RC(c,RCe);return!Nf(s,u)||!Nf(a,h)||!Nf(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,a=i.y,c=i.width,u=i.height,h=i.orientation,g=i.tickSize,v=i.mirror,w=i.tickMargin,b,A,E,C,R,I,P=v?-1:1,L=n.tickSize||g,T=rt(n.tickCoord)?n.tickCoord:n.coordinate;switch(h){case"top":b=A=n.coordinate,C=a+ +!v*u,E=C-P*L,I=E-P*w,R=T;break;case"left":E=C=n.coordinate,A=s+ +!v*c,b=A-P*L,R=b-P*w,I=T;break;case"right":E=C=n.coordinate,A=s+ +v*c,b=A+P*L,R=b+P*w,I=T;break;default:b=A=n.coordinate,C=a+ +v*u,E=C+P*L,I=E+P*w,R=T;break}return{line:{x1:b,y1:E,x2:A,y2:C},tick:{x:R,y:I}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,c=n.height,u=n.orientation,h=n.mirror,g=n.axisLine,v=fi(fi(fi({},Rt(this.props,!1)),Rt(g,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var w=+(u==="top"&&!h||u==="bottom"&&h);v=fi(fi({},v),{},{x1:i,y1:s+w*c,x2:i+a,y2:s+w*c})}else{var b=+(u==="left"&&!h||u==="right"&&h);v=fi(fi({},v),{},{x1:i+b*a,y1:s,x2:i+b*a,y2:s+c})}return re.createElement("line",yf({},v,{className:nr("recharts-cartesian-axis-line",Js(g,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var a=this,c=this.props,u=c.tickLine,h=c.stroke,g=c.tick,v=c.tickFormatter,w=c.unit,b=KT(fi(fi({},this.props),{},{ticks:n}),i,s),A=this.getTickTextAnchor(),E=this.getTickVerticalAnchor(),C=Rt(this.props,!1),R=Rt(g,!1),I=fi(fi({},C),{},{fill:"none"},Rt(u,!1)),P=b.map(function(L,T){var D=a.getTickLineCoord(L),M=D.line,$=D.tick,V=fi(fi(fi(fi({textAnchor:A,verticalAnchor:E},C),{},{stroke:"none",fill:h},R),$),{},{index:T,payload:L,visibleTicksCount:b.length,tickFormatter:v});return re.createElement(Nr,yf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},rd(a.props,L,T)),u&&re.createElement("line",yf({},I,M,{className:nr("recharts-cartesian-axis-tick-line",Js(u,"className"))})),g&&e.renderTickItem(g,V,"".concat(Gt(v)?v(L.value,T):L.value).concat(w||"")))});return re.createElement("g",{className:"recharts-cartesian-axis-ticks"},P)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,a=i.width,c=i.height,u=i.ticksGenerator,h=i.className,g=i.hide;if(g)return null;var v=this.props,w=v.ticks,b=RC(v,MCe),A=w;return Gt(u)&&(A=w&&w.length>0?u(this.props):u(b)),a<=0||c<=0||!A||!A.length?null:re.createElement(Nr,{className:nr("recharts-cartesian-axis",h),ref:function(C){n.layerReference=C}},s&&this.renderAxisLine(),this.renderTicks(A,this.state.fontSize,this.state.letterSpacing),Ai.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var a,c=nr(i.className,"recharts-cartesian-axis-tick-value");return re.isValidElement(n)?a=re.cloneElement(n,fi(fi({},i),{},{className:c})):Gt(n)?a=n(fi(fi({},i),{},{className:c})):a=re.createElement(nd,yf({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])})(j.Component);YT(Bh,"displayName","CartesianAxis");YT(Bh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var WCe=["x1","y1","x2","y2","key"],zCe=["offset"];function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function $L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ki(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$L(Object(r),!0).forEach(function(n){HCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$L(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HCe(t,e,r){return e=GCe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GCe(t){var e=KCe(t,"string");return od(e)=="symbol"?e:e+""}function KCe(t,e){if(od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bu(){return Bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bu.apply(this,arguments)}function VL(t,e){if(t==null)return{};var r=YCe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function YCe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var XCe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,s=e.y,a=e.width,c=e.height,u=e.ry;return re.createElement("rect",{x:i,y:s,ry:u,width:a,height:c,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function kH(t,e){var r;if(re.isValidElement(t))r=re.cloneElement(t,e);else if(Gt(t))r=t(e);else{var n=e.x1,i=e.y1,s=e.x2,a=e.y2,c=e.key,u=VL(e,WCe),h=Rt(u,!1);h.offset;var g=VL(h,zCe);r=re.createElement("line",Bu({},g,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:c}))}return r}function ZCe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(c,u){var h=Ki(Ki({},t),{},{x1:e,y1:c,x2:e+r,y2:c,key:"line-".concat(u),index:u});return kH(i,h)});return re.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function QCe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,s=t.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(c,u){var h=Ki(Ki({},t),{},{x1:c,y1:e,x2:c,y2:e+r,key:"line-".concat(u),index:u});return kH(i,h)});return re.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function JCe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,s=t.width,a=t.height,c=t.horizontalPoints,u=t.horizontal,h=u===void 0?!0:u;if(!h||!e||!e.length)return null;var g=c.map(function(w){return Math.round(w+i-i)}).sort(function(w,b){return w-b});i!==g[0]&&g.unshift(0);var v=g.map(function(w,b){var A=!g[b+1],E=A?i+a-w:g[b+1]-w;if(E<=0)return null;var C=b%e.length;return re.createElement("rect",{key:"react-".concat(b),y:w,x:n,height:E,width:s,stroke:"none",fill:e[C],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return re.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},v)}function eAe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,s=t.x,a=t.y,c=t.width,u=t.height,h=t.verticalPoints;if(!r||!n||!n.length)return null;var g=h.map(function(w){return Math.round(w+s-s)}).sort(function(w,b){return w-b});s!==g[0]&&g.unshift(0);var v=g.map(function(w,b){var A=!g[b+1],E=A?s+c-w:g[b+1]-w;if(E<=0)return null;var C=b%n.length;return re.createElement("rect",{key:"react-".concat(b),x:w,y:a,width:E,height:u,stroke:"none",fill:n[C],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return re.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},v)}var tAe=function(e,r){var n=e.xAxis,i=e.width,s=e.height,a=e.offset;return Pz(KT(Ki(Ki(Ki({},Bh.defaultProps),n),{},{ticks:sl(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,r)},rAe=function(e,r){var n=e.yAxis,i=e.width,s=e.height,a=e.offset;return Pz(KT(Ki(Ki(Ki({},Bh.defaultProps),n),{},{ticks:sl(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,r)},of={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Gv(t){var e,r,n,i,s,a,c=WT(),u=zT(),h=qEe(),g=Ki(Ki({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:of.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:of.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:of.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:of.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:of.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:of.verticalFill,x:rt(t.x)?t.x:h.left,y:rt(t.y)?t.y:h.top,width:rt(t.width)?t.width:h.width,height:rt(t.height)?t.height:h.height}),v=g.x,w=g.y,b=g.width,A=g.height,E=g.syncWithTicks,C=g.horizontalValues,R=g.verticalValues,I=UEe(),P=$Ee();if(!rt(b)||b<=0||!rt(A)||A<=0||!rt(v)||v!==+v||!rt(w)||w!==+w)return null;var L=g.verticalCoordinatesGenerator||tAe,T=g.horizontalCoordinatesGenerator||rAe,D=g.horizontalPoints,M=g.verticalPoints;if((!D||!D.length)&&Gt(T)){var $=C&&C.length,V=T({yAxis:P?Ki(Ki({},P),{},{ticks:$?C:P.ticks}):void 0,width:c,height:u,offset:h},$?!0:E);Xa(Array.isArray(V),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(od(V),"]")),Array.isArray(V)&&(D=V)}if((!M||!M.length)&&Gt(L)){var K=R&&R.length,H=L({xAxis:I?Ki(Ki({},I),{},{ticks:K?R:I.ticks}):void 0,width:c,height:u,offset:h},K?!0:E);Xa(Array.isArray(H),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(od(H),"]")),Array.isArray(H)&&(M=H)}return re.createElement("g",{className:"recharts-cartesian-grid"},re.createElement(XCe,{fill:g.fill,fillOpacity:g.fillOpacity,x:g.x,y:g.y,width:g.width,height:g.height,ry:g.ry}),re.createElement(ZCe,Bu({},g,{offset:h,horizontalPoints:D,xAxis:I,yAxis:P})),re.createElement(QCe,Bu({},g,{offset:h,verticalPoints:M,xAxis:I,yAxis:P})),re.createElement(JCe,Bu({},g,{horizontalPoints:D})),re.createElement(eAe,Bu({},g,{verticalPoints:M})))}Gv.displayName="CartesianGrid";var nAe=["type","layout","connectNulls","ref"],iAe=["key"];function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function qL(t,e){if(t==null)return{};var r=sAe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function om(){return om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},om.apply(this,arguments)}function WL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Us(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WL(Object(r),!0).forEach(function(n){za(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lf(t){return cAe(t)||lAe(t)||oAe(t)||aAe()}function aAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oAe(t,e){if(t){if(typeof t=="string")return KN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KN(t,e)}}function lAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cAe(t){if(Array.isArray(t))return KN(t)}function KN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IH(n.key),n)}}function dAe(t,e,r){return e&&zL(t.prototype,e),r&&zL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function fAe(t,e,r){return e=_1(e),hAe(t,PH()?Reflect.construct(e,r||[],_1(t).constructor):e.apply(t,r))}function hAe(t,e){if(e&&(uh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pAe(t)}function pAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PH=function(){return!!t})()}function _1(t){return _1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_1(t)}function mAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YN(t,e)}function YN(t,e){return YN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YN(t,e)}function za(t,e,r){return e=IH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IH(t){var e=gAe(t,"string");return uh(e)=="symbol"?e:e+""}function gAe(t,e){if(uh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dh=(function(t){function e(){var r;uAe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=fAe(this,e,[].concat(i)),za(r,"state",{isAnimationFinished:!0,totalLength:0}),za(r,"generateSimpleStrokeDasharray",function(a,c){return"".concat(c,"px ").concat(a-c,"px")}),za(r,"getStrokeDasharray",function(a,c,u){var h=u.reduce(function(R,I){return R+I});if(!h)return r.generateSimpleStrokeDasharray(c,a);for(var g=Math.floor(a/h),v=a%h,w=c-a,b=[],A=0,E=0;A<u.length;E+=u[A],++A)if(E+u[A]>v){b=[].concat(lf(u.slice(0,A)),[v-E]);break}var C=b.length%2===0?[0,w]:[w];return[].concat(lf(e.repeat(u,g)),lf(b),C).map(function(R){return"".concat(R,"px")}).join(", ")}),za(r,"id",vd("recharts-line-")),za(r,"pathRef",function(a){r.mainCurve=a}),za(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),za(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return mAe(e,t),dAe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,c=s.xAxis,u=s.yAxis,h=s.layout,g=s.children,v=ea(g,qg);if(!v)return null;var w=function(E,C){return{x:E.x,y:E.y,value:E.value,errorVal:Wn(E.payload,C)}},b={clipPath:n?"url(#clipPath-".concat(i,")"):null};return re.createElement(Nr,b,v.map(function(A){return re.cloneElement(A,{key:"bar-".concat(A.props.dataKey),data:a,xAxis:c,yAxis:u,layout:h,dataPointFormatter:w})}))}},{key:"renderDots",value:function(n,i,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var c=this.props,u=c.dot,h=c.points,g=c.dataKey,v=Rt(this.props,!1),w=Rt(u,!0),b=h.map(function(E,C){var R=Us(Us(Us({key:"dot-".concat(C),r:3},v),w),{},{index:C,cx:E.x,cy:E.y,value:E.value,dataKey:g,payload:E.payload,points:h});return e.renderDotItem(u,R)}),A={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return re.createElement(Nr,om({className:"recharts-line-dots",key:"dots"},A),b)}},{key:"renderCurveStatically",value:function(n,i,s,a){var c=this.props,u=c.type,h=c.layout,g=c.connectNulls;c.ref;var v=qL(c,nAe),w=Us(Us(Us({},Rt(v,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},a),{},{type:u,layout:h,connectNulls:g});return re.createElement(Wu,om({},w,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,a=this.props,c=a.points,u=a.strokeDasharray,h=a.isAnimationActive,g=a.animationBegin,v=a.animationDuration,w=a.animationEasing,b=a.animationId,A=a.animateNewValues,E=a.width,C=a.height,R=this.state,I=R.prevPoints,P=R.totalLength;return re.createElement(ro,{begin:g,duration:v,isActive:h,easing:w,from:{t:0},to:{t:1},key:"line-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(L){var T=L.t;if(I){var D=I.length/c.length,M=c.map(function(z,Z){var W=Math.floor(Z*D);if(I[W]){var G=I[W],J=gi(G.x,z.x),ie=gi(G.y,z.y);return Us(Us({},z),{},{x:J(T),y:ie(T)})}if(A){var ne=gi(E*2,z.x),ee=gi(C/2,z.y);return Us(Us({},z),{},{x:ne(T),y:ee(T)})}return Us(Us({},z),{},{x:z.x,y:z.y})});return s.renderCurveStatically(M,n,i)}var $=gi(0,P),V=$(T),K;if(u){var H="".concat(u).split(/[,\s]+/gim).map(function(z){return parseFloat(z)});K=s.getStrokeDasharray(V,P,H)}else K=s.generateSimpleStrokeDasharray(P,V);return s.renderCurveStatically(c,n,i,{strokeDasharray:K})})}},{key:"renderCurve",value:function(n,i){var s=this.props,a=s.points,c=s.isAnimationActive,u=this.state,h=u.prevPoints,g=u.totalLength;return c&&a&&a.length&&(!h&&g>0||!id(h,a))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(a,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,a=i.dot,c=i.points,u=i.className,h=i.xAxis,g=i.yAxis,v=i.top,w=i.left,b=i.width,A=i.height,E=i.isAnimationActive,C=i.id;if(s||!c||!c.length)return null;var R=this.state.isAnimationFinished,I=c.length===1,P=nr("recharts-line",u),L=h&&h.allowDataOverflow,T=g&&g.allowDataOverflow,D=L||T,M=tr(C)?this.id:C,$=(n=Rt(a,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},V=$.r,K=V===void 0?3:V,H=$.strokeWidth,z=H===void 0?2:H,Z=Rq(a)?a:{},W=Z.clipDot,G=W===void 0?!0:W,J=K*2+z;return re.createElement(Nr,{className:P},L||T?re.createElement("defs",null,re.createElement("clipPath",{id:"clipPath-".concat(M)},re.createElement("rect",{x:L?w:w-b/2,y:T?v:v-A/2,width:L?b:b*2,height:T?A:A*2})),!G&&re.createElement("clipPath",{id:"clipPath-dots-".concat(M)},re.createElement("rect",{x:w-J/2,y:v-J/2,width:b+J,height:A+J}))):null,!I&&this.renderCurve(D,M),this.renderErrorBar(D,M),(I||a)&&this.renderDots(D,G,M),(!E||R)&&So.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(lf(n),[0]):n,a=[],c=0;c<i;++c)a=[].concat(lf(a),lf(s));return a}},{key:"renderDotItem",value:function(n,i){var s;if(re.isValidElement(n))s=re.cloneElement(n,i);else if(Gt(n))s=n(i);else{var a=i.key,c=qL(i,iAe),u=nr("recharts-line-dot",typeof n!="boolean"?n.className:"");s=re.createElement(Wg,om({key:a},c,{className:u}))}return s}}])})(j.PureComponent);za(dh,"displayName","Line");za(dh,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Vc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});za(dh,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,a=t.dataKey,c=t.bandSize,u=t.displayedData,h=t.offset,g=e.layout,v=u.map(function(w,b){var A=Wn(w,a);return g==="horizontal"?{x:Jy({axis:r,ticks:i,bandSize:c,entry:w,index:b}),y:tr(A)?null:n.scale(A),value:A,payload:w}:{x:tr(A)?null:r.scale(A),y:Jy({axis:n,ticks:s,bandSize:c,entry:w,index:b}),value:A,payload:w}});return Us({points:v,layout:g},h)});var vAe=["layout","type","stroke","connectNulls","isRange","ref"],yAe=["key"],RH;function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function MH(t,e){if(t==null)return{};var r=xAe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Fu(){return Fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fu.apply(this,arguments)}function HL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ic(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HL(Object(r),!0).forEach(function(n){xo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LH(n.key),n)}}function bAe(t,e,r){return e&&GL(t.prototype,e),r&&GL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Ae(t,e,r){return e=S1(e),SAe(t,DH()?Reflect.construct(e,r||[],S1(t).constructor):e.apply(t,r))}function SAe(t,e){if(e&&(fh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EAe(t)}function EAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DH=function(){return!!t})()}function S1(t){return S1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},S1(t)}function CAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XN(t,e)}function XN(t,e){return XN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},XN(t,e)}function xo(t,e,r){return e=LH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LH(t){var e=AAe(t,"string");return fh(e)=="symbol"?e:e+""}function AAe(t,e){if(fh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yl=(function(t){function e(){var r;wAe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=_Ae(this,e,[].concat(i)),xo(r,"state",{isAnimationFinished:!0}),xo(r,"id",vd("recharts-area-")),xo(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Gt(a)&&a()}),xo(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Gt(a)&&a()}),r}return CAe(e,t),bAe(e,[{key:"renderDots",value:function(n,i,s){var a=this.props.isAnimationActive,c=this.state.isAnimationFinished;if(a&&!c)return null;var u=this.props,h=u.dot,g=u.points,v=u.dataKey,w=Rt(this.props,!1),b=Rt(h,!0),A=g.map(function(C,R){var I=ic(ic(ic({key:"dot-".concat(R),r:3},w),b),{},{index:R,cx:C.x,cy:C.y,dataKey:v,value:C.value,payload:C.payload,points:g});return e.renderDotItem(h,I)}),E={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return re.createElement(Nr,Fu({className:"recharts-area-dots"},E),A)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,s=i.baseLine,a=i.points,c=i.strokeWidth,u=a[0].x,h=a[a.length-1].x,g=n*Math.abs(u-h),v=pc(a.map(function(w){return w.y||0}));return rt(s)&&typeof s=="number"?v=Math.max(s,v):s&&Array.isArray(s)&&s.length&&(v=Math.max(pc(s.map(function(w){return w.y||0})),v)),rt(v)?re.createElement("rect",{x:u<h?u:u-g,y:0,width:g,height:Math.floor(v+(c?parseInt("".concat(c),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,s=i.baseLine,a=i.points,c=i.strokeWidth,u=a[0].y,h=a[a.length-1].y,g=n*Math.abs(u-h),v=pc(a.map(function(w){return w.x||0}));return rt(s)&&typeof s=="number"?v=Math.max(s,v):s&&Array.isArray(s)&&s.length&&(v=Math.max(pc(s.map(function(w){return w.x||0})),v)),rt(v)?re.createElement("rect",{x:0,y:u<h?u:u-g,width:v+(c?parseInt("".concat(c),10):1),height:Math.floor(g)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,s,a){var c=this.props,u=c.layout,h=c.type,g=c.stroke,v=c.connectNulls,w=c.isRange;c.ref;var b=MH(c,vAe);return re.createElement(Nr,{clipPath:s?"url(#clipPath-".concat(a,")"):null},re.createElement(Wu,Fu({},Rt(b,!0),{points:n,connectNulls:v,type:h,baseLine:i,layout:u,stroke:"none",className:"recharts-area-area"})),g!=="none"&&re.createElement(Wu,Fu({},Rt(this.props,!1),{className:"recharts-area-curve",layout:u,type:h,connectNulls:v,fill:"none",points:n})),g!=="none"&&w&&re.createElement(Wu,Fu({},Rt(this.props,!1),{className:"recharts-area-curve",layout:u,type:h,connectNulls:v,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var s=this,a=this.props,c=a.points,u=a.baseLine,h=a.isAnimationActive,g=a.animationBegin,v=a.animationDuration,w=a.animationEasing,b=a.animationId,A=this.state,E=A.prevPoints,C=A.prevBaseLine;return re.createElement(ro,{begin:g,duration:v,isActive:h,easing:w,from:{t:0},to:{t:1},key:"area-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(R){var I=R.t;if(E){var P=E.length/c.length,L=c.map(function($,V){var K=Math.floor(V*P);if(E[K]){var H=E[K],z=gi(H.x,$.x),Z=gi(H.y,$.y);return ic(ic({},$),{},{x:z(I),y:Z(I)})}return $}),T;if(rt(u)&&typeof u=="number"){var D=gi(C,u);T=D(I)}else if(tr(u)||Ih(u)){var M=gi(C,0);T=M(I)}else T=u.map(function($,V){var K=Math.floor(V*P);if(C[K]){var H=C[K],z=gi(H.x,$.x),Z=gi(H.y,$.y);return ic(ic({},$),{},{x:z(I),y:Z(I)})}return $});return s.renderAreaStatically(L,T,n,i)}return re.createElement(Nr,null,re.createElement("defs",null,re.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(I))),re.createElement(Nr,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(c,u,n,i)))})}},{key:"renderArea",value:function(n,i){var s=this.props,a=s.points,c=s.baseLine,u=s.isAnimationActive,h=this.state,g=h.prevPoints,v=h.prevBaseLine,w=h.totalLength;return u&&a&&a.length&&(!g&&w>0||!id(g,a)||!id(v,c))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(a,c,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,a=i.dot,c=i.points,u=i.className,h=i.top,g=i.left,v=i.xAxis,w=i.yAxis,b=i.width,A=i.height,E=i.isAnimationActive,C=i.id;if(s||!c||!c.length)return null;var R=this.state.isAnimationFinished,I=c.length===1,P=nr("recharts-area",u),L=v&&v.allowDataOverflow,T=w&&w.allowDataOverflow,D=L||T,M=tr(C)?this.id:C,$=(n=Rt(a,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},V=$.r,K=V===void 0?3:V,H=$.strokeWidth,z=H===void 0?2:H,Z=Rq(a)?a:{},W=Z.clipDot,G=W===void 0?!0:W,J=K*2+z;return re.createElement(Nr,{className:P},L||T?re.createElement("defs",null,re.createElement("clipPath",{id:"clipPath-".concat(M)},re.createElement("rect",{x:L?g:g-b/2,y:T?h:h-A/2,width:L?b:b*2,height:T?A:A*2})),!G&&re.createElement("clipPath",{id:"clipPath-dots-".concat(M)},re.createElement("rect",{x:g-J/2,y:h-J/2,width:b+J,height:A+J}))):null,I?null:this.renderArea(D,M),(a||I)&&this.renderDots(D,G,M),(!E||R)&&So.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(j.PureComponent);RH=yl;xo(yl,"displayName","Area");xo(yl,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Vc.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});xo(yl,"getBaseValue",function(t,e,r,n){var i=t.layout,s=t.baseValue,a=e.props.baseValue,c=a??s;if(rt(c)&&typeof c=="number")return c;var u=i==="horizontal"?n:r,h=u.scale.domain();if(u.type==="number"){var g=Math.max(h[0],h[1]),v=Math.min(h[0],h[1]);return c==="dataMin"?v:c==="dataMax"||g<0?g:Math.max(Math.min(h[0],h[1]),0)}return c==="dataMin"?h[0]:c==="dataMax"?h[1]:h[0]});xo(yl,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,s=t.xAxisTicks,a=t.yAxisTicks,c=t.bandSize,u=t.dataKey,h=t.stackedData,g=t.dataStartIndex,v=t.displayedData,w=t.offset,b=e.layout,A=h&&h.length,E=RH.getBaseValue(e,r,n,i),C=b==="horizontal",R=!1,I=v.map(function(L,T){var D;A?D=h[g+T]:(D=Wn(L,u),Array.isArray(D)?R=!0:D=[E,D]);var M=D[1]==null||A&&Wn(L,u)==null;return C?{x:Jy({axis:n,ticks:s,bandSize:c,entry:L,index:T}),y:M?null:i.scale(D[1]),value:D,payload:L}:{x:M?null:n.scale(D[1]),y:Jy({axis:i,ticks:a,bandSize:c,entry:L,index:T}),value:D,payload:L}}),P;return A||R?P=I.map(function(L){var T=Array.isArray(L.value)?L.value[0]:null;return C?{x:L.x,y:T!=null&&L.y!=null?i.scale(T):null}:{x:T!=null?n.scale(T):null,y:L.y}}):P=C?i.scale(E):n.scale(E),ic({points:I,baseLine:P,layout:b,isRange:R},w)});xo(yl,"renderDotItem",function(t,e){var r;if(re.isValidElement(t))r=re.cloneElement(t,e);else if(Gt(t))r=t(e);else{var n=nr("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=MH(e,yAe);r=re.createElement(Wg,Fu({},s,{key:i,className:n}))}return r});function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function NAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UH(n.key),n)}}function OAe(t,e,r){return e&&jAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TAe(t,e,r){return e=E1(e),kAe(t,BH()?Reflect.construct(e,r||[],E1(t).constructor):e.apply(t,r))}function kAe(t,e){if(e&&(hh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PAe(t)}function PAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BH=function(){return!!t})()}function E1(t){return E1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},E1(t)}function IAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZN(t,e)}function ZN(t,e){return ZN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZN(t,e)}function FH(t,e,r){return e=UH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UH(t){var e=RAe(t,"string");return hh(e)=="symbol"?e:e+""}function RAe(t,e){if(hh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function QN(){return QN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QN.apply(this,arguments)}function MAe(t){var e=t.xAxisId,r=WT(),n=zT(),i=wH(e);return i==null?null:j.createElement(Bh,QN({},i,{className:nr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(a){return sl(a,!0)}}))}var wc=(function(t){function e(){return NAe(this,e),TAe(this,e,arguments)}return IAe(e,t),OAe(e,[{key:"render",value:function(){return j.createElement(MAe,this.props)}}])})(j.Component);FH(wc,"displayName","XAxis");FH(wc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function DAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qH(n.key),n)}}function BAe(t,e,r){return e&&LAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FAe(t,e,r){return e=C1(e),UAe(t,$H()?Reflect.construct(e,r||[],C1(t).constructor):e.apply(t,r))}function UAe(t,e){if(e&&(ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ae(t)}function $Ae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $H(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($H=function(){return!!t})()}function C1(t){return C1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},C1(t)}function VAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JN(t,e)}function JN(t,e){return JN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JN(t,e)}function VH(t,e,r){return e=qH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qH(t){var e=qAe(t,"string");return ph(e)=="symbol"?e:e+""}function qAe(t,e){if(ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ej(){return ej=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ej.apply(this,arguments)}var WAe=function(e){var r=e.yAxisId,n=WT(),i=zT(),s=bH(r);return s==null?null:j.createElement(Bh,ej({},s,{className:nr("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(c){return sl(c,!0)}}))},bc=(function(t){function e(){return DAe(this,e),FAe(this,e,arguments)}return VAe(e,t),BAe(e,[{key:"render",value:function(){return j.createElement(WAe,this.props)}}])})(j.Component);VH(bc,"displayName","YAxis");VH(bc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function KL(t){return KAe(t)||GAe(t)||HAe(t)||zAe()}function zAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HAe(t,e){if(t){if(typeof t=="string")return tj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tj(t,e)}}function GAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KAe(t){if(Array.isArray(t))return tj(t)}function tj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var rj=function(e,r,n,i,s){var a=ea(e,GT),c=ea(e,Zx),u=[].concat(KL(a),KL(c)),h=ea(e,Jx),g="".concat(i,"Id"),v=i[0],w=r;if(u.length&&(w=u.reduce(function(E,C){if(C.props[g]===n&&Eo(C.props,"extendDomain")&&rt(C.props[v])){var R=C.props[v];return[Math.min(E[0],R),Math.max(E[1],R)]}return E},w)),h.length){var b="".concat(v,"1"),A="".concat(v,"2");w=h.reduce(function(E,C){if(C.props[g]===n&&Eo(C.props,"extendDomain")&&rt(C.props[b])&&rt(C.props[A])){var R=C.props[b],I=C.props[A];return[Math.min(E[0],R,I),Math.max(E[1],R,I)]}return E},w)}return s&&s.length&&(w=s.reduce(function(E,C){return rt(C)?[Math.min(E[0],C),Math.max(E[1],C)]:E},w)),w},MC={exports:{}},YL;function YAe(){return YL||(YL=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,h,g){this.fn=u,this.context=h,this.once=g||!1}function s(u,h,g,v,w){if(typeof g!="function")throw new TypeError("The listener must be a function");var b=new i(g,v||u,w),A=r?r+h:h;return u._events[A]?u._events[A].fn?u._events[A]=[u._events[A],b]:u._events[A].push(b):(u._events[A]=b,u._eventsCount++),u}function a(u,h){--u._eventsCount===0?u._events=new n:delete u._events[h]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],g,v;if(this._eventsCount===0)return h;for(v in g=this._events)e.call(g,v)&&h.push(r?v.slice(1):v);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(g)):h},c.prototype.listeners=function(h){var g=r?r+h:h,v=this._events[g];if(!v)return[];if(v.fn)return[v.fn];for(var w=0,b=v.length,A=new Array(b);w<b;w++)A[w]=v[w].fn;return A},c.prototype.listenerCount=function(h){var g=r?r+h:h,v=this._events[g];return v?v.fn?1:v.length:0},c.prototype.emit=function(h,g,v,w,b,A){var E=r?r+h:h;if(!this._events[E])return!1;var C=this._events[E],R=arguments.length,I,P;if(C.fn){switch(C.once&&this.removeListener(h,C.fn,void 0,!0),R){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,g),!0;case 3:return C.fn.call(C.context,g,v),!0;case 4:return C.fn.call(C.context,g,v,w),!0;case 5:return C.fn.call(C.context,g,v,w,b),!0;case 6:return C.fn.call(C.context,g,v,w,b,A),!0}for(P=1,I=new Array(R-1);P<R;P++)I[P-1]=arguments[P];C.fn.apply(C.context,I)}else{var L=C.length,T;for(P=0;P<L;P++)switch(C[P].once&&this.removeListener(h,C[P].fn,void 0,!0),R){case 1:C[P].fn.call(C[P].context);break;case 2:C[P].fn.call(C[P].context,g);break;case 3:C[P].fn.call(C[P].context,g,v);break;case 4:C[P].fn.call(C[P].context,g,v,w);break;default:if(!I)for(T=1,I=new Array(R-1);T<R;T++)I[T-1]=arguments[T];C[P].fn.apply(C[P].context,I)}}return!0},c.prototype.on=function(h,g,v){return s(this,h,g,v,!1)},c.prototype.once=function(h,g,v){return s(this,h,g,v,!0)},c.prototype.removeListener=function(h,g,v,w){var b=r?r+h:h;if(!this._events[b])return this;if(!g)return a(this,b),this;var A=this._events[b];if(A.fn)A.fn===g&&(!w||A.once)&&(!v||A.context===v)&&a(this,b);else{for(var E=0,C=[],R=A.length;E<R;E++)(A[E].fn!==g||w&&!A[E].once||v&&A[E].context!==v)&&C.push(A[E]);C.length?this._events[b]=C.length===1?C[0]:C:a(this,b)}return this},c.prototype.removeAllListeners=function(h){var g;return h?(g=r?r+h:h,this._events[g]&&a(this,g)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c})(MC)),MC.exports}var XAe=YAe();const ZAe=Rr(XAe);var DC=new ZAe,LC="recharts.syncMouseEvents";function ug(t){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(t)}function QAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WH(n.key),n)}}function eNe(t,e,r){return e&&JAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BC(t,e,r){return e=WH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WH(t){var e=tNe(t,"string");return ug(e)=="symbol"?e:e+""}function tNe(t,e){if(ug(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rNe=(function(){function t(){QAe(this,t),BC(this,"activeIndex",0),BC(this,"coordinateList",[]),BC(this,"layout","horizontal")}return eNe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,a=r.container,c=a===void 0?null:a,u=r.layout,h=u===void 0?null:u,g=r.offset,v=g===void 0?null:g,w=r.mouseHandlerCallback,b=w===void 0?null:w;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=c??this.container,this.layout=h??this.layout,this.offset=v??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,c=i.height,u=this.coordinateList[this.activeIndex].coordinate,h=((r=window)===null||r===void 0?void 0:r.scrollX)||0,g=((n=window)===null||n===void 0?void 0:n.scrollY)||0,v=s+u+h,w=a+this.offset.top+c/2+g;this.mouseHandlerCallback({pageX:v,pageY:w})}}}])})();function nNe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&rt(n)&&rt(i))return!0}return!1}function iNe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function zH(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,s=t.endAngle,a=hn(e,r,n,i),c=hn(e,r,n,s);return{points:[a,c],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function sNe(t,e,r){var n,i,s,a;if(t==="horizontal")n=e.x,s=n,i=r.top,a=r.top+r.height;else if(t==="vertical")i=e.y,a=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var c=e.cx,u=e.cy,h=e.innerRadius,g=e.outerRadius,v=e.angle,w=hn(c,u,h,v),b=hn(c,u,g,v);n=w.x,i=w.y,s=b.x,a=b.y}else return zH(e);return[{x:n,y:i},{x:s,y:a}]}function dg(t){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(t)}function XL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XL(Object(r),!0).forEach(function(n){aNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aNe(t,e,r){return e=oNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oNe(t){var e=lNe(t,"string");return dg(e)=="symbol"?e:e+""}function lNe(t,e){if(dg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cNe(t){var e,r,n=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,c=t.activePayload,u=t.offset,h=t.activeTooltipIndex,g=t.tooltipAxisBandSize,v=t.layout,w=t.chartName,b=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!b||!s||!a||w!=="ScatterChart"&&i!=="axis")return null;var A,E=Wu;if(w==="ScatterChart")A=a,E=b2e;else if(w==="BarChart")A=iNe(v,a,u,g),E=FT;else if(v==="radial"){var C=zH(a),R=C.cx,I=C.cy,P=C.radius,L=C.startAngle,T=C.endAngle;A={cx:R,cy:I,startAngle:L,endAngle:T,innerRadius:P,outerRadius:P},E=qz}else A={points:sNe(v,a,u)},E=Wu;var D=kv(kv(kv(kv({stroke:"#ccc",pointerEvents:"none"},u),A),Rt(b,!1)),{},{payload:c,payloadIndex:h,className:nr("recharts-tooltip-cursor",b.className)});return j.isValidElement(b)?j.cloneElement(b,D):j.createElement(E,D)}var uNe=["item"],dNe=["children","className","width","height","style","compact","title","desc"];function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function xf(){return xf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xf.apply(this,arguments)}function ZL(t,e){return pNe(t)||hNe(t,e)||GH(t,e)||fNe()}function fNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hNe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,c=[],u=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(u=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(h)throw i}}return c}}function pNe(t){if(Array.isArray(t))return t}function QL(t,e){if(t==null)return{};var r=mNe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vNe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KH(n.key),n)}}function yNe(t,e,r){return e&&vNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xNe(t,e,r){return e=A1(e),wNe(t,HH()?Reflect.construct(e,r||[],A1(t).constructor):e.apply(t,r))}function wNe(t,e){if(e&&(mh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bNe(t)}function bNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HH=function(){return!!t})()}function A1(t){return A1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},A1(t)}function _Ne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nj(t,e)}function nj(t,e){return nj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nj(t,e)}function gh(t){return CNe(t)||ENe(t)||GH(t)||SNe()}function SNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GH(t,e){if(t){if(typeof t=="string")return ij(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ij(t,e)}}function ENe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function CNe(t){if(Array.isArray(t))return ij(t)}function ij(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Be(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JL(Object(r),!0).forEach(function(n){zt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zt(t,e,r){return e=KH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KH(t){var e=ANe(t,"string");return mh(e)=="symbol"?e:e+""}function ANe(t,e){if(mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NNe={xAxis:["bottom","top"],yAxis:["left","right"]},jNe={width:"100%",height:"100%"},YH={x:0,y:0};function Pv(t){return t}var ONe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},TNe=function(e,r,n,i){var s=r.find(function(g){return g&&g.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,c=i.radius;return Be(Be(Be({},i),hn(i.cx,i.cy,c,a)),{},{angle:a,radius:c})}var u=s.coordinate,h=i.angle;return Be(Be(Be({},i),hn(i.cx,i.cy,u,h)),{},{angle:h,radius:u})}return YH},ew=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,a=(n??[]).reduce(function(c,u){var h=u.props.data;return h&&h.length?[].concat(gh(c),gh(h)):c},[]);return a.length>0?a:e&&e.length&&rt(i)&&rt(s)?e.slice(i,s+1):[]};function XH(t){return t==="number"?[0,"auto"]:void 0}var sj=function(e,r,n,i){var s=e.graphicalItems,a=e.tooltipAxis,c=ew(r,e);return n<0||!s||!s.length||n>=c.length?null:s.reduce(function(u,h){var g,v=(g=h.props.data)!==null&&g!==void 0?g:r;v&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(v=v.slice(e.dataStartIndex,e.dataEndIndex+1));var w;if(a.dataKey&&!a.allowDuplicatedCategory){var b=v===void 0?c:v;w=jy(b,a.dataKey,i)}else w=v&&v[n]||c[n];return w?[].concat(gh(u),[Lz(h,w)]):u},[])},eB=function(e,r,n,i){var s=i||{x:e.chartX,y:e.chartY},a=ONe(s,n),c=e.orderedTooltipTicks,u=e.tooltipAxis,h=e.tooltipTicks,g=Hxe(a,c,h,u);if(g>=0&&h){var v=h[g]&&h[g].value,w=sj(e,r,g,v),b=TNe(n,c,g,s);return{activeTooltipIndex:g,activeLabel:v,activePayload:w,activeCoordinate:b}}return null},kNe=function(e,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,a=r.axisIdKey,c=r.stackGroups,u=r.dataStartIndex,h=r.dataEndIndex,g=e.layout,v=e.children,w=e.stackOffset,b=kz(g,s);return n.reduce(function(A,E){var C,R=E.type.defaultProps!==void 0?Be(Be({},E.type.defaultProps),E.props):E.props,I=R.type,P=R.dataKey,L=R.allowDataOverflow,T=R.allowDuplicatedCategory,D=R.scale,M=R.ticks,$=R.includeHidden,V=R[a];if(A[V])return A;var K=ew(e.data,{graphicalItems:i.filter(function(le){var me,pe=a in le.props?le.props[a]:(me=le.type.defaultProps)===null||me===void 0?void 0:me[a];return pe===V}),dataStartIndex:u,dataEndIndex:h}),H=K.length,z,Z,W;nNe(R.domain,L,I)&&(z=yN(R.domain,null,L),b&&(I==="number"||D!=="auto")&&(W=nm(K,P,"category")));var G=XH(I);if(!z||z.length===0){var J,ie=(J=R.domain)!==null&&J!==void 0?J:G;if(P){if(z=nm(K,P,I),I==="category"&&b){var ne=Uhe(z);T&&ne?(Z=z,z=f1(0,H)):T||(z=Z6(ie,z,E).reduce(function(le,me){return le.indexOf(me)>=0?le:[].concat(gh(le),[me])},[]))}else if(I==="category")T?z=z.filter(function(le){return le!==""&&!tr(le)}):z=Z6(ie,z,E).reduce(function(le,me){return le.indexOf(me)>=0||me===""||tr(me)?le:[].concat(gh(le),[me])},[]);else if(I==="number"){var ee=Zxe(K,i.filter(function(le){var me,pe,Re=a in le.props?le.props[a]:(me=le.type.defaultProps)===null||me===void 0?void 0:me[a],_e="hide"in le.props?le.props.hide:(pe=le.type.defaultProps)===null||pe===void 0?void 0:pe.hide;return Re===V&&($||!_e)}),P,s,g);ee&&(z=ee)}b&&(I==="number"||D!=="auto")&&(W=nm(K,P,"category"))}else b?z=f1(0,H):c&&c[V]&&c[V].hasStack&&I==="number"?z=w==="expand"?[0,1]:Dz(c[V].stackGroups,u,h):z=Tz(K,i.filter(function(le){var me=a in le.props?le.props[a]:le.type.defaultProps[a],pe="hide"in le.props?le.props.hide:le.type.defaultProps.hide;return me===V&&($||!pe)}),I,g,!0);if(I==="number")z=rj(v,z,V,s,M),ie&&(z=yN(ie,z,L));else if(I==="category"&&ie){var de=ie,se=z.every(function(le){return de.indexOf(le)>=0});se&&(z=de)}}return Be(Be({},A),{},zt({},V,Be(Be({},R),{},{axisType:s,domain:z,categoricalDomain:W,duplicateDomain:Z,originalDomain:(C=R.domain)!==null&&C!==void 0?C:G,isCategorical:b,layout:g})))},{})},PNe=function(e,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,a=r.axisIdKey,c=r.stackGroups,u=r.dataStartIndex,h=r.dataEndIndex,g=e.layout,v=e.children,w=ew(e.data,{graphicalItems:n,dataStartIndex:u,dataEndIndex:h}),b=w.length,A=kz(g,s),E=-1;return n.reduce(function(C,R){var I=R.type.defaultProps!==void 0?Be(Be({},R.type.defaultProps),R.props):R.props,P=I[a],L=XH("number");if(!C[P]){E++;var T;return A?T=f1(0,b):c&&c[P]&&c[P].hasStack?(T=Dz(c[P].stackGroups,u,h),T=rj(v,T,P,s)):(T=yN(L,Tz(w,n.filter(function(D){var M,$,V=a in D.props?D.props[a]:(M=D.type.defaultProps)===null||M===void 0?void 0:M[a],K="hide"in D.props?D.props.hide:($=D.type.defaultProps)===null||$===void 0?void 0:$.hide;return V===P&&!K}),"number",g),i.defaultProps.allowDataOverflow),T=rj(v,T,P,s)),Be(Be({},C),{},zt({},P,Be(Be({axisType:s},i.defaultProps),{},{hide:!0,orientation:Js(NNe,"".concat(s,".").concat(E%2),null),domain:T,originalDomain:L,isCategorical:A,layout:g})))}return C},{})},INe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,a=r.graphicalItems,c=r.stackGroups,u=r.dataStartIndex,h=r.dataEndIndex,g=e.children,v="".concat(i,"Id"),w=ea(g,s),b={};return w&&w.length?b=kNe(e,{axes:w,graphicalItems:a,axisType:i,axisIdKey:v,stackGroups:c,dataStartIndex:u,dataEndIndex:h}):a&&a.length&&(b=PNe(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:v,stackGroups:c,dataStartIndex:u,dataEndIndex:h})),b},RNe=function(e){var r=cc(e),n=sl(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:fT(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:e1(r,n)}},tB=function(e){var r=e.children,n=e.defaultShowTooltip,i=qs(r,ih),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!n}},MNe=function(e){return!e||!e.length?!1:e.some(function(r){var n=al(r&&r.type);return n&&n.indexOf("Bar")>=0})},rB=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},DNe=function(e,r){var n=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,c=e.yAxisMap,u=c===void 0?{}:c,h=n.width,g=n.height,v=n.children,w=n.margin||{},b=qs(v,ih),A=qs(v,ol),E=Object.keys(u).reduce(function(T,D){var M=u[D],$=M.orientation;return!M.mirror&&!M.hide?Be(Be({},T),{},zt({},$,T[$]+M.width)):T},{left:w.left||0,right:w.right||0}),C=Object.keys(a).reduce(function(T,D){var M=a[D],$=M.orientation;return!M.mirror&&!M.hide?Be(Be({},T),{},zt({},$,Js(T,"".concat($))+M.height)):T},{top:w.top||0,bottom:w.bottom||0}),R=Be(Be({},C),E),I=R.bottom;b&&(R.bottom+=b.props.height||ih.defaultProps.height),A&&r&&(R=Yxe(R,i,n,r));var P=h-R.left-R.right,L=g-R.top-R.bottom;return Be(Be({brushBottom:I},R),{},{width:Math.max(P,0),height:Math.max(L,0)})},LNe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},tw=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,c=a===void 0?["axis"]:a,u=e.axisComponents,h=e.legendContent,g=e.formatAxisMap,v=e.defaultProps,w=function(R,I){var P=I.graphicalItems,L=I.stackGroups,T=I.offset,D=I.updateId,M=I.dataStartIndex,$=I.dataEndIndex,V=R.barSize,K=R.layout,H=R.barGap,z=R.barCategoryGap,Z=R.maxBarSize,W=rB(K),G=W.numericAxisName,J=W.cateAxisName,ie=MNe(P),ne=[];return P.forEach(function(ee,de){var se=ew(R.data,{graphicalItems:[ee],dataStartIndex:M,dataEndIndex:$}),le=ee.type.defaultProps!==void 0?Be(Be({},ee.type.defaultProps),ee.props):ee.props,me=le.dataKey,pe=le.maxBarSize,Re=le["".concat(G,"Id")],_e=le["".concat(J,"Id")],we={},Le=u.reduce(function(he,Ne){var Ye=I["".concat(Ne.axisType,"Map")],Ve=le["".concat(Ne.axisType,"Id")];Ye&&Ye[Ve]||Ne.axisType==="zAxis"||ad();var qe=Ye[Ve];return Be(Be({},he),{},zt(zt({},Ne.axisType,qe),"".concat(Ne.axisType,"Ticks"),sl(qe)))},we),je=Le[J],Fe=Le["".concat(J,"Ticks")],We=L&&L[Re]&&L[Re].hasStack&&awe(ee,L[Re].stackGroups),Oe=al(ee.type).indexOf("Bar")>=0,et=e1(je,Fe),Ue=[],st=ie&&Gxe({barSize:V,stackGroups:L,totalSize:LNe(Le,J)});if(Oe){var Et,dt,kt=tr(pe)?Z:pe,ut=(Et=(dt=e1(je,Fe,!0))!==null&&dt!==void 0?dt:kt)!==null&&Et!==void 0?Et:0;Ue=Kxe({barGap:H,barCategoryGap:z,bandSize:ut!==et?ut:et,sizeList:st[_e],maxBarSize:kt}),ut!==et&&(Ue=Ue.map(function(he){return Be(Be({},he),{},{position:Be(Be({},he.position),{},{offset:he.position.offset-ut/2})})}))}var fe=ee&&ee.type&&ee.type.getComposedData;fe&&ne.push({props:Be(Be({},fe(Be(Be({},Le),{},{displayedData:se,props:R,dataKey:me,item:ee,bandSize:et,barPosition:Ue,offset:T,stackedData:We,layout:K,dataStartIndex:M,dataEndIndex:$}))),{},zt(zt(zt({key:ee.key||"item-".concat(de)},G,Le[G]),J,Le[J]),"animationId",D)),childIndex:Qhe(ee,R.children),item:ee})}),ne},b=function(R,I){var P=R.props,L=R.dataStartIndex,T=R.dataEndIndex,D=R.updateId;if(!fM({props:P}))return null;var M=P.children,$=P.layout,V=P.stackOffset,K=P.data,H=P.reverseStackOrder,z=rB($),Z=z.numericAxisName,W=z.cateAxisName,G=ea(M,n),J=iwe(K,G,"".concat(Z,"Id"),"".concat(W,"Id"),V,H),ie=u.reduce(function(le,me){var pe="".concat(me.axisType,"Map");return Be(Be({},le),{},zt({},pe,INe(P,Be(Be({},me),{},{graphicalItems:G,stackGroups:me.axisType===Z&&J,dataStartIndex:L,dataEndIndex:T}))))},{}),ne=DNe(Be(Be({},ie),{},{props:P,graphicalItems:G}),I?.legendBBox);Object.keys(ie).forEach(function(le){ie[le]=g(P,ie[le],ne,le.replace("Map",""),r)});var ee=ie["".concat(W,"Map")],de=RNe(ee),se=w(P,Be(Be({},ie),{},{dataStartIndex:L,dataEndIndex:T,updateId:D,graphicalItems:G,stackGroups:J,offset:ne}));return Be(Be({formattedGraphicalItems:se,graphicalItems:G,offset:ne,stackGroups:J},de),ie)},A=(function(C){function R(I){var P,L,T;return gNe(this,R),T=xNe(this,R,[I]),zt(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),zt(T,"accessibilityManager",new rNe),zt(T,"handleLegendBBoxUpdate",function(D){if(D){var M=T.state,$=M.dataStartIndex,V=M.dataEndIndex,K=M.updateId;T.setState(Be({legendBBox:D},b({props:T.props,dataStartIndex:$,dataEndIndex:V,updateId:K},Be(Be({},T.state),{},{legendBBox:D}))))}}),zt(T,"handleReceiveSyncEvent",function(D,M,$){if(T.props.syncId===D){if($===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(M)}}),zt(T,"handleBrushChange",function(D){var M=D.startIndex,$=D.endIndex;if(M!==T.state.dataStartIndex||$!==T.state.dataEndIndex){var V=T.state.updateId;T.setState(function(){return Be({dataStartIndex:M,dataEndIndex:$},b({props:T.props,dataStartIndex:M,dataEndIndex:$,updateId:V},T.state))}),T.triggerSyncEvent({dataStartIndex:M,dataEndIndex:$})}}),zt(T,"handleMouseEnter",function(D){var M=T.getMouseInfo(D);if(M){var $=Be(Be({},M),{},{isTooltipActive:!0});T.setState($),T.triggerSyncEvent($);var V=T.props.onMouseEnter;Gt(V)&&V($,D)}}),zt(T,"triggeredAfterMouseMove",function(D){var M=T.getMouseInfo(D),$=M?Be(Be({},M),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState($),T.triggerSyncEvent($);var V=T.props.onMouseMove;Gt(V)&&V($,D)}),zt(T,"handleItemMouseEnter",function(D){T.setState(function(){return{isTooltipActive:!0,activeItem:D,activePayload:D.tooltipPayload,activeCoordinate:D.tooltipPosition||{x:D.cx,y:D.cy}}})}),zt(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),zt(T,"handleMouseMove",function(D){D.persist(),T.throttleTriggeredAfterMouseMove(D)}),zt(T,"handleMouseLeave",function(D){T.throttleTriggeredAfterMouseMove.cancel();var M={isTooltipActive:!1};T.setState(M),T.triggerSyncEvent(M);var $=T.props.onMouseLeave;Gt($)&&$(M,D)}),zt(T,"handleOuterEvent",function(D){var M=Zhe(D),$=Js(T.props,"".concat(M));if(M&&Gt($)){var V,K;/.*touch.*/i.test(M)?K=T.getMouseInfo(D.changedTouches[0]):K=T.getMouseInfo(D),$((V=K)!==null&&V!==void 0?V:{},D)}}),zt(T,"handleClick",function(D){var M=T.getMouseInfo(D);if(M){var $=Be(Be({},M),{},{isTooltipActive:!0});T.setState($),T.triggerSyncEvent($);var V=T.props.onClick;Gt(V)&&V($,D)}}),zt(T,"handleMouseDown",function(D){var M=T.props.onMouseDown;if(Gt(M)){var $=T.getMouseInfo(D);M($,D)}}),zt(T,"handleMouseUp",function(D){var M=T.props.onMouseUp;if(Gt(M)){var $=T.getMouseInfo(D);M($,D)}}),zt(T,"handleTouchMove",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(D.changedTouches[0])}),zt(T,"handleTouchStart",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&T.handleMouseDown(D.changedTouches[0])}),zt(T,"handleTouchEnd",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&T.handleMouseUp(D.changedTouches[0])}),zt(T,"handleDoubleClick",function(D){var M=T.props.onDoubleClick;if(Gt(M)){var $=T.getMouseInfo(D);M($,D)}}),zt(T,"handleContextMenu",function(D){var M=T.props.onContextMenu;if(Gt(M)){var $=T.getMouseInfo(D);M($,D)}}),zt(T,"triggerSyncEvent",function(D){T.props.syncId!==void 0&&DC.emit(LC,T.props.syncId,D,T.eventEmitterSymbol)}),zt(T,"applySyncEvent",function(D){var M=T.props,$=M.layout,V=M.syncMethod,K=T.state.updateId,H=D.dataStartIndex,z=D.dataEndIndex;if(D.dataStartIndex!==void 0||D.dataEndIndex!==void 0)T.setState(Be({dataStartIndex:H,dataEndIndex:z},b({props:T.props,dataStartIndex:H,dataEndIndex:z,updateId:K},T.state)));else if(D.activeTooltipIndex!==void 0){var Z=D.chartX,W=D.chartY,G=D.activeTooltipIndex,J=T.state,ie=J.offset,ne=J.tooltipTicks;if(!ie)return;if(typeof V=="function")G=V(ne,D);else if(V==="value"){G=-1;for(var ee=0;ee<ne.length;ee++)if(ne[ee].value===D.activeLabel){G=ee;break}}var de=Be(Be({},ie),{},{x:ie.left,y:ie.top}),se=Math.min(Z,de.x+de.width),le=Math.min(W,de.y+de.height),me=ne[G]&&ne[G].value,pe=sj(T.state,T.props.data,G),Re=ne[G]?{x:$==="horizontal"?ne[G].coordinate:se,y:$==="horizontal"?le:ne[G].coordinate}:YH;T.setState(Be(Be({},D),{},{activeLabel:me,activeCoordinate:Re,activePayload:pe,activeTooltipIndex:G}))}else T.setState(D)}),zt(T,"renderCursor",function(D){var M,$=T.state,V=$.isTooltipActive,K=$.activeCoordinate,H=$.activePayload,z=$.offset,Z=$.activeTooltipIndex,W=$.tooltipAxisBandSize,G=T.getTooltipEventType(),J=(M=D.props.active)!==null&&M!==void 0?M:V,ie=T.props.layout,ne=D.key||"_recharts-cursor";return re.createElement(cNe,{key:ne,activeCoordinate:K,activePayload:H,activeTooltipIndex:Z,chartName:r,element:D,isActive:J,layout:ie,offset:z,tooltipAxisBandSize:W,tooltipEventType:G})}),zt(T,"renderPolarAxis",function(D,M,$){var V=Js(D,"type.axisType"),K=Js(T.state,"".concat(V,"Map")),H=D.type.defaultProps,z=H!==void 0?Be(Be({},H),D.props):D.props,Z=K&&K[z["".concat(V,"Id")]];return j.cloneElement(D,Be(Be({},Z),{},{className:nr(V,Z.className),key:D.key||"".concat(M,"-").concat($),ticks:sl(Z,!0)}))}),zt(T,"renderPolarGrid",function(D){var M=D.props,$=M.radialLines,V=M.polarAngles,K=M.polarRadius,H=T.state,z=H.radiusAxisMap,Z=H.angleAxisMap,W=cc(z),G=cc(Z),J=G.cx,ie=G.cy,ne=G.innerRadius,ee=G.outerRadius;return j.cloneElement(D,{polarAngles:Array.isArray(V)?V:sl(G,!0).map(function(de){return de.coordinate}),polarRadius:Array.isArray(K)?K:sl(W,!0).map(function(de){return de.coordinate}),cx:J,cy:ie,innerRadius:ne,outerRadius:ee,key:D.key||"polar-grid",radialLines:$})}),zt(T,"renderLegend",function(){var D=T.state.formattedGraphicalItems,M=T.props,$=M.children,V=M.width,K=M.height,H=T.props.margin||{},z=V-(H.left||0)-(H.right||0),Z=jz({children:$,formattedGraphicalItems:D,legendWidth:z,legendContent:h});if(!Z)return null;var W=Z.item,G=QL(Z,uNe);return j.cloneElement(W,Be(Be({},G),{},{chartWidth:V,chartHeight:K,margin:H,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),zt(T,"renderTooltip",function(){var D,M=T.props,$=M.children,V=M.accessibilityLayer,K=qs($,zs);if(!K)return null;var H=T.state,z=H.isTooltipActive,Z=H.activeCoordinate,W=H.activePayload,G=H.activeLabel,J=H.offset,ie=(D=K.props.active)!==null&&D!==void 0?D:z;return j.cloneElement(K,{viewBox:Be(Be({},J),{},{x:J.left,y:J.top}),active:ie,label:G,payload:ie?W:[],coordinate:Z,accessibilityLayer:V})}),zt(T,"renderBrush",function(D){var M=T.props,$=M.margin,V=M.data,K=T.state,H=K.offset,z=K.dataStartIndex,Z=K.dataEndIndex,W=K.updateId;return j.cloneElement(D,{key:D.key||"_recharts-brush",onChange:Nv(T.handleBrushChange,D.props.onChange),data:V,x:rt(D.props.x)?D.props.x:H.left,y:rt(D.props.y)?D.props.y:H.top+H.height+H.brushBottom-($.bottom||0),width:rt(D.props.width)?D.props.width:H.width,startIndex:z,endIndex:Z,updateId:"brush-".concat(W)})}),zt(T,"renderReferenceElement",function(D,M,$){if(!D)return null;var V=T,K=V.clipPathId,H=T.state,z=H.xAxisMap,Z=H.yAxisMap,W=H.offset,G=D.type.defaultProps||{},J=D.props,ie=J.xAxisId,ne=ie===void 0?G.xAxisId:ie,ee=J.yAxisId,de=ee===void 0?G.yAxisId:ee;return j.cloneElement(D,{key:D.key||"".concat(M,"-").concat($),xAxis:z[ne],yAxis:Z[de],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:K})}),zt(T,"renderActivePoints",function(D){var M=D.item,$=D.activePoint,V=D.basePoint,K=D.childIndex,H=D.isRange,z=[],Z=M.props.key,W=M.item.type.defaultProps!==void 0?Be(Be({},M.item.type.defaultProps),M.item.props):M.item.props,G=W.activeDot,J=W.dataKey,ie=Be(Be({index:K,dataKey:J,cx:$.x,cy:$.y,r:4,fill:BT(M.item),strokeWidth:2,stroke:"#fff",payload:$.payload,value:$.value},Rt(G,!1)),Oy(G));return z.push(R.renderActiveDot(G,ie,"".concat(Z,"-activePoint-").concat(K))),V?z.push(R.renderActiveDot(G,Be(Be({},ie),{},{cx:V.x,cy:V.y}),"".concat(Z,"-basePoint-").concat(K))):H&&z.push(null),z}),zt(T,"renderGraphicChild",function(D,M,$){var V=T.filterFormatItem(D,M,$);if(!V)return null;var K=T.getTooltipEventType(),H=T.state,z=H.isTooltipActive,Z=H.tooltipAxis,W=H.activeTooltipIndex,G=H.activeLabel,J=T.props.children,ie=qs(J,zs),ne=V.props,ee=ne.points,de=ne.isRange,se=ne.baseLine,le=V.item.type.defaultProps!==void 0?Be(Be({},V.item.type.defaultProps),V.item.props):V.item.props,me=le.activeDot,pe=le.hide,Re=le.activeBar,_e=le.activeShape,we=!!(!pe&&z&&ie&&(me||Re||_e)),Le={};K!=="axis"&&ie&&ie.props.trigger==="click"?Le={onClick:Nv(T.handleItemMouseEnter,D.props.onClick)}:K!=="axis"&&(Le={onMouseLeave:Nv(T.handleItemMouseLeave,D.props.onMouseLeave),onMouseEnter:Nv(T.handleItemMouseEnter,D.props.onMouseEnter)});var je=j.cloneElement(D,Be(Be({},V.props),Le));function Fe(Ne){return typeof Z.dataKey=="function"?Z.dataKey(Ne.payload):null}if(we)if(W>=0){var We,Oe;if(Z.dataKey&&!Z.allowDuplicatedCategory){var et=typeof Z.dataKey=="function"?Fe:"payload.".concat(Z.dataKey.toString());We=jy(ee,et,G),Oe=de&&se&&jy(se,et,G)}else We=ee?.[W],Oe=de&&se&&se[W];if(_e||Re){var Ue=D.props.activeIndex!==void 0?D.props.activeIndex:W;return[j.cloneElement(D,Be(Be(Be({},V.props),Le),{},{activeIndex:Ue})),null,null]}if(!tr(We))return[je].concat(gh(T.renderActivePoints({item:V,activePoint:We,basePoint:Oe,childIndex:W,isRange:de})))}else{var st,Et=(st=T.getItemByXY(T.state.activeCoordinate))!==null&&st!==void 0?st:{graphicalItem:je},dt=Et.graphicalItem,kt=dt.item,ut=kt===void 0?D:kt,fe=dt.childIndex,he=Be(Be(Be({},V.props),Le),{},{activeIndex:fe});return[j.cloneElement(ut,he),null,null]}return de?[je,null,null]:[je,null]}),zt(T,"renderCustomized",function(D,M,$){return j.cloneElement(D,Be(Be({key:"recharts-customized-".concat($)},T.props),T.state))}),zt(T,"renderMap",{CartesianGrid:{handler:Pv,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:Pv},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:Pv},YAxis:{handler:Pv},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((P=I.id)!==null&&P!==void 0?P:vd("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=NW(T.triggeredAfterMouseMove,(L=I.throttleDelay)!==null&&L!==void 0?L:1e3/60),T.state={},T}return _Ne(R,C),yNe(R,[{key:"componentDidMount",value:function(){var P,L;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(L=this.props.margin.top)!==null&&L!==void 0?L:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var P=this.props,L=P.children,T=P.data,D=P.height,M=P.layout,$=qs(L,zs);if($){var V=$.props.defaultIndex;if(!(typeof V!="number"||V<0||V>this.state.tooltipTicks.length-1)){var K=this.state.tooltipTicks[V]&&this.state.tooltipTicks[V].value,H=sj(this.state,T,V,K),z=this.state.tooltipTicks[V].coordinate,Z=(this.state.offset.top+D)/2,W=M==="horizontal",G=W?{x:z,y:Z}:{y:z,x:Z},J=this.state.formattedGraphicalItems.find(function(ne){var ee=ne.item;return ee.type.name==="Scatter"});J&&(G=Be(Be({},G),J.props.points[V].tooltipPosition),H=J.props.points[V].tooltipPayload);var ie={activeTooltipIndex:V,isTooltipActive:!0,activeLabel:K,activePayload:H,activeCoordinate:G};this.setState(ie),this.renderCursor($),this.accessibilityManager.setIndex(V)}}}},{key:"getSnapshotBeforeUpdate",value:function(P,L){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==L.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==P.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==P.margin){var T,D;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0}})}return null}},{key:"componentDidUpdate",value:function(P){UA([qs(P.children,zs)],[qs(this.props.children,zs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var P=qs(this.props.children,zs);if(P&&typeof P.props.shared=="boolean"){var L=P.props.shared?"axis":"item";return c.indexOf(L)>=0?L:s}return s}},{key:"getMouseInfo",value:function(P){if(!this.container)return null;var L=this.container,T=L.getBoundingClientRect(),D=B0e(T),M={chartX:Math.round(P.pageX-D.left),chartY:Math.round(P.pageY-D.top)},$=T.width/L.offsetWidth||1,V=this.inRange(M.chartX,M.chartY,$);if(!V)return null;var K=this.state,H=K.xAxisMap,z=K.yAxisMap,Z=this.getTooltipEventType(),W=eB(this.state,this.props.data,this.props.layout,V);if(Z!=="axis"&&H&&z){var G=cc(H).scale,J=cc(z).scale,ie=G&&G.invert?G.invert(M.chartX):null,ne=J&&J.invert?J.invert(M.chartY):null;return Be(Be({},M),{},{xValue:ie,yValue:ne},W)}return W?Be(Be({},M),W):null}},{key:"inRange",value:function(P,L){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,D=this.props.layout,M=P/T,$=L/T;if(D==="horizontal"||D==="vertical"){var V=this.state.offset,K=M>=V.left&&M<=V.left+V.width&&$>=V.top&&$<=V.top+V.height;return K?{x:M,y:$}:null}var H=this.state,z=H.angleAxisMap,Z=H.radiusAxisMap;if(z&&Z){var W=cc(z);return e5({x:M,y:$},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var P=this.props.children,L=this.getTooltipEventType(),T=qs(P,zs),D={};T&&L==="axis"&&(T.props.trigger==="click"?D={onClick:this.handleClick}:D={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var M=Oy(this.props,this.handleOuterEvent);return Be(Be({},M),D)}},{key:"addListener",value:function(){DC.on(LC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){DC.removeListener(LC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(P,L,T){for(var D=this.state.formattedGraphicalItems,M=0,$=D.length;M<$;M++){var V=D[M];if(V.item===P||V.props.key===P.key||L===al(V.item.type)&&T===V.childIndex)return V}return null}},{key:"renderClipPath",value:function(){var P=this.clipPathId,L=this.state.offset,T=L.left,D=L.top,M=L.height,$=L.width;return re.createElement("defs",null,re.createElement("clipPath",{id:P},re.createElement("rect",{x:T,y:D,height:M,width:$})))}},{key:"getXScales",value:function(){var P=this.state.xAxisMap;return P?Object.entries(P).reduce(function(L,T){var D=ZL(T,2),M=D[0],$=D[1];return Be(Be({},L),{},zt({},M,$.scale))},{}):null}},{key:"getYScales",value:function(){var P=this.state.yAxisMap;return P?Object.entries(P).reduce(function(L,T){var D=ZL(T,2),M=D[0],$=D[1];return Be(Be({},L),{},zt({},M,$.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(P){var L;return(L=this.state.xAxisMap)===null||L===void 0||(L=L[P])===null||L===void 0?void 0:L.scale}},{key:"getYScaleByAxisId",value:function(P){var L;return(L=this.state.yAxisMap)===null||L===void 0||(L=L[P])===null||L===void 0?void 0:L.scale}},{key:"getItemByXY",value:function(P){var L=this.state,T=L.formattedGraphicalItems,D=L.activeItem;if(T&&T.length)for(var M=0,$=T.length;M<$;M++){var V=T[M],K=V.props,H=V.item,z=H.type.defaultProps!==void 0?Be(Be({},H.type.defaultProps),H.props):H.props,Z=al(H.type);if(Z==="Bar"){var W=(K.data||[]).find(function(ne){return t2e(P,ne)});if(W)return{graphicalItem:V,payload:W}}else if(Z==="RadialBar"){var G=(K.data||[]).find(function(ne){return e5(P,ne)});if(G)return{graphicalItem:V,payload:G}}else if(Gx(V,D)||Kx(V,D)||sg(V,D)){var J=ESe({graphicalItem:V,activeTooltipItem:D,itemData:z.data}),ie=z.activeIndex===void 0?J:z.activeIndex;return{graphicalItem:Be(Be({},V),{},{childIndex:ie}),payload:sg(V,D)?z.data[J]:V.props.data[J]}}}return null}},{key:"render",value:function(){var P=this;if(!fM(this))return null;var L=this.props,T=L.children,D=L.className,M=L.width,$=L.height,V=L.style,K=L.compact,H=L.title,z=L.desc,Z=QL(L,dNe),W=Rt(Z,!1);if(K)return re.createElement(TL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},re.createElement(VA,xf({},W,{width:M,height:$,title:H,desc:z}),this.renderClipPath(),pM(T,this.renderMap)));if(this.props.accessibilityLayer){var G,J;W.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,W.role=(J=this.props.role)!==null&&J!==void 0?J:"application",W.onKeyDown=function(ne){P.accessibilityManager.keyboardEvent(ne)},W.onFocus=function(){P.accessibilityManager.focus()}}var ie=this.parseEventsOfWrapper();return re.createElement(TL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},re.createElement("div",xf({className:nr("recharts-wrapper",D),style:Be({position:"relative",cursor:"default",width:M,height:$},V)},ie,{ref:function(ee){P.container=ee}}),re.createElement(VA,xf({},W,{width:M,height:$,title:H,desc:z,style:jNe}),this.renderClipPath(),pM(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(j.Component);zt(A,"displayName",r),zt(A,"defaultProps",Be({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},v)),zt(A,"getDerivedStateFromProps",function(C,R){var I=C.dataKey,P=C.data,L=C.children,T=C.width,D=C.height,M=C.layout,$=C.stackOffset,V=C.margin,K=R.dataStartIndex,H=R.dataEndIndex;if(R.updateId===void 0){var z=tB(C);return Be(Be(Be({},z),{},{updateId:0},b(Be(Be({props:C},z),{},{updateId:0}),R)),{},{prevDataKey:I,prevData:P,prevWidth:T,prevHeight:D,prevLayout:M,prevStackOffset:$,prevMargin:V,prevChildren:L})}if(I!==R.prevDataKey||P!==R.prevData||T!==R.prevWidth||D!==R.prevHeight||M!==R.prevLayout||$!==R.prevStackOffset||!Nf(V,R.prevMargin)){var Z=tB(C),W={chartX:R.chartX,chartY:R.chartY,isTooltipActive:R.isTooltipActive},G=Be(Be({},eB(R,P,M)),{},{updateId:R.updateId+1}),J=Be(Be(Be({},Z),W),G);return Be(Be(Be({},J),b(Be({props:C},J),R)),{},{prevDataKey:I,prevData:P,prevWidth:T,prevHeight:D,prevLayout:M,prevStackOffset:$,prevMargin:V,prevChildren:L})}if(!UA(L,R.prevChildren)){var ie,ne,ee,de,se=qs(L,ih),le=se&&(ie=(ne=se.props)===null||ne===void 0?void 0:ne.startIndex)!==null&&ie!==void 0?ie:K,me=se&&(ee=(de=se.props)===null||de===void 0?void 0:de.endIndex)!==null&&ee!==void 0?ee:H,pe=le!==K||me!==H,Re=!tr(P),_e=Re&&!pe?R.updateId:R.updateId+1;return Be(Be({updateId:_e},b(Be(Be({props:C},R),{},{updateId:_e,dataStartIndex:le,dataEndIndex:me}),R)),{},{prevChildren:L,dataStartIndex:le,dataEndIndex:me})}return null}),zt(A,"renderActiveDot",function(C,R,I){var P;return j.isValidElement(C)?P=j.cloneElement(C,R):Gt(C)?P=C(R):P=re.createElement(Wg,R),re.createElement(Nr,{className:"recharts-active-dot",key:I},P)});var E=j.forwardRef(function(R,I){return re.createElement(A,xf({},R,{ref:I}))});return E.displayName=A.displayName,E},BNe=tw({chartName:"LineChart",GraphicalChild:dh,axisComponents:[{axisType:"xAxis",AxisComp:wc},{axisType:"yAxis",AxisComp:bc}],formatAxisMap:UT}),FNe=tw({chartName:"BarChart",GraphicalChild:bd,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:wc},{axisType:"yAxis",AxisComp:bc}],formatAxisMap:UT}),UNe=tw({chartName:"PieChart",GraphicalChild:Al,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Hx},{axisType:"radiusAxis",AxisComp:Wx}],formatAxisMap:gwe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),$Ne=tw({chartName:"AreaChart",GraphicalChild:yl,axisComponents:[{axisType:"xAxis",AxisComp:wc},{axisType:"yAxis",AxisComp:bc}],formatAxisMap:UT});const nB=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d"],VNe=()=>{const[t,e]=j.useState(void 0),[r,n]=j.useState("30"),[i,s]=j.useState(void 0),[a,c]=j.useState(void 0),{data:u,revenueData:h,memberGrowth:g,loading:v,error:w,refresh:b}=QV(t?{dateRange:t}:void 0);j.useEffect(()=>{if(!t){const D=new Date,M=lc(D,30);s(M),c(D),e({startDate:M,endDate:D})}},[]);const A=D=>{n(D);const M=new Date;let $=new Date;switch(D){case"7":$=lc(M,7);break;case"30":$=lc(M,30);break;case"90":$=lc(M,90);break;case"month":$=Hn(M);break;case"custom":e(void 0);return;default:$=lc(M,30)}s($),c(M),e({startDate:$,endDate:M})},E=()=>{i&&a&&(e({startDate:i,endDate:a}),n("custom"))},C=j.useMemo(()=>{if(!u||!u.popular_classes||u.popular_classes.length===0)return 0;const D=u.popular_classes.reduce((M,$)=>M+$.attendance_rate,0);return Math.round(D/u.popular_classes.length*10)/10},[u]),R=j.useMemo(()=>u?.visit_trends?u.visit_trends.map(D=>({date:at(new Date(D.date),"MMM d"),visits:D.visit_count,unique:D.unique_visitors})):[],[u]),I=j.useMemo(()=>u?.popular_classes?u.popular_classes.slice(0,10).map(D=>({name:D.class_name.length>20?D.class_name.substring(0,20)+"...":D.class_name,bookings:D.total_bookings,attendance:D.attendance_rate})):[],[u]),P=j.useMemo(()=>!h||h.length===0?[]:h.map(D=>({period:at(new Date(D.period+"-01"),"MMM yyyy"),revenue:D.revenue,newMembers:D.new_members})),[h]),L=()=>{if(!u)return;const D=[];D.push("Visit Trends"),D.push("Date,Visit Count,Unique Visitors"),u.visit_trends.forEach(H=>{D.push(`${H.date},${H.visit_count},${H.unique_visitors}`)}),D.push(`
Class Popularity`),D.push("Class Name,Total Bookings,Attendance Rate"),u.popular_classes.forEach(H=>{D.push(`${H.class_name},${H.total_bookings},${H.attendance_rate}`)}),D.push(`
Revenue Data`),D.push("Period,Revenue,New Members,Renewals"),h.forEach(H=>{D.push(`${H.period},${H.revenue},${H.new_members},${H.renewals}`)});const M=D.join(`
`),$=new Blob([M],{type:"text/csv"}),V=window.URL.createObjectURL($),K=document.createElement("a");K.href=V,K.download=`analytics-${at(new Date,"yyyy-MM-dd")}.csv`,K.click(),window.URL.revokeObjectURL(V)},T=()=>{window.print()};return w?o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsx("div",{className:"container mx-auto",children:o.jsx(Xe,{className:"border-destructive",children:o.jsxs(Ze,{className:"p-6",children:[o.jsxs("p",{className:"text-destructive",children:["Error loading analytics: ",w]}),o.jsxs(Te,{onClick:b,className:"mt-4",children:[o.jsx(zu,{className:"mr-2 h-4 w-4"}),"Retry"]})]})})})}):o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"container mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Analytics & Reports"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Te,{variant:"outline",onClick:b,disabled:v,size:"sm",children:[v?o.jsx(Bi,{className:"mr-2 h-4 w-4 animate-spin"}):o.jsx(zu,{className:"mr-2 h-4 w-4"}),"Refresh"]}),o.jsxs(Te,{variant:"outline",onClick:L,disabled:v||!u,size:"sm",children:[o.jsx(WC,{className:"mr-2 h-4 w-4"}),"Export CSV"]}),o.jsxs(Te,{variant:"outline",onClick:T,disabled:v||!u,size:"sm",children:[o.jsx(WC,{className:"mr-2 h-4 w-4"}),"Export PDF"]})]})]}),o.jsx(Xe,{className:"mb-6",children:o.jsx(Ze,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Date Range:"}),o.jsxs(_n,{value:r,onValueChange:A,children:[o.jsx(dn,{className:"w-[140px]",children:o.jsx(Sn,{})}),o.jsxs(fn,{children:[o.jsx(bt,{value:"7",children:"Last 7 days"}),o.jsx(bt,{value:"30",children:"Last 30 days"}),o.jsx(bt,{value:"90",children:"Last 90 days"}),o.jsx(bt,{value:"month",children:"This month"}),o.jsx(bt,{value:"custom",children:"Custom range"})]})]})]}),r==="custom"&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Om,{children:[o.jsx(Tm,{asChild:!0,children:o.jsxs(Te,{variant:"outline",className:De("w-[200px] justify-start text-left font-normal",!i&&"text-muted-foreground"),children:[o.jsx(ei,{className:"mr-2 h-4 w-4"}),i?at(i,"PPP"):"Start date"]})}),o.jsx(qf,{className:"w-auto p-0",align:"start",children:o.jsx($f,{mode:"single",selected:i,onSelect:s,initialFocus:!0})})]}),o.jsxs(Om,{children:[o.jsx(Tm,{asChild:!0,children:o.jsxs(Te,{variant:"outline",className:De("w-[200px] justify-start text-left font-normal",!a&&"text-muted-foreground"),children:[o.jsx(ei,{className:"mr-2 h-4 w-4"}),a?at(a,"PPP"):"End date"]})}),o.jsx(qf,{className:"w-auto p-0",align:"start",children:o.jsx($f,{mode:"single",selected:a,onSelect:c,initialFocus:!0})})]}),o.jsx(Te,{onClick:E,disabled:!i||!a,size:"sm",children:"Apply"})]})]})})}),v?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid lg:grid-cols-3 xl:grid-cols-5 gap-6 mb-8",children:[1,2,3,4,5].map(D=>o.jsx(Xe,{children:o.jsxs(Ze,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx(Hr,{className:"h-4 w-24"}),o.jsx(Hr,{className:"h-5 w-5 rounded"})]}),o.jsx(Hr,{className:"h-10 w-20 mb-2"}),o.jsx(Hr,{className:"h-3 w-32"})]})},D))}),o.jsx(Zfe,{count:4})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid lg:grid-cols-3 xl:grid-cols-5 gap-6 mb-8",children:[o.jsx(Vp,{title:"Total Members",value:u?.total_members?.toString()||"0",description:`${u?.active_members||0} active members`,icon:o.jsx(wl,{className:"w-5 h-5 text-primary"}),loading:!1}),o.jsx(Vp,{title:"Member Growth",value:g?`${g.growthPercentage>=0?"+":""}${g.growthPercentage.toFixed(1)}%`:"0%",description:`${g?.growthThisMonth||0} new this month`,icon:o.jsx(kf,{className:"w-5 h-5 text-success"}),loading:!1}),o.jsx(Vp,{title:"Class Attendance",value:`${C}%`,description:"Average rate",icon:o.jsx(ei,{className:"w-5 h-5 text-secondary"}),loading:!1}),o.jsx(Vp,{title:"Visits Today",value:u?.total_visits_today?.toString()||"0",description:"Total check-ins today",icon:o.jsx(kf,{className:"w-5 h-5 text-accent"}),loading:!1}),o.jsx(Vp,{title:"Rewards Claimed",value:u?.total_rewards_claimed?.toString()||"0",description:"Total rewards claimed",icon:o.jsx(P1,{className:"w-5 h-5 text-primary"}),loading:!1})]}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-8",children:[o.jsxs(Xe,{children:[o.jsxs(Ot,{children:[o.jsx(Lt,{children:"Visit Trends"}),o.jsx(mr,{children:"Daily gym visits over time"})]}),o.jsx(Ze,{children:R.length>0?o.jsx(_v,{width:"100%",height:300,children:o.jsxs($Ne,{data:R,children:[o.jsx(Gv,{strokeDasharray:"3 3"}),o.jsx(wc,{dataKey:"date"}),o.jsx(bc,{}),o.jsx(zs,{}),o.jsx(ol,{}),o.jsx(yl,{type:"monotone",dataKey:"visits",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6,name:"Total Visits"}),o.jsx(yl,{type:"monotone",dataKey:"unique",stroke:"#82ca9d",fill:"#82ca9d",fillOpacity:.6,name:"Unique Visitors"})]})}):o.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"No visit data available for the selected period"})})]}),o.jsxs(Xe,{children:[o.jsxs(Ot,{children:[o.jsx(Lt,{children:"Class Popularity"}),o.jsx(mr,{children:"Most booked classes"})]}),o.jsx(Ze,{children:I.length>0?o.jsx(_v,{width:"100%",height:300,children:o.jsxs(FNe,{data:I,children:[o.jsx(Gv,{strokeDasharray:"3 3"}),o.jsx(wc,{dataKey:"name",angle:-45,textAnchor:"end",height:100}),o.jsx(bc,{}),o.jsx(zs,{}),o.jsx(ol,{}),o.jsx(bd,{dataKey:"bookings",fill:"#8884d8",name:"Total Bookings"})]})}):o.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"No class booking data available"})})]})]}),P.length>0&&o.jsxs(Xe,{className:"mb-8",children:[o.jsxs(Ot,{children:[o.jsx(Lt,{children:"Revenue Trends"}),o.jsx(mr,{children:"Monthly revenue breakdown"})]}),o.jsx(Ze,{children:o.jsx(_v,{width:"100%",height:300,children:o.jsxs(BNe,{data:P,children:[o.jsx(Gv,{strokeDasharray:"3 3"}),o.jsx(wc,{dataKey:"period"}),o.jsx(bc,{}),o.jsx(zs,{}),o.jsx(ol,{}),o.jsx(dh,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",strokeWidth:2,name:"Revenue"}),o.jsx(dh,{type:"monotone",dataKey:"newMembers",stroke:"#82ca9d",strokeWidth:2,name:"New Members"})]})})})]}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[o.jsxs(Xe,{children:[o.jsxs(Ot,{children:[o.jsx(Lt,{children:"Membership Breakdown"}),o.jsx(mr,{children:"Current membership status"})]}),o.jsx(Ze,{children:u?.membership_breakdown?o.jsx(_v,{width:"100%",height:250,children:o.jsxs(UNe,{children:[o.jsx(Al,{data:[{name:"Active",value:u.membership_breakdown.active},{name:"Inactive",value:u.membership_breakdown.inactive},{name:"Cancelled",value:u.membership_breakdown.suspended}],cx:"50%",cy:"50%",labelLine:!1,label:({name:D,percent:M})=>`${D}: ${(M*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:[{name:"Active",value:u.membership_breakdown.active},{name:"Inactive",value:u.membership_breakdown.inactive},{name:"Cancelled",value:u.membership_breakdown.suspended}].map((D,M)=>o.jsx(Px,{fill:nB[M%nB.length]},`cell-${M}`))}),o.jsx(zs,{})]})}):o.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"No membership data available"})})]}),o.jsxs(Xe,{children:[o.jsxs(Ot,{children:[o.jsx(Lt,{children:"Top Classes by Attendance"}),o.jsx(mr,{children:"Classes with highest attendance rates"})]}),o.jsx(Ze,{children:u?.popular_classes&&u.popular_classes.length>0?o.jsx("div",{className:"space-y-2",children:u.popular_classes.slice(0,5).map((D,M)=>o.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:["#",M+1]}),o.jsx("span",{className:"text-sm font-medium",children:D.class_name})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("span",{className:"text-sm text-muted-foreground",children:[D.total_bookings," bookings"]}),o.jsxs("span",{className:"text-sm font-semibold",children:[D.attendance_rate,"% attendance"]})]})]},D.class_id))}):o.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"No class data available"})})]})]})]})]})})},Vp=({title:t,value:e,description:r,icon:n,loading:i})=>o.jsx(Xe,{children:o.jsxs(Ze,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:t}),n]}),i?o.jsx("div",{className:"h-10 w-20 bg-muted animate-pulse rounded"}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"text-3xl font-bold mb-1",children:e}),o.jsx("p",{className:"text-xs text-muted-foreground",children:r})]})]})}),fg=j.forwardRef(({className:t,...e},r)=>o.jsx("textarea",{className:De("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));fg.displayName="Textarea";var rw="Switch",[qNe]=Ji(rw),[WNe,zNe]=qNe(rw),ZH=j.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:a,disabled:c,value:u="on",onCheckedChange:h,form:g,...v}=t,[w,b]=j.useState(null),A=br(e,P=>b(P)),E=j.useRef(!1),C=w?g||!!w.closest("form"):!0,[R,I]=Za({prop:i,defaultProp:s??!1,onChange:h,caller:rw});return o.jsxs(WNe,{scope:r,checked:R,disabled:c,children:[o.jsx(Tt.button,{type:"button",role:"switch","aria-checked":R,"aria-required":a,"data-state":tG(R),"data-disabled":c?"":void 0,disabled:c,value:u,...v,ref:A,onClick:ot(t.onClick,P=>{I(L=>!L),C&&(E.current=P.isPropagationStopped(),E.current||P.stopPropagation())})}),C&&o.jsx(eG,{control:w,bubbles:!E.current,name:n,value:u,checked:R,required:a,disabled:c,form:g,style:{transform:"translateX(-100%)"}})]})});ZH.displayName=rw;var QH="SwitchThumb",JH=j.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=zNe(QH,r);return o.jsx(Tt.span,{"data-state":tG(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});JH.displayName=QH;var HNe="SwitchBubbleInput",eG=j.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},s)=>{const a=j.useRef(null),c=br(a,s),u=TO(r),h=Cj(e);return j.useEffect(()=>{const g=a.current;if(!g)return;const v=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(v,"checked").set;if(u!==r&&b){const A=new Event("click",{bubbles:n});b.call(g,r),g.dispatchEvent(A)}},[u,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:c,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});eG.displayName=HNe;function tG(t){return t?"checked":"unchecked"}var rG=ZH,GNe=JH;const gc=j.forwardRef(({className:t,...e},r)=>o.jsx(rG,{className:De("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:r,children:o.jsx(GNe,{className:De("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));gc.displayName=rG.displayName;const KNe=({sessions:t,classes:e,onAddSession:r,onEditSession:n,onDeleteSession:i,selectedDate:s,onDateClick:a})=>{const[c,u]=j.useState(new Date),[h,g]=j.useState("month"),[v,w]=j.useState(null),[b,A]=j.useState(!1),[E,C]=j.useState(!1),[R,I]=j.useState(!1),[P,L]=j.useState(null),[T,D]=j.useState({name:"",instructor:"",startDate:new Date,startTime:"09:00",endTime:"10:00",capacity:20,class_id:""}),M=j.useMemo(()=>{const me=new Map;return t.forEach(pe=>{const Re=at(Ut(pe.start_time),"yyyy-MM-dd");me.has(Re)||me.set(Re,[]),me.get(Re).push(pe)}),me},[t]),$=me=>{const pe=at(me,"yyyy-MM-dd");return M.get(pe)||[]},V=Hn(c),K=Ah(c),H=Ni(V),z=bl(K),Z=Nh({start:H,end:z}),W=()=>{u(NO(c))},G=()=>{u(Qi(c,1))},J=me=>{w(me),g("day"),a?.(me)},ie=()=>{L(null),D({name:"",instructor:"",startDate:v||new Date,startTime:"09:00",endTime:"10:00",capacity:20,class_id:"none"}),A(!0),C(!1)},ne=me=>{L(me);const pe=Ut(me.start_time);D({name:me.name,instructor:me.instructor||"",startDate:pe,startTime:at(pe,"HH:mm"),endTime:at(Ut(me.end_time),"HH:mm"),capacity:me.capacity||20,class_id:me.class_id||"none"}),C(!0),A(!1)},ee=me=>{L(me),I(!0),A(!1),C(!1)},de=async()=>{if(!(!T.name||!T.startDate))try{const me=new Date(T.startDate),[pe,Re]=T.startTime.split(":").map(Number);me.setHours(pe,Re,0,0);const _e=new Date(T.startDate),[we,Le]=T.endTime.split(":").map(Number);_e.setHours(we,Le,0,0);const je={name:T.name,instructor:T.instructor||null,start_time:me.toISOString(),end_time:_e.toISOString(),capacity:T.capacity,class_id:T.class_id&&T.class_id!=="none"?T.class_id:null};P?await n?.(P.id,je):await r?.(je),A(!1),C(!1),L(null)}catch(me){console.error("Error saving session:",me)}},se=async()=>{try{P&&await i?.(P.id),I(!1),L(null)}catch(me){console.error("Error deleting session:",me)}},le=()=>o.jsxs(o.Fragment,{children:[o.jsx(Xs,{open:b||E,onOpenChange:me=>{me||(A(!1),C(!1),L(null))},children:o.jsxs(Ss,{className:"max-w-md",children:[o.jsxs(Es,{children:[o.jsx(Cs,{children:P?"Edit Session":"Add New Session"}),o.jsx(Zs,{children:P?"Update the session details":"Create a new class session"})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{children:[o.jsx(Qt,{children:"Class Name"}),o.jsx(Nt,{value:T.name,onChange:me=>D({...T,name:me.target.value}),placeholder:"Enter class name"})]}),o.jsxs("div",{children:[o.jsx(Qt,{children:"Instructor"}),o.jsx(Nt,{value:T.instructor,onChange:me=>D({...T,instructor:me.target.value}),placeholder:"Enter instructor name"})]}),o.jsxs("div",{children:[o.jsx(Qt,{children:"Link to Class Template (Optional)"}),o.jsxs(_n,{value:T.class_id||"none",onValueChange:me=>D({...T,class_id:me==="none"?"":me}),children:[o.jsx(dn,{children:o.jsx(Sn,{placeholder:"Select a class"})}),o.jsxs(fn,{children:[o.jsx(bt,{value:"none",children:"None"}),e.map(me=>o.jsx(bt,{value:me.id,children:me.name},me.id))]})]})]}),o.jsxs("div",{children:[o.jsx(Qt,{children:"Date"}),o.jsxs(Om,{children:[o.jsx(Tm,{asChild:!0,children:o.jsxs(Te,{variant:"outline",className:De("w-full justify-start text-left font-normal",!T.startDate&&"text-muted-foreground"),children:[o.jsx(ei,{className:"mr-2 h-4 w-4"}),T.startDate?at(T.startDate,"PPP"):"Pick a date"]})}),o.jsx(qf,{className:"w-auto p-0",children:o.jsx($f,{mode:"single",selected:T.startDate,onSelect:me=>me&&D({...T,startDate:me}),initialFocus:!0})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Qt,{children:"Start Time"}),o.jsx(Nt,{type:"time",value:T.startTime,onChange:me=>D({...T,startTime:me.target.value})})]}),o.jsxs("div",{children:[o.jsx(Qt,{children:"End Time"}),o.jsx(Nt,{type:"time",value:T.endTime,onChange:me=>D({...T,endTime:me.target.value})})]})]}),o.jsxs("div",{children:[o.jsx(Qt,{children:"Capacity"}),o.jsx(Nt,{type:"number",min:"1",value:T.capacity,onChange:me=>D({...T,capacity:parseInt(me.target.value)||20})})]})]}),o.jsxs(wa,{children:[o.jsx(Te,{variant:"outline",onClick:()=>{A(!1),C(!1),L(null)},children:"Cancel"}),o.jsxs(Te,{onClick:de,children:[P?"Update":"Create"," Session"]})]})]})}),o.jsx(Xs,{open:R,onOpenChange:I,children:o.jsxs(Ss,{children:[o.jsxs(Es,{children:[o.jsx(Cs,{children:"Delete Session"}),o.jsx(Zs,{children:"Are you sure you want to delete this session? This action cannot be undone."})]}),P&&o.jsxs("div",{className:"py-4",children:[o.jsxs("p",{className:"text-sm",children:[o.jsx("strong",{children:"Session:"})," ",P.name]}),o.jsxs("p",{className:"text-sm",children:[o.jsx("strong",{children:"Date:"})," ",at(Ut(P.start_time),"PPP")]})]}),o.jsxs(wa,{children:[o.jsx(Te,{variant:"outline",onClick:()=>I(!1),children:"Cancel"}),o.jsx(Te,{variant:"destructive",onClick:se,children:"Delete"})]})]})})]});if(h==="day"&&v){const me=$(v);return o.jsxs(o.Fragment,{children:[o.jsx(YNe,{date:v,sessions:me,classes:e,onBack:()=>g("month"),onDateChange:pe=>{w(pe),u(Hn(pe))},onAddSession:ie,onEditSession:ne,onDeleteSession:ee}),le()]})}return o.jsxs(o.Fragment,{children:[o.jsxs(Xe,{children:[o.jsx(Ot,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Lt,{className:"text-2xl font-bold",children:at(c,"MMMM yyyy")}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Te,{variant:"outline",size:"icon",onClick:W,children:o.jsx(Qa,{className:"h-4 w-4"})}),o.jsx(Te,{variant:"outline",size:"icon",onClick:G,children:o.jsx(xl,{className:"h-4 w-4"})}),o.jsx(Te,{variant:"outline",onClick:()=>u(new Date),children:"Today"})]})]})}),o.jsx(Ze,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-7 gap-1",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(me=>o.jsx("div",{className:"text-center text-sm font-medium text-muted-foreground py-2",children:me},me))}),o.jsx("div",{className:"border-t border-border"}),o.jsx("div",{className:"space-y-0",children:Array.from({length:Math.ceil(Z.length/7)},(me,pe)=>{const Re=pe*7,_e=Z.slice(Re,Re+7);return o.jsxs("div",{children:[o.jsx("div",{className:"grid grid-cols-7",children:_e.map((we,Le)=>{const je=$(we),Fe=jh(we,c),We=Jr(we,new Date),Oe=v&&Jr(we,v);return o.jsxs("div",{className:De("min-h-[100px] p-2 cursor-pointer transition-colors",!Fe&&"opacity-40",We&&"bg-primary/5",Oe&&"bg-primary/10","hover:bg-accent"),onClick:()=>J(we),children:[o.jsx("div",{className:De("text-sm font-semibold mb-1",We&&"text-primary",Oe&&"text-primary"),children:at(we,"d")}),o.jsxs("div",{className:"space-y-1",children:[je.slice(0,3).map(et=>o.jsx(cr,{variant:"secondary",className:"w-full text-xs truncate",children:et.name},et.id)),je.length>3&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",je.length-3," more"]})]})]},Le)})}),pe<Math.ceil(Z.length/7)-1&&o.jsx("div",{className:"border-t border-border my-0"})]},pe)})})]})})]}),le()]})},YNe=({date:t,sessions:e,classes:r,onBack:n,onDateChange:i,onAddSession:s,onEditSession:a,onDeleteSession:c})=>{const u=Ni(t),h=Nh({start:u,end:bl(t)}),g=j.useMemo(()=>[...e].sort((E,C)=>Ut(E.start_time).getTime()-Ut(C.start_time).getTime()),[e]),v=j.useMemo(()=>{const E=new Map;return g.forEach(C=>{const R=Ut(C.start_time).getHours();E.has(R)||E.set(R,[]),E.get(R).push(C)}),E},[g]),w=Array.from({length:17},(E,C)=>C+6),b=()=>{const E=new Date(t);E.setDate(E.getDate()-1),i(E)},A=()=>{const E=new Date(t);E.setDate(E.getDate()+1),i(E)};return o.jsxs(Xe,{children:[o.jsx(Ot,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Te,{variant:"outline",size:"icon",onClick:n,children:o.jsx(Qa,{className:"h-4 w-4"})}),o.jsx(Lt,{className:"text-2xl font-bold",children:at(t,"EEEE, MMMM d, yyyy")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Te,{variant:"outline",size:"icon",onClick:b,children:o.jsx(Qa,{className:"h-4 w-4"})}),o.jsx(Te,{variant:"outline",size:"icon",onClick:A,children:o.jsx(xl,{className:"h-4 w-4"})}),o.jsx(Te,{variant:"outline",onClick:()=>i(new Date),children:"Today"}),o.jsxs(Te,{onClick:s,children:[o.jsx(dl,{className:"h-4 w-4 mr-2"}),"Add Session"]})]})]})}),o.jsx(Ze,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex gap-2",children:h.map(E=>{const C=Jr(E,t),R=Jr(E,new Date);return o.jsxs("button",{onClick:()=>i(E),className:De("flex-1 p-3 rounded-lg border transition-colors text-center",C&&"bg-primary text-primary-foreground border-primary",!C&&"hover:bg-accent",R&&!C&&"border-primary"),children:[o.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:at(E,"EEE")}),o.jsx("div",{className:"text-lg font-semibold",children:at(E,"d")})]},E.toISOString())})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Schedule"}),g.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx("p",{children:"No sessions scheduled for this day"}),o.jsxs(Te,{className:"mt-4",onClick:s,children:[o.jsx(dl,{className:"h-4 w-4 mr-2"}),"Add First Session"]})]}):o.jsx("div",{className:"space-y-2",children:w.map(E=>{const C=v.get(E)||[];return C.length===0?null:o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"w-16 text-sm text-muted-foreground pt-2",children:at(new Date().setHours(E,0,0,0),"h:mm a")}),o.jsx("div",{className:"flex-1 space-y-2",children:C.map(R=>{const I=Ut(R.start_time),P=Ut(R.end_time),L=(P.getTime()-I.getTime())/(1e3*60);return o.jsx("div",{className:"p-4 rounded-lg border bg-card hover:shadow-md transition-colors",children:o.jsxs("div",{className:"flex items-start justify-between",onClick:T=>T.stopPropagation(),children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h4",{className:"font-semibold",children:R.name}),R.classes?.category&&o.jsx(cr,{variant:"outline",className:"text-xs",children:R.classes.category})]}),R.instructor&&o.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:["with ",R.instructor]}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[o.jsxs("span",{children:[at(I,"h:mm a")," - ",at(P,"h:mm a")]}),o.jsxs("span",{children:[L," min"]}),o.jsxs("span",{children:["Capacity: ",R.capacity||"N/A"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Te,{variant:"outline",size:"icon",onClick:T=>{T.stopPropagation(),a(R)},children:o.jsx(zC,{className:"h-4 w-4"})}),o.jsx(Te,{variant:"outline",size:"icon",onClick:T=>{T.stopPropagation(),c(R)},children:o.jsx(Tf,{className:"h-4 w-4"})})]})]})},R.id)})})]},E)})})]})]})})]})},XNe=To({name:Gr().min(1,"Name is required").max(100,"Name is too long"),description:Gr().optional(),instructor:Gr().min(1,"Instructor is required").max(100,"Instructor name is too long"),schedule:Gr().optional(),duration:Tc().min(1,"Duration must be at least 1 minute").max(480,"Duration cannot exceed 8 hours"),capacity:Tc().min(1,"Capacity must be at least 1").max(1e3,"Capacity cannot exceed 1000"),category:Gr().optional(),image_url:Gr().url("Must be a valid URL").optional().or(_u("")),is_active:mO()}),ZNe=To({startDate:jA({required_error:"Start date is required"}),startTime:Gr().regex(/^([0-1][0-9]|2[0-3]):[0-5][0-9]$/,"Invalid time format"),endTime:Gr().regex(/^([0-1][0-9]|2[0-3]):[0-5][0-9]$/,"Invalid time format"),capacity:Tc().min(1,"Capacity must be at least 1").max(1e3,"Capacity cannot exceed 1000"),recurring:mO(),recurringType:e$(["daily","weekly","monthly"]),recurringCount:Tc().min(1,"Must create at least 1 session").max(52,"Cannot create more than 52 sessions")}),QNe=()=>{Bn();const[t,e]=j.useState([]),[r,n]=j.useState([]),[i,s]=j.useState(new Map),[a,c]=j.useState([]),[u,h]=j.useState(!0),[g,v]=j.useState(!1),[w,b]=j.useState(!1),[A,E]=j.useState(!1),[C,R]=j.useState(!1),[I,P]=j.useState(!1),[L,T]=j.useState(!1),[D,M]=j.useState(null),[$,V]=j.useState(null),[K,H]=j.useState(null),[z,Z]=j.useState(""),[W,G]=j.useState("all"),[J,ie]=j.useState("all"),[ne,ee]=j.useState("all"),[de,se]=j.useState("all"),[le,me]=j.useState("all"),[pe,Re]=j.useState("classes"),_e=Ac({resolver:Nc(XNe),defaultValues:{name:"",description:"",instructor:"",schedule:"",duration:60,capacity:20,category:"",image_url:"",is_active:!0}}),we=Ac({resolver:Nc(ZNe),defaultValues:{startDate:new Date,startTime:"09:00",endTime:"10:00",capacity:20,recurring:!1,recurringType:"weekly",recurringCount:4}});j.useEffect(()=>{Le(),je(),Fe()},[]);const Le=async()=>{try{h(!0);const{data:ae,error:Me}=await Se.from("classes").select("*").order("created_at",{ascending:!1});if(Me)throw Me;e(ae||[])}catch(ae){Ft({title:"Error loading classes",description:ae.message})}finally{h(!1)}},je=async()=>{try{v(!0);const{data:ae,error:Me}=await Se.from("class_sessions").select("*, classes(name, category)").order("start_time",{ascending:!1}).limit(100);if(Me)throw Me;if(n(ae||[]),ae&&ae.length>0){const lt=ae.map(Sr=>Sr.id),{data:ft,error:_r}=await Se.from("class_bookings").select("class_id, status").in("class_id",lt).neq("status","cancelled");if(!_r&&ft){const Sr=new Map;ae.forEach(kr=>{const Bt=ft.filter(Ur=>Ur.class_id===kr.id).length,ze=kr.capacity||0;Sr.set(kr.id,{session_id:kr.id,capacity:ze,booked:Bt,available:Math.max(0,ze-Bt)})}),s(Sr)}}}catch(ae){Ft({title:"Error loading sessions",description:ae.message})}finally{v(!1)}},Fe=async()=>{try{const{data:ae,error:Me}=await Se.from("classes").select("instructor");if(Me)throw Me;const{data:lt,error:ft}=await Se.from("class_sessions").select("instructor");if(ft)throw ft;const _r=new Map;ae?.forEach(kr=>{if(kr.instructor){const Bt=_r.get(kr.instructor)||{class_count:0,session_count:0};_r.set(kr.instructor,{...Bt,class_count:Bt.class_count+1})}}),lt?.forEach(kr=>{if(kr.instructor){const Bt=_r.get(kr.instructor)||{class_count:0,session_count:0};_r.set(kr.instructor,{...Bt,session_count:Bt.session_count+1})}});const Sr=Array.from(_r.entries()).map(([kr,Bt])=>({name:kr,...Bt}));c(Sr.sort((kr,Bt)=>kr.name.localeCompare(Bt.name)))}catch(ae){console.error("Error fetching instructors:",ae)}},We=j.useMemo(()=>t.filter(ae=>{const Me=z===""||ae.name.toLowerCase().includes(z.toLowerCase())||ae.instructor.toLowerCase().includes(z.toLowerCase())||ae.category?.toLowerCase().includes(z.toLowerCase()),lt=W==="all"||ae.category===W,ft=J==="all"||ae.instructor===J;return Me&&lt&&ft}),[t,z,W,J]),Oe=j.useMemo(()=>{const ae=new Set;return t.forEach(Me=>{Me.category&&ae.add(Me.category)}),Array.from(ae).sort()},[t]),et=j.useMemo(()=>r.filter(ae=>{const Me=ne==="all"||ae.instructor===ne,lt=de==="all"||ae.classes?.name===de,ft=le==="all"||ae.classes?.category===le;return Me&&lt&&ft}),[r,ne,de,le]),Ue=j.useMemo(()=>Array.from(new Set(r.map(Me=>Me.instructor).filter(Boolean))).sort(),[r]),st=j.useMemo(()=>Array.from(new Set(r.map(Me=>Me.classes?.name).filter(Boolean))).sort(),[r]),Et=j.useMemo(()=>Array.from(new Set(r.map(Me=>Me.classes?.category).filter(Boolean))).sort(),[r]),dt=async ae=>{try{if(D){const{error:Me}=await Se.from("classes").update(ae).eq("id",D.id);if(Me)throw Me;Jn("Class updated successfully")}else{const{error:Me}=await Se.from("classes").insert([ae]);if(Me)throw Me;Jn("Class created successfully")}b(!1),_e.reset(),M(null),await Le(),await Fe()}catch(Me){Ft({title:"Error",description:Me.message})}},kt=async ae=>{if(confirm("Are you sure you want to delete this class? This will not delete associated sessions."))try{const{error:Me}=await Se.from("classes").delete().eq("id",ae);if(Me)throw Me;Jn("Class deleted successfully"),await Le(),await Fe()}catch(Me){Ft({title:"Error",description:Me.message})}},ut=ae=>{M(ae),_e.reset({name:ae.name,description:ae.description||"",instructor:ae.instructor,schedule:ae.schedule,duration:ae.duration,capacity:ae.capacity,category:ae.category||"",image_url:ae.image_url||"",is_active:ae.is_active}),b(!0)},fe=ae=>{H(ae);const Me=ae.duration||60,lt=new Date;lt.setHours(9,0,0);const ft=new Date(lt);ft.setMinutes(ft.getMinutes()+Me),we.reset({startDate:lt,startTime:"09:00",endTime:at(ft,"HH:mm"),capacity:ae.capacity,recurring:!1,recurringType:"weekly",recurringCount:4}),E(!0)},he=async ae=>{if(K)try{const Me=[];if(ae.recurring){let ft=new Date(ae.startDate);const _r=ae.startTime.split(":"),Sr=ae.endTime.split(":");for(let kr=0;kr<ae.recurringCount;kr++){const Bt=new Date(ft);Bt.setHours(parseInt(_r[0]),parseInt(_r[1]),0);const ze=new Date(ft);ze.setHours(parseInt(Sr[0]),parseInt(Sr[1]),0),Me.push({class_id:K.id,name:K.name,instructor:K.instructor,start_time:Bt.toISOString(),end_time:ze.toISOString(),capacity:ae.capacity}),ae.recurringType==="daily"?ft=Li(ft,1):ae.recurringType==="weekly"?ft=by(ft,1):ae.recurringType==="monthly"&&(ft=Qi(ft,1))}}else{const ft=ae.startTime.split(":"),_r=ae.endTime.split(":"),Sr=new Date(ae.startDate);Sr.setHours(parseInt(ft[0]),parseInt(ft[1]),0);const kr=new Date(ae.startDate);kr.setHours(parseInt(_r[0]),parseInt(_r[1]),0),Me.push({class_id:K.id,name:K.name,instructor:K.instructor,start_time:Sr.toISOString(),end_time:kr.toISOString(),capacity:ae.capacity})}const{error:lt}=await Se.from("class_sessions").insert(Me);if(lt)throw lt;Jn(`Created ${Me.length} session(s) successfully`),E(!1),H(null),we.reset(),await je(),await Fe()}catch(Me){Ft({title:"Error",description:Me.message||"Failed to create session(s)"})}},Ne=async(ae,Me)=>{try{const{error:lt}=await Se.from("class_sessions").update({capacity:Me}).eq("id",ae);if(lt)throw lt;Jn("Session capacity updated successfully"),P(!1),V(null),await je()}catch(lt){Ft({title:"Error",description:lt.message})}},Ye=async ae=>{try{const{error:Me}=await Se.from("class_sessions").insert([ae]);if(Me)throw Me;Jn("Session created successfully"),await je()}catch(Me){throw Ft({title:"Error",description:Me.message||"Failed to create session"}),Me}},Ve=async(ae,Me)=>{try{const{error:lt}=await Se.from("class_sessions").update(Me).eq("id",ae);if(lt)throw lt;Jn("Session updated successfully"),await je()}catch(lt){throw Ft({title:"Error",description:lt.message||"Failed to update session"}),lt}},qe=async ae=>{try{const{error:Me}=await Se.from("class_sessions").delete().eq("id",ae);if(Me)throw Me;Jn("Session deleted successfully"),await je()}catch(Me){throw Ft({title:"Error",description:Me.message||"Failed to delete session"}),Me}};return u?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx(Ea,{size:"lg",text:"Loading classes..."})}):o.jsxs("div",{className:"container mx-auto p-6 space-y-6 max-w-7xl",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Class Management"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage classes, sessions, and instructors"})]}),o.jsxs(Xs,{open:w,onOpenChange:ae=>{b(ae),ae||(_e.reset(),M(null))},children:[o.jsx(PO,{asChild:!0,children:o.jsxs(Te,{onClick:()=>{_e.reset(),M(null)},children:[o.jsx(dl,{className:"w-4 h-4 mr-2"}),"Add Class"]})}),o.jsxs(Ss,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(Es,{children:[o.jsx(Cs,{children:D?"Edit Class":"Add New Class"}),o.jsx(Zs,{children:D?"Update class details":"Create a new gym class"})]}),o.jsx(kc,{..._e,children:o.jsxs("form",{onSubmit:_e.handleSubmit(dt),className:"space-y-4",children:[o.jsx(dr,{control:_e.control,name:"name",render:({field:ae})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Class Name *"}),o.jsx(or,{children:o.jsx(Nt,{...ae})}),o.jsx(pr,{})]})}),o.jsx(dr,{control:_e.control,name:"description",render:({field:ae})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Description"}),o.jsx(or,{children:o.jsx(fg,{...ae,rows:3})}),o.jsx(pr,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(dr,{control:_e.control,name:"instructor",render:({field:ae})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Instructor *"}),o.jsx(or,{children:o.jsx(Nt,{...ae,placeholder:"Instructor name"})}),o.jsx(pr,{})]})}),o.jsx(dr,{control:_e.control,name:"category",render:({field:ae})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Category"}),o.jsx(or,{children:o.jsx(Nt,{...ae,placeholder:"e.g., Cardio, Strength"})}),o.jsx(pr,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(dr,{control:_e.control,name:"duration",render:({field:ae})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Duration (minutes) *"}),o.jsx(or,{children:o.jsx(Nt,{type:"number",...ae,onChange:Me=>ae.onChange(parseInt(Me.target.value)||0),min:"1",max:"480"})}),o.jsx(pr,{})]})}),o.jsx(dr,{control:_e.control,name:"capacity",render:({field:ae})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Capacity *"}),o.jsx(or,{children:o.jsx(Nt,{type:"number",...ae,onChange:Me=>ae.onChange(parseInt(Me.target.value)||0),min:"1",max:"1000"})}),o.jsx(pr,{})]})})]}),o.jsx(dr,{control:_e.control,name:"image_url",render:({field:ae})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Image URL"}),o.jsx(or,{children:o.jsx(Nt,{...ae,placeholder:"https://example.com/image.jpg"})}),o.jsx(pr,{})]})}),o.jsx(dr,{control:_e.control,name:"is_active",render:({field:ae})=>o.jsxs(sr,{className:"flex items-center space-x-2 space-y-0",children:[o.jsx(or,{children:o.jsx(gc,{checked:ae.value,onCheckedChange:ae.onChange})}),o.jsx(ar,{children:"Active (visible to members)"})]})}),o.jsxs(wa,{children:[o.jsx(Te,{type:"button",variant:"outline",onClick:()=>b(!1),children:"Cancel"}),o.jsxs(Te,{type:"submit",children:[D?"Update":"Create"," Class"]})]})]})})]})]})]}),o.jsxs(Pg,{value:pe,onValueChange:ae=>Re(ae),children:[o.jsxs(Th,{children:[o.jsx(Yi,{value:"classes",children:"Classes"}),o.jsx(Yi,{value:"sessions",children:"Sessions"}),o.jsx(Yi,{value:"calendar",children:"Calendar"}),o.jsx(Yi,{value:"instructors",children:"Instructors"})]}),o.jsxs(Xi,{value:"classes",className:"space-y-4",children:[o.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[o.jsx(Xe,{className:"md:col-span-2",children:o.jsx(Ze,{className:"p-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(mj,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(Nt,{placeholder:"Search classes...",className:"pl-10",value:z,onChange:ae=>Z(ae.target.value)})]})})}),o.jsx(Xe,{children:o.jsx(Ze,{className:"p-4",children:o.jsxs(_n,{value:W,onValueChange:G,children:[o.jsx(dn,{children:o.jsx(Sn,{placeholder:"Category"})}),o.jsxs(fn,{children:[o.jsx(bt,{value:"all",children:"All Categories"}),Oe.map(ae=>o.jsx(bt,{value:ae,children:ae},ae))]})]})})}),o.jsx(Xe,{children:o.jsx(Ze,{className:"p-4",children:o.jsxs(_n,{value:J,onValueChange:ie,children:[o.jsx(dn,{children:o.jsx(Sn,{placeholder:"Instructor"})}),o.jsxs(fn,{children:[o.jsx(bt,{value:"all",children:"All Instructors"}),a.map(ae=>o.jsx(bt,{value:ae.name,children:ae.name},ae.name))]})]})})})]}),o.jsxs(Xe,{children:[o.jsxs(Ot,{children:[o.jsxs(Lt,{children:["All Classes (",We.length,")"]}),o.jsx(mr,{children:"Manage your gym's class schedule and create sessions"})]}),o.jsx(Ze,{children:We.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:"No classes found"}),o.jsxs(Te,{onClick:()=>b(!0),children:[o.jsx(dl,{className:"w-4 h-4 mr-2"}),"Create First Class"]})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Pc,{children:[o.jsx(Ic,{children:o.jsxs(Zi,{children:[o.jsx(Kt,{children:"Name"}),o.jsx(Kt,{children:"Instructor"}),o.jsx(Kt,{children:"Category"}),o.jsx(Kt,{children:"Duration"}),o.jsx(Kt,{children:"Capacity"}),o.jsx(Kt,{children:"Status"}),o.jsx(Kt,{className:"text-right",children:"Actions"})]})}),o.jsx(Rc,{children:We.map(ae=>o.jsxs(Zi,{children:[o.jsx(Ht,{className:"font-medium",children:ae.name}),o.jsx(Ht,{children:ae.instructor}),o.jsx(Ht,{children:ae.category||"-"}),o.jsxs(Ht,{children:[ae.duration," min"]}),o.jsx(Ht,{children:ae.capacity}),o.jsx(Ht,{children:o.jsx(cr,{variant:ae.is_active?"default":"secondary",children:ae.is_active?"Active":"Inactive"})}),o.jsx(Ht,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>ut(ae),children:o.jsx(zC,{className:"w-4 h-4"})}),o.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>fe(ae),children:o.jsx(ei,{className:"w-4 h-4"})}),o.jsx(Te,{variant:"destructive",size:"icon",onClick:()=>kt(ae.id),children:o.jsx(Tf,{className:"w-4 h-4"})})]})})]},ae.id))})]})})})]})]}),o.jsxs(Xi,{value:"sessions",className:"space-y-4",children:[o.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[o.jsx(Xe,{children:o.jsx(Ze,{className:"p-4",children:o.jsxs(_n,{value:ne,onValueChange:ee,children:[o.jsx(dn,{children:o.jsx(Sn,{placeholder:"All Instructors"})}),o.jsxs(fn,{children:[o.jsx(bt,{value:"all",children:"All Instructors"}),Ue.map(ae=>o.jsx(bt,{value:ae,children:ae},ae))]})]})})}),o.jsx(Xe,{children:o.jsx(Ze,{className:"p-4",children:o.jsxs(_n,{value:de,onValueChange:se,children:[o.jsx(dn,{children:o.jsx(Sn,{placeholder:"All Classes"})}),o.jsxs(fn,{children:[o.jsx(bt,{value:"all",children:"All Classes"}),st.map(ae=>o.jsx(bt,{value:ae,children:ae},ae))]})]})})}),o.jsx(Xe,{children:o.jsx(Ze,{className:"p-4",children:o.jsxs(_n,{value:le,onValueChange:me,children:[o.jsx(dn,{children:o.jsx(Sn,{placeholder:"All Categories"})}),o.jsxs(fn,{children:[o.jsx(bt,{value:"all",children:"All Categories"}),Et.map(ae=>o.jsx(bt,{value:ae,children:ae},ae))]})]})})}),o.jsx(Xe,{children:o.jsx(Ze,{className:"p-4",children:o.jsx(Te,{variant:"outline",className:"w-full",onClick:()=>{ee("all"),se("all"),me("all")},children:"Clear Filters"})})})]}),o.jsxs(Xe,{children:[o.jsxs(Ot,{children:[o.jsxs(Lt,{children:["Class Sessions (",et.length,")"]}),o.jsx(mr,{children:"View and manage class session capacity"})]}),o.jsx(Ze,{children:g?o.jsx(Ea,{size:"md",text:"Loading sessions..."}):et.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-muted-foreground",children:"No sessions found. Create sessions from classes."})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Pc,{children:[o.jsx(Ic,{children:o.jsxs(Zi,{children:[o.jsx(Kt,{children:"Class Name"}),o.jsx(Kt,{children:"Instructor"}),o.jsx(Kt,{children:"Start Time"}),o.jsx(Kt,{children:"Capacity"}),o.jsx(Kt,{children:"Booked"}),o.jsx(Kt,{children:"Available"}),o.jsx(Kt,{className:"text-right",children:"Actions"})]})}),o.jsx(Rc,{children:et.map(ae=>{const Me=i.get(ae.id);return o.jsxs(Zi,{children:[o.jsx(Ht,{className:"font-medium",children:ae.name}),o.jsx(Ht,{children:ae.instructor||"-"}),o.jsx(Ht,{children:at(Ut(ae.start_time),"MMM d, yyyy 'at' h:mm a")}),o.jsx(Ht,{children:ae.capacity||0}),o.jsx(Ht,{children:o.jsx(cr,{variant:Me&&Me.booked>=Me.capacity*.9?"destructive":"secondary",children:Me?.booked||0})}),o.jsx(Ht,{children:o.jsx(cr,{variant:Me&&Me.available<=5?"default":"outline",children:Me?.available||0})}),o.jsx(Ht,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(Te,{variant:"outline",size:"icon",onClick:()=>{V(ae),P(!0)},title:"Edit Capacity",children:o.jsx(wh,{className:"w-4 h-4"})}),o.jsx(Te,{variant:"outline",size:"icon",onClick:()=>{V(ae),R(!0)},title:"Edit Session",children:o.jsx(zC,{className:"w-4 h-4"})}),o.jsx(Te,{variant:"destructive",size:"icon",onClick:async()=>{if(confirm(`Are you sure you want to delete the session "${ae.name}"? This action cannot be undone.`))try{await qe(ae.id)}catch{}},title:"Delete Session",children:o.jsx(Tf,{className:"w-4 h-4"})})]})})]},ae.id)})})]})})})]})]}),o.jsxs(Xi,{value:"calendar",className:"space-y-4",children:[o.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[o.jsx(Xe,{children:o.jsx(Ze,{className:"p-4",children:o.jsxs(_n,{value:ne,onValueChange:ee,children:[o.jsx(dn,{children:o.jsx(Sn,{placeholder:"All Instructors"})}),o.jsxs(fn,{children:[o.jsx(bt,{value:"all",children:"All Instructors"}),Ue.map(ae=>o.jsx(bt,{value:ae,children:ae},ae))]})]})})}),o.jsx(Xe,{children:o.jsx(Ze,{className:"p-4",children:o.jsxs(_n,{value:de,onValueChange:se,children:[o.jsx(dn,{children:o.jsx(Sn,{placeholder:"All Classes"})}),o.jsxs(fn,{children:[o.jsx(bt,{value:"all",children:"All Classes"}),st.map(ae=>o.jsx(bt,{value:ae,children:ae},ae))]})]})})}),o.jsx(Xe,{children:o.jsx(Ze,{className:"p-4",children:o.jsxs(_n,{value:le,onValueChange:me,children:[o.jsx(dn,{children:o.jsx(Sn,{placeholder:"All Categories"})}),o.jsxs(fn,{children:[o.jsx(bt,{value:"all",children:"All Categories"}),Et.map(ae=>o.jsx(bt,{value:ae,children:ae},ae))]})]})})}),o.jsx(Xe,{children:o.jsx(Ze,{className:"p-4",children:o.jsx(Te,{variant:"outline",className:"w-full",onClick:()=>{ee("all"),se("all"),me("all")},children:"Clear Filters"})})})]}),o.jsxs(Xe,{children:[o.jsxs(Ot,{children:[o.jsx(Lt,{children:"Session Calendar"}),o.jsx(mr,{children:"View and manage class sessions in calendar format"})]}),o.jsx(Ze,{children:o.jsx(KNe,{sessions:et,classes:t,onAddSession:Ye,onEditSession:Ve,onDeleteSession:qe})})]})]}),o.jsx(Xi,{value:"instructors",className:"space-y-4",children:o.jsxs(Xe,{children:[o.jsxs(Ot,{children:[o.jsx(Lt,{children:"Instructors"}),o.jsx(mr,{children:"View instructor statistics and assignments"})]}),o.jsx(Ze,{children:a.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-muted-foreground",children:"No instructors found. Add instructors when creating classes."})}):o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(ae=>o.jsx(Xe,{children:o.jsxs(Ze,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-semibold text-lg",children:ae.name}),o.jsx(VB,{className:"w-5 h-5 text-primary"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Classes"}),o.jsx(cr,{variant:"secondary",children:ae.class_count})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Sessions"}),o.jsx(cr,{variant:"secondary",children:ae.session_count})]})]})]})},ae.name))})})]})})]}),o.jsx(Xs,{open:A,onOpenChange:E,children:o.jsxs(Ss,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(Es,{children:[o.jsxs(Cs,{children:["Create Class Session",we.watch("recurring")?"s":""]}),o.jsx(Zs,{children:K&&o.jsxs(o.Fragment,{children:["Create session",we.watch("recurring")?"s":""," for ",o.jsx("strong",{children:K.name})]})})]}),o.jsx(kc,{...we,children:o.jsxs("form",{onSubmit:we.handleSubmit(he),className:"space-y-4",children:[o.jsx(dr,{control:we.control,name:"startDate",render:({field:ae})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Start Date *"}),o.jsxs(Om,{children:[o.jsx(Tm,{asChild:!0,children:o.jsx(or,{children:o.jsxs(Te,{variant:"outline",className:De("w-full justify-start text-left font-normal",!ae.value&&"text-muted-foreground"),children:[o.jsx(ei,{className:"mr-2 h-4 w-4"}),ae.value?at(ae.value,"PPP"):o.jsx("span",{children:"Pick a date"})]})})}),o.jsx(qf,{className:"w-auto p-0",align:"start",children:o.jsx($f,{mode:"single",selected:ae.value,onSelect:ae.onChange,initialFocus:!0})})]}),o.jsx(pr,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(dr,{control:we.control,name:"startTime",render:({field:ae})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Start Time *"}),o.jsx(or,{children:o.jsx(Nt,{type:"time",...ae})}),o.jsx(pr,{})]})}),o.jsx(dr,{control:we.control,name:"endTime",render:({field:ae})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"End Time *"}),o.jsx(or,{children:o.jsx(Nt,{type:"time",...ae})}),o.jsx(pr,{})]})})]}),o.jsx(dr,{control:we.control,name:"capacity",render:({field:ae})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Capacity *"}),o.jsx(or,{children:o.jsx(Nt,{type:"number",...ae,onChange:Me=>ae.onChange(parseInt(Me.target.value)||0),min:"1",max:"1000"})}),o.jsx(pr,{})]})}),o.jsx(dr,{control:we.control,name:"recurring",render:({field:ae})=>o.jsxs(sr,{className:"flex items-center space-x-2 space-y-0",children:[o.jsx(or,{children:o.jsx(gc,{checked:ae.value,onCheckedChange:ae.onChange})}),o.jsxs(ar,{className:"flex items-center gap-2",children:[o.jsx(vY,{className:"w-4 h-4"}),"Create recurring sessions"]})]})}),we.watch("recurring")&&o.jsxs("div",{className:"space-y-4 pl-6 border-l-2",children:[o.jsx(dr,{control:we.control,name:"recurringType",render:({field:ae})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Repeat Every"}),o.jsxs(_n,{onValueChange:ae.onChange,value:ae.value,children:[o.jsx(or,{children:o.jsx(dn,{children:o.jsx(Sn,{})})}),o.jsxs(fn,{children:[o.jsx(bt,{value:"daily",children:"Day"}),o.jsx(bt,{value:"weekly",children:"Week"}),o.jsx(bt,{value:"monthly",children:"Month"})]})]}),o.jsx(pr,{})]})}),o.jsx(dr,{control:we.control,name:"recurringCount",render:({field:ae})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Number of Sessions *"}),o.jsx(or,{children:o.jsx(Nt,{type:"number",...ae,onChange:Me=>ae.onChange(parseInt(Me.target.value)||0),min:"1",max:"52"})}),o.jsxs(_s,{children:["Will create ",we.watch("recurringCount")," session(s) starting from the selected date"]}),o.jsx(pr,{})]})})]}),o.jsxs(wa,{children:[o.jsx(Te,{type:"button",variant:"outline",onClick:()=>E(!1),children:"Cancel"}),o.jsxs(Te,{type:"submit",children:["Create Session",we.watch("recurring")?"s":""]})]})]})})]})}),o.jsx(Xs,{open:C,onOpenChange:ae=>{R(ae),ae||V(null)},children:o.jsxs(Ss,{className:"max-w-md",children:[o.jsxs(Es,{children:[o.jsx(Cs,{children:"Edit Session"}),o.jsx(Zs,{children:"Update session details"})]}),$&&o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{children:[o.jsx(Qt,{children:"Session Name"}),o.jsx(Nt,{id:"edit-session-name",defaultValue:$.name,onChange:ae=>{$&&V({...$,name:ae.target.value})}})]}),o.jsxs("div",{children:[o.jsx(Qt,{children:"Instructor"}),o.jsx(Nt,{id:"edit-session-instructor",defaultValue:$.instructor||"",onChange:ae=>{$&&V({...$,instructor:ae.target.value})}})]}),o.jsxs("div",{children:[o.jsx(Qt,{children:"Link to Class Template (Optional)"}),o.jsxs(_n,{value:$.class_id||"none",onValueChange:ae=>{$&&V({...$,class_id:ae==="none"?null:ae})},children:[o.jsx(dn,{children:o.jsx(Sn,{placeholder:"Select a class"})}),o.jsxs(fn,{children:[o.jsx(bt,{value:"none",children:"None"}),t.map(ae=>o.jsx(bt,{value:ae.id,children:ae.name},ae.id))]})]})]}),o.jsxs("div",{children:[o.jsx(Qt,{children:"Date"}),o.jsxs(Om,{children:[o.jsx(Tm,{asChild:!0,children:o.jsxs(Te,{variant:"outline",className:De("w-full justify-start text-left font-normal",!$.start_time&&"text-muted-foreground"),children:[o.jsx(ei,{className:"mr-2 h-4 w-4"}),$.start_time?at(Ut($.start_time),"PPP"):"Pick a date"]})}),o.jsx(qf,{className:"w-auto p-0",children:o.jsx($f,{mode:"single",selected:$.start_time?Ut($.start_time):void 0,onSelect:ae=>{if(ae&&$){const Me=Ut($.start_time),lt=new Date(ae);lt.setHours(Me.getHours(),Me.getMinutes(),0,0);const ft=Ut($.end_time).getTime()-Me.getTime(),_r=new Date(lt.getTime()+ft);V({...$,start_time:lt.toISOString(),end_time:_r.toISOString()})}},initialFocus:!0})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Qt,{children:"Start Time"}),o.jsx(Nt,{type:"time",defaultValue:$.start_time?at(Ut($.start_time),"HH:mm"):"",onChange:ae=>{if($&&ae.target.value){const[Me,lt]=ae.target.value.split(":").map(Number),ft=Ut($.start_time);ft.setHours(Me,lt,0,0);const _r=Ut($.end_time).getTime()-Ut($.start_time).getTime(),Sr=new Date(ft.getTime()+_r);V({...$,start_time:ft.toISOString(),end_time:Sr.toISOString()})}}})]}),o.jsxs("div",{children:[o.jsx(Qt,{children:"End Time"}),o.jsx(Nt,{type:"time",defaultValue:$.end_time?at(Ut($.end_time),"HH:mm"):"",onChange:ae=>{if($&&ae.target.value){const[Me,lt]=ae.target.value.split(":").map(Number),ft=Ut($.end_time);ft.setHours(Me,lt,0,0),V({...$,end_time:ft.toISOString()})}}})]})]}),o.jsxs("div",{children:[o.jsx(Qt,{children:"Capacity"}),o.jsx(Nt,{type:"number",min:"1",defaultValue:$.capacity||20,onChange:ae=>{$&&V({...$,capacity:parseInt(ae.target.value)||20})}})]})]}),o.jsxs(wa,{children:[o.jsx(Te,{variant:"outline",onClick:()=>{R(!1),V(null)},children:"Cancel"}),o.jsx(Te,{onClick:async()=>{if($)try{await Ve($.id,{name:$.name,instructor:$.instructor,start_time:$.start_time,end_time:$.end_time,capacity:$.capacity,class_id:$.class_id}),R(!1),V(null)}catch{}},children:"Update Session"})]})]})}),o.jsx(Xs,{open:I,onOpenChange:P,children:o.jsxs(Ss,{children:[o.jsxs(Es,{children:[o.jsx(Cs,{children:"Edit Session Capacity"}),o.jsx(Zs,{children:$&&`Update capacity for ${$.name}`})]}),$&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Qt,{children:"Current Capacity"}),o.jsx(Nt,{type:"number",value:$.capacity||0,readOnly:!0})]}),o.jsxs("div",{children:[o.jsx(Qt,{children:"New Capacity"}),o.jsx(Nt,{type:"number",id:"new-capacity",min:"1",max:"1000",defaultValue:$.capacity||0,onKeyDown:ae=>{if(ae.key==="Enter"){const Me=ae.target;Ne($.id,parseInt(Me.value)||0)}}})]}),i.has($.id)&&o.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[o.jsx("p",{className:"text-sm font-medium mb-2",children:"Current Status"}),o.jsxs("div",{className:"space-y-1 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Booked:"}),o.jsx("span",{className:"font-medium",children:i.get($.id)?.booked||0})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Available:"}),o.jsx("span",{className:"font-medium",children:i.get($.id)?.available||0})]})]})]}),o.jsxs(wa,{children:[o.jsx(Te,{variant:"outline",onClick:()=>P(!1),children:"Cancel"}),o.jsx(Te,{onClick:()=>{const ae=document.getElementById("new-capacity");ae&&Ne($.id,parseInt(ae.value)||0)},children:"Update Capacity"})]})]})]})})]})},JNe=To({name:Gr().min(1,"Name is required").max(100,"Name is too long"),price:Gr().refine(t=>{if(!t)return!0;const e=parseFloat(t);return!isNaN(e)&&e>=0},"Price must be a valid number"),duration_days:Gr().refine(t=>{if(!t)return!0;const e=parseInt(t);return!isNaN(e)&&e>0},"Duration must be a positive number"),access_level:Gr().optional()}),eje=()=>{const[t,e]=j.useState([]),[r,n]=j.useState(!0),[i,s]=j.useState(!1),[a,c]=j.useState(!1),[u,h]=j.useState(null),[g,v]=j.useState(null),[w,b]=j.useState(null),[A,E]=j.useState([]);Bn();const C=ii(),R=Ac({resolver:Nc(JNe),defaultValues:{name:"",price:"",duration_days:"",access_level:""}});j.useEffect(()=>{I(),P(),L()},[]);const I=async()=>{try{n(!0);const{data:K,error:H}=await Se.from("memberships").select("*").order("name");if(H)throw H;e(K||[])}catch(K){Ft({title:"Error loading memberships",description:K.message})}finally{n(!1)}},P=async()=>{try{const{data:K,error:H}=await Se.from("user_memberships").select("status, payment_status, memberships(price)");if(H)throw H;const z=new Date;let Z=0,W=0,G=0;K?.forEach(J=>{J.status==="active"&&J.payment_status==="paid"?(W++,J.memberships?.price&&(Z+=parseFloat(J.memberships.price.toString()))):J.status==="expired"&&G++}),b({total_memberships:K?.length||0,active_memberships:W,expired_memberships:G,total_revenue:Z,renewals_due_soon:A.length})}catch(K){console.error("Error fetching statistics:",K)}},L=async()=>{try{const K=new Date,H=Li(K,30),{data:z,error:Z}=await Se.from("user_memberships").select("*, profiles(full_name), memberships(name)").eq("status","active").eq("payment_status","paid").gte("end_date",K.toISOString()).lte("end_date",H.toISOString()).order("end_date",{ascending:!0});if(Z)throw Z;const W=(z||[]).map(G=>({user_id:G.user_id,user_name:G.profiles?.full_name||"Unknown",membership_name:G.memberships?.name||"Unknown",end_date:G.end_date,days_remaining:Boe(new Date(G.end_date),K)}));E(W),w&&b({...w,renewals_due_soon:W.length})}catch(K){console.error("Error fetching renewal reminders:",K)}},T=()=>{R.reset({name:"",price:"",duration_days:"",access_level:""}),v(null)},D=async K=>{try{const H={name:K.name,price:K.price?parseFloat(K.price):null,duration_days:K.duration_days?parseInt(K.duration_days):null,access_level:K.access_level||null};if(g){const{error:z}=await Se.from("memberships").update(H).eq("id",g.id);if(z)throw z;Jn("Membership updated successfully")}else{const{error:z}=await Se.from("memberships").insert([H]);if(z)throw z;Jn("Membership created successfully")}s(!1),T(),await I(),await P()}catch(H){Ft({title:"Error",description:H.message})}},M=K=>{v(K),R.reset({name:K.name,price:K.price?.toString()||"",duration_days:K.duration_days?.toString()||"",access_level:K.access_level||""}),s(!0)},$=K=>{h(K),c(!0)},V=async()=>{if(u)try{const{data:K,error:H}=await Se.from("user_memberships").select("id").eq("membership_id",u.id).limit(1);if(H)throw H;if(K&&K.length>0){Ft({title:"Cannot delete",description:"This membership is assigned to users. Please remove all assignments first."}),c(!1);return}const{error:z}=await Se.from("memberships").delete().eq("id",u.id);if(z)throw z;Jn("Membership deleted successfully"),c(!1),h(null),await I(),await P()}catch(K){Ft({title:"Error",description:K.message})}};return r?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx(Ea,{size:"lg",text:"Loading memberships..."})}):o.jsxs("div",{className:"container mx-auto p-6 space-y-6 max-w-7xl",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Membership Management"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Create and manage membership plans"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Te,{variant:"outline",onClick:()=>C("/admin/usermemberships"),children:[o.jsx(VB,{className:"h-4 w-4 mr-2"}),"Assign to Users"]}),o.jsx(Xs,{open:i,onOpenChange:K=>{s(K),K||T()},children:o.jsxs(Ss,{className:"max-w-md",children:[o.jsxs(Es,{children:[o.jsx(Cs,{children:g?"Edit Membership":"Add New Membership"}),o.jsx(Zs,{children:g?"Update membership plan details":"Create a new membership plan"})]}),o.jsx(kc,{...R,children:o.jsxs("form",{onSubmit:R.handleSubmit(D),className:"space-y-4",children:[o.jsx(dr,{control:R.control,name:"name",render:({field:K})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Name *"}),o.jsx(or,{children:o.jsx(Nt,{placeholder:"e.g., Gold Membership",...K})}),o.jsx(pr,{})]})}),o.jsx(dr,{control:R.control,name:"price",render:({field:K})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Price ()"}),o.jsx(or,{children:o.jsx(Nt,{type:"number",step:"0.01",placeholder:"e.g., 49.99",...K})}),o.jsx(_s,{children:"Monthly or one-time price"}),o.jsx(pr,{})]})}),o.jsx(dr,{control:R.control,name:"duration_days",render:({field:K})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Duration (Days)"}),o.jsx(or,{children:o.jsx(Nt,{type:"number",placeholder:"e.g., 30",...K})}),o.jsx(_s,{children:"Number of days the membership is valid"}),o.jsx(pr,{})]})}),o.jsx(dr,{control:R.control,name:"access_level",render:({field:K})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Access Level"}),o.jsx(or,{children:o.jsx(Nt,{placeholder:"e.g., Full Access",...K})}),o.jsx(_s,{children:"Description of access level"}),o.jsx(pr,{})]})}),o.jsxs(wa,{children:[o.jsx(Te,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),o.jsxs(Te,{type:"submit",children:[g?"Update":"Create"," Membership"]})]})]})})]})}),o.jsxs(Te,{onClick:()=>s(!0),children:[o.jsx(dl,{className:"h-4 w-4 mr-2"}),"Add Membership"]})]})]}),o.jsxs(Pg,{defaultValue:"plans",className:"space-y-6",children:[o.jsxs(Th,{children:[o.jsx(Yi,{value:"plans",children:"Membership Plans"}),o.jsx(Yi,{value:"statistics",children:"Statistics"}),o.jsx(Yi,{value:"renewals",children:"Renewal Reminders"})]}),o.jsx(Xi,{value:"plans",children:o.jsxs(Xe,{children:[o.jsxs(Ot,{children:[o.jsx(Lt,{children:"Membership Plans"}),o.jsx(mr,{children:"Manage all available membership plans"})]}),o.jsx(Ze,{children:t.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:"No memberships found"}),o.jsxs(Te,{onClick:()=>s(!0),children:[o.jsx(dl,{className:"h-4 w-4 mr-2"}),"Create First Membership"]})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Pc,{children:[o.jsx(Ic,{children:o.jsxs(Zi,{children:[o.jsx(Kt,{children:"Name"}),o.jsx(Kt,{children:"Price"}),o.jsx(Kt,{children:"Duration"}),o.jsx(Kt,{children:"Access Level"}),o.jsx(Kt,{children:"Created"}),o.jsx(Kt,{className:"text-right",children:"Actions"})]})}),o.jsx(Rc,{children:t.map(K=>o.jsxs(Zi,{children:[o.jsx(Ht,{className:"font-medium",children:K.name}),o.jsx(Ht,{children:K.price?`${K.price.toFixed(2)}`:"-"}),o.jsx(Ht,{children:K.duration_days?`${K.duration_days} days`:"-"}),o.jsx(Ht,{children:K.access_level||"-"}),o.jsx(Ht,{children:at(new Date(K.created_at),"MMM d, yyyy")}),o.jsx(Ht,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>M(K),children:o.jsx(wh,{className:"h-4 w-4"})}),o.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>$(K),children:o.jsx(Tf,{className:"h-4 w-4 text-destructive"})})]})})]},K.id))})]})})})]})}),o.jsxs(Xi,{value:"statistics",children:[o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[o.jsx(Xe,{children:o.jsxs(Ze,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Memberships"}),o.jsx(wl,{className:"w-5 h-5 text-primary"})]}),o.jsx("div",{className:"text-2xl font-bold",children:w?.total_memberships||0}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"All user memberships"})]})}),o.jsx(Xe,{children:o.jsxs(Ze,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Active"}),o.jsx(Sc,{className:"w-5 h-5 text-success"})]}),o.jsx("div",{className:"text-2xl font-bold",children:w?.active_memberships||0}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Currently active"})]})}),o.jsx(Xe,{children:o.jsxs(Ze,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Expired"}),o.jsx(xh,{className:"w-5 h-5 text-destructive"})]}),o.jsx("div",{className:"text-2xl font-bold",children:w?.expired_memberships||0}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"No longer active"})]})}),o.jsx(Xe,{children:o.jsxs(Ze,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Revenue"}),o.jsx(kf,{className:"w-5 h-5 text-accent"})]}),o.jsxs("div",{className:"text-2xl font-bold",children:["",w?.total_revenue.toFixed(2)||"0.00"]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"From paid memberships"})]})})]}),o.jsxs(Xe,{children:[o.jsx(Ot,{children:o.jsxs(Lt,{className:"flex items-center gap-2",children:[o.jsx(fj,{className:"w-5 h-5"}),"Membership Overview"]})}),o.jsx(Ze,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-muted/30",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Membership Plans Available"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.length," plan",t.length!==1?"s":""," configured"]})]}),o.jsx(cr,{variant:"secondary",children:t.length})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-muted/30",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Renewals Due Soon"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Memberships expiring in next 30 days"})]}),o.jsx(cr,{variant:A.length>0?"destructive":"secondary",children:A.length})]})]})})]})]}),o.jsx(Xi,{value:"renewals",children:o.jsxs(Xe,{children:[o.jsxs(Ot,{children:[o.jsxs(Lt,{className:"flex items-center gap-2",children:[o.jsx(ul,{className:"w-5 h-5"}),"Renewal Reminders"]}),o.jsx(mr,{children:"Memberships expiring in the next 30 days"})]}),o.jsx(Ze,{children:A.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Sc,{className:"w-12 h-12 mx-auto text-success mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"No renewals due in the next 30 days"})]}):o.jsx("div",{className:"space-y-3",children:A.map(K=>o.jsxs("div",{className:`p-4 rounded-lg border flex items-start justify-between ${K.days_remaining<=7?"bg-destructive/10 border-destructive":K.days_remaining<=14?"bg-orange-500/10 border-orange-500":"bg-muted/30"}`,children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h3",{className:"font-medium",children:K.user_name}),o.jsxs(cr,{variant:K.days_remaining<=7?"destructive":K.days_remaining<=14?"default":"secondary",children:[K.days_remaining<=7?o.jsx(cl,{className:"w-3 h-3 mr-1"}):o.jsx(ul,{className:"w-3 h-3 mr-1"}),K.days_remaining," day",K.days_remaining!==1?"s":""," remaining"]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[K.membership_name,"  Expires ",at(new Date(K.end_date),"MMM d, yyyy")]})]}),o.jsx(Te,{variant:"outline",size:"sm",onClick:()=>C(`/admin/usermemberships?user=${K.user_id}`),children:"Manage"})]},`${K.user_id}-${K.end_date}`))})})]})})]}),o.jsx(RO,{open:a,onOpenChange:c,children:o.jsxs(ux,{children:[o.jsxs(dx,{children:[o.jsx(hx,{children:"Delete Membership"}),o.jsxs(px,{children:['Are you sure you want to delete "',u?.name,'"? This action cannot be undone.',u&&o.jsx("div",{className:"mt-2 p-2 bg-destructive/10 rounded text-destructive text-sm",children:"Note: This membership cannot be deleted if it's assigned to any users."})]})]}),o.jsxs(fx,{children:[o.jsx(gx,{children:"Cancel"}),o.jsx(mx,{onClick:V,className:"bg-destructive hover:bg-destructive/90",children:"Delete"})]})]})})]})},tje=()=>{const[t,e]=j.useState([]),[r,n]=j.useState([]),[i,s]=j.useState([]),[a,c]=j.useState(!0),[u,h]=j.useState(!1),[g,v]=j.useState(null),{toast:w}=Bn(),[b,A]=j.useState({user_id:"",membership_id:"",start_date:"",end_date:"",status:"active",payment_status:"paid",payment_method:"stripe"});j.useEffect(()=>{E()},[]);const E=async()=>{try{const[T,D,M]=await Promise.all([Se.from("user_memberships").select("*, profiles(full_name), memberships(name)").order("created_at",{ascending:!1}),Se.from("profiles").select("id, full_name"),Se.from("memberships").select("id, name, duration_days")]);if(T.error)throw T.error;if(D.error)throw D.error;if(M.error)throw M.error;e(T.data||[]),n(D.data||[]),s(M.data||[])}catch(T){w({variant:"destructive",title:"Error",description:T.message})}finally{c(!1)}},C=()=>{A({user_id:"",membership_id:"",start_date:"",end_date:"",status:"active",payment_status:"paid",payment_method:"stripe"}),v(null)},R=(T,D)=>{const M=i.find(K=>K.id===D);if(!M?.duration_days)return"";const $=new Date(T),V=new Date($);return V.setDate(V.getDate()+M.duration_days),V.toISOString().split("T")[0]},I=async T=>{T.preventDefault();try{const D={user_id:b.user_id,membership_id:b.membership_id,start_date:b.start_date,end_date:b.end_date,status:b.status,payment_status:b.payment_status,payment_method:b.payment_method};if(g){const{error:M}=await Se.from("user_memberships").update(D).eq("id",g.id);if(M)throw M;w({title:"Success",description:"User membership updated successfully"})}else{const{error:M}=await Se.from("user_memberships").insert([D]);if(M)throw M;w({title:"Success",description:"User membership created successfully"})}h(!1),C(),E()}catch(D){w({variant:"destructive",title:"Error",description:D.message})}},P=T=>{v(T),A({user_id:T.user_id,membership_id:T.membership_id,start_date:T.start_date.split("T")[0],end_date:T.end_date.split("T")[0],status:T.status,payment_status:T.payment_status,payment_method:T.payment_method||"stripe"}),h(!0)},L=async T=>{if(confirm("Are you sure you want to delete this user membership?"))try{const{error:D}=await Se.from("user_memberships").delete().eq("id",T);if(D)throw D;w({title:"Success",description:"User membership deleted successfully"}),E()}catch(D){w({variant:"destructive",title:"Error",description:D.message})}};return a?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx(Bi,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"User Memberships"}),o.jsxs(Xs,{open:u,onOpenChange:T=>{h(T),T||C()},children:[o.jsx(PO,{asChild:!0,children:o.jsxs(Te,{children:[o.jsx(dl,{className:"h-4 w-4 mr-2"}),"Assign Membership"]})}),o.jsxs(Ss,{children:[o.jsx(Es,{children:o.jsx(Cs,{children:g?"Edit User Membership":"Assign Membership"})}),o.jsxs("form",{onSubmit:I,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Qt,{htmlFor:"user_id",children:"User *"}),o.jsxs(_n,{value:b.user_id,onValueChange:T=>A({...b,user_id:T}),required:!0,children:[o.jsx(dn,{children:o.jsx(Sn,{placeholder:"Select user"})}),o.jsx(fn,{children:r.map(T=>o.jsx(bt,{value:T.id,children:T.full_name||"Unnamed User"},T.id))})]})]}),o.jsxs("div",{children:[o.jsx(Qt,{htmlFor:"membership_id",children:"Membership *"}),o.jsxs(_n,{value:b.membership_id,onValueChange:T=>{const D={...b,membership_id:T};b.start_date&&(D.end_date=R(b.start_date,T)),A(D)},required:!0,children:[o.jsx(dn,{children:o.jsx(Sn,{placeholder:"Select membership"})}),o.jsx(fn,{children:i.map(T=>o.jsx(bt,{value:T.id,children:T.name},T.id))})]})]}),o.jsxs("div",{children:[o.jsx(Qt,{htmlFor:"start_date",children:"Start Date *"}),o.jsx(Nt,{id:"start_date",type:"date",value:b.start_date,onChange:T=>{const D={...b,start_date:T.target.value};b.membership_id&&(D.end_date=R(T.target.value,b.membership_id)),A(D)},required:!0})]}),o.jsxs("div",{children:[o.jsx(Qt,{htmlFor:"end_date",children:"End Date *"}),o.jsx(Nt,{id:"end_date",type:"date",value:b.end_date,onChange:T=>A({...b,end_date:T.target.value}),required:!0})]}),o.jsxs("div",{children:[o.jsx(Qt,{htmlFor:"status",children:"Status *"}),o.jsxs(_n,{value:b.status,onValueChange:T=>A({...b,status:T}),required:!0,children:[o.jsx(dn,{children:o.jsx(Sn,{})}),o.jsxs(fn,{children:[o.jsx(bt,{value:"active",children:"Active"}),o.jsx(bt,{value:"expired",children:"Expired"}),o.jsx(bt,{value:"cancelled",children:"Cancelled"})]})]})]}),o.jsxs("div",{children:[o.jsx(Qt,{htmlFor:"payment_status",children:"Payment Status *"}),o.jsxs(_n,{value:b.payment_status,onValueChange:T=>A({...b,payment_status:T}),required:!0,children:[o.jsx(dn,{children:o.jsx(Sn,{})}),o.jsxs(fn,{children:[o.jsx(bt,{value:"paid",children:"Paid"}),o.jsx(bt,{value:"pending",children:"Pending"}),o.jsx(bt,{value:"failed",children:"Failed"})]})]})]}),o.jsxs("div",{children:[o.jsx(Qt,{htmlFor:"payment_method",children:"Payment Method *"}),o.jsxs(_n,{value:b.payment_method,onValueChange:T=>A({...b,payment_method:T}),required:!0,children:[o.jsx(dn,{children:o.jsx(Sn,{placeholder:"Select payment method"})}),o.jsxs(fn,{children:[o.jsx(bt,{value:"stripe",children:"Stripe"}),o.jsx(bt,{value:"cash",children:"Cash"}),o.jsx(bt,{value:"card",children:"Card"}),o.jsx(bt,{value:"bank_transfer",children:"Bank Transfer"}),o.jsx(bt,{value:"other",children:"Other"})]})]})]}),o.jsxs(Te,{type:"submit",className:"w-full",children:[g?"Update":"Assign"," Membership"]})]})]})]})]}),o.jsxs(Xe,{children:[o.jsx(Ot,{children:o.jsx(Lt,{children:"Active User Memberships"})}),o.jsx(Ze,{children:o.jsxs(Pc,{children:[o.jsx(Ic,{children:o.jsxs(Zi,{children:[o.jsx(Kt,{children:"User"}),o.jsx(Kt,{children:"Membership"}),o.jsx(Kt,{children:"Start Date"}),o.jsx(Kt,{children:"End Date"}),o.jsx(Kt,{children:"Status"}),o.jsx(Kt,{children:"Payment Status"}),o.jsx(Kt,{children:"Payment Method"}),o.jsx(Kt,{children:"Actions"})]})}),o.jsx(Rc,{children:t.length===0?o.jsx(Zi,{children:o.jsx(Ht,{colSpan:8,className:"text-center text-muted-foreground",children:"No user memberships found"})}):t.map(T=>o.jsxs(Zi,{children:[o.jsx(Ht,{className:"font-medium",children:T.profiles?.full_name||"Unknown User"}),o.jsx(Ht,{children:T.memberships?.name||"Unknown"}),o.jsx(Ht,{children:at(new Date(T.start_date),"MMM dd, yyyy")}),o.jsx(Ht,{children:at(new Date(T.end_date),"MMM dd, yyyy")}),o.jsx(Ht,{children:o.jsx("span",{className:`px-2 py-1 rounded text-xs ${T.status==="active"?"bg-green-100 text-green-800":T.status==="expired"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:T.status})}),o.jsx(Ht,{children:o.jsx("span",{className:`px-2 py-1 rounded text-xs ${T.payment_status==="paid"?"bg-green-100 text-green-800":T.payment_status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:T.payment_status})}),o.jsx(Ht,{children:T.payment_method?o.jsx("span",{className:"px-2 py-1 rounded text-xs bg-blue-100 text-blue-800 capitalize",children:T.payment_method.replace("_"," ")}):o.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})}),o.jsx(Ht,{children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>P(T),children:o.jsx(wh,{className:"h-4 w-4"})}),o.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>L(T.id),children:o.jsx(Tf,{className:"h-4 w-4 text-destructive"})})]})})]},T.id))})]})})]})]})},rje=Gr().min(1,"Coupon code is required").max(50,"Coupon code must be less than 50 characters").regex(/^[A-Z0-9_-]+$/,"Coupon code can only contain uppercase letters, numbers, hyphens, and underscores").transform(t=>t.toUpperCase().trim()),nje=e$(["percentage","money_off"],{errorMap:()=>({message:"Coupon type must be either 'percentage' or 'money_off'"})});Tc().positive("Value must be greater than 0").max(1e5,"Value must be less than 100,000");Tc().positive("Value must be greater than 0").refine((t,e)=>(e.path[0]==="type"?e.parent?.type:void 0)==="percentage"?t<=100:!0,{message:"Percentage value must be between 0 and 100"});const ije=Tc().int("Usage limit must be a whole number").min(1,"Usage limit must be at least 1").max(1e6,"Usage limit must be less than 1,000,000").nullable().optional(),sje=Gr().max(500,"Description must be less than 500 characters").trim().optional().nullable(),aje=To({code:rje,type:nje,value:Tc().positive("Value must be greater than 0").max(1e5,"Value must be less than 100,000"),description:sje,is_active:mO().default(!0),usage_limit:ije,valid_from:jA(),valid_until:jA().nullable().optional()}).refine(t=>!(t.type==="percentage"&&t.value>100),{message:"Percentage value must be between 0 and 100",path:["value"]}).refine(t=>!(t.valid_until&&t.valid_until<t.valid_from),{message:"Valid until date must be after valid from date",path:["valid_until"]}),oje=()=>{const[t,e]=j.useState([]),[r,n]=j.useState([]),[i,s]=j.useState(!0),[a,c]=j.useState(!1),[u,h]=j.useState(!1),[g,v]=j.useState(!1),[w,b]=j.useState(null),[A,E]=j.useState(null),[C,R]=j.useState(null),[I,P]=j.useState(null);Bn();const L=Ac({resolver:Nc(aje),defaultValues:{code:"",type:"percentage",value:0,description:"",is_active:!0,usage_limit:null,valid_from:new Date,valid_until:null}});j.useEffect(()=>{T(),M()},[]);const T=async()=>{try{s(!0);const{data:{user:W}}=await Se.auth.getUser();if(!W)return;const{data:G,error:J}=await Se.from("coupon_codes").select("*").order("created_at",{ascending:!1});if(J)throw J;const ie=await Promise.all((G||[]).map(async ne=>{const ee=await Z(ne.id);return{...ne,usage_count:ee}}));e(ie)}catch(W){Ft({title:"Error loading coupons",description:W.message})}finally{s(!1)}},D=async W=>{try{c(!0);let G=Se.from("coupon_usage").select(`
          *,
          profiles(full_name),
          coupon_codes(code, type, value)
        `).order("used_at",{ascending:!1});W&&(G=G.eq("coupon_id",W));const{data:J,error:ie}=await G;if(ie)throw ie;n(J||[])}catch(G){Ft({title:"Error loading usage",description:G.message})}finally{c(!1)}};j.useEffect(()=>{I?D(I):D()},[I]);const M=async()=>{try{const{data:W,error:G}=await Se.from("coupon_codes").select("id, is_active");if(G)throw G;const{data:J,error:ie}=await Se.from("coupon_usage").select("user_id");if(ie)throw ie;const ne=W?.filter(se=>se.is_active).length||0,ee=W?.filter(se=>!se.is_active).length||0,de=new Set(J?.map(se=>se.user_id)||[]).size;R({total_coupons:W?.length||0,active_coupons:ne,inactive_coupons:ee,total_uses:J?.length||0,unique_users:de})}catch(W){console.error("Error fetching statistics:",W)}},$=()=>{L.reset({code:"",type:"percentage",value:0,description:"",is_active:!0,usage_limit:null,valid_from:new Date,valid_until:null}),E(null)},V=async W=>{try{const{data:{user:G}}=await Se.auth.getUser();if(!G){Ft({title:"Error",description:"You must be logged in to create coupons"});return}const J={code:W.code.toUpperCase(),type:W.type,value:W.value,description:W.description||null,is_active:W.is_active,usage_limit:W.usage_limit||null,valid_from:W.valid_from.toISOString(),valid_until:W.valid_until?W.valid_until.toISOString():null,created_by:G.id};if(A){const{error:ie}=await Se.from("coupon_codes").update(J).eq("id",A.id);if(ie)throw ie;Jn("Coupon updated successfully")}else{const{error:ie}=await Se.from("coupon_codes").insert([J]);if(ie)throw ie;Jn("Coupon created successfully")}h(!1),$(),await T(),await M()}catch(G){Ft({title:"Error",description:G.message})}},K=W=>{E(W),L.reset({code:W.code,type:W.type,value:W.value,description:W.description||"",is_active:W.is_active,usage_limit:W.usage_limit,valid_from:new Date(W.valid_from),valid_until:W.valid_until?new Date(W.valid_until):null}),h(!0)},H=W=>{b(W),v(!0)},z=async()=>{if(w)try{const{error:W}=await Se.from("coupon_codes").delete().eq("id",w.id);if(W)throw W;Jn("Coupon deleted successfully"),v(!1);const G=w.id;b(null),I===G&&P(null),await T(),await M()}catch(W){Ft({title:"Error",description:W.message})}},Z=async W=>{try{const{count:G,error:J}=await Se.from("coupon_usage").select("*",{count:"exact",head:!0}).eq("coupon_id",W);if(J)throw J;return G||0}catch(G){return console.error("Error fetching usage count:",G),0}};return i?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx(Ea,{size:"lg",text:"Loading coupons..."})}):o.jsxs("div",{className:"container mx-auto p-6 space-y-6 max-w-7xl",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Deals & Referrals"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage discount and referral coupon codes"})]}),o.jsxs(Xs,{open:u,onOpenChange:W=>{h(W),W||$()},children:[o.jsx(PO,{asChild:!0,children:o.jsxs(Te,{children:[o.jsx(dl,{className:"h-4 w-4 mr-2"}),"Add Coupon"]})}),o.jsxs(Ss,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(Es,{children:[o.jsx(Cs,{children:A?"Edit Coupon":"Add New Coupon"}),o.jsx(Zs,{children:A?"Update coupon code details":"Create a new discount or referral coupon code"})]}),o.jsx(kc,{...L,children:o.jsxs("form",{onSubmit:L.handleSubmit(V),className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(dr,{control:L.control,name:"code",render:({field:W})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Coupon Code *"}),o.jsx(or,{children:o.jsx(Nt,{placeholder:"e.g., WELCOME15",...W,onChange:G=>W.onChange(G.target.value.toUpperCase())})}),o.jsx(_s,{children:"Uppercase letters, numbers, hyphens, and underscores only"}),o.jsx(pr,{})]})}),o.jsx(dr,{control:L.control,name:"type",render:({field:W})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Type *"}),o.jsxs(_n,{onValueChange:W.onChange,value:W.value,children:[o.jsx(or,{children:o.jsx(dn,{children:o.jsx(Sn,{placeholder:"Select type"})})}),o.jsxs(fn,{children:[o.jsx(bt,{value:"percentage",children:"Percentage Off"}),o.jsx(bt,{value:"money_off",children:"Money Off"})]})]}),o.jsx(pr,{})]})})]}),o.jsx(dr,{control:L.control,name:"value",render:({field:W})=>o.jsxs(sr,{children:[o.jsxs(ar,{children:[L.watch("type")==="percentage"?"Percentage (%)":"Amount ()"," *"]}),o.jsx(or,{children:o.jsx(Nt,{type:"number",step:L.watch("type")==="percentage"?"1":"0.01",placeholder:L.watch("type")==="percentage"?"e.g., 15":"e.g., 15.00",...W,onChange:G=>W.onChange(parseFloat(G.target.value)||0)})}),o.jsx(_s,{children:L.watch("type")==="percentage"?"Enter a value between 0 and 100":"Enter the discount amount in pounds"}),o.jsx(pr,{})]})}),o.jsx(dr,{control:L.control,name:"description",render:({field:W})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Description"}),o.jsx(or,{children:o.jsx(fg,{placeholder:"e.g., Welcome discount for new members",...W,value:W.value||""})}),o.jsx(_s,{children:"Optional description of the coupon"}),o.jsx(pr,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(dr,{control:L.control,name:"valid_from",render:({field:W})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Valid From *"}),o.jsx(or,{children:o.jsx(Nt,{type:"datetime-local",...W,value:W.value?at(new Date(W.value),"yyyy-MM-dd'T'HH:mm"):"",onChange:G=>W.onChange(new Date(G.target.value))})}),o.jsx(pr,{})]})}),o.jsx(dr,{control:L.control,name:"valid_until",render:({field:W})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Valid Until"}),o.jsx(or,{children:o.jsx(Nt,{type:"datetime-local",...W,value:W.value?at(new Date(W.value),"yyyy-MM-dd'T'HH:mm"):"",onChange:G=>W.onChange(G.target.value?new Date(G.target.value):null)})}),o.jsx(_s,{children:"Leave empty for no expiration"}),o.jsx(pr,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(dr,{control:L.control,name:"usage_limit",render:({field:W})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Usage Limit"}),o.jsx(or,{children:o.jsx(Nt,{type:"number",placeholder:"Unlimited",...W,value:W.value||"",onChange:G=>W.onChange(G.target.value?parseInt(G.target.value):null)})}),o.jsx(_s,{children:"Maximum number of times this coupon can be used (leave empty for unlimited)"}),o.jsx(pr,{})]})}),o.jsx(dr,{control:L.control,name:"is_active",render:({field:W})=>o.jsxs(sr,{className:"flex flex-col justify-end",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(or,{children:o.jsx(gc,{checked:W.value,onCheckedChange:W.onChange})}),o.jsx(ar,{children:"Active"})]}),o.jsx(_s,{children:"Inactive coupons cannot be used"}),o.jsx(pr,{})]})})]}),o.jsxs(wa,{children:[o.jsx(Te,{type:"button",variant:"outline",onClick:()=>h(!1),children:"Cancel"}),o.jsxs(Te,{type:"submit",children:[A?"Update":"Create"," Coupon"]})]})]})})]})]})]}),o.jsxs(Pg,{defaultValue:"coupons",className:"space-y-6",children:[o.jsxs(Th,{children:[o.jsx(Yi,{value:"coupons",children:"Coupon Codes"}),o.jsx(Yi,{value:"statistics",children:"Statistics"}),o.jsx(Yi,{value:"usage",children:"Usage History"})]}),o.jsx(Xi,{value:"coupons",children:o.jsxs(Xe,{children:[o.jsxs(Ot,{children:[o.jsx(Lt,{children:"Coupon Codes"}),o.jsx(mr,{children:"Manage all discount and referral coupon codes"})]}),o.jsx(Ze,{children:t.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:"No coupons found"}),o.jsxs(Te,{onClick:()=>h(!0),children:[o.jsx(dl,{className:"h-4 w-4 mr-2"}),"Create First Coupon"]})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Pc,{children:[o.jsx(Ic,{children:o.jsxs(Zi,{children:[o.jsx(Kt,{children:"Code"}),o.jsx(Kt,{children:"Type"}),o.jsx(Kt,{children:"Value"}),o.jsx(Kt,{children:"Usage"}),o.jsx(Kt,{children:"Status"}),o.jsx(Kt,{children:"Valid From"}),o.jsx(Kt,{children:"Valid Until"}),o.jsx(Kt,{className:"text-right",children:"Actions"})]})}),o.jsx(Rc,{children:t.map(W=>{const G=W.valid_until&&new Date(W.valid_until)<new Date,J=new Date(W.valid_from)>new Date,ie=W.usage_limit&&W.usage_count>=W.usage_limit;return o.jsxs(Zi,{className:I===W.id?"bg-muted/50":"",onClick:()=>{P(I===W.id?null:W.id)},children:[o.jsx(Ht,{className:"font-mono font-medium",children:W.code}),o.jsx(Ht,{children:o.jsxs(cr,{variant:W.type==="percentage"?"default":"secondary",children:[W.type==="percentage"?o.jsx(pY,{className:"w-3 h-3 mr-1"}):o.jsx(gY,{className:"w-3 h-3 mr-1"}),W.type==="percentage"?`${W.value}%`:`${W.value.toFixed(2)}`]})}),o.jsx(Ht,{children:W.type==="percentage"?`${W.value}% off`:`${W.value.toFixed(2)} off`}),o.jsxs(Ht,{children:[W.usage_count," / ",W.usage_limit||""]}),o.jsx(Ht,{children:W.is_active?G?o.jsx(cr,{variant:"destructive",children:"Expired"}):J?o.jsx(cr,{variant:"secondary",children:"Not Started"}):ie?o.jsx(cr,{variant:"destructive",children:"Limit Reached"}):o.jsx(cr,{className:"bg-green-500 hover:bg-green-600",children:"Active"}):o.jsx(cr,{variant:"destructive",children:"Inactive"})}),o.jsx(Ht,{children:at(new Date(W.valid_from),"MMM d, yyyy")}),o.jsx(Ht,{children:W.valid_until?at(new Date(W.valid_until),"MMM d, yyyy"):"No expiration"}),o.jsx(Ht,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(Te,{variant:"ghost",size:"icon",onClick:ne=>{ne.stopPropagation(),K(W)},children:o.jsx(wh,{className:"h-4 w-4"})}),o.jsx(Te,{variant:"ghost",size:"icon",onClick:ne=>{ne.stopPropagation(),H(W)},children:o.jsx(Tf,{className:"h-4 w-4 text-destructive"})})]})})]},W.id)})})]})})})]})}),o.jsx(Xi,{value:"statistics",children:o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-5 gap-6 mb-6",children:[o.jsx(Xe,{children:o.jsxs(Ze,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Coupons"}),o.jsx(fj,{className:"w-5 h-5 text-primary"})]}),o.jsx("div",{className:"text-2xl font-bold",children:C?.total_coupons||0}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"All coupon codes"})]})}),o.jsx(Xe,{children:o.jsxs(Ze,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Active"}),o.jsx(Sc,{className:"w-5 h-5 text-success"})]}),o.jsx("div",{className:"text-2xl font-bold",children:C?.active_coupons||0}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Currently active"})]})}),o.jsx(Xe,{children:o.jsxs(Ze,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Inactive"}),o.jsx(xh,{className:"w-5 h-5 text-destructive"})]}),o.jsx("div",{className:"text-2xl font-bold",children:C?.inactive_coupons||0}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Disabled coupons"})]})}),o.jsx(Xe,{children:o.jsxs(Ze,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Uses"}),o.jsx(kf,{className:"w-5 h-5 text-accent"})]}),o.jsx("div",{className:"text-2xl font-bold",children:C?.total_uses||0}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"All time uses"})]})}),o.jsx(Xe,{children:o.jsxs(Ze,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Unique Users"}),o.jsx(wl,{className:"w-5 h-5 text-primary"})]}),o.jsx("div",{className:"text-2xl font-bold",children:C?.unique_users||0}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Users who used coupons"})]})})]})}),o.jsx(Xi,{value:"usage",children:o.jsxs(Xe,{children:[o.jsxs(Ot,{children:[o.jsxs(Lt,{className:"flex items-center gap-2",children:[o.jsx(ei,{className:"w-5 h-5"}),"Usage History"]}),o.jsx(mr,{children:I?"Usage history for selected coupon":"View all coupon usage across all codes (click a coupon row to filter)"})]}),o.jsx(Ze,{children:a?o.jsx(Ea,{size:"md",text:"Loading usage history..."}):r.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-muted-foreground",children:I?"No usage found for this coupon":"No coupon usage found. Click a coupon row above to view its usage history."})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Pc,{children:[o.jsx(Ic,{children:o.jsxs(Zi,{children:[o.jsx(Kt,{children:"Coupon Code"}),o.jsx(Kt,{children:"User"}),o.jsx(Kt,{children:"Discount"}),o.jsx(Kt,{children:"Used At"}),o.jsx(Kt,{children:"Order ID"})]})}),o.jsx(Rc,{children:r.map(W=>o.jsxs(Zi,{children:[o.jsx(Ht,{className:"font-mono font-medium",children:W.coupon_codes?.code||"N/A"}),o.jsx(Ht,{children:W.profiles?.full_name||"Unknown User"}),o.jsx(Ht,{children:W.coupon_codes?.type==="percentage"?`${W.coupon_codes.value}% off`:`${W.coupon_codes?.value.toFixed(2)} off`}),o.jsx(Ht,{children:at(new Date(W.used_at),"MMM d, yyyy 'at' h:mm a")}),o.jsx(Ht,{children:W.order_id||"-"})]},W.id))})]})})})]})})]}),o.jsx(RO,{open:g,onOpenChange:v,children:o.jsxs(ux,{children:[o.jsxs(dx,{children:[o.jsx(hx,{children:"Delete Coupon"}),o.jsxs(px,{children:['Are you sure you want to delete coupon "',w?.code,'"? This action cannot be undone.']})]}),o.jsxs(fx,{children:[o.jsx(gx,{children:"Cancel"}),o.jsx(mx,{onClick:z,className:"bg-destructive hover:bg-destructive/90",children:"Delete"})]})]})})]})};function lje(){const[t,e]=j.useState(!0),[r,n]=j.useState(null),[i,s]=j.useState(null),[a,c]=j.useState(!1),{toast:u}=Bn(),h=ii();j.useEffect(()=>{v(),g()},[]);const g=async()=>{try{const{data:{session:P}}=await Se.auth.getSession();if(!P)return;const{data:L,error:T}=await Se.functions.invoke("check-subscription",{headers:{Authorization:`Bearer ${P.access_token}`}});T?console.error("Error checking subscription:",T):L?.has_subscription&&await v()}catch(P){console.error("Error checking subscription:",P)}};j.useEffect(()=>{const P=new URLSearchParams(window.location.search);P.get("success")==="true"?(u({title:"Payment Successful!",description:"Your membership has been activated."}),g(),window.history.replaceState({},"","/managememberships")):P.get("canceled")==="true"&&(u({variant:"destructive",title:"Payment Cancelled",description:"Your payment was cancelled. No charges were made."}),window.history.replaceState({},"","/managememberships"))},[]);const v=async()=>{try{const{data:{user:P}}=await Se.auth.getUser();if(!P){h("/login");return}const{data:L,error:T}=await Se.from("memberships").select("*").eq("price",150).single();if(T)throw T;if(s(L),L){const{data:D,error:M}=await Se.from("user_memberships").select("*").eq("user_id",P.id).eq("membership_id",L.id).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(M)throw M;n(D)}}catch(P){u({variant:"destructive",title:"Error loading membership data",description:P.message})}finally{e(!1)}},w=async()=>{c(!0);try{const{data:{session:P}}=await Se.auth.getSession();if(!P)throw new Error("Not authenticated");const{data:L,error:T}=await Se.functions.invoke("create-checkout",{headers:{Authorization:`Bearer ${P.access_token}`}});if(T)throw T;L?.url&&(window.location.href=L.url)}catch(P){u({variant:"destructive",title:"Payment Setup Failed",description:P.message})}finally{c(!1)}},b=async()=>{if(r){c(!0);try{const{data:{session:P}}=await Se.auth.getSession();if(!P)throw new Error("Not authenticated");let L=null,T=null,D=null;try{const M=await Se.functions.invoke("cancel-subscription",{headers:{Authorization:`Bearer ${P.access_token}`}});L=M.data,T=M.error}catch(M){if(console.error("Cancel subscription exception:",M),T=M,M.context instanceof Response)try{D=await M.context.clone().text(),console.log("Raw error response text:",D)}catch($){console.error("Could not read error response:",$)}}if(console.log("Cancel subscription response:",{data:L,error:T,hasData:!!L,hasError:!!T}),T){console.error("Cancel subscription error:",T),console.error("Error details:",{message:T.message,context:T.context,status:T.status,statusText:T.statusText,fullError:JSON.stringify(T,Object.getOwnPropertyNames(T))});let M="Failed to cancel membership";if(D)try{const $=JSON.parse(D);M=$.error||$.errorDetails?.error||$.message||M,console.log("Parsed error body from raw text:",$)}catch{M=D||M}else if(T.context instanceof Response)try{const V=await T.context.clone().text();if(console.log("Response body text:",V),V)try{const K=JSON.parse(V);M=K.error||K.errorDetails?.error||K.message||M,console.log("Parsed error body:",K)}catch{M=V||M}}catch($){console.error("Error reading response body:",$)}if(T.context?.body&&typeof T.context.body!="object")try{const $=typeof T.context.body=="string"?JSON.parse(T.context.body):T.context.body;M=$.error||$.errorDetails?.error||$.message||M}catch{M=T.context.body||M}throw T.context?.msg&&!M.includes("Failed to cancel")&&(M=T.context.msg),T.message&&T.message!=="Edge Function returned a non-2xx status code"&&T.message!=="Unknown error"&&(M=T.message),L?.error&&(M=L.error||L.errorDetails?.error||M),new Error(M)}if(L?.error)throw console.error("Cancel subscription response error:",L),new Error(L.error||L.message||"Failed to cancel membership");u({title:"Membership Cancelled",description:L?.message||"Your membership has been cancelled successfully."}),await v()}catch(P){console.error("Error cancelling membership:",P);const L=P?.message||P?.error||"An unexpected error occurred. Please try again or contact support.";u({variant:"destructive",title:"Cancellation failed",description:L})}finally{c(!1)}}},A=async()=>{c(!0);try{const{data:{session:P}}=await Se.auth.getSession();if(!P)throw new Error("Not authenticated");const{data:L,error:T}=await Se.functions.invoke("create-checkout",{headers:{Authorization:`Bearer ${P.access_token}`}});if(T)throw T;L?.url&&(window.location.href=L.url)}catch(P){u({variant:"destructive",title:"Renewal failed",description:P.message})}finally{c(!1)}};if(t)return o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx(Bi,{className:"h-8 w-8 animate-spin"})});const E=r?.status==="active"&&new Date(r.end_date)>new Date,C=r?.status==="active"&&new Date(r.end_date)>new Date&&r.membership_id===i?.id,R=r&&new Date(r.end_date)<=new Date,I=r?.status==="cancelled";return o.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Manage Membership"}),r&&o.jsxs(Xe,{className:"mb-6",children:[o.jsx(Ot,{children:o.jsx(Lt,{children:"Current Membership"})}),o.jsxs(Ze,{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground",children:"Status:"}),o.jsx(cr,{variant:E?"default":"secondary",children:E?"Active":R?"Expired":I?"Cancelled":r.status})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground",children:"Start Date:"}),o.jsx("span",{children:new Date(r.start_date).toLocaleDateString()})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground",children:"End Date:"}),o.jsx("span",{children:new Date(r.end_date).toLocaleDateString()})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground",children:"Payment Status:"}),o.jsx(cr,{variant:r.payment_status==="paid"?"default":"destructive",children:r.payment_status})]})]})]}),i&&o.jsxs(Xe,{children:[o.jsxs(Ot,{children:[o.jsx(Lt,{children:i.name}),o.jsxs(mr,{children:["",i.price," per month  ",i.access_level]})]}),o.jsxs(Ze,{className:"space-y-4",children:[o.jsxs("p",{className:"text-muted-foreground",children:["Duration: ",i.duration_days," days"]}),o.jsxs("div",{className:"flex gap-3 flex-wrap",children:[!C&&o.jsxs(Te,{onClick:w,disabled:a,children:[a&&o.jsx(Bi,{className:"mr-2 h-4 w-4 animate-spin"}),"Start Membership"]}),C&&o.jsxs(o.Fragment,{children:[o.jsxs(Te,{onClick:A,disabled:a,children:[a&&o.jsx(Bi,{className:"mr-2 h-4 w-4 animate-spin"}),"Start Membership"]}),o.jsxs(Te,{onClick:b,variant:"destructive",disabled:a,children:[a&&o.jsx(Bi,{className:"mr-2 h-4 w-4 animate-spin"}),"Cancel Membership"]})]}),r&&r.membership_id===i?.id&&(R||I)&&!C&&o.jsxs(Te,{onClick:A,disabled:a,children:[a&&o.jsx(Bi,{className:"mr-2 h-4 w-4 animate-spin"}),"Reactivate Membership"]})]})]})]})]})}const cje=To({full_name:Gr().min(1,"Full name is required").max(100,"Name is too long"),phone:Gr().optional().or(_u("")),address:Gr().optional().or(_u("")),date_of_birth:Gr().optional().or(_u("")),emergency_contact:Gr().optional().or(_u("")),emergency_contact_phone:Gr().optional().or(_u("")),health_notes:Gr().optional().or(_u(""))}),uje=()=>{const{user:t}=Oo(),e=ii();Bn();const[r,n]=j.useState(!0),[i,s]=j.useState(!1),[a,c]=j.useState(!1),[u,h]=j.useState(null),[g,v]=j.useState([]),[w,b]=j.useState([]),[A,E]=j.useState(!1),C=Ac({resolver:Nc(cje),defaultValues:{full_name:"",phone:"",address:"",date_of_birth:"",emergency_contact:"",emergency_contact_phone:"",health_notes:""}});j.useEffect(()=>{t&&R()},[t]);const R=async()=>{try{if(n(!0),!t){e("/login");return}const{data:T,error:D}=await Se.from("profiles").select("*").eq("id",t.id).single();if(D)throw D;h(T),T&&C.reset({full_name:T.full_name||"",phone:T.phone||"",address:T.address||"",date_of_birth:T.date_of_birth||"",emergency_contact:T.emergency_contact||"",emergency_contact_phone:T.emergency_contact_phone||"",health_notes:T.health_notes||""});const{data:M,error:$}=await Se.from("user_memberships").select("*, memberships(name, price)").eq("user_id",t.id).order("created_at",{ascending:!1});if($)throw $;v(M||[]);const{data:V,error:K}=await Se.from("class_bookings").select("*, class_sessions(id, name, instructor, start_time, end_time)").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(50);if(K)throw K;b(V||[])}catch(T){console.error("Error fetching profile data:",T),Ft({title:"Error loading profile",description:T.message})}finally{n(!1)}},I=async T=>{try{if(s(!0),!t)return;const D={full_name:Su(T.full_name),phone:T.phone?Su(T.phone):null,address:T.address?Su(T.address):null,date_of_birth:T.date_of_birth||null,emergency_contact:T.emergency_contact?Su(T.emergency_contact):null,emergency_contact_phone:T.emergency_contact_phone?Su(T.emergency_contact_phone):null,health_notes:T.health_notes?Su(T.health_notes):null},{error:M}=await Se.from("profiles").update(D).eq("id",t.id);if(M)throw M;Jn("Profile updated successfully!"),E(!1),await R()}catch(D){console.error("Error updating profile:",D),Ft({title:"Error updating profile",description:D.message})}finally{s(!1)}},P=async T=>{try{const D=T.target.files?.[0];if(!D||!t)return;if(!D.type.startsWith("image/")){Ft({title:"Invalid file type",description:"Please upload an image file."});return}if(D.size>5*1024*1024){Ft({title:"File too large",description:"Please upload an image smaller than 5MB."});return}c(!0);const M=D.name.split(".").pop(),V=`avatars/${`${t.id}-${Date.now()}.${M}`}`,{error:K}=await Se.storage.from("avatars").upload(V,D,{cacheControl:"3600",upsert:!0});if(K)throw K;const{data:{publicUrl:H}}=Se.storage.from("avatars").getPublicUrl(V),{error:z}=await Se.from("profiles").update({avatar_url:H}).eq("id",t.id);if(z)throw z;Jn("Profile picture updated successfully!"),await R()}catch(D){console.error("Error uploading avatar:",D),Ft({title:"Error uploading picture",description:D.message})}finally{c(!1),T.target.value=""}},L=T=>T?T.split(" ").map(D=>D[0]).join("").toUpperCase().slice(0,2):"U";return r?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx(Ea,{size:"lg",text:"Loading profile..."})}):o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"container mx-auto max-w-4xl",children:[o.jsx("h1",{className:"text-3xl font-bold mb-8",children:"My Profile"}),o.jsxs(Pg,{defaultValue:"profile",className:"space-y-6",children:[o.jsxs(Th,{children:[o.jsx(Yi,{value:"profile",children:"Profile"}),o.jsx(Yi,{value:"memberships",children:"Membership History"}),o.jsx(Yi,{value:"bookings",children:"Booking History"})]}),o.jsx(Xi,{value:"profile",children:o.jsxs(Xe,{children:[o.jsx(Ot,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Lt,{children:"Profile Information"}),o.jsx(mr,{children:"Manage your personal information"})]}),!A&&o.jsxs(Te,{onClick:()=>E(!0),variant:"outline",size:"sm",children:[o.jsx(wh,{className:"w-4 h-4 mr-2"}),"Edit"]})]})}),o.jsxs(Ze,{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs(Ij,{className:"w-24 h-24",children:[o.jsx(Rj,{src:u?.avatar_url,alt:u?.full_name||"User"}),o.jsx(Mj,{className:"text-2xl",children:L(u?.full_name)})]}),o.jsxs("div",{children:[o.jsx(Qt,{htmlFor:"avatar-upload",className:"cursor-pointer",children:o.jsx(Te,{variant:"outline",size:"sm",asChild:!0,disabled:a,children:o.jsxs("span",{children:[o.jsx(_Y,{className:"w-4 h-4 mr-2"}),a?"Uploading...":"Upload Photo"]})})}),o.jsx(Nt,{id:"avatar-upload",type:"file",accept:"image/*",className:"hidden",onChange:P,disabled:a}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"JPG, PNG or GIF. Max size 5MB"})]})]}),A?o.jsx(kc,{...C,children:o.jsxs("form",{onSubmit:C.handleSubmit(I),className:"space-y-4",children:[o.jsx(dr,{control:C.control,name:"full_name",render:({field:T})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Full Name"}),o.jsx(or,{children:o.jsx(Nt,{...T})}),o.jsx(pr,{})]})}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsx(dr,{control:C.control,name:"phone",render:({field:T})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Phone"}),o.jsx(or,{children:o.jsx(Nt,{type:"tel",...T})}),o.jsx(pr,{})]})}),o.jsx(dr,{control:C.control,name:"date_of_birth",render:({field:T})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Date of Birth"}),o.jsx(or,{children:o.jsx(Nt,{type:"date",...T})}),o.jsx(pr,{})]})})]}),o.jsx(dr,{control:C.control,name:"address",render:({field:T})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Address"}),o.jsx(or,{children:o.jsx(fg,{...T,rows:2})}),o.jsx(pr,{})]})}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsx(dr,{control:C.control,name:"emergency_contact",render:({field:T})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Emergency Contact Name"}),o.jsx(or,{children:o.jsx(Nt,{...T})}),o.jsx(pr,{})]})}),o.jsx(dr,{control:C.control,name:"emergency_contact_phone",render:({field:T})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Emergency Contact Phone"}),o.jsx(or,{children:o.jsx(Nt,{type:"tel",...T})}),o.jsx(pr,{})]})})]}),o.jsx(dr,{control:C.control,name:"health_notes",render:({field:T})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Health Notes"}),o.jsx(or,{children:o.jsx(fg,{...T,rows:4,placeholder:"Any health conditions or notes..."})}),o.jsx(_s,{children:"This information is kept confidential and only used for your safety."}),o.jsx(pr,{})]})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Te,{type:"submit",disabled:i,children:[o.jsx(HC,{className:"w-4 h-4 mr-2"}),i?"Saving...":"Save Changes"]}),o.jsxs(Te,{type:"button",variant:"outline",onClick:()=>{E(!1),C.reset()},children:[o.jsx(pg,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})}):o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Qt,{className:"text-muted-foreground",children:"Email"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Yv,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("p",{className:"font-medium",children:t?.email})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Qt,{className:"text-muted-foreground",children:"Full Name"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(bf,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("p",{className:"font-medium",children:u?.full_name||"Not set"})]})]}),u?.phone&&o.jsxs("div",{className:"space-y-1",children:[o.jsx(Qt,{className:"text-muted-foreground",children:"Phone"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(mY,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("p",{className:"font-medium",children:u.phone})]})]}),u?.date_of_birth&&o.jsxs("div",{className:"space-y-1",children:[o.jsx(Qt,{className:"text-muted-foreground",children:"Date of Birth"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ei,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("p",{className:"font-medium",children:at(new Date(u.date_of_birth),"MMM d, yyyy")})]})]}),u?.address&&o.jsxs("div",{className:"space-y-1 md:col-span-2",children:[o.jsx(Qt,{className:"text-muted-foreground",children:"Address"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(FB,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("p",{className:"font-medium",children:u.address})]})]}),u?.emergency_contact&&o.jsxs("div",{className:"space-y-1",children:[o.jsx(Qt,{className:"text-muted-foreground",children:"Emergency Contact"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(wl,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("p",{className:"font-medium",children:u.emergency_contact}),u.emergency_contact_phone&&o.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",u.emergency_contact_phone,")"]})]})]}),u?.health_notes&&o.jsxs("div",{className:"space-y-1 md:col-span-2",children:[o.jsx(Qt,{className:"text-muted-foreground",children:"Health Notes"}),o.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:u.health_notes})]})]})})]})]})}),o.jsx(Xi,{value:"memberships",children:o.jsxs(Xe,{children:[o.jsxs(Ot,{children:[o.jsxs(Lt,{className:"flex items-center gap-2",children:[o.jsx(qC,{className:"w-5 h-5"}),"Membership History"]}),o.jsx(mr,{children:"View your membership subscription history"})]}),o.jsx(Ze,{children:g.length>0?o.jsx("div",{className:"space-y-4",children:g.map(T=>{const D=T.status==="active"&&T.payment_status==="paid"&&new Date(T.end_date)>new Date,M=new Date(T.end_date)<new Date;return o.jsx("div",{className:"p-4 rounded-lg border bg-muted/30 flex items-start justify-between",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h3",{className:"font-medium",children:T.memberships?.name||"Membership"}),o.jsx(cr,{variant:D?"default":M?"destructive":"secondary",children:D?o.jsxs(o.Fragment,{children:[o.jsx(Sc,{className:"w-3 h-3 mr-1"})," Active"]}):M?o.jsxs(o.Fragment,{children:[o.jsx(xh,{className:"w-3 h-3 mr-1"})," Expired"]}):o.jsxs(o.Fragment,{children:[o.jsx(ul,{className:"w-3 h-3 mr-1"})," ",T.status]})})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-2 text-sm text-muted-foreground",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Start:"})," ",at(new Date(T.start_date),"MMM d, yyyy")]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"End:"})," ",at(new Date(T.end_date),"MMM d, yyyy")]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Price:"})," ",T.memberships?.price?.toFixed(2)||"N/A"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Payment:"})," ",T.payment_status]})]})]})},T.id)})}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:"No membership history"}),o.jsx(Te,{onClick:()=>e("/managememberships"),variant:"outline",children:"View Membership Plans"})]})})]})}),o.jsx(Xi,{value:"bookings",children:o.jsxs(Xe,{children:[o.jsxs(Ot,{children:[o.jsxs(Lt,{className:"flex items-center gap-2",children:[o.jsx(RB,{className:"w-5 h-5"}),"Booking History"]}),o.jsx(mr,{children:"View your class booking history"})]}),o.jsx(Ze,{children:w.length>0?o.jsx("div",{className:"space-y-3",children:w.map(T=>o.jsx("div",{className:"p-4 rounded-lg border bg-muted/30 flex items-start justify-between",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h3",{className:"font-medium",children:T.class_sessions?.name||"Class"}),o.jsx(cr,{variant:T.status==="attended"?"default":T.status==="cancelled"?"destructive":T.status==="booked"?"secondary":"outline",children:T.status})]}),T.class_sessions&&o.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Instructor:"})," ",T.class_sessions.instructor]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Date:"})," ",at(new Date(T.class_sessions.start_time),"MMM d, yyyy 'at' h:mm a")]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Booked:"})," ",at(new Date(T.created_at),"MMM d, yyyy")]})]})]})},T.id))}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:"No booking history"}),o.jsx(Te,{onClick:()=>e("/classes"),variant:"outline",children:"Browse Classes"})]})})]})})]})]})})},cf=15,uf=15,dje=()=>{const{user:t,loading:e}=Oo(),{toast:r}=Bn(),[n,i]=j.useState(!0),[s,a]=j.useState(0),[c,u]=j.useState(0),[h,g]=j.useState([]),[v,w]=j.useState([]),[b,A]=j.useState(null),E=async()=>{try{if(i(!0),!t){i(!1);return}const{data:P,error:L}=await Se.from("reward_claims").select("claimed_at").eq("user_id",t.id).order("claimed_at",{ascending:!1}).limit(1).maybeSingle();if(L)throw L;A(P?.claimed_at||null);const T=Se.from("check_ins").select("id, check_in_time, check_out_time").eq("user_id",t.id).order("check_in_time",{ascending:!1});P?.claimed_at&&T.gt("check_in_time",P.claimed_at);const{data:D,error:M}=await T;if(M)throw M;g(D||[]);let $=0;(D||[]).forEach(z=>{if(z.check_out_time){const Z=new Date(z.check_in_time).getTime(),J=(new Date(z.check_out_time).getTime()-Z)/(1e3*60*60);$+=J}}),a(Math.round($*10)/10);const V=Se.from("class_bookings").select("id, status").eq("user_id",t.id).eq("status","attended");P?.claimed_at&&V.gt("created_at",P.claimed_at);const{data:K,error:H}=await V;if(H)throw H;w(K||[]),u(K?.length||0)}catch(P){console.error("Rewards load error:",P),r({variant:"destructive",title:"Error loading rewards",description:P.message})}finally{i(!1)}};j.useEffect(()=>{!e&&t?E():!e&&!t&&i(!1)},[t,e]);const C=Math.min(s/cf*100,100),R=Math.min(c/uf*100,100),I=s>=cf&&c>=uf;return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx(Ea,{size:"lg",text:"Loading rewards..."})}):o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"container mx-auto max-w-4xl",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[o.jsx(gj,{className:"w-8 h-8 text-primary"}),o.jsx("h1",{className:"text-3xl font-bold",children:"Rewards"})]}),o.jsxs(Xe,{className:"mb-6",children:[o.jsxs(Ot,{children:[o.jsx(Lt,{children:"Your Progress"}),o.jsx(mr,{children:"Track your gym hours and classes to unlock rewards"})]}),o.jsxs(Ze,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ul,{className:"w-5 h-5 text-primary"}),o.jsx("span",{className:"font-medium",children:"Hours in Gym"})]}),o.jsxs("span",{className:"text-lg font-semibold",children:[s.toFixed(1),"/",cf]})]}),o.jsx(jm,{value:C,className:"h-3"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:s>=cf?" Goal reached!":`${(cf-s).toFixed(1)} hours remaining`})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(mo,{className:"w-5 h-5 text-secondary"}),o.jsx("span",{className:"font-medium",children:"Classes"})]}),o.jsxs("span",{className:"text-lg font-semibold",children:[c,"/",uf]})]}),o.jsx(jm,{value:R,className:"h-3"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:c>=uf?" Goal reached!":`${uf-c} classes remaining`})]})]})]}),I&&t&&o.jsxs(Xe,{className:"mb-6 border-primary",children:[o.jsxs(Ot,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(P1,{className:"w-5 h-5 text-primary"}),o.jsx(Lt,{children:"Congratulations! "})]}),o.jsx(mr,{children:"You've reached both goals! Scan this QR code to claim your reward."})]}),o.jsx(Ze,{children:o.jsx(fje,{userId:t.id})})]}),o.jsxs(Xe,{children:[o.jsx(Ot,{children:o.jsx(Lt,{children:"How It Works"})}),o.jsxs(Ze,{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsx("p",{children:" Track your gym hours by checking in and out properly"}),o.jsx("p",{children:" Attend classes to count towards your class goal"}),o.jsxs("p",{children:[" Reach ",cf," hours and ",uf," classes to unlock your reward"]}),o.jsx("p",{children:" Your reward QR code refreshes every 5 minutes for security"})]})]})]})})},fje=({userId:t})=>{const[e,r]=j.useState(`reward-${Math.floor(Date.now()/3e5)}`);return j.useEffect(()=>{const n=setInterval(()=>{const i=`reward-${Math.floor(Date.now()/3e5)}`;r(i)},3e5);return()=>clearInterval(n)},[]),o.jsx(bO,{userId:t,action:"reward",sessionId:e,title:"Reward QR Code",description:"This code refreshes every 5 minutes for security",size:250,showDownload:!0,showRefresh:!0})},hje=To({currentPassword:Gr().min(1,"Current password is required"),newPassword:vO,confirmPassword:Gr().min(1,"Please confirm your password")}).refine(t=>t.newPassword===t.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}).refine(t=>t.currentPassword!==t.newPassword,{message:"New password must be different from current password",path:["newPassword"]}),pje=()=>{const{user:t,logout:e}=Oo(),r=ii(),{toast:n}=Bn(),[i,s]=j.useState(!1),[a,c]=j.useState(!1),[u,h]=j.useState(!1),[g,v]=j.useState(!1),[w,b]=j.useState(!1),[A,E]=j.useState(!1),[C,R]=j.useState(!0),[I,P]=j.useState(!1),[L,T]=j.useState(!0),D=Ac({resolver:Nc(hje),defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),M=async H=>{try{if(s(!0),!t?.email)throw new Error("User email not found");const{error:z}=await Se.auth.signInWithPassword({email:t.email,password:H.currentPassword});if(z)throw new Error("Current password is incorrect");const{error:Z}=await Se.auth.updateUser({password:H.newPassword});if(Z)throw Z;Jn("Password changed successfully!"),D.reset()}catch(z){console.error("Error changing password:",z),Ft({title:"Failed to change password",description:z.message||"An error occurred while changing your password"})}finally{s(!1)}},$=async()=>{E(!0),setTimeout(()=>{b(!w),E(!1),n({title:"2FA Coming Soon",description:"Two-factor authentication will be available in a future update.",variant:"default"})},500)},V=async()=>{try{Jn("Email preferences updated successfully!")}catch(H){Ft({title:"Failed to update preferences",description:H.message})}},K=async()=>{try{await e(),r("/login")}catch(H){Ft({title:"Logout failed",description:H.message})}};return t?o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"container mx-auto max-w-4xl",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage your account settings and preferences"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Xe,{children:[o.jsxs(Ot,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(LB,{className:"w-5 h-5 text-primary"}),o.jsx(Lt,{children:"Change Password"})]}),o.jsx(mr,{children:"Update your password to keep your account secure"})]}),o.jsx(Ze,{children:o.jsx(kc,{...D,children:o.jsxs("form",{onSubmit:D.handleSubmit(M),className:"space-y-4",children:[o.jsx(dr,{control:D.control,name:"currentPassword",render:({field:H})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Current Password"}),o.jsx(or,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Nt,{type:a?"text":"password",...H,placeholder:"Enter your current password"}),o.jsx(Te,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>c(!a),children:a?o.jsx(kb,{className:"h-4 w-4"}):o.jsx(Pb,{className:"h-4 w-4"})})]})}),o.jsx(pr,{})]})}),o.jsx(dr,{control:D.control,name:"newPassword",render:({field:H})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"New Password"}),o.jsx(or,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Nt,{type:u?"text":"password",...H,placeholder:"Enter your new password"}),o.jsx(Te,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>h(!u),children:u?o.jsx(kb,{className:"h-4 w-4"}):o.jsx(Pb,{className:"h-4 w-4"})})]})}),o.jsx(_s,{children:"Must be at least 8 characters with uppercase, lowercase, and a number"}),o.jsx(pr,{})]})}),o.jsx(dr,{control:D.control,name:"confirmPassword",render:({field:H})=>o.jsxs(sr,{children:[o.jsx(ar,{children:"Confirm New Password"}),o.jsx(or,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Nt,{type:g?"text":"password",...H,placeholder:"Confirm your new password"}),o.jsx(Te,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>v(!g),children:g?o.jsx(kb,{className:"h-4 w-4"}):o.jsx(Pb,{className:"h-4 w-4"})})]})}),o.jsx(pr,{})]})}),o.jsx(Te,{type:"submit",disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx(Bi,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(HC,{className:"mr-2 h-4 w-4"}),"Update Password"]})})]})})})]}),o.jsxs(Xe,{children:[o.jsxs(Ot,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($B,{className:"w-5 h-5 text-primary"}),o.jsx(Lt,{children:"Two-Factor Authentication"})]}),o.jsx(mr,{children:"Add an extra layer of security to your account"})]}),o.jsxs(Ze,{children:[o.jsxs(Yu,{className:"mb-4",children:[o.jsx(cl,{className:"h-4 w-4"}),o.jsx(Xu,{children:"Two-factor authentication is coming soon. This feature will be available in a future update."})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(Qt,{htmlFor:"2fa",children:"Enable 2FA"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Require a verification code in addition to your password"})]}),o.jsx(gc,{id:"2fa",checked:w,onCheckedChange:$,disabled:A})]})]})]}),o.jsxs(Xe,{children:[o.jsxs(Ot,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Yv,{className:"w-5 h-5 text-primary"}),o.jsx(Lt,{children:"Email Preferences"})]}),o.jsx(mr,{children:"Manage how and when you receive emails from us"})]}),o.jsxs(Ze,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(Qt,{htmlFor:"notifications",children:"Email Notifications"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive important account and security updates"})]}),o.jsx(gc,{id:"notifications",checked:C,onCheckedChange:R})]}),o.jsx($u,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(Qt,{htmlFor:"reminders",children:"Booking Reminders"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Get reminders about upcoming classes and bookings"})]}),o.jsx(gc,{id:"reminders",checked:L,onCheckedChange:T})]}),o.jsx($u,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(Qt,{htmlFor:"marketing",children:"Marketing Emails"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive updates about new features and promotions"})]}),o.jsx(gc,{id:"marketing",checked:I,onCheckedChange:P})]}),o.jsxs(Te,{onClick:V,className:"mt-4",children:[o.jsx(HC,{className:"mr-2 h-4 w-4"}),"Save Preferences"]})]})]}),o.jsxs(Xe,{children:[o.jsxs(Ot,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(iY,{className:"w-5 h-5 text-primary"}),o.jsx(Lt,{children:"Account Settings"})]}),o.jsx(mr,{children:"Manage your account information and preferences"})]}),o.jsxs(Ze,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Qt,{children:"Email Address"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Nt,{value:t.email||"",disabled:!0,className:"flex-1"}),o.jsx(Te,{variant:"outline",size:"sm",disabled:!0,children:"Change"})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"To change your email, please contact support"})]}),o.jsx($u,{}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Qt,{children:"Account Created"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:t.created_at?new Date(t.created_at).toLocaleDateString():"N/A"})]})]})]}),o.jsxs(Xe,{className:"border-destructive",children:[o.jsxs(Ot,{children:[o.jsx(Lt,{className:"text-destructive",children:"Danger Zone"}),o.jsx(mr,{children:"Irreversible and destructive actions"})]}),o.jsx(Ze,{children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(Qt,{children:"Sign Out"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign out of your account on this device"})]}),o.jsxs(Te,{variant:"destructive",onClick:K,children:[o.jsx(pj,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})})})]})]})]})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx(Ea,{size:"lg",text:"Loading settings..."})})},mje=async(t,e="free_drink")=>{try{const{data:{user:r},error:n}=await Se.auth.getUser();if(n||!r)return{success:!1,error:"User not authenticated"};if(t.action!=="reward")return{success:!1,error:"Invalid QR code type. This QR code is not for rewards."};if(t.userId!==r.id)return{success:!1,error:"This QR code does not belong to you."};const{data:i,error:s}=await Se.rpc("claim_reward",{_user_id:r.id,_qr_timestamp:t.timestamp,_qr_session_id:t.sessionId||"",_reward_type:e});return s?{success:!1,error:s.message||"Failed to claim reward"}:i&&i.success?{success:!0,message:i.message||"Reward claimed successfully!",claimed_at:i.claimed_at}:{success:!1,error:i?.error||"Failed to claim reward"}}catch(r){return console.error("Error claiming reward:",r),{success:!1,error:r.message||"An unexpected error occurred"}}},gje=()=>{const[t,e]=j.useState(!1),[r,n]=j.useState(!1),[i,s]=j.useState(null),{toast:a}=Bn(),c=async u=>{if(!xy(u)){a({variant:"destructive",title:"QR Code Expired",description:"This QR code has expired. Please ask the member to generate a new one."}),e(!1);return}if(u.action!=="reward"){a({variant:"destructive",title:"Invalid QR Code",description:"This QR code is not for rewards."}),e(!1);return}n(!0),s(null);try{const h=await mje(u,"free_drink");h.success?(s({success:!0,message:h.message||"Reward claimed successfully!"}),a({variant:"default",title:"Success!",description:"Free drink reward has been claimed."})):(s({success:!1,message:h.error||"Failed to claim reward"}),a({variant:"destructive",title:"Claim Failed",description:h.error||"Failed to claim reward"}))}catch(h){s({success:!1,message:h.message||"An error occurred"}),a({variant:"destructive",title:"Error",description:h.message||"An error occurred"})}finally{n(!1),e(!1)}};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsx("div",{className:"container mx-auto max-w-2xl",children:o.jsxs(Xe,{children:[o.jsx(Ot,{children:o.jsxs(Lt,{className:"flex items-center gap-2",children:[o.jsx(P1,{className:"w-5 h-5"}),"Claim Reward"]})}),o.jsx(Ze,{className:"space-y-4",children:t?o.jsxs("div",{className:"space-y-4",children:[o.jsx(ZV,{onScan:c,onError:u=>{a({variant:"destructive",title:"Scan Error",description:u}),e(!1)}}),o.jsx(Te,{onClick:()=>e(!1),variant:"outline",className:"w-full",children:"Cancel"})]}):o.jsxs(o.Fragment,{children:[o.jsx(Te,{onClick:()=>e(!0),className:"w-full",size:"lg",disabled:r,children:r?"Processing...":"Scan QR Code"}),i&&o.jsxs("div",{className:`p-4 rounded-lg flex items-center gap-2 ${i.success?"bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800"}`,children:[i.success?o.jsx(Sc,{className:"w-5 h-5 text-green-600 dark:text-green-400"}):o.jsx(xh,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),o.jsx("p",{className:i.success?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200",children:i.message})]})]})})]})})})},vje=()=>o.jsx(Qo,{children:o.jsx(gje,{})}),yje=()=>{const t=ii(),[e,r]=j.useState(null),[n,i]=j.useState("Verifying your account..."),s=async(a,c)=>{try{i("Setting up your profile...");const{data:u}=await Se.from("profiles").select("id").eq("id",a).single();if(!u){const g=c?.full_name||c?.name||`${c?.given_name||""} ${c?.family_name||""}`.trim()||"",v=c?.avatar_url||c?.picture||null,{error:w}=await Se.from("profiles").insert({id:a,full_name:g,avatar_url:v});w&&w.code!=="23505"?console.error("Error creating profile for OAuth user:",w):console.log("Profile created for OAuth user:",a)}const{data:h}=await Se.from("user_roles").select("id").eq("user_id",a).eq("role","member").single();if(!h){const{error:g}=await Se.from("user_roles").insert({user_id:a,role:"member"});g&&g.code!=="23505"?console.error("Error creating role for OAuth user:",g):console.log("Member role assigned to OAuth user:",a)}}catch(u){console.error("Error ensuring profile and role for OAuth user:",u)}};return j.useEffect(()=>{(async()=>{try{i("Verifying your account...");const{data:{session:c}}=await Se.auth.getSession();if(c){console.log("AuthCallback: Existing session found for user:",c.user?.id),c.user&&await s(c.user.id,c.user.user_metadata),window.location.hash&&window.history.replaceState(null,"",window.location.pathname),t("/dashboard",{replace:!0});return}const u=new URLSearchParams(window.location.hash.substring(1)),h=u.get("access_token"),g=u.get("refresh_token"),v=u.get("type");if(console.log("AuthCallback: Processing tokens, type:",v),h&&g){i("Establishing your session..."),console.log("AuthCallback: Setting session with tokens");const{data:w,error:b}=await Se.auth.setSession({access_token:h,refresh_token:g});if(b){console.error("Session set error:",b),r(b.message);return}if(w.session){console.log("Auth callback successful, session established for user:",w.session.user?.id),w.session.user&&await s(w.session.user.id,w.session.user.user_metadata),window.history.replaceState(null,"",window.location.pathname),v==="recovery"?t("/reset-password",{replace:!0}):t("/dashboard",{replace:!0});return}}console.log("AuthCallback: No session and no tokens, redirecting to login"),t("/login",{replace:!0})}catch(c){console.error("Auth callback error:",c),r(c.message||"An error occurred during authentication")}})()},[t]),e?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"text-destructive text-lg font-semibold",children:"Authentication Error"}),o.jsx("p",{className:"text-muted-foreground",children:e}),o.jsx("button",{onClick:()=>t("/login"),className:"text-secondary hover:underline",children:"Return to Login"})]})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx(Bi,{className:"w-8 h-8 animate-spin mx-auto text-primary"}),o.jsx("p",{className:"text-muted-foreground",children:n})]})})},xje=()=>{const t=jo(),e=ii();return j.useEffect(()=>{const r=aO();if((t.pathname==="/mars-space-gym-buddy/"||t.pathname.startsWith("/mars-space-gym-buddy/"))&&r===""&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.includes("localhost"))){const n=t.pathname.replace("/mars-space-gym-buddy","")||"/";e(n,{replace:!0});return}},[t.pathname,e]),o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted p-4",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("h1",{className:"text-6xl font-bold",children:"404"}),o.jsx("p",{className:"text-xl text-muted-foreground",children:"Oops! Page not found"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["The route ",o.jsx("code",{className:"bg-muted px-2 py-1 rounded",children:t.pathname})," does not exist."]}),o.jsxs("div",{className:"flex gap-4 justify-center",children:[o.jsx(Te,{onClick:()=>e("/"),variant:"default",children:"Return to Home"}),o.jsx(Te,{onClick:()=>e(-1),variant:"outline",children:"Go Back"})]})]})})},wje=new KQ,bje=()=>{const t=ii(),e=jo();return j.useEffect(()=>{const r=sessionStorage.getItem("redirectPath");r&&e.pathname==="/"&&(sessionStorage.removeItem("redirectPath"),t(r,{replace:!0}))},[t,e.pathname]),null},_je=()=>{const t=aO()||void 0;return o.jsx(Rse,{children:o.jsx(XQ,{client:wje,children:o.jsxs(j7,{children:[o.jsx(aX,{}),o.jsx(BX,{}),o.jsxs(WJ,{basename:t,children:[o.jsx(bje,{}),o.jsx(jse,{children:o.jsxs($J,{children:[o.jsx(wn,{path:"/",element:o.jsx(Mse,{})}),o.jsx(wn,{path:"/login",element:o.jsx(Uae,{})}),o.jsx(wn,{path:"/register",element:o.jsx($ae,{})}),o.jsx(wn,{path:"/forgot-password",element:o.jsx(Vae,{})}),o.jsx(wn,{path:"/reset-password",element:o.jsx(noe,{})}),o.jsx(wn,{path:"/auth/callback",element:o.jsx(yje,{})}),o.jsx(wn,{path:"/verify-email",element:o.jsx(Ko,{requireEmailVerification:!1,children:o.jsx(RU,{})})}),o.jsx(wn,{path:"/dashboard",element:o.jsx(Ko,{children:o.jsx(hce,{})})}),o.jsx(wn,{path:"/classes",element:o.jsx(Ko,{children:o.jsx(Xce,{})})}),o.jsx(wn,{path:"/bookings",element:o.jsx(Ko,{children:o.jsx(yue,{})})}),o.jsx(wn,{path:"/managememberships",element:o.jsx(Ko,{children:o.jsx(lje,{})})}),o.jsx(wn,{path:"/profile",element:o.jsx(Ko,{children:o.jsx(uje,{})})}),o.jsx(wn,{path:"/qr/entry-exit",element:o.jsx(Ko,{children:o.jsx(Xue,{})})}),o.jsx(wn,{path:"/rewards",element:o.jsx(Ko,{children:o.jsx(dje,{})})}),o.jsx(wn,{path:"/settings",element:o.jsx(Ko,{children:o.jsx(pje,{})})}),o.jsx(wn,{path:"/admin",element:o.jsx(Qo,{children:o.jsx(Zue,{})})}),o.jsx(wn,{path:"/admin/users",element:o.jsx(Qo,{children:o.jsx(ide,{})})}),o.jsx(wn,{path:"/admin/analytics",element:o.jsx(Qo,{children:o.jsx(VNe,{})})}),o.jsx(wn,{path:"/admin/manageclasses",element:o.jsx(Qo,{children:o.jsx(QNe,{})})}),o.jsx(wn,{path:"/admin/memberships",element:o.jsx(Qo,{children:o.jsx(eje,{})})}),o.jsx(wn,{path:"/admin/usermemberships",element:o.jsx(Qo,{children:o.jsx(tje,{})})}),o.jsx(wn,{path:"/admin/reward-claim",element:o.jsx(Qo,{children:o.jsx(vje,{})})}),o.jsx(wn,{path:"/admin/managedeals",element:o.jsx(Qo,{children:o.jsx(oje,{})})}),o.jsx(wn,{path:"*",element:o.jsx(xje,{})})]})})]})]})})})};rK.createRoot(document.getElementById("root")).render(o.jsx(_je,{}));
